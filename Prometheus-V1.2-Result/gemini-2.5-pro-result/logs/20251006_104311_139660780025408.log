2025-10-06 10:43:11,717 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpxovwky7q/matplotlib
2025-10-06 10:43:11,717 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-06 10:43:11,717 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.matplotlib_1776_matplotlib-24870:v1
2025-10-06 10:44:55,721 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_d7fd61a1ef
2025-10-06 10:44:55,726 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_d7fd61a1ef
2025-10-06 10:45:04,922 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-06 10:45:05,064 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-06 10:45:05,064 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-06 10:45:05,187 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:45:05,187 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 10:45:05,187 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-06 10:45:05,313 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:45:05,313 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 10:45:05,313 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-06 10:45:46,784 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:45:46,784 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | / - \ done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- \ | done
[?25h  Preparing editable metadata (pyproject.toml) ... [?25l- \ done
[?25hRequirement already satisfied: contourpy>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (1.1.0)
Requirement already satisfied: cycler>=0.10 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (0.11.0)
Requirement already satisfied: fonttools>=4.22.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (4.42.1)
Requirement already satisfied: kiwisolver>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (1.4.5)
Requirement already satisfied: numpy>=1.19 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (1.25.2)
Requirement already satisfied: packaging>=20.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (23.1)
Requirement already satisfied: pillow>=6.2.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (10.0.0)
Requirement already satisfied: pyparsing>=2.3.1 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (3.0.9)
Requirement already satisfied: python-dateutil>=2.7 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (2.8.2)
Requirement already satisfied: setuptools_scm>=7 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from matplotlib==3.7.0.dev1221+g6091437be) (7.1.0)
Requirement already satisfied: six>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from python-dateutil>=2.7->matplotlib==3.7.0.dev1221+g6091437be) (1.16.0)
Requirement already satisfied: setuptools in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from setuptools_scm>=7->matplotlib==3.7.0.dev1221+g6091437be) (68.1.2)
Requirement already satisfied: typing-extensions in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from setuptools_scm>=7->matplotlib==3.7.0.dev1221+g6091437be) (4.7.1)
Building wheels for collected packages: matplotlib
  Building editable for matplotlib (pyproject.toml) ... [?25l- \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ done
[?25h  Created wheel for matplotlib: filename=matplotlib-3.7.0.dev1221+g6091437be-0.editable-cp311-cp311-linux_x86_64.whl size=23405 sha256=fd5be481e3351568837e4f59dd3f21b71c8d1d40bb5346eb39d0070f707d2a95
  Stored in directory: /tmp/pip-ephem-wheel-cache-szd0p9yq/wheels/49/5f/4f/01b7d31ea6ddac9643da788242d33e5fd3467d95d17b032c6b
Successfully built matplotlib
Installing collected packages: matplotlib
  Attempting uninstall: matplotlib
    Found existing installation: matplotlib 3.7.0.dev1221+g6091437be9
    Uninstalling matplotlib-3.7.0.dev1221+g6091437be9:
      Successfully uninstalled matplotlib-3.7.0.dev1221+g6091437be9
Successfully installed matplotlib-3.7.0.dev1221+g6091437be
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-06 10:45:46,830 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
[ENH]: Auto-detect bool arrays passed to contour()?

Issue description: 
### Problem

I find myself fairly regularly calling
```python
plt.contour(boolean_2d_array, levels=[.5], ...)
```
to draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).
```python
from pylab import *
ii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])
```
![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)


### Proposed solution

Autodetect boolean inputs to contour, and default levels to [0.5] in that case.

I guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).

Thoughts?

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-06 10:45:46,830 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-06 10:45:46,831 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\n[ENH]: Auto-detect bool arrays passed to contour()?\n\nIssue description: \n### Problem\n\nI find myself fairly regularly calling\n```python\nplt.contour(boolean_2d_array, levels=[.5], ...)\n```\nto draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).\n```python\nfrom pylab import *\nii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])\n```\n![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)\n\n\n### Proposed solution\n\nAutodetect boolean inputs to contour, and default levels to [0.5] in that case.\n\nI guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).\n\nThoughts?\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-06 10:45:53,151 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I will begin by searching for test files related to the `contour` function to understand how it is currently tested. This will help me identify existing tests that cover similar functionality, such as passing different data types or parameters to the function. Then, I will analyze the content of these files to find test cases that are most relevant to the proposed enhancement. Finally, I will select and present the 5 most relevant test cases.' additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "test_contour.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 22715, 'candidates_token_count': 100, 'total_token_count': 23207, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22715}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 100}], 'thoughts_token_count': 392, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.54955810546875, 'model_name': 'gemini-2.5-pro'} id='run--71fb5c0c-3c4f-45d9-be2e-3f9cc7e6e02e-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'test_contour.py'}, 'id': '130188c4-ee16-4bde-bd52-0c0d0b9cfcc3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22715, 'output_tokens': 100, 'total_tokens': 23207, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 392}}
2025-10-06 10:45:55,645 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have located the test file for the `contour` function. Now, I will examine its contents to identify test cases relevant to the issue of auto-detecting boolean arrays and adjusting the `levels` parameter accordingly. My goal is to find tests that already handle similar data type or parameter validation scenarios.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "lib/matplotlib/tests/test_contour.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 22873, 'candidates_token_count': 86, 'total_token_count': 23040, 'cached_content_token_count': 21688, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22873}], 'cache_tokens_details': [{'modality': 1, 'token_count': 21688}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 86}], 'thoughts_token_count': 81}, 'finish_reason': 'STOP', 'avg_logprobs': -0.21754885828772255, 'model_name': 'gemini-2.5-pro'} id='run--330547ad-f267-4bde-8367-283ed8ae910c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'lib/matplotlib/tests/test_contour.py'}, 'id': '3f0d691d-c2b9-49da-9a5d-7410b7fa4e9d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22873, 'output_tokens': 86, 'total_tokens': 23040, 'input_token_details': {'cache_read': 21688}, 'output_token_details': {'reasoning': 81}}
2025-10-06 10:46:09,138 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 32202, 'total_token_count': 32202, 'prompt_tokens_details': [{'modality': 1, 'token_count': 32202}], 'candidates_token_count': 0, 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': [], 'candidates_tokens_details': []}, 'finish_reason': 'MALFORMED_FUNCTION_CALL', 'finish_message': 'Malformed function call: print(default_api.read_code_with_relative_path(relative_path=\'lib/matplotlib/tests/test_contour.py\', start_line=16, end_line=25))\nprint(default_api.read_code_with_relative_path(relative_path=\'lib/matplotlib/tests/test_contour.py\', start_line=26, end_line=36))\nprint(default_api.read_code_with_relative_path(relative_path=\'lib/matplotlib/tests/test_contour.py\', start_line=37, end_line=63))\nprint(default_api.read_code_with_relative_path(relative_path=\'lib/matplotlib/tests/test_contour.py\', start_line=76, end_line=85))\nprint(default_api.read_code_with_relative"lib/matplotlib/tests/test_contour.py", start_line=103, end_line=112))', 'model_name': 'gemini-2.5-pro'} id='run--9b605469-615b-4068-afe2-9d7b9a91edd7-0' usage_metadata={'input_tokens': 32202, 'output_tokens': 0, 'total_tokens': 32202, 'input_token_details': {'cache_read': 0}}
2025-10-06 10:46:09,139 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-06 10:46:09,139 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
[ENH]: Auto-detect bool arrays passed to contour()?

Issue description: 
### Problem

I find myself fairly regularly calling
```python
plt.contour(boolean_2d_array, levels=[.5], ...)
```
to draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).
```python
from pylab import *
ii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])
```
![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)


### Proposed solution

Autodetect boolean inputs to contour, and default levels to [0.5] in that case.

I guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).

Thoughts?

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: lib/matplotlib/tests/test_contour.py
Line number range: 1 - 500
Content:
1. import datetime
2. import platform
3. import re
4. 
5. import contourpy
6. import numpy as np
7. from numpy.testing import (
8.     assert_array_almost_equal, assert_array_almost_equal_nulp)
9. import matplotlib as mpl
10. from matplotlib.testing.decorators import image_comparison
11. from matplotlib import pyplot as plt, rc_context
12. from matplotlib.colors import LogNorm, same_color
13. import pytest
14. 
15. 
16. def test_contour_shape_1d_valid():
17. 
18.     x = np.arange(10)
19.     y = np.arange(9)
20.     z = np.random.random((9, 10))
21. 
22.     fig, ax = plt.subplots()
23.     ax.contour(x, y, z)
24. 
25. 
26. def test_contour_shape_2d_valid():
27. 
28.     x = np.arange(10)
29.     y = np.arange(9)
30.     xg, yg = np.meshgrid(x, y)
31.     z = np.random.random((9, 10))
32. 
33.     fig, ax = plt.subplots()
34.     ax.contour(xg, yg, z)
35. 
36. 
37. @pytest.mark.parametrize("args, message", [
38.     ((np.arange(9), np.arange(9), np.empty((9, 10))),
39.      'Length of x (9) must match number of columns in z (10)'),
40.     ((np.arange(10), np.arange(10), np.empty((9, 10))),
41.      'Length of y (10) must match number of rows in z (9)'),
42.     ((np.empty((10, 10)), np.arange(10), np.empty((9, 10))),
43.      'Number of dimensions of x (2) and y (1) do not match'),
44.     ((np.arange(10), np.empty((10, 10)), np.empty((9, 10))),
45.      'Number of dimensions of x (1) and y (2) do not match'),
46.     ((np.empty((9, 9)), np.empty((9, 10)), np.empty((9, 10))),
47.      'Shapes of x (9, 9) and z (9, 10) do not match'),
48.     ((np.empty((9, 10)), np.empty((9, 9)), np.empty((9, 10))),
49.      'Shapes of y (9, 9) and z (9, 10) do not match'),
50.     ((np.empty((3, 3, 3)), np.empty((3, 3, 3)), np.empty((9, 10))),
51.      'Inputs x and y must be 1D or 2D, not 3D'),
52.     ((np.empty((3, 3, 3)), np.empty((3, 3, 3)), np.empty((3, 3, 3))),
53.      'Input z must be 2D, not 3D'),
54.     (([[0]],),  # github issue 8197
55.      'Input z must be at least a (2, 2) shaped array, but has shape (1, 1)'),
56.     (([0], [0], [[0]]),
57.      'Input z must be at least a (2, 2) shaped array, but has shape (1, 1)'),
58. ])
59. def test_contour_shape_error(args, message):
60.     fig, ax = plt.subplots()
61.     with pytest.raises(TypeError, match=re.escape(message)):
62.         ax.contour(*args)
63. 
64. 
65. def test_contour_empty_levels():
66. 
67.     x = np.arange(9)
68.     z = np.random.random((9, 9))
69. 
70.     fig, ax = plt.subplots()
71.     with pytest.warns(UserWarning) as record:
72.         ax.contour(x, x, z, levels=[])
73.     assert len(record) == 1
74. 
75. 
76. def test_contour_Nlevels():
77.     # A scalar levels arg or kwarg should trigger auto level generation.
78.     # https://github.com/matplotlib/matplotlib/issues/11913
79.     z = np.arange(12).reshape((3, 4))
80.     fig, ax = plt.subplots()
81.     cs1 = ax.contour(z, 5)
82.     assert len(cs1.levels) > 1
83.     cs2 = ax.contour(z, levels=5)
84.     assert (cs1.levels == cs2.levels).all()
85. 
86. 
87. def test_contour_badlevel_fmt():
88.     # Test edge case from https://github.com/matplotlib/matplotlib/issues/9742
89.     # User supplied fmt for each level as a dictionary, but Matplotlib changed
90.     # the level to the minimum data value because no contours possible.
91.     # This was fixed in https://github.com/matplotlib/matplotlib/pull/9743
92.     x = np.arange(9)
93.     z = np.zeros((9, 9))
94. 
95.     fig, ax = plt.subplots()
96.     fmt = {1.: '%1.2f'}
97.     with pytest.warns(UserWarning) as record:
98.         cs = ax.contour(x, x, z, levels=[1.])
99.         ax.clabel(cs, fmt=fmt)
100.     assert len(record) == 1
101. 
102. 
103. def test_contour_uniform_z():
104. 
105.     x = np.arange(9)
106.     z = np.ones((9, 9))
107. 
108.     fig, ax = plt.subplots()
109.     with pytest.warns(UserWarning) as record:
110.         ax.contour(x, x, z)
111.     assert len(record) == 1
112. 
113. 
114. @image_comparison(['contour_manual_labels'], remove_text=True, style='mpl20')
115. def test_contour_manual_labels():
116.     x, y = np.meshgrid(np.arange(0, 10), np.arange(0, 10))
117.     z = np.max(np.dstack([abs(x), abs(y)]), 2)
118. 
119.     plt.figure(figsize=(6, 2), dpi=200)
120.     cs = plt.contour(x, y, z)
121.     pts = np.array([(1.0, 3.0), (1.0, 4.4), (1.0, 6.0)])
122.     plt.clabel(cs, manual=pts)
123.     pts = np.array([(2.0, 3.0), (2.0, 4.4), (2.0, 6.0)])
124.     plt.clabel(cs, manual=pts, fontsize='small', colors=('r', 'g'))
125. 
126. 
127. @image_comparison(['contour_manual_colors_and_levels.png'], remove_text=True)
128. def test_given_colors_levels_and_extends():
129.     # Remove this line when this test image is regenerated.
130.     plt.rcParams['pcolormesh.snap'] = False
131. 
132.     _, axs = plt.subplots(2, 4)
133. 
134.     data = np.arange(12).reshape(3, 4)
135. 
136.     colors = ['red', 'yellow', 'pink', 'blue', 'black']
137.     levels = [2, 4, 8, 10]
138. 
139.     for i, ax in enumerate(axs.flat):
140.         filled = i % 2 == 0.
141.         extend = ['neither', 'min', 'max', 'both'][i // 2]
142. 
143.         if filled:
144.             # If filled, we have 3 colors with no extension,
145.             # 4 colors with one extension, and 5 colors with both extensions
146.             first_color = 1 if extend in ['max', 'neither'] else None
147.             last_color = -1 if extend in ['min', 'neither'] else None
148.             c = ax.contourf(data, colors=colors[first_color:last_color],
149.                             levels=levels, extend=extend)
150.         else:
151.             # If not filled, we have 4 levels and 4 colors
152.             c = ax.contour(data, colors=colors[:-1],
153.                            levels=levels, extend=extend)
154. 
155.         plt.colorbar(c, ax=ax)
156. 
157. 
158. @image_comparison(['contour_datetime_axis.png'], style='mpl20')
159. def test_contour_datetime_axis():
160.     fig = plt.figure()
161.     fig.subplots_adjust(hspace=0.4, top=0.98, bottom=.15)
162.     base = datetime.datetime(2013, 1, 1)
163.     x = np.array([base + datetime.timedelta(days=d) for d in range(20)])
164.     y = np.arange(20)
165.     z1, z2 = np.meshgrid(np.arange(20), np.arange(20))
166.     z = z1 * z2
167.     plt.subplot(221)
168.     plt.contour(x, y, z)
169.     plt.subplot(222)
170.     plt.contourf(x, y, z)
171.     x = np.repeat(x[np.newaxis], 20, axis=0)
172.     y = np.repeat(y[:, np.newaxis], 20, axis=1)
173.     plt.subplot(223)
174.     plt.contour(x, y, z)
175.     plt.subplot(224)
176.     plt.contourf(x, y, z)
177.     for ax in fig.get_axes():
178.         for label in ax.get_xticklabels():
179.             label.set_ha('right')
180.             label.set_rotation(30)
181. 
182. 
183. @image_comparison(['contour_test_label_transforms.png'],
184.                   remove_text=True, style='mpl20',
185.                   tol=0 if platform.machine() == 'x86_64' else 0.08)
186. def test_labels():
187.     # Adapted from pylab_examples example code: contour_demo.py
188.     # see issues #2475, #2843, and #2818 for explanation
189.     delta = 0.025
190.     x = np.arange(-3.0, 3.0, delta)
191.     y = np.arange(-2.0, 2.0, delta)
192.     X, Y = np.meshgrid(x, y)
193.     Z1 = np.exp(-(X**2 + Y**2) / 2) / (2 * np.pi)
194.     Z2 = (np.exp(-(((X - 1) / 1.5)**2 + ((Y - 1) / 0.5)**2) / 2) /
195.           (2 * np.pi * 0.5 * 1.5))
196. 
197.     # difference of Gaussians
198.     Z = 10.0 * (Z2 - Z1)
199. 
200.     fig, ax = plt.subplots(1, 1)
201.     CS = ax.contour(X, Y, Z)
202.     disp_units = [(216, 177), (359, 290), (521, 406)]
203.     data_units = [(-2, .5), (0, -1.5), (2.8, 1)]
204. 
205.     CS.clabel()
206. 
207.     for x, y in data_units:
208.         CS.add_label_near(x, y, inline=True, transform=None)
209. 
210.     for x, y in disp_units:
211.         CS.add_label_near(x, y, inline=True, transform=False)
212. 
213. 
214. @image_comparison(['contour_corner_mask_False.png',
215.                    'contour_corner_mask_True.png'],
216.                   remove_text=True)
217. def test_corner_mask():
218.     n = 60
219.     mask_level = 0.95
220.     noise_amp = 1.0
221.     np.random.seed([1])
222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))
223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)
224.     mask = np.random.rand(n, n) >= mask_level
225.     z = np.ma.array(z, mask=mask)
226. 
227.     for corner_mask in [False, True]:
228.         plt.figure()
229.         plt.contourf(z, corner_mask=corner_mask)
230. 
231. 
232. def test_contourf_decreasing_levels():
233.     # github issue 5477.
234.     z = [[0.1, 0.3], [0.5, 0.7]]
235.     plt.figure()
236.     with pytest.raises(ValueError):
237.         plt.contourf(z, [1.0, 0.0])
238. 
239. 
240. def test_contourf_symmetric_locator():
241.     # github issue 7271
242.     z = np.arange(12).reshape((3, 4))
243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)
244.     cs = plt.contourf(z, locator=locator)
245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))
246. 
247. 
248. def test_circular_contour_warning():
249.     # Check that almost circular contours don't throw a warning
250.     x, y = np.meshgrid(np.linspace(-2, 2, 4), np.linspace(-2, 2, 4))
251.     r = np.hypot(x, y)
252.     plt.figure()
253.     cs = plt.contour(x, y, r)
254.     plt.clabel(cs)
255. 
256. 
257. @pytest.mark.parametrize("use_clabeltext, contour_zorder, clabel_zorder",
258.                          [(True, 123, 1234), (False, 123, 1234),
259.                           (True, 123, None), (False, 123, None)])
260. def test_clabel_zorder(use_clabeltext, contour_zorder, clabel_zorder):
261.     x, y = np.meshgrid(np.arange(0, 10), np.arange(0, 10))
262.     z = np.max(np.dstack([abs(x), abs(y)]), 2)
263. 
264.     fig, (ax1, ax2) = plt.subplots(ncols=2)
265.     cs = ax1.contour(x, y, z, zorder=contour_zorder)
266.     cs_filled = ax2.contourf(x, y, z, zorder=contour_zorder)
267.     clabels1 = cs.clabel(zorder=clabel_zorder, use_clabeltext=use_clabeltext)
268.     clabels2 = cs_filled.clabel(zorder=clabel_zorder,
269.                                 use_clabeltext=use_clabeltext)
270. 
271.     if clabel_zorder is None:
272.         expected_clabel_zorder = 2+contour_zorder
273.     else:
274.         expected_clabel_zorder = clabel_zorder
275. 
276.     for clabel in clabels1:
277.         assert clabel.get_zorder() == expected_clabel_zorder
278.     for clabel in clabels2:
279.         assert clabel.get_zorder() == expected_clabel_zorder
280. 
281. 
282. # tol because ticks happen to fall on pixel boundaries so small
283. # floating point changes in tick location flip which pixel gets
284. # the tick.
285. @image_comparison(['contour_log_extension.png'],
286.                   remove_text=True, style='mpl20',
287.                   tol=1.444)
288. def test_contourf_log_extension():
289.     # Remove this line when this test image is regenerated.
290.     plt.rcParams['pcolormesh.snap'] = False
291. 
292.     # Test that contourf with lognorm is extended correctly
293.     fig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(10, 5))
294.     fig.subplots_adjust(left=0.05, right=0.95)
295. 
296.     # make data set with large range e.g. between 1e-8 and 1e10
297.     data_exp = np.linspace(-7.5, 9.5, 1200)
298.     data = np.power(10, data_exp).reshape(30, 40)
299.     # make manual levels e.g. between 1e-4 and 1e-6
300.     levels_exp = np.arange(-4., 7.)
301.     levels = np.power(10., levels_exp)
302. 
303.     # original data
304.     c1 = ax1.contourf(data,
305.                       norm=LogNorm(vmin=data.min(), vmax=data.max()))
306.     # just show data in levels
307.     c2 = ax2.contourf(data, levels=levels,
308.                       norm=LogNorm(vmin=levels.min(), vmax=levels.max()),
309.                       extend='neither')
310.     # extend data from levels
311.     c3 = ax3.contourf(data, levels=levels,
312.                       norm=LogNorm(vmin=levels.min(), vmax=levels.max()),
313.                       extend='both')
314.     cb = plt.colorbar(c1, ax=ax1)
315.     assert cb.ax.get_ylim() == (1e-8, 1e10)
316.     cb = plt.colorbar(c2, ax=ax2)
317.     assert_array_almost_equal_nulp(cb.ax.get_ylim(), np.array((1e-4, 1e6)))
318.     cb = plt.colorbar(c3, ax=ax3)
319. 
320. 
321. @image_comparison(['contour_addlines.png'],
322.                   remove_text=True, style='mpl20', tol=0.03)
323. # tolerance is because image changed minutely when tick finding on
324. # colorbars was cleaned up...
325. def test_contour_addlines():
326.     # Remove this line when this test image is regenerated.
327.     plt.rcParams['pcolormesh.snap'] = False
328. 
329.     fig, ax = plt.subplots()
330.     np.random.seed(19680812)
331.     X = np.random.rand(10, 10)*10000
332.     pcm = ax.pcolormesh(X)
333.     # add 1000 to make colors visible...
334.     cont = ax.contour(X+1000)
335.     cb = fig.colorbar(pcm)
336.     cb.add_lines(cont)
337.     assert_array_almost_equal(cb.ax.get_ylim(), [114.3091, 9972.30735], 3)
338. 
339. 
340. @image_comparison(baseline_images=['contour_uneven'],
341.                   extensions=['png'], remove_text=True, style='mpl20')
342. def test_contour_uneven():
343.     # Remove this line when this test image is regenerated.
344.     plt.rcParams['pcolormesh.snap'] = False
345. 
346.     z = np.arange(24).reshape(4, 6)
347.     fig, axs = plt.subplots(1, 2)
348.     ax = axs[0]
349.     cs = ax.contourf(z, levels=[2, 4, 6, 10, 20])
350.     fig.colorbar(cs, ax=ax, spacing='proportional')
351.     ax = axs[1]
352.     cs = ax.contourf(z, levels=[2, 4, 6, 10, 20])
353.     fig.colorbar(cs, ax=ax, spacing='uniform')
354. 
355. 
356. @pytest.mark.parametrize(
357.     "rc_lines_linewidth, rc_contour_linewidth, call_linewidths, expected", [
358.         (1.23, None, None, 1.23),
359.         (1.23, 4.24, None, 4.24),
360.         (1.23, 4.24, 5.02, 5.02)
361.         ])
362. def test_contour_linewidth(
363.         rc_lines_linewidth, rc_contour_linewidth, call_linewidths, expected):
364. 
365.     with rc_context(rc={"lines.linewidth": rc_lines_linewidth,
366.                         "contour.linewidth": rc_contour_linewidth}):
367.         fig, ax = plt.subplots()
368.         X = np.arange(4*3).reshape(4, 3)
369.         cs = ax.contour(X, linewidths=call_linewidths)
370.         assert cs.tlinewidths[0][0] == expected
371. 
372. 
373. @pytest.mark.backend("pdf")
374. def test_label_nonagg():
375.     # This should not crash even if the canvas doesn't have a get_renderer().
376.     plt.clabel(plt.contour([[1, 2], [3, 4]]))
377. 
378. 
379. @image_comparison(baseline_images=['contour_closed_line_loop'],
380.                   extensions=['png'], remove_text=True)
381. def test_contour_closed_line_loop():
382.     # github issue 19568.
383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]
384. 
385.     fig, ax = plt.subplots(figsize=(2, 2))
386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)
387.     ax.set_xlim(-0.1, 2.1)
388.     ax.set_ylim(-0.1, 3.1)
389. 
390. 
391. def test_quadcontourset_reuse():
392.     # If QuadContourSet returned from one contour(f) call is passed as first
393.     # argument to another the underlying C++ contour generator will be reused.
394.     x, y = np.meshgrid([0.0, 1.0], [0.0, 1.0])
395.     z = x + y
396.     fig, ax = plt.subplots()
397.     qcs1 = ax.contourf(x, y, z)
398.     qcs2 = ax.contour(x, y, z)
399.     assert qcs2._contour_generator != qcs1._contour_generator
400.     qcs3 = ax.contour(qcs1, z)
401.     assert qcs3._contour_generator == qcs1._contour_generator
402. 
403. 
404. @image_comparison(baseline_images=['contour_manual'],
405.                   extensions=['png'], remove_text=True)
406. def test_contour_manual():
407.     # Manually specifying contour lines/polygons to plot.
408.     from matplotlib.contour import ContourSet
409. 
410.     fig, ax = plt.subplots(figsize=(4, 4))
411.     cmap = 'viridis'
412. 
413.     # Segments only (no 'kind' codes).
414.     lines0 = [[[2, 0], [1, 2], [1, 3]]]  # Single line.
415.     lines1 = [[[3, 0], [3, 2]], [[3, 3], [3, 4]]]  # Two lines.
416.     filled01 = [[[0, 0], [0, 4], [1, 3], [1, 2], [2, 0]]]
417.     filled12 = [[[2, 0], [3, 0], [3, 2], [1, 3], [1, 2]],  # Two polygons.
418.                 [[1, 4], [3, 4], [3, 3]]]
419.     ContourSet(ax, [0, 1, 2], [filled01, filled12], filled=True, cmap=cmap)
420.     ContourSet(ax, [1, 2], [lines0, lines1], linewidths=3, colors=['r', 'k'])
421. 
422.     # Segments and kind codes (1 = MOVETO, 2 = LINETO, 79 = CLOSEPOLY).
423.     segs = [[[4, 0], [7, 0], [7, 3], [4, 3], [4, 0],
424.              [5, 1], [5, 2], [6, 2], [6, 1], [5, 1]]]
425.     kinds = [[1, 2, 2, 2, 79, 1, 2, 2, 2, 79]]  # Polygon containing hole.
426.     ContourSet(ax, [2, 3], [segs], [kinds], filled=True, cmap=cmap)
427.     ContourSet(ax, [2], [segs], [kinds], colors='k', linewidths=3)
428. 
429. 
430. @image_comparison(baseline_images=['contour_line_start_on_corner_edge'],
431.                   extensions=['png'], remove_text=True)
432. def test_contour_line_start_on_corner_edge():
433.     fig, ax = plt.subplots(figsize=(6, 5))
434. 
435.     x, y = np.meshgrid([0, 1, 2, 3, 4], [0, 1, 2])
436.     z = 1.2 - (x - 2)**2 + (y - 1)**2
437.     mask = np.zeros_like(z, dtype=bool)
438.     mask[1, 1] = mask[1, 3] = True
439.     z = np.ma.array(z, mask=mask)
440. 
441.     filled = ax.contourf(x, y, z, corner_mask=True)
442.     cbar = fig.colorbar(filled)
443.     lines = ax.contour(x, y, z, corner_mask=True, colors='k')
444.     cbar.add_lines(lines)
445. 
446. 
447. def test_find_nearest_contour():
448.     xy = np.indices((15, 15))
449.     img = np.exp(-np.pi * (np.sum((xy - 5)**2, 0)/5.**2))
450.     cs = plt.contour(img, 10)
451. 
452.     nearest_contour = cs.find_nearest_contour(1, 1, pixel=False)
453.     expected_nearest = (1, 0, 33, 1.965966, 1.965966, 1.866183)
454.     assert_array_almost_equal(nearest_contour, expected_nearest)
455. 
456.     nearest_contour = cs.find_nearest_contour(8, 1, pixel=False)
457.     expected_nearest = (1, 0, 5, 7.550173, 1.587542, 0.547550)
458.     assert_array_almost_equal(nearest_contour, expected_nearest)
459. 
460.     nearest_contour = cs.find_nearest_contour(2, 5, pixel=False)
461.     expected_nearest = (3, 0, 21, 1.884384, 5.023335, 0.013911)
462.     assert_array_almost_equal(nearest_contour, expected_nearest)
463. 
464.     nearest_contour = cs.find_nearest_contour(2, 5,
465.                                               indices=(5, 7),
466.                                               pixel=False)
467.     expected_nearest = (5, 0, 16, 2.628202, 5.0, 0.394638)
468.     assert_array_almost_equal(nearest_contour, expected_nearest)
469. 
470. 
471. def test_find_nearest_contour_no_filled():
472.     xy = np.indices((15, 15))
473.     img = np.exp(-np.pi * (np.sum((xy - 5)**2, 0)/5.**2))
474.     cs = plt.contourf(img, 10)
475. 
476.     with pytest.raises(ValueError,
477.                        match="Method does not support filled contours."):
478.         cs.find_nearest_contour(1, 1, pixel=False)
479. 
480.     with pytest.raises(ValueError,
481.                        match="Method does not support filled contours."):
482.         cs.find_nearest_contour(1, 10, indices=(5, 7), pixel=False)
483. 
484.     with pytest.raises(ValueError,
485.                        match="Method does not support filled contours."):
486.         cs.find_nearest_contour(2, 5, indices=(2, 7), pixel=True)
487. 
488. 
489. @mpl.style.context("default")
490. def test_contour_autolabel_beyond_powerlimits():
491.     ax = plt.figure().add_subplot()
492.     cs = plt.contour(np.geomspace(1e-6, 1e-4, 100).reshape(10, 10),
493.                      levels=[.25e-5, 1e-5, 4e-5])
494.     ax.clabel(cs)
495.     # Currently, the exponent is missing, but that may be fixed in the future.
496.     assert {text.get_text() for text in ax.texts} == {"0.25", "1.00", "4.00"}
497. 
498. 
499. def test_contourf_legend_elements():
500.     from matplotlib.patches import Rectangle


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and return it in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-06 10:47:16,139 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The query asks to auto-detect boolean arrays in `contour()` and default `levels` to `[0.5]`. This involves handling a special data type.\n   - This test case checks the behavior of `contour()` with a uniform `z` array, which is an analogous special data case that requires non-default handling.\n2. Extended relevance:\n   - It demonstrates a pattern for testing degenerate inputs by checking for a `UserWarning`, which would be relevant for testing an all-`True` or all-`False` boolean array.\n   - This test is a good example of testing how `contour` handles data that doesn't have a clear range for generating multiple levels.\n   - The necessary imports like `numpy`, `pyplot`, and `pytest` are located at the beginning of the same file.", relative_path='lib/matplotlib/tests/test_contour.py', start_line=103, end_line=112), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query is about changing the default level selection logic for `contour()`.\n   - This test case directly examines the current automatic level generation that is triggered when an integer is passed for the `levels` argument.\n2. Extended relevance:\n   - The test asserts properties of the automatically generated levels (`len(cs1.levels) > 1`). A test for the proposed feature would need similar assertions to verify that only one level is generated for boolean inputs. It provides a direct template for testing level-generation logic.\n   - The necessary imports are located at the beginning of the same file.', relative_path='lib/matplotlib/tests/test_contour.py', start_line=76, end_line=85), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query proposes a new heuristic for determining contour levels based on input data type.\n   - This test case validates a different, but conceptually similar, feature where a `locator` object is used to define a level-generation heuristic (in this case, for symmetric levels).\n2. Extended relevance:\n   - It provides a pattern for testing custom level-finding strategies: provide the strategy to `contourf` and then use `assert_array_almost_equal` to check if `cs.levels` are correct. This is a perfect analog for how one would test the proposed feature.\n   - The necessary imports are located at the beginning of the same file.', relative_path='lib/matplotlib/tests/test_contour.py', start_line=240, end_line=246), ContextOutput(reasoning="1. Query requirement analysis:\n   - The query proposes defaulting to `levels=[0.5]` for boolean inputs.\n   - This test case provides an example of `contour` being called with `[0.5]` as the level.\n2. Extended relevance:\n   - It's a practical example of a test that verifies the rendered output for a contour at a fractional level between 0 and 1, which is exactly what the user is trying to achieve by default.\n   - It is part of an `image_comparison` test, showing how to visually validate the output of a specific contour level.\n   - The necessary imports are located at the beginning of the same file.", relative_path='lib/matplotlib/tests/test_contour.py', start_line=379, end_line=389), ContextOutput(reasoning='1. Query requirement analysis:\n   - The query is about detecting and handling boolean arrays passed to `contour()`.\n   - This test explicitly creates a boolean numpy array (`mask = np.random.rand(n, n) >= mask_level`) and uses it in a call to `plt.contourf`.\n2. Extended relevance:\n   - Although the boolean array is used as a mask, the test provides a clear example of how to set up a test that involves boolean numpy arrays in the context of contouring. This data setup is directly relevant to creating a test for the proposed feature.\n   - It is part of an `image_comparison` test, which is a common pattern for `contour` tests.\n   - The necessary imports are located at the beginning of the same file.', relative_path='lib/matplotlib/tests/test_contour.py', start_line=214, end_line=230)]
2025-10-06 10:47:16,140 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='lib/matplotlib/tests/test_contour.py', content='103. def test_contour_uniform_z():\n104. \n105.     x = np.arange(9)\n106.     z = np.ones((9, 9))\n107. \n108.     fig, ax = plt.subplots()\n109.     with pytest.warns(UserWarning) as record:\n110.         ax.contour(x, x, z)\n111.     assert len(record) == 1\n112. ', start_line_number=103, end_line_number=112), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='76. def test_contour_Nlevels():\n77.     # A scalar levels arg or kwarg should trigger auto level generation.\n78.     # https://github.com/matplotlib/matplotlib/issues/11913\n79.     z = np.arange(12).reshape((3, 4))\n80.     fig, ax = plt.subplots()\n81.     cs1 = ax.contour(z, 5)\n82.     assert len(cs1.levels) > 1\n83.     cs2 = ax.contour(z, levels=5)\n84.     assert (cs1.levels == cs2.levels).all()\n85. ', start_line_number=76, end_line_number=85), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='240. def test_contourf_symmetric_locator():\n241.     # github issue 7271\n242.     z = np.arange(12).reshape((3, 4))\n243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)\n244.     cs = plt.contourf(z, locator=locator)\n245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))\n246. ', start_line_number=240, end_line_number=246), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="379. @image_comparison(baseline_images=['contour_closed_line_loop'],\n380.                   extensions=['png'], remove_text=True)\n381. def test_contour_closed_line_loop():\n382.     # github issue 19568.\n383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]\n384. \n385.     fig, ax = plt.subplots(figsize=(2, 2))\n386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)\n387.     ax.set_xlim(-0.1, 2.1)\n388.     ax.set_ylim(-0.1, 3.1)\n389. ", start_line_number=379, end_line_number=389), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="214. @image_comparison(['contour_corner_mask_False.png',\n215.                    'contour_corner_mask_True.png'],\n216.                   remove_text=True)\n217. def test_corner_mask():\n218.     n = 60\n219.     mask_level = 0.95\n220.     noise_amp = 1.0\n221.     np.random.seed([1])\n222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))\n223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)\n224.     mask = np.random.rand(n, n) >= mask_level\n225.     z = np.ma.array(z, mask=mask)\n226. \n227.     for corner_mask in [False, True]:\n228.         plt.figure()\n229.         plt.contourf(z, corner_mask=corner_mask)\n230. ", start_line_number=214, end_line_number=230)]
2025-10-06 10:47:16,140 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-06 10:47:16,140 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
matplotlib
├── .appveyor.yml
├── .circleci
|   ├── config.yml
|   ├── deploy-docs.sh
|   └── fetch_doc_logs.py
├── .git_archival.txt
├── .github
|   ├── CONTRIBUTING.md
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   ├── documentation.yml
|   |   ├── feature_request.yml
|   |   └── maintenance.yml
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── codecov.yml
|   ├── dependabot.yml
|   └── workflows
|       ├── cibuildsdist.yml
|       ├── cibuildwheel.yml
|       ├── circleci.yml
|       ├── clean_pr.yml
|       ├── codeql-analysis.yml
|       ├── conflictcheck.yml
|       ├── nightlies.yml
|       ├── pr_welcome.yml
|       ├── reviewdog.yml
|       └── tests.yml
├── .lgtm.yml
├── .meeseeksdev.yml
├── .pre-commit-config.yaml
├── CODE_OF_CONDUCT.md
├── INSTALL.rst
├── LICENSE
├── README.md
├── SECURITY.md
├── azure-pipelines.yml
├── ci
|   ├── check_version_number.py
|   ├── check_wheel_licenses.py
|   └── codespell-ignore-words.txt
├── doc
|   ├── README.txt
|   ├── _static
|   |   ├── fa
|   |   ├── markers
|   |   └── zenodo_cache
|   ├── _templates
|   |   ├── autofunctions.rst
|   |   ├── automodule.rst
|   |   ├── autosummary.rst
|   |   ├── autosummary_class_only.rst
|   |   └── function.rst
|   ├── api
|   |   ├── _api_api.rst
|   |   ├── _enums_api.rst
|   |   ├── afm_api.rst
|   |   ├── animation_api.rst
|   |   ├── artist_api.rst
|   |   ├── axes_api.rst
|   |   ├── axis_api.rst
|   |   ├── backend_agg_api.rst
|   |   ├── backend_bases_api.rst
|   |   ├── backend_cairo_api.rst
|   |   ├── backend_gtk3_api.rst
|   |   ├── backend_gtk4_api.rst
|   |   ├── backend_managers_api.rst
|   |   ├── backend_mixed_api.rst
|   |   ├── backend_nbagg_api.rst
|   |   ├── backend_pdf_api.rst
|   |   ├── backend_pgf_api.rst
|   |   ├── backend_ps_api.rst
|   |   ├── backend_qt_api.rst
|   |   ├── backend_svg_api.rst
|   |   ├── backend_template_api.rst
|   |   ├── backend_tk_api.rst
|   |   ├── backend_tools_api.rst
|   |   ├── backend_webagg_api.rst
|   |   ├── backend_wx_api.rst
|   |   ├── bezier_api.rst
|   |   ├── category_api.rst
|   |   ├── cbook_api.rst
|   |   ├── cm_api.rst
|   |   ├── collections_api.rst
|   |   ├── colorbar_api.rst
|   |   ├── colors_api.rst
|   |   ├── container_api.rst
|   |   ├── contour_api.rst
|   |   ├── dates_api.rst
|   |   ├── docstring_api.rst
|   |   ├── dviread.rst
|   |   ├── figure_api.rst
|   |   ├── font_manager_api.rst
|   |   ├── ft2font.rst
|   |   ├── gridspec_api.rst
|   |   ├── hatch_api.rst
|   |   ├── image_api.rst
|   |   ├── index.rst
|   |   ├── index_backend_api.rst
|   |   ├── layout_engine_api.rst
|   |   ├── legend_api.rst
|   |   ├── legend_handler_api.rst
|   |   ├── lines_api.rst
|   |   ├── markers_api.rst
|   |   ├── mathtext_api.rst
|   |   ├── matplotlib_configuration_api.rst
|   |   ├── mlab_api.rst
|   |   ├── next_api_changes
|   |   |   ├── README.rst
|   |   |   ├── behavior
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 23573-AL.rst
|   |   |   |   ├── 23579-AL.rst
|   |   |   |   ├── 23710-ES.rst
|   |   |   |   ├── 24062-tb.rst
|   |   |   |   ├── 24131-OG.rst
|   |   |   |   ├── 24132-GL.rst
|   |   |   |   ├── 24189-JB.rst
|   |   |   |   ├── 24570-GL.rst
|   |   |   |   ├── 24829-AL.rst
|   |   |   |   └── 9598-AFV.rst
|   |   |   ├── deprecations
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 19763-ES.rst
|   |   |   |   ├── 23449-SS.rst
|   |   |   |   ├── 23720-RS.rst
|   |   |   |   ├── 23735-ES.rst
|   |   |   |   ├── 23824-OG.rst
|   |   |   |   ├── 24000-TH.rst
|   |   |   |   ├── 24013-TH.rst
|   |   |   |   ├── 24071-OG.rst
|   |   |   |   ├── 24088-JMK.rst
|   |   |   |   ├── 24131-OG.rst
|   |   |   |   ├── 24140-AL.rst
|   |   |   |   ├── 24144-AL.rst
|   |   |   |   ├── 24198-AL.rst
|   |   |   |   ├── 24208-AL.rst
|   |   |   |   ├── 24220-AL.rst
|   |   |   |   ├── 24221-AL.rst
|   |   |   |   ├── 24224-OG.rst
|   |   |   |   ├── 24240-OG.rst
|   |   |   |   ├── 24305-AL.rst
|   |   |   |   ├── 24455-AL.rst
|   |   |   |   ├── 24465-AL.rst
|   |   |   |   ├── 24474_CM.rst
|   |   |   |   ├── 24538-OG.rst
|   |   |   |   ├── 24577-AL.rst
|   |   |   |   ├── 24664-OG.rst
|   |   |   |   ├── 24688-OG.rst
|   |   |   |   ├── 24730-TH.rst
|   |   |   |   ├── 24806-KS.rst
|   |   |   |   └── 24846-ES.rst
|   |   |   ├── development
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 23683-AL.rst
|   |   |   |   ├── 24257-AL.rst
|   |   |   |   ├── 24710-AL.rst
|   |   |   |   └── 24724-ES.rst
|   |   |   └── removals
|   |   |       ├── 00001-ABC.rst
|   |   |       ├── 21661-TAC.rst
|   |   |       ├── 24125-OG.rst
|   |   |       ├── 24128-OG.rst
|   |   |       ├── 24129-OG.rst
|   |   |       ├── 24251-OG.rst
|   |   |       ├── 24253-OG.rst
|   |   |       ├── 24257-AL.rst
|   |   |       ├── 24355-OG.rst
|   |   |       ├── 24356-OG.rst
|   |   |       └── 24624-AL.rst
|   |   ├── next_api_changes.rst
|   |   ├── offsetbox_api.rst
|   |   ├── patches_api.rst
|   |   ├── path_api.rst
|   |   ├── patheffects_api.rst
|   |   ├── prev_api_changes
|   |   |   ├── api_changes_0.40.rst
|   |   |   ├── api_changes_0.42.rst
|   |   |   ├── api_changes_0.50.rst
|   |   |   ├── api_changes_0.54.3.rst
|   |   |   ├── api_changes_0.54.rst
|   |   |   ├── api_changes_0.60.rst
|   |   |   ├── api_changes_0.61.rst
|   |   |   ├── api_changes_0.63.rst
|   |   |   ├── api_changes_0.65.1.rst
|   |   |   ├── api_changes_0.65.rst
|   |   |   ├── api_changes_0.70.rst
|   |   |   ├── api_changes_0.71.rst
|   |   |   ├── api_changes_0.72.rst
|   |   |   ├── api_changes_0.73.rst
|   |   |   ├── api_changes_0.80.rst
|   |   |   ├── api_changes_0.81.rst
|   |   |   ├── api_changes_0.82.rst
|   |   |   ├── api_changes_0.83.rst
|   |   |   ├── api_changes_0.84.rst
|   |   |   ├── api_changes_0.85.rst
|   |   |   ├── api_changes_0.86.rst
|   |   |   ├── api_changes_0.87.7.rst
|   |   |   ├── api_changes_0.90.0.rst
|   |   |   ├── api_changes_0.90.1.rst
|   |   |   ├── api_changes_0.91.0.rst
|   |   |   ├── api_changes_0.91.2.rst
|   |   |   ├── api_changes_0.98.0.rst
|   |   |   ├── api_changes_0.98.1.rst
|   |   |   ├── api_changes_0.98.x.rst
|   |   |   ├── api_changes_0.99.rst
|   |   |   ├── api_changes_0.99.x.rst
|   |   |   ├── api_changes_1.1.x.rst
|   |   |   ├── api_changes_1.2.x.rst
|   |   |   ├── api_changes_1.3.x.rst
|   |   |   ├── api_changes_1.4.x.rst
|   |   |   ├── api_changes_1.5.0.rst
|   |   |   ├── api_changes_1.5.2.rst
|   |   |   ├── api_changes_1.5.3.rst
|   |   |   ├── api_changes_2.0.0.rst
|   |   |   ├── api_changes_2.0.1.rst
|   |   |   ├── api_changes_2.1.0.rst
|   |   |   ├── api_changes_2.1.1.rst
|   |   |   ├── api_changes_2.1.2.rst
|   |   |   ├── api_changes_2.2.0.rst
|   |   |   ├── api_changes_3.0.0.rst
|   |   |   ├── api_changes_3.0.1.rst
|   |   |   ├── api_changes_3.1.0.rst
|   |   |   ├── api_changes_3.1.1.rst
|   |   |   ├── api_changes_3.2.0
|   |   |   |   ├── behavior.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.2.0.rst
|   |   |   ├── api_changes_3.3.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.3.0.rst
|   |   |   ├── api_changes_3.3.1.rst
|   |   |   ├── api_changes_3.4.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.4.0.rst
|   |   |   ├── api_changes_3.4.2.rst
|   |   |   ├── api_changes_3.5.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.5.0.rst
|   |   |   ├── api_changes_3.5.2.rst
|   |   |   ├── api_changes_3.5.3.rst
|   |   |   ├── api_changes_3.6.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   └── api_changes_3.6.0.rst
|   |   ├── projections
|   |   |   ├── geo.rst
|   |   |   └── polar.rst
|   |   ├── projections_api.rst
|   |   ├── pyplot_summary.rst
|   |   ├── quiver_api.rst
|   |   ├── rcsetup_api.rst
|   |   ├── sankey_api.rst
|   |   ├── scale_api.rst
|   |   ├── sphinxext_mathmpl_api.rst
|   |   ├── sphinxext_plot_directive_api.rst
|   |   ├── spines_api.rst
|   |   ├── style_api.rst
|   |   ├── table_api.rst
|   |   ├── testing_api.rst
|   |   ├── texmanager_api.rst
|   |   ├── text_api.rst
|   |   ├── ticker_api.rst
|   |   ├── tight_bbox_api.rst
|   |   ├── tight_layout_api.rst
|   |   ├── toolkits
|   |   |   ├── axes_grid1.rst
|   |   |   ├── axisartist.rst
|   |   |   ├── mplot3d
|   |   |   |   ├── axes3d.rst
|   |   |   |   ├── faq.rst
|   |   |   |   └── view_angles.rst
|   |   |   └── mplot3d.rst
|   |   ├── transformations.rst
|   |   ├── tri_api.rst
|   |   ├── type1font.rst
|   |   ├── units_api.rst
|   |   └── widgets_api.rst
|   ├── conf.py
|   ├── devel
|   |   ├── MEP
|   |   |   ├── MEP08.rst
|   |   |   ├── MEP09.rst
|   |   |   ├── MEP10.rst
|   |   |   ├── MEP11.rst
|   |   |   ├── MEP12.rst
|   |   |   ├── MEP13.rst
|   |   |   ├── MEP14.rst
|   |   |   ├── MEP15.rst
|   |   |   ├── MEP19.rst
|   |   |   ├── MEP21.rst
|   |   |   ├── MEP22.rst
|   |   |   ├── MEP23.rst
|   |   |   ├── MEP24.rst
|   |   |   ├── MEP25.rst
|   |   |   ├── MEP26.rst
|   |   |   ├── MEP27.rst
|   |   |   ├── MEP28.rst
|   |   |   ├── MEP29.rst
|   |   |   ├── README.rst
|   |   |   ├── index.rst
|   |   |   └── template.rst
|   |   ├── README.txt
|   |   ├── coding_guide.rst
|   |   ├── color_changes.rst
|   |   ├── contributing.rst
|   |   ├── dependencies.rst
|   |   ├── development_setup.rst
|   |   ├── development_workflow.rst
|   |   ├── documenting_mpl.rst
|   |   ├── index.rst
|   |   ├── license.rst
|   |   ├── maintainer_workflow.rst
|   |   ├── min_dep_policy.rst
|   |   ├── release_guide.rst
|   |   ├── style_guide.rst
|   |   ├── testing.rst
|   |   └── triage.rst
|   ├── index.rst
|   ├── sphinxext
|   |   ├── __init__.py
|   |   ├── custom_roles.py
|   |   ├── gallery_order.py
|   |   ├── github.py
|   |   ├── math_symbol_table.py
|   |   ├── missing_references.py
|   |   ├── mock_gui_toolkits.py
|   |   ├── redirect_from.py
|   |   └── skip_deprecated.py
|   ├── thirdpartypackages
|   |   └── index.rst
|   └── users
|       ├── explain
|       |   ├── api_interfaces.rst
|       |   ├── backends.rst
|       |   ├── event_handling.rst
|       |   ├── fonts.rst
|       |   ├── index.rst
|       |   ├── interactive.rst
|       |   ├── interactive_guide.rst
|       |   ├── performance.rst
|       |   └── writing_a_backend_pyplot_interface.rst
|       ├── faq
|       |   ├── environment_variables_faq.rst
|       |   ├── howto_faq.rst
|       |   ├── index.rst
|       |   └── troubleshooting_faq.rst
|       ├── generate_credits.py
|       ├── getting_started
|       |   └── index.rst
|       ├── github_stats.rst
|       ├── index.rst
|       ├── installing
|       |   └── index.rst
|       ├── next_whats_new
|       |   ├── 3d_pane_color_rcparams.rst
|       |   ├── 3d_plot_aspects_adjustable_keyword.rst
|       |   ├── 3d_plot_pan_zoom.rst
|       |   ├── README.rst
|       |   ├── bar_label_formatting.rst
|       |   ├── colorbar_has_location_argument.rst
|       |   ├── ellipse_annotation.rst
|       |   ├── figure_hooks.rst
|       |   ├── imshow_extent_units.rst
|       |   ├── per_subplot_mosaic.rst
|       |   ├── polar_errorbar_caps.rst
|       |   ├── reverse_legend.rst
|       |   ├── rgba_pcolormesh.rst
|       |   ├── shade_poly3dcollection.rst
|       |   ├── show_source_links_directive_option.rst
|       |   ├── styles_from_packages.rst
|       |   ├── view_current_axis_format.rst
|       |   └── widget_blitting.rst
|       ├── next_whats_new.rst
|       ├── prev_whats_new
|       |   ├── changelog.rst
|       |   ├── dflt_style_changes.rst
|       |   ├── github_stats_3.0.0.rst
|       |   ├── github_stats_3.0.1.rst
|       |   ├── github_stats_3.0.2.rst
|       |   ├── github_stats_3.0.3.rst
|       |   ├── github_stats_3.1.0.rst
|       |   ├── github_stats_3.1.1.rst
|       |   ├── github_stats_3.1.2.rst
|       |   ├── github_stats_3.1.3.rst
|       |   ├── github_stats_3.2.0.rst
|       |   ├── github_stats_3.2.1.rst
|       |   ├── github_stats_3.2.2.rst
|       |   ├── github_stats_3.3.0.rst
|       |   ├── github_stats_3.3.1.rst
|       |   ├── github_stats_3.3.2.rst
|       |   ├── github_stats_3.3.3.rst
|       |   ├── github_stats_3.3.4.rst
|       |   ├── github_stats_3.4.0.rst
|       |   ├── github_stats_3.4.1.rst
|       |   ├── github_stats_3.4.2.rst
|       |   ├── github_stats_3.4.3.rst
|       |   ├── github_stats_3.5.0.rst
|       |   ├── github_stats_3.5.1.rst
|       |   ├── github_stats_3.5.2.rst
|       |   ├── github_stats_3.5.3.rst
|       |   ├── whats_new_0.98.4.rst
|       |   ├── whats_new_0.99.rst
|       |   ├── whats_new_1.0.rst
|       |   ├── whats_new_1.1.rst
|       |   ├── whats_new_1.2.2.rst
|       |   ├── whats_new_1.2.rst
|       |   ├── whats_new_1.3.rst
|       |   ├── whats_new_1.4.rst
|       |   ├── whats_new_1.5.rst
|       |   ├── whats_new_2.0.0.rst
|       |   ├── whats_new_2.1.0.rst
|       |   ├── whats_new_2.2.rst
|       |   ├── whats_new_3.0.rst
|       |   ├── whats_new_3.1.0.rst
|       |   ├── whats_new_3.2.0.rst
|       |   ├── whats_new_3.3.0.rst
|       |   ├── whats_new_3.4.0.rst
|       |   ├── whats_new_3.5.0.rst
|       |   ├── whats_new_3.5.2.rst
|       |   └── whats_new_3.6.0.rst
|       ├── project
|       |   ├── citing.rst
|       |   ├── credits.rst
|       |   ├── history.rst
|       |   ├── index.rst
|       |   ├── license.rst
|       |   └── mission.rst
|       ├── release_notes.rst
|       ├── release_notes_next.rst
|       └── resources
|           └── index.rst
├── environment.yml
├── examples
|   ├── README.txt
|   ├── animation
|   |   ├── README.txt
|   |   ├── animate_decay.py
|   |   ├── animated_histogram.py
|   |   ├── animation_demo.py
|   |   ├── bayes_update.py
|   |   ├── double_pendulum.py
|   |   ├── dynamic_image.py
|   |   ├── frame_grabbing_sgskip.py
|   |   ├── multiple_axes.py
|   |   ├── pause_resume.py
|   |   ├── rain.py
|   |   ├── random_walk.py
|   |   ├── simple_anim.py
|   |   ├── simple_scatter.py
|   |   ├── strip_chart.py
|   |   └── unchained.py
|   ├── axes_grid1
|   |   ├── README.txt
|   |   ├── demo_anchored_direction_arrows.py
|   |   ├── demo_axes_divider.py
|   |   ├── demo_axes_grid.py
|   |   ├── demo_axes_grid2.py
|   |   ├── demo_axes_hbox_divider.py
|   |   ├── demo_axes_rgb.py
|   |   ├── demo_colorbar_of_inset_axes.py
|   |   ├── demo_colorbar_with_axes_divider.py
|   |   ├── demo_colorbar_with_inset_locator.py
|   |   ├── demo_edge_colorbar.py
|   |   ├── demo_fixed_size_axes.py
|   |   ├── demo_imagegrid_aspect.py
|   |   ├── inset_locator_demo.py
|   |   ├── inset_locator_demo2.py
|   |   ├── make_room_for_ylabel_using_axesgrid.py
|   |   ├── parasite_simple.py
|   |   ├── parasite_simple2.py
|   |   ├── scatter_hist_locatable_axes.py
|   |   ├── simple_anchored_artists.py
|   |   ├── simple_axes_divider1.py
|   |   ├── simple_axes_divider3.py
|   |   ├── simple_axesgrid.py
|   |   ├── simple_axesgrid2.py
|   |   ├── simple_axisline4.py
|   |   └── simple_colorbar.py
|   ├── axisartist
|   |   ├── README.txt
|   |   ├── axis_direction.py
|   |   ├── demo_axis_direction.py
|   |   ├── demo_axisline_style.py
|   |   ├── demo_curvelinear_grid.py
|   |   ├── demo_curvelinear_grid2.py
|   |   ├── demo_floating_axes.py
|   |   ├── demo_floating_axis.py
|   |   ├── demo_parasite_axes.py
|   |   ├── demo_parasite_axes2.py
|   |   ├── demo_ticklabel_alignment.py
|   |   ├── demo_ticklabel_direction.py
|   |   ├── simple_axis_direction01.py
|   |   ├── simple_axis_direction03.py
|   |   ├── simple_axis_pad.py
|   |   ├── simple_axisartist1.py
|   |   ├── simple_axisline.py
|   |   └── simple_axisline3.py
|   ├── color
|   |   ├── README.txt
|   |   ├── color_by_yvalue.py
|   |   ├── color_cycle_default.py
|   |   ├── color_demo.py
|   |   ├── colorbar_basics.py
|   |   ├── colormap_reference.py
|   |   ├── custom_cmap.py
|   |   └── named_colors.py
|   ├── event_handling
|   |   ├── README.txt
|   |   ├── close_event.py
|   |   ├── coords_demo.py
|   |   ├── cursor_demo.py
|   |   ├── data_browser.py
|   |   ├── figure_axes_enter_leave.py
|   |   ├── ginput_manual_clabel_sgskip.py
|   |   ├── image_slices_viewer.py
|   |   ├── keypress_demo.py
|   |   ├── lasso_demo.py
|   |   ├── legend_picking.py
|   |   ├── looking_glass.py
|   |   ├── path_editor.py
|   |   ├── pick_event_demo.py
|   |   ├── pick_event_demo2.py
|   |   ├── poly_editor.py
|   |   ├── pong_sgskip.py
|   |   ├── resample.py
|   |   ├── timers.py
|   |   ├── trifinder_event_demo.py
|   |   ├── viewlims.py
|   |   └── zoom_window.py
|   ├── images_contours_and_fields
|   |   ├── README.txt
|   |   ├── affine_image.py
|   |   ├── barb_demo.py
|   |   ├── barcode_demo.py
|   |   ├── colormap_interactive_adjustment.py
|   |   ├── colormap_normalizations.py
|   |   ├── colormap_normalizations_symlognorm.py
|   |   ├── contour_corner_mask.py
|   |   ├── contour_demo.py
|   |   ├── contour_image.py
|   |   ├── contour_label_demo.py
|   |   ├── contourf_demo.py
|   |   ├── contourf_hatching.py
|   |   ├── contourf_log.py
|   |   ├── contours_in_optimization_demo.py
|   |   ├── demo_bboximage.py
|   |   ├── figimage_demo.py
|   |   ├── image_annotated_heatmap.py
|   |   ├── image_antialiasing.py
|   |   ├── image_clip_path.py
|   |   ├── image_demo.py
|   |   ├── image_masked.py
|   |   ├── image_nonuniform.py
|   |   ├── image_transparency_blend.py
|   |   ├── image_zcoord.py
|   |   ├── interpolation_methods.py
|   |   ├── irregulardatagrid.py
|   |   ├── layer_images.py
|   |   ├── matshow.py
|   |   ├── multi_image.py
|   |   ├── pcolor_demo.py
|   |   ├── pcolormesh_grids.py
|   |   ├── pcolormesh_levels.py
|   |   ├── plot_streamplot.py
|   |   ├── quadmesh_demo.py
|   |   ├── quiver_demo.py
|   |   ├── quiver_simple_demo.py
|   |   ├── shading_example.py
|   |   ├── specgram_demo.py
|   |   ├── spy_demos.py
|   |   ├── tricontour_demo.py
|   |   ├── tricontour_smooth_delaunay.py
|   |   ├── tricontour_smooth_user.py
|   |   ├── trigradient_demo.py
|   |   ├── triinterp_demo.py
|   |   ├── tripcolor_demo.py
|   |   ├── triplot_demo.py
|   |   └── watermark_image.py
|   ├── lines_bars_and_markers
|   |   ├── README.txt
|   |   ├── bar_colors.py
|   |   ├── bar_label_demo.py
|   |   ├── bar_stacked.py
|   |   ├── barchart.py
|   |   ├── barh.py
|   |   ├── broken_barh.py
|   |   ├── capstyle.py
|   |   ├── categorical_variables.py
|   |   ├── cohere.py
|   |   ├── csd_demo.py
|   |   ├── curve_error_band.py
|   |   ├── errorbar_limits_simple.py
|   |   ├── errorbar_subsample.py
|   |   ├── eventcollection_demo.py
|   |   ├── eventplot_demo.py
|   |   ├── fill.py
|   |   ├── fill_between_alpha.py
|   |   ├── fill_between_demo.py
|   |   ├── fill_betweenx_demo.py
|   |   ├── filled_step.py
|   |   ├── gradient_bar.py
|   |   ├── hat_graph.py
|   |   ├── horizontal_barchart_distribution.py
|   |   ├── joinstyle.py
|   |   ├── line_demo_dash_control.py
|   |   ├── lines_with_ticks_demo.py
|   |   ├── linestyles.py
|   |   ├── marker_reference.py
|   |   ├── markevery_demo.py
|   |   ├── masked_demo.py
|   |   ├── multicolored_line.py
|   |   ├── multivariate_marker_plot.py
|   |   ├── psd_demo.py
|   |   ├── scatter_custom_symbol.py
|   |   ├── scatter_demo2.py
|   |   ├── scatter_hist.py
|   |   ├── scatter_masked.py
|   |   ├── scatter_star_poly.py
|   |   ├── scatter_with_legend.py
|   |   ├── simple_plot.py
|   |   ├── span_regions.py
|   |   ├── spectrum_demo.py
|   |   ├── stackplot_demo.py
|   |   ├── stairs_demo.py
|   |   ├── stem_plot.py
|   |   ├── step_demo.py
|   |   ├── timeline.py
|   |   ├── vline_hline_demo.py
|   |   └── xcorr_acorr_demo.py
|   ├── misc
|   |   ├── README.txt
|   |   ├── anchored_artists.py
|   |   ├── bbox_intersect.py
|   |   ├── contour_manual.py
|   |   ├── coords_report.py
|   |   ├── custom_projection.py
|   |   ├── customize_rc.py
|   |   ├── demo_agg_filter.py
|   |   ├── demo_ribbon_box.py
|   |   ├── fig_x.py
|   |   ├── fill_spiral.py
|   |   ├── findobj_demo.py
|   |   ├── font_indexing.py
|   |   ├── ftface_props.py
|   |   ├── histogram_path.py
|   |   ├── hyperlinks_sgskip.py
|   |   ├── image_thumbnail_sgskip.py
|   |   ├── keyword_plotting.py
|   |   ├── logos2.py
|   |   ├── multipage_pdf.py
|   |   ├── multiprocess_sgskip.py
|   |   ├── packed_bubbles.py
|   |   ├── patheffect_demo.py
|   |   ├── print_stdout_sgskip.py
|   |   ├── rasterization_demo.py
|   |   ├── set_and_get.py
|   |   ├── svg_filter_line.py
|   |   ├── svg_filter_pie.py
|   |   ├── table_demo.py
|   |   ├── tickedstroke_demo.py
|   |   ├── transoffset.py
|   |   └── zorder_demo.py
|   ├── mplot3d
|   |   ├── 2dcollections3d.py
|   |   ├── 3d_bars.py
|   |   ├── README.txt
|   |   ├── bars3d.py
|   |   ├── box3d.py
|   |   ├── contour3d.py
|   |   ├── contour3d_2.py
|   |   ├── contour3d_3.py
|   |   ├── contourf3d.py
|   |   ├── contourf3d_2.py
|   |   ├── custom_shaded_3d_surface.py
|   |   ├── errorbar3d.py
|   |   ├── hist3d.py
|   |   ├── lines3d.py
|   |   ├── lorenz_attractor.py
|   |   ├── mixed_subplots.py
|   |   ├── offset.py
|   |   ├── pathpatch3d.py
|   |   ├── polys3d.py
|   |   ├── projections.py
|   |   ├── quiver3d.py
|   |   ├── rotate_axes3d_sgskip.py
|   |   ├── scatter3d.py
|   |   ├── stem3d_demo.py
|   |   ├── subplot3d.py
|   |   ├── surface3d.py
|   |   ├── surface3d_2.py
|   |   ├── surface3d_3.py
|   |   ├── surface3d_radial.py
|   |   ├── text3d.py
|   |   ├── tricontour3d.py
|   |   ├── tricontourf3d.py
|   |   ├── trisurf3d.py
|   |   ├── trisurf3d_2.py
|   |   ├── view_planes_3d.py
|   |   ├── voxels.py
|   |   ├── voxels_numpy_logo.py
|   |   ├── voxels_rgb.py
|   |   ├── voxels_torus.py
|   |   ├── wire3d.py
|   |   ├── wire3d_animation_sgskip.py
|   |   └── wire3d_zero_stride.py
|   ├── pie_and_polar_charts
|   |   ├── README.txt
|   |   ├── bar_of_pie.py
|   |   ├── nested_pie.py
|   |   ├── pie_and_donut_labels.py
|   |   ├── pie_demo2.py
|   |   ├── pie_features.py
|   |   ├── polar_bar.py
|   |   ├── polar_demo.py
|   |   ├── polar_error_caps.py
|   |   ├── polar_legend.py
|   |   └── polar_scatter.py
|   ├── pyplots
|   |   ├── README.txt
|   |   ├── axline.py
|   |   ├── pyplot_mathtext.py
|   |   ├── pyplot_simple.py
|   |   ├── pyplot_text.py
|   |   ├── pyplot_three.py
|   |   └── pyplot_two_subplots.py
|   ├── scales
|   |   ├── README.txt
|   |   ├── asinh_demo.py
|   |   ├── aspect_loglog.py
|   |   ├── custom_scale.py
|   |   ├── log_bar.py
|   |   ├── log_demo.py
|   |   ├── logit_demo.py
|   |   ├── power_norm.py
|   |   ├── scales.py
|   |   ├── semilogx_demo.py
|   |   └── symlog_demo.py
|   ├── shapes_and_collections
|   |   ├── README.txt
|   |   ├── arrow_guide.py
|   |   ├── artist_reference.py
|   |   ├── collections.py
|   |   ├── compound_path.py
|   |   ├── dolphin.py
|   |   ├── donut.py
|   |   ├── ellipse_collection.py
|   |   ├── ellipse_demo.py
|   |   ├── fancybox_demo.py
|   |   ├── hatch_demo.py
|   |   ├── hatch_style_reference.py
|   |   ├── line_collection.py
|   |   ├── patch_collection.py
|   |   ├── path_patch.py
|   |   ├── quad_bezier.py
|   |   └── scatter.py
|   ├── showcase
|   |   ├── README.txt
|   |   ├── anatomy.py
|   |   ├── firefox.py
|   |   ├── integral.py
|   |   ├── mandelbrot.py
|   |   ├── stock_prices.py
|   |   └── xkcd.py
|   ├── specialty_plots
|   |   ├── README.txt
|   |   ├── advanced_hillshading.py
|   |   ├── anscombe.py
|   |   ├── hinton_demo.py
|   |   ├── leftventricle_bulleye.py
|   |   ├── mri_demo.py
|   |   ├── mri_with_eeg.py
|   |   ├── radar_chart.py
|   |   ├── sankey_basics.py
|   |   ├── sankey_links.py
|   |   ├── sankey_rankine.py
|   |   ├── skewt.py
|   |   └── topographic_hillshading.py
|   ├── spines
|   |   ├── README.txt
|   |   ├── centered_spines_with_arrows.py
|   |   ├── multiple_yaxis_with_spines.py
|   |   ├── spine_placement_demo.py
|   |   ├── spines.py
|   |   └── spines_dropped.py
|   ├── statistics
|   |   ├── README.txt
|   |   ├── barchart_demo.py
|   |   ├── boxplot.py
|   |   ├── boxplot_color.py
|   |   ├── boxplot_demo.py
|   |   ├── boxplot_vs_violin.py
|   |   ├── bxp.py
|   |   ├── confidence_ellipse.py
|   |   ├── customized_violin.py
|   |   ├── errorbar.py
|   |   ├── errorbar_features.py
|   |   ├── errorbar_limits.py
|   |   ├── errorbars_and_boxes.py
|   |   ├── hexbin_demo.py
|   |   ├── hist.py
|   |   ├── histogram_cumulative.py
|   |   ├── histogram_features.py
|   |   ├── histogram_histtypes.py
|   |   ├── histogram_multihist.py
|   |   ├── multiple_histograms_side_by_side.py
|   |   ├── time_series_histogram.py
|   |   └── violinplot.py
|   ├── style_sheets
|   |   ├── README.txt
|   |   ├── bmh.py
|   |   ├── dark_background.py
|   |   ├── fivethirtyeight.py
|   |   ├── ggplot.py
|   |   ├── grayscale.py
|   |   ├── plot_solarizedlight2.py
|   |   └── style_sheets_reference.py
|   ├── subplots_axes_and_figures
|   |   ├── README.txt
|   |   ├── align_labels_demo.py
|   |   ├── auto_subplots_adjust.py
|   |   ├── axes_box_aspect.py
|   |   ├── axes_demo.py
|   |   ├── axes_margins.py
|   |   ├── axes_props.py
|   |   ├── axes_zoom_effect.py
|   |   ├── axhspan_demo.py
|   |   ├── axis_equal_demo.py
|   |   ├── axis_labels_demo.py
|   |   ├── broken_axis.py
|   |   ├── colorbar_placement.py
|   |   ├── custom_figure_class.py
|   |   ├── demo_constrained_layout.py
|   |   ├── demo_tight_layout.py
|   |   ├── fahrenheit_celsius_scales.py
|   |   ├── figure_size_units.py
|   |   ├── figure_title.py
|   |   ├── ganged_plots.py
|   |   ├── geo_demo.py
|   |   ├── gridspec_and_subplots.py
|   |   ├── gridspec_multicolumn.py
|   |   ├── gridspec_nested.py
|   |   ├── invert_axes.py
|   |   ├── multiple_figs_demo.py
|   |   ├── secondary_axis.py
|   |   ├── share_axis_lims_views.py
|   |   ├── shared_axis_demo.py
|   |   ├── subfigures.py
|   |   ├── subplot.py
|   |   ├── subplots_adjust.py
|   |   ├── subplots_demo.py
|   |   ├── two_scales.py
|   |   └── zoom_inset_axes.py
|   ├── text_labels_and_annotations
|   |   ├── README.txt
|   |   ├── accented_text.py
|   |   ├── align_ylabels.py
|   |   ├── angle_annotation.py
|   |   ├── angles_on_bracket_arrows.py
|   |   ├── annotate_transform.py
|   |   ├── annotation_basic.py
|   |   ├── annotation_demo.py
|   |   ├── annotation_polar.py
|   |   ├── arrow_demo.py
|   |   ├── autowrap.py
|   |   ├── custom_legends.py
|   |   ├── date.py
|   |   ├── demo_annotation_box.py
|   |   ├── demo_text_path.py
|   |   ├── demo_text_rotation_mode.py
|   |   ├── dfrac_demo.py
|   |   ├── engineering_formatter.py
|   |   ├── fancyarrow_demo.py
|   |   ├── fancytextbox_demo.py
|   |   ├── figlegend_demo.py
|   |   ├── font_family_rc.py
|   |   ├── font_file.py
|   |   ├── font_table.py
|   |   ├── fonts_demo.py
|   |   ├── fonts_demo_kw.py
|   |   ├── label_subplots.py
|   |   ├── legend.py
|   |   ├── legend_demo.py
|   |   ├── line_with_text.py
|   |   ├── mathtext_asarray.py
|   |   ├── mathtext_demo.py
|   |   ├── mathtext_examples.py
|   |   ├── mathtext_fontfamily_example.py
|   |   ├── multiline.py
|   |   ├── placing_text_boxes.py
|   |   ├── rainbow_text.py
|   |   ├── stix_fonts_demo.py
|   |   ├── tex_demo.py
|   |   ├── text_alignment.py
|   |   ├── text_commands.py
|   |   ├── text_fontdict.py
|   |   ├── text_rotation_relative_to_line.py
|   |   ├── titles_demo.py
|   |   ├── unicode_minus.py
|   |   ├── usetex_baseline_test.py
|   |   ├── usetex_fonteffects.py
|   |   └── watermark_text.py
|   ├── ticks
|   |   ├── README.txt
|   |   ├── auto_ticks.py
|   |   ├── centered_ticklabels.py
|   |   ├── colorbar_tick_labelling_demo.py
|   |   ├── custom_ticker1.py
|   |   ├── date_concise_formatter.py
|   |   ├── date_demo_convert.py
|   |   ├── date_demo_rrule.py
|   |   ├── date_formatters_locators.py
|   |   ├── date_index_formatter.py
|   |   ├── date_precision_and_epochs.py
|   |   ├── dollar_ticks.py
|   |   ├── fig_axes_customize_simple.py
|   |   ├── major_minor_demo.py
|   |   ├── scalarformatter.py
|   |   ├── tick-formatters.py
|   |   ├── tick-locators.py
|   |   ├── tick_label_right.py
|   |   ├── tick_labels_from_values.py
|   |   ├── tick_xlabel_top.py
|   |   ├── ticklabels_rotation.py
|   |   └── ticks_too_many.py
|   ├── units
|   |   ├── README.txt
|   |   ├── annotate_with_units.py
|   |   ├── artist_tests.py
|   |   ├── bar_demo2.py
|   |   ├── bar_unit_demo.py
|   |   ├── basic_units.py
|   |   ├── ellipse_with_units.py
|   |   ├── evans_test.py
|   |   ├── radian_demo.py
|   |   ├── units_sample.py
|   |   └── units_scatter.py
|   ├── user_interfaces
|   |   ├── README.txt
|   |   ├── canvasagg.py
|   |   ├── embedding_in_gtk3_panzoom_sgskip.py
|   |   ├── embedding_in_gtk3_sgskip.py
|   |   ├── embedding_in_gtk4_panzoom_sgskip.py
|   |   ├── embedding_in_gtk4_sgskip.py
|   |   ├── embedding_in_qt_sgskip.py
|   |   ├── embedding_in_tk_sgskip.py
|   |   ├── embedding_in_wx2_sgskip.py
|   |   ├── embedding_in_wx3_sgskip.py
|   |   ├── embedding_in_wx4_sgskip.py
|   |   ├── embedding_in_wx5_sgskip.py
|   |   ├── embedding_webagg_sgskip.py
|   |   ├── fourier_demo_wx_sgskip.py
|   |   ├── gtk3_spreadsheet_sgskip.py
|   |   ├── gtk4_spreadsheet_sgskip.py
|   |   ├── images
|   |   ├── mathtext_wx_sgskip.py
|   |   ├── mpl_with_glade3_sgskip.py
|   |   ├── mplcvd.py
|   |   ├── pylab_with_gtk3_sgskip.py
|   |   ├── pylab_with_gtk4_sgskip.py
|   |   ├── svg_histogram_sgskip.py
|   |   ├── svg_tooltip_sgskip.py
|   |   ├── toolmanager_sgskip.py
|   |   ├── web_application_server_sgskip.py
|   |   └── wxcursor_demo_sgskip.py
|   ├── userdemo
|   |   ├── README.txt
|   |   ├── anchored_box04.py
|   |   ├── annotate_explain.py
|   |   ├── annotate_simple01.py
|   |   ├── annotate_simple02.py
|   |   ├── annotate_simple03.py
|   |   ├── annotate_simple04.py
|   |   ├── annotate_simple_coord01.py
|   |   ├── annotate_simple_coord02.py
|   |   ├── annotate_simple_coord03.py
|   |   ├── annotate_text_arrow.py
|   |   ├── connect_simple01.py
|   |   ├── connectionstyle_demo.py
|   |   ├── custom_boxstyle01.py
|   |   ├── demo_gridspec01.py
|   |   ├── demo_gridspec03.py
|   |   ├── demo_gridspec06.py
|   |   ├── pgf_fonts.py
|   |   ├── pgf_preamble_sgskip.py
|   |   ├── pgf_texsystem.py
|   |   ├── simple_annotate01.py
|   |   ├── simple_legend01.py
|   |   └── simple_legend02.py
|   └── widgets
|       ├── README.txt
|       ├── annotated_cursor.py
|       ├── buttons.py
|       ├── check_buttons.py
|       ├── cursor.py
|       ├── lasso_selector_demo_sgskip.py
|       ├── menu.py
|       ├── mouse_cursor.py
|       ├── multicursor.py
|       ├── polygon_selector_demo.py
|       ├── polygon_selector_simple.py
|       ├── radio_buttons.py
|       ├── range_slider.py
|       ├── rectangle_selector.py
|       ├── slider_demo.py
|       ├── slider_snap_demo.py
|       ├── span_selector.py
|       └── textbox.py
├── extern
|   ├── agg24-svn
|   |   ├── include
|   |   |   ├── ctrl
|   |   |   ├── platform
|   |   |   |   ├── mac
|   |   |   |   └── win32
|   |   |   └── util
|   |   └── src
|   |       ├── agg_arc.cpp
|   |       ├── agg_arrowhead.cpp
|   |       ├── agg_bezier_arc.cpp
|   |       ├── agg_bspline.cpp
|   |       ├── agg_color_rgba.cpp
|   |       ├── agg_curves.cpp
|   |       ├── agg_embedded_raster_fonts.cpp
|   |       ├── agg_gsv_text.cpp
|   |       ├── agg_image_filters.cpp
|   |       ├── agg_line_aa_basics.cpp
|   |       ├── agg_line_profile_aa.cpp
|   |       ├── agg_rounded_rect.cpp
|   |       ├── agg_sqrt_tables.cpp
|   |       ├── agg_trans_affine.cpp
|   |       ├── agg_trans_double_path.cpp
|   |       ├── agg_trans_single_path.cpp
|   |       ├── agg_trans_warp_magnifier.cpp
|   |       ├── agg_vcgen_bspline.cpp
|   |       ├── agg_vcgen_contour.cpp
|   |       ├── agg_vcgen_dash.cpp
|   |       ├── agg_vcgen_markers_term.cpp
|   |       ├── agg_vcgen_smooth_poly1.cpp
|   |       ├── agg_vcgen_stroke.cpp
|   |       ├── agg_vpgen_clip_polygon.cpp
|   |       ├── agg_vpgen_clip_polyline.cpp
|   |       ├── agg_vpgen_segmentator.cpp
|   |       ├── ctrl
|   |       |   ├── agg_bezier_ctrl.cpp
|   |       |   ├── agg_cbox_ctrl.cpp
|   |       |   ├── agg_gamma_ctrl.cpp
|   |       |   ├── agg_gamma_spline.cpp
|   |       |   ├── agg_polygon_ctrl.cpp
|   |       |   ├── agg_rbox_ctrl.cpp
|   |       |   ├── agg_scale_ctrl.cpp
|   |       |   ├── agg_slider_ctrl.cpp
|   |       |   └── agg_spline_ctrl.cpp
|   |       └── platform
|   |           ├── AmigaOS
|   |           ├── BeOS
|   |           ├── X11
|   |           ├── mac
|   |           ├── sdl
|   |           └── win32
|   └── ttconv
|       ├── pprdrv_tt.cpp
|       ├── pprdrv_tt2.cpp
|       └── ttutil.cpp
├── lib
|   ├── matplotlib
|   |   ├── __init__.py
|   |   ├── _afm.py
|   |   ├── _animation_data.py
|   |   ├── _api
|   |   |   ├── __init__.py
|   |   |   └── deprecation.py
|   |   ├── _blocking_input.py
|   |   ├── _cm.py
|   |   ├── _cm_listed.py
|   |   ├── _color_data.py
|   |   ├── _constrained_layout.py
|   |   ├── _docstring.py
|   |   ├── _enums.py
|   |   ├── _fontconfig_pattern.py
|   |   ├── _internal_utils.py
|   |   ├── _layoutgrid.py
|   |   ├── _mathtext.py
|   |   ├── _mathtext_data.py
|   |   ├── _pylab_helpers.py
|   |   ├── _text_helpers.py
|   |   ├── _tight_bbox.py
|   |   ├── _tight_layout.py
|   |   ├── _type1font.py
|   |   ├── afm.py
|   |   ├── animation.py
|   |   ├── artist.py
|   |   ├── axes
|   |   |   ├── __init__.py
|   |   |   ├── _axes.py
|   |   |   ├── _base.py
|   |   |   └── _secondary_axes.py
|   |   ├── axis.py
|   |   ├── backend_bases.py
|   |   ├── backend_managers.py
|   |   ├── backend_tools.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── _backend_gtk.py
|   |   |   ├── _backend_pdf_ps.py
|   |   |   ├── _backend_tk.py
|   |   |   ├── backend_agg.py
|   |   |   ├── backend_cairo.py
|   |   |   ├── backend_gtk3.py
|   |   |   ├── backend_gtk3agg.py
|   |   |   ├── backend_gtk3cairo.py
|   |   |   ├── backend_gtk4.py
|   |   |   ├── backend_gtk4agg.py
|   |   |   ├── backend_gtk4cairo.py
|   |   |   ├── backend_macosx.py
|   |   |   ├── backend_mixed.py
|   |   |   ├── backend_nbagg.py
|   |   |   ├── backend_pdf.py
|   |   |   ├── backend_pgf.py
|   |   |   ├── backend_ps.py
|   |   |   ├── backend_qt.py
|   |   |   ├── backend_qt5.py
|   |   |   ├── backend_qt5agg.py
|   |   |   ├── backend_qt5cairo.py
|   |   |   ├── backend_qtagg.py
|   |   |   ├── backend_qtcairo.py
|   |   |   ├── backend_svg.py
|   |   |   ├── backend_template.py
|   |   |   ├── backend_tkagg.py
|   |   |   ├── backend_tkcairo.py
|   |   |   ├── backend_webagg.py
|   |   |   ├── backend_webagg_core.py
|   |   |   ├── backend_wx.py
|   |   |   ├── backend_wxagg.py
|   |   |   ├── backend_wxcairo.py
|   |   |   ├── qt_compat.py
|   |   |   ├── qt_editor
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _formlayout.py
|   |   |   |   └── figureoptions.py
|   |   |   └── web_backend
|   |   |       ├── .eslintrc.js
|   |   |       ├── css
|   |   |       └── js
|   |   ├── bezier.py
|   |   ├── category.py
|   |   ├── cbook
|   |   |   └── __init__.py
|   |   ├── cm.py
|   |   ├── collections.py
|   |   ├── colorbar.py
|   |   ├── colors.py
|   |   ├── container.py
|   |   ├── contour.py
|   |   ├── dates.py
|   |   ├── docstring.py
|   |   ├── dviread.py
|   |   ├── figure.py
|   |   ├── font_manager.py
|   |   ├── fontconfig_pattern.py
|   |   ├── gridspec.py
|   |   ├── hatch.py
|   |   ├── image.py
|   |   ├── layout_engine.py
|   |   ├── legend.py
|   |   ├── legend_handler.py
|   |   ├── lines.py
|   |   ├── markers.py
|   |   ├── mathtext.py
|   |   ├── mlab.py
|   |   ├── mpl-data
|   |   |   ├── fonts
|   |   |   |   ├── afm
|   |   |   |   ├── pdfcorefonts
|   |   |   |   └── ttf
|   |   |   ├── images
|   |   |   ├── plot_directive
|   |   |   ├── sample_data
|   |   |   |   ├── README.txt
|   |   |   |   └── axes_grid
|   |   |   └── stylelib
|   |   ├── offsetbox.py
|   |   ├── patches.py
|   |   ├── path.py
|   |   ├── patheffects.py
|   |   ├── projections
|   |   |   ├── __init__.py
|   |   |   ├── geo.py
|   |   |   └── polar.py
|   |   ├── pylab.py
|   |   ├── pyplot.py
|   |   ├── quiver.py
|   |   ├── rcsetup.py
|   |   ├── sankey.py
|   |   ├── scale.py
|   |   ├── sphinxext
|   |   |   ├── __init__.py
|   |   |   ├── mathmpl.py
|   |   |   └── plot_directive.py
|   |   ├── spines.py
|   |   ├── stackplot.py
|   |   ├── streamplot.py
|   |   ├── style
|   |   |   ├── __init__.py
|   |   |   └── core.py
|   |   ├── table.py
|   |   ├── testing
|   |   |   ├── __init__.py
|   |   |   ├── _markers.py
|   |   |   ├── compare.py
|   |   |   ├── conftest.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── jpl_units
|   |   |   |   ├── Duration.py
|   |   |   |   ├── Epoch.py
|   |   |   |   ├── EpochConverter.py
|   |   |   |   ├── StrConverter.py
|   |   |   |   ├── UnitDbl.py
|   |   |   |   ├── UnitDblConverter.py
|   |   |   |   ├── UnitDblFormatter.py
|   |   |   |   └── __init__.py
|   |   |   └── widgets.py
|   |   ├── tests
|   |   |   ├── __init__.py
|   |   |   ├── baseline_images
|   |   |   |   ├── dviread
|   |   |   |   ├── pngsuite
|   |   |   |   ├── test_agg
|   |   |   |   ├── test_agg_filter
|   |   |   |   ├── test_arrow_patches
|   |   |   |   ├── test_artist
|   |   |   |   ├── test_axes
|   |   |   |   ├── test_backend_pdf
|   |   |   |   ├── test_backend_pgf
|   |   |   |   ├── test_backend_ps
|   |   |   |   ├── test_backend_svg
|   |   |   |   ├── test_bbox_tight
|   |   |   |   ├── test_collections
|   |   |   |   ├── test_colorbar
|   |   |   |   ├── test_colors
|   |   |   |   ├── test_compare_images
|   |   |   |   ├── test_constrainedlayout
|   |   |   |   ├── test_contour
|   |   |   |   ├── test_dates
|   |   |   |   ├── test_figure
|   |   |   |   ├── test_image
|   |   |   |   ├── test_legend
|   |   |   |   ├── test_lines
|   |   |   |   ├── test_mathtext
|   |   |   |   ├── test_offsetbox
|   |   |   |   ├── test_patches
|   |   |   |   ├── test_path
|   |   |   |   ├── test_patheffects
|   |   |   |   ├── test_png
|   |   |   |   ├── test_polar
|   |   |   |   ├── test_quiver
|   |   |   |   ├── test_scale
|   |   |   |   ├── test_simplification
|   |   |   |   ├── test_skew
|   |   |   |   ├── test_spines
|   |   |   |   ├── test_streamplot
|   |   |   |   ├── test_subplots
|   |   |   |   ├── test_table
|   |   |   |   ├── test_text
|   |   |   |   ├── test_tightlayout
|   |   |   |   ├── test_transforms
|   |   |   |   ├── test_triangulation
|   |   |   |   ├── test_ttconv
|   |   |   |   ├── test_units
|   |   |   |   ├── test_usetex
|   |   |   |   └── test_widgets
|   |   |   ├── conftest.py
|   |   |   ├── test_afm.py
|   |   |   ├── test_agg.py
|   |   |   ├── test_agg_filter.py
|   |   |   ├── test_animation.py
|   |   |   ├── test_api.py
|   |   |   ├── test_arrow_patches.py
|   |   |   ├── test_artist.py
|   |   |   ├── test_axes.py
|   |   |   ├── test_backend_bases.py
|   |   |   ├── test_backend_cairo.py
|   |   |   ├── test_backend_gtk3.py
|   |   |   ├── test_backend_macosx.py
|   |   |   ├── test_backend_nbagg.py
|   |   |   ├── test_backend_pdf.py
|   |   |   ├── test_backend_pgf.py
|   |   |   ├── test_backend_ps.py
|   |   |   ├── test_backend_qt.py
|   |   |   ├── test_backend_svg.py
|   |   |   ├── test_backend_template.py
|   |   |   ├── test_backend_tk.py
|   |   |   ├── test_backend_tools.py
|   |   |   ├── test_backend_webagg.py
|   |   |   ├── test_backends_interactive.py
|   |   |   ├── test_basic.py
|   |   |   ├── test_bbox_tight.py
|   |   |   ├── test_category.py
|   |   |   ├── test_cbook.py
|   |   |   ├── test_collections.py
|   |   |   ├── test_colorbar.py
|   |   |   ├── test_colors.py
|   |   |   ├── test_compare_images.py
|   |   |   ├── test_constrainedlayout.py
|   |   |   ├── test_container.py
|   |   |   ├── test_contour.py
|   |   |   ├── test_cycles.py
|   |   |   ├── test_dates.py
|   |   |   ├── test_determinism.py
|   |   |   ├── test_doc.py
|   |   |   ├── test_dviread.py
|   |   |   ├── test_figure.py
|   |   |   ├── test_font_manager.py
|   |   |   ├── test_fontconfig_pattern.py
|   |   |   ├── test_ft2font.py
|   |   |   ├── test_getattr.py
|   |   |   ├── test_gridspec.py
|   |   |   ├── test_image.py
|   |   |   ├── test_legend.py
|   |   |   ├── test_lines.py
|   |   |   ├── test_marker.py
|   |   |   ├── test_mathtext.py
|   |   |   ├── test_matplotlib.py
|   |   |   ├── test_mlab.py
|   |   |   ├── test_offsetbox.py
|   |   |   ├── test_patches.py
|   |   |   ├── test_path.py
|   |   |   ├── test_patheffects.py
|   |   |   ├── test_pickle.py
|   |   |   ├── test_png.py
|   |   |   ├── test_polar.py
|   |   |   ├── test_preprocess_data.py
|   |   |   ├── test_pyplot.py
|   |   |   ├── test_quiver.py
|   |   |   ├── test_rcparams.py
|   |   |   ├── test_sankey.py
|   |   |   ├── test_scale.py
|   |   |   ├── test_simplification.py
|   |   |   ├── test_skew.py
|   |   |   ├── test_sphinxext.py
|   |   |   ├── test_spines.py
|   |   |   ├── test_streamplot.py
|   |   |   ├── test_style.py
|   |   |   ├── test_subplots.py
|   |   |   ├── test_table.py
|   |   |   ├── test_testing.py
|   |   |   ├── test_texmanager.py
|   |   |   ├── test_text.py
|   |   |   ├── test_textpath.py
|   |   |   ├── test_ticker.py
|   |   |   ├── test_tightlayout.py
|   |   |   ├── test_transforms.py
|   |   |   ├── test_triangulation.py
|   |   |   ├── test_ttconv.py
|   |   |   ├── test_type1font.py
|   |   |   ├── test_units.py
|   |   |   ├── test_usetex.py
|   |   |   ├── test_widgets.py
|   |   |   └── tinypages
|   |   |       ├── README.md
|   |   |       ├── _static
|   |   |       ├── conf.py
|   |   |       ├── included_plot_21.rst
|   |   |       ├── index.rst
|   |   |       ├── range4.py
|   |   |       ├── range6.py
|   |   |       └── some_plots.rst
|   |   ├── texmanager.py
|   |   ├── text.py
|   |   ├── textpath.py
|   |   ├── ticker.py
|   |   ├── tight_bbox.py
|   |   ├── tight_layout.py
|   |   ├── transforms.py
|   |   ├── tri
|   |   |   ├── __init__.py
|   |   |   ├── _triangulation.py
|   |   |   ├── _tricontour.py
|   |   |   ├── _trifinder.py
|   |   |   ├── _triinterpolate.py
|   |   |   ├── _tripcolor.py
|   |   |   ├── _triplot.py
|   |   |   ├── _trirefine.py
|   |   |   ├── _tritools.py
|   |   |   ├── triangulation.py
|   |   |   ├── tricontour.py
|   |   |   ├── trifinder.py
|   |   |   ├── triinterpolate.py
|   |   |   ├── tripcolor.py
|   |   |   ├── triplot.py
|   |   |   ├── trirefine.py
|   |   |   └── tritools.py
|   |   ├── type1font.py
|   |   ├── units.py
|   |   └── widgets.py
|   ├── mpl_toolkits
|   |   ├── __init__.py
|   |   ├── axes_grid1
|   |   |   ├── __init__.py
|   |   |   ├── anchored_artists.py
|   |   |   ├── axes_divider.py
|   |   |   ├── axes_grid.py
|   |   |   ├── axes_rgb.py
|   |   |   ├── axes_size.py
|   |   |   ├── inset_locator.py
|   |   |   ├── mpl_axes.py
|   |   |   ├── parasite_axes.py
|   |   |   └── tests
|   |   |       ├── __init__.py
|   |   |       ├── baseline_images
|   |   |       ├── conftest.py
|   |   |       └── test_axes_grid1.py
|   |   ├── axisartist
|   |   |   ├── __init__.py
|   |   |   ├── angle_helper.py
|   |   |   ├── axes_divider.py
|   |   |   ├── axes_grid.py
|   |   |   ├── axes_rgb.py
|   |   |   ├── axis_artist.py
|   |   |   ├── axisline_style.py
|   |   |   ├── axislines.py
|   |   |   ├── floating_axes.py
|   |   |   ├── grid_finder.py
|   |   |   ├── grid_helper_curvelinear.py
|   |   |   ├── parasite_axes.py
|   |   |   └── tests
|   |   |       ├── __init__.py
|   |   |       ├── baseline_images
|   |   |       ├── conftest.py
|   |   |       ├── test_angle_helper.py
|   |   |       ├── test_axis_artist.py
|   |   |       ├── test_axislines.py
|   |   |       ├── test_floating_axes.py
|   |   |       ├── test_grid_finder.py
|   |   |       └── test_grid_helper_curvelinear.py
|   |   └── mplot3d
|   |       ├── __init__.py
|   |       ├── art3d.py
|   |       ├── axes3d.py
|   |       ├── axis3d.py
|   |       ├── proj3d.py
|   |       └── tests
|   |           ├── __init__.py
|   |           ├── baseline_images
|   |           ├── conftest.py
|   |           ├── test_art3d.py
|   |           ├── test_axes3d.py
|   |           └── test_legend3d.py
|   └── pylab.py
├── plot_types
|   ├── 3D
|   |   ├── README.rst
|   |   ├── scatter3d_simple.py
|   |   ├── surface3d_simple.py
|   |   ├── trisurf3d_simple.py
|   |   ├── voxels_simple.py
|   |   └── wire3d_simple.py
|   ├── README.rst
|   ├── arrays
|   |   ├── README.rst
|   |   ├── barbs.py
|   |   ├── contour.py
|   |   ├── contourf.py
|   |   ├── imshow.py
|   |   ├── pcolormesh.py
|   |   ├── quiver.py
|   |   └── streamplot.py
|   ├── basic
|   |   ├── README.rst
|   |   ├── bar.py
|   |   ├── fill_between.py
|   |   ├── plot.py
|   |   ├── scatter_plot.py
|   |   ├── stackplot.py
|   |   ├── stem.py
|   |   └── step.py
|   ├── stats
|   |   ├── README.rst
|   |   ├── boxplot_plot.py
|   |   ├── errorbar_plot.py
|   |   ├── eventplot.py
|   |   ├── hexbin.py
|   |   ├── hist2d.py
|   |   ├── hist_plot.py
|   |   ├── pie.py
|   |   └── violin.py
|   └── unstructured
|       ├── README.rst
|       ├── tricontour.py
|       ├── tricontourf.py
|       ├── tripcolor.py
|       └── triplot.py
├── requirements
|   ├── dev
|   |   └── dev-requirements.txt
|   ├── doc
|   |   └── doc-requirements.txt
|   └── testing
|       ├── all.txt
|       ├── extra.txt
|       ├── flake8.txt
|       └── minver.txt
├── setup.py
├── setupext.py
├── src
|   ├── _backend_agg.cpp
|   ├── _backend_agg_wrapper.cpp
|   ├── _c_internal_utils.c
|   ├── _image_wrapper.cpp
|   ├── _path_wrapper.cpp
|   ├── _qhull_wrapper.cpp
|   ├── _tkagg.cpp
|   ├── _ttconv.cpp
|   ├── checkdep_freetype2.c
|   ├── doc
|   ├── ft2font.cpp
|   ├── ft2font_wrapper.cpp
|   ├── py_converters.cpp
|   └── tri
|       ├── _tri.cpp
|       └── _tri_wrapper.cpp
├── tests.py
├── tools
|   ├── README.txt
|   ├── boilerplate.py
|   ├── cache_zenodo_svg.py
|   ├── create_DejaVuDisplay.sh
|   ├── embed_js.py
|   ├── gh_api.py
|   ├── github_stats.py
|   ├── make_icons.py
|   ├── memleak.py
|   ├── run_examples.py
|   ├── subset.py
|   ├── triage_tests.py
|   └── visualize_tests.py
└── tutorials
    ├── README.txt
    ├── advanced
    |   ├── README.txt
    |   ├── blitting.py
    |   ├── path_tutorial.py
    |   ├── patheffects_guide.py
    |   └── transforms_tutorial.py
    ├── colors
    |   ├── README.txt
    |   ├── colorbar_only.py
    |   ├── colormap-manipulation.py
    |   ├── colormapnorms.py
    |   ├── colormaps.py
    |   └── colors.py
    ├── intermediate
    |   ├── README.txt
    |   ├── arranging_axes.py
    |   ├── artists.py
    |   ├── autoscale.py
    |   ├── color_cycle.py
    |   ├── constrainedlayout_guide.py
    |   ├── imshow_extent.py
    |   ├── legend_guide.py
    |   └── tight_layout_guide.py
    ├── introductory
    |   ├── README.txt
    |   ├── animation_tutorial.py
    |   ├── customizing.py
    |   ├── images.py
    |   ├── lifecycle.py
    |   ├── pyplot.py
    |   └── quick_start.py
    ├── provisional
    |   ├── README.txt
    |   └── mosaic.py
    ├── text
    |   ├── README.txt
    |   ├── annotations.py
    |   ├── mathtext.py
    |   ├── pgf.py
    |   ├── text_intro.py
    |   ├── text_props.py
    |   └── usetex.py
    └── toolkits
        ├── README.txt
        ├── axes_grid.py
        ├── axisartist.py
        └── mplot3d.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
[ENH]: Auto-detect bool arrays passed to contour()?

Issue description: 
### Problem

I find myself fairly regularly calling
```python
plt.contour(boolean_2d_array, levels=[.5], ...)
```
to draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).
```python
from pylab import *
ii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])
```
![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)


### Proposed solution

Autodetect boolean inputs to contour, and default levels to [0.5] in that case.

I guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).

Thoughts?

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: lib/matplotlib/tests/test_contour.py
Line number range: 103 - 112
Content:
103. def test_contour_uniform_z():
104. 
105.     x = np.arange(9)
106.     z = np.ones((9, 9))
107. 
108.     fig, ax = plt.subplots()
109.     with pytest.warns(UserWarning) as record:
110.         ax.contour(x, x, z)
111.     assert len(record) == 1
112. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 76 - 85
Content:
76. def test_contour_Nlevels():
77.     # A scalar levels arg or kwarg should trigger auto level generation.
78.     # https://github.com/matplotlib/matplotlib/issues/11913
79.     z = np.arange(12).reshape((3, 4))
80.     fig, ax = plt.subplots()
81.     cs1 = ax.contour(z, 5)
82.     assert len(cs1.levels) > 1
83.     cs2 = ax.contour(z, levels=5)
84.     assert (cs1.levels == cs2.levels).all()
85. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 240 - 246
Content:
240. def test_contourf_symmetric_locator():
241.     # github issue 7271
242.     z = np.arange(12).reshape((3, 4))
243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)
244.     cs = plt.contourf(z, locator=locator)
245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))
246. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 379 - 389
Content:
379. @image_comparison(baseline_images=['contour_closed_line_loop'],
380.                   extensions=['png'], remove_text=True)
381. def test_contour_closed_line_loop():
382.     # github issue 19568.
383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]
384. 
385.     fig, ax = plt.subplots(figsize=(2, 2))
386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)
387.     ax.set_xlim(-0.1, 2.1)
388.     ax.set_ylim(-0.1, 3.1)
389. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 214 - 230
Content:
214. @image_comparison(['contour_corner_mask_False.png',
215.                    'contour_corner_mask_True.png'],
216.                   remove_text=True)
217. def test_corner_mask():
218.     n = 60
219.     mask_level = 0.95
220.     noise_amp = 1.0
221.     np.random.seed([1])
222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))
223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)
224.     mask = np.random.rand(n, n) >= mask_level
225.     z = np.ma.array(z, mask=mask)
226. 
227.     for corner_mask in [False, True]:
228.         plt.figure()
229.         plt.contourf(z, corner_mask=corner_mask)
230. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-06 10:47:30,147 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='1. The user wants 5 complete, self-contained test cases, which must include all necessary imports.\n2. The current context provides 5 relevant test function snippets from `lib/matplotlib/tests/test_contour.py`.\n3. However, the file-level imports are missing from the provided context.\n4. To fulfill the requirement of providing complete test cases with all imports, I need to retrieve the import statements from the beginning of the test file.' refined_query='Please provide the initial part of the file `lib/matplotlib/tests/test_contour.py` to see the import statements.'
2025-10-06 10:47:33,452 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I will read the first 50 lines of the file `lib/matplotlib/tests/test_contour.py` to show you the initial part of the file, which typically contains the import statements.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1.0, "relative_path": "lib/matplotlib/tests/test_contour.py", "end_line": 50.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 21617, 'candidates_token_count': 73, 'total_token_count': 21773, 'prompt_tokens_details': [{'modality': 1, 'token_count': 21617}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 73}], 'thoughts_token_count': 83, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05083969194595128, 'model_name': 'gemini-2.5-pro'} id='run--99a0b6c4-00d1-4e33-924f-89890fc56e9a-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1.0, 'relative_path': 'lib/matplotlib/tests/test_contour.py', 'end_line': 50.0}, 'id': '07f957c5-6859-4666-953b-fe569be43bbe', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21617, 'output_tokens': 73, 'total_tokens': 21773, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 83}}
2025-10-06 10:47:36,203 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the first 50 lines of `lib/matplotlib/tests/test_contour.py`, which includes all of the initial import statements. This allows you to see the libraries and modules that are used within this test file, such as `numpy`, `matplotlib`, and `pytest`. Let me know if you would like to see more of the file or have any other questions.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 22571, 'candidates_token_count': 80, 'total_token_count': 22708, 'cached_content_token_count': 19692, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22571}], 'cache_tokens_details': [{'modality': 1, 'token_count': 19692}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 80}], 'thoughts_token_count': 57}, 'finish_reason': 'STOP', 'avg_logprobs': -0.16312363147735595, 'model_name': 'gemini-2.5-pro'} id='run--049471c2-7a3e-434f-8689-ff56166ce927-0' usage_metadata={'input_tokens': 22571, 'output_tokens': 80, 'total_tokens': 22708, 'input_token_details': {'cache_read': 19692}, 'output_token_details': {'reasoning': 57}}
2025-10-06 10:47:36,203 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-06 10:47:36,204 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
[ENH]: Auto-detect bool arrays passed to contour()?

Issue description: 
### Problem

I find myself fairly regularly calling
```python
plt.contour(boolean_2d_array, levels=[.5], ...)
```
to draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).
```python
from pylab import *
ii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])
```
![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)


### Proposed solution

Autodetect boolean inputs to contour, and default levels to [0.5] in that case.

I guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).

Thoughts?

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the initial part of the file `lib/matplotlib/tests/test_contour.py` to see the import statements.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: lib/matplotlib/tests/test_contour.py
Line number range: 1 - 50
Content:
1. import datetime
2. import platform
3. import re
4. 
5. import contourpy
6. import numpy as np
7. from numpy.testing import (
8.     assert_array_almost_equal, assert_array_almost_equal_nulp)
9. import matplotlib as mpl
10. from matplotlib.testing.decorators import image_comparison
11. from matplotlib import pyplot as plt, rc_context
12. from matplotlib.colors import LogNorm, same_color
13. import pytest
14. 
15. 
16. def test_contour_shape_1d_valid():
17. 
18.     x = np.arange(10)
19.     y = np.arange(9)
20.     z = np.random.random((9, 10))
21. 
22.     fig, ax = plt.subplots()
23.     ax.contour(x, y, z)
24. 
25. 
26. def test_contour_shape_2d_valid():
27. 
28.     x = np.arange(10)
29.     y = np.arange(9)
30.     xg, yg = np.meshgrid(x, y)
31.     z = np.random.random((9, 10))
32. 
33.     fig, ax = plt.subplots()
34.     ax.contour(xg, yg, z)
35. 
36. 
37. @pytest.mark.parametrize("args, message", [
38.     ((np.arange(9), np.arange(9), np.empty((9, 10))),
39.      'Length of x (9) must match number of columns in z (10)'),
40.     ((np.arange(10), np.arange(10), np.empty((9, 10))),
41.      'Length of y (10) must match number of rows in z (9)'),
42.     ((np.empty((10, 10)), np.arange(10), np.empty((9, 10))),
43.      'Number of dimensions of x (2) and y (1) do not match'),
44.     ((np.arange(10), np.empty((10, 10)), np.empty((9, 10))),
45.      'Number of dimensions of x (1) and y (2) do not match'),
46.     ((np.empty((9, 9)), np.empty((9, 10)), np.empty((9, 10))),
47.      'Shapes of x (9, 9) and z (9, 10) do not match'),
48.     ((np.empty((9, 10)), np.empty((9, 9)), np.empty((9, 10))),
49.      'Shapes of y (9, 9) and z (9, 10) do not match'),
50.     ((np.empty((3, 3, 3)), np.empty((3, 3, 3)), np.empty((9, 10))),


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-06 10:47:43,927 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's refinement query specifically asks for the import statements from the file `lib/matplotlib/tests/test_contour.py`.\n2. Extended relevance:\n   - This code block contains all the import statements at the beginning of the `test_contour.py` file.\n   - This directly fulfills the user's request to see the imports used in the contour tests.", relative_path='lib/matplotlib/tests/test_contour.py', start_line=1, end_line=14)]
2025-10-06 10:47:43,927 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='lib/matplotlib/tests/test_contour.py', content='103. def test_contour_uniform_z():\n104. \n105.     x = np.arange(9)\n106.     z = np.ones((9, 9))\n107. \n108.     fig, ax = plt.subplots()\n109.     with pytest.warns(UserWarning) as record:\n110.         ax.contour(x, x, z)\n111.     assert len(record) == 1\n112. ', start_line_number=103, end_line_number=112), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='76. def test_contour_Nlevels():\n77.     # A scalar levels arg or kwarg should trigger auto level generation.\n78.     # https://github.com/matplotlib/matplotlib/issues/11913\n79.     z = np.arange(12).reshape((3, 4))\n80.     fig, ax = plt.subplots()\n81.     cs1 = ax.contour(z, 5)\n82.     assert len(cs1.levels) > 1\n83.     cs2 = ax.contour(z, levels=5)\n84.     assert (cs1.levels == cs2.levels).all()\n85. ', start_line_number=76, end_line_number=85), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='240. def test_contourf_symmetric_locator():\n241.     # github issue 7271\n242.     z = np.arange(12).reshape((3, 4))\n243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)\n244.     cs = plt.contourf(z, locator=locator)\n245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))\n246. ', start_line_number=240, end_line_number=246), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="379. @image_comparison(baseline_images=['contour_closed_line_loop'],\n380.                   extensions=['png'], remove_text=True)\n381. def test_contour_closed_line_loop():\n382.     # github issue 19568.\n383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]\n384. \n385.     fig, ax = plt.subplots(figsize=(2, 2))\n386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)\n387.     ax.set_xlim(-0.1, 2.1)\n388.     ax.set_ylim(-0.1, 3.1)\n389. ", start_line_number=379, end_line_number=389), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="214. @image_comparison(['contour_corner_mask_False.png',\n215.                    'contour_corner_mask_True.png'],\n216.                   remove_text=True)\n217. def test_corner_mask():\n218.     n = 60\n219.     mask_level = 0.95\n220.     noise_amp = 1.0\n221.     np.random.seed([1])\n222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))\n223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)\n224.     mask = np.random.rand(n, n) >= mask_level\n225.     z = np.ma.array(z, mask=mask)\n226. \n227.     for corner_mask in [False, True]:\n228.         plt.figure()\n229.         plt.contourf(z, corner_mask=corner_mask)\n230. ", start_line_number=214, end_line_number=230), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='1. import datetime\n2. import platform\n3. import re\n4. \n5. import contourpy\n6. import numpy as np\n7. from numpy.testing import (\n8.     assert_array_almost_equal, assert_array_almost_equal_nulp)\n9. import matplotlib as mpl\n10. from matplotlib.testing.decorators import image_comparison\n11. from matplotlib import pyplot as plt, rc_context\n12. from matplotlib.colors import LogNorm, same_color\n13. import pytest\n14. ', start_line_number=1, end_line_number=14)]
2025-10-06 10:47:43,927 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-06 10:47:43,928 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
matplotlib
├── .appveyor.yml
├── .circleci
|   ├── config.yml
|   ├── deploy-docs.sh
|   └── fetch_doc_logs.py
├── .git_archival.txt
├── .github
|   ├── CONTRIBUTING.md
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.yml
|   |   ├── config.yml
|   |   ├── documentation.yml
|   |   ├── feature_request.yml
|   |   └── maintenance.yml
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── codecov.yml
|   ├── dependabot.yml
|   └── workflows
|       ├── cibuildsdist.yml
|       ├── cibuildwheel.yml
|       ├── circleci.yml
|       ├── clean_pr.yml
|       ├── codeql-analysis.yml
|       ├── conflictcheck.yml
|       ├── nightlies.yml
|       ├── pr_welcome.yml
|       ├── reviewdog.yml
|       └── tests.yml
├── .lgtm.yml
├── .meeseeksdev.yml
├── .pre-commit-config.yaml
├── CODE_OF_CONDUCT.md
├── INSTALL.rst
├── LICENSE
├── README.md
├── SECURITY.md
├── azure-pipelines.yml
├── ci
|   ├── check_version_number.py
|   ├── check_wheel_licenses.py
|   └── codespell-ignore-words.txt
├── doc
|   ├── README.txt
|   ├── _static
|   |   ├── fa
|   |   ├── markers
|   |   └── zenodo_cache
|   ├── _templates
|   |   ├── autofunctions.rst
|   |   ├── automodule.rst
|   |   ├── autosummary.rst
|   |   ├── autosummary_class_only.rst
|   |   └── function.rst
|   ├── api
|   |   ├── _api_api.rst
|   |   ├── _enums_api.rst
|   |   ├── afm_api.rst
|   |   ├── animation_api.rst
|   |   ├── artist_api.rst
|   |   ├── axes_api.rst
|   |   ├── axis_api.rst
|   |   ├── backend_agg_api.rst
|   |   ├── backend_bases_api.rst
|   |   ├── backend_cairo_api.rst
|   |   ├── backend_gtk3_api.rst
|   |   ├── backend_gtk4_api.rst
|   |   ├── backend_managers_api.rst
|   |   ├── backend_mixed_api.rst
|   |   ├── backend_nbagg_api.rst
|   |   ├── backend_pdf_api.rst
|   |   ├── backend_pgf_api.rst
|   |   ├── backend_ps_api.rst
|   |   ├── backend_qt_api.rst
|   |   ├── backend_svg_api.rst
|   |   ├── backend_template_api.rst
|   |   ├── backend_tk_api.rst
|   |   ├── backend_tools_api.rst
|   |   ├── backend_webagg_api.rst
|   |   ├── backend_wx_api.rst
|   |   ├── bezier_api.rst
|   |   ├── category_api.rst
|   |   ├── cbook_api.rst
|   |   ├── cm_api.rst
|   |   ├── collections_api.rst
|   |   ├── colorbar_api.rst
|   |   ├── colors_api.rst
|   |   ├── container_api.rst
|   |   ├── contour_api.rst
|   |   ├── dates_api.rst
|   |   ├── docstring_api.rst
|   |   ├── dviread.rst
|   |   ├── figure_api.rst
|   |   ├── font_manager_api.rst
|   |   ├── ft2font.rst
|   |   ├── gridspec_api.rst
|   |   ├── hatch_api.rst
|   |   ├── image_api.rst
|   |   ├── index.rst
|   |   ├── index_backend_api.rst
|   |   ├── layout_engine_api.rst
|   |   ├── legend_api.rst
|   |   ├── legend_handler_api.rst
|   |   ├── lines_api.rst
|   |   ├── markers_api.rst
|   |   ├── mathtext_api.rst
|   |   ├── matplotlib_configuration_api.rst
|   |   ├── mlab_api.rst
|   |   ├── next_api_changes
|   |   |   ├── README.rst
|   |   |   ├── behavior
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 23573-AL.rst
|   |   |   |   ├── 23579-AL.rst
|   |   |   |   ├── 23710-ES.rst
|   |   |   |   ├── 24062-tb.rst
|   |   |   |   ├── 24131-OG.rst
|   |   |   |   ├── 24132-GL.rst
|   |   |   |   ├── 24189-JB.rst
|   |   |   |   ├── 24570-GL.rst
|   |   |   |   ├── 24829-AL.rst
|   |   |   |   └── 9598-AFV.rst
|   |   |   ├── deprecations
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 19763-ES.rst
|   |   |   |   ├── 23449-SS.rst
|   |   |   |   ├── 23720-RS.rst
|   |   |   |   ├── 23735-ES.rst
|   |   |   |   ├── 23824-OG.rst
|   |   |   |   ├── 24000-TH.rst
|   |   |   |   ├── 24013-TH.rst
|   |   |   |   ├── 24071-OG.rst
|   |   |   |   ├── 24088-JMK.rst
|   |   |   |   ├── 24131-OG.rst
|   |   |   |   ├── 24140-AL.rst
|   |   |   |   ├── 24144-AL.rst
|   |   |   |   ├── 24198-AL.rst
|   |   |   |   ├── 24208-AL.rst
|   |   |   |   ├── 24220-AL.rst
|   |   |   |   ├── 24221-AL.rst
|   |   |   |   ├── 24224-OG.rst
|   |   |   |   ├── 24240-OG.rst
|   |   |   |   ├── 24305-AL.rst
|   |   |   |   ├── 24455-AL.rst
|   |   |   |   ├── 24465-AL.rst
|   |   |   |   ├── 24474_CM.rst
|   |   |   |   ├── 24538-OG.rst
|   |   |   |   ├── 24577-AL.rst
|   |   |   |   ├── 24664-OG.rst
|   |   |   |   ├── 24688-OG.rst
|   |   |   |   ├── 24730-TH.rst
|   |   |   |   ├── 24806-KS.rst
|   |   |   |   └── 24846-ES.rst
|   |   |   ├── development
|   |   |   |   ├── 00001-ABC.rst
|   |   |   |   ├── 23683-AL.rst
|   |   |   |   ├── 24257-AL.rst
|   |   |   |   ├── 24710-AL.rst
|   |   |   |   └── 24724-ES.rst
|   |   |   └── removals
|   |   |       ├── 00001-ABC.rst
|   |   |       ├── 21661-TAC.rst
|   |   |       ├── 24125-OG.rst
|   |   |       ├── 24128-OG.rst
|   |   |       ├── 24129-OG.rst
|   |   |       ├── 24251-OG.rst
|   |   |       ├── 24253-OG.rst
|   |   |       ├── 24257-AL.rst
|   |   |       ├── 24355-OG.rst
|   |   |       ├── 24356-OG.rst
|   |   |       └── 24624-AL.rst
|   |   ├── next_api_changes.rst
|   |   ├── offsetbox_api.rst
|   |   ├── patches_api.rst
|   |   ├── path_api.rst
|   |   ├── patheffects_api.rst
|   |   ├── prev_api_changes
|   |   |   ├── api_changes_0.40.rst
|   |   |   ├── api_changes_0.42.rst
|   |   |   ├── api_changes_0.50.rst
|   |   |   ├── api_changes_0.54.3.rst
|   |   |   ├── api_changes_0.54.rst
|   |   |   ├── api_changes_0.60.rst
|   |   |   ├── api_changes_0.61.rst
|   |   |   ├── api_changes_0.63.rst
|   |   |   ├── api_changes_0.65.1.rst
|   |   |   ├── api_changes_0.65.rst
|   |   |   ├── api_changes_0.70.rst
|   |   |   ├── api_changes_0.71.rst
|   |   |   ├── api_changes_0.72.rst
|   |   |   ├── api_changes_0.73.rst
|   |   |   ├── api_changes_0.80.rst
|   |   |   ├── api_changes_0.81.rst
|   |   |   ├── api_changes_0.82.rst
|   |   |   ├── api_changes_0.83.rst
|   |   |   ├── api_changes_0.84.rst
|   |   |   ├── api_changes_0.85.rst
|   |   |   ├── api_changes_0.86.rst
|   |   |   ├── api_changes_0.87.7.rst
|   |   |   ├── api_changes_0.90.0.rst
|   |   |   ├── api_changes_0.90.1.rst
|   |   |   ├── api_changes_0.91.0.rst
|   |   |   ├── api_changes_0.91.2.rst
|   |   |   ├── api_changes_0.98.0.rst
|   |   |   ├── api_changes_0.98.1.rst
|   |   |   ├── api_changes_0.98.x.rst
|   |   |   ├── api_changes_0.99.rst
|   |   |   ├── api_changes_0.99.x.rst
|   |   |   ├── api_changes_1.1.x.rst
|   |   |   ├── api_changes_1.2.x.rst
|   |   |   ├── api_changes_1.3.x.rst
|   |   |   ├── api_changes_1.4.x.rst
|   |   |   ├── api_changes_1.5.0.rst
|   |   |   ├── api_changes_1.5.2.rst
|   |   |   ├── api_changes_1.5.3.rst
|   |   |   ├── api_changes_2.0.0.rst
|   |   |   ├── api_changes_2.0.1.rst
|   |   |   ├── api_changes_2.1.0.rst
|   |   |   ├── api_changes_2.1.1.rst
|   |   |   ├── api_changes_2.1.2.rst
|   |   |   ├── api_changes_2.2.0.rst
|   |   |   ├── api_changes_3.0.0.rst
|   |   |   ├── api_changes_3.0.1.rst
|   |   |   ├── api_changes_3.1.0.rst
|   |   |   ├── api_changes_3.1.1.rst
|   |   |   ├── api_changes_3.2.0
|   |   |   |   ├── behavior.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.2.0.rst
|   |   |   ├── api_changes_3.3.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.3.0.rst
|   |   |   ├── api_changes_3.3.1.rst
|   |   |   ├── api_changes_3.4.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.4.0.rst
|   |   |   ├── api_changes_3.4.2.rst
|   |   |   ├── api_changes_3.5.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   ├── api_changes_3.5.0.rst
|   |   |   ├── api_changes_3.5.2.rst
|   |   |   ├── api_changes_3.5.3.rst
|   |   |   ├── api_changes_3.6.0
|   |   |   |   ├── behaviour.rst
|   |   |   |   ├── deprecations.rst
|   |   |   |   ├── development.rst
|   |   |   |   └── removals.rst
|   |   |   └── api_changes_3.6.0.rst
|   |   ├── projections
|   |   |   ├── geo.rst
|   |   |   └── polar.rst
|   |   ├── projections_api.rst
|   |   ├── pyplot_summary.rst
|   |   ├── quiver_api.rst
|   |   ├── rcsetup_api.rst
|   |   ├── sankey_api.rst
|   |   ├── scale_api.rst
|   |   ├── sphinxext_mathmpl_api.rst
|   |   ├── sphinxext_plot_directive_api.rst
|   |   ├── spines_api.rst
|   |   ├── style_api.rst
|   |   ├── table_api.rst
|   |   ├── testing_api.rst
|   |   ├── texmanager_api.rst
|   |   ├── text_api.rst
|   |   ├── ticker_api.rst
|   |   ├── tight_bbox_api.rst
|   |   ├── tight_layout_api.rst
|   |   ├── toolkits
|   |   |   ├── axes_grid1.rst
|   |   |   ├── axisartist.rst
|   |   |   ├── mplot3d
|   |   |   |   ├── axes3d.rst
|   |   |   |   ├── faq.rst
|   |   |   |   └── view_angles.rst
|   |   |   └── mplot3d.rst
|   |   ├── transformations.rst
|   |   ├── tri_api.rst
|   |   ├── type1font.rst
|   |   ├── units_api.rst
|   |   └── widgets_api.rst
|   ├── conf.py
|   ├── devel
|   |   ├── MEP
|   |   |   ├── MEP08.rst
|   |   |   ├── MEP09.rst
|   |   |   ├── MEP10.rst
|   |   |   ├── MEP11.rst
|   |   |   ├── MEP12.rst
|   |   |   ├── MEP13.rst
|   |   |   ├── MEP14.rst
|   |   |   ├── MEP15.rst
|   |   |   ├── MEP19.rst
|   |   |   ├── MEP21.rst
|   |   |   ├── MEP22.rst
|   |   |   ├── MEP23.rst
|   |   |   ├── MEP24.rst
|   |   |   ├── MEP25.rst
|   |   |   ├── MEP26.rst
|   |   |   ├── MEP27.rst
|   |   |   ├── MEP28.rst
|   |   |   ├── MEP29.rst
|   |   |   ├── README.rst
|   |   |   ├── index.rst
|   |   |   └── template.rst
|   |   ├── README.txt
|   |   ├── coding_guide.rst
|   |   ├── color_changes.rst
|   |   ├── contributing.rst
|   |   ├── dependencies.rst
|   |   ├── development_setup.rst
|   |   ├── development_workflow.rst
|   |   ├── documenting_mpl.rst
|   |   ├── index.rst
|   |   ├── license.rst
|   |   ├── maintainer_workflow.rst
|   |   ├── min_dep_policy.rst
|   |   ├── release_guide.rst
|   |   ├── style_guide.rst
|   |   ├── testing.rst
|   |   └── triage.rst
|   ├── index.rst
|   ├── sphinxext
|   |   ├── __init__.py
|   |   ├── custom_roles.py
|   |   ├── gallery_order.py
|   |   ├── github.py
|   |   ├── math_symbol_table.py
|   |   ├── missing_references.py
|   |   ├── mock_gui_toolkits.py
|   |   ├── redirect_from.py
|   |   └── skip_deprecated.py
|   ├── thirdpartypackages
|   |   └── index.rst
|   └── users
|       ├── explain
|       |   ├── api_interfaces.rst
|       |   ├── backends.rst
|       |   ├── event_handling.rst
|       |   ├── fonts.rst
|       |   ├── index.rst
|       |   ├── interactive.rst
|       |   ├── interactive_guide.rst
|       |   ├── performance.rst
|       |   └── writing_a_backend_pyplot_interface.rst
|       ├── faq
|       |   ├── environment_variables_faq.rst
|       |   ├── howto_faq.rst
|       |   ├── index.rst
|       |   └── troubleshooting_faq.rst
|       ├── generate_credits.py
|       ├── getting_started
|       |   └── index.rst
|       ├── github_stats.rst
|       ├── index.rst
|       ├── installing
|       |   └── index.rst
|       ├── next_whats_new
|       |   ├── 3d_pane_color_rcparams.rst
|       |   ├── 3d_plot_aspects_adjustable_keyword.rst
|       |   ├── 3d_plot_pan_zoom.rst
|       |   ├── README.rst
|       |   ├── bar_label_formatting.rst
|       |   ├── colorbar_has_location_argument.rst
|       |   ├── ellipse_annotation.rst
|       |   ├── figure_hooks.rst
|       |   ├── imshow_extent_units.rst
|       |   ├── per_subplot_mosaic.rst
|       |   ├── polar_errorbar_caps.rst
|       |   ├── reverse_legend.rst
|       |   ├── rgba_pcolormesh.rst
|       |   ├── shade_poly3dcollection.rst
|       |   ├── show_source_links_directive_option.rst
|       |   ├── styles_from_packages.rst
|       |   ├── view_current_axis_format.rst
|       |   └── widget_blitting.rst
|       ├── next_whats_new.rst
|       ├── prev_whats_new
|       |   ├── changelog.rst
|       |   ├── dflt_style_changes.rst
|       |   ├── github_stats_3.0.0.rst
|       |   ├── github_stats_3.0.1.rst
|       |   ├── github_stats_3.0.2.rst
|       |   ├── github_stats_3.0.3.rst
|       |   ├── github_stats_3.1.0.rst
|       |   ├── github_stats_3.1.1.rst
|       |   ├── github_stats_3.1.2.rst
|       |   ├── github_stats_3.1.3.rst
|       |   ├── github_stats_3.2.0.rst
|       |   ├── github_stats_3.2.1.rst
|       |   ├── github_stats_3.2.2.rst
|       |   ├── github_stats_3.3.0.rst
|       |   ├── github_stats_3.3.1.rst
|       |   ├── github_stats_3.3.2.rst
|       |   ├── github_stats_3.3.3.rst
|       |   ├── github_stats_3.3.4.rst
|       |   ├── github_stats_3.4.0.rst
|       |   ├── github_stats_3.4.1.rst
|       |   ├── github_stats_3.4.2.rst
|       |   ├── github_stats_3.4.3.rst
|       |   ├── github_stats_3.5.0.rst
|       |   ├── github_stats_3.5.1.rst
|       |   ├── github_stats_3.5.2.rst
|       |   ├── github_stats_3.5.3.rst
|       |   ├── whats_new_0.98.4.rst
|       |   ├── whats_new_0.99.rst
|       |   ├── whats_new_1.0.rst
|       |   ├── whats_new_1.1.rst
|       |   ├── whats_new_1.2.2.rst
|       |   ├── whats_new_1.2.rst
|       |   ├── whats_new_1.3.rst
|       |   ├── whats_new_1.4.rst
|       |   ├── whats_new_1.5.rst
|       |   ├── whats_new_2.0.0.rst
|       |   ├── whats_new_2.1.0.rst
|       |   ├── whats_new_2.2.rst
|       |   ├── whats_new_3.0.rst
|       |   ├── whats_new_3.1.0.rst
|       |   ├── whats_new_3.2.0.rst
|       |   ├── whats_new_3.3.0.rst
|       |   ├── whats_new_3.4.0.rst
|       |   ├── whats_new_3.5.0.rst
|       |   ├── whats_new_3.5.2.rst
|       |   └── whats_new_3.6.0.rst
|       ├── project
|       |   ├── citing.rst
|       |   ├── credits.rst
|       |   ├── history.rst
|       |   ├── index.rst
|       |   ├── license.rst
|       |   └── mission.rst
|       ├── release_notes.rst
|       ├── release_notes_next.rst
|       └── resources
|           └── index.rst
├── environment.yml
├── examples
|   ├── README.txt
|   ├── animation
|   |   ├── README.txt
|   |   ├── animate_decay.py
|   |   ├── animated_histogram.py
|   |   ├── animation_demo.py
|   |   ├── bayes_update.py
|   |   ├── double_pendulum.py
|   |   ├── dynamic_image.py
|   |   ├── frame_grabbing_sgskip.py
|   |   ├── multiple_axes.py
|   |   ├── pause_resume.py
|   |   ├── rain.py
|   |   ├── random_walk.py
|   |   ├── simple_anim.py
|   |   ├── simple_scatter.py
|   |   ├── strip_chart.py
|   |   └── unchained.py
|   ├── axes_grid1
|   |   ├── README.txt
|   |   ├── demo_anchored_direction_arrows.py
|   |   ├── demo_axes_divider.py
|   |   ├── demo_axes_grid.py
|   |   ├── demo_axes_grid2.py
|   |   ├── demo_axes_hbox_divider.py
|   |   ├── demo_axes_rgb.py
|   |   ├── demo_colorbar_of_inset_axes.py
|   |   ├── demo_colorbar_with_axes_divider.py
|   |   ├── demo_colorbar_with_inset_locator.py
|   |   ├── demo_edge_colorbar.py
|   |   ├── demo_fixed_size_axes.py
|   |   ├── demo_imagegrid_aspect.py
|   |   ├── inset_locator_demo.py
|   |   ├── inset_locator_demo2.py
|   |   ├── make_room_for_ylabel_using_axesgrid.py
|   |   ├── parasite_simple.py
|   |   ├── parasite_simple2.py
|   |   ├── scatter_hist_locatable_axes.py
|   |   ├── simple_anchored_artists.py
|   |   ├── simple_axes_divider1.py
|   |   ├── simple_axes_divider3.py
|   |   ├── simple_axesgrid.py
|   |   ├── simple_axesgrid2.py
|   |   ├── simple_axisline4.py
|   |   └── simple_colorbar.py
|   ├── axisartist
|   |   ├── README.txt
|   |   ├── axis_direction.py
|   |   ├── demo_axis_direction.py
|   |   ├── demo_axisline_style.py
|   |   ├── demo_curvelinear_grid.py
|   |   ├── demo_curvelinear_grid2.py
|   |   ├── demo_floating_axes.py
|   |   ├── demo_floating_axis.py
|   |   ├── demo_parasite_axes.py
|   |   ├── demo_parasite_axes2.py
|   |   ├── demo_ticklabel_alignment.py
|   |   ├── demo_ticklabel_direction.py
|   |   ├── simple_axis_direction01.py
|   |   ├── simple_axis_direction03.py
|   |   ├── simple_axis_pad.py
|   |   ├── simple_axisartist1.py
|   |   ├── simple_axisline.py
|   |   └── simple_axisline3.py
|   ├── color
|   |   ├── README.txt
|   |   ├── color_by_yvalue.py
|   |   ├── color_cycle_default.py
|   |   ├── color_demo.py
|   |   ├── colorbar_basics.py
|   |   ├── colormap_reference.py
|   |   ├── custom_cmap.py
|   |   └── named_colors.py
|   ├── event_handling
|   |   ├── README.txt
|   |   ├── close_event.py
|   |   ├── coords_demo.py
|   |   ├── cursor_demo.py
|   |   ├── data_browser.py
|   |   ├── figure_axes_enter_leave.py
|   |   ├── ginput_manual_clabel_sgskip.py
|   |   ├── image_slices_viewer.py
|   |   ├── keypress_demo.py
|   |   ├── lasso_demo.py
|   |   ├── legend_picking.py
|   |   ├── looking_glass.py
|   |   ├── path_editor.py
|   |   ├── pick_event_demo.py
|   |   ├── pick_event_demo2.py
|   |   ├── poly_editor.py
|   |   ├── pong_sgskip.py
|   |   ├── resample.py
|   |   ├── timers.py
|   |   ├── trifinder_event_demo.py
|   |   ├── viewlims.py
|   |   └── zoom_window.py
|   ├── images_contours_and_fields
|   |   ├── README.txt
|   |   ├── affine_image.py
|   |   ├── barb_demo.py
|   |   ├── barcode_demo.py
|   |   ├── colormap_interactive_adjustment.py
|   |   ├── colormap_normalizations.py
|   |   ├── colormap_normalizations_symlognorm.py
|   |   ├── contour_corner_mask.py
|   |   ├── contour_demo.py
|   |   ├── contour_image.py
|   |   ├── contour_label_demo.py
|   |   ├── contourf_demo.py
|   |   ├── contourf_hatching.py
|   |   ├── contourf_log.py
|   |   ├── contours_in_optimization_demo.py
|   |   ├── demo_bboximage.py
|   |   ├── figimage_demo.py
|   |   ├── image_annotated_heatmap.py
|   |   ├── image_antialiasing.py
|   |   ├── image_clip_path.py
|   |   ├── image_demo.py
|   |   ├── image_masked.py
|   |   ├── image_nonuniform.py
|   |   ├── image_transparency_blend.py
|   |   ├── image_zcoord.py
|   |   ├── interpolation_methods.py
|   |   ├── irregulardatagrid.py
|   |   ├── layer_images.py
|   |   ├── matshow.py
|   |   ├── multi_image.py
|   |   ├── pcolor_demo.py
|   |   ├── pcolormesh_grids.py
|   |   ├── pcolormesh_levels.py
|   |   ├── plot_streamplot.py
|   |   ├── quadmesh_demo.py
|   |   ├── quiver_demo.py
|   |   ├── quiver_simple_demo.py
|   |   ├── shading_example.py
|   |   ├── specgram_demo.py
|   |   ├── spy_demos.py
|   |   ├── tricontour_demo.py
|   |   ├── tricontour_smooth_delaunay.py
|   |   ├── tricontour_smooth_user.py
|   |   ├── trigradient_demo.py
|   |   ├── triinterp_demo.py
|   |   ├── tripcolor_demo.py
|   |   ├── triplot_demo.py
|   |   └── watermark_image.py
|   ├── lines_bars_and_markers
|   |   ├── README.txt
|   |   ├── bar_colors.py
|   |   ├── bar_label_demo.py
|   |   ├── bar_stacked.py
|   |   ├── barchart.py
|   |   ├── barh.py
|   |   ├── broken_barh.py
|   |   ├── capstyle.py
|   |   ├── categorical_variables.py
|   |   ├── cohere.py
|   |   ├── csd_demo.py
|   |   ├── curve_error_band.py
|   |   ├── errorbar_limits_simple.py
|   |   ├── errorbar_subsample.py
|   |   ├── eventcollection_demo.py
|   |   ├── eventplot_demo.py
|   |   ├── fill.py
|   |   ├── fill_between_alpha.py
|   |   ├── fill_between_demo.py
|   |   ├── fill_betweenx_demo.py
|   |   ├── filled_step.py
|   |   ├── gradient_bar.py
|   |   ├── hat_graph.py
|   |   ├── horizontal_barchart_distribution.py
|   |   ├── joinstyle.py
|   |   ├── line_demo_dash_control.py
|   |   ├── lines_with_ticks_demo.py
|   |   ├── linestyles.py
|   |   ├── marker_reference.py
|   |   ├── markevery_demo.py
|   |   ├── masked_demo.py
|   |   ├── multicolored_line.py
|   |   ├── multivariate_marker_plot.py
|   |   ├── psd_demo.py
|   |   ├── scatter_custom_symbol.py
|   |   ├── scatter_demo2.py
|   |   ├── scatter_hist.py
|   |   ├── scatter_masked.py
|   |   ├── scatter_star_poly.py
|   |   ├── scatter_with_legend.py
|   |   ├── simple_plot.py
|   |   ├── span_regions.py
|   |   ├── spectrum_demo.py
|   |   ├── stackplot_demo.py
|   |   ├── stairs_demo.py
|   |   ├── stem_plot.py
|   |   ├── step_demo.py
|   |   ├── timeline.py
|   |   ├── vline_hline_demo.py
|   |   └── xcorr_acorr_demo.py
|   ├── misc
|   |   ├── README.txt
|   |   ├── anchored_artists.py
|   |   ├── bbox_intersect.py
|   |   ├── contour_manual.py
|   |   ├── coords_report.py
|   |   ├── custom_projection.py
|   |   ├── customize_rc.py
|   |   ├── demo_agg_filter.py
|   |   ├── demo_ribbon_box.py
|   |   ├── fig_x.py
|   |   ├── fill_spiral.py
|   |   ├── findobj_demo.py
|   |   ├── font_indexing.py
|   |   ├── ftface_props.py
|   |   ├── histogram_path.py
|   |   ├── hyperlinks_sgskip.py
|   |   ├── image_thumbnail_sgskip.py
|   |   ├── keyword_plotting.py
|   |   ├── logos2.py
|   |   ├── multipage_pdf.py
|   |   ├── multiprocess_sgskip.py
|   |   ├── packed_bubbles.py
|   |   ├── patheffect_demo.py
|   |   ├── print_stdout_sgskip.py
|   |   ├── rasterization_demo.py
|   |   ├── set_and_get.py
|   |   ├── svg_filter_line.py
|   |   ├── svg_filter_pie.py
|   |   ├── table_demo.py
|   |   ├── tickedstroke_demo.py
|   |   ├── transoffset.py
|   |   └── zorder_demo.py
|   ├── mplot3d
|   |   ├── 2dcollections3d.py
|   |   ├── 3d_bars.py
|   |   ├── README.txt
|   |   ├── bars3d.py
|   |   ├── box3d.py
|   |   ├── contour3d.py
|   |   ├── contour3d_2.py
|   |   ├── contour3d_3.py
|   |   ├── contourf3d.py
|   |   ├── contourf3d_2.py
|   |   ├── custom_shaded_3d_surface.py
|   |   ├── errorbar3d.py
|   |   ├── hist3d.py
|   |   ├── lines3d.py
|   |   ├── lorenz_attractor.py
|   |   ├── mixed_subplots.py
|   |   ├── offset.py
|   |   ├── pathpatch3d.py
|   |   ├── polys3d.py
|   |   ├── projections.py
|   |   ├── quiver3d.py
|   |   ├── rotate_axes3d_sgskip.py
|   |   ├── scatter3d.py
|   |   ├── stem3d_demo.py
|   |   ├── subplot3d.py
|   |   ├── surface3d.py
|   |   ├── surface3d_2.py
|   |   ├── surface3d_3.py
|   |   ├── surface3d_radial.py
|   |   ├── text3d.py
|   |   ├── tricontour3d.py
|   |   ├── tricontourf3d.py
|   |   ├── trisurf3d.py
|   |   ├── trisurf3d_2.py
|   |   ├── view_planes_3d.py
|   |   ├── voxels.py
|   |   ├── voxels_numpy_logo.py
|   |   ├── voxels_rgb.py
|   |   ├── voxels_torus.py
|   |   ├── wire3d.py
|   |   ├── wire3d_animation_sgskip.py
|   |   └── wire3d_zero_stride.py
|   ├── pie_and_polar_charts
|   |   ├── README.txt
|   |   ├── bar_of_pie.py
|   |   ├── nested_pie.py
|   |   ├── pie_and_donut_labels.py
|   |   ├── pie_demo2.py
|   |   ├── pie_features.py
|   |   ├── polar_bar.py
|   |   ├── polar_demo.py
|   |   ├── polar_error_caps.py
|   |   ├── polar_legend.py
|   |   └── polar_scatter.py
|   ├── pyplots
|   |   ├── README.txt
|   |   ├── axline.py
|   |   ├── pyplot_mathtext.py
|   |   ├── pyplot_simple.py
|   |   ├── pyplot_text.py
|   |   ├── pyplot_three.py
|   |   └── pyplot_two_subplots.py
|   ├── scales
|   |   ├── README.txt
|   |   ├── asinh_demo.py
|   |   ├── aspect_loglog.py
|   |   ├── custom_scale.py
|   |   ├── log_bar.py
|   |   ├── log_demo.py
|   |   ├── logit_demo.py
|   |   ├── power_norm.py
|   |   ├── scales.py
|   |   ├── semilogx_demo.py
|   |   └── symlog_demo.py
|   ├── shapes_and_collections
|   |   ├── README.txt
|   |   ├── arrow_guide.py
|   |   ├── artist_reference.py
|   |   ├── collections.py
|   |   ├── compound_path.py
|   |   ├── dolphin.py
|   |   ├── donut.py
|   |   ├── ellipse_collection.py
|   |   ├── ellipse_demo.py
|   |   ├── fancybox_demo.py
|   |   ├── hatch_demo.py
|   |   ├── hatch_style_reference.py
|   |   ├── line_collection.py
|   |   ├── patch_collection.py
|   |   ├── path_patch.py
|   |   ├── quad_bezier.py
|   |   └── scatter.py
|   ├── showcase
|   |   ├── README.txt
|   |   ├── anatomy.py
|   |   ├── firefox.py
|   |   ├── integral.py
|   |   ├── mandelbrot.py
|   |   ├── stock_prices.py
|   |   └── xkcd.py
|   ├── specialty_plots
|   |   ├── README.txt
|   |   ├── advanced_hillshading.py
|   |   ├── anscombe.py
|   |   ├── hinton_demo.py
|   |   ├── leftventricle_bulleye.py
|   |   ├── mri_demo.py
|   |   ├── mri_with_eeg.py
|   |   ├── radar_chart.py
|   |   ├── sankey_basics.py
|   |   ├── sankey_links.py
|   |   ├── sankey_rankine.py
|   |   ├── skewt.py
|   |   └── topographic_hillshading.py
|   ├── spines
|   |   ├── README.txt
|   |   ├── centered_spines_with_arrows.py
|   |   ├── multiple_yaxis_with_spines.py
|   |   ├── spine_placement_demo.py
|   |   ├── spines.py
|   |   └── spines_dropped.py
|   ├── statistics
|   |   ├── README.txt
|   |   ├── barchart_demo.py
|   |   ├── boxplot.py
|   |   ├── boxplot_color.py
|   |   ├── boxplot_demo.py
|   |   ├── boxplot_vs_violin.py
|   |   ├── bxp.py
|   |   ├── confidence_ellipse.py
|   |   ├── customized_violin.py
|   |   ├── errorbar.py
|   |   ├── errorbar_features.py
|   |   ├── errorbar_limits.py
|   |   ├── errorbars_and_boxes.py
|   |   ├── hexbin_demo.py
|   |   ├── hist.py
|   |   ├── histogram_cumulative.py
|   |   ├── histogram_features.py
|   |   ├── histogram_histtypes.py
|   |   ├── histogram_multihist.py
|   |   ├── multiple_histograms_side_by_side.py
|   |   ├── time_series_histogram.py
|   |   └── violinplot.py
|   ├── style_sheets
|   |   ├── README.txt
|   |   ├── bmh.py
|   |   ├── dark_background.py
|   |   ├── fivethirtyeight.py
|   |   ├── ggplot.py
|   |   ├── grayscale.py
|   |   ├── plot_solarizedlight2.py
|   |   └── style_sheets_reference.py
|   ├── subplots_axes_and_figures
|   |   ├── README.txt
|   |   ├── align_labels_demo.py
|   |   ├── auto_subplots_adjust.py
|   |   ├── axes_box_aspect.py
|   |   ├── axes_demo.py
|   |   ├── axes_margins.py
|   |   ├── axes_props.py
|   |   ├── axes_zoom_effect.py
|   |   ├── axhspan_demo.py
|   |   ├── axis_equal_demo.py
|   |   ├── axis_labels_demo.py
|   |   ├── broken_axis.py
|   |   ├── colorbar_placement.py
|   |   ├── custom_figure_class.py
|   |   ├── demo_constrained_layout.py
|   |   ├── demo_tight_layout.py
|   |   ├── fahrenheit_celsius_scales.py
|   |   ├── figure_size_units.py
|   |   ├── figure_title.py
|   |   ├── ganged_plots.py
|   |   ├── geo_demo.py
|   |   ├── gridspec_and_subplots.py
|   |   ├── gridspec_multicolumn.py
|   |   ├── gridspec_nested.py
|   |   ├── invert_axes.py
|   |   ├── multiple_figs_demo.py
|   |   ├── secondary_axis.py
|   |   ├── share_axis_lims_views.py
|   |   ├── shared_axis_demo.py
|   |   ├── subfigures.py
|   |   ├── subplot.py
|   |   ├── subplots_adjust.py
|   |   ├── subplots_demo.py
|   |   ├── two_scales.py
|   |   └── zoom_inset_axes.py
|   ├── text_labels_and_annotations
|   |   ├── README.txt
|   |   ├── accented_text.py
|   |   ├── align_ylabels.py
|   |   ├── angle_annotation.py
|   |   ├── angles_on_bracket_arrows.py
|   |   ├── annotate_transform.py
|   |   ├── annotation_basic.py
|   |   ├── annotation_demo.py
|   |   ├── annotation_polar.py
|   |   ├── arrow_demo.py
|   |   ├── autowrap.py
|   |   ├── custom_legends.py
|   |   ├── date.py
|   |   ├── demo_annotation_box.py
|   |   ├── demo_text_path.py
|   |   ├── demo_text_rotation_mode.py
|   |   ├── dfrac_demo.py
|   |   ├── engineering_formatter.py
|   |   ├── fancyarrow_demo.py
|   |   ├── fancytextbox_demo.py
|   |   ├── figlegend_demo.py
|   |   ├── font_family_rc.py
|   |   ├── font_file.py
|   |   ├── font_table.py
|   |   ├── fonts_demo.py
|   |   ├── fonts_demo_kw.py
|   |   ├── label_subplots.py
|   |   ├── legend.py
|   |   ├── legend_demo.py
|   |   ├── line_with_text.py
|   |   ├── mathtext_asarray.py
|   |   ├── mathtext_demo.py
|   |   ├── mathtext_examples.py
|   |   ├── mathtext_fontfamily_example.py
|   |   ├── multiline.py
|   |   ├── placing_text_boxes.py
|   |   ├── rainbow_text.py
|   |   ├── stix_fonts_demo.py
|   |   ├── tex_demo.py
|   |   ├── text_alignment.py
|   |   ├── text_commands.py
|   |   ├── text_fontdict.py
|   |   ├── text_rotation_relative_to_line.py
|   |   ├── titles_demo.py
|   |   ├── unicode_minus.py
|   |   ├── usetex_baseline_test.py
|   |   ├── usetex_fonteffects.py
|   |   └── watermark_text.py
|   ├── ticks
|   |   ├── README.txt
|   |   ├── auto_ticks.py
|   |   ├── centered_ticklabels.py
|   |   ├── colorbar_tick_labelling_demo.py
|   |   ├── custom_ticker1.py
|   |   ├── date_concise_formatter.py
|   |   ├── date_demo_convert.py
|   |   ├── date_demo_rrule.py
|   |   ├── date_formatters_locators.py
|   |   ├── date_index_formatter.py
|   |   ├── date_precision_and_epochs.py
|   |   ├── dollar_ticks.py
|   |   ├── fig_axes_customize_simple.py
|   |   ├── major_minor_demo.py
|   |   ├── scalarformatter.py
|   |   ├── tick-formatters.py
|   |   ├── tick-locators.py
|   |   ├── tick_label_right.py
|   |   ├── tick_labels_from_values.py
|   |   ├── tick_xlabel_top.py
|   |   ├── ticklabels_rotation.py
|   |   └── ticks_too_many.py
|   ├── units
|   |   ├── README.txt
|   |   ├── annotate_with_units.py
|   |   ├── artist_tests.py
|   |   ├── bar_demo2.py
|   |   ├── bar_unit_demo.py
|   |   ├── basic_units.py
|   |   ├── ellipse_with_units.py
|   |   ├── evans_test.py
|   |   ├── radian_demo.py
|   |   ├── units_sample.py
|   |   └── units_scatter.py
|   ├── user_interfaces
|   |   ├── README.txt
|   |   ├── canvasagg.py
|   |   ├── embedding_in_gtk3_panzoom_sgskip.py
|   |   ├── embedding_in_gtk3_sgskip.py
|   |   ├── embedding_in_gtk4_panzoom_sgskip.py
|   |   ├── embedding_in_gtk4_sgskip.py
|   |   ├── embedding_in_qt_sgskip.py
|   |   ├── embedding_in_tk_sgskip.py
|   |   ├── embedding_in_wx2_sgskip.py
|   |   ├── embedding_in_wx3_sgskip.py
|   |   ├── embedding_in_wx4_sgskip.py
|   |   ├── embedding_in_wx5_sgskip.py
|   |   ├── embedding_webagg_sgskip.py
|   |   ├── fourier_demo_wx_sgskip.py
|   |   ├── gtk3_spreadsheet_sgskip.py
|   |   ├── gtk4_spreadsheet_sgskip.py
|   |   ├── images
|   |   ├── mathtext_wx_sgskip.py
|   |   ├── mpl_with_glade3_sgskip.py
|   |   ├── mplcvd.py
|   |   ├── pylab_with_gtk3_sgskip.py
|   |   ├── pylab_with_gtk4_sgskip.py
|   |   ├── svg_histogram_sgskip.py
|   |   ├── svg_tooltip_sgskip.py
|   |   ├── toolmanager_sgskip.py
|   |   ├── web_application_server_sgskip.py
|   |   └── wxcursor_demo_sgskip.py
|   ├── userdemo
|   |   ├── README.txt
|   |   ├── anchored_box04.py
|   |   ├── annotate_explain.py
|   |   ├── annotate_simple01.py
|   |   ├── annotate_simple02.py
|   |   ├── annotate_simple03.py
|   |   ├── annotate_simple04.py
|   |   ├── annotate_simple_coord01.py
|   |   ├── annotate_simple_coord02.py
|   |   ├── annotate_simple_coord03.py
|   |   ├── annotate_text_arrow.py
|   |   ├── connect_simple01.py
|   |   ├── connectionstyle_demo.py
|   |   ├── custom_boxstyle01.py
|   |   ├── demo_gridspec01.py
|   |   ├── demo_gridspec03.py
|   |   ├── demo_gridspec06.py
|   |   ├── pgf_fonts.py
|   |   ├── pgf_preamble_sgskip.py
|   |   ├── pgf_texsystem.py
|   |   ├── simple_annotate01.py
|   |   ├── simple_legend01.py
|   |   └── simple_legend02.py
|   └── widgets
|       ├── README.txt
|       ├── annotated_cursor.py
|       ├── buttons.py
|       ├── check_buttons.py
|       ├── cursor.py
|       ├── lasso_selector_demo_sgskip.py
|       ├── menu.py
|       ├── mouse_cursor.py
|       ├── multicursor.py
|       ├── polygon_selector_demo.py
|       ├── polygon_selector_simple.py
|       ├── radio_buttons.py
|       ├── range_slider.py
|       ├── rectangle_selector.py
|       ├── slider_demo.py
|       ├── slider_snap_demo.py
|       ├── span_selector.py
|       └── textbox.py
├── extern
|   ├── agg24-svn
|   |   ├── include
|   |   |   ├── ctrl
|   |   |   ├── platform
|   |   |   |   ├── mac
|   |   |   |   └── win32
|   |   |   └── util
|   |   └── src
|   |       ├── agg_arc.cpp
|   |       ├── agg_arrowhead.cpp
|   |       ├── agg_bezier_arc.cpp
|   |       ├── agg_bspline.cpp
|   |       ├── agg_color_rgba.cpp
|   |       ├── agg_curves.cpp
|   |       ├── agg_embedded_raster_fonts.cpp
|   |       ├── agg_gsv_text.cpp
|   |       ├── agg_image_filters.cpp
|   |       ├── agg_line_aa_basics.cpp
|   |       ├── agg_line_profile_aa.cpp
|   |       ├── agg_rounded_rect.cpp
|   |       ├── agg_sqrt_tables.cpp
|   |       ├── agg_trans_affine.cpp
|   |       ├── agg_trans_double_path.cpp
|   |       ├── agg_trans_single_path.cpp
|   |       ├── agg_trans_warp_magnifier.cpp
|   |       ├── agg_vcgen_bspline.cpp
|   |       ├── agg_vcgen_contour.cpp
|   |       ├── agg_vcgen_dash.cpp
|   |       ├── agg_vcgen_markers_term.cpp
|   |       ├── agg_vcgen_smooth_poly1.cpp
|   |       ├── agg_vcgen_stroke.cpp
|   |       ├── agg_vpgen_clip_polygon.cpp
|   |       ├── agg_vpgen_clip_polyline.cpp
|   |       ├── agg_vpgen_segmentator.cpp
|   |       ├── ctrl
|   |       |   ├── agg_bezier_ctrl.cpp
|   |       |   ├── agg_cbox_ctrl.cpp
|   |       |   ├── agg_gamma_ctrl.cpp
|   |       |   ├── agg_gamma_spline.cpp
|   |       |   ├── agg_polygon_ctrl.cpp
|   |       |   ├── agg_rbox_ctrl.cpp
|   |       |   ├── agg_scale_ctrl.cpp
|   |       |   ├── agg_slider_ctrl.cpp
|   |       |   └── agg_spline_ctrl.cpp
|   |       └── platform
|   |           ├── AmigaOS
|   |           ├── BeOS
|   |           ├── X11
|   |           ├── mac
|   |           ├── sdl
|   |           └── win32
|   └── ttconv
|       ├── pprdrv_tt.cpp
|       ├── pprdrv_tt2.cpp
|       └── ttutil.cpp
├── lib
|   ├── matplotlib
|   |   ├── __init__.py
|   |   ├── _afm.py
|   |   ├── _animation_data.py
|   |   ├── _api
|   |   |   ├── __init__.py
|   |   |   └── deprecation.py
|   |   ├── _blocking_input.py
|   |   ├── _cm.py
|   |   ├── _cm_listed.py
|   |   ├── _color_data.py
|   |   ├── _constrained_layout.py
|   |   ├── _docstring.py
|   |   ├── _enums.py
|   |   ├── _fontconfig_pattern.py
|   |   ├── _internal_utils.py
|   |   ├── _layoutgrid.py
|   |   ├── _mathtext.py
|   |   ├── _mathtext_data.py
|   |   ├── _pylab_helpers.py
|   |   ├── _text_helpers.py
|   |   ├── _tight_bbox.py
|   |   ├── _tight_layout.py
|   |   ├── _type1font.py
|   |   ├── afm.py
|   |   ├── animation.py
|   |   ├── artist.py
|   |   ├── axes
|   |   |   ├── __init__.py
|   |   |   ├── _axes.py
|   |   |   ├── _base.py
|   |   |   └── _secondary_axes.py
|   |   ├── axis.py
|   |   ├── backend_bases.py
|   |   ├── backend_managers.py
|   |   ├── backend_tools.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── _backend_gtk.py
|   |   |   ├── _backend_pdf_ps.py
|   |   |   ├── _backend_tk.py
|   |   |   ├── backend_agg.py
|   |   |   ├── backend_cairo.py
|   |   |   ├── backend_gtk3.py
|   |   |   ├── backend_gtk3agg.py
|   |   |   ├── backend_gtk3cairo.py
|   |   |   ├── backend_gtk4.py
|   |   |   ├── backend_gtk4agg.py
|   |   |   ├── backend_gtk4cairo.py
|   |   |   ├── backend_macosx.py
|   |   |   ├── backend_mixed.py
|   |   |   ├── backend_nbagg.py
|   |   |   ├── backend_pdf.py
|   |   |   ├── backend_pgf.py
|   |   |   ├── backend_ps.py
|   |   |   ├── backend_qt.py
|   |   |   ├── backend_qt5.py
|   |   |   ├── backend_qt5agg.py
|   |   |   ├── backend_qt5cairo.py
|   |   |   ├── backend_qtagg.py
|   |   |   ├── backend_qtcairo.py
|   |   |   ├── backend_svg.py
|   |   |   ├── backend_template.py
|   |   |   ├── backend_tkagg.py
|   |   |   ├── backend_tkcairo.py
|   |   |   ├── backend_webagg.py
|   |   |   ├── backend_webagg_core.py
|   |   |   ├── backend_wx.py
|   |   |   ├── backend_wxagg.py
|   |   |   ├── backend_wxcairo.py
|   |   |   ├── qt_compat.py
|   |   |   ├── qt_editor
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _formlayout.py
|   |   |   |   └── figureoptions.py
|   |   |   └── web_backend
|   |   |       ├── .eslintrc.js
|   |   |       ├── css
|   |   |       └── js
|   |   ├── bezier.py
|   |   ├── category.py
|   |   ├── cbook
|   |   |   └── __init__.py
|   |   ├── cm.py
|   |   ├── collections.py
|   |   ├── colorbar.py
|   |   ├── colors.py
|   |   ├── container.py
|   |   ├── contour.py
|   |   ├── dates.py
|   |   ├── docstring.py
|   |   ├── dviread.py
|   |   ├── figure.py
|   |   ├── font_manager.py
|   |   ├── fontconfig_pattern.py
|   |   ├── gridspec.py
|   |   ├── hatch.py
|   |   ├── image.py
|   |   ├── layout_engine.py
|   |   ├── legend.py
|   |   ├── legend_handler.py
|   |   ├── lines.py
|   |   ├── markers.py
|   |   ├── mathtext.py
|   |   ├── mlab.py
|   |   ├── mpl-data
|   |   |   ├── fonts
|   |   |   |   ├── afm
|   |   |   |   ├── pdfcorefonts
|   |   |   |   └── ttf
|   |   |   ├── images
|   |   |   ├── plot_directive
|   |   |   ├── sample_data
|   |   |   |   ├── README.txt
|   |   |   |   └── axes_grid
|   |   |   └── stylelib
|   |   ├── offsetbox.py
|   |   ├── patches.py
|   |   ├── path.py
|   |   ├── patheffects.py
|   |   ├── projections
|   |   |   ├── __init__.py
|   |   |   ├── geo.py
|   |   |   └── polar.py
|   |   ├── pylab.py
|   |   ├── pyplot.py
|   |   ├── quiver.py
|   |   ├── rcsetup.py
|   |   ├── sankey.py
|   |   ├── scale.py
|   |   ├── sphinxext
|   |   |   ├── __init__.py
|   |   |   ├── mathmpl.py
|   |   |   └── plot_directive.py
|   |   ├── spines.py
|   |   ├── stackplot.py
|   |   ├── streamplot.py
|   |   ├── style
|   |   |   ├── __init__.py
|   |   |   └── core.py
|   |   ├── table.py
|   |   ├── testing
|   |   |   ├── __init__.py
|   |   |   ├── _markers.py
|   |   |   ├── compare.py
|   |   |   ├── conftest.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── jpl_units
|   |   |   |   ├── Duration.py
|   |   |   |   ├── Epoch.py
|   |   |   |   ├── EpochConverter.py
|   |   |   |   ├── StrConverter.py
|   |   |   |   ├── UnitDbl.py
|   |   |   |   ├── UnitDblConverter.py
|   |   |   |   ├── UnitDblFormatter.py
|   |   |   |   └── __init__.py
|   |   |   └── widgets.py
|   |   ├── tests
|   |   |   ├── __init__.py
|   |   |   ├── baseline_images
|   |   |   |   ├── dviread
|   |   |   |   ├── pngsuite
|   |   |   |   ├── test_agg
|   |   |   |   ├── test_agg_filter
|   |   |   |   ├── test_arrow_patches
|   |   |   |   ├── test_artist
|   |   |   |   ├── test_axes
|   |   |   |   ├── test_backend_pdf
|   |   |   |   ├── test_backend_pgf
|   |   |   |   ├── test_backend_ps
|   |   |   |   ├── test_backend_svg
|   |   |   |   ├── test_bbox_tight
|   |   |   |   ├── test_collections
|   |   |   |   ├── test_colorbar
|   |   |   |   ├── test_colors
|   |   |   |   ├── test_compare_images
|   |   |   |   ├── test_constrainedlayout
|   |   |   |   ├── test_contour
|   |   |   |   ├── test_dates
|   |   |   |   ├── test_figure
|   |   |   |   ├── test_image
|   |   |   |   ├── test_legend
|   |   |   |   ├── test_lines
|   |   |   |   ├── test_mathtext
|   |   |   |   ├── test_offsetbox
|   |   |   |   ├── test_patches
|   |   |   |   ├── test_path
|   |   |   |   ├── test_patheffects
|   |   |   |   ├── test_png
|   |   |   |   ├── test_polar
|   |   |   |   ├── test_quiver
|   |   |   |   ├── test_scale
|   |   |   |   ├── test_simplification
|   |   |   |   ├── test_skew
|   |   |   |   ├── test_spines
|   |   |   |   ├── test_streamplot
|   |   |   |   ├── test_subplots
|   |   |   |   ├── test_table
|   |   |   |   ├── test_text
|   |   |   |   ├── test_tightlayout
|   |   |   |   ├── test_transforms
|   |   |   |   ├── test_triangulation
|   |   |   |   ├── test_ttconv
|   |   |   |   ├── test_units
|   |   |   |   ├── test_usetex
|   |   |   |   └── test_widgets
|   |   |   ├── conftest.py
|   |   |   ├── test_afm.py
|   |   |   ├── test_agg.py
|   |   |   ├── test_agg_filter.py
|   |   |   ├── test_animation.py
|   |   |   ├── test_api.py
|   |   |   ├── test_arrow_patches.py
|   |   |   ├── test_artist.py
|   |   |   ├── test_axes.py
|   |   |   ├── test_backend_bases.py
|   |   |   ├── test_backend_cairo.py
|   |   |   ├── test_backend_gtk3.py
|   |   |   ├── test_backend_macosx.py
|   |   |   ├── test_backend_nbagg.py
|   |   |   ├── test_backend_pdf.py
|   |   |   ├── test_backend_pgf.py
|   |   |   ├── test_backend_ps.py
|   |   |   ├── test_backend_qt.py
|   |   |   ├── test_backend_svg.py
|   |   |   ├── test_backend_template.py
|   |   |   ├── test_backend_tk.py
|   |   |   ├── test_backend_tools.py
|   |   |   ├── test_backend_webagg.py
|   |   |   ├── test_backends_interactive.py
|   |   |   ├── test_basic.py
|   |   |   ├── test_bbox_tight.py
|   |   |   ├── test_category.py
|   |   |   ├── test_cbook.py
|   |   |   ├── test_collections.py
|   |   |   ├── test_colorbar.py
|   |   |   ├── test_colors.py
|   |   |   ├── test_compare_images.py
|   |   |   ├── test_constrainedlayout.py
|   |   |   ├── test_container.py
|   |   |   ├── test_contour.py
|   |   |   ├── test_cycles.py
|   |   |   ├── test_dates.py
|   |   |   ├── test_determinism.py
|   |   |   ├── test_doc.py
|   |   |   ├── test_dviread.py
|   |   |   ├── test_figure.py
|   |   |   ├── test_font_manager.py
|   |   |   ├── test_fontconfig_pattern.py
|   |   |   ├── test_ft2font.py
|   |   |   ├── test_getattr.py
|   |   |   ├── test_gridspec.py
|   |   |   ├── test_image.py
|   |   |   ├── test_legend.py
|   |   |   ├── test_lines.py
|   |   |   ├── test_marker.py
|   |   |   ├── test_mathtext.py
|   |   |   ├── test_matplotlib.py
|   |   |   ├── test_mlab.py
|   |   |   ├── test_offsetbox.py
|   |   |   ├── test_patches.py
|   |   |   ├── test_path.py
|   |   |   ├── test_patheffects.py
|   |   |   ├── test_pickle.py
|   |   |   ├── test_png.py
|   |   |   ├── test_polar.py
|   |   |   ├── test_preprocess_data.py
|   |   |   ├── test_pyplot.py
|   |   |   ├── test_quiver.py
|   |   |   ├── test_rcparams.py
|   |   |   ├── test_sankey.py
|   |   |   ├── test_scale.py
|   |   |   ├── test_simplification.py
|   |   |   ├── test_skew.py
|   |   |   ├── test_sphinxext.py
|   |   |   ├── test_spines.py
|   |   |   ├── test_streamplot.py
|   |   |   ├── test_style.py
|   |   |   ├── test_subplots.py
|   |   |   ├── test_table.py
|   |   |   ├── test_testing.py
|   |   |   ├── test_texmanager.py
|   |   |   ├── test_text.py
|   |   |   ├── test_textpath.py
|   |   |   ├── test_ticker.py
|   |   |   ├── test_tightlayout.py
|   |   |   ├── test_transforms.py
|   |   |   ├── test_triangulation.py
|   |   |   ├── test_ttconv.py
|   |   |   ├── test_type1font.py
|   |   |   ├── test_units.py
|   |   |   ├── test_usetex.py
|   |   |   ├── test_widgets.py
|   |   |   └── tinypages
|   |   |       ├── README.md
|   |   |       ├── _static
|   |   |       ├── conf.py
|   |   |       ├── included_plot_21.rst
|   |   |       ├── index.rst
|   |   |       ├── range4.py
|   |   |       ├── range6.py
|   |   |       └── some_plots.rst
|   |   ├── texmanager.py
|   |   ├── text.py
|   |   ├── textpath.py
|   |   ├── ticker.py
|   |   ├── tight_bbox.py
|   |   ├── tight_layout.py
|   |   ├── transforms.py
|   |   ├── tri
|   |   |   ├── __init__.py
|   |   |   ├── _triangulation.py
|   |   |   ├── _tricontour.py
|   |   |   ├── _trifinder.py
|   |   |   ├── _triinterpolate.py
|   |   |   ├── _tripcolor.py
|   |   |   ├── _triplot.py
|   |   |   ├── _trirefine.py
|   |   |   ├── _tritools.py
|   |   |   ├── triangulation.py
|   |   |   ├── tricontour.py
|   |   |   ├── trifinder.py
|   |   |   ├── triinterpolate.py
|   |   |   ├── tripcolor.py
|   |   |   ├── triplot.py
|   |   |   ├── trirefine.py
|   |   |   └── tritools.py
|   |   ├── type1font.py
|   |   ├── units.py
|   |   └── widgets.py
|   ├── mpl_toolkits
|   |   ├── __init__.py
|   |   ├── axes_grid1
|   |   |   ├── __init__.py
|   |   |   ├── anchored_artists.py
|   |   |   ├── axes_divider.py
|   |   |   ├── axes_grid.py
|   |   |   ├── axes_rgb.py
|   |   |   ├── axes_size.py
|   |   |   ├── inset_locator.py
|   |   |   ├── mpl_axes.py
|   |   |   ├── parasite_axes.py
|   |   |   └── tests
|   |   |       ├── __init__.py
|   |   |       ├── baseline_images
|   |   |       ├── conftest.py
|   |   |       └── test_axes_grid1.py
|   |   ├── axisartist
|   |   |   ├── __init__.py
|   |   |   ├── angle_helper.py
|   |   |   ├── axes_divider.py
|   |   |   ├── axes_grid.py
|   |   |   ├── axes_rgb.py
|   |   |   ├── axis_artist.py
|   |   |   ├── axisline_style.py
|   |   |   ├── axislines.py
|   |   |   ├── floating_axes.py
|   |   |   ├── grid_finder.py
|   |   |   ├── grid_helper_curvelinear.py
|   |   |   ├── parasite_axes.py
|   |   |   └── tests
|   |   |       ├── __init__.py
|   |   |       ├── baseline_images
|   |   |       ├── conftest.py
|   |   |       ├── test_angle_helper.py
|   |   |       ├── test_axis_artist.py
|   |   |       ├── test_axislines.py
|   |   |       ├── test_floating_axes.py
|   |   |       ├── test_grid_finder.py
|   |   |       └── test_grid_helper_curvelinear.py
|   |   └── mplot3d
|   |       ├── __init__.py
|   |       ├── art3d.py
|   |       ├── axes3d.py
|   |       ├── axis3d.py
|   |       ├── proj3d.py
|   |       └── tests
|   |           ├── __init__.py
|   |           ├── baseline_images
|   |           ├── conftest.py
|   |           ├── test_art3d.py
|   |           ├── test_axes3d.py
|   |           └── test_legend3d.py
|   └── pylab.py
├── plot_types
|   ├── 3D
|   |   ├── README.rst
|   |   ├── scatter3d_simple.py
|   |   ├── surface3d_simple.py
|   |   ├── trisurf3d_simple.py
|   |   ├── voxels_simple.py
|   |   └── wire3d_simple.py
|   ├── README.rst
|   ├── arrays
|   |   ├── README.rst
|   |   ├── barbs.py
|   |   ├── contour.py
|   |   ├── contourf.py
|   |   ├── imshow.py
|   |   ├── pcolormesh.py
|   |   ├── quiver.py
|   |   └── streamplot.py
|   ├── basic
|   |   ├── README.rst
|   |   ├── bar.py
|   |   ├── fill_between.py
|   |   ├── plot.py
|   |   ├── scatter_plot.py
|   |   ├── stackplot.py
|   |   ├── stem.py
|   |   └── step.py
|   ├── stats
|   |   ├── README.rst
|   |   ├── boxplot_plot.py
|   |   ├── errorbar_plot.py
|   |   ├── eventplot.py
|   |   ├── hexbin.py
|   |   ├── hist2d.py
|   |   ├── hist_plot.py
|   |   ├── pie.py
|   |   └── violin.py
|   └── unstructured
|       ├── README.rst
|       ├── tricontour.py
|       ├── tricontourf.py
|       ├── tripcolor.py
|       └── triplot.py
├── requirements
|   ├── dev
|   |   └── dev-requirements.txt
|   ├── doc
|   |   └── doc-requirements.txt
|   └── testing
|       ├── all.txt
|       ├── extra.txt
|       ├── flake8.txt
|       └── minver.txt
├── setup.py
├── setupext.py
├── src
|   ├── _backend_agg.cpp
|   ├── _backend_agg_wrapper.cpp
|   ├── _c_internal_utils.c
|   ├── _image_wrapper.cpp
|   ├── _path_wrapper.cpp
|   ├── _qhull_wrapper.cpp
|   ├── _tkagg.cpp
|   ├── _ttconv.cpp
|   ├── checkdep_freetype2.c
|   ├── doc
|   ├── ft2font.cpp
|   ├── ft2font_wrapper.cpp
|   ├── py_converters.cpp
|   └── tri
|       ├── _tri.cpp
|       └── _tri_wrapper.cpp
├── tests.py
├── tools
|   ├── README.txt
|   ├── boilerplate.py
|   ├── cache_zenodo_svg.py
|   ├── create_DejaVuDisplay.sh
|   ├── embed_js.py
|   ├── gh_api.py
|   ├── github_stats.py
|   ├── make_icons.py
|   ├── memleak.py
|   ├── run_examples.py
|   ├── subset.py
|   ├── triage_tests.py
|   └── visualize_tests.py
└── tutorials
    ├── README.txt
    ├── advanced
    |   ├── README.txt
    |   ├── blitting.py
    |   ├── path_tutorial.py
    |   ├── patheffects_guide.py
    |   └── transforms_tutorial.py
    ├── colors
    |   ├── README.txt
    |   ├── colorbar_only.py
    |   ├── colormap-manipulation.py
    |   ├── colormapnorms.py
    |   ├── colormaps.py
    |   └── colors.py
    ├── intermediate
    |   ├── README.txt
    |   ├── arranging_axes.py
    |   ├── artists.py
    |   ├── autoscale.py
    |   ├── color_cycle.py
    |   ├── constrainedlayout_guide.py
    |   ├── imshow_extent.py
    |   ├── legend_guide.py
    |   └── tight_layout_guide.py
    ├── introductory
    |   ├── README.txt
    |   ├── animation_tutorial.py
    |   ├── customizing.py
    |   ├── images.py
    |   ├── lifecycle.py
    |   ├── pyplot.py
    |   └── quick_start.py
    ├── provisional
    |   ├── README.txt
    |   └── mosaic.py
    ├── text
    |   ├── README.txt
    |   ├── annotations.py
    |   ├── mathtext.py
    |   ├── pgf.py
    |   ├── text_intro.py
    |   ├── text_props.py
    |   └── usetex.py
    └── toolkits
        ├── README.txt
        ├── axes_grid.py
        ├── axisartist.py
        └── mplot3d.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
[ENH]: Auto-detect bool arrays passed to contour()?

Issue description: 
### Problem

I find myself fairly regularly calling
```python
plt.contour(boolean_2d_array, levels=[.5], ...)
```
to draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).
```python
from pylab import *
ii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])
```
![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)


### Proposed solution

Autodetect boolean inputs to contour, and default levels to [0.5] in that case.

I guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).

Thoughts?

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: lib/matplotlib/tests/test_contour.py
Line number range: 103 - 112
Content:
103. def test_contour_uniform_z():
104. 
105.     x = np.arange(9)
106.     z = np.ones((9, 9))
107. 
108.     fig, ax = plt.subplots()
109.     with pytest.warns(UserWarning) as record:
110.         ax.contour(x, x, z)
111.     assert len(record) == 1
112. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 76 - 85
Content:
76. def test_contour_Nlevels():
77.     # A scalar levels arg or kwarg should trigger auto level generation.
78.     # https://github.com/matplotlib/matplotlib/issues/11913
79.     z = np.arange(12).reshape((3, 4))
80.     fig, ax = plt.subplots()
81.     cs1 = ax.contour(z, 5)
82.     assert len(cs1.levels) > 1
83.     cs2 = ax.contour(z, levels=5)
84.     assert (cs1.levels == cs2.levels).all()
85. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 240 - 246
Content:
240. def test_contourf_symmetric_locator():
241.     # github issue 7271
242.     z = np.arange(12).reshape((3, 4))
243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)
244.     cs = plt.contourf(z, locator=locator)
245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))
246. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 379 - 389
Content:
379. @image_comparison(baseline_images=['contour_closed_line_loop'],
380.                   extensions=['png'], remove_text=True)
381. def test_contour_closed_line_loop():
382.     # github issue 19568.
383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]
384. 
385.     fig, ax = plt.subplots(figsize=(2, 2))
386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)
387.     ax.set_xlim(-0.1, 2.1)
388.     ax.set_ylim(-0.1, 3.1)
389. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 214 - 230
Content:
214. @image_comparison(['contour_corner_mask_False.png',
215.                    'contour_corner_mask_True.png'],
216.                   remove_text=True)
217. def test_corner_mask():
218.     n = 60
219.     mask_level = 0.95
220.     noise_amp = 1.0
221.     np.random.seed([1])
222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))
223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)
224.     mask = np.random.rand(n, n) >= mask_level
225.     z = np.ma.array(z, mask=mask)
226. 
227.     for corner_mask in [False, True]:
228.         plt.figure()
229.         plt.contourf(z, corner_mask=corner_mask)
230. 


File: lib/matplotlib/tests/test_contour.py
Line number range: 1 - 14
Content:
1. import datetime
2. import platform
3. import re
4. 
5. import contourpy
6. import numpy as np
7. from numpy.testing import (
8.     assert_array_almost_equal, assert_array_almost_equal_nulp)
9. import matplotlib as mpl
10. from matplotlib.testing.decorators import image_comparison
11. from matplotlib import pyplot as plt, rc_context
12. from matplotlib.colors import LogNorm, same_color
13. import pytest
14. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-06 10:48:04,474 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find 5 relevant test cases for a proposed enhancement to `plt.contour` to auto-detect boolean arrays. The provided context from `lib/matplotlib/tests/test_contour.py` is sufficient to fulfill this request. I have identified 5 test cases that are highly relevant to the user's query. These tests cover: handling of special input data (`test_contour_uniform_z`), the `levels` parameter (`test_contour_Nlevels`), level selection mechanisms (`test_contourf_symmetric_locator`), handling of special array types like masked arrays (`test_corner_mask`), and image comparison tests for specific levels (`test_contour_closed_line_loop`). The context also includes all necessary imports. Therefore, no additional context is required." refined_query=''
2025-10-06 10:48:04,474 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='lib/matplotlib/tests/test_contour.py', content='103. def test_contour_uniform_z():\n104. \n105.     x = np.arange(9)\n106.     z = np.ones((9, 9))\n107. \n108.     fig, ax = plt.subplots()\n109.     with pytest.warns(UserWarning) as record:\n110.         ax.contour(x, x, z)\n111.     assert len(record) == 1\n112. ', start_line_number=103, end_line_number=112), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='76. def test_contour_Nlevels():\n77.     # A scalar levels arg or kwarg should trigger auto level generation.\n78.     # https://github.com/matplotlib/matplotlib/issues/11913\n79.     z = np.arange(12).reshape((3, 4))\n80.     fig, ax = plt.subplots()\n81.     cs1 = ax.contour(z, 5)\n82.     assert len(cs1.levels) > 1\n83.     cs2 = ax.contour(z, levels=5)\n84.     assert (cs1.levels == cs2.levels).all()\n85. ', start_line_number=76, end_line_number=85), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='240. def test_contourf_symmetric_locator():\n241.     # github issue 7271\n242.     z = np.arange(12).reshape((3, 4))\n243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)\n244.     cs = plt.contourf(z, locator=locator)\n245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))\n246. ', start_line_number=240, end_line_number=246), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="379. @image_comparison(baseline_images=['contour_closed_line_loop'],\n380.                   extensions=['png'], remove_text=True)\n381. def test_contour_closed_line_loop():\n382.     # github issue 19568.\n383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]\n384. \n385.     fig, ax = plt.subplots(figsize=(2, 2))\n386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)\n387.     ax.set_xlim(-0.1, 2.1)\n388.     ax.set_ylim(-0.1, 3.1)\n389. ", start_line_number=379, end_line_number=389), Context(relative_path='lib/matplotlib/tests/test_contour.py', content="214. @image_comparison(['contour_corner_mask_False.png',\n215.                    'contour_corner_mask_True.png'],\n216.                   remove_text=True)\n217. def test_corner_mask():\n218.     n = 60\n219.     mask_level = 0.95\n220.     noise_amp = 1.0\n221.     np.random.seed([1])\n222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))\n223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)\n224.     mask = np.random.rand(n, n) >= mask_level\n225.     z = np.ma.array(z, mask=mask)\n226. \n227.     for corner_mask in [False, True]:\n228.         plt.figure()\n229.         plt.contourf(z, corner_mask=corner_mask)\n230. ", start_line_number=214, end_line_number=230), Context(relative_path='lib/matplotlib/tests/test_contour.py', content='1. import datetime\n2. import platform\n3. import re\n4. \n5. import contourpy\n6. import numpy as np\n7. from numpy.testing import (\n8.     assert_array_almost_equal, assert_array_almost_equal_nulp)\n9. import matplotlib as mpl\n10. from matplotlib.testing.decorators import image_comparison\n11. from matplotlib import pyplot as plt, rc_context\n12. from matplotlib.colors import LogNorm, same_color\n13. import pytest\n14. ', start_line_number=1, end_line_number=14)]
2025-10-06 10:48:04,475 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content="Issue title:\n[ENH]: Auto-detect bool arrays passed to contour()?\n\nIssue description: \n### Problem\n\nI find myself fairly regularly calling\n```python\nplt.contour(boolean_2d_array, levels=[.5], ...)\n```\nto draw the boundary line between True and False regions on a boolean 2d array.  Without `levels=[.5]`, one gets the default 8 levels which go at 0, 0.15, 0.3, 0.45, 0.6, 0.75, 0.9, 1.05 resulting in all the contour lines being drawn on top of one another; but clearly(?), for boolean inputs, the only choice that makes sense is to have a single level at 0.5 (or rather, anywhere between 0 and 1).\n```python\nfrom pylab import *\nii, jj = np.ogrid[:100, :100]; im = (ii+jj) % 20 < 10; subplot(121).contour(im); subplot(122).contour(im, levels=[.5])\n```\n![test](https://user-images.githubusercontent.com/1322974/199115826-8746ebbc-e469-48fa-a7f0-d302750018b5.png)\n\n\n### Proposed solution\n\nAutodetect boolean inputs to contour, and default levels to [0.5] in that case.\n\nI guess the closest similar kind of autodetection in the library is for imshow, which auto-switches between 0-1 float RGBA arrays and 0-255 uint8 RGBA arrays (when given a 3D array as input).\n\nThoughts?\n\nIssue comments:\n\n\nBug reproducing context:\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 103 - 112\nContent:\n103. def test_contour_uniform_z():\n104. \n105.     x = np.arange(9)\n106.     z = np.ones((9, 9))\n107. \n108.     fig, ax = plt.subplots()\n109.     with pytest.warns(UserWarning) as record:\n110.         ax.contour(x, x, z)\n111.     assert len(record) == 1\n112. \n\n\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 76 - 85\nContent:\n76. def test_contour_Nlevels():\n77.     # A scalar levels arg or kwarg should trigger auto level generation.\n78.     # https://github.com/matplotlib/matplotlib/issues/11913\n79.     z = np.arange(12).reshape((3, 4))\n80.     fig, ax = plt.subplots()\n81.     cs1 = ax.contour(z, 5)\n82.     assert len(cs1.levels) > 1\n83.     cs2 = ax.contour(z, levels=5)\n84.     assert (cs1.levels == cs2.levels).all()\n85. \n\n\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 240 - 246\nContent:\n240. def test_contourf_symmetric_locator():\n241.     # github issue 7271\n242.     z = np.arange(12).reshape((3, 4))\n243.     locator = plt.MaxNLocator(nbins=4, symmetric=True)\n244.     cs = plt.contourf(z, locator=locator)\n245.     assert_array_almost_equal(cs.levels, np.linspace(-12, 12, 5))\n246. \n\n\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 379 - 389\nContent:\n379. @image_comparison(baseline_images=['contour_closed_line_loop'],\n380.                   extensions=['png'], remove_text=True)\n381. def test_contour_closed_line_loop():\n382.     # github issue 19568.\n383.     z = [[0, 0, 0], [0, 2, 0], [0, 0, 0], [2, 1, 2]]\n384. \n385.     fig, ax = plt.subplots(figsize=(2, 2))\n386.     ax.contour(z, [0.5], linewidths=[20], alpha=0.7)\n387.     ax.set_xlim(-0.1, 2.1)\n388.     ax.set_ylim(-0.1, 3.1)\n389. \n\n\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 214 - 230\nContent:\n214. @image_comparison(['contour_corner_mask_False.png',\n215.                    'contour_corner_mask_True.png'],\n216.                   remove_text=True)\n217. def test_corner_mask():\n218.     n = 60\n219.     mask_level = 0.95\n220.     noise_amp = 1.0\n221.     np.random.seed([1])\n222.     x, y = np.meshgrid(np.linspace(0, 2.0, n), np.linspace(0, 2.0, n))\n223.     z = np.cos(7*x)*np.sin(8*y) + noise_amp*np.random.rand(n, n)\n224.     mask = np.random.rand(n, n) >= mask_level\n225.     z = np.ma.array(z, mask=mask)\n226. \n227.     for corner_mask in [False, True]:\n228.         plt.figure()\n229.         plt.contourf(z, corner_mask=corner_mask)\n230. \n\n\nFile: lib/matplotlib/tests/test_contour.py\nLine number range: 1 - 14\nContent:\n1. import datetime\n2. import platform\n3. import re\n4. \n5. import contourpy\n6. import numpy as np\n7. from numpy.testing import (\n8.     assert_array_almost_equal, assert_array_almost_equal_nulp)\n9. import matplotlib as mpl\n10. from matplotlib.testing.decorators import image_comparison\n11. from matplotlib import pyplot as plt, rc_context\n12. from matplotlib.colors import LogNorm, same_color\n13. import pytest\n14. \n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n" additional_kwargs={} response_metadata={}
2025-10-06 10:48:18,812 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nimport numpy as np\nfrom numpy.testing import assert_array_almost_equal\nfrom matplotlib import pyplot as plt\n\n\ndef test_contour_boolean_autolevels():\n    """\n    Test that contour() with a boolean array defaults levels to [0.5].\n    """\n    ii, jj = np.ogrid[:100, :100]\n    im = (ii + jj) % 20 < 10\n    fig, ax = plt.subplots()\n    cs = ax.contour(im)\n    assert_array_almost_equal(cs.levels, [0.5])\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2521, 'candidates_token_count': 140, 'total_token_count': 4262, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2521}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 140}], 'thoughts_token_count': 1601, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0950570242745536, 'model_name': 'gemini-2.5-pro'} id='run--9e03a426-baa1-4bc0-b9aa-3b314646b18f-0' usage_metadata={'input_tokens': 2521, 'output_tokens': 140, 'total_tokens': 4262, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1601}}
2025-10-06 10:48:30,710 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "import numpy as np\\nfrom numpy.testing import assert_array_almost_equal\\nfrom matplotlib import pyplot as plt\\n\\n\\ndef test_contour_boolean_autolevels():\\n    \\"\\"\\"\\n    Test that contour() with a boolean array defaults levels to [0.5].\\n    \\"\\"\\"\\n    ii, jj = np.ogrid[:100, :100]\\n    im = (ii + jj) % 20 < 10\\n    fig, ax = plt.subplots()\\n    cs = ax.contour(im)\\n    assert_array_almost_equal(cs.levels, [0.5])\\n", "relative_path": "lib/matplotlib/tests/test_contour_boolean.py"}'}, '__gemini_function_call_thought_signatures__': {'2af083d6-29a7-41ff-b5b7-ffac24430ab3': 'CucdAR/MhbZxJ1acEsQxxHySYBy3IuKsZmRFvdx8Rg36OteUqhwFtiRLIKPm7Xi78XrLhGmr4jo/WwMMR4AsU3F3eAtpOXKVtAT8vyuHKf9YCprReQyVn766F0ljg+dG2q3laPysJdvFrlli4XgxdKaZAzcYHbHuES0Geavgw3n8adzM8gUdY9flmMwWYS5jb+MDvqSNo1ZQ6vLQ2KGhLWWNc/EKn1FjbqM5LgIoEPL5xb4r59f94X4xBJvinXU0nrcPsf4fr+hXGBKwgj/H8VHGhJvuQWvR6ICs3ljJqWtcuqdgCBC1BZlhZnnTMhHP2jmUbX3skl2xDniWt9Ya5dhdLqT5oRFZ0Gw/i/TW8jFtKqPWwt1wul+lywD275M8b+uQI4GR9A7gvJhTuMDx6yua0t1yfWbNDCY9/d7JIHpkSkRF2kShFmq2foSU5Ye/ZTXxnbTJHxOf2cJhRXIw9eYgyct/8s0jjNASxX6E2rJPaHWcjQQAWI2HPQPUe7dP4cOnaYRcHR66nM/M5tY0Ng6gYukZ3Ys/6RjwMF2dxtbENDZfc0EY/RzXosPntvqxtnEln6909x1wkF7FzFoGB3NGCnwx1Zo9NzkU6N8GCX7k8G2zyIMoBtQMJooO0lcW4NyGBZ9+9nAa/RanJIlSAxbg5enZpZJ7zwTUNy8zBKpJcn+C8ValOnoQ6Pyhq0qcTRiZq9vBp3xUphiAnUX/yZ8E5owj0O6GN+XfLViK7lTOxDgSxRTavrS5NZj/JD5jFWOAydTTckX2dNFQDzu5cno4IFUa8OH6GKjtOUfwqMwx2C0OMa9CS1MQTPMnpRQpE6PrjBYeMSi+KA7J3lCLKwWZzPFSrnCri5nf1Tj+Ovt0G9sgRJiB8XOAAL+B2aPBrZwqq2QKP6r0n/XCndC5lzGnetaNkHukUjwpoOKzps86J7BiATKhl0Eq4lnbml+8nVd6GcPU42DWzePQjmVC4spPbaatxJVM1QPf/Oq/ZMcAbxr9+fWAVnf5eshdX8ZHR+zF+v/TebQixNI/Mw/0cQairHtU3evnFRz5yCzn9nEaKcSl6FTwEKHgpKHiI1BGCl6PIuSm+M4VIMGbQppQcyms1bKJPvQ6pvDImV2sGqQG3ZvSSSJjHkbRmh8Nf0szNEOfuoXlsEJ4HV8Zv9eTX/AitaOwJY5Ig4+7b/o5ZBLmGuZbxN+DQfsHRDbyY7/ePPxl/WvOekg0bcECTKsUu354BWxhxs0amM+JzrF7fbiAJxh759/AlKZRJq6lM4Oxqs7iB1h56fu2JAecLE2Uu29KetIZ4O19K5sP8pEjv/zwIInXpb3Eb74mtkFKf5tw5tIW5IuIejEBZlga9K9rYI0l634D3Wm3GCyYEtxwxxpEHqT0OL0lrOvKEJPlfEQeHSM5zUCx13VQTEQMuWjyn7ngHxviqkr98TQ7idIBbcelpNGwnPmq58rIHDv/Z5m9NalFW/EqbBgBpBRihlON7EHzLV1y+IDoL2LVuyyiIDwQ8aOA/TMebBlTCuZHa2nVDLFBjCxHUAUG5X6RkvzIYraByO9ymM9oVOmUgjMUN0zRkJTi1wbtPH9Ui/62EfgNEEM1l4TRE3s5GklgfZd9PJLted81krcn9gYkW6pWK68z2kgask/3QB/mnW4NTD/xSabvSA19w4SxurjADv8+5O8uR3H9PuK34FcGKc57j58yKoE/T4QsTFrxIpm2Q5Q080solBjZyqpTrqZ+VzMcRntOYeBhOsBSZ9FEr16eGA+amR0yzMdg0K7s5u6rOlPb2KfzeDQzp6uLz0Gd3giy/oTQozapqojQ50aI+TgBzoGW6i+tv0yr5hd4ndZ/ZHDDGpW811ZM63gLbm2KZ/ESocFWCRFajFI6Wz1+f5MoaFNG2HY5N5MddY7LwOZTwbpYioEHFVibRDmkZKiv4DYClAEECkZF+YrZXGKMl2ViB/bD00HJNXJYsJXf9wIFiMCP1+x4h4PldU+yfe7IdU0H2B0z8qEx0Spv+LcmwAsVKxDSMuwaTDjQCpwKEwaLOv2lHAuPaxyV7zDn0HbQwDlJi2xJNiaIwvkfua8b9Ahd7ywm6kux5wJCziA4jVzh5bp6MAFgxy8vDgF6WRSYoxLIQppyk118zCGUTJqQlKcnbBXjHVIf1EGfutfhMIh9xCaRol4qtJv1HjtUQA3qDAt7tiy8a5zHRnV4l6QcM/fgkpTWcF9fY6EvxWSWIUK81e+g1ihBvpZQv4uTL3lorQIulIhaVKsLS1yPFeV/NMXsTt1CLqvhor4THKN4YiF29DVwVLuO3/vEhpxn2PHOfnBdtgV07mzfNePxLq3Bv5EbHWAhIiKafeG01Ve+zWVTu5Zk1kOZg90ZPWR2jxuNbKvGY7MoJ8w57I3jW9bnpFv/ZYdwn9xEgu/dhcDvXuBU4r9kUDS5tU0AEuQZ6b1DmM7eDKOWFWQjTyNt8kRTeUmGADp79Z3TNOW8j7B+kAD/xfrzFOk+J7xDqs8K2Lw4oJX+2XcDUnGWQQP+X1VMtwPgdWavdZIUQMpqe9upWdfP6IZuOuDxcGKbN59r5r3zGVzcoZ/NvEwVyzdIZVlE/cP70CTcMLipzhuMaQoyhz1UhzHYHxpC3PpXjOZA3rc2Uq15i0fBAgMDye81xzjfOoYArX0YNIIsIz4KU+GhRUTEdj8uUcJkCsUcJMsotUMxbM5wO0iKGLWER4FHsdlWzzi5n3HG50T4Blhw409sV/qY5sGTTT5jLLB4PM+Y3pylf9g9gzmFoNqOGlAePeEabcQlmHqKta17y91cjApbNC3nX+iwsTBuyRCwEE4m3jym+H8rfY8T93f/TJS3cbIGVPERdqY6k9EBhm2HdJVbX/E3Wxq59+GHUO4AtzLwMjTqC4q/W/mnJHQpwwnqqUFtvLcd7r+iIPQH06HIGg2USCsTRKT2xUxWf5AgoiHOG3D0KyaLF5CRr2XVeUUcZskGtZKIiyrF2NHXF7QUuo0mkvEOTqXbBsARR4Tjnzmx3UsjL/XsVlq2uvJaVWytoPG/tpoe6eDnZKl+d2UwN4ZSiMvrJbDcyJufqntm41PHeWZXcJGhoVXxb/w+XNIjAqEsOUXJrpskOkXTJ9+NraHv/Wf2I9/kDFza3WZIK19WNypqAnSuvIRojAUXhRWEgZQ54seqUbLDL5duWvuh2etp23mFuoLYmxSrUxZJmkn4n5xmwOJMxJEYAvdkKdcG+5mbJ35q+kr2A47NKLuUhQaSM5KPnzpALMocf/zqTcygdk7o54GwOBwY7Xf1SchdClzp8QrNSyrECHfQVNqbW9ostauECCtlDRObRF5C7Mx7kZhej9TaHr2/+xYBW/X4u9VYZkAYK3jvOraHZPnLF1G89s7HhzPuLo6r0AiDaWX0zhYwSZzAd484vwJP+AYwu8HWVwsqVZ1K4ZBTfKFdr4c1Y5opgeFBfSpwbsZO0yr2r4MSJnbsxzBl3bNFecTaz+Vd0OklX56dChDFCYSoqos6mUrjq06O9t0U6rqtba6Cab8L6cI0Gbr1KRC2a3I9GbaUJ7a4ZCQqsrHCAFJ/cB7o5lV29pqItA3lRPDzLB56NByPpYGFQ4HKc5li7BHrgUX1lXrfSlujbVcUkWkkSCcq4N5pC0mY0uPe8kQnwe6GA9k1Wq8bqlDW8DmOg6qdtLLmqvKU/k0F8Bze2hOabn1aEjkvO5FMvYYyQXAzCR9ajs0U4CggH/4DL2ocIDuh2L50Lv7TNThvWvPVmakIhTZ1bbZ84plzi2V9Joc/5DgJOzuMXufhEzjv9sjM0wYfo5Q4EpBMtDfqVhfih7IXWuUUgv3CXs2Fw8i9gZz/Fx1bcyoPrJP7gj/mS7MisAg2m5usu4naGQKtPK9x6f9v5hPqF7n7ZfeqkG4ChP4demHTc9/AQkGiYq/hLx9EnixEEXeGilWi+TvVDy+V6DiJ74m1dKx8yPjBf6XYv+Hhi9wU49NGw/CFzCuL9RxzZkmWy8S9MUdDwoomYawULGrmA+Jy+M6zgRgP0cXW1WxThXsXRmMQ8xsUWFlfdK6E6cmVeJqdFna46i2kZAyngsITZGu5tv9InbtgYFcwNP0a3h4tXnsQN4McwWMnxT7pLCfRXUIrSEicc/ZYGVmmYcuOyGupsn514pzrSZXdd6lv/48kqCgZ5lh5+Ag5XULH9vhGd0pEKr9JtHKSI0RjK2ocHYZO7bVyF9vihK7ULpvC+EyI0a3HI/zJ6TYejxnwU/WHFXg81T+hm7r0T2/+/7Y89w2lHJCo/LNKALOrS8StW/HJIw1sT2kbh7P1lXBQHj8MP0Yx3tW3982JF8QP3d4YBBlEt5ETY6AWfgxaFqkGuxu0PT9QUj2BJQ6wrk9Tq0lyD8FFEKOiANCkmdkmSyxTuOrjSZ2RJt7pvKIWHGruIuF0jA5lhA04jU4M3z5vRbdrmx6oZVt9gOt3xqLxeYAw/vVQTP1DbhaxMZLDoyldMIqHx8SbKcFMsOcnLURY80hWIcsGTQR1insXtKY/VSoGyGvSRKkgntbV3lkVs5zrzjOblffh07LZb8OGZX6qqcbU03w4cgEpmV4joxY4/9ynG+jCcL2NOWDcQF3lpWwbyqDwF+jN5bLsz4bnh5jKXdTl/x6XsrkRENQhLiVzzAY+KtpRihYfU2wLlA0/ng9kcdbRnBYlAzf7gDTN6IkZdFJf6bVW0GyPPGk9gm+6qEe9ZCI83AQ5GFXRI0bIn8sp8oznCt3tJxCXU1Mc1kPQ62lbLkWb9Qd1TSiDjeKaCUHWPo0EC2G2IBMYQ6R2mMG4PPwPl+42l4FVsMrPHLJL8PAs+uNh7gUy5thE06Q+RPuHsa2hND1fASINe+bstEBjDF2GtCC9kioxp2KOx7sGyrMkQgEbdslL0oJyXQRspuXJ1xtvKTC1NKkJQ9w0utlWqGKGyL16hER/egtIFFARdlMQsEibo6JTyHyVHxN1/j9ijH6YnciCYAXAqznA8vQcL/XNhDGydd1InxSS9E0eksEpXVC1m8U1boYRT0VJofWxwnzOCRHSApKMttrA1hWWEXzUdmz9Z7qrG0WZ/E90V7hiuMUKnQQBH8yFtvM965qi+wdoni4qI30mFhAFWfNRhOAvmK7XanTgesZ22WNK9RNAs8uuXbfTanqitW0Cu4sq8xPJvO4C4onNg+uw+L/bg+IVI35MTeYVZ4eNe4PzfVA5oRgxxPDm/fwPMiX4UkABDK4YSp4si/k/wqFjBTbni4fCMQcwCdpuilw4YS6fDDlU4ns6r3yU3PazqFw8DZc4FSfIDQutY5oXbmKo5TvkmcsdWd4y23wDPyKn758SVmoYmq7X+fnu32ARIcF3MUhyzL1H7U+1gOh3oYvkRAjjC/CDlxCdm/GtqiVjjJH6bUoGyUPLqbtzF4UcY71mLaCmTKTI13HlEKxFTYO3592km20lGBHbfoTYi/MWvHM3LA1uzFFkJDsDRCG2KKUccW+GaTX99/uTk6A93/mEqxYzc/i9Xj2HOu7zxJ60n7XzBn0dEqwknXBvsk+m12jlnusn+/q2vt8/eDnQs66ZXiI7BGANuZkzkKXccHfo00fGfkCzoMPleqyIp4w5FD7Xi2ESnnBlaN9f6sm0ZmIFYUqBeeYHWogcEVxg+LwDVaoW3EhVigf3L4b0Ss6FfOhPv6ocWhKPwfdGhY+YQex3KTDExkxY078S4xXojxF5enPzFBHbOG0uegRJKepICo1aJHkGYI8RF4RMgtomDJwDO5CdhtK+2QnoDGIyowLKYl27X26JX8xEr81u5UtR9NcJIEWnZ60BCvsBAR/Mhba7oJ+Th1CppJvEKuxCtGn6bfpkRC463sxT7DbfIUfch2M4bCjCSkWqBEVHBisaXJ9CDH3vZSd3iIpjNGdrAglQDYj3/SQyb51IPNPkOJybohLRZ+GLypGBG8y+Ghw9dpiGDw6SlwkybuI7z1+OsS99ymsjj7hyuW32oecIHHfbz0OBlBXg345iD9Qhs3E6IjqEi2YbWn76jFQBYU/bycBnCnDary4Gm3T/fkgdSrsCkQOIE0bBSCGE90gOzhHfSNww+kR4l19UuEtE7QIe1cycyM7uXS3ujBV8pYbtGJZ8rG61BrFbgVLbjfNeSsFoqdoMppiooPs='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 20023, 'candidates_token_count': 156, 'total_token_count': 21438, 'prompt_tokens_details': [{'modality': 1, 'token_count': 20023}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 156}], 'thoughts_token_count': 1259, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7560843443259214, 'model_name': 'gemini-2.5-pro'} id='run--b11b96c0-7e92-414e-804d-2729b2be9220-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'import numpy as np\nfrom numpy.testing import assert_array_almost_equal\nfrom matplotlib import pyplot as plt\n\n\ndef test_contour_boolean_autolevels():\n    """\n    Test that contour() with a boolean array defaults levels to [0.5].\n    """\n    ii, jj = np.ogrid[:100, :100]\n    im = (ii + jj) % 20 < 10\n    fig, ax = plt.subplots()\n    cs = ax.contour(im)\n    assert_array_almost_equal(cs.levels, [0.5])\n', 'relative_path': 'lib/matplotlib/tests/test_contour_boolean.py'}, 'id': '2af083d6-29a7-41ff-b5b7-ffac24430ab3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 20023, 'output_tokens': 156, 'total_tokens': 21438, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1259}}
2025-10-06 10:48:31,580 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='lib/matplotlib/tests/test_contour_boolean.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 20202, 'candidates_token_count': 13, 'total_token_count': 20215, 'cached_content_token_count': 19973, 'prompt_tokens_details': [{'modality': 1, 'token_count': 21459}], 'cache_tokens_details': [{'modality': 1, 'token_count': 19973}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 13}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0086916098281597e-06, 'model_name': 'gemini-2.5-pro'} id='run--bd9c799f-0949-4f78-a25f-ace33e83d433-0' usage_metadata={'input_tokens': 20202, 'output_tokens': 13, 'total_tokens': 20215, 'input_token_details': {'cache_read': 19973}}
2025-10-06 10:48:31,686 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/lib/matplotlib/tests/test_contour_boolean.py b/lib/matplotlib/tests/test_contour_boolean.py
new file mode 100644
index 0000000000..89b6ae34f6
--- /dev/null
+++ b/lib/matplotlib/tests/test_contour_boolean.py
@@ -0,0 +1,14 @@
+import numpy as np
+from numpy.testing import assert_array_almost_equal
+from matplotlib import pyplot as plt
+
+
+def test_contour_boolean_autolevels():
+    """
+    Test that contour() with a boolean array defaults levels to [0.5].
+    """
+    ii, jj = np.ogrid[:100, :100]
+    im = (ii + jj) % 20 < 10
+    fig, ax = plt.subplots()
+    cs = ax.contour(im)
+    assert_array_almost_equal(cs.levels, [0.5])

2025-10-06 10:48:31,687 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-06 10:48:31,704 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-06 10:48:31,704 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-06 10:48:31,805 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:48:31,805 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at 6091437be9 Merge pull request #24880 from anntzer/nc

2025-10-06 10:48:31,805 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-06 10:48:31,906 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:48:31,906 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 10:48:31,906 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-06 10:48:31,906 - thread-139660780025408.app.docker.base_container - INFO - Creating directory lib/matplotlib/tests in the container
2025-10-06 10:48:31,906 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p lib/matplotlib/tests
2025-10-06 10:48:32,006 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:48:32,006 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 10:48:32,007 - thread-139660780025408.app.docker.base_container - INFO - Updating lib/matplotlib/tests/test_contour_boolean.py in the container
2025-10-06 10:48:32,009 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-06 10:48:34,466 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest --version"}'}, '__gemini_function_call_thought_signatures__': {'966ddb10-7311-4497-bbe6-581a5b9626ff': 'Ct0EAR/MhbZ1erdUgnEia8wmt5HYNvQY/cxjsPq5A8rWJzuo0rjZs72qkKVVcyehov3DWY3OpLcXhPU5FMW+oj+kUijvWlnxaRcB3Mn3qUcvKUi4oFwsbVfPTMArUkYrA5GxCu5LsjCyR44vVqhksBt6HXxLrGC6yCR165mVTellnb16WWApUPrRx6ontnSYnYCWwOvKXJBh5H4euKz6I1EaP12wQuZmAXJTZCP4K80uJ2KkoBoErqkImzHZ4Ke8s4plZYKWIjXFW1kQAGq0lNW59eyM7yONFlOKjPx/q83hZ6zSaS4MJtzJw66mYZMcqhdPOAz5kf/VH3Ti8qySsKIvUVP7JMtQx/HRPiV2ZWumNm8Aay3z8kxrd4Ci+NIkjpiWpKyrir/IAiZJ/uMc7lL7oEeHnVdSipW+sNrjSq7ubuBDslJax0StKi8ZGvhigz3/Lux0pLOr8vtekj6+WiPxeoEb6W2PNIwoQnBPglRX0dztlD3aiIJg9dsd0T3Qp4b/4HLo2634KnE9eD5/IyhHPy9i/uNdnylxe5Rw1IO4FlRElPpA/8m5w+GD/R1tr7Ch7MlAbaXzpmcdy8my5e2myPfm0NBXFU/qUM3kqfLcbNp2XOl0ogpYrlGLv0+J6rk+AWaAD4VLrq7x9CYj+hnV0DSUQFexfcTv4CKQfS/FYVGGURgN7zDnHF0fmZmJVGv7r2AaVNiagjuXR9yvGKuKgnSynn21P2npXoq79XOuzepYdeMA0NSC0ReWHBFbpus5XTZQY+lRXXhAQneN4yHIupdYvF6b/qsLfjkNSNI='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 620, 'candidates_token_count': 7, 'total_token_count': 778, 'prompt_tokens_details': [{'modality': 1, 'token_count': 620}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 151, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.858250617980957, 'model_name': 'gemini-2.5-pro'} id='run--c2c99c07-d460-444b-a906-724a23090a1e-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest --version'}, 'id': '966ddb10-7311-4497-bbe6-581a5b9626ff', 'type': 'tool_call'}] usage_metadata={'input_tokens': 620, 'output_tokens': 7, 'total_tokens': 778, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 151}}
2025-10-06 10:48:34,467 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest --version
2025-10-06 10:48:34,687 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 10:48:34,687 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

pytest 8.3.4

2025-10-06 10:48:36,164 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest lib/matplotlib/tests/test_contour_boolean.py"}'}, '__gemini_function_call_thought_signatures__': {'b3e694c2-1d62-405c-a965-4a328b2845c5': 'CtYBAR/MhbbiCrY9x7TbLNKjL3VKfRAJhNuD/7LyJQ/EOqSIeprE0FDnjZ/20TC/h/aBUP1yRbaCPl6Kltk6YqcIRZXmAc/oNdV110JhY1a8ftZ678nz93CJycLzSLlLRDdHdySRf1dELfHY8kjKJzCAvsm3Zi/PrArBadggMs25jfEcVyg69m1IOWvHu4vxA7cRbsxp2oBchs3yERx1NzD00+RsA6VmpjgUi8kDdrU3htQJr+EaH68uP2IUUrtwISHF6X1bxda+M9805NK9RoYzdCT1jjWP2A=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 640, 'candidates_token_count': 18, 'total_token_count': 709, 'prompt_tokens_details': [{'modality': 1, 'token_count': 789}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 18}], 'thoughts_token_count': 51, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1096852355533176, 'model_name': 'gemini-2.5-pro'} id='run--41dae01a-54a5-474a-9604-2ef8a3ee7aab-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest lib/matplotlib/tests/test_contour_boolean.py'}, 'id': 'b3e694c2-1d62-405c-a965-4a328b2845c5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 640, 'output_tokens': 18, 'total_tokens': 709, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 51}}
2025-10-06 10:48:36,165 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest lib/matplotlib/tests/test_contour_boolean.py
2025-10-06 10:48:38,366 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-06 10:48:38,366 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
pytest lib/matplotlib/tests/test
t_contour_boolean.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.11.11, pytest-8.3.4, pluggy-1.5.0
rootdir: /testbed
configfile: pytest.ini
plugins: cov-6.0.0, xdist-3.6.1, rerunfailures-15.0, timeout-2.3.1
[1mcollecting ... [0m[1m
collecting 1 item                                                              [0m[1m
collected 1 item                                                               [0m

lib/matplotlib/tests/test_contour_boolean.py [31mF[0m[31m                           [100%][0m

=================================== FAILURES ===================================
[31m[1m_______________________ test_contour_boolean_autolevels ________________________[0m

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mtest_contour_boolean_autolevels[39;49;00m():[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Test that contour() with a boolean array defaults levels to [0.5].[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        ii, jj = np.ogrid[:[94m100[39;49;00m, :[94m100[39;49;00m][90m[39;49;00m
        im = (ii + jj) % [94m20[39;49;00m < [94m10[39;49;00m[90m[39;49;00m
        fig, ax = plt.subplots()[90m[39;49;00m
        cs = ax.contour(im)[90m[39;49;00m
>       assert_array_almost_equal(cs.levels, [[94m0.5[39;49;00m])[90m[39;49;00m

[1m[31mlib/matplotlib/tests/test_contour_boolean.py[0m:14: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py[0m:81: in inner
    [0m[94mreturn[39;49;00m func(*args, **kwds)[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

args = (<function assert_array_almost_equal.<locals>.compare at 0x7fbd6da9dda0>, array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05]), [0.5])
kwds = {'err_msg': '', 'header': 'Arrays are not almost equal to 6 decimals', 'precision': 6, 'verbose': True}

    [0m[37m@wraps[39;49;00m(func)[90m[39;49;00m
    [94mdef[39;49;00m[90m [39;49;00m[92minner[39;49;00m(*args, **kwds):[90m[39;49;00m
        [94mwith[39;49;00m [96mself[39;49;00m._recreate_cm():[90m[39;49;00m
>           [94mreturn[39;49;00m func(*args, **kwds)[90m[39;49;00m
[1m[31mE           AssertionError: [0m
[1m[31mE           Arrays are not almost equal to 6 decimals[0m
[1m[31mE           [0m
[1m[31mE           (shapes (8,), (1,) mismatch)[0m
[1m[31mE            x: array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05])[0m
[1m[31mE            y: array([0.5])[0m

[1m[31m/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py[0m:81: AssertionError
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m lib/matplotlib/tests/test_contour_boolean.py::[1mtest_contour_boolean_autolevels[0m - AssertionError: 
[31m============================== [31m[1m1 failed[0m[31m in 1.76s[0m[31m ===============================[0m

2025-10-06 10:48:43,629 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='pytest lib/matplotlib/tests/test_contour_boolean.py\n============================= test session starts ==============================\nplatform linux -- Python 3.11.11, pytest-8.3.4, pluggy-1.5.0\nrootdir: /testbed\nconfigfile: pytest.ini\nplugins: cov-6.0.0, xdist-3.6.1, rerunfailures-15.0, timeout-2.3.1\ncollecting ... \ncollecting 1 item\ncollected 1 item\n\nlib/matplotlib/tests/test_contour_boolean.py F                           [100%]\n\n=================================== FAILURES ===================================\n_______________________ test_contour_boolean_autolevels ________________________\n\n    def test_contour_boolean_autolevels():\n        """\n        Test that contour() with a boolean array defaults levels to [0.5].\n        """\n        ii, jj = np.ogrid[:100, :100]\n        im = (ii + jj) % 20 < 10\n        fig, ax = plt.subplots()\n        cs = ax.contour(im)\n>       assert_array_almost_equal(cs.levels, [0.5])\n\nlib/matplotlib/tests/test_contour_boolean.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py:81: in inner\n    return func(*args, **kwds)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nargs = (<function assert_array_almost_equal.<locals>.compare at 0x7fbd6da9dda0>, array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05]), [0.5])\nkwds = {\'err_msg\': \'\', \'header\': \'Arrays are not almost equal to 6 decimals\', \'precision\': 6, \'verbose\': True}\n\n    @wraps(func)\n    def inner(*args, **kwds):\n        with self._recreate_cm():\n>           return func(*args, **kwds)\nE           AssertionError: \nE           Arrays are not almost equal to 6 decimals\nE           \nE           (shapes (8,), (1,) mismatch)\nE            x: array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05])\nE            y: array([0.5])\n\n/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py:81: AssertionError\n=========================== short test summary info ============================\nFAILED lib/matplotlib/tests/test_contour_boolean.py::test_contour_boolean_autolevels - AssertionError: \n============================== 1 failed in 1.76s ===============================' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2198, 'candidates_token_count': 751, 'total_token_count': 2995, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2396}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 751}], 'thoughts_token_count': 46, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.005090052849760703, 'model_name': 'gemini-2.5-pro'} id='run--d6b9b0e6-2185-48d9-a380-13b363b0f1f9-0' usage_metadata={'input_tokens': 2198, 'output_tokens': 751, 'total_tokens': 2995, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 46}}
2025-10-06 10:48:57,675 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='pytest lib/matplotlib/tests/test\nt_contour_boolean.py\n\n============================= test session starts ==============================\nplatform linux -- Python 3.11.11, pytest-8.3.4, pluggy-1.5.0\nrootdir: /testbed\nconfigfile: pytest.ini\nplugins: cov-6.0.0, xdist-3.6.1, rerunfailures-15.0, timeout-2.3.1\ncollecting ... \ncollecting 1 item                                                              \ncollected 1 item                                                               \n\nlib/matplotlib/tests/test_contour_boolean.py F                           [100%]\n\n=================================== FAILURES ===================================\n_______________________ test_contour_boolean_autolevels ________________________\n\n    def test_contour_boolean_autolevels():\n        """\n        Test that contour() with a boolean array defaults levels to [0.5].\n        """\n        ii, jj = np.ogrid[:100, :100]\n        im = (ii + jj) % 20 < 10\n        fig, ax = plt.subplots()\n        cs = ax.contour(im)\n>       assert_array_almost_equal(cs.levels, [0.5])\n\nlib/matplotlib/tests/test_contour_boolean.py:14: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py:81: in inner\n    return func(*args, **kwds)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nargs = (<function assert_array_almost_equal.<locals>.compare at 0x7fbd6da9dda0>, array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05]), [0.5])\nkwds = {\'err_msg\': \'\', \'header\': \'Arrays are not almost equal to 6 decimals\', \'precision\': 6, \'verbose\': True}\n\n    @wraps(func)\n    def inner(*args, **kwds):\n        with self._recreate_cm():\n>           return func(*args, **kwds)\nE           AssertionError: \nE           Arrays are not almost equal to 6 decimals\nE           \nE           (shapes (8,), (1,) mismatch)\nE            x: array([0.  , 0.15, 0.3 , 0.45, 0.6 , 0.75, 0.9 , 1.05])\nE            y: array([0.5])\n\n/opt/miniconda3/envs/testbed/lib/python3.11/contextlib.py:81: AssertionError\n=========================== short test summary info ============================\nFAILED lib/matplotlib/tests/test_contour_boolean.py::test_contour_boolean_autolevels - AssertionError: \n============================== 1 failed in 1.76s ===============================' reproduced_bug_commands=['pytest lib/matplotlib/tests/test_contour_boolean.py']
2025-10-06 10:48:57,676 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-06 10:48:57,676 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-06 10:48:57,776 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
