2025-10-05 04:24:21,558 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpilzd7d_m/django
2025-10-05 04:24:21,558 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-05 04:24:21,558 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.django_1776_django-11885:v1
2025-10-05 04:24:47,354 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_2aa7d02230
2025-10-05 04:24:47,359 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_2aa7d02230
2025-10-05 04:24:48,372 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-05 04:24:48,512 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-05 04:24:48,512 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-05 04:24:48,639 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:48,639 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:24:48,639 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-05 04:24:48,766 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:48,766 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:24:48,766 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: sed -i '/en_US.UTF-8/s/^# //g' /etc/locale.gen && locale-gen
2025-10-05 04:24:50,170 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:50,170 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
sed -i '/en_US.UTF-8/s/^# //g' /
/etc/locale.gen && locale-gen

Generating locales (this might take a while)...
  en_US.UTF-8... done
Generation complete.

2025-10-05 04:24:50,170 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: export LANG=en_US.UTF-8
2025-10-05 04:24:50,271 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:50,271 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:24:50,271 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: export LANGUAGE=en_US:en
2025-10-05 04:24:50,372 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:50,372 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:24:50,372 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: export LC_ALL=en_US.UTF-8
2025-10-05 04:24:50,473 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:50,473 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:24:50,473 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-05 04:24:51,634 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:24:51,634 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
Requirement already satisfied: pytz in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.1) (2024.2)
Requirement already satisfied: sqlparse in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.1) (0.4.4)
Requirement already satisfied: asgiref in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.1) (3.4.1)
Requirement already satisfied: typing-extensions in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from asgiref->Django==3.1) (4.1.1)
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 3.1
    Uninstalling Django-3.1:
      Successfully uninstalled Django-3.1
  Running setup.py develop for Django
Successfully installed Django-3.1
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m

2025-10-05 04:24:51,697 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
Combine fast delete queries

Issue description: 
Description
	
When emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There's a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.
For example, given the following models
class Person(models.Model):
	friends = models.ManyToManyField('self')
class User(models.Model):
	pass
class Entry(models.Model):
	created_by = models.ForeignKey(User)
	updated_by = models.ForeignKey(User)
Issuing a person.delete() or user.delete() will result in 3 queries of the form
DELETE FROM person_friends WHERE from_id = :id
DELETE FROM person_friends WHERE to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id
DELETE FROM entry WHERE updated_by = :id
DELETRE FROM user WHERE id = :id
But both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR
DELETE FROM person_friends WHERE from_id = :id OR to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id OR updated_by = :id
DELETE FROM user WHERE id = :id

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-05 04:24:51,697 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-05 04:24:51,698 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nCombine fast delete queries\n\nIssue description: \nDescription\n\t\nWhen emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There\'s a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.\nFor example, given the following models\nclass Person(models.Model):\n\tfriends = models.ManyToManyField(\'self\')\nclass User(models.Model):\n\tpass\nclass Entry(models.Model):\n\tcreated_by = models.ForeignKey(User)\n\tupdated_by = models.ForeignKey(User)\nIssuing a person.delete() or user.delete() will result in 3 queries of the form\nDELETE FROM person_friends WHERE from_id = :id\nDELETE FROM person_friends WHERE to_id = :id\nDELETE FROM person WHERE id = :id\nDELETE FROM entry WHERE created_by_id = :id\nDELETE FROM entry WHERE updated_by = :id\nDELETRE FROM user WHERE id = :id\nBut both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR\nDELETE FROM person_friends WHERE from_id = :id OR to_id = :id\nDELETE FROM person WHERE id = :id\nDELETE FROM entry WHERE created_by_id = :id OR updated_by = :id\nDELETE FROM user WHERE id = :id\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-05 04:25:35,875 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have identified and gathered five relevant test cases from the Django test suite that demonstrate functionality related to the reported bug concerning the combination of fast delete queries. These tests focus on scenarios involving `on_delete=models.CASCADE`, foreign keys, and many-to-many relationships, and they verify the number of queries executed during deletion to ensure efficiency. The selected tests showcase how Django's ORM handles cascading deletes and the conditions under which it can optimize these operations into a smaller number of database queries, which is the core issue of the bug report." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 337.0, "relative_path": "tests/delete/tests.py", "end_line": 348.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 55238, 'candidates_token_count': 218, 'total_token_count': 59465, 'prompt_tokens_details': [{'modality': 1, 'token_count': 55238}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 218}], 'thoughts_token_count': 4009, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -3.164199409134891, 'model_name': 'gemini-2.5-pro'} id='run--16c440e2-ee2c-407e-983e-dae25923f9bd-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1.0, 'relative_path': 'tests/delete/tests.py', 'end_line': 7.0}, 'id': 'a4fe21a2-8efc-45a1-86e7-bc681649e101', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 16.0, 'relative_path': 'tests/delete/tests.py', 'end_line': 17.0}, 'id': 'a2db7bee-a6cf-4347-986d-e379ccb46a1d', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/delete/tests.py', 'start_line': 61.0, 'end_line': 65.0}, 'id': 'a2c2844d-445c-425f-94c2-9b176c2f5826', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 337.0, 'relative_path': 'tests/delete/tests.py', 'end_line': 348.0}, 'id': '928edc04-16e7-42ab-bdff-e09825b11488', 'type': 'tool_call'}] usage_metadata={'input_tokens': 55238, 'output_tokens': 218, 'total_tokens': 59465, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 4009}}
2025-10-05 04:26:49,357 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 90.0, "relative_path": "tests/delete/models.py", "end_line": 100.0}'}, '__gemini_function_call_thought_signatures__': {'3fecd6a3-eebd-4ced-a732-6e8508d7a20a': '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'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56169, 'candidates_token_count': 135, 'total_token_count': 64228, 'cached_content_token_count': 54087, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56169}], 'cache_tokens_details': [{'modality': 1, 'token_count': 54087}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 135}], 'thoughts_token_count': 7924}, 'finish_reason': 'STOP', 'avg_logprobs': -8.51630859375, 'model_name': 'gemini-2.5-pro'} id='run--153638b2-fafd-4ce6-8425-9562aaf02e14-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/delete/tests.py', 'start_line': 478.0, 'end_line': 487.0}, 'id': '3fecd6a3-eebd-4ced-a732-6e8508d7a20a', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/delete/tests.py', 'start_line': 496.0, 'end_line': 506.0}, 'id': '3d1431e3-d998-4e3e-8bdc-782b5d5808fe', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/delete/tests.py', 'start_line': 534.0, 'end_line': 545.0}, 'id': 'edcf7bc6-9c7e-4729-ba24-b7e5fcadc162', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/delete/models.py', 'start_line': 1.0, 'end_line': 15.0}, 'id': '2fd58a71-47dd-443b-9bbf-8168bcc81c41', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 90.0, 'relative_path': 'tests/delete/models.py', 'end_line': 100.0}, 'id': 'bc2ca8e1-072f-4d1b-a582-2491f0bcd9ed', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56169, 'output_tokens': 135, 'total_tokens': 64228, 'input_token_details': {'cache_read': 54087}, 'output_token_details': {'reasoning': 7924}}
2025-10-05 04:26:51,615 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={} response_metadata={'usage_metadata': {'prompt_token_count': 57507, 'total_token_count': 57507, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57507}], 'candidates_token_count': 0, 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': [], 'candidates_tokens_details': []}, 'model_name': 'gemini-2.5-pro'} id='run--ca48df08-cc0c-41e1-adff-638eb5d9d224-0' usage_metadata={'input_tokens': 57507, 'output_tokens': 0, 'total_tokens': 57507, 'input_token_details': {'cache_read': 0}}
2025-10-05 04:26:51,616 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 04:26:51,616 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Combine fast delete queries

Issue description: 
Description
	
When emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There's a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.
For example, given the following models
class Person(models.Model):
	friends = models.ManyToManyField('self')
class User(models.Model):
	pass
class Entry(models.Model):
	created_by = models.ForeignKey(User)
	updated_by = models.ForeignKey(User)
Issuing a person.delete() or user.delete() will result in 3 queries of the form
DELETE FROM person_friends WHERE from_id = :id
DELETE FROM person_friends WHERE to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id
DELETE FROM entry WHERE updated_by = :id
DELETRE FROM user WHERE id = :id
But both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR
DELETE FROM person_friends WHERE from_id = :id OR to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id OR updated_by = :id
DELETE FROM user WHERE id = :id

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/delete/tests.py
Line number range: 1 - 7
Content:
1. from math import ceil
2. 
3. from django.db import IntegrityError, connection, models
4. from django.db.models.deletion import Collector
5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE
6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature

File: tests/delete/tests.py
Line number range: 16 - 17
Content:
16.     def setUp(self):
17.         self.DEFAULT = get_default_r()

File: tests/delete/tests.py
Line number range: 61 - 65
Content:
61.         a = create_a('cascade')
62.         a.cascade.delete()
63.         self.assertFalse(A.objects.filter(name='cascade').exists())
64. 
65.     def test_cascade_nullable(self):

File: tests/delete/tests.py
Line number range: 337 - 348
Content:
337.         batches = ceil(len(objs) / batch_size)
338.         # One query for Avatar.objects.all() and then one related fast delete for
339.         # each batch.
340.         fetches_to_mem = 1 + batches
341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE
342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE
343.         self.assertNumQueries(queries, Avatar.objects.all().delete)
344.         self.assertFalse(Avatar.objects.exists())
345. 
346.     def test_large_delete_related(self):
347.         TEST_SIZE = 2000
348.         s = S.objects.create(r=R.objects.create())

File: tests/delete/tests.py
Line number range: 478 - 487
Content:
478.         for signal_name in ('pre_delete', 'post_delete'):
479.             with self.subTest(signal=signal_name):
480.                 origin = Origin.objects.create()
481.                 signal = getattr(models.signals, signal_name)
482.                 signal.connect(receiver, sender=Referrer)
483.                 with self.assertNumQueries(2) as ctx:
484.                     origin.delete()
485.                 self.assertIn(
486.                     connection.ops.quote_name('large_field'),
487.                     ctx.captured_queries[0]['sql'],

File: tests/delete/tests.py
Line number range: 496 - 506
Content:
496.             avatar=Avatar.objects.create()
497.         )
498.         a = Avatar.objects.get(pk=u.avatar_id)
499.         # 1 query to fast-delete the user
500.         # 1 query to delete the avatar
501.         self.assertNumQueries(2, a.delete)
502.         self.assertFalse(User.objects.exists())
503.         self.assertFalse(Avatar.objects.exists())
504. 
505.     def test_fast_delete_m2m(self):
506.         t = M2MTo.objects.create()

File: tests/delete/tests.py
Line number range: 534 - 545
Content:
534.     def test_fast_delete_joined_qs(self):
535.         a = Avatar.objects.create(desc='a')
536.         User.objects.create(avatar=a)
537.         u2 = User.objects.create()
538.         expected_queries = 1 if connection.features.update_can_self_select else 2
539.         self.assertNumQueries(expected_queries,
540.                               User.objects.filter(avatar__desc='a').delete)
541.         self.assertEqual(User.objects.count(), 1)
542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())
543. 
544.     def test_fast_delete_inheritance(self):
545.         c = Child.objects.create()

File: tests/delete/models.py
Line number range: 1 - 15
Content:
1. from django.db import models
2. 
3. 
4. class R(models.Model):
5.     is_default = models.BooleanField(default=False)
6. 
7.     def __str__(self):
8.         return "%s" % self.pk
9. 
10. 
11. def get_default_r():
12.     return R.objects.get_or_create(is_default=True)[0].pk
13. 
14. 
15. class S(models.Model):

File: tests/delete/models.py
Line number range: 90 - 100
Content:
90.     desc = models.TextField(null=True)
91. 
92. 
93. # This model is used to test a duplicate query regression (#25685)
94. class AvatarProxy(Avatar):
95.     class Meta:
96.         proxy = True
97. 
98. 
99. class User(models.Model):
100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and return it in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 04:28:11,729 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='This test is highly relevant as it checks the number of queries for a fast delete on a joined queryset. The bug is about optimizing fast delete paths by combining queries, and this test verifies the number of queries for one such path.', relative_path='tests/delete/tests.py', start_line=534, end_line=543), ContextOutput(reasoning='This context is relevant for two reasons. First, it shows a test asserting the number of queries for a fast-delete operation involving a `ForeignKey` with `CASCADE`. This is a basic scenario for the functionality described in the bug report. Second, it shows the beginning of `test_fast_delete_m2m`. The bug report explicitly uses a `ManyToManyField` as an example of where delete queries should be combined, making this test extremely relevant.', relative_path='tests/delete/tests.py', start_line=496, end_line=506), ContextOutput(reasoning='This context is relevant because it defines the models used in the deletion tests. The `User` model has a `ForeignKey` to the `Avatar` model with `on_delete=models.CASCADE`. The bug report is specifically about how `on_delete=models.CASCADE` is emulated and optimized. Understanding these model relationships is essential to understanding the tests.', relative_path='tests/delete/models.py', start_line=90, end_line=100), ContextOutput(reasoning='This test snippet is relevant because it asserts the number of queries during a delete operation and inspects the generated SQL. The bug fix requires changing the generated SQL to combine `DELETE` statements. This test demonstrates a method for verifying the exact SQL, which is crucial for testing the proposed fix.', relative_path='tests/delete/tests.py', start_line=478, end_line=487), ContextOutput(reasoning='This context provides the core imports for the deletion tests. It imports `Collector` from `django.db.models.deletion`. The bug description explicitly mentions that the `deletion.Collector` is the component responsible for the fast delete queries that need to be combined. This import is therefore essential context for any test of this behavior.', relative_path='tests/delete/tests.py', start_line=1, end_line=7)]
2025-10-05 04:28:11,730 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/delete/tests.py', content="534.     def test_fast_delete_joined_qs(self):\n535.         a = Avatar.objects.create(desc='a')\n536.         User.objects.create(avatar=a)\n537.         u2 = User.objects.create()\n538.         expected_queries = 1 if connection.features.update_can_self_select else 2\n539.         self.assertNumQueries(expected_queries,\n540.                               User.objects.filter(avatar__desc='a').delete)\n541.         self.assertEqual(User.objects.count(), 1)\n542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n543. ", start_line_number=534, end_line_number=543), Context(relative_path='tests/delete/tests.py', content='496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)\n502.         self.assertFalse(User.objects.exists())\n503.         self.assertFalse(Avatar.objects.exists())\n504. \n505.     def test_fast_delete_m2m(self):\n506.         t = M2MTo.objects.create()', start_line_number=496, end_line_number=506), Context(relative_path='tests/delete/models.py', content='90.     desc = models.TextField(null=True)\n91. \n92. \n93. # This model is used to test a duplicate query regression (#25685)\n94. class AvatarProxy(Avatar):\n95.     class Meta:\n96.         proxy = True\n97. \n98. \n99. class User(models.Model):\n100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)', start_line_number=90, end_line_number=100), Context(relative_path='tests/delete/tests.py', content="478.         for signal_name in ('pre_delete', 'post_delete'):\n479.             with self.subTest(signal=signal_name):\n480.                 origin = Origin.objects.create()\n481.                 signal = getattr(models.signals, signal_name)\n482.                 signal.connect(receiver, sender=Referrer)\n483.                 with self.assertNumQueries(2) as ctx:\n484.                     origin.delete()\n485.                 self.assertIn(\n486.                     connection.ops.quote_name('large_field'),\n487.                     ctx.captured_queries[0]['sql'],", start_line_number=478, end_line_number=487), Context(relative_path='tests/delete/tests.py', content='1. from math import ceil\n2. \n3. from django.db import IntegrityError, connection, models\n4. from django.db.models.deletion import Collector\n5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\n6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n7. ', start_line_number=1, end_line_number=7)]
2025-10-05 04:28:11,730 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 04:28:11,731 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .tx
├── CONTRIBUTING.rst
├── FUNDING.yml
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── bin
|   |   └── django-admin.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── bin
|   |   |   |   └── compress.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── utils.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── jython.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── _images
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── RelatedObjectLookups.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── qunit
|       └── qunit.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   └── commands
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   └── tests.py
    ├── asgi
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_password_reset_timeout_days.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── test_base.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_introspection.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   └── commands
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   └── tests.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_greatest.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   └── test_postgresql.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   └── test_srs.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── maps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_json.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktrans.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_trans.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_if_equal.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       └── tests_inheritance.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
    ├── urlpatterns_reverse
    |   ├── __init__.py
    |   ├── erroneous_urls.py
    |   ├── extra_urls.py
    |   ├── included_app_urls.py
    |   ├── included_named_urls.py
    |   ├── included_named_urls2.py
    |   ├── included_namespace_urls.py
    |   ├── included_no_kwargs_urls.py
    |   ├── included_urls.py
    |   ├── included_urls2.py
    |   ├── method_view_urls.py
    |   ├── middleware.py
    |   ├── named_urls.py
    |   ├── named_urls_conflict.py
    |   ├── namespace_urls.py
    |   ├── nested_urls.py
    |   ├── no_urls.py
    |   ├── nonimported_module.py
    |   ├── reverse_lazy_urls.py
    |   ├── test_localeregexdescriptor.py
    |   ├── tests.py
    |   ├── translations
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── urlconf_inner.py
    |   ├── urlconf_outer.py
    |   ├── urls.py
    |   ├── urls_error_handlers.py
    |   ├── urls_error_handlers_callables.py
    |   ├── urls_without_handlers.py
    |   ├── utils.py
    |   ├── views.py
    |   └── views_broken.py
    ├── urls.py
    ├── user_commands
    |   ├── __init__.py
    |   ├── eggs
    |   ├── management
    |   |   └── commands
    |   |       ├── common_args.py
    |   |       ├── dance.py
    |   |       ├── hal.py
    |   |       ├── mutually_exclusive_required.py
    |   |       ├── no_translations.py
    |   |       ├── required_option.py
    |   |       ├── reverse_url.py
    |   |       ├── set_option.py
    |   |       ├── subparser.py
    |   |       ├── subparser_dest.py
    |   |       ├── subparser_required.py
    |   |       └── transaction.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── utils_tests
    |   ├── __init__.py
    |   ├── archives
    |   ├── eggs
    |   ├── files
    |   |   └── strip_tags2.txt
    |   ├── models.py
    |   ├── test_archive.py
    |   ├── test_autoreload.py
    |   ├── test_baseconv.py
    |   ├── test_crypto.py
    |   ├── test_datastructures.py
    |   ├── test_dateformat.py
    |   ├── test_dateparse.py
    |   ├── test_datetime_safe.py
    |   ├── test_decorators.py
    |   ├── test_duration.py
    |   ├── test_encoding.py
    |   ├── test_encoding_deprecations.py
    |   ├── test_feedgenerator.py
    |   ├── test_functional.py
    |   ├── test_hashable.py
    |   ├── test_html.py
    |   ├── test_http.py
    |   ├── test_inspect.py
    |   ├── test_ipv6.py
    |   ├── test_jslex.py
    |   ├── test_lazyobject.py
    |   ├── test_lorem_ipsum.py
    |   ├── test_module
    |   |   ├── __init__.py
    |   |   ├── another_bad_module.py
    |   |   ├── another_good_module.py
    |   |   ├── bad_module.py
    |   |   ├── child_module
    |   |   |   ├── __init__.py
    |   |   |   └── grandchild_module.py
    |   |   └── good_module.py
    |   ├── test_module_loading.py
    |   ├── test_no_submodule.py
    |   ├── test_numberformat.py
    |   ├── test_os_utils.py
    |   ├── test_regex_helper.py
    |   ├── test_safestring.py
    |   ├── test_simplelazyobject.py
    |   ├── test_termcolors.py
    |   ├── test_text.py
    |   ├── test_timesince.py
    |   ├── test_timezone.py
    |   ├── test_topological_sort.py
    |   ├── test_tree.py
    |   └── utils.py
    ├── validation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_custom_messages.py
    |   ├── test_error_messages.py
    |   ├── test_picklable.py
    |   ├── test_unique.py
    |   ├── test_validators.py
    |   └── tests.py
    ├── validators
    |   ├── __init__.py
    |   ├── invalid_urls.txt
    |   ├── tests.py
    |   └── valid_urls.txt
    ├── version
    |   ├── __init__.py
    |   └── tests.py
    ├── view_tests
    |   ├── __init__.py
    |   ├── app0
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── en
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── app3
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── es_AR
    |   ├── app4
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── es_AR
    |   ├── app5
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── default_urls.py
    |   ├── generic_urls.py
    |   ├── locale
    |   |   ├── de
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_GB
    |   |   |   └── LC_MESSAGES
    |   |   ├── es
    |   |   |   └── LC_MESSAGES
    |   |   ├── fr
    |   |   |   └── LC_MESSAGES
    |   |   ├── nl
    |   |   |   └── LC_MESSAGES
    |   |   ├── pt
    |   |   |   └── LC_MESSAGES
    |   |   └── ru
    |   |       └── LC_MESSAGES
    |   ├── media
    |   |   ├── %2F.txt
    |   |   ├── file.txt
    |   |   ├── long-line.txt
    |   |   └── subdir
    |   ├── models.py
    |   ├── regression_21530_urls.py
    |   ├── templates
    |   |   └── debug
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── debugtags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_csrf.py
    |   |   ├── test_debug.py
    |   |   ├── test_defaults.py
    |   |   ├── test_i18n.py
    |   |   ├── test_json.py
    |   |   ├── test_specials.py
    |   |   └── test_static.py
    |   ├── urls.py
    |   └── views.py
    └── wsgi
        ├── __init__.py
        ├── tests.py
        ├── urls.py
        └── wsgi.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Combine fast delete queries

Issue description: 
Description
	
When emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There's a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.
For example, given the following models
class Person(models.Model):
	friends = models.ManyToManyField('self')
class User(models.Model):
	pass
class Entry(models.Model):
	created_by = models.ForeignKey(User)
	updated_by = models.ForeignKey(User)
Issuing a person.delete() or user.delete() will result in 3 queries of the form
DELETE FROM person_friends WHERE from_id = :id
DELETE FROM person_friends WHERE to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id
DELETE FROM entry WHERE updated_by = :id
DELETRE FROM user WHERE id = :id
But both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR
DELETE FROM person_friends WHERE from_id = :id OR to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id OR updated_by = :id
DELETE FROM user WHERE id = :id

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/delete/tests.py
Line number range: 534 - 543
Content:
534.     def test_fast_delete_joined_qs(self):
535.         a = Avatar.objects.create(desc='a')
536.         User.objects.create(avatar=a)
537.         u2 = User.objects.create()
538.         expected_queries = 1 if connection.features.update_can_self_select else 2
539.         self.assertNumQueries(expected_queries,
540.                               User.objects.filter(avatar__desc='a').delete)
541.         self.assertEqual(User.objects.count(), 1)
542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())
543. 


File: tests/delete/tests.py
Line number range: 496 - 506
Content:
496.             avatar=Avatar.objects.create()
497.         )
498.         a = Avatar.objects.get(pk=u.avatar_id)
499.         # 1 query to fast-delete the user
500.         # 1 query to delete the avatar
501.         self.assertNumQueries(2, a.delete)
502.         self.assertFalse(User.objects.exists())
503.         self.assertFalse(Avatar.objects.exists())
504. 
505.     def test_fast_delete_m2m(self):
506.         t = M2MTo.objects.create()


File: tests/delete/models.py
Line number range: 90 - 100
Content:
90.     desc = models.TextField(null=True)
91. 
92. 
93. # This model is used to test a duplicate query regression (#25685)
94. class AvatarProxy(Avatar):
95.     class Meta:
96.         proxy = True
97. 
98. 
99. class User(models.Model):
100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)


File: tests/delete/tests.py
Line number range: 478 - 487
Content:
478.         for signal_name in ('pre_delete', 'post_delete'):
479.             with self.subTest(signal=signal_name):
480.                 origin = Origin.objects.create()
481.                 signal = getattr(models.signals, signal_name)
482.                 signal.connect(receiver, sender=Referrer)
483.                 with self.assertNumQueries(2) as ctx:
484.                     origin.delete()
485.                 self.assertIn(
486.                     connection.ops.quote_name('large_field'),
487.                     ctx.captured_queries[0]['sql'],


File: tests/delete/tests.py
Line number range: 1 - 7
Content:
1. from math import ceil
2. 
3. from django.db import IntegrityError, connection, models
4. from django.db.models.deletion import Collector
5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE
6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature
7. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 04:28:33,845 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 5 complete test cases related to performance optimization of `DELETE` queries with `on_delete=models.CASCADE`. The provided context contains small, incomplete snippets of tests and models from `tests/delete/tests.py` and `tests/delete/models.py`. These snippets are insufficient to reconstruct even a single complete test case with all its setup and assertions. To identify 5 relevant test cases that demonstrate the combination of multiple `DELETE` statements into a single one, I need to analyze the full test methods and the corresponding model definitions. The current context lacks the full picture of model relationships (like multiple ForeignKeys to the same model or ManyToManyFields which are mentioned in the issue description) and the complete logic of the tests asserting query counts on deletion. Therefore, I need the full content of these two files.' refined_query='Please provide the full content of `tests/delete/tests.py` and `tests/delete/models.py` to find relevant tests for combining `DELETE` queries.'
2025-10-05 04:28:36,326 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/delete/models.py"}'}, '__gemini_function_call_thought_signatures__': {'dba57941-9e8f-4902-a852-fc035c96a05e': 'CqMDAR/MhbZVxb/HpOutpnwg7q37FJJZ3uSkh34jz+tNWAeLfdjCBvf79JAZ6aStpTF5Xw2MCAkfHtWRJx2MKNvcUkG3lA/PSnf4DvOjSSsYkgz8qavbpm+cSSMZ7eTzhjc4ZKtXw1X18WxFlzbiHJIjNSI3OLlrOzIcLMFKRjtTyU5Fz85fNkgNzjTgZC1Iyx0GU1faYj/ecNBLtA08iOJwb/3PTXI9eMunmxw38At9vv/BPTYsrP0PwI5zDUqnpc6uxoy1lUYWVJ/d3dE2W8VJDOydVt/rEp9/UsS+dew3OeSzJdCcWkMfJLnDQDufMoxKJ162iyck0JQgFN3em2xDMrRO2aOouISwNq697anQFek9gZsSV0sX2TGqT8ZAX2wxhJwBSjB5X17z4q/gFIHwEOU7VWTJtVTjQYGAgWpQ8tC3qk38wjR8wsRyTHJxFmdl9pABDcoxmFabWgoeMGmEjkmZk0LKIehNhSXnT+oYjte5XDUjMK2FW782eQvbfrImMqSBMOyPvUiv4uw+l5cRpYPBgp4jZpn+lBK1Gynwr/SITc8='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 54216, 'candidates_token_count': 42, 'total_token_count': 54385, 'prompt_tokens_details': [{'modality': 1, 'token_count': 54216}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 42}], 'thoughts_token_count': 127, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10755859102521624, 'model_name': 'gemini-2.5-pro'} id='run--95781497-71d8-4df7-b95f-6909edf977f8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/delete/tests.py'}, 'id': 'dba57941-9e8f-4902-a852-fc035c96a05e', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/delete/models.py'}, 'id': 'e1bb3c30-17bc-4ade-b8f8-25c528762a58', 'type': 'tool_call'}] usage_metadata={'input_tokens': 54216, 'output_tokens': 42, 'total_tokens': 54385, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 127}}
2025-10-05 04:28:39,180 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full contents of `tests/delete/tests.py` and `tests/delete/models.py` as requested. These files contain the test cases and corresponding models for delete operations in Django. You can now review the code to find relevant tests for combining `DELETE` queries.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 64216, 'candidates_token_count': 61, 'total_token_count': 64313, 'prompt_tokens_details': [{'modality': 1, 'token_count': 64341}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 61}], 'thoughts_token_count': 36, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12214116581150743, 'model_name': 'gemini-2.5-pro'} id='run--caced526-8247-4ee2-ace2-d0a1d33670a8-0' usage_metadata={'input_tokens': 64216, 'output_tokens': 61, 'total_tokens': 64313, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 36}}
2025-10-05 04:28:39,180 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 04:28:39,181 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Combine fast delete queries

Issue description: 
Description
	
When emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There's a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.
For example, given the following models
class Person(models.Model):
	friends = models.ManyToManyField('self')
class User(models.Model):
	pass
class Entry(models.Model):
	created_by = models.ForeignKey(User)
	updated_by = models.ForeignKey(User)
Issuing a person.delete() or user.delete() will result in 3 queries of the form
DELETE FROM person_friends WHERE from_id = :id
DELETE FROM person_friends WHERE to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id
DELETE FROM entry WHERE updated_by = :id
DELETRE FROM user WHERE id = :id
But both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR
DELETE FROM person_friends WHERE from_id = :id OR to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id OR updated_by = :id
DELETE FROM user WHERE id = :id

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the full content of `tests/delete/tests.py` and `tests/delete/models.py` to find relevant tests for combining `DELETE` queries.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/delete/tests.py
Line number range: 1 - 500
Content:
1. from math import ceil
2. 
3. from django.db import IntegrityError, connection, models
4. from django.db.models.deletion import Collector
5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE
6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature
7. 
8. from .models import (
9.     MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,
10.     M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,
11.     User, create_a, get_default_r,
12. )
13. 
14. 
15. class OnDeleteTests(TestCase):
16.     def setUp(self):
17.         self.DEFAULT = get_default_r()
18. 
19.     def test_auto(self):
20.         a = create_a('auto')
21.         a.auto.delete()
22.         self.assertFalse(A.objects.filter(name='auto').exists())
23. 
24.     def test_non_callable(self):
25.         msg = 'on_delete must be callable.'
26.         with self.assertRaisesMessage(TypeError, msg):
27.             models.ForeignKey('self', on_delete=None)
28.         with self.assertRaisesMessage(TypeError, msg):
29.             models.OneToOneField('self', on_delete=None)
30. 
31.     def test_auto_nullable(self):
32.         a = create_a('auto_nullable')
33.         a.auto_nullable.delete()
34.         self.assertFalse(A.objects.filter(name='auto_nullable').exists())
35. 
36.     def test_setvalue(self):
37.         a = create_a('setvalue')
38.         a.setvalue.delete()
39.         a = A.objects.get(pk=a.pk)
40.         self.assertEqual(self.DEFAULT, a.setvalue.pk)
41. 
42.     def test_setnull(self):
43.         a = create_a('setnull')
44.         a.setnull.delete()
45.         a = A.objects.get(pk=a.pk)
46.         self.assertIsNone(a.setnull)
47. 
48.     def test_setdefault(self):
49.         a = create_a('setdefault')
50.         a.setdefault.delete()
51.         a = A.objects.get(pk=a.pk)
52.         self.assertEqual(self.DEFAULT, a.setdefault.pk)
53. 
54.     def test_setdefault_none(self):
55.         a = create_a('setdefault_none')
56.         a.setdefault_none.delete()
57.         a = A.objects.get(pk=a.pk)
58.         self.assertIsNone(a.setdefault_none)
59. 
60.     def test_cascade(self):
61.         a = create_a('cascade')
62.         a.cascade.delete()
63.         self.assertFalse(A.objects.filter(name='cascade').exists())
64. 
65.     def test_cascade_nullable(self):
66.         a = create_a('cascade_nullable')
67.         a.cascade_nullable.delete()
68.         self.assertFalse(A.objects.filter(name='cascade_nullable').exists())
69. 
70.     def test_protect(self):
71.         a = create_a('protect')
72.         msg = (
73.             "Cannot delete some instances of model 'R' because they are "
74.             "referenced through a protected foreign key: 'A.protect'"
75.         )
76.         with self.assertRaisesMessage(IntegrityError, msg):
77.             a.protect.delete()
78. 
79.     def test_do_nothing(self):
80.         # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,
81.         # so we connect to pre_delete and set the fk to a known value.
82.         replacement_r = R.objects.create()
83. 
84.         def check_do_nothing(sender, **kwargs):
85.             obj = kwargs['instance']
86.             obj.donothing_set.update(donothing=replacement_r)
87.         models.signals.pre_delete.connect(check_do_nothing)
88.         a = create_a('do_nothing')
89.         a.donothing.delete()
90.         a = A.objects.get(pk=a.pk)
91.         self.assertEqual(replacement_r, a.donothing)
92.         models.signals.pre_delete.disconnect(check_do_nothing)
93. 
94.     def test_do_nothing_qscount(self):
95.         """
96.         A models.DO_NOTHING relation doesn't trigger a query.
97.         """
98.         b = Base.objects.create()
99.         with self.assertNumQueries(1):
100.             # RelToBase should not be queried.
101.             b.delete()
102.         self.assertEqual(Base.objects.count(), 0)
103. 
104.     def test_inheritance_cascade_up(self):
105.         child = RChild.objects.create()
106.         child.delete()
107.         self.assertFalse(R.objects.filter(pk=child.pk).exists())
108. 
109.     def test_inheritance_cascade_down(self):
110.         child = RChild.objects.create()
111.         parent = child.r_ptr
112.         parent.delete()
113.         self.assertFalse(RChild.objects.filter(pk=child.pk).exists())
114. 
115.     def test_cascade_from_child(self):
116.         a = create_a('child')
117.         a.child.delete()
118.         self.assertFalse(A.objects.filter(name='child').exists())
119.         self.assertFalse(R.objects.filter(pk=a.child_id).exists())
120. 
121.     def test_cascade_from_parent(self):
122.         a = create_a('child')
123.         R.objects.get(pk=a.child_id).delete()
124.         self.assertFalse(A.objects.filter(name='child').exists())
125.         self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())
126. 
127.     def test_setnull_from_child(self):
128.         a = create_a('child_setnull')
129.         a.child_setnull.delete()
130.         self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())
131. 
132.         a = A.objects.get(pk=a.pk)
133.         self.assertIsNone(a.child_setnull)
134. 
135.     def test_setnull_from_parent(self):
136.         a = create_a('child_setnull')
137.         R.objects.get(pk=a.child_setnull_id).delete()
138.         self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())
139. 
140.         a = A.objects.get(pk=a.pk)
141.         self.assertIsNone(a.child_setnull)
142. 
143.     def test_o2o_setnull(self):
144.         a = create_a('o2o_setnull')
145.         a.o2o_setnull.delete()
146.         a = A.objects.get(pk=a.pk)
147.         self.assertIsNone(a.o2o_setnull)
148. 
149. 
150. class DeletionTests(TestCase):
151. 
152.     def test_m2m(self):
153.         m = M.objects.create()
154.         r = R.objects.create()
155.         MR.objects.create(m=m, r=r)
156.         r.delete()
157.         self.assertFalse(MR.objects.exists())
158. 
159.         r = R.objects.create()
160.         MR.objects.create(m=m, r=r)
161.         m.delete()
162.         self.assertFalse(MR.objects.exists())
163. 
164.         m = M.objects.create()
165.         r = R.objects.create()
166.         m.m2m.add(r)
167.         r.delete()
168.         through = M._meta.get_field('m2m').remote_field.through
169.         self.assertFalse(through.objects.exists())
170. 
171.         r = R.objects.create()
172.         m.m2m.add(r)
173.         m.delete()
174.         self.assertFalse(through.objects.exists())
175. 
176.         m = M.objects.create()
177.         r = R.objects.create()
178.         MRNull.objects.create(m=m, r=r)
179.         r.delete()
180.         self.assertFalse(not MRNull.objects.exists())
181.         self.assertFalse(m.m2m_through_null.exists())
182. 
183.     def test_bulk(self):
184.         s = S.objects.create(r=R.objects.create())
185.         for i in range(2 * GET_ITERATOR_CHUNK_SIZE):
186.             T.objects.create(s=s)
187.         #   1 (select related `T` instances)
188.         # + 1 (select related `U` instances)
189.         # + 2 (delete `T` instances in batches)
190.         # + 1 (delete `s`)
191.         self.assertNumQueries(5, s.delete)
192.         self.assertFalse(S.objects.exists())
193. 
194.     def test_instance_update(self):
195.         deleted = []
196.         related_setnull_sets = []
197. 
198.         def pre_delete(sender, **kwargs):
199.             obj = kwargs['instance']
200.             deleted.append(obj)
201.             if isinstance(obj, R):
202.                 related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])
203. 
204.         models.signals.pre_delete.connect(pre_delete)
205.         a = create_a('update_setnull')
206.         a.setnull.delete()
207. 
208.         a = create_a('update_cascade')
209.         a.cascade.delete()
210. 
211.         for obj in deleted:
212.             self.assertIsNone(obj.pk)
213. 
214.         for pk_list in related_setnull_sets:
215.             for a in A.objects.filter(id__in=pk_list):
216.                 self.assertIsNone(a.setnull)
217. 
218.         models.signals.pre_delete.disconnect(pre_delete)
219. 
220.     def test_deletion_order(self):
221.         pre_delete_order = []
222.         post_delete_order = []
223. 
224.         def log_post_delete(sender, **kwargs):
225.             pre_delete_order.append((sender, kwargs['instance'].pk))
226. 
227.         def log_pre_delete(sender, **kwargs):
228.             post_delete_order.append((sender, kwargs['instance'].pk))
229. 
230.         models.signals.post_delete.connect(log_post_delete)
231.         models.signals.pre_delete.connect(log_pre_delete)
232. 
233.         r = R.objects.create(pk=1)
234.         s1 = S.objects.create(pk=1, r=r)
235.         s2 = S.objects.create(pk=2, r=r)
236.         T.objects.create(pk=1, s=s1)
237.         T.objects.create(pk=2, s=s2)
238.         RChild.objects.create(r_ptr=r)
239.         r.delete()
240.         self.assertEqual(
241.             pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]
242.         )
243.         self.assertEqual(
244.             post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]
245.         )
246. 
247.         models.signals.post_delete.disconnect(log_post_delete)
248.         models.signals.pre_delete.disconnect(log_pre_delete)
249. 
250.     def test_relational_post_delete_signals_happen_before_parent_object(self):
251.         deletions = []
252. 
253.         def log_post_delete(instance, **kwargs):
254.             self.assertTrue(R.objects.filter(pk=instance.r_id))
255.             self.assertIs(type(instance), S)
256.             deletions.append(instance.id)
257. 
258.         r = R.objects.create(pk=1)
259.         S.objects.create(pk=1, r=r)
260. 
261.         models.signals.post_delete.connect(log_post_delete, sender=S)
262. 
263.         try:
264.             r.delete()
265.         finally:
266.             models.signals.post_delete.disconnect(log_post_delete)
267. 
268.         self.assertEqual(len(deletions), 1)
269.         self.assertEqual(deletions[0], 1)
270. 
271.     @skipUnlessDBFeature("can_defer_constraint_checks")
272.     def test_can_defer_constraint_checks(self):
273.         u = User.objects.create(
274.             avatar=Avatar.objects.create()
275.         )
276.         a = Avatar.objects.get(pk=u.avatar_id)
277.         # 1 query to find the users for the avatar.
278.         # 1 query to delete the user
279.         # 1 query to delete the avatar
280.         # The important thing is that when we can defer constraint checks there
281.         # is no need to do an UPDATE on User.avatar to null it out.
282. 
283.         # Attach a signal to make sure we will not do fast_deletes.
284.         calls = []
285. 
286.         def noop(*args, **kwargs):
287.             calls.append('')
288.         models.signals.post_delete.connect(noop, sender=User)
289. 
290.         self.assertNumQueries(3, a.delete)
291.         self.assertFalse(User.objects.exists())
292.         self.assertFalse(Avatar.objects.exists())
293.         self.assertEqual(len(calls), 1)
294.         models.signals.post_delete.disconnect(noop, sender=User)
295. 
296.     @skipIfDBFeature("can_defer_constraint_checks")
297.     def test_cannot_defer_constraint_checks(self):
298.         u = User.objects.create(
299.             avatar=Avatar.objects.create()
300.         )
301.         # Attach a signal to make sure we will not do fast_deletes.
302.         calls = []
303. 
304.         def noop(*args, **kwargs):
305.             calls.append('')
306.         models.signals.post_delete.connect(noop, sender=User)
307. 
308.         a = Avatar.objects.get(pk=u.avatar_id)
309.         # The below doesn't make sense... Why do we need to null out
310.         # user.avatar if we are going to delete the user immediately after it,
311.         # and there are no more cascades.
312.         # 1 query to find the users for the avatar.
313.         # 1 query to delete the user
314.         # 1 query to null out user.avatar, because we can't defer the constraint
315.         # 1 query to delete the avatar
316.         self.assertNumQueries(4, a.delete)
317.         self.assertFalse(User.objects.exists())
318.         self.assertFalse(Avatar.objects.exists())
319.         self.assertEqual(len(calls), 1)
320.         models.signals.post_delete.disconnect(noop, sender=User)
321. 
322.     def test_hidden_related(self):
323.         r = R.objects.create()
324.         h = HiddenUser.objects.create(r=r)
325.         HiddenUserProfile.objects.create(user=h)
326. 
327.         r.delete()
328.         self.assertEqual(HiddenUserProfile.objects.count(), 0)
329. 
330.     def test_large_delete(self):
331.         TEST_SIZE = 2000
332.         objs = [Avatar() for i in range(0, TEST_SIZE)]
333.         Avatar.objects.bulk_create(objs)
334.         # Calculate the number of queries needed.
335.         batch_size = connection.ops.bulk_batch_size(['pk'], objs)
336.         # The related fetches are done in batches.
337.         batches = ceil(len(objs) / batch_size)
338.         # One query for Avatar.objects.all() and then one related fast delete for
339.         # each batch.
340.         fetches_to_mem = 1 + batches
341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE
342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE
343.         self.assertNumQueries(queries, Avatar.objects.all().delete)
344.         self.assertFalse(Avatar.objects.exists())
345. 
346.     def test_large_delete_related(self):
347.         TEST_SIZE = 2000
348.         s = S.objects.create(r=R.objects.create())
349.         for i in range(TEST_SIZE):
350.             T.objects.create(s=s)
351. 
352.         batch_size = max(connection.ops.bulk_batch_size(['pk'], range(TEST_SIZE)), 1)
353. 
354.         # TEST_SIZE / batch_size (select related `T` instances)
355.         # + 1 (select related `U` instances)
356.         # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)
357.         # + 1 (delete `s`)
358.         expected_num_queries = ceil(TEST_SIZE / batch_size)
359.         expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2
360. 
361.         self.assertNumQueries(expected_num_queries, s.delete)
362.         self.assertFalse(S.objects.exists())
363.         self.assertFalse(T.objects.exists())
364. 
365.     def test_delete_with_keeping_parents(self):
366.         child = RChild.objects.create()
367.         parent_id = child.r_ptr_id
368.         child.delete(keep_parents=True)
369.         self.assertFalse(RChild.objects.filter(id=child.id).exists())
370.         self.assertTrue(R.objects.filter(id=parent_id).exists())
371. 
372.     def test_delete_with_keeping_parents_relationships(self):
373.         child = RChild.objects.create()
374.         parent_id = child.r_ptr_id
375.         parent_referent_id = S.objects.create(r=child.r_ptr).pk
376.         child.delete(keep_parents=True)
377.         self.assertFalse(RChild.objects.filter(id=child.id).exists())
378.         self.assertTrue(R.objects.filter(id=parent_id).exists())
379.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
380. 
381.         childchild = RChildChild.objects.create()
382.         parent_id = childchild.rchild_ptr.r_ptr_id
383.         child_id = childchild.rchild_ptr_id
384.         parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk
385.         childchild.delete(keep_parents=True)
386.         self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())
387.         self.assertTrue(RChild.objects.filter(id=child_id).exists())
388.         self.assertTrue(R.objects.filter(id=parent_id).exists())
389.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
390. 
391.     def test_queryset_delete_returns_num_rows(self):
392.         """
393.         QuerySet.delete() should return the number of deleted rows and a
394.         dictionary with the number of deletions for each object type.
395.         """
396.         Avatar.objects.bulk_create([Avatar(desc='a'), Avatar(desc='b'), Avatar(desc='c')])
397.         avatars_count = Avatar.objects.count()
398.         deleted, rows_count = Avatar.objects.all().delete()
399.         self.assertEqual(deleted, avatars_count)
400. 
401.         # more complex example with multiple object types
402.         r = R.objects.create()
403.         h1 = HiddenUser.objects.create(r=r)
404.         HiddenUser.objects.create(r=r)
405.         HiddenUserProfile.objects.create(user=h1)
406.         existed_objs = {
407.             R._meta.label: R.objects.count(),
408.             HiddenUser._meta.label: HiddenUser.objects.count(),
409.             A._meta.label: A.objects.count(),
410.             MR._meta.label: MR.objects.count(),
411.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
412.         }
413.         deleted, deleted_objs = R.objects.all().delete()
414.         for k, v in existed_objs.items():
415.             self.assertEqual(deleted_objs[k], v)
416. 
417.     def test_model_delete_returns_num_rows(self):
418.         """
419.         Model.delete() should return the number of deleted rows and a
420.         dictionary with the number of deletions for each object type.
421.         """
422.         r = R.objects.create()
423.         h1 = HiddenUser.objects.create(r=r)
424.         h2 = HiddenUser.objects.create(r=r)
425.         HiddenUser.objects.create(r=r)
426.         HiddenUserProfile.objects.create(user=h1)
427.         HiddenUserProfile.objects.create(user=h2)
428.         m1 = M.objects.create()
429.         m2 = M.objects.create()
430.         MR.objects.create(r=r, m=m1)
431.         r.m_set.add(m1)
432.         r.m_set.add(m2)
433.         r.save()
434.         existed_objs = {
435.             R._meta.label: R.objects.count(),
436.             HiddenUser._meta.label: HiddenUser.objects.count(),
437.             A._meta.label: A.objects.count(),
438.             MR._meta.label: MR.objects.count(),
439.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
440.             M.m2m.through._meta.label: M.m2m.through.objects.count(),
441.         }
442.         deleted, deleted_objs = r.delete()
443.         self.assertEqual(deleted, sum(existed_objs.values()))
444.         for k, v in existed_objs.items():
445.             self.assertEqual(deleted_objs[k], v)
446. 
447.     def test_proxied_model_duplicate_queries(self):
448.         """
449.         #25685 - Deleting instances of a model with existing proxy
450.         classes should not issue multiple queries during cascade
451.         deletion of referring models.
452.         """
453.         avatar = Avatar.objects.create()
454.         # One query for the Avatar table and a second for the User one.
455.         with self.assertNumQueries(2):
456.             avatar.delete()
457. 
458.     def test_only_referenced_fields_selected(self):
459.         """
460.         Only referenced fields are selected during cascade deletion SELECT
461.         unless deletion signals are connected.
462.         """
463.         origin = Origin.objects.create()
464.         expected_sql = str(
465.             Referrer.objects.only(
466.                 # Both fields are referenced by SecondReferrer.
467.                 'id', 'unique_field',
468.             ).filter(origin__in=[origin]).query
469.         )
470.         with self.assertNumQueries(2) as ctx:
471.             origin.delete()
472.         self.assertEqual(ctx.captured_queries[0]['sql'], expected_sql)
473. 
474.         def receiver(instance, **kwargs):
475.             pass
476. 
477.         # All fields are selected if deletion signals are connected.
478.         for signal_name in ('pre_delete', 'post_delete'):
479.             with self.subTest(signal=signal_name):
480.                 origin = Origin.objects.create()
481.                 signal = getattr(models.signals, signal_name)
482.                 signal.connect(receiver, sender=Referrer)
483.                 with self.assertNumQueries(2) as ctx:
484.                     origin.delete()
485.                 self.assertIn(
486.                     connection.ops.quote_name('large_field'),
487.                     ctx.captured_queries[0]['sql'],
488.                 )
489.                 signal.disconnect(receiver, sender=Referrer)
490. 
491. 
492. class FastDeleteTests(TestCase):
493. 
494.     def test_fast_delete_fk(self):
495.         u = User.objects.create(
496.             avatar=Avatar.objects.create()
497.         )
498.         a = Avatar.objects.get(pk=u.avatar_id)
499.         # 1 query to fast-delete the user
500.         # 1 query to delete the avatar

File: tests/delete/models.py
Line number range: 1 - 149
Content:
1. from django.db import models
2. 
3. 
4. class R(models.Model):
5.     is_default = models.BooleanField(default=False)
6. 
7.     def __str__(self):
8.         return "%s" % self.pk
9. 
10. 
11. def get_default_r():
12.     return R.objects.get_or_create(is_default=True)[0].pk
13. 
14. 
15. class S(models.Model):
16.     r = models.ForeignKey(R, models.CASCADE)
17. 
18. 
19. class T(models.Model):
20.     s = models.ForeignKey(S, models.CASCADE)
21. 
22. 
23. class U(models.Model):
24.     t = models.ForeignKey(T, models.CASCADE)
25. 
26. 
27. class RChild(R):
28.     pass
29. 
30. 
31. class RChildChild(RChild):
32.     pass
33. 
34. 
35. class A(models.Model):
36.     name = models.CharField(max_length=30)
37. 
38.     auto = models.ForeignKey(R, models.CASCADE, related_name="auto_set")
39.     auto_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name='auto_nullable_set')
40.     setvalue = models.ForeignKey(R, models.SET(get_default_r), related_name='setvalue')
41.     setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name='setnull_set')
42.     setdefault = models.ForeignKey(R, models.SET_DEFAULT, default=get_default_r, related_name='setdefault_set')
43.     setdefault_none = models.ForeignKey(
44.         R, models.SET_DEFAULT,
45.         default=None, null=True, related_name='setnull_nullable_set',
46.     )
47.     cascade = models.ForeignKey(R, models.CASCADE, related_name='cascade_set')
48.     cascade_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name='cascade_nullable_set')
49.     protect = models.ForeignKey(R, models.PROTECT, null=True)
50.     donothing = models.ForeignKey(R, models.DO_NOTHING, null=True, related_name='donothing_set')
51.     child = models.ForeignKey(RChild, models.CASCADE, related_name="child")
52.     child_setnull = models.ForeignKey(RChild, models.SET_NULL, null=True, related_name="child_setnull")
53. 
54.     # A OneToOneField is just a ForeignKey unique=True, so we don't duplicate
55.     # all the tests; just one smoke test to ensure on_delete works for it as
56.     # well.
57.     o2o_setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name="o2o_nullable_set")
58. 
59. 
60. def create_a(name):
61.     a = A(name=name)
62.     for name in ('auto', 'auto_nullable', 'setvalue', 'setnull', 'setdefault',
63.                  'setdefault_none', 'cascade', 'cascade_nullable', 'protect',
64.                  'donothing', 'o2o_setnull'):
65.         r = R.objects.create()
66.         setattr(a, name, r)
67.     a.child = RChild.objects.create()
68.     a.child_setnull = RChild.objects.create()
69.     a.save()
70.     return a
71. 
72. 
73. class M(models.Model):
74.     m2m = models.ManyToManyField(R, related_name="m_set")
75.     m2m_through = models.ManyToManyField(R, through="MR", related_name="m_through_set")
76.     m2m_through_null = models.ManyToManyField(R, through="MRNull", related_name="m_through_null_set")
77. 
78. 
79. class MR(models.Model):
80.     m = models.ForeignKey(M, models.CASCADE)
81.     r = models.ForeignKey(R, models.CASCADE)
82. 
83. 
84. class MRNull(models.Model):
85.     m = models.ForeignKey(M, models.CASCADE)
86.     r = models.ForeignKey(R, models.SET_NULL, null=True)
87. 
88. 
89. class Avatar(models.Model):
90.     desc = models.TextField(null=True)
91. 
92. 
93. # This model is used to test a duplicate query regression (#25685)
94. class AvatarProxy(Avatar):
95.     class Meta:
96.         proxy = True
97. 
98. 
99. class User(models.Model):
100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)
101. 
102. 
103. class HiddenUser(models.Model):
104.     r = models.ForeignKey(R, models.CASCADE, related_name="+")
105. 
106. 
107. class HiddenUserProfile(models.Model):
108.     user = models.ForeignKey(HiddenUser, models.CASCADE)
109. 
110. 
111. class M2MTo(models.Model):
112.     pass
113. 
114. 
115. class M2MFrom(models.Model):
116.     m2m = models.ManyToManyField(M2MTo)
117. 
118. 
119. class Parent(models.Model):
120.     pass
121. 
122. 
123. class Child(Parent):
124.     pass
125. 
126. 
127. class Base(models.Model):
128.     pass
129. 
130. 
131. class RelToBase(models.Model):
132.     base = models.ForeignKey(Base, models.DO_NOTHING)
133. 
134. 
135. class Origin(models.Model):
136.     pass
137. 
138. 
139. class Referrer(models.Model):
140.     origin = models.ForeignKey(Origin, models.CASCADE)
141.     unique_field = models.IntegerField(unique=True)
142.     large_field = models.TextField()
143. 
144. 
145. class SecondReferrer(models.Model):
146.     referrer = models.ForeignKey(Referrer, models.CASCADE)
147.     other_referrer = models.ForeignKey(
148.         Referrer, models.CASCADE, to_field='unique_field', related_name='+'
149.     )


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 04:29:52,916 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="This file was explicitly requested by the user. It contains a suite of tests for deletion logic in Django, which is directly relevant to the user's query about combining delete queries. Within this file, the following five test cases are particularly relevant as they demonstrate functionality similar to the reported bug:\n1. `FastDeleteTests.test_fast_delete_fk` (lines 492-501): Tests the basic 'fast delete' path for a foreign key, which is the core of the issue.\n2. `DeletionTests.test_proxied_model_duplicate_queries` (lines 447-457): Focuses on eliminating redundant queries during cascade deletion, aligning with the goal of query optimization.\n3. `DeletionTests.test_can_defer_constraint_checks` (lines 271-295): Demonstrates how database features can be used to reduce the number of queries during deletion.\n4. `DeletionTests.test_cannot_defer_constraint_checks` (lines 296-320): Shows the alternative, less optimized code path, providing a complete picture of the optimization.\n5. `DeletionTests.test_large_delete_related` (lines 346-364): Tests deletion performance with a large number of related objects, a scenario where combining queries is most beneficial.", relative_path='tests/delete/tests.py', start_line=1, end_line=501), ContextOutput(reasoning='This file was explicitly requested by the user. It contains all the Django model definitions for the tests in `tests/delete/tests.py`. Understanding these models, their relationships (like `ForeignKey`, `ManyToManyField`), and their `on_delete` policies is essential to understand the context and behavior of the deletion tests, especially those involving cascading deletes and query optimization.', relative_path='tests/delete/models.py', start_line=1, end_line=149)]
2025-10-05 04:29:52,917 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/delete/tests.py', content="534.     def test_fast_delete_joined_qs(self):\n535.         a = Avatar.objects.create(desc='a')\n536.         User.objects.create(avatar=a)\n537.         u2 = User.objects.create()\n538.         expected_queries = 1 if connection.features.update_can_self_select else 2\n539.         self.assertNumQueries(expected_queries,\n540.                               User.objects.filter(avatar__desc='a').delete)\n541.         self.assertEqual(User.objects.count(), 1)\n542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n543. ", start_line_number=534, end_line_number=543), Context(relative_path='tests/delete/tests.py', content='496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)\n502.         self.assertFalse(User.objects.exists())\n503.         self.assertFalse(Avatar.objects.exists())\n504. \n505.     def test_fast_delete_m2m(self):\n506.         t = M2MTo.objects.create()', start_line_number=496, end_line_number=506), Context(relative_path='tests/delete/tests.py', content='1. from math import ceil\n2. \n3. from django.db import IntegrityError, connection, models\n4. from django.db.models.deletion import Collector\n5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\n6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n7. \n8. from .models import (\n9.     MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\n10.     M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\n11.     User, create_a, get_default_r,\n12. )\n13. \n14. \n15. class OnDeleteTests(TestCase):\n16.     def setUp(self):\n17.         self.DEFAULT = get_default_r()\n18. \n19.     def test_auto(self):\n20.         a = create_a(\'auto\')\n21.         a.auto.delete()\n22.         self.assertFalse(A.objects.filter(name=\'auto\').exists())\n23. \n24.     def test_non_callable(self):\n25.         msg = \'on_delete must be callable.\'\n26.         with self.assertRaisesMessage(TypeError, msg):\n27.             models.ForeignKey(\'self\', on_delete=None)\n28.         with self.assertRaisesMessage(TypeError, msg):\n29.             models.OneToOneField(\'self\', on_delete=None)\n30. \n31.     def test_auto_nullable(self):\n32.         a = create_a(\'auto_nullable\')\n33.         a.auto_nullable.delete()\n34.         self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\n35. \n36.     def test_setvalue(self):\n37.         a = create_a(\'setvalue\')\n38.         a.setvalue.delete()\n39.         a = A.objects.get(pk=a.pk)\n40.         self.assertEqual(self.DEFAULT, a.setvalue.pk)\n41. \n42.     def test_setnull(self):\n43.         a = create_a(\'setnull\')\n44.         a.setnull.delete()\n45.         a = A.objects.get(pk=a.pk)\n46.         self.assertIsNone(a.setnull)\n47. \n48.     def test_setdefault(self):\n49.         a = create_a(\'setdefault\')\n50.         a.setdefault.delete()\n51.         a = A.objects.get(pk=a.pk)\n52.         self.assertEqual(self.DEFAULT, a.setdefault.pk)\n53. \n54.     def test_setdefault_none(self):\n55.         a = create_a(\'setdefault_none\')\n56.         a.setdefault_none.delete()\n57.         a = A.objects.get(pk=a.pk)\n58.         self.assertIsNone(a.setdefault_none)\n59. \n60.     def test_cascade(self):\n61.         a = create_a(\'cascade\')\n62.         a.cascade.delete()\n63.         self.assertFalse(A.objects.filter(name=\'cascade\').exists())\n64. \n65.     def test_cascade_nullable(self):\n66.         a = create_a(\'cascade_nullable\')\n67.         a.cascade_nullable.delete()\n68.         self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\n69. \n70.     def test_protect(self):\n71.         a = create_a(\'protect\')\n72.         msg = (\n73.             "Cannot delete some instances of model \'R\' because they are "\n74.             "referenced through a protected foreign key: \'A.protect\'"\n75.         )\n76.         with self.assertRaisesMessage(IntegrityError, msg):\n77.             a.protect.delete()\n78. \n79.     def test_do_nothing(self):\n80.         # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\n81.         # so we connect to pre_delete and set the fk to a known value.\n82.         replacement_r = R.objects.create()\n83. \n84.         def check_do_nothing(sender, **kwargs):\n85.             obj = kwargs[\'instance\']\n86.             obj.donothing_set.update(donothing=replacement_r)\n87.         models.signals.pre_delete.connect(check_do_nothing)\n88.         a = create_a(\'do_nothing\')\n89.         a.donothing.delete()\n90.         a = A.objects.get(pk=a.pk)\n91.         self.assertEqual(replacement_r, a.donothing)\n92.         models.signals.pre_delete.disconnect(check_do_nothing)\n93. \n94.     def test_do_nothing_qscount(self):\n95.         """\n96.         A models.DO_NOTHING relation doesn\'t trigger a query.\n97.         """\n98.         b = Base.objects.create()\n99.         with self.assertNumQueries(1):\n100.             # RelToBase should not be queried.\n101.             b.delete()\n102.         self.assertEqual(Base.objects.count(), 0)\n103. \n104.     def test_inheritance_cascade_up(self):\n105.         child = RChild.objects.create()\n106.         child.delete()\n107.         self.assertFalse(R.objects.filter(pk=child.pk).exists())\n108. \n109.     def test_inheritance_cascade_down(self):\n110.         child = RChild.objects.create()\n111.         parent = child.r_ptr\n112.         parent.delete()\n113.         self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\n114. \n115.     def test_cascade_from_child(self):\n116.         a = create_a(\'child\')\n117.         a.child.delete()\n118.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n119.         self.assertFalse(R.objects.filter(pk=a.child_id).exists())\n120. \n121.     def test_cascade_from_parent(self):\n122.         a = create_a(\'child\')\n123.         R.objects.get(pk=a.child_id).delete()\n124.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n125.         self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\n126. \n127.     def test_setnull_from_child(self):\n128.         a = create_a(\'child_setnull\')\n129.         a.child_setnull.delete()\n130.         self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\n131. \n132.         a = A.objects.get(pk=a.pk)\n133.         self.assertIsNone(a.child_setnull)\n134. \n135.     def test_setnull_from_parent(self):\n136.         a = create_a(\'child_setnull\')\n137.         R.objects.get(pk=a.child_setnull_id).delete()\n138.         self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\n139. \n140.         a = A.objects.get(pk=a.pk)\n141.         self.assertIsNone(a.child_setnull)\n142. \n143.     def test_o2o_setnull(self):\n144.         a = create_a(\'o2o_setnull\')\n145.         a.o2o_setnull.delete()\n146.         a = A.objects.get(pk=a.pk)\n147.         self.assertIsNone(a.o2o_setnull)\n148. \n149. \n150. class DeletionTests(TestCase):\n151. \n152.     def test_m2m(self):\n153.         m = M.objects.create()\n154.         r = R.objects.create()\n155.         MR.objects.create(m=m, r=r)\n156.         r.delete()\n157.         self.assertFalse(MR.objects.exists())\n158. \n159.         r = R.objects.create()\n160.         MR.objects.create(m=m, r=r)\n161.         m.delete()\n162.         self.assertFalse(MR.objects.exists())\n163. \n164.         m = M.objects.create()\n165.         r = R.objects.create()\n166.         m.m2m.add(r)\n167.         r.delete()\n168.         through = M._meta.get_field(\'m2m\').remote_field.through\n169.         self.assertFalse(through.objects.exists())\n170. \n171.         r = R.objects.create()\n172.         m.m2m.add(r)\n173.         m.delete()\n174.         self.assertFalse(through.objects.exists())\n175. \n176.         m = M.objects.create()\n177.         r = R.objects.create()\n178.         MRNull.objects.create(m=m, r=r)\n179.         r.delete()\n180.         self.assertFalse(not MRNull.objects.exists())\n181.         self.assertFalse(m.m2m_through_null.exists())\n182. \n183.     def test_bulk(self):\n184.         s = S.objects.create(r=R.objects.create())\n185.         for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\n186.             T.objects.create(s=s)\n187.         #   1 (select related `T` instances)\n188.         # + 1 (select related `U` instances)\n189.         # + 2 (delete `T` instances in batches)\n190.         # + 1 (delete `s`)\n191.         self.assertNumQueries(5, s.delete)\n192.         self.assertFalse(S.objects.exists())\n193. \n194.     def test_instance_update(self):\n195.         deleted = []\n196.         related_setnull_sets = []\n197. \n198.         def pre_delete(sender, **kwargs):\n199.             obj = kwargs[\'instance\']\n200.             deleted.append(obj)\n201.             if isinstance(obj, R):\n202.                 related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\n203. \n204.         models.signals.pre_delete.connect(pre_delete)\n205.         a = create_a(\'update_setnull\')\n206.         a.setnull.delete()\n207. \n208.         a = create_a(\'update_cascade\')\n209.         a.cascade.delete()\n210. \n211.         for obj in deleted:\n212.             self.assertIsNone(obj.pk)\n213. \n214.         for pk_list in related_setnull_sets:\n215.             for a in A.objects.filter(id__in=pk_list):\n216.                 self.assertIsNone(a.setnull)\n217. \n218.         models.signals.pre_delete.disconnect(pre_delete)\n219. \n220.     def test_deletion_order(self):\n221.         pre_delete_order = []\n222.         post_delete_order = []\n223. \n224.         def log_post_delete(sender, **kwargs):\n225.             pre_delete_order.append((sender, kwargs[\'instance\'].pk))\n226. \n227.         def log_pre_delete(sender, **kwargs):\n228.             post_delete_order.append((sender, kwargs[\'instance\'].pk))\n229. \n230.         models.signals.post_delete.connect(log_post_delete)\n231.         models.signals.pre_delete.connect(log_pre_delete)\n232. \n233.         r = R.objects.create(pk=1)\n234.         s1 = S.objects.create(pk=1, r=r)\n235.         s2 = S.objects.create(pk=2, r=r)\n236.         T.objects.create(pk=1, s=s1)\n237.         T.objects.create(pk=2, s=s2)\n238.         RChild.objects.create(r_ptr=r)\n239.         r.delete()\n240.         self.assertEqual(\n241.             pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\n242.         )\n243.         self.assertEqual(\n244.             post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\n245.         )\n246. \n247.         models.signals.post_delete.disconnect(log_post_delete)\n248.         models.signals.pre_delete.disconnect(log_pre_delete)\n249. \n250.     def test_relational_post_delete_signals_happen_before_parent_object(self):\n251.         deletions = []\n252. \n253.         def log_post_delete(instance, **kwargs):\n254.             self.assertTrue(R.objects.filter(pk=instance.r_id))\n255.             self.assertIs(type(instance), S)\n256.             deletions.append(instance.id)\n257. \n258.         r = R.objects.create(pk=1)\n259.         S.objects.create(pk=1, r=r)\n260. \n261.         models.signals.post_delete.connect(log_post_delete, sender=S)\n262. \n263.         try:\n264.             r.delete()\n265.         finally:\n266.             models.signals.post_delete.disconnect(log_post_delete)\n267. \n268.         self.assertEqual(len(deletions), 1)\n269.         self.assertEqual(deletions[0], 1)\n270. \n271.     @skipUnlessDBFeature("can_defer_constraint_checks")\n272.     def test_can_defer_constraint_checks(self):\n273.         u = User.objects.create(\n274.             avatar=Avatar.objects.create()\n275.         )\n276.         a = Avatar.objects.get(pk=u.avatar_id)\n277.         # 1 query to find the users for the avatar.\n278.         # 1 query to delete the user\n279.         # 1 query to delete the avatar\n280.         # The important thing is that when we can defer constraint checks there\n281.         # is no need to do an UPDATE on User.avatar to null it out.\n282. \n283.         # Attach a signal to make sure we will not do fast_deletes.\n284.         calls = []\n285. \n286.         def noop(*args, **kwargs):\n287.             calls.append(\'\')\n288.         models.signals.post_delete.connect(noop, sender=User)\n289. \n290.         self.assertNumQueries(3, a.delete)\n291.         self.assertFalse(User.objects.exists())\n292.         self.assertFalse(Avatar.objects.exists())\n293.         self.assertEqual(len(calls), 1)\n294.         models.signals.post_delete.disconnect(noop, sender=User)\n295. \n296.     @skipIfDBFeature("can_defer_constraint_checks")\n297.     def test_cannot_defer_constraint_checks(self):\n298.         u = User.objects.create(\n299.             avatar=Avatar.objects.create()\n300.         )\n301.         # Attach a signal to make sure we will not do fast_deletes.\n302.         calls = []\n303. \n304.         def noop(*args, **kwargs):\n305.             calls.append(\'\')\n306.         models.signals.post_delete.connect(noop, sender=User)\n307. \n308.         a = Avatar.objects.get(pk=u.avatar_id)\n309.         # The below doesn\'t make sense... Why do we need to null out\n310.         # user.avatar if we are going to delete the user immediately after it,\n311.         # and there are no more cascades.\n312.         # 1 query to find the users for the avatar.\n313.         # 1 query to delete the user\n314.         # 1 query to null out user.avatar, because we can\'t defer the constraint\n315.         # 1 query to delete the avatar\n316.         self.assertNumQueries(4, a.delete)\n317.         self.assertFalse(User.objects.exists())\n318.         self.assertFalse(Avatar.objects.exists())\n319.         self.assertEqual(len(calls), 1)\n320.         models.signals.post_delete.disconnect(noop, sender=User)\n321. \n322.     def test_hidden_related(self):\n323.         r = R.objects.create()\n324.         h = HiddenUser.objects.create(r=r)\n325.         HiddenUserProfile.objects.create(user=h)\n326. \n327.         r.delete()\n328.         self.assertEqual(HiddenUserProfile.objects.count(), 0)\n329. \n330.     def test_large_delete(self):\n331.         TEST_SIZE = 2000\n332.         objs = [Avatar() for i in range(0, TEST_SIZE)]\n333.         Avatar.objects.bulk_create(objs)\n334.         # Calculate the number of queries needed.\n335.         batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\n336.         # The related fetches are done in batches.\n337.         batches = ceil(len(objs) / batch_size)\n338.         # One query for Avatar.objects.all() and then one related fast delete for\n339.         # each batch.\n340.         fetches_to_mem = 1 + batches\n341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\n342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\n343.         self.assertNumQueries(queries, Avatar.objects.all().delete)\n344.         self.assertFalse(Avatar.objects.exists())\n345. \n346.     def test_large_delete_related(self):\n347.         TEST_SIZE = 2000\n348.         s = S.objects.create(r=R.objects.create())\n349.         for i in range(TEST_SIZE):\n350.             T.objects.create(s=s)\n351. \n352.         batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\n353. \n354.         # TEST_SIZE / batch_size (select related `T` instances)\n355.         # + 1 (select related `U` instances)\n356.         # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\n357.         # + 1 (delete `s`)\n358.         expected_num_queries = ceil(TEST_SIZE / batch_size)\n359.         expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\n360. \n361.         self.assertNumQueries(expected_num_queries, s.delete)\n362.         self.assertFalse(S.objects.exists())\n363.         self.assertFalse(T.objects.exists())\n364. \n365.     def test_delete_with_keeping_parents(self):\n366.         child = RChild.objects.create()\n367.         parent_id = child.r_ptr_id\n368.         child.delete(keep_parents=True)\n369.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n370.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n371. \n372.     def test_delete_with_keeping_parents_relationships(self):\n373.         child = RChild.objects.create()\n374.         parent_id = child.r_ptr_id\n375.         parent_referent_id = S.objects.create(r=child.r_ptr).pk\n376.         child.delete(keep_parents=True)\n377.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n378.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n379.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n380. \n381.         childchild = RChildChild.objects.create()\n382.         parent_id = childchild.rchild_ptr.r_ptr_id\n383.         child_id = childchild.rchild_ptr_id\n384.         parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\n385.         childchild.delete(keep_parents=True)\n386.         self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\n387.         self.assertTrue(RChild.objects.filter(id=child_id).exists())\n388.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n389.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n390. \n391.     def test_queryset_delete_returns_num_rows(self):\n392.         """\n393.         QuerySet.delete() should return the number of deleted rows and a\n394.         dictionary with the number of deletions for each object type.\n395.         """\n396.         Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\n397.         avatars_count = Avatar.objects.count()\n398.         deleted, rows_count = Avatar.objects.all().delete()\n399.         self.assertEqual(deleted, avatars_count)\n400. \n401.         # more complex example with multiple object types\n402.         r = R.objects.create()\n403.         h1 = HiddenUser.objects.create(r=r)\n404.         HiddenUser.objects.create(r=r)\n405.         HiddenUserProfile.objects.create(user=h1)\n406.         existed_objs = {\n407.             R._meta.label: R.objects.count(),\n408.             HiddenUser._meta.label: HiddenUser.objects.count(),\n409.             A._meta.label: A.objects.count(),\n410.             MR._meta.label: MR.objects.count(),\n411.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n412.         }\n413.         deleted, deleted_objs = R.objects.all().delete()\n414.         for k, v in existed_objs.items():\n415.             self.assertEqual(deleted_objs[k], v)\n416. \n417.     def test_model_delete_returns_num_rows(self):\n418.         """\n419.         Model.delete() should return the number of deleted rows and a\n420.         dictionary with the number of deletions for each object type.\n421.         """\n422.         r = R.objects.create()\n423.         h1 = HiddenUser.objects.create(r=r)\n424.         h2 = HiddenUser.objects.create(r=r)\n425.         HiddenUser.objects.create(r=r)\n426.         HiddenUserProfile.objects.create(user=h1)\n427.         HiddenUserProfile.objects.create(user=h2)\n428.         m1 = M.objects.create()\n429.         m2 = M.objects.create()\n430.         MR.objects.create(r=r, m=m1)\n431.         r.m_set.add(m1)\n432.         r.m_set.add(m2)\n433.         r.save()\n434.         existed_objs = {\n435.             R._meta.label: R.objects.count(),\n436.             HiddenUser._meta.label: HiddenUser.objects.count(),\n437.             A._meta.label: A.objects.count(),\n438.             MR._meta.label: MR.objects.count(),\n439.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n440.             M.m2m.through._meta.label: M.m2m.through.objects.count(),\n441.         }\n442.         deleted, deleted_objs = r.delete()\n443.         self.assertEqual(deleted, sum(existed_objs.values()))\n444.         for k, v in existed_objs.items():\n445.             self.assertEqual(deleted_objs[k], v)\n446. \n447.     def test_proxied_model_duplicate_queries(self):\n448.         """\n449.         #25685 - Deleting instances of a model with existing proxy\n450.         classes should not issue multiple queries during cascade\n451.         deletion of referring models.\n452.         """\n453.         avatar = Avatar.objects.create()\n454.         # One query for the Avatar table and a second for the User one.\n455.         with self.assertNumQueries(2):\n456.             avatar.delete()\n457. \n458.     def test_only_referenced_fields_selected(self):\n459.         """\n460.         Only referenced fields are selected during cascade deletion SELECT\n461.         unless deletion signals are connected.\n462.         """\n463.         origin = Origin.objects.create()\n464.         expected_sql = str(\n465.             Referrer.objects.only(\n466.                 # Both fields are referenced by SecondReferrer.\n467.                 \'id\', \'unique_field\',\n468.             ).filter(origin__in=[origin]).query\n469.         )\n470.         with self.assertNumQueries(2) as ctx:\n471.             origin.delete()\n472.         self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\n473. \n474.         def receiver(instance, **kwargs):\n475.             pass\n476. \n477.         # All fields are selected if deletion signals are connected.\n478.         for signal_name in (\'pre_delete\', \'post_delete\'):\n479.             with self.subTest(signal=signal_name):\n480.                 origin = Origin.objects.create()\n481.                 signal = getattr(models.signals, signal_name)\n482.                 signal.connect(receiver, sender=Referrer)\n483.                 with self.assertNumQueries(2) as ctx:\n484.                     origin.delete()\n485.                 self.assertIn(\n486.                     connection.ops.quote_name(\'large_field\'),\n487.                     ctx.captured_queries[0][\'sql\'],\n488.                 )\n489.                 signal.disconnect(receiver, sender=Referrer)\n490. \n491. \n492. class FastDeleteTests(TestCase):\n493. \n494.     def test_fast_delete_fk(self):\n495.         u = User.objects.create(\n496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)', start_line_number=1, end_line_number=501), Context(relative_path='tests/delete/models.py', content='1. from django.db import models\n2. \n3. \n4. class R(models.Model):\n5.     is_default = models.BooleanField(default=False)\n6. \n7.     def __str__(self):\n8.         return "%s" % self.pk\n9. \n10. \n11. def get_default_r():\n12.     return R.objects.get_or_create(is_default=True)[0].pk\n13. \n14. \n15. class S(models.Model):\n16.     r = models.ForeignKey(R, models.CASCADE)\n17. \n18. \n19. class T(models.Model):\n20.     s = models.ForeignKey(S, models.CASCADE)\n21. \n22. \n23. class U(models.Model):\n24.     t = models.ForeignKey(T, models.CASCADE)\n25. \n26. \n27. class RChild(R):\n28.     pass\n29. \n30. \n31. class RChildChild(RChild):\n32.     pass\n33. \n34. \n35. class A(models.Model):\n36.     name = models.CharField(max_length=30)\n37. \n38.     auto = models.ForeignKey(R, models.CASCADE, related_name="auto_set")\n39.     auto_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'auto_nullable_set\')\n40.     setvalue = models.ForeignKey(R, models.SET(get_default_r), related_name=\'setvalue\')\n41.     setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name=\'setnull_set\')\n42.     setdefault = models.ForeignKey(R, models.SET_DEFAULT, default=get_default_r, related_name=\'setdefault_set\')\n43.     setdefault_none = models.ForeignKey(\n44.         R, models.SET_DEFAULT,\n45.         default=None, null=True, related_name=\'setnull_nullable_set\',\n46.     )\n47.     cascade = models.ForeignKey(R, models.CASCADE, related_name=\'cascade_set\')\n48.     cascade_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'cascade_nullable_set\')\n49.     protect = models.ForeignKey(R, models.PROTECT, null=True)\n50.     donothing = models.ForeignKey(R, models.DO_NOTHING, null=True, related_name=\'donothing_set\')\n51.     child = models.ForeignKey(RChild, models.CASCADE, related_name="child")\n52.     child_setnull = models.ForeignKey(RChild, models.SET_NULL, null=True, related_name="child_setnull")\n53. \n54.     # A OneToOneField is just a ForeignKey unique=True, so we don\'t duplicate\n55.     # all the tests; just one smoke test to ensure on_delete works for it as\n56.     # well.\n57.     o2o_setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name="o2o_nullable_set")\n58. \n59. \n60. def create_a(name):\n61.     a = A(name=name)\n62.     for name in (\'auto\', \'auto_nullable\', \'setvalue\', \'setnull\', \'setdefault\',\n63.                  \'setdefault_none\', \'cascade\', \'cascade_nullable\', \'protect\',\n64.                  \'donothing\', \'o2o_setnull\'):\n65.         r = R.objects.create()\n66.         setattr(a, name, r)\n67.     a.child = RChild.objects.create()\n68.     a.child_setnull = RChild.objects.create()\n69.     a.save()\n70.     return a\n71. \n72. \n73. class M(models.Model):\n74.     m2m = models.ManyToManyField(R, related_name="m_set")\n75.     m2m_through = models.ManyToManyField(R, through="MR", related_name="m_through_set")\n76.     m2m_through_null = models.ManyToManyField(R, through="MRNull", related_name="m_through_null_set")\n77. \n78. \n79. class MR(models.Model):\n80.     m = models.ForeignKey(M, models.CASCADE)\n81.     r = models.ForeignKey(R, models.CASCADE)\n82. \n83. \n84. class MRNull(models.Model):\n85.     m = models.ForeignKey(M, models.CASCADE)\n86.     r = models.ForeignKey(R, models.SET_NULL, null=True)\n87. \n88. \n89. class Avatar(models.Model):\n90.     desc = models.TextField(null=True)\n91. \n92. \n93. # This model is used to test a duplicate query regression (#25685)\n94. class AvatarProxy(Avatar):\n95.     class Meta:\n96.         proxy = True\n97. \n98. \n99. class User(models.Model):\n100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)\n101. \n102. \n103. class HiddenUser(models.Model):\n104.     r = models.ForeignKey(R, models.CASCADE, related_name="+")\n105. \n106. \n107. class HiddenUserProfile(models.Model):\n108.     user = models.ForeignKey(HiddenUser, models.CASCADE)\n109. \n110. \n111. class M2MTo(models.Model):\n112.     pass\n113. \n114. \n115. class M2MFrom(models.Model):\n116.     m2m = models.ManyToManyField(M2MTo)\n117. \n118. \n119. class Parent(models.Model):\n120.     pass\n121. \n122. \n123. class Child(Parent):\n124.     pass\n125. \n126. \n127. class Base(models.Model):\n128.     pass\n129. \n130. \n131. class RelToBase(models.Model):\n132.     base = models.ForeignKey(Base, models.DO_NOTHING)\n133. \n134. \n135. class Origin(models.Model):\n136.     pass\n137. \n138. \n139. class Referrer(models.Model):\n140.     origin = models.ForeignKey(Origin, models.CASCADE)\n141.     unique_field = models.IntegerField(unique=True)\n142.     large_field = models.TextField()\n143. \n144. \n145. class SecondReferrer(models.Model):\n146.     referrer = models.ForeignKey(Referrer, models.CASCADE)\n147.     other_referrer = models.ForeignKey(\n148.         Referrer, models.CASCADE, to_field=\'unique_field\', related_name=\'+\'\n149.     )', start_line_number=1, end_line_number=149)]
2025-10-05 04:29:52,918 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 04:29:52,918 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .tx
├── CONTRIBUTING.rst
├── FUNDING.yml
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── bin
|   |   └── django-admin.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── bin
|   |   |   |   └── compress.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── utils.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── jython.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── _images
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── RelatedObjectLookups.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── qunit
|       └── qunit.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   └── commands
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   └── tests.py
    ├── asgi
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_password_reset_timeout_days.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── test_base.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_introspection.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   └── commands
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   └── tests.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_greatest.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   └── test_postgresql.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   └── test_srs.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── maps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_json.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktrans.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_trans.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_if_equal.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       └── tests_inheritance.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
    ├── urlpatterns_reverse
    |   ├── __init__.py
    |   ├── erroneous_urls.py
    |   ├── extra_urls.py
    |   ├── included_app_urls.py
    |   ├── included_named_urls.py
    |   ├── included_named_urls2.py
    |   ├── included_namespace_urls.py
    |   ├── included_no_kwargs_urls.py
    |   ├── included_urls.py
    |   ├── included_urls2.py
    |   ├── method_view_urls.py
    |   ├── middleware.py
    |   ├── named_urls.py
    |   ├── named_urls_conflict.py
    |   ├── namespace_urls.py
    |   ├── nested_urls.py
    |   ├── no_urls.py
    |   ├── nonimported_module.py
    |   ├── reverse_lazy_urls.py
    |   ├── test_localeregexdescriptor.py
    |   ├── tests.py
    |   ├── translations
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── urlconf_inner.py
    |   ├── urlconf_outer.py
    |   ├── urls.py
    |   ├── urls_error_handlers.py
    |   ├── urls_error_handlers_callables.py
    |   ├── urls_without_handlers.py
    |   ├── utils.py
    |   ├── views.py
    |   └── views_broken.py
    ├── urls.py
    ├── user_commands
    |   ├── __init__.py
    |   ├── eggs
    |   ├── management
    |   |   └── commands
    |   |       ├── common_args.py
    |   |       ├── dance.py
    |   |       ├── hal.py
    |   |       ├── mutually_exclusive_required.py
    |   |       ├── no_translations.py
    |   |       ├── required_option.py
    |   |       ├── reverse_url.py
    |   |       ├── set_option.py
    |   |       ├── subparser.py
    |   |       ├── subparser_dest.py
    |   |       ├── subparser_required.py
    |   |       └── transaction.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── utils_tests
    |   ├── __init__.py
    |   ├── archives
    |   ├── eggs
    |   ├── files
    |   |   └── strip_tags2.txt
    |   ├── models.py
    |   ├── test_archive.py
    |   ├── test_autoreload.py
    |   ├── test_baseconv.py
    |   ├── test_crypto.py
    |   ├── test_datastructures.py
    |   ├── test_dateformat.py
    |   ├── test_dateparse.py
    |   ├── test_datetime_safe.py
    |   ├── test_decorators.py
    |   ├── test_duration.py
    |   ├── test_encoding.py
    |   ├── test_encoding_deprecations.py
    |   ├── test_feedgenerator.py
    |   ├── test_functional.py
    |   ├── test_hashable.py
    |   ├── test_html.py
    |   ├── test_http.py
    |   ├── test_inspect.py
    |   ├── test_ipv6.py
    |   ├── test_jslex.py
    |   ├── test_lazyobject.py
    |   ├── test_lorem_ipsum.py
    |   ├── test_module
    |   |   ├── __init__.py
    |   |   ├── another_bad_module.py
    |   |   ├── another_good_module.py
    |   |   ├── bad_module.py
    |   |   ├── child_module
    |   |   |   ├── __init__.py
    |   |   |   └── grandchild_module.py
    |   |   └── good_module.py
    |   ├── test_module_loading.py
    |   ├── test_no_submodule.py
    |   ├── test_numberformat.py
    |   ├── test_os_utils.py
    |   ├── test_regex_helper.py
    |   ├── test_safestring.py
    |   ├── test_simplelazyobject.py
    |   ├── test_termcolors.py
    |   ├── test_text.py
    |   ├── test_timesince.py
    |   ├── test_timezone.py
    |   ├── test_topological_sort.py
    |   ├── test_tree.py
    |   └── utils.py
    ├── validation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_custom_messages.py
    |   ├── test_error_messages.py
    |   ├── test_picklable.py
    |   ├── test_unique.py
    |   ├── test_validators.py
    |   └── tests.py
    ├── validators
    |   ├── __init__.py
    |   ├── invalid_urls.txt
    |   ├── tests.py
    |   └── valid_urls.txt
    ├── version
    |   ├── __init__.py
    |   └── tests.py
    ├── view_tests
    |   ├── __init__.py
    |   ├── app0
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── en
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── app3
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── es_AR
    |   ├── app4
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── es_AR
    |   ├── app5
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── fr
    |   ├── default_urls.py
    |   ├── generic_urls.py
    |   ├── locale
    |   |   ├── de
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_GB
    |   |   |   └── LC_MESSAGES
    |   |   ├── es
    |   |   |   └── LC_MESSAGES
    |   |   ├── fr
    |   |   |   └── LC_MESSAGES
    |   |   ├── nl
    |   |   |   └── LC_MESSAGES
    |   |   ├── pt
    |   |   |   └── LC_MESSAGES
    |   |   └── ru
    |   |       └── LC_MESSAGES
    |   ├── media
    |   |   ├── %2F.txt
    |   |   ├── file.txt
    |   |   ├── long-line.txt
    |   |   └── subdir
    |   ├── models.py
    |   ├── regression_21530_urls.py
    |   ├── templates
    |   |   └── debug
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── debugtags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_csrf.py
    |   |   ├── test_debug.py
    |   |   ├── test_defaults.py
    |   |   ├── test_i18n.py
    |   |   ├── test_json.py
    |   |   ├── test_specials.py
    |   |   └── test_static.py
    |   ├── urls.py
    |   └── views.py
    └── wsgi
        ├── __init__.py
        ├── tests.py
        ├── urls.py
        └── wsgi.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Combine fast delete queries

Issue description: 
Description
	
When emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There's a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.
For example, given the following models
class Person(models.Model):
	friends = models.ManyToManyField('self')
class User(models.Model):
	pass
class Entry(models.Model):
	created_by = models.ForeignKey(User)
	updated_by = models.ForeignKey(User)
Issuing a person.delete() or user.delete() will result in 3 queries of the form
DELETE FROM person_friends WHERE from_id = :id
DELETE FROM person_friends WHERE to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id
DELETE FROM entry WHERE updated_by = :id
DELETRE FROM user WHERE id = :id
But both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR
DELETE FROM person_friends WHERE from_id = :id OR to_id = :id
DELETE FROM person WHERE id = :id
DELETE FROM entry WHERE created_by_id = :id OR updated_by = :id
DELETE FROM user WHERE id = :id

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/delete/tests.py
Line number range: 534 - 543
Content:
534.     def test_fast_delete_joined_qs(self):
535.         a = Avatar.objects.create(desc='a')
536.         User.objects.create(avatar=a)
537.         u2 = User.objects.create()
538.         expected_queries = 1 if connection.features.update_can_self_select else 2
539.         self.assertNumQueries(expected_queries,
540.                               User.objects.filter(avatar__desc='a').delete)
541.         self.assertEqual(User.objects.count(), 1)
542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())
543. 


File: tests/delete/tests.py
Line number range: 496 - 506
Content:
496.             avatar=Avatar.objects.create()
497.         )
498.         a = Avatar.objects.get(pk=u.avatar_id)
499.         # 1 query to fast-delete the user
500.         # 1 query to delete the avatar
501.         self.assertNumQueries(2, a.delete)
502.         self.assertFalse(User.objects.exists())
503.         self.assertFalse(Avatar.objects.exists())
504. 
505.     def test_fast_delete_m2m(self):
506.         t = M2MTo.objects.create()


File: tests/delete/tests.py
Line number range: 1 - 501
Content:
1. from math import ceil
2. 
3. from django.db import IntegrityError, connection, models
4. from django.db.models.deletion import Collector
5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE
6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature
7. 
8. from .models import (
9.     MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,
10.     M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,
11.     User, create_a, get_default_r,
12. )
13. 
14. 
15. class OnDeleteTests(TestCase):
16.     def setUp(self):
17.         self.DEFAULT = get_default_r()
18. 
19.     def test_auto(self):
20.         a = create_a('auto')
21.         a.auto.delete()
22.         self.assertFalse(A.objects.filter(name='auto').exists())
23. 
24.     def test_non_callable(self):
25.         msg = 'on_delete must be callable.'
26.         with self.assertRaisesMessage(TypeError, msg):
27.             models.ForeignKey('self', on_delete=None)
28.         with self.assertRaisesMessage(TypeError, msg):
29.             models.OneToOneField('self', on_delete=None)
30. 
31.     def test_auto_nullable(self):
32.         a = create_a('auto_nullable')
33.         a.auto_nullable.delete()
34.         self.assertFalse(A.objects.filter(name='auto_nullable').exists())
35. 
36.     def test_setvalue(self):
37.         a = create_a('setvalue')
38.         a.setvalue.delete()
39.         a = A.objects.get(pk=a.pk)
40.         self.assertEqual(self.DEFAULT, a.setvalue.pk)
41. 
42.     def test_setnull(self):
43.         a = create_a('setnull')
44.         a.setnull.delete()
45.         a = A.objects.get(pk=a.pk)
46.         self.assertIsNone(a.setnull)
47. 
48.     def test_setdefault(self):
49.         a = create_a('setdefault')
50.         a.setdefault.delete()
51.         a = A.objects.get(pk=a.pk)
52.         self.assertEqual(self.DEFAULT, a.setdefault.pk)
53. 
54.     def test_setdefault_none(self):
55.         a = create_a('setdefault_none')
56.         a.setdefault_none.delete()
57.         a = A.objects.get(pk=a.pk)
58.         self.assertIsNone(a.setdefault_none)
59. 
60.     def test_cascade(self):
61.         a = create_a('cascade')
62.         a.cascade.delete()
63.         self.assertFalse(A.objects.filter(name='cascade').exists())
64. 
65.     def test_cascade_nullable(self):
66.         a = create_a('cascade_nullable')
67.         a.cascade_nullable.delete()
68.         self.assertFalse(A.objects.filter(name='cascade_nullable').exists())
69. 
70.     def test_protect(self):
71.         a = create_a('protect')
72.         msg = (
73.             "Cannot delete some instances of model 'R' because they are "
74.             "referenced through a protected foreign key: 'A.protect'"
75.         )
76.         with self.assertRaisesMessage(IntegrityError, msg):
77.             a.protect.delete()
78. 
79.     def test_do_nothing(self):
80.         # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,
81.         # so we connect to pre_delete and set the fk to a known value.
82.         replacement_r = R.objects.create()
83. 
84.         def check_do_nothing(sender, **kwargs):
85.             obj = kwargs['instance']
86.             obj.donothing_set.update(donothing=replacement_r)
87.         models.signals.pre_delete.connect(check_do_nothing)
88.         a = create_a('do_nothing')
89.         a.donothing.delete()
90.         a = A.objects.get(pk=a.pk)
91.         self.assertEqual(replacement_r, a.donothing)
92.         models.signals.pre_delete.disconnect(check_do_nothing)
93. 
94.     def test_do_nothing_qscount(self):
95.         """
96.         A models.DO_NOTHING relation doesn't trigger a query.
97.         """
98.         b = Base.objects.create()
99.         with self.assertNumQueries(1):
100.             # RelToBase should not be queried.
101.             b.delete()
102.         self.assertEqual(Base.objects.count(), 0)
103. 
104.     def test_inheritance_cascade_up(self):
105.         child = RChild.objects.create()
106.         child.delete()
107.         self.assertFalse(R.objects.filter(pk=child.pk).exists())
108. 
109.     def test_inheritance_cascade_down(self):
110.         child = RChild.objects.create()
111.         parent = child.r_ptr
112.         parent.delete()
113.         self.assertFalse(RChild.objects.filter(pk=child.pk).exists())
114. 
115.     def test_cascade_from_child(self):
116.         a = create_a('child')
117.         a.child.delete()
118.         self.assertFalse(A.objects.filter(name='child').exists())
119.         self.assertFalse(R.objects.filter(pk=a.child_id).exists())
120. 
121.     def test_cascade_from_parent(self):
122.         a = create_a('child')
123.         R.objects.get(pk=a.child_id).delete()
124.         self.assertFalse(A.objects.filter(name='child').exists())
125.         self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())
126. 
127.     def test_setnull_from_child(self):
128.         a = create_a('child_setnull')
129.         a.child_setnull.delete()
130.         self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())
131. 
132.         a = A.objects.get(pk=a.pk)
133.         self.assertIsNone(a.child_setnull)
134. 
135.     def test_setnull_from_parent(self):
136.         a = create_a('child_setnull')
137.         R.objects.get(pk=a.child_setnull_id).delete()
138.         self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())
139. 
140.         a = A.objects.get(pk=a.pk)
141.         self.assertIsNone(a.child_setnull)
142. 
143.     def test_o2o_setnull(self):
144.         a = create_a('o2o_setnull')
145.         a.o2o_setnull.delete()
146.         a = A.objects.get(pk=a.pk)
147.         self.assertIsNone(a.o2o_setnull)
148. 
149. 
150. class DeletionTests(TestCase):
151. 
152.     def test_m2m(self):
153.         m = M.objects.create()
154.         r = R.objects.create()
155.         MR.objects.create(m=m, r=r)
156.         r.delete()
157.         self.assertFalse(MR.objects.exists())
158. 
159.         r = R.objects.create()
160.         MR.objects.create(m=m, r=r)
161.         m.delete()
162.         self.assertFalse(MR.objects.exists())
163. 
164.         m = M.objects.create()
165.         r = R.objects.create()
166.         m.m2m.add(r)
167.         r.delete()
168.         through = M._meta.get_field('m2m').remote_field.through
169.         self.assertFalse(through.objects.exists())
170. 
171.         r = R.objects.create()
172.         m.m2m.add(r)
173.         m.delete()
174.         self.assertFalse(through.objects.exists())
175. 
176.         m = M.objects.create()
177.         r = R.objects.create()
178.         MRNull.objects.create(m=m, r=r)
179.         r.delete()
180.         self.assertFalse(not MRNull.objects.exists())
181.         self.assertFalse(m.m2m_through_null.exists())
182. 
183.     def test_bulk(self):
184.         s = S.objects.create(r=R.objects.create())
185.         for i in range(2 * GET_ITERATOR_CHUNK_SIZE):
186.             T.objects.create(s=s)
187.         #   1 (select related `T` instances)
188.         # + 1 (select related `U` instances)
189.         # + 2 (delete `T` instances in batches)
190.         # + 1 (delete `s`)
191.         self.assertNumQueries(5, s.delete)
192.         self.assertFalse(S.objects.exists())
193. 
194.     def test_instance_update(self):
195.         deleted = []
196.         related_setnull_sets = []
197. 
198.         def pre_delete(sender, **kwargs):
199.             obj = kwargs['instance']
200.             deleted.append(obj)
201.             if isinstance(obj, R):
202.                 related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])
203. 
204.         models.signals.pre_delete.connect(pre_delete)
205.         a = create_a('update_setnull')
206.         a.setnull.delete()
207. 
208.         a = create_a('update_cascade')
209.         a.cascade.delete()
210. 
211.         for obj in deleted:
212.             self.assertIsNone(obj.pk)
213. 
214.         for pk_list in related_setnull_sets:
215.             for a in A.objects.filter(id__in=pk_list):
216.                 self.assertIsNone(a.setnull)
217. 
218.         models.signals.pre_delete.disconnect(pre_delete)
219. 
220.     def test_deletion_order(self):
221.         pre_delete_order = []
222.         post_delete_order = []
223. 
224.         def log_post_delete(sender, **kwargs):
225.             pre_delete_order.append((sender, kwargs['instance'].pk))
226. 
227.         def log_pre_delete(sender, **kwargs):
228.             post_delete_order.append((sender, kwargs['instance'].pk))
229. 
230.         models.signals.post_delete.connect(log_post_delete)
231.         models.signals.pre_delete.connect(log_pre_delete)
232. 
233.         r = R.objects.create(pk=1)
234.         s1 = S.objects.create(pk=1, r=r)
235.         s2 = S.objects.create(pk=2, r=r)
236.         T.objects.create(pk=1, s=s1)
237.         T.objects.create(pk=2, s=s2)
238.         RChild.objects.create(r_ptr=r)
239.         r.delete()
240.         self.assertEqual(
241.             pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]
242.         )
243.         self.assertEqual(
244.             post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]
245.         )
246. 
247.         models.signals.post_delete.disconnect(log_post_delete)
248.         models.signals.pre_delete.disconnect(log_pre_delete)
249. 
250.     def test_relational_post_delete_signals_happen_before_parent_object(self):
251.         deletions = []
252. 
253.         def log_post_delete(instance, **kwargs):
254.             self.assertTrue(R.objects.filter(pk=instance.r_id))
255.             self.assertIs(type(instance), S)
256.             deletions.append(instance.id)
257. 
258.         r = R.objects.create(pk=1)
259.         S.objects.create(pk=1, r=r)
260. 
261.         models.signals.post_delete.connect(log_post_delete, sender=S)
262. 
263.         try:
264.             r.delete()
265.         finally:
266.             models.signals.post_delete.disconnect(log_post_delete)
267. 
268.         self.assertEqual(len(deletions), 1)
269.         self.assertEqual(deletions[0], 1)
270. 
271.     @skipUnlessDBFeature("can_defer_constraint_checks")
272.     def test_can_defer_constraint_checks(self):
273.         u = User.objects.create(
274.             avatar=Avatar.objects.create()
275.         )
276.         a = Avatar.objects.get(pk=u.avatar_id)
277.         # 1 query to find the users for the avatar.
278.         # 1 query to delete the user
279.         # 1 query to delete the avatar
280.         # The important thing is that when we can defer constraint checks there
281.         # is no need to do an UPDATE on User.avatar to null it out.
282. 
283.         # Attach a signal to make sure we will not do fast_deletes.
284.         calls = []
285. 
286.         def noop(*args, **kwargs):
287.             calls.append('')
288.         models.signals.post_delete.connect(noop, sender=User)
289. 
290.         self.assertNumQueries(3, a.delete)
291.         self.assertFalse(User.objects.exists())
292.         self.assertFalse(Avatar.objects.exists())
293.         self.assertEqual(len(calls), 1)
294.         models.signals.post_delete.disconnect(noop, sender=User)
295. 
296.     @skipIfDBFeature("can_defer_constraint_checks")
297.     def test_cannot_defer_constraint_checks(self):
298.         u = User.objects.create(
299.             avatar=Avatar.objects.create()
300.         )
301.         # Attach a signal to make sure we will not do fast_deletes.
302.         calls = []
303. 
304.         def noop(*args, **kwargs):
305.             calls.append('')
306.         models.signals.post_delete.connect(noop, sender=User)
307. 
308.         a = Avatar.objects.get(pk=u.avatar_id)
309.         # The below doesn't make sense... Why do we need to null out
310.         # user.avatar if we are going to delete the user immediately after it,
311.         # and there are no more cascades.
312.         # 1 query to find the users for the avatar.
313.         # 1 query to delete the user
314.         # 1 query to null out user.avatar, because we can't defer the constraint
315.         # 1 query to delete the avatar
316.         self.assertNumQueries(4, a.delete)
317.         self.assertFalse(User.objects.exists())
318.         self.assertFalse(Avatar.objects.exists())
319.         self.assertEqual(len(calls), 1)
320.         models.signals.post_delete.disconnect(noop, sender=User)
321. 
322.     def test_hidden_related(self):
323.         r = R.objects.create()
324.         h = HiddenUser.objects.create(r=r)
325.         HiddenUserProfile.objects.create(user=h)
326. 
327.         r.delete()
328.         self.assertEqual(HiddenUserProfile.objects.count(), 0)
329. 
330.     def test_large_delete(self):
331.         TEST_SIZE = 2000
332.         objs = [Avatar() for i in range(0, TEST_SIZE)]
333.         Avatar.objects.bulk_create(objs)
334.         # Calculate the number of queries needed.
335.         batch_size = connection.ops.bulk_batch_size(['pk'], objs)
336.         # The related fetches are done in batches.
337.         batches = ceil(len(objs) / batch_size)
338.         # One query for Avatar.objects.all() and then one related fast delete for
339.         # each batch.
340.         fetches_to_mem = 1 + batches
341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE
342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE
343.         self.assertNumQueries(queries, Avatar.objects.all().delete)
344.         self.assertFalse(Avatar.objects.exists())
345. 
346.     def test_large_delete_related(self):
347.         TEST_SIZE = 2000
348.         s = S.objects.create(r=R.objects.create())
349.         for i in range(TEST_SIZE):
350.             T.objects.create(s=s)
351. 
352.         batch_size = max(connection.ops.bulk_batch_size(['pk'], range(TEST_SIZE)), 1)
353. 
354.         # TEST_SIZE / batch_size (select related `T` instances)
355.         # + 1 (select related `U` instances)
356.         # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)
357.         # + 1 (delete `s`)
358.         expected_num_queries = ceil(TEST_SIZE / batch_size)
359.         expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2
360. 
361.         self.assertNumQueries(expected_num_queries, s.delete)
362.         self.assertFalse(S.objects.exists())
363.         self.assertFalse(T.objects.exists())
364. 
365.     def test_delete_with_keeping_parents(self):
366.         child = RChild.objects.create()
367.         parent_id = child.r_ptr_id
368.         child.delete(keep_parents=True)
369.         self.assertFalse(RChild.objects.filter(id=child.id).exists())
370.         self.assertTrue(R.objects.filter(id=parent_id).exists())
371. 
372.     def test_delete_with_keeping_parents_relationships(self):
373.         child = RChild.objects.create()
374.         parent_id = child.r_ptr_id
375.         parent_referent_id = S.objects.create(r=child.r_ptr).pk
376.         child.delete(keep_parents=True)
377.         self.assertFalse(RChild.objects.filter(id=child.id).exists())
378.         self.assertTrue(R.objects.filter(id=parent_id).exists())
379.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
380. 
381.         childchild = RChildChild.objects.create()
382.         parent_id = childchild.rchild_ptr.r_ptr_id
383.         child_id = childchild.rchild_ptr_id
384.         parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk
385.         childchild.delete(keep_parents=True)
386.         self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())
387.         self.assertTrue(RChild.objects.filter(id=child_id).exists())
388.         self.assertTrue(R.objects.filter(id=parent_id).exists())
389.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
390. 
391.     def test_queryset_delete_returns_num_rows(self):
392.         """
393.         QuerySet.delete() should return the number of deleted rows and a
394.         dictionary with the number of deletions for each object type.
395.         """
396.         Avatar.objects.bulk_create([Avatar(desc='a'), Avatar(desc='b'), Avatar(desc='c')])
397.         avatars_count = Avatar.objects.count()
398.         deleted, rows_count = Avatar.objects.all().delete()
399.         self.assertEqual(deleted, avatars_count)
400. 
401.         # more complex example with multiple object types
402.         r = R.objects.create()
403.         h1 = HiddenUser.objects.create(r=r)
404.         HiddenUser.objects.create(r=r)
405.         HiddenUserProfile.objects.create(user=h1)
406.         existed_objs = {
407.             R._meta.label: R.objects.count(),
408.             HiddenUser._meta.label: HiddenUser.objects.count(),
409.             A._meta.label: A.objects.count(),
410.             MR._meta.label: MR.objects.count(),
411.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
412.         }
413.         deleted, deleted_objs = R.objects.all().delete()
414.         for k, v in existed_objs.items():
415.             self.assertEqual(deleted_objs[k], v)
416. 
417.     def test_model_delete_returns_num_rows(self):
418.         """
419.         Model.delete() should return the number of deleted rows and a
420.         dictionary with the number of deletions for each object type.
421.         """
422.         r = R.objects.create()
423.         h1 = HiddenUser.objects.create(r=r)
424.         h2 = HiddenUser.objects.create(r=r)
425.         HiddenUser.objects.create(r=r)
426.         HiddenUserProfile.objects.create(user=h1)
427.         HiddenUserProfile.objects.create(user=h2)
428.         m1 = M.objects.create()
429.         m2 = M.objects.create()
430.         MR.objects.create(r=r, m=m1)
431.         r.m_set.add(m1)
432.         r.m_set.add(m2)
433.         r.save()
434.         existed_objs = {
435.             R._meta.label: R.objects.count(),
436.             HiddenUser._meta.label: HiddenUser.objects.count(),
437.             A._meta.label: A.objects.count(),
438.             MR._meta.label: MR.objects.count(),
439.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
440.             M.m2m.through._meta.label: M.m2m.through.objects.count(),
441.         }
442.         deleted, deleted_objs = r.delete()
443.         self.assertEqual(deleted, sum(existed_objs.values()))
444.         for k, v in existed_objs.items():
445.             self.assertEqual(deleted_objs[k], v)
446. 
447.     def test_proxied_model_duplicate_queries(self):
448.         """
449.         #25685 - Deleting instances of a model with existing proxy
450.         classes should not issue multiple queries during cascade
451.         deletion of referring models.
452.         """
453.         avatar = Avatar.objects.create()
454.         # One query for the Avatar table and a second for the User one.
455.         with self.assertNumQueries(2):
456.             avatar.delete()
457. 
458.     def test_only_referenced_fields_selected(self):
459.         """
460.         Only referenced fields are selected during cascade deletion SELECT
461.         unless deletion signals are connected.
462.         """
463.         origin = Origin.objects.create()
464.         expected_sql = str(
465.             Referrer.objects.only(
466.                 # Both fields are referenced by SecondReferrer.
467.                 'id', 'unique_field',
468.             ).filter(origin__in=[origin]).query
469.         )
470.         with self.assertNumQueries(2) as ctx:
471.             origin.delete()
472.         self.assertEqual(ctx.captured_queries[0]['sql'], expected_sql)
473. 
474.         def receiver(instance, **kwargs):
475.             pass
476. 
477.         # All fields are selected if deletion signals are connected.
478.         for signal_name in ('pre_delete', 'post_delete'):
479.             with self.subTest(signal=signal_name):
480.                 origin = Origin.objects.create()
481.                 signal = getattr(models.signals, signal_name)
482.                 signal.connect(receiver, sender=Referrer)
483.                 with self.assertNumQueries(2) as ctx:
484.                     origin.delete()
485.                 self.assertIn(
486.                     connection.ops.quote_name('large_field'),
487.                     ctx.captured_queries[0]['sql'],
488.                 )
489.                 signal.disconnect(receiver, sender=Referrer)
490. 
491. 
492. class FastDeleteTests(TestCase):
493. 
494.     def test_fast_delete_fk(self):
495.         u = User.objects.create(
496.             avatar=Avatar.objects.create()
497.         )
498.         a = Avatar.objects.get(pk=u.avatar_id)
499.         # 1 query to fast-delete the user
500.         # 1 query to delete the avatar
501.         self.assertNumQueries(2, a.delete)


File: tests/delete/models.py
Line number range: 1 - 149
Content:
1. from django.db import models
2. 
3. 
4. class R(models.Model):
5.     is_default = models.BooleanField(default=False)
6. 
7.     def __str__(self):
8.         return "%s" % self.pk
9. 
10. 
11. def get_default_r():
12.     return R.objects.get_or_create(is_default=True)[0].pk
13. 
14. 
15. class S(models.Model):
16.     r = models.ForeignKey(R, models.CASCADE)
17. 
18. 
19. class T(models.Model):
20.     s = models.ForeignKey(S, models.CASCADE)
21. 
22. 
23. class U(models.Model):
24.     t = models.ForeignKey(T, models.CASCADE)
25. 
26. 
27. class RChild(R):
28.     pass
29. 
30. 
31. class RChildChild(RChild):
32.     pass
33. 
34. 
35. class A(models.Model):
36.     name = models.CharField(max_length=30)
37. 
38.     auto = models.ForeignKey(R, models.CASCADE, related_name="auto_set")
39.     auto_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name='auto_nullable_set')
40.     setvalue = models.ForeignKey(R, models.SET(get_default_r), related_name='setvalue')
41.     setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name='setnull_set')
42.     setdefault = models.ForeignKey(R, models.SET_DEFAULT, default=get_default_r, related_name='setdefault_set')
43.     setdefault_none = models.ForeignKey(
44.         R, models.SET_DEFAULT,
45.         default=None, null=True, related_name='setnull_nullable_set',
46.     )
47.     cascade = models.ForeignKey(R, models.CASCADE, related_name='cascade_set')
48.     cascade_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name='cascade_nullable_set')
49.     protect = models.ForeignKey(R, models.PROTECT, null=True)
50.     donothing = models.ForeignKey(R, models.DO_NOTHING, null=True, related_name='donothing_set')
51.     child = models.ForeignKey(RChild, models.CASCADE, related_name="child")
52.     child_setnull = models.ForeignKey(RChild, models.SET_NULL, null=True, related_name="child_setnull")
53. 
54.     # A OneToOneField is just a ForeignKey unique=True, so we don't duplicate
55.     # all the tests; just one smoke test to ensure on_delete works for it as
56.     # well.
57.     o2o_setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name="o2o_nullable_set")
58. 
59. 
60. def create_a(name):
61.     a = A(name=name)
62.     for name in ('auto', 'auto_nullable', 'setvalue', 'setnull', 'setdefault',
63.                  'setdefault_none', 'cascade', 'cascade_nullable', 'protect',
64.                  'donothing', 'o2o_setnull'):
65.         r = R.objects.create()
66.         setattr(a, name, r)
67.     a.child = RChild.objects.create()
68.     a.child_setnull = RChild.objects.create()
69.     a.save()
70.     return a
71. 
72. 
73. class M(models.Model):
74.     m2m = models.ManyToManyField(R, related_name="m_set")
75.     m2m_through = models.ManyToManyField(R, through="MR", related_name="m_through_set")
76.     m2m_through_null = models.ManyToManyField(R, through="MRNull", related_name="m_through_null_set")
77. 
78. 
79. class MR(models.Model):
80.     m = models.ForeignKey(M, models.CASCADE)
81.     r = models.ForeignKey(R, models.CASCADE)
82. 
83. 
84. class MRNull(models.Model):
85.     m = models.ForeignKey(M, models.CASCADE)
86.     r = models.ForeignKey(R, models.SET_NULL, null=True)
87. 
88. 
89. class Avatar(models.Model):
90.     desc = models.TextField(null=True)
91. 
92. 
93. # This model is used to test a duplicate query regression (#25685)
94. class AvatarProxy(Avatar):
95.     class Meta:
96.         proxy = True
97. 
98. 
99. class User(models.Model):
100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)
101. 
102. 
103. class HiddenUser(models.Model):
104.     r = models.ForeignKey(R, models.CASCADE, related_name="+")
105. 
106. 
107. class HiddenUserProfile(models.Model):
108.     user = models.ForeignKey(HiddenUser, models.CASCADE)
109. 
110. 
111. class M2MTo(models.Model):
112.     pass
113. 
114. 
115. class M2MFrom(models.Model):
116.     m2m = models.ManyToManyField(M2MTo)
117. 
118. 
119. class Parent(models.Model):
120.     pass
121. 
122. 
123. class Child(Parent):
124.     pass
125. 
126. 
127. class Base(models.Model):
128.     pass
129. 
130. 
131. class RelToBase(models.Model):
132.     base = models.ForeignKey(Base, models.DO_NOTHING)
133. 
134. 
135. class Origin(models.Model):
136.     pass
137. 
138. 
139. class Referrer(models.Model):
140.     origin = models.ForeignKey(Origin, models.CASCADE)
141.     unique_field = models.IntegerField(unique=True)
142.     large_field = models.TextField()
143. 
144. 
145. class SecondReferrer(models.Model):
146.     referrer = models.ForeignKey(Referrer, models.CASCADE)
147.     other_referrer = models.ForeignKey(
148.         Referrer, models.CASCADE, to_field='unique_field', related_name='+'
149.     )

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 04:30:39,027 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find 5 test cases that are similar to the functionality described in the bug report, which is about combining multiple 'fast delete' queries into a single query using OR. The provided context contains the `tests/delete/tests.py` file, which is highly relevant as it contains tests for model deletion, including 'fast delete' scenarios and query count assertions. I have identified five suitable test cases from this file that demonstrate similar functionality: they test cascading deletes, M2M relationship deletion, performance of bulk deletes, and prevention of duplicate queries. Although no single test case implements the exact 'OR' condition optimization described (as it seems to be a new feature request), these five tests cover the most closely related, existing functionality. The context also provides the necessary model definitions from `tests/delete/models.py` and all required imports, making the test cases complete and self-contained. Therefore, the provided context is sufficient to answer the user's request." refined_query=''
2025-10-05 04:30:39,028 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/delete/tests.py', content="534.     def test_fast_delete_joined_qs(self):\n535.         a = Avatar.objects.create(desc='a')\n536.         User.objects.create(avatar=a)\n537.         u2 = User.objects.create()\n538.         expected_queries = 1 if connection.features.update_can_self_select else 2\n539.         self.assertNumQueries(expected_queries,\n540.                               User.objects.filter(avatar__desc='a').delete)\n541.         self.assertEqual(User.objects.count(), 1)\n542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n543. ", start_line_number=534, end_line_number=543), Context(relative_path='tests/delete/tests.py', content='496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)\n502.         self.assertFalse(User.objects.exists())\n503.         self.assertFalse(Avatar.objects.exists())\n504. \n505.     def test_fast_delete_m2m(self):\n506.         t = M2MTo.objects.create()', start_line_number=496, end_line_number=506), Context(relative_path='tests/delete/tests.py', content='1. from math import ceil\n2. \n3. from django.db import IntegrityError, connection, models\n4. from django.db.models.deletion import Collector\n5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\n6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n7. \n8. from .models import (\n9.     MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\n10.     M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\n11.     User, create_a, get_default_r,\n12. )\n13. \n14. \n15. class OnDeleteTests(TestCase):\n16.     def setUp(self):\n17.         self.DEFAULT = get_default_r()\n18. \n19.     def test_auto(self):\n20.         a = create_a(\'auto\')\n21.         a.auto.delete()\n22.         self.assertFalse(A.objects.filter(name=\'auto\').exists())\n23. \n24.     def test_non_callable(self):\n25.         msg = \'on_delete must be callable.\'\n26.         with self.assertRaisesMessage(TypeError, msg):\n27.             models.ForeignKey(\'self\', on_delete=None)\n28.         with self.assertRaisesMessage(TypeError, msg):\n29.             models.OneToOneField(\'self\', on_delete=None)\n30. \n31.     def test_auto_nullable(self):\n32.         a = create_a(\'auto_nullable\')\n33.         a.auto_nullable.delete()\n34.         self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\n35. \n36.     def test_setvalue(self):\n37.         a = create_a(\'setvalue\')\n38.         a.setvalue.delete()\n39.         a = A.objects.get(pk=a.pk)\n40.         self.assertEqual(self.DEFAULT, a.setvalue.pk)\n41. \n42.     def test_setnull(self):\n43.         a = create_a(\'setnull\')\n44.         a.setnull.delete()\n45.         a = A.objects.get(pk=a.pk)\n46.         self.assertIsNone(a.setnull)\n47. \n48.     def test_setdefault(self):\n49.         a = create_a(\'setdefault\')\n50.         a.setdefault.delete()\n51.         a = A.objects.get(pk=a.pk)\n52.         self.assertEqual(self.DEFAULT, a.setdefault.pk)\n53. \n54.     def test_setdefault_none(self):\n55.         a = create_a(\'setdefault_none\')\n56.         a.setdefault_none.delete()\n57.         a = A.objects.get(pk=a.pk)\n58.         self.assertIsNone(a.setdefault_none)\n59. \n60.     def test_cascade(self):\n61.         a = create_a(\'cascade\')\n62.         a.cascade.delete()\n63.         self.assertFalse(A.objects.filter(name=\'cascade\').exists())\n64. \n65.     def test_cascade_nullable(self):\n66.         a = create_a(\'cascade_nullable\')\n67.         a.cascade_nullable.delete()\n68.         self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\n69. \n70.     def test_protect(self):\n71.         a = create_a(\'protect\')\n72.         msg = (\n73.             "Cannot delete some instances of model \'R\' because they are "\n74.             "referenced through a protected foreign key: \'A.protect\'"\n75.         )\n76.         with self.assertRaisesMessage(IntegrityError, msg):\n77.             a.protect.delete()\n78. \n79.     def test_do_nothing(self):\n80.         # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\n81.         # so we connect to pre_delete and set the fk to a known value.\n82.         replacement_r = R.objects.create()\n83. \n84.         def check_do_nothing(sender, **kwargs):\n85.             obj = kwargs[\'instance\']\n86.             obj.donothing_set.update(donothing=replacement_r)\n87.         models.signals.pre_delete.connect(check_do_nothing)\n88.         a = create_a(\'do_nothing\')\n89.         a.donothing.delete()\n90.         a = A.objects.get(pk=a.pk)\n91.         self.assertEqual(replacement_r, a.donothing)\n92.         models.signals.pre_delete.disconnect(check_do_nothing)\n93. \n94.     def test_do_nothing_qscount(self):\n95.         """\n96.         A models.DO_NOTHING relation doesn\'t trigger a query.\n97.         """\n98.         b = Base.objects.create()\n99.         with self.assertNumQueries(1):\n100.             # RelToBase should not be queried.\n101.             b.delete()\n102.         self.assertEqual(Base.objects.count(), 0)\n103. \n104.     def test_inheritance_cascade_up(self):\n105.         child = RChild.objects.create()\n106.         child.delete()\n107.         self.assertFalse(R.objects.filter(pk=child.pk).exists())\n108. \n109.     def test_inheritance_cascade_down(self):\n110.         child = RChild.objects.create()\n111.         parent = child.r_ptr\n112.         parent.delete()\n113.         self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\n114. \n115.     def test_cascade_from_child(self):\n116.         a = create_a(\'child\')\n117.         a.child.delete()\n118.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n119.         self.assertFalse(R.objects.filter(pk=a.child_id).exists())\n120. \n121.     def test_cascade_from_parent(self):\n122.         a = create_a(\'child\')\n123.         R.objects.get(pk=a.child_id).delete()\n124.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n125.         self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\n126. \n127.     def test_setnull_from_child(self):\n128.         a = create_a(\'child_setnull\')\n129.         a.child_setnull.delete()\n130.         self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\n131. \n132.         a = A.objects.get(pk=a.pk)\n133.         self.assertIsNone(a.child_setnull)\n134. \n135.     def test_setnull_from_parent(self):\n136.         a = create_a(\'child_setnull\')\n137.         R.objects.get(pk=a.child_setnull_id).delete()\n138.         self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\n139. \n140.         a = A.objects.get(pk=a.pk)\n141.         self.assertIsNone(a.child_setnull)\n142. \n143.     def test_o2o_setnull(self):\n144.         a = create_a(\'o2o_setnull\')\n145.         a.o2o_setnull.delete()\n146.         a = A.objects.get(pk=a.pk)\n147.         self.assertIsNone(a.o2o_setnull)\n148. \n149. \n150. class DeletionTests(TestCase):\n151. \n152.     def test_m2m(self):\n153.         m = M.objects.create()\n154.         r = R.objects.create()\n155.         MR.objects.create(m=m, r=r)\n156.         r.delete()\n157.         self.assertFalse(MR.objects.exists())\n158. \n159.         r = R.objects.create()\n160.         MR.objects.create(m=m, r=r)\n161.         m.delete()\n162.         self.assertFalse(MR.objects.exists())\n163. \n164.         m = M.objects.create()\n165.         r = R.objects.create()\n166.         m.m2m.add(r)\n167.         r.delete()\n168.         through = M._meta.get_field(\'m2m\').remote_field.through\n169.         self.assertFalse(through.objects.exists())\n170. \n171.         r = R.objects.create()\n172.         m.m2m.add(r)\n173.         m.delete()\n174.         self.assertFalse(through.objects.exists())\n175. \n176.         m = M.objects.create()\n177.         r = R.objects.create()\n178.         MRNull.objects.create(m=m, r=r)\n179.         r.delete()\n180.         self.assertFalse(not MRNull.objects.exists())\n181.         self.assertFalse(m.m2m_through_null.exists())\n182. \n183.     def test_bulk(self):\n184.         s = S.objects.create(r=R.objects.create())\n185.         for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\n186.             T.objects.create(s=s)\n187.         #   1 (select related `T` instances)\n188.         # + 1 (select related `U` instances)\n189.         # + 2 (delete `T` instances in batches)\n190.         # + 1 (delete `s`)\n191.         self.assertNumQueries(5, s.delete)\n192.         self.assertFalse(S.objects.exists())\n193. \n194.     def test_instance_update(self):\n195.         deleted = []\n196.         related_setnull_sets = []\n197. \n198.         def pre_delete(sender, **kwargs):\n199.             obj = kwargs[\'instance\']\n200.             deleted.append(obj)\n201.             if isinstance(obj, R):\n202.                 related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\n203. \n204.         models.signals.pre_delete.connect(pre_delete)\n205.         a = create_a(\'update_setnull\')\n206.         a.setnull.delete()\n207. \n208.         a = create_a(\'update_cascade\')\n209.         a.cascade.delete()\n210. \n211.         for obj in deleted:\n212.             self.assertIsNone(obj.pk)\n213. \n214.         for pk_list in related_setnull_sets:\n215.             for a in A.objects.filter(id__in=pk_list):\n216.                 self.assertIsNone(a.setnull)\n217. \n218.         models.signals.pre_delete.disconnect(pre_delete)\n219. \n220.     def test_deletion_order(self):\n221.         pre_delete_order = []\n222.         post_delete_order = []\n223. \n224.         def log_post_delete(sender, **kwargs):\n225.             pre_delete_order.append((sender, kwargs[\'instance\'].pk))\n226. \n227.         def log_pre_delete(sender, **kwargs):\n228.             post_delete_order.append((sender, kwargs[\'instance\'].pk))\n229. \n230.         models.signals.post_delete.connect(log_post_delete)\n231.         models.signals.pre_delete.connect(log_pre_delete)\n232. \n233.         r = R.objects.create(pk=1)\n234.         s1 = S.objects.create(pk=1, r=r)\n235.         s2 = S.objects.create(pk=2, r=r)\n236.         T.objects.create(pk=1, s=s1)\n237.         T.objects.create(pk=2, s=s2)\n238.         RChild.objects.create(r_ptr=r)\n239.         r.delete()\n240.         self.assertEqual(\n241.             pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\n242.         )\n243.         self.assertEqual(\n244.             post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\n245.         )\n246. \n247.         models.signals.post_delete.disconnect(log_post_delete)\n248.         models.signals.pre_delete.disconnect(log_pre_delete)\n249. \n250.     def test_relational_post_delete_signals_happen_before_parent_object(self):\n251.         deletions = []\n252. \n253.         def log_post_delete(instance, **kwargs):\n254.             self.assertTrue(R.objects.filter(pk=instance.r_id))\n255.             self.assertIs(type(instance), S)\n256.             deletions.append(instance.id)\n257. \n258.         r = R.objects.create(pk=1)\n259.         S.objects.create(pk=1, r=r)\n260. \n261.         models.signals.post_delete.connect(log_post_delete, sender=S)\n262. \n263.         try:\n264.             r.delete()\n265.         finally:\n266.             models.signals.post_delete.disconnect(log_post_delete)\n267. \n268.         self.assertEqual(len(deletions), 1)\n269.         self.assertEqual(deletions[0], 1)\n270. \n271.     @skipUnlessDBFeature("can_defer_constraint_checks")\n272.     def test_can_defer_constraint_checks(self):\n273.         u = User.objects.create(\n274.             avatar=Avatar.objects.create()\n275.         )\n276.         a = Avatar.objects.get(pk=u.avatar_id)\n277.         # 1 query to find the users for the avatar.\n278.         # 1 query to delete the user\n279.         # 1 query to delete the avatar\n280.         # The important thing is that when we can defer constraint checks there\n281.         # is no need to do an UPDATE on User.avatar to null it out.\n282. \n283.         # Attach a signal to make sure we will not do fast_deletes.\n284.         calls = []\n285. \n286.         def noop(*args, **kwargs):\n287.             calls.append(\'\')\n288.         models.signals.post_delete.connect(noop, sender=User)\n289. \n290.         self.assertNumQueries(3, a.delete)\n291.         self.assertFalse(User.objects.exists())\n292.         self.assertFalse(Avatar.objects.exists())\n293.         self.assertEqual(len(calls), 1)\n294.         models.signals.post_delete.disconnect(noop, sender=User)\n295. \n296.     @skipIfDBFeature("can_defer_constraint_checks")\n297.     def test_cannot_defer_constraint_checks(self):\n298.         u = User.objects.create(\n299.             avatar=Avatar.objects.create()\n300.         )\n301.         # Attach a signal to make sure we will not do fast_deletes.\n302.         calls = []\n303. \n304.         def noop(*args, **kwargs):\n305.             calls.append(\'\')\n306.         models.signals.post_delete.connect(noop, sender=User)\n307. \n308.         a = Avatar.objects.get(pk=u.avatar_id)\n309.         # The below doesn\'t make sense... Why do we need to null out\n310.         # user.avatar if we are going to delete the user immediately after it,\n311.         # and there are no more cascades.\n312.         # 1 query to find the users for the avatar.\n313.         # 1 query to delete the user\n314.         # 1 query to null out user.avatar, because we can\'t defer the constraint\n315.         # 1 query to delete the avatar\n316.         self.assertNumQueries(4, a.delete)\n317.         self.assertFalse(User.objects.exists())\n318.         self.assertFalse(Avatar.objects.exists())\n319.         self.assertEqual(len(calls), 1)\n320.         models.signals.post_delete.disconnect(noop, sender=User)\n321. \n322.     def test_hidden_related(self):\n323.         r = R.objects.create()\n324.         h = HiddenUser.objects.create(r=r)\n325.         HiddenUserProfile.objects.create(user=h)\n326. \n327.         r.delete()\n328.         self.assertEqual(HiddenUserProfile.objects.count(), 0)\n329. \n330.     def test_large_delete(self):\n331.         TEST_SIZE = 2000\n332.         objs = [Avatar() for i in range(0, TEST_SIZE)]\n333.         Avatar.objects.bulk_create(objs)\n334.         # Calculate the number of queries needed.\n335.         batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\n336.         # The related fetches are done in batches.\n337.         batches = ceil(len(objs) / batch_size)\n338.         # One query for Avatar.objects.all() and then one related fast delete for\n339.         # each batch.\n340.         fetches_to_mem = 1 + batches\n341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\n342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\n343.         self.assertNumQueries(queries, Avatar.objects.all().delete)\n344.         self.assertFalse(Avatar.objects.exists())\n345. \n346.     def test_large_delete_related(self):\n347.         TEST_SIZE = 2000\n348.         s = S.objects.create(r=R.objects.create())\n349.         for i in range(TEST_SIZE):\n350.             T.objects.create(s=s)\n351. \n352.         batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\n353. \n354.         # TEST_SIZE / batch_size (select related `T` instances)\n355.         # + 1 (select related `U` instances)\n356.         # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\n357.         # + 1 (delete `s`)\n358.         expected_num_queries = ceil(TEST_SIZE / batch_size)\n359.         expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\n360. \n361.         self.assertNumQueries(expected_num_queries, s.delete)\n362.         self.assertFalse(S.objects.exists())\n363.         self.assertFalse(T.objects.exists())\n364. \n365.     def test_delete_with_keeping_parents(self):\n366.         child = RChild.objects.create()\n367.         parent_id = child.r_ptr_id\n368.         child.delete(keep_parents=True)\n369.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n370.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n371. \n372.     def test_delete_with_keeping_parents_relationships(self):\n373.         child = RChild.objects.create()\n374.         parent_id = child.r_ptr_id\n375.         parent_referent_id = S.objects.create(r=child.r_ptr).pk\n376.         child.delete(keep_parents=True)\n377.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n378.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n379.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n380. \n381.         childchild = RChildChild.objects.create()\n382.         parent_id = childchild.rchild_ptr.r_ptr_id\n383.         child_id = childchild.rchild_ptr_id\n384.         parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\n385.         childchild.delete(keep_parents=True)\n386.         self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\n387.         self.assertTrue(RChild.objects.filter(id=child_id).exists())\n388.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n389.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n390. \n391.     def test_queryset_delete_returns_num_rows(self):\n392.         """\n393.         QuerySet.delete() should return the number of deleted rows and a\n394.         dictionary with the number of deletions for each object type.\n395.         """\n396.         Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\n397.         avatars_count = Avatar.objects.count()\n398.         deleted, rows_count = Avatar.objects.all().delete()\n399.         self.assertEqual(deleted, avatars_count)\n400. \n401.         # more complex example with multiple object types\n402.         r = R.objects.create()\n403.         h1 = HiddenUser.objects.create(r=r)\n404.         HiddenUser.objects.create(r=r)\n405.         HiddenUserProfile.objects.create(user=h1)\n406.         existed_objs = {\n407.             R._meta.label: R.objects.count(),\n408.             HiddenUser._meta.label: HiddenUser.objects.count(),\n409.             A._meta.label: A.objects.count(),\n410.             MR._meta.label: MR.objects.count(),\n411.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n412.         }\n413.         deleted, deleted_objs = R.objects.all().delete()\n414.         for k, v in existed_objs.items():\n415.             self.assertEqual(deleted_objs[k], v)\n416. \n417.     def test_model_delete_returns_num_rows(self):\n418.         """\n419.         Model.delete() should return the number of deleted rows and a\n420.         dictionary with the number of deletions for each object type.\n421.         """\n422.         r = R.objects.create()\n423.         h1 = HiddenUser.objects.create(r=r)\n424.         h2 = HiddenUser.objects.create(r=r)\n425.         HiddenUser.objects.create(r=r)\n426.         HiddenUserProfile.objects.create(user=h1)\n427.         HiddenUserProfile.objects.create(user=h2)\n428.         m1 = M.objects.create()\n429.         m2 = M.objects.create()\n430.         MR.objects.create(r=r, m=m1)\n431.         r.m_set.add(m1)\n432.         r.m_set.add(m2)\n433.         r.save()\n434.         existed_objs = {\n435.             R._meta.label: R.objects.count(),\n436.             HiddenUser._meta.label: HiddenUser.objects.count(),\n437.             A._meta.label: A.objects.count(),\n438.             MR._meta.label: MR.objects.count(),\n439.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n440.             M.m2m.through._meta.label: M.m2m.through.objects.count(),\n441.         }\n442.         deleted, deleted_objs = r.delete()\n443.         self.assertEqual(deleted, sum(existed_objs.values()))\n444.         for k, v in existed_objs.items():\n445.             self.assertEqual(deleted_objs[k], v)\n446. \n447.     def test_proxied_model_duplicate_queries(self):\n448.         """\n449.         #25685 - Deleting instances of a model with existing proxy\n450.         classes should not issue multiple queries during cascade\n451.         deletion of referring models.\n452.         """\n453.         avatar = Avatar.objects.create()\n454.         # One query for the Avatar table and a second for the User one.\n455.         with self.assertNumQueries(2):\n456.             avatar.delete()\n457. \n458.     def test_only_referenced_fields_selected(self):\n459.         """\n460.         Only referenced fields are selected during cascade deletion SELECT\n461.         unless deletion signals are connected.\n462.         """\n463.         origin = Origin.objects.create()\n464.         expected_sql = str(\n465.             Referrer.objects.only(\n466.                 # Both fields are referenced by SecondReferrer.\n467.                 \'id\', \'unique_field\',\n468.             ).filter(origin__in=[origin]).query\n469.         )\n470.         with self.assertNumQueries(2) as ctx:\n471.             origin.delete()\n472.         self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\n473. \n474.         def receiver(instance, **kwargs):\n475.             pass\n476. \n477.         # All fields are selected if deletion signals are connected.\n478.         for signal_name in (\'pre_delete\', \'post_delete\'):\n479.             with self.subTest(signal=signal_name):\n480.                 origin = Origin.objects.create()\n481.                 signal = getattr(models.signals, signal_name)\n482.                 signal.connect(receiver, sender=Referrer)\n483.                 with self.assertNumQueries(2) as ctx:\n484.                     origin.delete()\n485.                 self.assertIn(\n486.                     connection.ops.quote_name(\'large_field\'),\n487.                     ctx.captured_queries[0][\'sql\'],\n488.                 )\n489.                 signal.disconnect(receiver, sender=Referrer)\n490. \n491. \n492. class FastDeleteTests(TestCase):\n493. \n494.     def test_fast_delete_fk(self):\n495.         u = User.objects.create(\n496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)', start_line_number=1, end_line_number=501), Context(relative_path='tests/delete/models.py', content='1. from django.db import models\n2. \n3. \n4. class R(models.Model):\n5.     is_default = models.BooleanField(default=False)\n6. \n7.     def __str__(self):\n8.         return "%s" % self.pk\n9. \n10. \n11. def get_default_r():\n12.     return R.objects.get_or_create(is_default=True)[0].pk\n13. \n14. \n15. class S(models.Model):\n16.     r = models.ForeignKey(R, models.CASCADE)\n17. \n18. \n19. class T(models.Model):\n20.     s = models.ForeignKey(S, models.CASCADE)\n21. \n22. \n23. class U(models.Model):\n24.     t = models.ForeignKey(T, models.CASCADE)\n25. \n26. \n27. class RChild(R):\n28.     pass\n29. \n30. \n31. class RChildChild(RChild):\n32.     pass\n33. \n34. \n35. class A(models.Model):\n36.     name = models.CharField(max_length=30)\n37. \n38.     auto = models.ForeignKey(R, models.CASCADE, related_name="auto_set")\n39.     auto_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'auto_nullable_set\')\n40.     setvalue = models.ForeignKey(R, models.SET(get_default_r), related_name=\'setvalue\')\n41.     setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name=\'setnull_set\')\n42.     setdefault = models.ForeignKey(R, models.SET_DEFAULT, default=get_default_r, related_name=\'setdefault_set\')\n43.     setdefault_none = models.ForeignKey(\n44.         R, models.SET_DEFAULT,\n45.         default=None, null=True, related_name=\'setnull_nullable_set\',\n46.     )\n47.     cascade = models.ForeignKey(R, models.CASCADE, related_name=\'cascade_set\')\n48.     cascade_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'cascade_nullable_set\')\n49.     protect = models.ForeignKey(R, models.PROTECT, null=True)\n50.     donothing = models.ForeignKey(R, models.DO_NOTHING, null=True, related_name=\'donothing_set\')\n51.     child = models.ForeignKey(RChild, models.CASCADE, related_name="child")\n52.     child_setnull = models.ForeignKey(RChild, models.SET_NULL, null=True, related_name="child_setnull")\n53. \n54.     # A OneToOneField is just a ForeignKey unique=True, so we don\'t duplicate\n55.     # all the tests; just one smoke test to ensure on_delete works for it as\n56.     # well.\n57.     o2o_setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name="o2o_nullable_set")\n58. \n59. \n60. def create_a(name):\n61.     a = A(name=name)\n62.     for name in (\'auto\', \'auto_nullable\', \'setvalue\', \'setnull\', \'setdefault\',\n63.                  \'setdefault_none\', \'cascade\', \'cascade_nullable\', \'protect\',\n64.                  \'donothing\', \'o2o_setnull\'):\n65.         r = R.objects.create()\n66.         setattr(a, name, r)\n67.     a.child = RChild.objects.create()\n68.     a.child_setnull = RChild.objects.create()\n69.     a.save()\n70.     return a\n71. \n72. \n73. class M(models.Model):\n74.     m2m = models.ManyToManyField(R, related_name="m_set")\n75.     m2m_through = models.ManyToManyField(R, through="MR", related_name="m_through_set")\n76.     m2m_through_null = models.ManyToManyField(R, through="MRNull", related_name="m_through_null_set")\n77. \n78. \n79. class MR(models.Model):\n80.     m = models.ForeignKey(M, models.CASCADE)\n81.     r = models.ForeignKey(R, models.CASCADE)\n82. \n83. \n84. class MRNull(models.Model):\n85.     m = models.ForeignKey(M, models.CASCADE)\n86.     r = models.ForeignKey(R, models.SET_NULL, null=True)\n87. \n88. \n89. class Avatar(models.Model):\n90.     desc = models.TextField(null=True)\n91. \n92. \n93. # This model is used to test a duplicate query regression (#25685)\n94. class AvatarProxy(Avatar):\n95.     class Meta:\n96.         proxy = True\n97. \n98. \n99. class User(models.Model):\n100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)\n101. \n102. \n103. class HiddenUser(models.Model):\n104.     r = models.ForeignKey(R, models.CASCADE, related_name="+")\n105. \n106. \n107. class HiddenUserProfile(models.Model):\n108.     user = models.ForeignKey(HiddenUser, models.CASCADE)\n109. \n110. \n111. class M2MTo(models.Model):\n112.     pass\n113. \n114. \n115. class M2MFrom(models.Model):\n116.     m2m = models.ManyToManyField(M2MTo)\n117. \n118. \n119. class Parent(models.Model):\n120.     pass\n121. \n122. \n123. class Child(Parent):\n124.     pass\n125. \n126. \n127. class Base(models.Model):\n128.     pass\n129. \n130. \n131. class RelToBase(models.Model):\n132.     base = models.ForeignKey(Base, models.DO_NOTHING)\n133. \n134. \n135. class Origin(models.Model):\n136.     pass\n137. \n138. \n139. class Referrer(models.Model):\n140.     origin = models.ForeignKey(Origin, models.CASCADE)\n141.     unique_field = models.IntegerField(unique=True)\n142.     large_field = models.TextField()\n143. \n144. \n145. class SecondReferrer(models.Model):\n146.     referrer = models.ForeignKey(Referrer, models.CASCADE)\n147.     other_referrer = models.ForeignKey(\n148.         Referrer, models.CASCADE, to_field=\'unique_field\', related_name=\'+\'\n149.     )', start_line_number=1, end_line_number=149)]
2025-10-05 04:30:39,028 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nCombine fast delete queries\n\nIssue description: \nDescription\n\t\nWhen emulating ON DELETE CASCADE via on_delete=models.CASCADE the deletion.Collector will try to perform fast queries which are DELETE FROM table WHERE table.pk IN .... There\'s a few conditions required for this fast path to be taken but when this happens the collection logic should combine such queries by table to reduce the number of roundtrips to the database.\nFor example, given the following models\nclass Person(models.Model):\n\tfriends = models.ManyToManyField(\'self\')\nclass User(models.Model):\n\tpass\nclass Entry(models.Model):\n\tcreated_by = models.ForeignKey(User)\n\tupdated_by = models.ForeignKey(User)\nIssuing a person.delete() or user.delete() will result in 3 queries of the form\nDELETE FROM person_friends WHERE from_id = :id\nDELETE FROM person_friends WHERE to_id = :id\nDELETE FROM person WHERE id = :id\nDELETE FROM entry WHERE created_by_id = :id\nDELETE FROM entry WHERE updated_by = :id\nDELETRE FROM user WHERE id = :id\nBut both queries (or N queries depending on the number of foreign relationships) can be combined into a single one by using OR\nDELETE FROM person_friends WHERE from_id = :id OR to_id = :id\nDELETE FROM person WHERE id = :id\nDELETE FROM entry WHERE created_by_id = :id OR updated_by = :id\nDELETE FROM user WHERE id = :id\n\nIssue comments:\n\n\nBug reproducing context:\nFile: tests/delete/tests.py\nLine number range: 534 - 543\nContent:\n534.     def test_fast_delete_joined_qs(self):\n535.         a = Avatar.objects.create(desc=\'a\')\n536.         User.objects.create(avatar=a)\n537.         u2 = User.objects.create()\n538.         expected_queries = 1 if connection.features.update_can_self_select else 2\n539.         self.assertNumQueries(expected_queries,\n540.                               User.objects.filter(avatar__desc=\'a\').delete)\n541.         self.assertEqual(User.objects.count(), 1)\n542.         self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n543. \n\n\nFile: tests/delete/tests.py\nLine number range: 496 - 506\nContent:\n496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)\n502.         self.assertFalse(User.objects.exists())\n503.         self.assertFalse(Avatar.objects.exists())\n504. \n505.     def test_fast_delete_m2m(self):\n506.         t = M2MTo.objects.create()\n\n\nFile: tests/delete/tests.py\nLine number range: 1 - 501\nContent:\n1. from math import ceil\n2. \n3. from django.db import IntegrityError, connection, models\n4. from django.db.models.deletion import Collector\n5. from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\n6. from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n7. \n8. from .models import (\n9.     MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\n10.     M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\n11.     User, create_a, get_default_r,\n12. )\n13. \n14. \n15. class OnDeleteTests(TestCase):\n16.     def setUp(self):\n17.         self.DEFAULT = get_default_r()\n18. \n19.     def test_auto(self):\n20.         a = create_a(\'auto\')\n21.         a.auto.delete()\n22.         self.assertFalse(A.objects.filter(name=\'auto\').exists())\n23. \n24.     def test_non_callable(self):\n25.         msg = \'on_delete must be callable.\'\n26.         with self.assertRaisesMessage(TypeError, msg):\n27.             models.ForeignKey(\'self\', on_delete=None)\n28.         with self.assertRaisesMessage(TypeError, msg):\n29.             models.OneToOneField(\'self\', on_delete=None)\n30. \n31.     def test_auto_nullable(self):\n32.         a = create_a(\'auto_nullable\')\n33.         a.auto_nullable.delete()\n34.         self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\n35. \n36.     def test_setvalue(self):\n37.         a = create_a(\'setvalue\')\n38.         a.setvalue.delete()\n39.         a = A.objects.get(pk=a.pk)\n40.         self.assertEqual(self.DEFAULT, a.setvalue.pk)\n41. \n42.     def test_setnull(self):\n43.         a = create_a(\'setnull\')\n44.         a.setnull.delete()\n45.         a = A.objects.get(pk=a.pk)\n46.         self.assertIsNone(a.setnull)\n47. \n48.     def test_setdefault(self):\n49.         a = create_a(\'setdefault\')\n50.         a.setdefault.delete()\n51.         a = A.objects.get(pk=a.pk)\n52.         self.assertEqual(self.DEFAULT, a.setdefault.pk)\n53. \n54.     def test_setdefault_none(self):\n55.         a = create_a(\'setdefault_none\')\n56.         a.setdefault_none.delete()\n57.         a = A.objects.get(pk=a.pk)\n58.         self.assertIsNone(a.setdefault_none)\n59. \n60.     def test_cascade(self):\n61.         a = create_a(\'cascade\')\n62.         a.cascade.delete()\n63.         self.assertFalse(A.objects.filter(name=\'cascade\').exists())\n64. \n65.     def test_cascade_nullable(self):\n66.         a = create_a(\'cascade_nullable\')\n67.         a.cascade_nullable.delete()\n68.         self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\n69. \n70.     def test_protect(self):\n71.         a = create_a(\'protect\')\n72.         msg = (\n73.             "Cannot delete some instances of model \'R\' because they are "\n74.             "referenced through a protected foreign key: \'A.protect\'"\n75.         )\n76.         with self.assertRaisesMessage(IntegrityError, msg):\n77.             a.protect.delete()\n78. \n79.     def test_do_nothing(self):\n80.         # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\n81.         # so we connect to pre_delete and set the fk to a known value.\n82.         replacement_r = R.objects.create()\n83. \n84.         def check_do_nothing(sender, **kwargs):\n85.             obj = kwargs[\'instance\']\n86.             obj.donothing_set.update(donothing=replacement_r)\n87.         models.signals.pre_delete.connect(check_do_nothing)\n88.         a = create_a(\'do_nothing\')\n89.         a.donothing.delete()\n90.         a = A.objects.get(pk=a.pk)\n91.         self.assertEqual(replacement_r, a.donothing)\n92.         models.signals.pre_delete.disconnect(check_do_nothing)\n93. \n94.     def test_do_nothing_qscount(self):\n95.         """\n96.         A models.DO_NOTHING relation doesn\'t trigger a query.\n97.         """\n98.         b = Base.objects.create()\n99.         with self.assertNumQueries(1):\n100.             # RelToBase should not be queried.\n101.             b.delete()\n102.         self.assertEqual(Base.objects.count(), 0)\n103. \n104.     def test_inheritance_cascade_up(self):\n105.         child = RChild.objects.create()\n106.         child.delete()\n107.         self.assertFalse(R.objects.filter(pk=child.pk).exists())\n108. \n109.     def test_inheritance_cascade_down(self):\n110.         child = RChild.objects.create()\n111.         parent = child.r_ptr\n112.         parent.delete()\n113.         self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\n114. \n115.     def test_cascade_from_child(self):\n116.         a = create_a(\'child\')\n117.         a.child.delete()\n118.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n119.         self.assertFalse(R.objects.filter(pk=a.child_id).exists())\n120. \n121.     def test_cascade_from_parent(self):\n122.         a = create_a(\'child\')\n123.         R.objects.get(pk=a.child_id).delete()\n124.         self.assertFalse(A.objects.filter(name=\'child\').exists())\n125.         self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\n126. \n127.     def test_setnull_from_child(self):\n128.         a = create_a(\'child_setnull\')\n129.         a.child_setnull.delete()\n130.         self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\n131. \n132.         a = A.objects.get(pk=a.pk)\n133.         self.assertIsNone(a.child_setnull)\n134. \n135.     def test_setnull_from_parent(self):\n136.         a = create_a(\'child_setnull\')\n137.         R.objects.get(pk=a.child_setnull_id).delete()\n138.         self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\n139. \n140.         a = A.objects.get(pk=a.pk)\n141.         self.assertIsNone(a.child_setnull)\n142. \n143.     def test_o2o_setnull(self):\n144.         a = create_a(\'o2o_setnull\')\n145.         a.o2o_setnull.delete()\n146.         a = A.objects.get(pk=a.pk)\n147.         self.assertIsNone(a.o2o_setnull)\n148. \n149. \n150. class DeletionTests(TestCase):\n151. \n152.     def test_m2m(self):\n153.         m = M.objects.create()\n154.         r = R.objects.create()\n155.         MR.objects.create(m=m, r=r)\n156.         r.delete()\n157.         self.assertFalse(MR.objects.exists())\n158. \n159.         r = R.objects.create()\n160.         MR.objects.create(m=m, r=r)\n161.         m.delete()\n162.         self.assertFalse(MR.objects.exists())\n163. \n164.         m = M.objects.create()\n165.         r = R.objects.create()\n166.         m.m2m.add(r)\n167.         r.delete()\n168.         through = M._meta.get_field(\'m2m\').remote_field.through\n169.         self.assertFalse(through.objects.exists())\n170. \n171.         r = R.objects.create()\n172.         m.m2m.add(r)\n173.         m.delete()\n174.         self.assertFalse(through.objects.exists())\n175. \n176.         m = M.objects.create()\n177.         r = R.objects.create()\n178.         MRNull.objects.create(m=m, r=r)\n179.         r.delete()\n180.         self.assertFalse(not MRNull.objects.exists())\n181.         self.assertFalse(m.m2m_through_null.exists())\n182. \n183.     def test_bulk(self):\n184.         s = S.objects.create(r=R.objects.create())\n185.         for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\n186.             T.objects.create(s=s)\n187.         #   1 (select related `T` instances)\n188.         # + 1 (select related `U` instances)\n189.         # + 2 (delete `T` instances in batches)\n190.         # + 1 (delete `s`)\n191.         self.assertNumQueries(5, s.delete)\n192.         self.assertFalse(S.objects.exists())\n193. \n194.     def test_instance_update(self):\n195.         deleted = []\n196.         related_setnull_sets = []\n197. \n198.         def pre_delete(sender, **kwargs):\n199.             obj = kwargs[\'instance\']\n200.             deleted.append(obj)\n201.             if isinstance(obj, R):\n202.                 related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\n203. \n204.         models.signals.pre_delete.connect(pre_delete)\n205.         a = create_a(\'update_setnull\')\n206.         a.setnull.delete()\n207. \n208.         a = create_a(\'update_cascade\')\n209.         a.cascade.delete()\n210. \n211.         for obj in deleted:\n212.             self.assertIsNone(obj.pk)\n213. \n214.         for pk_list in related_setnull_sets:\n215.             for a in A.objects.filter(id__in=pk_list):\n216.                 self.assertIsNone(a.setnull)\n217. \n218.         models.signals.pre_delete.disconnect(pre_delete)\n219. \n220.     def test_deletion_order(self):\n221.         pre_delete_order = []\n222.         post_delete_order = []\n223. \n224.         def log_post_delete(sender, **kwargs):\n225.             pre_delete_order.append((sender, kwargs[\'instance\'].pk))\n226. \n227.         def log_pre_delete(sender, **kwargs):\n228.             post_delete_order.append((sender, kwargs[\'instance\'].pk))\n229. \n230.         models.signals.post_delete.connect(log_post_delete)\n231.         models.signals.pre_delete.connect(log_pre_delete)\n232. \n233.         r = R.objects.create(pk=1)\n234.         s1 = S.objects.create(pk=1, r=r)\n235.         s2 = S.objects.create(pk=2, r=r)\n236.         T.objects.create(pk=1, s=s1)\n237.         T.objects.create(pk=2, s=s2)\n238.         RChild.objects.create(r_ptr=r)\n239.         r.delete()\n240.         self.assertEqual(\n241.             pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\n242.         )\n243.         self.assertEqual(\n244.             post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\n245.         )\n246. \n247.         models.signals.post_delete.disconnect(log_post_delete)\n248.         models.signals.pre_delete.disconnect(log_pre_delete)\n249. \n250.     def test_relational_post_delete_signals_happen_before_parent_object(self):\n251.         deletions = []\n252. \n253.         def log_post_delete(instance, **kwargs):\n254.             self.assertTrue(R.objects.filter(pk=instance.r_id))\n255.             self.assertIs(type(instance), S)\n256.             deletions.append(instance.id)\n257. \n258.         r = R.objects.create(pk=1)\n259.         S.objects.create(pk=1, r=r)\n260. \n261.         models.signals.post_delete.connect(log_post_delete, sender=S)\n262. \n263.         try:\n264.             r.delete()\n265.         finally:\n266.             models.signals.post_delete.disconnect(log_post_delete)\n267. \n268.         self.assertEqual(len(deletions), 1)\n269.         self.assertEqual(deletions[0], 1)\n270. \n271.     @skipUnlessDBFeature("can_defer_constraint_checks")\n272.     def test_can_defer_constraint_checks(self):\n273.         u = User.objects.create(\n274.             avatar=Avatar.objects.create()\n275.         )\n276.         a = Avatar.objects.get(pk=u.avatar_id)\n277.         # 1 query to find the users for the avatar.\n278.         # 1 query to delete the user\n279.         # 1 query to delete the avatar\n280.         # The important thing is that when we can defer constraint checks there\n281.         # is no need to do an UPDATE on User.avatar to null it out.\n282. \n283.         # Attach a signal to make sure we will not do fast_deletes.\n284.         calls = []\n285. \n286.         def noop(*args, **kwargs):\n287.             calls.append(\'\')\n288.         models.signals.post_delete.connect(noop, sender=User)\n289. \n290.         self.assertNumQueries(3, a.delete)\n291.         self.assertFalse(User.objects.exists())\n292.         self.assertFalse(Avatar.objects.exists())\n293.         self.assertEqual(len(calls), 1)\n294.         models.signals.post_delete.disconnect(noop, sender=User)\n295. \n296.     @skipIfDBFeature("can_defer_constraint_checks")\n297.     def test_cannot_defer_constraint_checks(self):\n298.         u = User.objects.create(\n299.             avatar=Avatar.objects.create()\n300.         )\n301.         # Attach a signal to make sure we will not do fast_deletes.\n302.         calls = []\n303. \n304.         def noop(*args, **kwargs):\n305.             calls.append(\'\')\n306.         models.signals.post_delete.connect(noop, sender=User)\n307. \n308.         a = Avatar.objects.get(pk=u.avatar_id)\n309.         # The below doesn\'t make sense... Why do we need to null out\n310.         # user.avatar if we are going to delete the user immediately after it,\n311.         # and there are no more cascades.\n312.         # 1 query to find the users for the avatar.\n313.         # 1 query to delete the user\n314.         # 1 query to null out user.avatar, because we can\'t defer the constraint\n315.         # 1 query to delete the avatar\n316.         self.assertNumQueries(4, a.delete)\n317.         self.assertFalse(User.objects.exists())\n318.         self.assertFalse(Avatar.objects.exists())\n319.         self.assertEqual(len(calls), 1)\n320.         models.signals.post_delete.disconnect(noop, sender=User)\n321. \n322.     def test_hidden_related(self):\n323.         r = R.objects.create()\n324.         h = HiddenUser.objects.create(r=r)\n325.         HiddenUserProfile.objects.create(user=h)\n326. \n327.         r.delete()\n328.         self.assertEqual(HiddenUserProfile.objects.count(), 0)\n329. \n330.     def test_large_delete(self):\n331.         TEST_SIZE = 2000\n332.         objs = [Avatar() for i in range(0, TEST_SIZE)]\n333.         Avatar.objects.bulk_create(objs)\n334.         # Calculate the number of queries needed.\n335.         batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\n336.         # The related fetches are done in batches.\n337.         batches = ceil(len(objs) / batch_size)\n338.         # One query for Avatar.objects.all() and then one related fast delete for\n339.         # each batch.\n340.         fetches_to_mem = 1 + batches\n341.         # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\n342.         queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\n343.         self.assertNumQueries(queries, Avatar.objects.all().delete)\n344.         self.assertFalse(Avatar.objects.exists())\n345. \n346.     def test_large_delete_related(self):\n347.         TEST_SIZE = 2000\n348.         s = S.objects.create(r=R.objects.create())\n349.         for i in range(TEST_SIZE):\n350.             T.objects.create(s=s)\n351. \n352.         batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\n353. \n354.         # TEST_SIZE / batch_size (select related `T` instances)\n355.         # + 1 (select related `U` instances)\n356.         # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\n357.         # + 1 (delete `s`)\n358.         expected_num_queries = ceil(TEST_SIZE / batch_size)\n359.         expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\n360. \n361.         self.assertNumQueries(expected_num_queries, s.delete)\n362.         self.assertFalse(S.objects.exists())\n363.         self.assertFalse(T.objects.exists())\n364. \n365.     def test_delete_with_keeping_parents(self):\n366.         child = RChild.objects.create()\n367.         parent_id = child.r_ptr_id\n368.         child.delete(keep_parents=True)\n369.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n370.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n371. \n372.     def test_delete_with_keeping_parents_relationships(self):\n373.         child = RChild.objects.create()\n374.         parent_id = child.r_ptr_id\n375.         parent_referent_id = S.objects.create(r=child.r_ptr).pk\n376.         child.delete(keep_parents=True)\n377.         self.assertFalse(RChild.objects.filter(id=child.id).exists())\n378.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n379.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n380. \n381.         childchild = RChildChild.objects.create()\n382.         parent_id = childchild.rchild_ptr.r_ptr_id\n383.         child_id = childchild.rchild_ptr_id\n384.         parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\n385.         childchild.delete(keep_parents=True)\n386.         self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\n387.         self.assertTrue(RChild.objects.filter(id=child_id).exists())\n388.         self.assertTrue(R.objects.filter(id=parent_id).exists())\n389.         self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n390. \n391.     def test_queryset_delete_returns_num_rows(self):\n392.         """\n393.         QuerySet.delete() should return the number of deleted rows and a\n394.         dictionary with the number of deletions for each object type.\n395.         """\n396.         Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\n397.         avatars_count = Avatar.objects.count()\n398.         deleted, rows_count = Avatar.objects.all().delete()\n399.         self.assertEqual(deleted, avatars_count)\n400. \n401.         # more complex example with multiple object types\n402.         r = R.objects.create()\n403.         h1 = HiddenUser.objects.create(r=r)\n404.         HiddenUser.objects.create(r=r)\n405.         HiddenUserProfile.objects.create(user=h1)\n406.         existed_objs = {\n407.             R._meta.label: R.objects.count(),\n408.             HiddenUser._meta.label: HiddenUser.objects.count(),\n409.             A._meta.label: A.objects.count(),\n410.             MR._meta.label: MR.objects.count(),\n411.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n412.         }\n413.         deleted, deleted_objs = R.objects.all().delete()\n414.         for k, v in existed_objs.items():\n415.             self.assertEqual(deleted_objs[k], v)\n416. \n417.     def test_model_delete_returns_num_rows(self):\n418.         """\n419.         Model.delete() should return the number of deleted rows and a\n420.         dictionary with the number of deletions for each object type.\n421.         """\n422.         r = R.objects.create()\n423.         h1 = HiddenUser.objects.create(r=r)\n424.         h2 = HiddenUser.objects.create(r=r)\n425.         HiddenUser.objects.create(r=r)\n426.         HiddenUserProfile.objects.create(user=h1)\n427.         HiddenUserProfile.objects.create(user=h2)\n428.         m1 = M.objects.create()\n429.         m2 = M.objects.create()\n430.         MR.objects.create(r=r, m=m1)\n431.         r.m_set.add(m1)\n432.         r.m_set.add(m2)\n433.         r.save()\n434.         existed_objs = {\n435.             R._meta.label: R.objects.count(),\n436.             HiddenUser._meta.label: HiddenUser.objects.count(),\n437.             A._meta.label: A.objects.count(),\n438.             MR._meta.label: MR.objects.count(),\n439.             HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n440.             M.m2m.through._meta.label: M.m2m.through.objects.count(),\n441.         }\n442.         deleted, deleted_objs = r.delete()\n443.         self.assertEqual(deleted, sum(existed_objs.values()))\n444.         for k, v in existed_objs.items():\n445.             self.assertEqual(deleted_objs[k], v)\n446. \n447.     def test_proxied_model_duplicate_queries(self):\n448.         """\n449.         #25685 - Deleting instances of a model with existing proxy\n450.         classes should not issue multiple queries during cascade\n451.         deletion of referring models.\n452.         """\n453.         avatar = Avatar.objects.create()\n454.         # One query for the Avatar table and a second for the User one.\n455.         with self.assertNumQueries(2):\n456.             avatar.delete()\n457. \n458.     def test_only_referenced_fields_selected(self):\n459.         """\n460.         Only referenced fields are selected during cascade deletion SELECT\n461.         unless deletion signals are connected.\n462.         """\n463.         origin = Origin.objects.create()\n464.         expected_sql = str(\n465.             Referrer.objects.only(\n466.                 # Both fields are referenced by SecondReferrer.\n467.                 \'id\', \'unique_field\',\n468.             ).filter(origin__in=[origin]).query\n469.         )\n470.         with self.assertNumQueries(2) as ctx:\n471.             origin.delete()\n472.         self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\n473. \n474.         def receiver(instance, **kwargs):\n475.             pass\n476. \n477.         # All fields are selected if deletion signals are connected.\n478.         for signal_name in (\'pre_delete\', \'post_delete\'):\n479.             with self.subTest(signal=signal_name):\n480.                 origin = Origin.objects.create()\n481.                 signal = getattr(models.signals, signal_name)\n482.                 signal.connect(receiver, sender=Referrer)\n483.                 with self.assertNumQueries(2) as ctx:\n484.                     origin.delete()\n485.                 self.assertIn(\n486.                     connection.ops.quote_name(\'large_field\'),\n487.                     ctx.captured_queries[0][\'sql\'],\n488.                 )\n489.                 signal.disconnect(receiver, sender=Referrer)\n490. \n491. \n492. class FastDeleteTests(TestCase):\n493. \n494.     def test_fast_delete_fk(self):\n495.         u = User.objects.create(\n496.             avatar=Avatar.objects.create()\n497.         )\n498.         a = Avatar.objects.get(pk=u.avatar_id)\n499.         # 1 query to fast-delete the user\n500.         # 1 query to delete the avatar\n501.         self.assertNumQueries(2, a.delete)\n\n\nFile: tests/delete/models.py\nLine number range: 1 - 149\nContent:\n1. from django.db import models\n2. \n3. \n4. class R(models.Model):\n5.     is_default = models.BooleanField(default=False)\n6. \n7.     def __str__(self):\n8.         return "%s" % self.pk\n9. \n10. \n11. def get_default_r():\n12.     return R.objects.get_or_create(is_default=True)[0].pk\n13. \n14. \n15. class S(models.Model):\n16.     r = models.ForeignKey(R, models.CASCADE)\n17. \n18. \n19. class T(models.Model):\n20.     s = models.ForeignKey(S, models.CASCADE)\n21. \n22. \n23. class U(models.Model):\n24.     t = models.ForeignKey(T, models.CASCADE)\n25. \n26. \n27. class RChild(R):\n28.     pass\n29. \n30. \n31. class RChildChild(RChild):\n32.     pass\n33. \n34. \n35. class A(models.Model):\n36.     name = models.CharField(max_length=30)\n37. \n38.     auto = models.ForeignKey(R, models.CASCADE, related_name="auto_set")\n39.     auto_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'auto_nullable_set\')\n40.     setvalue = models.ForeignKey(R, models.SET(get_default_r), related_name=\'setvalue\')\n41.     setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name=\'setnull_set\')\n42.     setdefault = models.ForeignKey(R, models.SET_DEFAULT, default=get_default_r, related_name=\'setdefault_set\')\n43.     setdefault_none = models.ForeignKey(\n44.         R, models.SET_DEFAULT,\n45.         default=None, null=True, related_name=\'setnull_nullable_set\',\n46.     )\n47.     cascade = models.ForeignKey(R, models.CASCADE, related_name=\'cascade_set\')\n48.     cascade_nullable = models.ForeignKey(R, models.CASCADE, null=True, related_name=\'cascade_nullable_set\')\n49.     protect = models.ForeignKey(R, models.PROTECT, null=True)\n50.     donothing = models.ForeignKey(R, models.DO_NOTHING, null=True, related_name=\'donothing_set\')\n51.     child = models.ForeignKey(RChild, models.CASCADE, related_name="child")\n52.     child_setnull = models.ForeignKey(RChild, models.SET_NULL, null=True, related_name="child_setnull")\n53. \n54.     # A OneToOneField is just a ForeignKey unique=True, so we don\'t duplicate\n55.     # all the tests; just one smoke test to ensure on_delete works for it as\n56.     # well.\n57.     o2o_setnull = models.ForeignKey(R, models.SET_NULL, null=True, related_name="o2o_nullable_set")\n58. \n59. \n60. def create_a(name):\n61.     a = A(name=name)\n62.     for name in (\'auto\', \'auto_nullable\', \'setvalue\', \'setnull\', \'setdefault\',\n63.                  \'setdefault_none\', \'cascade\', \'cascade_nullable\', \'protect\',\n64.                  \'donothing\', \'o2o_setnull\'):\n65.         r = R.objects.create()\n66.         setattr(a, name, r)\n67.     a.child = RChild.objects.create()\n68.     a.child_setnull = RChild.objects.create()\n69.     a.save()\n70.     return a\n71. \n72. \n73. class M(models.Model):\n74.     m2m = models.ManyToManyField(R, related_name="m_set")\n75.     m2m_through = models.ManyToManyField(R, through="MR", related_name="m_through_set")\n76.     m2m_through_null = models.ManyToManyField(R, through="MRNull", related_name="m_through_null_set")\n77. \n78. \n79. class MR(models.Model):\n80.     m = models.ForeignKey(M, models.CASCADE)\n81.     r = models.ForeignKey(R, models.CASCADE)\n82. \n83. \n84. class MRNull(models.Model):\n85.     m = models.ForeignKey(M, models.CASCADE)\n86.     r = models.ForeignKey(R, models.SET_NULL, null=True)\n87. \n88. \n89. class Avatar(models.Model):\n90.     desc = models.TextField(null=True)\n91. \n92. \n93. # This model is used to test a duplicate query regression (#25685)\n94. class AvatarProxy(Avatar):\n95.     class Meta:\n96.         proxy = True\n97. \n98. \n99. class User(models.Model):\n100.     avatar = models.ForeignKey(Avatar, models.CASCADE, null=True)\n101. \n102. \n103. class HiddenUser(models.Model):\n104.     r = models.ForeignKey(R, models.CASCADE, related_name="+")\n105. \n106. \n107. class HiddenUserProfile(models.Model):\n108.     user = models.ForeignKey(HiddenUser, models.CASCADE)\n109. \n110. \n111. class M2MTo(models.Model):\n112.     pass\n113. \n114. \n115. class M2MFrom(models.Model):\n116.     m2m = models.ManyToManyField(M2MTo)\n117. \n118. \n119. class Parent(models.Model):\n120.     pass\n121. \n122. \n123. class Child(Parent):\n124.     pass\n125. \n126. \n127. class Base(models.Model):\n128.     pass\n129. \n130. \n131. class RelToBase(models.Model):\n132.     base = models.ForeignKey(Base, models.DO_NOTHING)\n133. \n134. \n135. class Origin(models.Model):\n136.     pass\n137. \n138. \n139. class Referrer(models.Model):\n140.     origin = models.ForeignKey(Origin, models.CASCADE)\n141.     unique_field = models.IntegerField(unique=True)\n142.     large_field = models.TextField()\n143. \n144. \n145. class SecondReferrer(models.Model):\n146.     referrer = models.ForeignKey(Referrer, models.CASCADE)\n147.     other_referrer = models.ForeignKey(\n148.         Referrer, models.CASCADE, to_field=\'unique_field\', related_name=\'+\'\n149.     )\n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-10-05 04:32:51,528 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nimport math\nfrom math import ceil\n\nfrom django.db import IntegrityError, connection, models\nfrom django.db.models.deletion import Collector\nfrom django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\nfrom django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n\nfrom .models import (\n    MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\n    M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\n    User, create_a, get_default_r, SecondReferrer,\n)\n\n\nclass OnDeleteTests(TestCase):\n    def setUp(self):\n        self.DEFAULT = get_default_r()\n\n    def test_auto(self):\n        a = create_a(\'auto\')\n        a.auto.delete()\n        self.assertFalse(A.objects.filter(name=\'auto\').exists())\n\n    def test_non_callable(self):\n        msg = \'on_delete must be callable.\'\n        with self.assertRaisesMessage(TypeError, msg):\n            models.ForeignKey(\'self\', on_delete=None)\n        with self.assertRaisesMessage(TypeError, msg):\n            models.OneToOneField(\'self\', on_delete=None)\n\n    def test_auto_nullable(self):\n        a = create_a(\'auto_nullable\')\n        a.auto_nullable.delete()\n        self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\n\n    def test_setvalue(self):\n        a = create_a(\'setvalue\')\n        a.setvalue.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(self.DEFAULT, a.setvalue.pk)\n\n    def test_setnull(self):\n        a = create_a(\'setnull\')\n        a.setnull.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.setnull)\n\n    def test_setdefault(self):\n        a = create_a(\'setdefault\')\n        a.setdefault.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(self.DEFAULT, a.setdefault.pk)\n\n    def test_setdefault_none(self):\n        a = create_a(\'setdefault_none\')\n        a.setdefault_none.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.setdefault_none)\n\n    def test_cascade(self):\n        a = create_a(\'cascade\')\n        a.cascade.delete()\n        self.assertFalse(A.objects.filter(name=\'cascade\').exists())\n\n    def test_cascade_nullable(self):\n        a = create_a(\'cascade_nullable\')\n        a.cascade_nullable.delete()\n        self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\n\n    def test_protect(self):\n        a = create_a(\'protect\')\n        msg = (\n            "Cannot delete some instances of model \'R\' because they are "\n            "referenced through a protected foreign key: \'A.protect\'"\n        )\n        with self.assertRaisesMessage(IntegrityError, msg):\n            a.protect.delete()\n\n    def test_do_nothing(self):\n        # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\n        # so we connect to pre_delete and set the fk to a known value.\n        replacement_r = R.objects.create()\n\n        def check_do_nothing(sender, **kwargs):\n            obj = kwargs[\'instance\']\n            obj.donothing_set.update(donothing=replacement_r)\n        models.signals.pre_delete.connect(check_do_nothing)\n        a = create_a(\'do_nothing\')\n        a.donothing.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(replacement_r, a.donothing)\n        models.signals.pre_delete.disconnect(check_do_nothing)\n\n    def test_do_nothing_qscount(self):\n        """\n        A models.DO_NOTHING relation doesn\'t trigger a query.\n        """\n        b = Base.objects.create()\n        with self.assertNumQueries(1):\n            # RelToBase should not be queried.\n            b.delete()\n        self.assertEqual(Base.objects.count(), 0)\n\n    def test_inheritance_cascade_up(self):\n        child = RChild.objects.create()\n        child.delete()\n        self.assertFalse(R.objects.filter(pk=child.pk).exists())\n\n    def test_inheritance_cascade_down(self):\n        child = RChild.objects.create()\n        parent = child.r_ptr\n        parent.delete()\n        self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\n\n    def test_cascade_from_child(self):\n        a = create_a(\'child\')\n        a.child.delete()\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\n        self.assertFalse(R.objects.filter(pk=a.child_id).exists())\n\n    def test_cascade_from_parent(self):\n        a = create_a(\'child\')\n        R.objects.get(pk=a.child_id).delete()\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\n        self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\n\n    def test_setnull_from_child(self):\n        a = create_a(\'child_setnull\')\n        a.child_setnull.delete()\n        self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\n\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.child_setnull)\n\n    def test_setnull_from_parent(self):\n        a = create_a(\'child_setnull\')\n        R.objects.get(pk=a.child_setnull_id).delete()\n        self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\n\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.child_setnull)\n\n    def test_o2o_setnull(self):\n        a = create_a(\'o2o_setnull\')\n        a.o2o_setnull.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.o2o_setnull)\n\n\nclass DeletionTests(TestCase):\n\n    def test_m2m(self):\n        m = M.objects.create()\n        r = R.objects.create()\n        MR.objects.create(m=m, r=r)\n        r.delete()\n        self.assertFalse(MR.objects.exists())\n\n        r = R.objects.create()\n        MR.objects.create(m=m, r=r)\n        m.delete()\n        self.assertFalse(MR.objects.exists())\n\n        m = M.objects.create()\n        r = R.objects.create()\n        m.m2m.add(r)\n        r.delete()\n        through = M._meta.get_field(\'m2m\').remote_field.through\n        self.assertFalse(through.objects.exists())\n\n        r = R.objects.create()\n        m.m2m.add(r)\n        m.delete()\n        self.assertFalse(through.objects.exists())\n\n        m = M.objects.create()\n        r = R.objects.create()\n        MRNull.objects.create(m=m, r=r)\n        r.delete()\n        self.assertFalse(not MRNull.objects.exists())\n        self.assertFalse(m.m2m_through_null.exists())\n\n    def test_bulk(self):\n        s = S.objects.create(r=R.objects.create())\n        for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\n            T.objects.create(s=s)\n        #   1 (select related `T` instances)\n        # + 1 (select related `U` instances)\n        # + 2 (delete `T` instances in batches)\n        # + 1 (delete `s`)\n        self.assertNumQueries(5, s.delete)\n        self.assertFalse(S.objects.exists())\n\n    def test_instance_update(self):\n        deleted = []\n        related_setnull_sets = []\n\n        def pre_delete(sender, **kwargs):\n            obj = kwargs[\'instance\']\n            deleted.append(obj)\n            if isinstance(obj, R):\n                related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\n\n        models.signals.pre_delete.connect(pre_delete)\n        a = create_a(\'update_setnull\')\n        a.setnull.delete()\n\n        a = create_a(\'update_cascade\')\n        a.cascade.delete()\n\n        for obj in deleted:\n            self.assertIsNone(obj.pk)\n\n        for pk_list in related_setnull_sets:\n            for a in A.objects.filter(id__in=pk_list):\n                self.assertIsNone(a.setnull)\n\n        models.signals.pre_delete.disconnect(pre_delete)\n\n    def test_deletion_order(self):\n        pre_delete_order = []\n        post_delete_order = []\n\n        def log_post_delete(sender, **kwargs):\n            pre_delete_order.append((sender, kwargs[\'instance\'].pk))\n\n        def log_pre_delete(sender, **kwargs):\n            post_delete_order.append((sender, kwargs[\'instance\'].pk))\n\n        models.signals.post_delete.connect(log_post_delete)\n        models.signals.pre_delete.connect(log_pre_delete)\n\n        r = R.objects.create(pk=1)\n        s1 = S.objects.create(pk=1, r=r)\n        s2 = S.objects.create(pk=2, r=r)\n        T.objects.create(pk=1, s=s1)\n        T.objects.create(pk=2, s=s2)\n        RChild.objects.create(r_ptr=r)\n        r.delete()\n        self.assertEqual(\n            pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\n        )\n        self.assertEqual(\n            post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\n        )\n\n        models.signals.post_delete.disconnect(log_post_delete)\n        models.signals.pre_delete.disconnect(log_pre_delete)\n\n    def test_relational_post_delete_signals_happen_before_parent_object(self):\n        deletions = []\n\n        def log_post_delete(instance, **kwargs):\n            self.assertTrue(R.objects.filter(pk=instance.r_id))\n            self.assertIs(type(instance), S)\n            deletions.append(instance.id)\n\n        r = R.objects.create(pk=1)\n        S.objects.create(pk=1, r=r)\n\n        models.signals.post_delete.connect(log_post_delete, sender=S)\n\n        try:\n            r.delete()\n        finally:\n            models.signals.post_delete.disconnect(log_post_delete)\n\n        self.assertEqual(len(deletions), 1)\n        self.assertEqual(deletions[0], 1)\n\n    @skipUnlessDBFeature("can_defer_constraint_checks")\n    def test_can_defer_constraint_checks(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # 1 query to find the users for the avatar.\n        # 1 query to delete the user\n        # 1 query to delete the avatar\n        # The important thing is that when we can defer constraint checks there\n        # is no need to do an UPDATE on User.avatar to null it out.\n\n        # Attach a signal to make sure we will not do fast_deletes.\n        calls = []\n\n        def noop(*args, **kwargs):\n            calls.append(\'\')\n        models.signals.post_delete.connect(noop, sender=User)\n\n        self.assertNumQueries(3, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n        self.assertEqual(len(calls), 1)\n        models.signals.post_delete.disconnect(noop, sender=User)\n\n    @skipIfDBFeature("can_defer_constraint_checks")\n    def test_cannot_defer_constraint_checks(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        # Attach a signal to make sure we will not do fast_deletes.\n        calls = []\n\n        def noop(*args, **kwargs):\n            calls.append(\'\')\n        models.signals.post_delete.connect(noop, sender=User)\n\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # The below doesn\'t make sense... Why do we need to null out\n        # user.avatar if we are going to delete the user immediately after it,\n        # and there are no more cascades.\n        # 1 query to find the users for the avatar.\n        # 1 query to delete the user\n        # 1 query to null out user.avatar, because we can\'t defer the constraint\n        # 1 query to delete the avatar\n        self.assertNumQueries(4, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n        self.assertEqual(len(calls), 1)\n        models.signals.post_delete.disconnect(noop, sender=User)\n\n    def test_hidden_related(self):\n        r = R.objects.create()\n        h = HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h)\n\n        r.delete()\n        self.assertEqual(HiddenUserProfile.objects.count(), 0)\n\n    def test_large_delete(self):\n        TEST_SIZE = 2000\n        objs = [Avatar() for i in range(0, TEST_SIZE)]\n        Avatar.objects.bulk_create(objs)\n        # Calculate the number of queries needed.\n        batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\n        # The related fetches are done in batches.\n        batches = ceil(len(objs) / batch_size)\n        # One query for Avatar.objects.all() and then one related fast delete for\n        # each batch.\n        fetches_to_mem = 1 + batches\n        # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\n        queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\n        self.assertNumQueries(queries, Avatar.objects.all().delete)\n        self.assertFalse(Avatar.objects.exists())\n\n    def test_large_delete_related(self):\n        TEST_SIZE = 2000\n        s = S.objects.create(r=R.objects.create())\n        for i in range(TEST_SIZE):\n            T.objects.create(s=s)\n\n        batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\n\n        # TEST_SIZE / batch_size (select related `T` instances)\n        # + 1 (select related `U` instances)\n        # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\n        # + 1 (delete `s`)\n        expected_num_queries = ceil(TEST_SIZE / batch_size)\n        expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\n\n        self.assertNumQueries(expected_num_queries, s.delete)\n        self.assertFalse(S.objects.exists())\n        self.assertFalse(T.objects.exists())\n\n    def test_delete_with_keeping_parents(self):\n        child = RChild.objects.create()\n        parent_id = child.r_ptr_id\n        child.delete(keep_parents=True)\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n\n    def test_delete_with_keeping_parents_relationships(self):\n        child = RChild.objects.create()\n        parent_id = child.r_ptr_id\n        parent_referent_id = S.objects.create(r=child.r_ptr).pk\n        child.delete(keep_parents=True)\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n\n        childchild = RChildChild.objects.create()\n        parent_id = childchild.rchild_ptr.r_ptr_id\n        child_id = childchild.rchild_ptr_id\n        parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\n        childchild.delete(keep_parents=True)\n        self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\n        self.assertTrue(RChild.objects.filter(id=child_id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n\n    def test_queryset_delete_returns_num_rows(self):\n        """\n        QuerySet.delete() should return the number of deleted rows and a\n        dictionary with the number of deletions for each object type.\n        """\n        Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\n        avatars_count = Avatar.objects.count()\n        deleted, rows_count = Avatar.objects.all().delete()\n        self.assertEqual(deleted, avatars_count)\n\n        # more complex example with multiple object types\n        r = R.objects.create()\n        h1 = HiddenUser.objects.create(r=r)\n        HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h1)\n        existed_objs = {\n            R._meta.label: R.objects.count(),\n            HiddenUser._meta.label: HiddenUser.objects.count(),\n            A._meta.label: A.objects.count(),\n            MR._meta.label: MR.objects.count(),\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n        }\n        deleted, deleted_objs = R.objects.all().delete()\n        for k, v in existed_objs.items():\n            self.assertEqual(deleted_objs[k], v)\n\n    def test_model_delete_returns_num_rows(self):\n        """\n        Model.delete() should return the number of deleted rows and a\n        dictionary with the number of deletions for each object type.\n        """\n        r = R.objects.create()\n        h1 = HiddenUser.objects.create(r=r)\n        h2 = HiddenUser.objects.create(r=r)\n        HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h1)\n        HiddenUserProfile.objects.create(user=h2)\n        m1 = M.objects.create()\n        m2 = M.objects.create()\n        MR.objects.create(r=r, m=m1)\n        r.m_set.add(m1)\n        r.m_set.add(m2)\n        r.save()\n        existed_objs = {\n            R._meta.label: R.objects.count(),\n            HiddenUser._meta.label: HiddenUser.objects.count(),\n            A._meta.label: A.objects.count(),\n            MR._meta.label: MR.objects.count(),\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n            M.m2m.through._meta.label: M.m2m.through.objects.count(),\n        }\n        deleted, deleted_objs = r.delete()\n        self.assertEqual(deleted, sum(existed_objs.values()))\n        for k, v in existed_objs.items():\n            self.assertEqual(deleted_objs[k], v)\n\n    def test_proxied_model_duplicate_queries(self):\n        """\n        #25685 - Deleting instances of a model with existing proxy\n        classes should not issue multiple queries during cascade\n        deletion of referring models.\n        """\n        avatar = Avatar.objects.create()\n        # One query for the Avatar table and a second for the User one.\n        with self.assertNumQueries(2):\n            avatar.delete()\n\n    def test_only_referenced_fields_selected(self):\n        """\n        Only referenced fields are selected during cascade deletion SELECT\n        unless deletion signals are connected.\n        """\n        origin = Origin.objects.create()\n        expected_sql = str(\n            Referrer.objects.only(\n                # Both fields are referenced by SecondReferrer.\n                \'id\', \'unique_field\',\n            ).filter(origin__in=[origin]).query\n        )\n        with self.assertNumQueries(2) as ctx:\n            origin.delete()\n        self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\n\n        def receiver(instance, **kwargs):\n            pass\n\n        # All fields are selected if deletion signals are connected.\n        for signal_name in (\'pre_delete\', \'post_delete\'):\n            with self.subTest(signal=signal_name):\n                origin = Origin.objects.create()\n                signal = getattr(models.signals, signal_name)\n                signal.connect(receiver, sender=Referrer)\n                with self.assertNumQueries(2) as ctx:\n                    origin.delete()\n                self.assertIn(\n                    connection.ops.quote_name(\'large_field\'),\n                    ctx.captured_queries[0][\'sql\'],\n                )\n                signal.disconnect(receiver, sender=Referrer)\n\n\nclass FastDeleteTests(TestCase):\n\n    def test_fast_delete_fk(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # 1 query to fast-delete the user\n        # 1 query to delete the avatar\n        self.assertNumQueries(2, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n\n    def test_combined_fast_delete_fk(self):\n        """\n        Fast deletes for multiple CASCADE relations to the same model should be\n        combined into a single query.\n        """\n        origin = Origin.objects.create()\n        ref = Referrer.objects.create(origin=origin, unique_field=1)\n        SecondReferrer.objects.create(referrer=ref, other_referrer=ref)\n        # Two fast delete queries (for SecondReferrer.referrer and\n        # SecondReferrer.other_referrer) should be combined into one.\n        # 1. DELETE FROM SecondReferrer WHERE ... OR ...\n        # 2. DELETE FROM Referrer WHERE ...\n        self.assertNumQueries(2, ref.delete)\n        self.assertFalse(Referrer.objects.filter(pk=ref.pk).exists())\n        self.assertFalse(SecondReferrer.objects.exists())\n\n    def test_fast_delete_m2m(self):\n        t = M2MTo.objects.create()\n        f1 = M2MFrom.objects.create()\n        f1.m2m.add(t)\n        # 1 query to fast-delete the m2m\n        # 1 query to delete the M2MTo\n        self.assertNumQueries(2, t.delete)\n        self.assertFalse(M2MFrom.objects.get(pk=f1.pk).m2m.exists())\n\n    def test_fast_delete_joined_qs(self):\n        a = Avatar.objects.create(desc=\'a\')\n        User.objects.create(avatar=a)\n        u2 = User.objects.create()\n        expected_queries = 1 if connection.features.update_can_self_select else 2\n        self.assertNumQueries(expected_queries,\n                              User.objects.filter(avatar__desc=\'a\').delete)\n        self.assertEqual(User.objects.count(), 1)\n        self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 13520, 'end_index': 13762, 'uri': 'https://huggingface.co/datasets/exploiter345/SWE-bench_Verified_Lite_Annt', 'title': '', 'license_': ''}, {'start_index': 17364, 'end_index': 17795, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 19942, 'end_index': 20373, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 20822, 'end_index': 21242, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 21734, 'end_index': 21999, 'uri': 'https://huggingface.co/datasets/exploiter345/SWE-bench_Verified_Lite_Annt', 'title': '', 'license_': ''}, {'start_index': 23035, 'end_index': 23468, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 24534, 'end_index': 25015, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 27322, 'end_index': 27587, 'uri': 'https://huggingface.co/datasets/exploiter345/SWE-bench_Verified_Lite_Annt', 'title': '', 'license_': ''}, {'start_index': 27917, 'end_index': 28526, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 28377, 'end_index': 28726, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 28566, 'end_index': 29038, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 28917, 'end_index': 29399, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 29253, 'end_index': 29689, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 29629, 'end_index': 30059, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 29923, 'end_index': 30640, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 30516, 'end_index': 30831, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 30667, 'end_index': 32030, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 31878, 'end_index': 32174, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 32175, 'end_index': 32478, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 32508, 'end_index': 33025, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 33036, 'end_index': 33482, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 33316, 'end_index': 33725, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 33548, 'end_index': 34147, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 33966, 'end_index': 34297, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 34250, 'end_index': 34723, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 34577, 'end_index': 35209, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 35061, 'end_index': 35729, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 35596, 'end_index': 36043, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 35893, 'end_index': 36262, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 36225, 'end_index': 36523, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 36373, 'end_index': 38558, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 38403, 'end_index': 39609, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 39599, 'end_index': 40122, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 40135, 'end_index': 42379, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 42233, 'end_index': 42798, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 42639, 'end_index': 43491, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 43312, 'end_index': 43692, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 43695, 'end_index': 44021, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 43861, 'end_index': 45760, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 45703, 'end_index': 46136, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 47220, 'end_index': 47701, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 49054, 'end_index': 49319, 'uri': 'https://huggingface.co/datasets/exploiter345/SWE-bench_Verified_Lite_Annt', 'title': '', 'license_': ''}, {'start_index': 49627, 'end_index': 50236, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 50087, 'end_index': 50436, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 50276, 'end_index': 50748, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 50627, 'end_index': 51109, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 50963, 'end_index': 51399, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 51339, 'end_index': 51769, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 51633, 'end_index': 52350, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 52226, 'end_index': 52541, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 52377, 'end_index': 53740, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 53588, 'end_index': 53884, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 53885, 'end_index': 54188, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 54218, 'end_index': 54735, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 54746, 'end_index': 55192, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 55026, 'end_index': 55435, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 55258, 'end_index': 55857, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 55676, 'end_index': 56007, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 55960, 'end_index': 56433, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 56287, 'end_index': 56919, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 56771, 'end_index': 57439, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 57306, 'end_index': 57753, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 57603, 'end_index': 57972, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 57935, 'end_index': 58233, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 58083, 'end_index': 60268, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 60113, 'end_index': 61319, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 61309, 'end_index': 61832, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 61845, 'end_index': 64089, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 63943, 'end_index': 64508, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 64349, 'end_index': 65201, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 65022, 'end_index': 65402, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 65405, 'end_index': 65731, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 65571, 'end_index': 67470, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 67413, 'end_index': 67846, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 68930, 'end_index': 69411, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 11112, 'candidates_token_count': 6025, 'total_token_count': 31496, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11112}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 6025}], 'thoughts_token_count': 14359, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.20199500372795642, 'model_name': 'gemini-2.5-pro'} id='run--1c8fc42b-590e-4bc4-90eb-b95349c68d58-0' usage_metadata={'input_tokens': 11112, 'output_tokens': 6025, 'total_tokens': 31496, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 14359}}
2025-10-05 04:33:48,389 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "import math\\nfrom math import ceil\\n\\nfrom django.db import IntegrityError, connection, models\\nfrom django.db.models.deletion import Collector\\nfrom django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\\nfrom django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\\n\\nfrom .models import (\\n    MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\\n    M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\\n    User, create_a, get_default_r, SecondReferrer,\\n)\\n\\n\\nclass OnDeleteTests(TestCase):\\n    def setUp(self):\\n        self.DEFAULT = get_default_r()\\n\\n    def test_auto(self):\\n        a = create_a(\'auto\')\\n        a.auto.delete()\\n        self.assertFalse(A.objects.filter(name=\'auto\').exists())\\n\\n    def test_non_callable(self):\\n        msg = \'on_delete must be callable.\'\\n        with self.assertRaisesMessage(TypeError, msg):\\n            models.ForeignKey(\'self\', on_delete=None)\\n        with self.assertRaisesMessage(TypeError, msg):\\n            models.OneToOneField(\'self\', on_delete=None)\\n\\n    def test_auto_nullable(self):\\n        a = create_a(\'auto_nullable\')\\n        a.auto_nullable.delete()\\n        self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\\n\\n    def test_setvalue(self):\\n        a = create_a(\'setvalue\')\\n        a.setvalue.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertEqual(self.DEFAULT, a.setvalue.pk)\\n\\n    def test_setnull(self):\\n        a = create_a(\'setnull\')\\n        a.setnull.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertIsNone(a.setnull)\\n\\n    def test_setdefault(self):\\n        a = create_a(\'setdefault\')\\n        a.setdefault.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertEqual(self.DEFAULT, a.setdefault.pk)\\n\\n    def test_setdefault_none(self):\\n        a = create_a(\'setdefault_none\')\\n        a.setdefault_none.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertIsNone(a.setdefault_none)\\n\\n    def test_cascade(self):\\n        a = create_a(\'cascade\')\\n        a.cascade.delete()\\n        self.assertFalse(A.objects.filter(name=\'cascade\').exists())\\n\\n    def test_cascade_nullable(self):\\n        a = create_a(\'cascade_nullable\')\\n        a.cascade_nullable.delete()\\n        self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\\n\\n    def test_protect(self):\\n        a = create_a(\'protect\')\\n        msg = (\\n            \\"Cannot delete some instances of model \'R\' because they are \\"\\n            \\"referenced through a protected foreign key: \'A.protect\'\\"\\n        )\\n        with self.assertRaisesMessage(IntegrityError, msg):\\n            a.protect.delete()\\n\\n    def test_do_nothing(self):\\n        # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\\n        # so we connect to pre_delete and set the fk to a known value.\\n        replacement_r = R.objects.create()\\n\\n        def check_do_nothing(sender, **kwargs):\\n            obj = kwargs[\'instance\']\\n            obj.donothing_set.update(donothing=replacement_r)\\n        models.signals.pre_delete.connect(check_do_nothing)\\n        a = create_a(\'do_nothing\')\\n        a.donothing.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertEqual(replacement_r, a.donothing)\\n        models.signals.pre_delete.disconnect(check_do_nothing)\\n\\n    def test_do_nothing_qscount(self):\\n        \\"\\"\\"\\n        A models.DO_NOTHING relation doesn\'t trigger a query.\\n        \\"\\"\\"\\n        b = Base.objects.create()\\n        with self.assertNumQueries(1):\\n            # RelToBase should not be queried.\\n            b.delete()\\n        self.assertEqual(Base.objects.count(), 0)\\n\\n    def test_inheritance_cascade_up(self):\\n        child = RChild.objects.create()\\n        child.delete()\\n        self.assertFalse(R.objects.filter(pk=child.pk).exists())\\n\\n    def test_inheritance_cascade_down(self):\\n        child = RChild.objects.create()\\n        parent = child.r_ptr\\n        parent.delete()\\n        self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\\n\\n    def test_cascade_from_child(self):\\n        a = create_a(\'child\')\\n        a.child.delete()\\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\\n        self.assertFalse(R.objects.filter(pk=a.child_id).exists())\\n\\n    def test_cascade_from_parent(self):\\n        a = create_a(\'child\')\\n        R.objects.get(pk=a.child_id).delete()\\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\\n        self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\\n\\n    def test_setnull_from_child(self):\\n        a = create_a(\'child_setnull\')\\n        a.child_setnull.delete()\\n        self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\\n\\n        a = A.objects.get(pk=a.pk)\\n        self.assertIsNone(a.child_setnull)\\n\\n    def test_setnull_from_parent(self):\\n        a = create_a(\'child_setnull\')\\n        R.objects.get(pk=a.child_setnull_id).delete()\\n        self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\\n\\n        a = A.objects.get(pk=a.pk)\\n        self.assertIsNone(a.child_setnull)\\n\\n    def test_o2o_setnull(self):\\n        a = create_a(\'o2o_setnull\')\\n        a.o2o_setnull.delete()\\n        a = A.objects.get(pk=a.pk)\\n        self.assertIsNone(a.o2o_setnull)\\n\\n\\nclass DeletionTests(TestCase):\\n\\n    def test_m2m(self):\\n        m = M.objects.create()\\n        r = R.objects.create()\\n        MR.objects.create(m=m, r=r)\\n        r.delete()\\n        self.assertFalse(MR.objects.exists())\\n\\n        r = R.objects.create()\\n        MR.objects.create(m=m, r=r)\\n        m.delete()\\n        self.assertFalse(MR.objects.exists())\\n\\n        m = M.objects.create()\\n        r = R.objects.create()\\n        m.m2m.add(r)\\n        r.delete()\\n        through = M._meta.get_field(\'m2m\').remote_field.through\\n        self.assertFalse(through.objects.exists())\\n\\n        r = R.objects.create()\\n        m.m2m.add(r)\\n        m.delete()\\n        self.assertFalse(through.objects.exists())\\n\\n        m = M.objects.create()\\n        r = R.objects.create()\\n        MRNull.objects.create(m=m, r=r)\\n        r.delete()\\n        self.assertFalse(not MRNull.objects.exists())\\n        self.assertFalse(m.m2m_through_null.exists())\\n\\n    def test_bulk(self):\\n        s = S.objects.create(r=R.objects.create())\\n        for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\\n            T.objects.create(s=s)\\n        #   1 (select related `T` instances)\\n        # + 1 (select related `U` instances)\\n        # + 2 (delete `T` instances in batches)\\n        # + 1 (delete `s`)\\n        self.assertNumQueries(5, s.delete)\\n        self.assertFalse(S.objects.exists())\\n\\n    def test_instance_update(self):\\n        deleted = []\\n        related_setnull_sets = []\\n\\n        def pre_delete(sender, **kwargs):\\n            obj = kwargs[\'instance\']\\n            deleted.append(obj)\\n            if isinstance(obj, R):\\n                related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\\n\\n        models.signals.pre_delete.connect(pre_delete)\\n        a = create_a(\'update_setnull\')\\n        a.setnull.delete()\\n\\n        a = create_a(\'update_cascade\')\\n        a.cascade.delete()\\n\\n        for obj in deleted:\\n            self.assertIsNone(obj.pk)\\n\\n        for pk_list in related_setnull_sets:\\n            for a in A.objects.filter(id__in=pk_list):\\n                self.assertIsNone(a.setnull)\\n\\n        models.signals.pre_delete.disconnect(pre_delete)\\n\\n    def test_deletion_order(self):\\n        pre_delete_order = []\\n        post_delete_order = []\\n\\n        def log_post_delete(sender, **kwargs):\\n            pre_delete_order.append((sender, kwargs[\'instance\'].pk))\\n\\n        def log_pre_delete(sender, **kwargs):\\n            post_delete_order.append((sender, kwargs[\'instance\'].pk))\\n\\n        models.signals.post_delete.connect(log_post_delete)\\n        models.signals.pre_delete.connect(log_pre_delete)\\n\\n        r = R.objects.create(pk=1)\\n        s1 = S.objects.create(pk=1, r=r)\\n        s2 = S.objects.create(pk=2, r=r)\\n        T.objects.create(pk=1, s=s1)\\n        T.objects.create(pk=2, s=s2)\\n        RChild.objects.create(r_ptr=r)\\n        r.delete()\\n        self.assertEqual(\\n            pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\\n        )\\n        self.assertEqual(\\n            post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\\n        )\\n\\n        models.signals.post_delete.disconnect(log_post_delete)\\n        models.signals.pre_delete.disconnect(log_pre_delete)\\n\\n    def test_relational_post_delete_signals_happen_before_parent_object(self):\\n        deletions = []\\n\\n        def log_post_delete(instance, **kwargs):\\n            self.assertTrue(R.objects.filter(pk=instance.r_id))\\n            self.assertIs(type(instance), S)\\n            deletions.append(instance.id)\\n\\n        r = R.objects.create(pk=1)\\n        S.objects.create(pk=1, r=r)\\n\\n        models.signals.post_delete.connect(log_post_delete, sender=S)\\n\\n        try:\\n            r.delete()\\n        finally:\\n            models.signals.post_delete.disconnect(log_post_delete)\\n\\n        self.assertEqual(len(deletions), 1)\\n        self.assertEqual(deletions[0], 1)\\n\\n    @skipUnlessDBFeature(\\"can_defer_constraint_checks\\")\\n    def test_can_defer_constraint_checks(self):\\n        u = User.objects.create(\\n            avatar=Avatar.objects.create()\\n        )\\n        a = Avatar.objects.get(pk=u.avatar_id)\\n        # 1 query to find the users for the avatar.\\n        # 1 query to delete the user\\n        # 1 query to delete the avatar\\n        # The important thing is that when we can defer constraint checks there\\n        # is no need to do an UPDATE on User.avatar to null it out.\\n\\n        # Attach a signal to make sure we will not do fast_deletes.\\n        calls = []\\n\\n        def noop(*args, **kwargs):\\n            calls.append(\'\')\\n        models.signals.post_delete.connect(noop, sender=User)\\n\\n        self.assertNumQueries(3, a.delete)\\n        self.assertFalse(User.objects.exists())\\n        self.assertFalse(Avatar.objects.exists())\\n        self.assertEqual(len(calls), 1)\\n        models.signals.post_delete.disconnect(noop, sender=User)\\n\\n    @skipIfDBFeature(\\"can_defer_constraint_checks\\")\\n    def test_cannot_defer_constraint_checks(self):\\n        u = User.objects.create(\\n            avatar=Avatar.objects.create()\\n        )\\n        # Attach a signal to make sure we will not do fast_deletes.\\n        calls = []\\n\\n        def noop(*args, **kwargs):\\n            calls.append(\'\')\\n        models.signals.post_delete.connect(noop, sender=User)\\n\\n        a = Avatar.objects.get(pk=u.avatar_id)\\n        # The below doesn\'t make sense... Why do we need to null out\\n        # user.avatar if we are going to delete the user immediately after it,\\n        # and there are no more cascades.\\n        # 1 query to find the users for the avatar.\\n        # 1 query to delete the user\\n        # 1 query to null out user.avatar, because we can\'t defer the constraint\\n        # 1 query to delete the avatar\\n        self.assertNumQueries(4, a.delete)\\n        self.assertFalse(User.objects.exists())\\n        self.assertFalse(Avatar.objects.exists())\\n        self.assertEqual(len(calls), 1)\\n        models.signals.post_delete.disconnect(noop, sender=User)\\n\\n    def test_hidden_related(self):\\n        r = R.objects.create()\\n        h = HiddenUser.objects.create(r=r)\\n        HiddenUserProfile.objects.create(user=h)\\n\\n        r.delete()\\n        self.assertEqual(HiddenUserProfile.objects.count(), 0)\\n\\n    def test_large_delete(self):\\n        TEST_SIZE = 2000\\n        objs = [Avatar() for i in range(0, TEST_SIZE)]\\n        Avatar.objects.bulk_create(objs)\\n        # Calculate the number of queries needed.\\n        batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\\n        # The related fetches are done in batches.\\n        batches = ceil(len(objs) / batch_size)\\n        # One query for Avatar.objects.all() and then one related fast delete for\\n        # each batch.\\n        fetches_to_mem = 1 + batches\\n        # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\\n        queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\\n        self.assertNumQueries(queries, Avatar.objects.all().delete)\\n        self.assertFalse(Avatar.objects.exists())\\n\\n    def test_large_delete_related(self):\\n        TEST_SIZE = 2000\\n        s = S.objects.create(r=R.objects.create())\\n        for i in range(TEST_SIZE):\\n            T.objects.create(s=s)\\n\\n        batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\\n\\n        # TEST_SIZE / batch_size (select related `T` instances)\\n        # + 1 (select related `U` instances)\\n        # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\\n        # + 1 (delete `s`)\\n        expected_num_queries = ceil(TEST_SIZE / batch_size)\\n        expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\\n\\n        self.assertNumQueries(expected_num_queries, s.delete)\\n        self.assertFalse(S.objects.exists())\\n        self.assertFalse(T.objects.exists())\\n\\n    def test_delete_with_keeping_parents(self):\\n        child = RChild.objects.create()\\n        parent_id = child.r_ptr_id\\n        child.delete(keep_parents=True)\\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\\n\\n    def test_delete_with_keeping_parents_relationships(self):\\n        child = RChild.objects.create()\\n        parent_id = child.r_ptr_id\\n        parent_referent_id = S.objects.create(r=child.r_ptr).pk\\n        child.delete(keep_parents=True)\\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\\n\\n        childchild = RChildChild.objects.create()\\n        parent_id = childchild.rchild_ptr.r_ptr_id\\n        child_id = childchild.rchild_ptr_id\\n        parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\\n        childchild.delete(keep_parents=True)\\n        self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\\n        self.assertTrue(RChild.objects.filter(id=child_id).exists())\\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\\n\\n    def test_queryset_delete_returns_num_rows(self):\\n        \\"\\"\\"\\n        QuerySet.delete() should return the number of deleted rows and a\\n        dictionary with the number of deletions for each object type.\\n        \\"\\"\\"\\n        Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\\n        avatars_count = Avatar.objects.count()\\n        deleted, rows_count = Avatar.objects.all().delete()\\n        self.assertEqual(deleted, avatars_count)\\n\\n        # more complex example with multiple object types\\n        r = R.objects.create()\\n        h1 = HiddenUser.objects.create(r=r)\\n        HiddenUser.objects.create(r=r)\\n        HiddenUserProfile.objects.create(user=h1)\\n        existed_objs = {\\n            R._meta.label: R.objects.count(),\\n            HiddenUser._meta.label: HiddenUser.objects.count(),\\n            A._meta.label: A.objects.count(),\\n            MR._meta.label: MR.objects.count(),\\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\\n        }\\n        deleted, deleted_objs = R.objects.all().delete()\\n        for k, v in existed_objs.items():\\n            self.assertEqual(deleted_objs[k], v)\\n\\n    def test_model_delete_returns_num_rows(self):\\n        \\"\\"\\"\\n        Model.delete() should return the number of deleted rows and a\\n        dictionary with the number of deletions for each object type.\\n        \\"\\"\\"\\n        r = R.objects.create()\\n        h1 = HiddenUser.objects.create(r=r)\\n        h2 = HiddenUser.objects.create(r=r)\\n        HiddenUser.objects.create(r=r)\\n        HiddenUserProfile.objects.create(user=h1)\\n        HiddenUserProfile.objects.create(user=h2)\\n        m1 = M.objects.create()\\n        m2 = M.objects.create()\\n        MR.objects.create(r=r, m=m1)\\n        r.m_set.add(m1)\\n        r.m_set.add(m2)\\n        r.save()\\n        existed_objs = {\\n            R._meta.label: R.objects.count(),\\n            HiddenUser._meta.label: HiddenUser.objects.count(),\\n            A._meta.label: A.objects.count(),\\n            MR._meta.label: MR.objects.count(),\\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\\n            M.m2m.through._meta.label: M.m2m.through.objects.count(),\\n        }\\n        deleted, deleted_objs = r.delete()\\n        self.assertEqual(deleted, sum(existed_objs.values()))\\n        for k, v in existed_objs.items():\\n            self.assertEqual(deleted_objs[k], v)\\n\\n    def test_proxied_model_duplicate_queries(self):\\n        \\"\\"\\"\\n        #25685 - Deleting instances of a model with existing proxy\\n        classes should not issue multiple queries during cascade\\n        deletion of referring models.\\n        \\"\\"\\"\\n        avatar = Avatar.objects.create()\\n        # One query for the Avatar table and a second for the User one.\\n        with self.assertNumQueries(2):\\n            avatar.delete()\\n\\n    def test_only_referenced_fields_selected(self):\\n        \\"\\"\\"\\n        Only referenced fields are selected during cascade deletion SELECT\\n        unless deletion signals are connected.\\n        \\"\\"\\"\\n        origin = Origin.objects.create()\\n        expected_sql = str(\\n            Referrer.objects.only(\\n                # Both fields are referenced by SecondReferrer.\\n                \'id\', \'unique_field\',\\n            ).filter(origin__in=[origin]).query\\n        )\\n        with self.assertNumQueries(2) as ctx:\\n            origin.delete()\\n        self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\\n\\n        def receiver(instance, **kwargs):\\n            pass\\n\\n        # All fields are selected if deletion signals are connected.\\n        for signal_name in (\'pre_delete\', \'post_delete\'):\\n            with self.subTest(signal=signal_name):\\n                origin = Origin.objects.create()\\n                signal = getattr(models.signals, signal_name)\\n                signal.connect(receiver, sender=Referrer)\\n                with self.assertNumQueries(2) as ctx:\\n                    origin.delete()\\n                self.assertIn(\\n                    connection.ops.quote_name(\'large_field\'),\\n                    ctx.captured_queries[0][\'sql\'],\\n                )\\n                signal.disconnect(receiver, sender=Referrer)\\n\\n\\nclass FastDeleteTests(TestCase):\\n\\n    def test_fast_delete_fk(self):\\n        u = User.objects.create(\\n            avatar=Avatar.objects.create()\\n        )\\n        a = Avatar.objects.get(pk=u.avatar_id)\\n        # 1 query to fast-delete the user\\n        # 1 query to delete the avatar\\n        self.assertNumQueries(2, a.delete)\\n        self.assertFalse(User.objects.exists())\\n        self.assertFalse(Avatar.objects.exists())\\n\\n    def test_combined_fast_delete_fk(self):\\n        \\"\\"\\"\\n        Fast deletes for multiple CASCADE relations to the same model should be\\n        combined into a single query.\\n        \\"\\"\\"\\n        origin = Origin.objects.create()\\n        ref = Referrer.objects.create(origin=origin, unique_field=1)\\n        SecondReferrer.objects.create(referrer=ref, other_referrer=ref)\\n        # Two fast delete queries (for SecondReferrer.referrer and\\n        # SecondReferrer.other_referrer) should be combined into one.\\n        # 1. DELETE FROM SecondReferrer WHERE ... OR ...\\n        # 2. DELETE FROM Referrer WHERE ...\\n        self.assertNumQueries(2, ref.delete)\\n        self.assertFalse(Referrer.objects.filter(pk=ref.pk).exists())\\n        self.assertFalse(SecondReferrer.objects.exists())\\n\\n    def test_fast_delete_m2m(self):\\n        t = M2MTo.objects.create()\\n        f1 = M2MFrom.objects.create()\\n        f1.m2m.add(t)\\n        # 1 query to fast-delete the m2m\\n        # 1 query to delete the M2MTo\\n        self.assertNumQueries(2, t.delete)\\n        self.assertFalse(M2MFrom.objects.get(pk=f1.pk).m2m.exists())\\n\\n    def test_fast_delete_joined_qs(self):\\n        a = Avatar.objects.create(desc=\'a\')\\n        User.objects.create(avatar=a)\\n        u2 = User.objects.create()\\n        expected_queries = 1 if connection.features.update_can_self_select else 2\\n        self.assertNumQueries(expected_queries,\\n                              User.objects.filter(avatar__desc=\'a\').delete)\\n        self.assertEqual(User.objects.count(), 1)\\n        self.assertTrue(User.objects.filter(pk=u2.pk).exists())\\n", "relative_path": "tests/delete/test_on_delete.py"}'}, '__gemini_function_call_thought_signatures__': {'c6fcb357-5ac3-4a7a-aad1-b8ffab850e52': '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'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 4877, 'end_index': 5142, 'uri': 'https://huggingface.co/datasets/exploiter345/SWE-bench_Verified_Lite_Annt', 'title': '', 'license_': ''}, {'start_index': 5450, 'end_index': 6059, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 5910, 'end_index': 6259, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 6099, 'end_index': 6571, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 6450, 'end_index': 6932, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 6786, 'end_index': 7222, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 7162, 'end_index': 7592, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 7456, 'end_index': 8173, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 8049, 'end_index': 8364, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 8200, 'end_index': 9563, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 9411, 'end_index': 9707, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 9708, 'end_index': 10011, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 10041, 'end_index': 10558, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 10569, 'end_index': 11015, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 10849, 'end_index': 11258, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 11081, 'end_index': 11680, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 11499, 'end_index': 11830, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 11783, 'end_index': 12256, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 12110, 'end_index': 12742, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 12594, 'end_index': 13262, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 13129, 'end_index': 13576, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 13426, 'end_index': 13795, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 13758, 'end_index': 14056, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 13906, 'end_index': 16091, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 15936, 'end_index': 17142, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 17132, 'end_index': 17655, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 17668, 'end_index': 19912, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 19766, 'end_index': 20331, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 20172, 'end_index': 21024, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 20845, 'end_index': 21225, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 21228, 'end_index': 21554, 'uri': 'https://github.com/zc-andy/DbMgrSystem', 'title': '', 'license_': ''}, {'start_index': 21394, 'end_index': 23293, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 23236, 'end_index': 23669, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}, {'start_index': 24753, 'end_index': 25234, 'uri': 'https://github.com/AppScale/gts', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 58516, 'candidates_token_count': 6039, 'total_token_count': 65865, 'prompt_tokens_details': [{'modality': 1, 'token_count': 58516}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 6039}], 'thoughts_token_count': 1310, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.04166391508175376, 'model_name': 'gemini-2.5-pro'} id='run--7a0a030a-26c8-465b-a33b-c3440342aeae-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'import math\nfrom math import ceil\n\nfrom django.db import IntegrityError, connection, models\nfrom django.db.models.deletion import Collector\nfrom django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE\nfrom django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n\nfrom .models import (\n    MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,\n    M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,\n    User, create_a, get_default_r, SecondReferrer,\n)\n\n\nclass OnDeleteTests(TestCase):\n    def setUp(self):\n        self.DEFAULT = get_default_r()\n\n    def test_auto(self):\n        a = create_a(\'auto\')\n        a.auto.delete()\n        self.assertFalse(A.objects.filter(name=\'auto\').exists())\n\n    def test_non_callable(self):\n        msg = \'on_delete must be callable.\'\n        with self.assertRaisesMessage(TypeError, msg):\n            models.ForeignKey(\'self\', on_delete=None)\n        with self.assertRaisesMessage(TypeError, msg):\n            models.OneToOneField(\'self\', on_delete=None)\n\n    def test_auto_nullable(self):\n        a = create_a(\'auto_nullable\')\n        a.auto_nullable.delete()\n        self.assertFalse(A.objects.filter(name=\'auto_nullable\').exists())\n\n    def test_setvalue(self):\n        a = create_a(\'setvalue\')\n        a.setvalue.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(self.DEFAULT, a.setvalue.pk)\n\n    def test_setnull(self):\n        a = create_a(\'setnull\')\n        a.setnull.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.setnull)\n\n    def test_setdefault(self):\n        a = create_a(\'setdefault\')\n        a.setdefault.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(self.DEFAULT, a.setdefault.pk)\n\n    def test_setdefault_none(self):\n        a = create_a(\'setdefault_none\')\n        a.setdefault_none.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.setdefault_none)\n\n    def test_cascade(self):\n        a = create_a(\'cascade\')\n        a.cascade.delete()\n        self.assertFalse(A.objects.filter(name=\'cascade\').exists())\n\n    def test_cascade_nullable(self):\n        a = create_a(\'cascade_nullable\')\n        a.cascade_nullable.delete()\n        self.assertFalse(A.objects.filter(name=\'cascade_nullable\').exists())\n\n    def test_protect(self):\n        a = create_a(\'protect\')\n        msg = (\n            "Cannot delete some instances of model \'R\' because they are "\n            "referenced through a protected foreign key: \'A.protect\'"\n        )\n        with self.assertRaisesMessage(IntegrityError, msg):\n            a.protect.delete()\n\n    def test_do_nothing(self):\n        # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,\n        # so we connect to pre_delete and set the fk to a known value.\n        replacement_r = R.objects.create()\n\n        def check_do_nothing(sender, **kwargs):\n            obj = kwargs[\'instance\']\n            obj.donothing_set.update(donothing=replacement_r)\n        models.signals.pre_delete.connect(check_do_nothing)\n        a = create_a(\'do_nothing\')\n        a.donothing.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertEqual(replacement_r, a.donothing)\n        models.signals.pre_delete.disconnect(check_do_nothing)\n\n    def test_do_nothing_qscount(self):\n        """\n        A models.DO_NOTHING relation doesn\'t trigger a query.\n        """\n        b = Base.objects.create()\n        with self.assertNumQueries(1):\n            # RelToBase should not be queried.\n            b.delete()\n        self.assertEqual(Base.objects.count(), 0)\n\n    def test_inheritance_cascade_up(self):\n        child = RChild.objects.create()\n        child.delete()\n        self.assertFalse(R.objects.filter(pk=child.pk).exists())\n\n    def test_inheritance_cascade_down(self):\n        child = RChild.objects.create()\n        parent = child.r_ptr\n        parent.delete()\n        self.assertFalse(RChild.objects.filter(pk=child.pk).exists())\n\n    def test_cascade_from_child(self):\n        a = create_a(\'child\')\n        a.child.delete()\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\n        self.assertFalse(R.objects.filter(pk=a.child_id).exists())\n\n    def test_cascade_from_parent(self):\n        a = create_a(\'child\')\n        R.objects.get(pk=a.child_id).delete()\n        self.assertFalse(A.objects.filter(name=\'child\').exists())\n        self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())\n\n    def test_setnull_from_child(self):\n        a = create_a(\'child_setnull\')\n        a.child_setnull.delete()\n        self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())\n\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.child_setnull)\n\n    def test_setnull_from_parent(self):\n        a = create_a(\'child_setnull\')\n        R.objects.get(pk=a.child_setnull_id).delete()\n        self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())\n\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.child_setnull)\n\n    def test_o2o_setnull(self):\n        a = create_a(\'o2o_setnull\')\n        a.o2o_setnull.delete()\n        a = A.objects.get(pk=a.pk)\n        self.assertIsNone(a.o2o_setnull)\n\n\nclass DeletionTests(TestCase):\n\n    def test_m2m(self):\n        m = M.objects.create()\n        r = R.objects.create()\n        MR.objects.create(m=m, r=r)\n        r.delete()\n        self.assertFalse(MR.objects.exists())\n\n        r = R.objects.create()\n        MR.objects.create(m=m, r=r)\n        m.delete()\n        self.assertFalse(MR.objects.exists())\n\n        m = M.objects.create()\n        r = R.objects.create()\n        m.m2m.add(r)\n        r.delete()\n        through = M._meta.get_field(\'m2m\').remote_field.through\n        self.assertFalse(through.objects.exists())\n\n        r = R.objects.create()\n        m.m2m.add(r)\n        m.delete()\n        self.assertFalse(through.objects.exists())\n\n        m = M.objects.create()\n        r = R.objects.create()\n        MRNull.objects.create(m=m, r=r)\n        r.delete()\n        self.assertFalse(not MRNull.objects.exists())\n        self.assertFalse(m.m2m_through_null.exists())\n\n    def test_bulk(self):\n        s = S.objects.create(r=R.objects.create())\n        for i in range(2 * GET_ITERATOR_CHUNK_SIZE):\n            T.objects.create(s=s)\n        #   1 (select related `T` instances)\n        # + 1 (select related `U` instances)\n        # + 2 (delete `T` instances in batches)\n        # + 1 (delete `s`)\n        self.assertNumQueries(5, s.delete)\n        self.assertFalse(S.objects.exists())\n\n    def test_instance_update(self):\n        deleted = []\n        related_setnull_sets = []\n\n        def pre_delete(sender, **kwargs):\n            obj = kwargs[\'instance\']\n            deleted.append(obj)\n            if isinstance(obj, R):\n                related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])\n\n        models.signals.pre_delete.connect(pre_delete)\n        a = create_a(\'update_setnull\')\n        a.setnull.delete()\n\n        a = create_a(\'update_cascade\')\n        a.cascade.delete()\n\n        for obj in deleted:\n            self.assertIsNone(obj.pk)\n\n        for pk_list in related_setnull_sets:\n            for a in A.objects.filter(id__in=pk_list):\n                self.assertIsNone(a.setnull)\n\n        models.signals.pre_delete.disconnect(pre_delete)\n\n    def test_deletion_order(self):\n        pre_delete_order = []\n        post_delete_order = []\n\n        def log_post_delete(sender, **kwargs):\n            pre_delete_order.append((sender, kwargs[\'instance\'].pk))\n\n        def log_pre_delete(sender, **kwargs):\n            post_delete_order.append((sender, kwargs[\'instance\'].pk))\n\n        models.signals.post_delete.connect(log_post_delete)\n        models.signals.pre_delete.connect(log_pre_delete)\n\n        r = R.objects.create(pk=1)\n        s1 = S.objects.create(pk=1, r=r)\n        s2 = S.objects.create(pk=2, r=r)\n        T.objects.create(pk=1, s=s1)\n        T.objects.create(pk=2, s=s2)\n        RChild.objects.create(r_ptr=r)\n        r.delete()\n        self.assertEqual(\n            pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]\n        )\n        self.assertEqual(\n            post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]\n        )\n\n        models.signals.post_delete.disconnect(log_post_delete)\n        models.signals.pre_delete.disconnect(log_pre_delete)\n\n    def test_relational_post_delete_signals_happen_before_parent_object(self):\n        deletions = []\n\n        def log_post_delete(instance, **kwargs):\n            self.assertTrue(R.objects.filter(pk=instance.r_id))\n            self.assertIs(type(instance), S)\n            deletions.append(instance.id)\n\n        r = R.objects.create(pk=1)\n        S.objects.create(pk=1, r=r)\n\n        models.signals.post_delete.connect(log_post_delete, sender=S)\n\n        try:\n            r.delete()\n        finally:\n            models.signals.post_delete.disconnect(log_post_delete)\n\n        self.assertEqual(len(deletions), 1)\n        self.assertEqual(deletions[0], 1)\n\n    @skipUnlessDBFeature("can_defer_constraint_checks")\n    def test_can_defer_constraint_checks(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # 1 query to find the users for the avatar.\n        # 1 query to delete the user\n        # 1 query to delete the avatar\n        # The important thing is that when we can defer constraint checks there\n        # is no need to do an UPDATE on User.avatar to null it out.\n\n        # Attach a signal to make sure we will not do fast_deletes.\n        calls = []\n\n        def noop(*args, **kwargs):\n            calls.append(\'\')\n        models.signals.post_delete.connect(noop, sender=User)\n\n        self.assertNumQueries(3, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n        self.assertEqual(len(calls), 1)\n        models.signals.post_delete.disconnect(noop, sender=User)\n\n    @skipIfDBFeature("can_defer_constraint_checks")\n    def test_cannot_defer_constraint_checks(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        # Attach a signal to make sure we will not do fast_deletes.\n        calls = []\n\n        def noop(*args, **kwargs):\n            calls.append(\'\')\n        models.signals.post_delete.connect(noop, sender=User)\n\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # The below doesn\'t make sense... Why do we need to null out\n        # user.avatar if we are going to delete the user immediately after it,\n        # and there are no more cascades.\n        # 1 query to find the users for the avatar.\n        # 1 query to delete the user\n        # 1 query to null out user.avatar, because we can\'t defer the constraint\n        # 1 query to delete the avatar\n        self.assertNumQueries(4, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n        self.assertEqual(len(calls), 1)\n        models.signals.post_delete.disconnect(noop, sender=User)\n\n    def test_hidden_related(self):\n        r = R.objects.create()\n        h = HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h)\n\n        r.delete()\n        self.assertEqual(HiddenUserProfile.objects.count(), 0)\n\n    def test_large_delete(self):\n        TEST_SIZE = 2000\n        objs = [Avatar() for i in range(0, TEST_SIZE)]\n        Avatar.objects.bulk_create(objs)\n        # Calculate the number of queries needed.\n        batch_size = connection.ops.bulk_batch_size([\'pk\'], objs)\n        # The related fetches are done in batches.\n        batches = ceil(len(objs) / batch_size)\n        # One query for Avatar.objects.all() and then one related fast delete for\n        # each batch.\n        fetches_to_mem = 1 + batches\n        # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE\n        queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE\n        self.assertNumQueries(queries, Avatar.objects.all().delete)\n        self.assertFalse(Avatar.objects.exists())\n\n    def test_large_delete_related(self):\n        TEST_SIZE = 2000\n        s = S.objects.create(r=R.objects.create())\n        for i in range(TEST_SIZE):\n            T.objects.create(s=s)\n\n        batch_size = max(connection.ops.bulk_batch_size([\'pk\'], range(TEST_SIZE)), 1)\n\n        # TEST_SIZE / batch_size (select related `T` instances)\n        # + 1 (select related `U` instances)\n        # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)\n        # + 1 (delete `s`)\n        expected_num_queries = ceil(TEST_SIZE / batch_size)\n        expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2\n\n        self.assertNumQueries(expected_num_queries, s.delete)\n        self.assertFalse(S.objects.exists())\n        self.assertFalse(T.objects.exists())\n\n    def test_delete_with_keeping_parents(self):\n        child = RChild.objects.create()\n        parent_id = child.r_ptr_id\n        child.delete(keep_parents=True)\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n\n    def test_delete_with_keeping_parents_relationships(self):\n        child = RChild.objects.create()\n        parent_id = child.r_ptr_id\n        parent_referent_id = S.objects.create(r=child.r_ptr).pk\n        child.delete(keep_parents=True)\n        self.assertFalse(RChild.objects.filter(id=child.id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n\n        childchild = RChildChild.objects.create()\n        parent_id = childchild.rchild_ptr.r_ptr_id\n        child_id = childchild.rchild_ptr_id\n        parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk\n        childchild.delete(keep_parents=True)\n        self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())\n        self.assertTrue(RChild.objects.filter(id=child_id).exists())\n        self.assertTrue(R.objects.filter(id=parent_id).exists())\n        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())\n\n    def test_queryset_delete_returns_num_rows(self):\n        """\n        QuerySet.delete() should return the number of deleted rows and a\n        dictionary with the number of deletions for each object type.\n        """\n        Avatar.objects.bulk_create([Avatar(desc=\'a\'), Avatar(desc=\'b\'), Avatar(desc=\'c\')])\n        avatars_count = Avatar.objects.count()\n        deleted, rows_count = Avatar.objects.all().delete()\n        self.assertEqual(deleted, avatars_count)\n\n        # more complex example with multiple object types\n        r = R.objects.create()\n        h1 = HiddenUser.objects.create(r=r)\n        HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h1)\n        existed_objs = {\n            R._meta.label: R.objects.count(),\n            HiddenUser._meta.label: HiddenUser.objects.count(),\n            A._meta.label: A.objects.count(),\n            MR._meta.label: MR.objects.count(),\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n        }\n        deleted, deleted_objs = R.objects.all().delete()\n        for k, v in existed_objs.items():\n            self.assertEqual(deleted_objs[k], v)\n\n    def test_model_delete_returns_num_rows(self):\n        """\n        Model.delete() should return the number of deleted rows and a\n        dictionary with the number of deletions for each object type.\n        """\n        r = R.objects.create()\n        h1 = HiddenUser.objects.create(r=r)\n        h2 = HiddenUser.objects.create(r=r)\n        HiddenUser.objects.create(r=r)\n        HiddenUserProfile.objects.create(user=h1)\n        HiddenUserProfile.objects.create(user=h2)\n        m1 = M.objects.create()\n        m2 = M.objects.create()\n        MR.objects.create(r=r, m=m1)\n        r.m_set.add(m1)\n        r.m_set.add(m2)\n        r.save()\n        existed_objs = {\n            R._meta.label: R.objects.count(),\n            HiddenUser._meta.label: HiddenUser.objects.count(),\n            A._meta.label: A.objects.count(),\n            MR._meta.label: MR.objects.count(),\n            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),\n            M.m2m.through._meta.label: M.m2m.through.objects.count(),\n        }\n        deleted, deleted_objs = r.delete()\n        self.assertEqual(deleted, sum(existed_objs.values()))\n        for k, v in existed_objs.items():\n            self.assertEqual(deleted_objs[k], v)\n\n    def test_proxied_model_duplicate_queries(self):\n        """\n        #25685 - Deleting instances of a model with existing proxy\n        classes should not issue multiple queries during cascade\n        deletion of referring models.\n        """\n        avatar = Avatar.objects.create()\n        # One query for the Avatar table and a second for the User one.\n        with self.assertNumQueries(2):\n            avatar.delete()\n\n    def test_only_referenced_fields_selected(self):\n        """\n        Only referenced fields are selected during cascade deletion SELECT\n        unless deletion signals are connected.\n        """\n        origin = Origin.objects.create()\n        expected_sql = str(\n            Referrer.objects.only(\n                # Both fields are referenced by SecondReferrer.\n                \'id\', \'unique_field\',\n            ).filter(origin__in=[origin]).query\n        )\n        with self.assertNumQueries(2) as ctx:\n            origin.delete()\n        self.assertEqual(ctx.captured_queries[0][\'sql\'], expected_sql)\n\n        def receiver(instance, **kwargs):\n            pass\n\n        # All fields are selected if deletion signals are connected.\n        for signal_name in (\'pre_delete\', \'post_delete\'):\n            with self.subTest(signal=signal_name):\n                origin = Origin.objects.create()\n                signal = getattr(models.signals, signal_name)\n                signal.connect(receiver, sender=Referrer)\n                with self.assertNumQueries(2) as ctx:\n                    origin.delete()\n                self.assertIn(\n                    connection.ops.quote_name(\'large_field\'),\n                    ctx.captured_queries[0][\'sql\'],\n                )\n                signal.disconnect(receiver, sender=Referrer)\n\n\nclass FastDeleteTests(TestCase):\n\n    def test_fast_delete_fk(self):\n        u = User.objects.create(\n            avatar=Avatar.objects.create()\n        )\n        a = Avatar.objects.get(pk=u.avatar_id)\n        # 1 query to fast-delete the user\n        # 1 query to delete the avatar\n        self.assertNumQueries(2, a.delete)\n        self.assertFalse(User.objects.exists())\n        self.assertFalse(Avatar.objects.exists())\n\n    def test_combined_fast_delete_fk(self):\n        """\n        Fast deletes for multiple CASCADE relations to the same model should be\n        combined into a single query.\n        """\n        origin = Origin.objects.create()\n        ref = Referrer.objects.create(origin=origin, unique_field=1)\n        SecondReferrer.objects.create(referrer=ref, other_referrer=ref)\n        # Two fast delete queries (for SecondReferrer.referrer and\n        # SecondReferrer.other_referrer) should be combined into one.\n        # 1. DELETE FROM SecondReferrer WHERE ... OR ...\n        # 2. DELETE FROM Referrer WHERE ...\n        self.assertNumQueries(2, ref.delete)\n        self.assertFalse(Referrer.objects.filter(pk=ref.pk).exists())\n        self.assertFalse(SecondReferrer.objects.exists())\n\n    def test_fast_delete_m2m(self):\n        t = M2MTo.objects.create()\n        f1 = M2MFrom.objects.create()\n        f1.m2m.add(t)\n        # 1 query to fast-delete the m2m\n        # 1 query to delete the M2MTo\n        self.assertNumQueries(2, t.delete)\n        self.assertFalse(M2MFrom.objects.get(pk=f1.pk).m2m.exists())\n\n    def test_fast_delete_joined_qs(self):\n        a = Avatar.objects.create(desc=\'a\')\n        User.objects.create(avatar=a)\n        u2 = User.objects.create()\n        expected_queries = 1 if connection.features.update_can_self_select else 2\n        self.assertNumQueries(expected_queries,\n                              User.objects.filter(avatar__desc=\'a\').delete)\n        self.assertEqual(User.objects.count(), 1)\n        self.assertTrue(User.objects.filter(pk=u2.pk).exists())\n', 'relative_path': 'tests/delete/test_on_delete.py'}, 'id': 'c6fcb357-5ac3-4a7a-aad1-b8ffab850e52', 'type': 'tool_call'}] usage_metadata={'input_tokens': 58516, 'output_tokens': 6039, 'total_tokens': 65865, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1310}}
2025-10-05 04:33:50,413 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/delete/test_on_delete.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 64576, 'candidates_token_count': 11, 'total_token_count': 64587, 'prompt_tokens_details': [{'modality': 1, 'token_count': 65884}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 11}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0771628612102093e-05, 'model_name': 'gemini-2.5-pro'} id='run--20c92a45-de8d-4876-9d39-40d8a2f6a9c8-0' usage_metadata={'input_tokens': 64576, 'output_tokens': 11, 'total_tokens': 64587, 'input_token_details': {'cache_read': 0}}
2025-10-05 04:33:50,591 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/delete/test_on_delete.py b/tests/delete/test_on_delete.py
new file mode 100644
index 0000000000..60a865e9c8
--- /dev/null
+++ b/tests/delete/test_on_delete.py
@@ -0,0 +1,539 @@
+import math
+from math import ceil
+
+from django.db import IntegrityError, connection, models
+from django.db.models.deletion import Collector
+from django.db.models.sql.constants import GET_ITERATOR_CHUNK_SIZE
+from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature
+
+from .models import (
+    MR, A, Avatar, Base, Child, HiddenUser, HiddenUserProfile, M, M2MFrom,
+    M2MTo, MRNull, Origin, Parent, R, RChild, RChildChild, Referrer, S, T,
+    User, create_a, get_default_r, SecondReferrer,
+)
+
+
+class OnDeleteTests(TestCase):
+    def setUp(self):
+        self.DEFAULT = get_default_r()
+
+    def test_auto(self):
+        a = create_a('auto')
+        a.auto.delete()
+        self.assertFalse(A.objects.filter(name='auto').exists())
+
+    def test_non_callable(self):
+        msg = 'on_delete must be callable.'
+        with self.assertRaisesMessage(TypeError, msg):
+            models.ForeignKey('self', on_delete=None)
+        with self.assertRaisesMessage(TypeError, msg):
+            models.OneToOneField('self', on_delete=None)
+
+    def test_auto_nullable(self):
+        a = create_a('auto_nullable')
+        a.auto_nullable.delete()
+        self.assertFalse(A.objects.filter(name='auto_nullable').exists())
+
+    def test_setvalue(self):
+        a = create_a('setvalue')
+        a.setvalue.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertEqual(self.DEFAULT, a.setvalue.pk)
+
+    def test_setnull(self):
+        a = create_a('setnull')
+        a.setnull.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertIsNone(a.setnull)
+
+    def test_setdefault(self):
+        a = create_a('setdefault')
+        a.setdefault.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertEqual(self.DEFAULT, a.setdefault.pk)
+
+    def test_setdefault_none(self):
+        a = create_a('setdefault_none')
+        a.setdefault_none.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertIsNone(a.setdefault_none)
+
+    def test_cascade(self):
+        a = create_a('cascade')
+        a.cascade.delete()
+        self.assertFalse(A.objects.filter(name='cascade').exists())
+
+    def test_cascade_nullable(self):
+        a = create_a('cascade_nullable')
+        a.cascade_nullable.delete()
+        self.assertFalse(A.objects.filter(name='cascade_nullable').exists())
+
+    def test_protect(self):
+        a = create_a('protect')
+        msg = (
+            "Cannot delete some instances of model 'R' because they are "
+            "referenced through a protected foreign key: 'A.protect'"
+        )
+        with self.assertRaisesMessage(IntegrityError, msg):
+            a.protect.delete()
+
+    def test_do_nothing(self):
+        # Testing DO_NOTHING is a bit harder: It would raise IntegrityError for a normal model,
+        # so we connect to pre_delete and set the fk to a known value.
+        replacement_r = R.objects.create()
+
+        def check_do_nothing(sender, **kwargs):
+            obj = kwargs['instance']
+            obj.donothing_set.update(donothing=replacement_r)
+        models.signals.pre_delete.connect(check_do_nothing)
+        a = create_a('do_nothing')
+        a.donothing.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertEqual(replacement_r, a.donothing)
+        models.signals.pre_delete.disconnect(check_do_nothing)
+
+    def test_do_nothing_qscount(self):
+        """
+        A models.DO_NOTHING relation doesn't trigger a query.
+        """
+        b = Base.objects.create()
+        with self.assertNumQueries(1):
+            # RelToBase should not be queried.
+            b.delete()
+        self.assertEqual(Base.objects.count(), 0)
+
+    def test_inheritance_cascade_up(self):
+        child = RChild.objects.create()
+        child.delete()
+        self.assertFalse(R.objects.filter(pk=child.pk).exists())
+
+    def test_inheritance_cascade_down(self):
+        child = RChild.objects.create()
+        parent = child.r_ptr
+        parent.delete()
+        self.assertFalse(RChild.objects.filter(pk=child.pk).exists())
+
+    def test_cascade_from_child(self):
+        a = create_a('child')
+        a.child.delete()
+        self.assertFalse(A.objects.filter(name='child').exists())
+        self.assertFalse(R.objects.filter(pk=a.child_id).exists())
+
+    def test_cascade_from_parent(self):
+        a = create_a('child')
+        R.objects.get(pk=a.child_id).delete()
+        self.assertFalse(A.objects.filter(name='child').exists())
+        self.assertFalse(RChild.objects.filter(pk=a.child_id).exists())
+
+    def test_setnull_from_child(self):
+        a = create_a('child_setnull')
+        a.child_setnull.delete()
+        self.assertFalse(R.objects.filter(pk=a.child_setnull_id).exists())
+
+        a = A.objects.get(pk=a.pk)
+        self.assertIsNone(a.child_setnull)
+
+    def test_setnull_from_parent(self):
+        a = create_a('child_setnull')
+        R.objects.get(pk=a.child_setnull_id).delete()
+        self.assertFalse(RChild.objects.filter(pk=a.child_setnull_id).exists())
+
+        a = A.objects.get(pk=a.pk)
+        self.assertIsNone(a.child_setnull)
+
+    def test_o2o_setnull(self):
+        a = create_a('o2o_setnull')
+        a.o2o_setnull.delete()
+        a = A.objects.get(pk=a.pk)
+        self.assertIsNone(a.o2o_setnull)
+
+
+class DeletionTests(TestCase):
+
+    def test_m2m(self):
+        m = M.objects.create()
+        r = R.objects.create()
+        MR.objects.create(m=m, r=r)
+        r.delete()
+        self.assertFalse(MR.objects.exists())
+
+        r = R.objects.create()
+        MR.objects.create(m=m, r=r)
+        m.delete()
+        self.assertFalse(MR.objects.exists())
+
+        m = M.objects.create()
+        r = R.objects.create()
+        m.m2m.add(r)
+        r.delete()
+        through = M._meta.get_field('m2m').remote_field.through
+        self.assertFalse(through.objects.exists())
+
+        r = R.objects.create()
+        m.m2m.add(r)
+        m.delete()
+        self.assertFalse(through.objects.exists())
+
+        m = M.objects.create()
+        r = R.objects.create()
+        MRNull.objects.create(m=m, r=r)
+        r.delete()
+        self.assertFalse(not MRNull.objects.exists())
+        self.assertFalse(m.m2m_through_null.exists())
+
+    def test_bulk(self):
+        s = S.objects.create(r=R.objects.create())
+        for i in range(2 * GET_ITERATOR_CHUNK_SIZE):
+            T.objects.create(s=s)
+        #   1 (select related `T` instances)
+        # + 1 (select related `U` instances)
+        # + 2 (delete `T` instances in batches)
+        # + 1 (delete `s`)
+        self.assertNumQueries(5, s.delete)
+        self.assertFalse(S.objects.exists())
+
+    def test_instance_update(self):
+        deleted = []
+        related_setnull_sets = []
+
+        def pre_delete(sender, **kwargs):
+            obj = kwargs['instance']
+            deleted.append(obj)
+            if isinstance(obj, R):
+                related_setnull_sets.append([a.pk for a in obj.setnull_set.all()])
+
+        models.signals.pre_delete.connect(pre_delete)
+        a = create_a('update_setnull')
+        a.setnull.delete()
+
+        a = create_a('update_cascade')
+        a.cascade.delete()
+
+        for obj in deleted:
+            self.assertIsNone(obj.pk)
+
+        for pk_list in related_setnull_sets:
+            for a in A.objects.filter(id__in=pk_list):
+                self.assertIsNone(a.setnull)
+
+        models.signals.pre_delete.disconnect(pre_delete)
+
+    def test_deletion_order(self):
+        pre_delete_order = []
+        post_delete_order = []
+
+        def log_post_delete(sender, **kwargs):
+            pre_delete_order.append((sender, kwargs['instance'].pk))
+
+        def log_pre_delete(sender, **kwargs):
+            post_delete_order.append((sender, kwargs['instance'].pk))
+
+        models.signals.post_delete.connect(log_post_delete)
+        models.signals.pre_delete.connect(log_pre_delete)
+
+        r = R.objects.create(pk=1)
+        s1 = S.objects.create(pk=1, r=r)
+        s2 = S.objects.create(pk=2, r=r)
+        T.objects.create(pk=1, s=s1)
+        T.objects.create(pk=2, s=s2)
+        RChild.objects.create(r_ptr=r)
+        r.delete()
+        self.assertEqual(
+            pre_delete_order, [(T, 2), (T, 1), (RChild, 1), (S, 2), (S, 1), (R, 1)]
+        )
+        self.assertEqual(
+            post_delete_order, [(T, 1), (T, 2), (RChild, 1), (S, 1), (S, 2), (R, 1)]
+        )
+
+        models.signals.post_delete.disconnect(log_post_delete)
+        models.signals.pre_delete.disconnect(log_pre_delete)
+
+    def test_relational_post_delete_signals_happen_before_parent_object(self):
+        deletions = []
+
+        def log_post_delete(instance, **kwargs):
+            self.assertTrue(R.objects.filter(pk=instance.r_id))
+            self.assertIs(type(instance), S)
+            deletions.append(instance.id)
+
+        r = R.objects.create(pk=1)
+        S.objects.create(pk=1, r=r)
+
+        models.signals.post_delete.connect(log_post_delete, sender=S)
+
+        try:
+            r.delete()
+        finally:
+            models.signals.post_delete.disconnect(log_post_delete)
+
+        self.assertEqual(len(deletions), 1)
+        self.assertEqual(deletions[0], 1)
+
+    @skipUnlessDBFeature("can_defer_constraint_checks")
+    def test_can_defer_constraint_checks(self):
+        u = User.objects.create(
+            avatar=Avatar.objects.create()
+        )
+        a = Avatar.objects.get(pk=u.avatar_id)
+        # 1 query to find the users for the avatar.
+        # 1 query to delete the user
+        # 1 query to delete the avatar
+        # The important thing is that when we can defer constraint checks there
+        # is no need to do an UPDATE on User.avatar to null it out.
+
+        # Attach a signal to make sure we will not do fast_deletes.
+        calls = []
+
+        def noop(*args, **kwargs):
+            calls.append('')
+        models.signals.post_delete.connect(noop, sender=User)
+
+        self.assertNumQueries(3, a.delete)
+        self.assertFalse(User.objects.exists())
+        self.assertFalse(Avatar.objects.exists())
+        self.assertEqual(len(calls), 1)
+        models.signals.post_delete.disconnect(noop, sender=User)
+
+    @skipIfDBFeature("can_defer_constraint_checks")
+    def test_cannot_defer_constraint_checks(self):
+        u = User.objects.create(
+            avatar=Avatar.objects.create()
+        )
+        # Attach a signal to make sure we will not do fast_deletes.
+        calls = []
+
+        def noop(*args, **kwargs):
+            calls.append('')
+        models.signals.post_delete.connect(noop, sender=User)
+
+        a = Avatar.objects.get(pk=u.avatar_id)
+        # The below doesn't make sense... Why do we need to null out
+        # user.avatar if we are going to delete the user immediately after it,
+        # and there are no more cascades.
+        # 1 query to find the users for the avatar.
+        # 1 query to delete the user
+        # 1 query to null out user.avatar, because we can't defer the constraint
+        # 1 query to delete the avatar
+        self.assertNumQueries(4, a.delete)
+        self.assertFalse(User.objects.exists())
+        self.assertFalse(Avatar.objects.exists())
+        self.assertEqual(len(calls), 1)
+        models.signals.post_delete.disconnect(noop, sender=User)
+
+    def test_hidden_related(self):
+        r = R.objects.create()
+        h = HiddenUser.objects.create(r=r)
+        HiddenUserProfile.objects.create(user=h)
+
+        r.delete()
+        self.assertEqual(HiddenUserProfile.objects.count(), 0)
+
+    def test_large_delete(self):
+        TEST_SIZE = 2000
+        objs = [Avatar() for i in range(0, TEST_SIZE)]
+        Avatar.objects.bulk_create(objs)
+        # Calculate the number of queries needed.
+        batch_size = connection.ops.bulk_batch_size(['pk'], objs)
+        # The related fetches are done in batches.
+        batches = ceil(len(objs) / batch_size)
+        # One query for Avatar.objects.all() and then one related fast delete for
+        # each batch.
+        fetches_to_mem = 1 + batches
+        # The Avatar objects are going to be deleted in batches of GET_ITERATOR_CHUNK_SIZE
+        queries = fetches_to_mem + TEST_SIZE // GET_ITERATOR_CHUNK_SIZE
+        self.assertNumQueries(queries, Avatar.objects.all().delete)
+        self.assertFalse(Avatar.objects.exists())
+
+    def test_large_delete_related(self):
+        TEST_SIZE = 2000
+        s = S.objects.create(r=R.objects.create())
+        for i in range(TEST_SIZE):
+            T.objects.create(s=s)
+
+        batch_size = max(connection.ops.bulk_batch_size(['pk'], range(TEST_SIZE)), 1)
+
+        # TEST_SIZE / batch_size (select related `T` instances)
+        # + 1 (select related `U` instances)
+        # + TEST_SIZE / GET_ITERATOR_CHUNK_SIZE (delete `T` instances in batches)
+        # + 1 (delete `s`)
+        expected_num_queries = ceil(TEST_SIZE / batch_size)
+        expected_num_queries += ceil(TEST_SIZE / GET_ITERATOR_CHUNK_SIZE) + 2
+
+        self.assertNumQueries(expected_num_queries, s.delete)
+        self.assertFalse(S.objects.exists())
+        self.assertFalse(T.objects.exists())
+
+    def test_delete_with_keeping_parents(self):
+        child = RChild.objects.create()
+        parent_id = child.r_ptr_id
+        child.delete(keep_parents=True)
+        self.assertFalse(RChild.objects.filter(id=child.id).exists())
+        self.assertTrue(R.objects.filter(id=parent_id).exists())
+
+    def test_delete_with_keeping_parents_relationships(self):
+        child = RChild.objects.create()
+        parent_id = child.r_ptr_id
+        parent_referent_id = S.objects.create(r=child.r_ptr).pk
+        child.delete(keep_parents=True)
+        self.assertFalse(RChild.objects.filter(id=child.id).exists())
+        self.assertTrue(R.objects.filter(id=parent_id).exists())
+        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
+
+        childchild = RChildChild.objects.create()
+        parent_id = childchild.rchild_ptr.r_ptr_id
+        child_id = childchild.rchild_ptr_id
+        parent_referent_id = S.objects.create(r=childchild.rchild_ptr.r_ptr).pk
+        childchild.delete(keep_parents=True)
+        self.assertFalse(RChildChild.objects.filter(id=childchild.id).exists())
+        self.assertTrue(RChild.objects.filter(id=child_id).exists())
+        self.assertTrue(R.objects.filter(id=parent_id).exists())
+        self.assertTrue(S.objects.filter(pk=parent_referent_id).exists())
+
+    def test_queryset_delete_returns_num_rows(self):
+        """
+        QuerySet.delete() should return the number of deleted rows and a
+        dictionary with the number of deletions for each object type.
+        """
+        Avatar.objects.bulk_create([Avatar(desc='a'), Avatar(desc='b'), Avatar(desc='c')])
+        avatars_count = Avatar.objects.count()
+        deleted, rows_count = Avatar.objects.all().delete()
+        self.assertEqual(deleted, avatars_count)
+
+        # more complex example with multiple object types
+        r = R.objects.create()
+        h1 = HiddenUser.objects.create(r=r)
+        HiddenUser.objects.create(r=r)
+        HiddenUserProfile.objects.create(user=h1)
+        existed_objs = {
+            R._meta.label: R.objects.count(),
+            HiddenUser._meta.label: HiddenUser.objects.count(),
+            A._meta.label: A.objects.count(),
+            MR._meta.label: MR.objects.count(),
+            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
+        }
+        deleted, deleted_objs = R.objects.all().delete()
+        for k, v in existed_objs.items():
+            self.assertEqual(deleted_objs[k], v)
+
+    def test_model_delete_returns_num_rows(self):
+        """
+        Model.delete() should return the number of deleted rows and a
+        dictionary with the number of deletions for each object type.
+        """
+        r = R.objects.create()
+        h1 = HiddenUser.objects.create(r=r)
+        h2 = HiddenUser.objects.create(r=r)
+        HiddenUser.objects.create(r=r)
+        HiddenUserProfile.objects.create(user=h1)
+        HiddenUserProfile.objects.create(user=h2)
+        m1 = M.objects.create()
+        m2 = M.objects.create()
+        MR.objects.create(r=r, m=m1)
+        r.m_set.add(m1)
+        r.m_set.add(m2)
+        r.save()
+        existed_objs = {
+            R._meta.label: R.objects.count(),
+            HiddenUser._meta.label: HiddenUser.objects.count(),
+            A._meta.label: A.objects.count(),
+            MR._meta.label: MR.objects.count(),
+            HiddenUserProfile._meta.label: HiddenUserProfile.objects.count(),
+            M.m2m.through._meta.label: M.m2m.through.objects.count(),
+        }
+        deleted, deleted_objs = r.delete()
+        self.assertEqual(deleted, sum(existed_objs.values()))
+        for k, v in existed_objs.items():
+            self.assertEqual(deleted_objs[k], v)
+
+    def test_proxied_model_duplicate_queries(self):
+        """
+        #25685 - Deleting instances of a model with existing proxy
+        classes should not issue multiple queries during cascade
+        deletion of referring models.
+        """
+        avatar = Avatar.objects.create()
+        # One query for the Avatar table and a second for the User one.
+        with self.assertNumQueries(2):
+            avatar.delete()
+
+    def test_only_referenced_fields_selected(self):
+        """
+        Only referenced fields are selected during cascade deletion SELECT
+        unless deletion signals are connected.
+        """
+        origin = Origin.objects.create()
+        expected_sql = str(
+            Referrer.objects.only(
+                # Both fields are referenced by SecondReferrer.
+                'id', 'unique_field',
+            ).filter(origin__in=[origin]).query
+        )
+        with self.assertNumQueries(2) as ctx:
+            origin.delete()
+        self.assertEqual(ctx.captured_queries[0]['sql'], expected_sql)
+
+        def receiver(instance, **kwargs):
+            pass
+
+        # All fields are selected if deletion signals are connected.
+        for signal_name in ('pre_delete', 'post_delete'):
+            with self.subTest(signal=signal_name):
+                origin = Origin.objects.create()
+                signal = getattr(models.signals, signal_name)
+                signal.connect(receiver, sender=Referrer)
+                with self.assertNumQueries(2) as ctx:
+                    origin.delete()
+                self.assertIn(
+                    connection.ops.quote_name('large_field'),
+                    ctx.captured_queries[0]['sql'],
+                )
+                signal.disconnect(receiver, sender=Referrer)
+
+
+class FastDeleteTests(TestCase):
+
+    def test_fast_delete_fk(self):
+        u = User.objects.create(
+            avatar=Avatar.objects.create()
+        )
+        a = Avatar.objects.get(pk=u.avatar_id)
+        # 1 query to fast-delete the user
+        # 1 query to delete the avatar
+        self.assertNumQueries(2, a.delete)
+        self.assertFalse(User.objects.exists())
+        self.assertFalse(Avatar.objects.exists())
+
+    def test_combined_fast_delete_fk(self):
+        """
+        Fast deletes for multiple CASCADE relations to the same model should be
+        combined into a single query.
+        """
+        origin = Origin.objects.create()
+        ref = Referrer.objects.create(origin=origin, unique_field=1)
+        SecondReferrer.objects.create(referrer=ref, other_referrer=ref)
+        # Two fast delete queries (for SecondReferrer.referrer and
+        # SecondReferrer.other_referrer) should be combined into one.
+        # 1. DELETE FROM SecondReferrer WHERE ... OR ...
+        # 2. DELETE FROM Referrer WHERE ...
+        self.assertNumQueries(2, ref.delete)
+        self.assertFalse(Referrer.objects.filter(pk=ref.pk).exists())
+        self.assertFalse(SecondReferrer.objects.exists())
+
+    def test_fast_delete_m2m(self):
+        t = M2MTo.objects.create()
+        f1 = M2MFrom.objects.create()
+        f1.m2m.add(t)
+        # 1 query to fast-delete the m2m
+        # 1 query to delete the M2MTo
+        self.assertNumQueries(2, t.delete)
+        self.assertFalse(M2MFrom.objects.get(pk=f1.pk).m2m.exists())
+
+    def test_fast_delete_joined_qs(self):
+        a = Avatar.objects.create(desc='a')
+        User.objects.create(avatar=a)
+        u2 = User.objects.create()
+        expected_queries = 1 if connection.features.update_can_self_select else 2
+        self.assertNumQueries(expected_queries,
+                              User.objects.filter(avatar__desc='a').delete)
+        self.assertEqual(User.objects.count(), 1)
+        self.assertTrue(User.objects.filter(pk=u2.pk).exists())

2025-10-05 04:33:50,591 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-05 04:33:50,639 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-05 04:33:50,639 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-05 04:33:51,151 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:33:51,151 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at 04ac9b45a3 Improved performance of django.template.base.Parser.

2025-10-05 04:33:51,151 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-05 04:33:51,252 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:33:51,252 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:33:51,252 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-05 04:33:51,252 - thread-139660780025408.app.docker.base_container - INFO - Creating directory tests/delete in the container
2025-10-05 04:33:51,253 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p tests/delete
2025-10-05 04:33:51,353 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:33:51,353 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 04:33:51,354 - thread-139660780025408.app.docker.base_container - INFO - Updating tests/delete/test_on_delete.py in the container
2025-10-05 04:33:51,356 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-05 04:33:53,183 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F"}'}, '__gemini_function_call_thought_signatures__': {'5c1e2494-2d06-4092-8de2-5d609c7a9055': 'CrEDAR/MhbbviIy2gbiP01EkabOTyZ7SFkJ9m9x/WUJkOOTwCJodLlHReK02/RhB4ox6vW0bAYqFr6q7yqV3RLVmGh54pFw9MCBgAmQhW/SrHrOJpAF05KXaJO6BktHJf09eZrTe+6Q7c6f0/kv8dcK1i838iKoookONCmJ3Nq1rGndSWKvCqUYDitGFHmTgPzMxPT3aopeHthucl/wIz9lLhOg4EvcqmGsi55DQGMcRIsFWD/Jx5vcAsY8EedDsdZZEOAaaCbvpSPjbIY031w1T6sMPbpJcVeANFufx5KT30W4mRRWyaqR1sqKj/TJKVPlOh6k5uTIoFY4Pkwr94FjYr5g9Ir1x/ZKVi0ewD021wEIz296ufRlEGKyIzmWJsQu6xvK7+emvNLkT693UlvGY2Iv1cFXu4R37kKJmWTOerieYlesFXd1mCVxrJ1vpNWyplBO0tSdrfOwEOL5LnPkqR5LT0qhOjUH70DlmlKfDCvE5qzLNf5uoAer8grdXgUS0gSD9pl/PZF1TlIsj92DkKJ0X0f+18Etum7IDXINDJe4dk0dH8slQILoT5C4PR1JIXA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 551, 'candidates_token_count': 7, 'total_token_count': 660, 'prompt_tokens_details': [{'modality': 1, 'token_count': 551}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 102, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8112538201468331, 'model_name': 'gemini-2.5-pro'} id='run--2c407a45-e760-4f1e-afb1-1b8e222da4cc-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F'}, 'id': '5c1e2494-2d06-4092-8de2-5d609c7a9055', 'type': 'tool_call'}] usage_metadata={'input_tokens': 551, 'output_tokens': 7, 'total_tokens': 660, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 102}}
2025-10-05 04:33:53,185 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls -F
2025-10-05 04:33:53,286 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:33:53,286 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

AUTHORS		  docs/		INSTALL		MANIFEST.in   setup.cfg
CONTRIBUTING.rst  extras/	js_tests/	package.json  setup.py
django/		  FUNDING.yml	LICENSE		README.rst    tests/
Django.egg-info/  Gruntfile.js	LICENSE.python	scripts/      tox.ini

2025-10-05 04:34:03,069 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F django/"}'}, '__gemini_function_call_thought_signatures__': {'ad252d0c-9862-480e-8a5e-8a0ca10956c1': 'CqwCAR/MhbbqBAsLA9F7Uh9J4JPJxJPzcYOLZBqREPwlvjomt3Hx+gV8PX0UE/PpDhJdfU3fIFnjtrtmwwps/PeD0Pwy/VsIdX6gz9dU6e1j/k5JdMCSRMzMuCGoZxT0X6YoPDJnUEyqr8RmehzEh8xRtsIXxC+4B+574zoyyxQnuQM5zo7dTj3MaeDwAAJMMnFJtIQc8x5y/wzhXtN+ixC6aeMLatxetXcAT4nZ6EnkkRF4ahsTH4rsFcYcT2NQKgYiZOE73tTmypZimC78M1+YWFjZY551FTUT3eBsZpHnTQvwG90N7u6DgPK2RtySJ1GzC+ku6AjGMtTFg4Q1IgmlOVefL1ViNukB9zbq6tlcjR4wxmcmN+jOMe7H7lEc4ZDb8p+oSZ0c5HjyOeas'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 642, 'candidates_token_count': 9, 'total_token_count': 883, 'prompt_tokens_details': [{'modality': 1, 'token_count': 742}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 9}], 'thoughts_token_count': 232, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -10.508411831325954, 'model_name': 'gemini-2.5-pro'} id='run--ff6708d9-ac8d-42db-baae-bb50d2359b44-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F django/'}, 'id': 'ad252d0c-9862-480e-8a5e-8a0ca10956c1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 642, 'output_tokens': 9, 'total_tokens': 883, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 232}}
2025-10-05 04:34:03,070 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls -F django/
2025-10-05 04:34:03,171 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:34:03,171 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

apps/  contrib/  dispatch/  __init__.py  __pycache__/  templatetags/  utils/
bin/   core/	 forms/     __main__.py  shortcuts.py  test/	      views/
conf/  db/	 http/	    middleware/  template/     urls/

2025-10-05 04:34:04,775 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat tox.ini"}'}, '__gemini_function_call_thought_signatures__': {'7845f8b5-773a-40ad-9462-d1b05e098173': 'Ct4CAR/Mhbathgkx/h78HM7/B+SPlkJy6STuCzNdCiGmN5ftUYTi01BkDbdqSYaHd96Sg1/gwqDbhO9SKY2MR9LG1SPs6JLI0xUh3zH+yzFsaBP2OmPSYoNjyd/OzN46iPE+57VvfQQB72Vl47ziFE6DWMzCvcjBJ+yEiHefjCJitUzmUc68Yoh9NVrPjpnN9Qcf+t94nudy+d2jmhm8b4w+Cu4iairh1jw9g3OhAgOe/vRu/nt3FQuR8Umy73EKqqK3houFiTBlwbhJzhSK4/dRfSJTXbCbHf80u9v+qwHvxypBxJ6Gz2P7PhJU/qtl+7KlE6HiJxCP05Ht3YSPAkeYL6RmCtiluiksjS2arL73NZT9qBn06Jq3tVAfAgj0OG6gmczPlVscseNlU6RqGGX/JO1wKjYTO5CxbohNIaZjrojI9Qm9RYW53r9EqEdvuCte0NXYwJv8I+ajYK+Za3Q='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 726, 'candidates_token_count': 8, 'total_token_count': 823, 'prompt_tokens_details': [{'modality': 1, 'token_count': 896}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 8}], 'thoughts_token_count': 89, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0674221515655518, 'model_name': 'gemini-2.5-pro'} id='run--36a0bb6e-ad18-4fc4-8dff-fbe6e437ae42-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat tox.ini'}, 'id': '7845f8b5-773a-40ad-9462-d1b05e098173', 'type': 'tool_call'}] usage_metadata={'input_tokens': 726, 'output_tokens': 8, 'total_tokens': 823, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 89}}
2025-10-05 04:34:04,777 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: cat tox.ini
2025-10-05 04:34:04,878 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 04:34:04,878 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

# Tox (https://tox.readthedocs.io/) is a tool for running tests in multiple
# virtualenvs. This configuration file helps to run the test suite on all
# supported Python versions. To use it, "python -m pip install tox" and
# then run "tox" from this directory.

[tox]
skipsdist = true
envlist =
    py3
    flake8
    docs
    isort

# Add environment to use the default python3 installation
[testenv:py3]
basepython = python3

[testenv]
usedevelop = true
passenv = DJANGO_SETTINGS_MODULE PYTHONPATH HOME DISPLAY
setenv =
    PYTHONDONTWRITEBYTECODE=1
deps =
    py{3,36,37}: -rtests/requirements/py3.txt
    postgres: -rtests/requirements/postgres.txt
    mysql: -rtests/requirements/mysql.txt
    oracle: -rtests/requirements/oracle.txt
changedir = tests
commands =
    {envpython} runtests.py {posargs}

[testenv:flake8]
basepython = python3
usedevelop = false
deps = flake8
changedir = {toxinidir}
commands = flake8 .

[testenv:docs]
basepython = python3
usedevelop = false
whitelist_externals =
    make
deps =
    Sphinx
    pyenchant
    sphinxcontrib-spelling
changedir = docs
commands =
    make spelling

[testenv:isort]
basepython = python3
usedevelop = false
deps = isort
changedir = {toxinidir}
commands = isort --recursive --check-only --diff django tests scripts

[testenv:javascript]
usedevelop = false
deps =
changedir = {toxinidir}
whitelist_externals = npm
commands =
    npm install
    npm test

2025-10-05 04:34:07,961 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py delete/test_on_delete.py"}'}, '__gemini_function_call_thought_signatures__': {'f30ce538-8b67-4598-91ea-422f7ba9ece2': 'CuIGAR/MhbY9qDajI3JTFeafOAJ/7DWGEfbKdqFNtG1wX81aBjGJ+k5Ra2xoCJETN/IL9at4jHS0l6AIQ/3UcdEwlTnUrFqZoyadoEEKs94guJnUh0vixRuQLQgRuygcswUDZ5M5IGuhj6tnWP9aBu4SkKnGmWFG+STRy4xi26tCF2k55AInscjYxiuOUPdVBFSLhDstj/9uVbcGiS7sTdu0nBzfaCmnOTg6m5ghmB+P+KYj/WQJ7crwIxP/4CL6z1NiViTeOvvvfMRc8lf7DbjgNAPeHzCjht1QXnCLhtItHaap6Lg1OhmmV9wNov73lp/yQ7vhh/LnrWraew7EMHPgPX5avphSE3tDAEoh2kipOv9kf0ZHBpXvkMD+iam838tFdu4wXE9wqpQo9YZMtt/9OCIK6kF+T6aTcfw4dor7l6af/v4uUH3+c/MtsYterLfBbSXt8RPNoUFkGZ0zqWrERsspySnk/Gn/k1/jHMCKKVaDyNnn+bXw1byFN/nKBXhkaWt6Gt+OGqiLK6El3qNltrb+LAiicEx2WiBf2W6rPTCszEx8ekucnv/SX/6bmcGElrtt+rpoEc5fJ2U+TuvQ+3h15k6dAOamhi+GOeDuWMB93SVnqT2bJE1tZzFCsCZluvBNuhQGMr+y08DxiM5VTi4nj43BWpdDqrdkHeWc8PKWFFpnUugPq4fVPPNIhDAXZbIjGocjReNNtwmAHEDeufw/TCehs5NLLHb68THnMJsqbGv0niPFajU2gWaMNJ0Bdn6ktcAKLtoJkUZCRv84CkeuDYDUKKPT9/RvkTfZWUE+Cicq6xiMnESpCd3P6MrT+7I3mAOkncA1/Oi/INUGENqzuvwhCsWBUJz2ByH3Uxr1cjYOE5pQba14hRm9tRWbBsNYydHNYqJcxO3P4CW4gXJN1CkneVVXWM2MOZ6ywP+sZhiQ7OcFC4AYa1jbwxe4mnwKvS2kUpuuc6+Jrfttl1qAD6iaZOjBXSBrCY6bTlmdrIcrnldf43zYuOi6MdMmRsZEn3ZD/GFdXjTVhvT0DxD9FTiSEZopEQbNCqIHycX7HO7QGr4DPgx6cPHatJjnjY/KINELxwGbb5ERP3oTvnQPelbr4JETwqI/b7tmdLSi7N3rwtiRPFcfSTUX+a2kc0w='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1171, 'candidates_token_count': 20, 'total_token_count': 1428, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1428}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 20}], 'thoughts_token_count': 237, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.4304221153259278, 'model_name': 'gemini-2.5-pro'} id='run--baa8813d-7eed-4b32-9feb-b61fd7d4aee1-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py delete/test_on_delete.py'}, 'id': 'f30ce538-8b67-4598-91ea-422f7ba9ece2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1171, 'output_tokens': 20, 'total_tokens': 1428, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 237}}
2025-10-05 04:34:07,963 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py delete/test_on_delete.py
2025-10-05 04:34:08,497 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 04:34:08,497 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Testing against Django installed in '/testbed/django' with up to 8 processes
System check identified no issues (0 silenced).
E
======================================================================
ERROR: delete/test_on_delete (unittest.loader._FailedTest)
----------------------------------------------------------------------
ImportError: Failed to import test module: delete/test_on_delete
Traceback (most recent call last):
  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/loader.py", line 153, in loadTestsFromName
    module = __import__(module_name)
ModuleNotFoundError: No module named 'delete/test_on_delete'


----------------------------------------------------------------------
Ran 1 test in 0.000s

FAILED (errors=1)

2025-10-05 04:34:10,939 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py delete.test_on_delete"}'}, '__gemini_function_call_thought_signatures__': {'d118abd0-99d0-449a-9887-faca3f7c5efb': 'Cs4EAR/MhbadaCFfIhYL/FfKCBIWSPCTiAzoupAkJGRpYcmZOloPkmqAIHzHOKSN4ekyomFPquAHNV/nfLXvWj/+98bEB7MkBEk3za30wjyTIef/LzpTb1D7lZ7cjLq3Psoyj0/fv6m9iiLPTaZ88q0Wl2ZCcN9dyreAX15RlrzqCxfKXUHL2O9+Wmhpu+PeMyQX+dY9nog6hlLvGcdRiWfAWf/dKm3uvUwVzvgNOix4ODQtb0+1BmiKUT8uBPhja6JzYAydolY6Z+JTbWyYWzeBRJf1jldEcIgYzct1ATr5TniYQaIVGE701otKP1E0GAcTzAnBDMdi+viV1Zth+jlqMfYZihUf+7CBBB7kttYV/EFglpoP0RLAyNNelr1lE36s3QgIOuMQHCh4NNAn3Wp6qOOmtrcInvQ/1mXDZH5sphlxPb3YTwmoXI9Yiv7cVb8a5cH3SdXrKL+kfIUGxTFkj2EQoOSfe8ejcuTItsfp86sOhbAKsUT7m/lhHR6PcIsuEbZ6SRxJgph4uePJscLgxgBDSec1b/HX+xgPUxF4qS6CZeO1Bn5v4UzYHi5tRwgx32rOMVSfJrtnV8dEswoAhT3Hjw2U92SrxDmYiqCpPMsfIZMkAU9pxzCEN8ssaF1/z/dhuu+c2sY7Tuphhtbeo+9ymhJrwOfIVw/jFzB1XnySuSz4RZCPWP+hVAgDce6v9h8ikrVUfnztmvhgduGJBoJIvFV7HDXFyZ/o9MqqYtGBUd/XZanfxynXp6DLCjWLoPEfOGBJIrSNmXm/4Jw='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1374, 'candidates_token_count': 18, 'total_token_count': 1545, 'cached_content_token_count': 1498, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1866}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1498}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 18}], 'thoughts_token_count': 153}, 'finish_reason': 'STOP', 'avg_logprobs': -1.3612174987792969, 'model_name': 'gemini-2.5-pro'} id='run--fa7086f3-568b-4464-8d09-5f6fe97bb3fe-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py delete.test_on_delete'}, 'id': 'd118abd0-99d0-449a-9887-faca3f7c5efb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1374, 'output_tokens': 18, 'total_tokens': 1545, 'input_token_details': {'cache_read': 1498}, 'output_token_details': {'reasoning': 153}}
2025-10-05 04:34:10,941 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py delete.test_on_delete
2025-10-05 04:34:11,820 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 04:34:11,820 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Testing against Django installed in '/testbed/django' with up to 8 processes
Creating test database for alias 'default'...
Cloning test database for alias 'default'...
Cloning test database for alias 'default'...
Cloning test database for alias 'default'...
System check identified no issues (0 silenced).
F........................s.............
======================================================================
FAIL: test_combined_fast_delete_fk (delete.test_on_delete.FastDeleteTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 59, in testPartExecutor
    yield
  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 605, in run
    testMethod()
  File "/testbed/tests/delete/test_on_delete.py", line 518, in test_combined_fast_delete_fk
    self.assertNumQueries(2, ref.delete)
  File "/testbed/django/test/testcases.py", line 1025, in assertNumQueries
    func(*args, **kwargs)
  File "/testbed/django/test/testcases.py", line 83, in __exit__
    '%d. %s' % (i, query['sql']) for i, query in enumerate(self.captured_queries, start=1)
  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 829, in assertEqual
    assertion_func(first, second, msg=msg)
  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 822, in _baseAssertEqual
    raise self.failureException(msg)
AssertionError: 3 != 2 : 3 queries executed, 2 expected
Captured queries were:
1. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."referrer_id" IN (1)
2. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."other_referrer_id" IN (1)
3. DELETE FROM "delete_referrer" WHERE "delete_referrer"."id" IN (1)

----------------------------------------------------------------------
Ran 39 tests in 0.415s

FAILED (failures=1, skipped=1)
Destroying test database for alias 'default'...
Destroying test database for alias 'default'...
Destroying test database for alias 'default'...
Destroying test database for alias 'default'...

2025-10-05 04:34:16,767 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='Testing against Django installed in \'/testbed/django\' with up to 8 processes\nCreating test database for alias \'default\'...\nCloning test database for alias \'default\'...\nCloning test database for alias \'default\'...\nCloning test database for alias \'default\'...\nSystem check identified no issues (0 silenced).\nF........................s.............\n======================================================================\nFAIL: test_combined_fast_delete_fk (delete.test_on_delete.FastDeleteTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 59, in testPartExecutor\n    yield\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 605, in run\n    testMethod()\n  File "/testbed/tests/delete/test_on_delete.py", line 518, in test_combined_fast_delete_fk\n    self.assertNumQueries(2, ref.delete)\n  File "/testbed/django/test/testcases.py", line 1025, in assertNumQueries\n    func(*args, **kwargs)\n  File "/testbed/django/test/testcases.py", line 83, in __exit__\n    \'%d. %s\' % (i, query[\'sql\']) for i, query in enumerate(self.captured_queries, start=1)\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 829, in assertEqual\n    assertion_func(first, second, msg=msg)\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 822, in _baseAssertEqual\n    raise self.failureException(msg)\nAssertionError: 3 != 2 : 3 queries executed, 2 expected\nCaptured queries were:\n1. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."referrer_id" IN (1)\n2. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."other_referrer_id" IN (1)\n3. DELETE FROM "delete_referrer" WHERE "delete_referrer"."id" IN (1)\n\n----------------------------------------------------------------------\nRan 39 tests in 0.415s\n\nFAILED (failures=1, skipped=1)\nDestroying test database for alias \'default\'...\nDestroying test database for alias \'default\'...\nDestroying test database for alias \'default\'...\nDestroying test database for alias \'default\'...' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2010, 'candidates_token_count': 612, 'total_token_count': 2716, 'cached_content_token_count': 1591, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2653}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1591}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 612}], 'thoughts_token_count': 94}, 'finish_reason': 'STOP', 'avg_logprobs': -0.019559631160661287, 'model_name': 'gemini-2.5-pro'} id='run--b8d42cdb-7c57-438c-b0f1-d53e42115fb4-0' usage_metadata={'input_tokens': 2010, 'output_tokens': 612, 'total_tokens': 2716, 'input_token_details': {'cache_read': 1591}, 'output_token_details': {'reasoning': 94}}
2025-10-05 04:34:28,048 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='FAIL: test_combined_fast_delete_fk (delete.test_on_delete.FastDeleteTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 59, in testPartExecutor\n    yield\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 605, in run\n    testMethod()\n  File "/testbed/tests/delete/test_on_delete.py", line 518, in test_combined_fast_delete_fk\n    self.assertNumQueries(2, ref.delete)\n  File "/testbed/django/test/testcases.py", line 1025, in assertNumQueries\n    func(*args, **kwargs)\n  File "/testbed/django/test/testcases.py", line 83, in __exit__\n    \'%d. %s\' % (i, query[\'sql\']) for i, query in enumerate(self.captured_queries, start=1)\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 829, in assertEqual\n    assertion_func(first, second, msg=msg)\n  File "/opt/miniconda3/envs/testbed/lib/python3.6/unittest/case.py", line 822, in _baseAssertEqual\n    raise self.failureException(msg)\nAssertionError: 3 != 2 : 3 queries executed, 2 expected\nCaptured queries were:\n1. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."referrer_id" IN (1)\n2. DELETE FROM "delete_secondreferrer" WHERE "delete_secondreferrer"."other_referrer_id" IN (1)\n3. DELETE FROM "delete_referrer" WHERE "delete_referrer"."id" IN (1)' reproduced_bug_commands=['python runtests.py delete.test_on_delete']
2025-10-05 04:34:28,049 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-05 04:34:28,049 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-05 04:34:28,149 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
