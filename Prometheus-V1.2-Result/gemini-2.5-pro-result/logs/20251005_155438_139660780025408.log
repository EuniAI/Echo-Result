2025-10-05 15:54:38,698 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpc2y0k95s/django
2025-10-05 15:54:38,698 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-05 15:54:38,698 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.django_1776_django-14725:v1
2025-10-05 15:55:35,156 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_ae9d88d7f8
2025-10-05 15:55:35,161 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_ae9d88d7f8
2025-10-05 15:55:42,089 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-05 15:55:45,230 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-05 15:55:45,230 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-05 15:55:45,354 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 15:55:45,354 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 15:55:45,354 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-05 15:55:45,478 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 15:55:45,478 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 15:55:45,478 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-05 15:55:48,249 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 15:55:48,249 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- \ done
[?25h  Preparing editable metadata (pyproject.toml) ... [?25l- \ done
[?25hRequirement already satisfied: asgiref>=3.4.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.1.dev20220127180326) (3.8.1)
Requirement already satisfied: sqlparse>=0.2.2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.1.dev20220127180326) (0.5.1)
Requirement already satisfied: typing-extensions>=4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from asgiref>=3.4.1->Django==4.1.dev20220127180326) (4.12.2)
Building wheels for collected packages: Django
  Building editable for Django (pyproject.toml) ... [?25l- \ | / done
[?25h  Created wheel for Django: filename=django-4.1.dev20220127180326-0.editable-py3-none-any.whl size=26984 sha256=3fadaee26397b233b617c5e4111113c0b6286a70266ef2a0637d59475763ceee
  Stored in directory: /tmp/pip-ephem-wheel-cache-7wl7k6vi/wheels/7d/66/67/70d1ee2124ccf21d601c352e25cdca10f611f7c8b3f9ffb9e4
Successfully built Django
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 4.1.dev20220127180326
    Uninstalling Django-4.1.dev20220127180326:
      Successfully uninstalled Django-4.1.dev20220127180326
Successfully installed Django-4.1.dev20220127180326
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-05 15:55:48,308 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-05 15:55:48,308 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-05 15:55:48,309 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nProvide a way for model formsets to disallow new object creation\n\nIssue description: \nDescription\n\t\nModel formsets don\'t provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that\'s not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-05 15:55:54,691 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have identified that the issue is related to model formsets and the inability to reliably prevent the creation of new objects. I will now search for relevant test cases that demonstrate similar functionality, focusing on tests that involve formsets, object creation limits, and validation. My search will begin by looking for files related to formset testing to find the most relevant examples.' additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "test_formsets.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 57116, 'candidates_token_count': 88, 'total_token_count': 57520, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57116}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 88}], 'thoughts_token_count': 316, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5335333997553046, 'model_name': 'gemini-2.5-pro'} id='run--03f82dad-106e-4093-9b0c-95b4af9b0fcf-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'test_formsets.py'}, 'id': 'c54d3258-6449-4781-b97e-ac620ca88cdc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 57116, 'output_tokens': 88, 'total_tokens': 57520, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 316}}
2025-10-05 15:56:14,357 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have located a promising test file, `tests/forms_tests/tests/test_formsets.py`, which likely contains relevant test cases for the reported issue. My next step is to analyze this file to identify tests that specifically address formset limits, such as those using `extra=0` or `max_num`. I will begin by reading the file to get a comprehensive overview of its contents and pinpoint the most relevant examples.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 57266, 'candidates_token_count': 118, 'total_token_count': 58303, 'cached_content_token_count': 56231, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57266}], 'cache_tokens_details': [{'modality': 1, 'token_count': 56231}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 118}], 'thoughts_token_count': 919}, 'finish_reason': 'STOP', 'avg_logprobs': -1.5657149492684057, 'model_name': 'gemini-2.5-pro'} id='run--15ef3b7e-e425-4279-948d-3adb2bdce4d9-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py'}, 'id': '5b71d989-c6d3-4788-aa62-f65bff5ceaf1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 57266, 'output_tokens': 118, 'total_tokens': 58303, 'input_token_details': {'cache_read': 56231}, 'output_token_details': {'reasoning': 919}}
2025-10-05 15:56:19,926 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I've reviewed the file and found several test cases that are highly relevant to the issue. The tests `test_formset_validate_max_flag`, `test_formset_validate_min_flag`, `test_max_num_with_initial_data`, `test_max_num_zero`, and `test_extra_zero_and_max_num_zero` all demonstrate how to control the number of forms in a formset, which is at the core of the reported bug.\n\nI will now extract these five test cases, including all necessary imports and setup, to provide a comprehensive answer." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py", "start_line": 356.0, "end_line": 418.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 66618, 'candidates_token_count': 300, 'total_token_count': 66918, 'prompt_tokens_details': [{'modality': 1, 'token_count': 66618}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 300}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12409226735432943, 'model_name': 'gemini-2.5-pro'} id='run--86b79a99-3db0-418a-b3f7-962ce0e5b783-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'start_line': 330.0, 'end_line': 382.0}, 'id': '06acb89a-8163-42cd-b9af-c686400bdfad', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 545.0, 'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'end_line': 571.0}, 'id': 'a6cb94ce-916b-4940-bc81-98b61467dbaf', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 573.0, 'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'end_line': 590.0}, 'id': '1de0d05f-eac7-4773-817a-b951ba05c191', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'start_line': 592.0, 'end_line': 612.0}, 'id': '3efa2114-3947-40c2-9ffb-75f13f3567a0', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'start_line': 356.0, 'end_line': 418.0}, 'id': '4c6da078-e951-4102-82a2-b930ec545ae7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 66618, 'output_tokens': 300, 'total_tokens': 66918, 'input_token_details': {'cache_read': 0}}
2025-10-05 15:56:39,809 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved five relevant test cases from `tests/forms_tests/tests/test_formsets.py`. These tests demonstrate how to validate the number of forms in a formset, which is directly related to the issue of disallowing new object creation. The selected tests cover scenarios for setting minimum and maximum form counts, handling initial data, and validating form submissions. These examples should provide a solid foundation for understanding how to address the reported bug.\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm, CharField, DateField, FileField, Form, IntegerField,\n    SplitDateTimeField, formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT, MAX_NUM_FORM_COUNT, MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT, BaseFormSet, ManagementForm, all_valid, formset_factory,\n)\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass Choice(Form):\n    choice = CharField()\n    votes = IntegerField()\n\n\nChoiceFormSet = formset_factory(Choice)\n\n\nclass ChoiceFormsetWithNonFormError(ChoiceFormSet):\n    def clean(self):\n        super().clean()\n        raise ValidationError(\'non-form error\')\n\n\nclass FavoriteDrinkForm(Form):\n    name = CharField()\n\n\nclass BaseFavoriteDrinksFormSet(BaseFormSet):\n    def clean(self):\n        seen_drinks = []\n\n        for drink in self.cleaned_data:\n            if drink[\'name\'] in seen_drinks:\n                raise ValidationError(\'You may only specify a drink once.\')\n\n            seen_drinks.append(drink[\'name\'])\n\n\n# A FormSet that takes a list of favorite drinks and raises an error if\n# there are any duplicates.\nFavoriteDrinksFormSet = formset_factory(FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3)\n\n\nclass CustomKwargForm(Form):\n    def __init__(self, *args, custom_kwarg, **kwargs):\n        self.custom_kwarg = custom_kwarg\n        super().__init__(*args, **kwargs)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n\n    def make_choiceformset(\n            self, formset_data=None, formset_class=ChoiceFormSet,\n            total_forms=None, initial_forms=0, max_num_forms=0, min_num_forms=0, **kwargs):\n        """\n        Make a ChoiceFormset from the given formset_data.\n        The data should be given as a list of (choice, votes) tuples.\n        """\n        kwargs.setdefault(\'prefix\', \'choices\')\n        kwargs.setdefault(\'auto_id\', False)\n\n        if formset_data is None:\n            return formset_class(**kwargs)\n\n        if total_forms is None:\n            total_forms = len(formset_data)\n\n        def prefixed(*args):\n            args = (kwargs[\'prefix\'],) + args\n            return \'-\'.join(args)\n\n        data = {\n            prefixed(\'TOTAL_FORMS\'): str(total_forms),\n            prefixed(\'INITIAL_FORMS\'): str(initial_forms),\n            prefixed(\'MAX_NUM_FORMS\'): str(max_num_forms),\n            prefixed(\'MIN_NUM_FORMS\'): str(min_num_forms),\n        }\n        for i, (choice, votes) in enumerate(formset_data):\n            data[prefixed(str(i), \'choice\')] = choice\n            data[prefixed(str(i), \'votes\')] = votes\n\n        return formset_class(data, **kwargs)\n\n    def test_formset_validate_max_flag(self):\n        """\n        If validate_max is set and max_num is less than TOTAL_FORMS in the\n        data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n        irrelevant here (it\'s output as a hint for the client but its value\n        in the returned data is not checked).\n        """\n        data = {\n            \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n            \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n            \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n            \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n            \'choices-0-choice\': \'Zero\',\n            \'choices-0-votes\': \'0\',\n            \'choices-1-choice\': \'One\',\n            \'choices-1-votes\': \'1\',\n        }\n        ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n        formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n        self.assertFalse(formset.is_valid())\n        self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n        self.assertEqual(\n            str(formset.non_form_errors()),\n            \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n        )\n\n    def test_max_num_with_initial_data(self):\n        """\n        The max_num argument works when the formset is pre-filled with initial\n        data.\n        """\n        # Note that extra=3 is ignored here because max_num=1 and there\'s already\n        # 1 initial form.\n        ChoiceFormSet = formset_factory(Choice, extra=3, max_num=1)\n        initial = [{\'choice\': \'Calexico\', \'votes\': 100}]\n        formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n        self.assertHTMLEqual(\n            \'\\n\'.join(form.as_ul() for form in formset.forms),\n            """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>"""\n        )\n\n    def test_max_num_zero(self):\n        """A formset with max_num=0 allows no forms."""\n        ChoiceFormSet = formset_factory(Choice, max_num=0)\n        formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n        self.assertHTMLEqual(\n            str(formset),\n            """<input type="hidden" name="choices-TOTAL_FORMS" value="0">\n<input type="hidden" name="choices-INITIAL_FORMS" value="0">\n<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\n<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">"""\n        )\n        data = {\n            \'choices-TOTAL_FORMS\': \'1\',\n            \'choices-INITIAL_FORMS\': \'0\',\n            \'choices-MAX_NUM_FORMS\': \'0\',\n            \'choices-0-choice\': \'Calexico\',\n            \'choices-0-votes\': \'100\',\n        }\n        formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n        self.assertFalse(formset.is_valid())\n\n    def test_extra_zero_and_max_num_zero(self):\n        """\n        A formset with extra=0 and max_num=0 is empty and accepts no forms.\n        """\n        ChoiceFormSet = formset_factory(Choice, extra=0, max_num=0)\n        formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n        self.assertHTMLEqual(\n            str(formset),\n            """<input type="hidden" name="choices-TOTAL_FORMS" value="0">\n<input type="hidden" name="choices-INITIAL_FORMS" value="0">\n<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\n<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">"""\n        )\n        data = {\n            \'choices-TOTAL_FORMS\': \'1\',\n            \'choices-INITIAL_FORMS\': \'0\',\n            \'choices-MAX_NUM_FORMS\': \'0\',\n            \'choices-0-choice\': \'Calexico\',\n            \'choices-0-votes\': \'100\',\n        }\n        formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n        self.assertFalse(formset.is_valid())\n\n    def test_formset_validate_min_flag(self):\n        """\n        If validate_min is set and min_num is more than TOTAL_FORMS in the\n        data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n        irrelevant here (it\'s output as a hint for the client but its value\n        in the returned data is not checked).\n        """\n        data = {\n            \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n            \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n            \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n            \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n            \'choices-0-choice\': \'Zero\',\n            \'choices-0-votes\': \'0\',\n            \'choices-1-choice\': \'One\',\n            \'choices-1-votes\': \'1\',\n        }\n        ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n        formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n        self.assertFalse(formset.is_valid())\n        self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n        self.assertEqual(\n            str(formset.non_form_errors()),\n            \'<ul class="errorlist nonform"><li>\'\n            \'Please submit at least 3 forms.</li></ul>\',\n        )\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 548, 'end_index': 832, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 705, 'end_index': 1001, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 997, 'end_index': 1545, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 1403, 'end_index': 2136, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 2136, 'end_index': 3358, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 3350, 'end_index': 3652, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 3543, 'end_index': 4637, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 5032, 'end_index': 5357, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 7229, 'end_index': 7538, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 7422, 'end_index': 8504, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 70658, 'candidates_token_count': 2417, 'total_token_count': 73075, 'cached_content_token_count': 63714, 'prompt_tokens_details': [{'modality': 1, 'token_count': 70658}], 'cache_tokens_details': [{'modality': 1, 'token_count': 63714}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 2417}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.014859500580402165, 'model_name': 'gemini-2.5-pro'} id='run--99b46bf4-0c71-4a01-8368-c309b0dadd1b-0' usage_metadata={'input_tokens': 70658, 'output_tokens': 2417, 'total_tokens': 73075, 'input_token_details': {'cache_read': 63714}}
2025-10-05 15:56:39,809 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 15:56:39,810 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 1 - 500
Content:
1. import datetime
2. from collections import Counter
3. from unittest import mock
4. 
5. from django.core.exceptions import ValidationError
6. from django.forms import (
7.     BaseForm, CharField, DateField, FileField, Form, IntegerField,
8.     SplitDateTimeField, formsets,
9. )
10. from django.forms.formsets import (
11.     INITIAL_FORM_COUNT, MAX_NUM_FORM_COUNT, MIN_NUM_FORM_COUNT,
12.     TOTAL_FORM_COUNT, BaseFormSet, ManagementForm, all_valid, formset_factory,
13. )
14. from django.forms.utils import ErrorList
15. from django.forms.widgets import HiddenInput
16. from django.test import SimpleTestCase
17. 
18. from . import jinja2_tests
19. 
20. 
21. class Choice(Form):
22.     choice = CharField()
23.     votes = IntegerField()
24. 
25. 
26. ChoiceFormSet = formset_factory(Choice)
27. 
28. 
29. class ChoiceFormsetWithNonFormError(ChoiceFormSet):
30.     def clean(self):
31.         super().clean()
32.         raise ValidationError('non-form error')
33. 
34. 
35. class FavoriteDrinkForm(Form):
36.     name = CharField()
37. 
38. 
39. class BaseFavoriteDrinksFormSet(BaseFormSet):
40.     def clean(self):
41.         seen_drinks = []
42. 
43.         for drink in self.cleaned_data:
44.             if drink['name'] in seen_drinks:
45.                 raise ValidationError('You may only specify a drink once.')
46. 
47.             seen_drinks.append(drink['name'])
48. 
49. 
50. # A FormSet that takes a list of favorite drinks and raises an error if
51. # there are any duplicates.
52. FavoriteDrinksFormSet = formset_factory(FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3)
53. 
54. 
55. class CustomKwargForm(Form):
56.     def __init__(self, *args, custom_kwarg, **kwargs):
57.         self.custom_kwarg = custom_kwarg
58.         super().__init__(*args, **kwargs)
59. 
60. 
61. class FormsFormsetTestCase(SimpleTestCase):
62. 
63.     def make_choiceformset(
64.             self, formset_data=None, formset_class=ChoiceFormSet,
65.             total_forms=None, initial_forms=0, max_num_forms=0, min_num_forms=0, **kwargs):
66.         """
67.         Make a ChoiceFormset from the given formset_data.
68.         The data should be given as a list of (choice, votes) tuples.
69.         """
70.         kwargs.setdefault('prefix', 'choices')
71.         kwargs.setdefault('auto_id', False)
72. 
73.         if formset_data is None:
74.             return formset_class(**kwargs)
75. 
76.         if total_forms is None:
77.             total_forms = len(formset_data)
78. 
79.         def prefixed(*args):
80.             args = (kwargs['prefix'],) + args
81.             return '-'.join(args)
82. 
83.         data = {
84.             prefixed('TOTAL_FORMS'): str(total_forms),
85.             prefixed('INITIAL_FORMS'): str(initial_forms),
86.             prefixed('MAX_NUM_FORMS'): str(max_num_forms),
87.             prefixed('MIN_NUM_FORMS'): str(min_num_forms),
88.         }
89.         for i, (choice, votes) in enumerate(formset_data):
90.             data[prefixed(str(i), 'choice')] = choice
91.             data[prefixed(str(i), 'votes')] = votes
92. 
93.         return formset_class(data, **kwargs)
94. 
95.     def test_basic_formset(self):
96.         """
97.         A FormSet constructor takes the same arguments as Form. Create a
98.         FormSet for adding data. By default, it displays 1 blank form.
99.         """
100.         formset = self.make_choiceformset()
101.         self.assertHTMLEqual(
102.             str(formset),
103.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">
104. <input type="hidden" name="choices-INITIAL_FORMS" value="0">
105. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">
106. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">
107. <tr><th>Choice:</th><td><input type="text" name="choices-0-choice"></td></tr>
108. <tr><th>Votes:</th><td><input type="number" name="choices-0-votes"></td></tr>"""
109.         )
110.         # FormSet are treated similarly to Forms. FormSet has an is_valid()
111.         # method, and a cleaned_data or errors attribute depending on whether
112.         # all the forms passed validation. However, unlike a Form, cleaned_data
113.         # and errors will be a list of dicts rather than a single dict.
114.         formset = self.make_choiceformset([('Calexico', '100')])
115.         self.assertTrue(formset.is_valid())
116.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}])
117. 
118.         # If a FormSet wasn't passed any data, is_valid() and has_changed()
119.         # return False.
120.         formset = self.make_choiceformset()
121.         self.assertFalse(formset.is_valid())
122.         self.assertFalse(formset.has_changed())
123. 
124.     def test_form_kwargs_formset(self):
125.         """
126.         Custom kwargs set on the formset instance are passed to the
127.         underlying forms.
128.         """
129.         FormSet = formset_factory(CustomKwargForm, extra=2)
130.         formset = FormSet(form_kwargs={'custom_kwarg': 1})
131.         for form in formset:
132.             self.assertTrue(hasattr(form, 'custom_kwarg'))
133.             self.assertEqual(form.custom_kwarg, 1)
134. 
135.     def test_form_kwargs_formset_dynamic(self):
136.         """Form kwargs can be passed dynamically in a formset."""
137.         class DynamicBaseFormSet(BaseFormSet):
138.             def get_form_kwargs(self, index):
139.                 return {'custom_kwarg': index}
140. 
141.         DynamicFormSet = formset_factory(CustomKwargForm, formset=DynamicBaseFormSet, extra=2)
142.         formset = DynamicFormSet(form_kwargs={'custom_kwarg': 'ignored'})
143.         for i, form in enumerate(formset):
144.             self.assertTrue(hasattr(form, 'custom_kwarg'))
145.             self.assertEqual(form.custom_kwarg, i)
146. 
147.     def test_form_kwargs_empty_form(self):
148.         FormSet = formset_factory(CustomKwargForm)
149.         formset = FormSet(form_kwargs={'custom_kwarg': 1})
150.         self.assertTrue(hasattr(formset.empty_form, 'custom_kwarg'))
151.         self.assertEqual(formset.empty_form.custom_kwarg, 1)
152. 
153.     def test_formset_validation(self):
154.         # FormSet instances can also have an error attribute if validation failed for
155.         # any of the forms.
156.         formset = self.make_choiceformset([('Calexico', '')])
157.         self.assertFalse(formset.is_valid())
158.         self.assertEqual(formset.errors, [{'votes': ['This field is required.']}])
159. 
160.     def test_formset_validation_count(self):
161.         """
162.         A formset's ManagementForm is validated once per FormSet.is_valid()
163.         call and each form of the formset is cleaned once.
164.         """
165.         def make_method_counter(func):
166.             """Add a counter to func for the number of times it's called."""
167.             counter = Counter()
168.             counter.call_count = 0
169. 
170.             def mocked_func(*args, **kwargs):
171.                 counter.call_count += 1
172.                 return func(*args, **kwargs)
173. 
174.             return mocked_func, counter
175. 
176.         mocked_is_valid, is_valid_counter = make_method_counter(formsets.ManagementForm.is_valid)
177.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)
178.         formset = self.make_choiceformset([('Calexico', '100'), ('Any1', '42'), ('Any2', '101')])
179. 
180.         with mock.patch('django.forms.formsets.ManagementForm.is_valid', mocked_is_valid), \
181.                 mock.patch('django.forms.forms.BaseForm.full_clean', mocked_full_clean):
182.             self.assertTrue(formset.is_valid())
183.         self.assertEqual(is_valid_counter.call_count, 1)
184.         self.assertEqual(full_clean_counter.call_count, 4)
185. 
186.     def test_formset_has_changed(self):
187.         """
188.         FormSet.has_changed() is True if any data is passed to its forms, even
189.         if the formset didn't validate.
190.         """
191.         blank_formset = self.make_choiceformset([('', '')])
192.         self.assertFalse(blank_formset.has_changed())
193.         # invalid formset
194.         invalid_formset = self.make_choiceformset([('Calexico', '')])
195.         self.assertFalse(invalid_formset.is_valid())
196.         self.assertTrue(invalid_formset.has_changed())
197.         # valid formset
198.         valid_formset = self.make_choiceformset([('Calexico', '100')])
199.         self.assertTrue(valid_formset.is_valid())
200.         self.assertTrue(valid_formset.has_changed())
201. 
202.     def test_formset_initial_data(self):
203.         """
204.         A FormSet can be prefilled with existing data by providing a list of
205.         dicts to the `initial` argument. By default, an extra blank form is
206.         included.
207.         """
208.         formset = self.make_choiceformset(initial=[{'choice': 'Calexico', 'votes': 100}])
209.         self.assertHTMLEqual(
210.             '\n'.join(form.as_ul() for form in formset.forms),
211.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
212. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
213. <li>Choice: <input type="text" name="choices-1-choice"></li>
214. <li>Votes: <input type="number" name="choices-1-votes"></li>"""
215.         )
216. 
217.     def test_blank_form_unfilled(self):
218.         """A form that's displayed as blank may be submitted as blank."""
219.         formset = self.make_choiceformset([('Calexico', '100'), ('', '')], initial_forms=1)
220.         self.assertTrue(formset.is_valid())
221.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}, {}])
222. 
223.     def test_second_form_partially_filled(self):
224.         """
225.         If at least one field is filled out on a blank form, it will be
226.         validated.
227.         """
228.         formset = self.make_choiceformset([('Calexico', '100'), ('The Decemberists', '')], initial_forms=1)
229.         self.assertFalse(formset.is_valid())
230.         self.assertEqual(formset.errors, [{}, {'votes': ['This field is required.']}])
231. 
232.     def test_delete_prefilled_data(self):
233.         """
234.         Deleting prefilled data is an error. Removing data from form fields
235.         isn't the proper way to delete it.
236.         """
237.         formset = self.make_choiceformset([('', ''), ('', '')], initial_forms=1)
238.         self.assertFalse(formset.is_valid())
239.         self.assertEqual(
240.             formset.errors,
241.             [{'votes': ['This field is required.'], 'choice': ['This field is required.']}, {}]
242.         )
243. 
244.     def test_displaying_more_than_one_blank_form(self):
245.         """
246.         More than 1 empty form can be displayed using formset_factory's
247.         `extra` argument.
248.         """
249.         ChoiceFormSet = formset_factory(Choice, extra=3)
250.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
251.         self.assertHTMLEqual(
252.             '\n'.join(form.as_ul() for form in formset.forms),
253.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
254. <li>Votes: <input type="number" name="choices-0-votes"></li>
255. <li>Choice: <input type="text" name="choices-1-choice"></li>
256. <li>Votes: <input type="number" name="choices-1-votes"></li>
257. <li>Choice: <input type="text" name="choices-2-choice"></li>
258. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
259.         )
260.         # Since every form was displayed as blank, they are also accepted as
261.         # blank. This may seem a little strange, but min_num is used to require
262.         # a minimum number of forms to be completed.
263.         data = {
264.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
265.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
266.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
267.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
268.             'choices-0-choice': '',
269.             'choices-0-votes': '',
270.             'choices-1-choice': '',
271.             'choices-1-votes': '',
272.             'choices-2-choice': '',
273.             'choices-2-votes': '',
274.         }
275.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
276.         self.assertTrue(formset.is_valid())
277.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])
278. 
279.     def test_min_num_displaying_more_than_one_blank_form(self):
280.         """
281.         More than 1 empty form can also be displayed using formset_factory's
282.         min_num argument. It will (essentially) increment the extra argument.
283.         """
284.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)
285.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
286.         # Min_num forms are required; extra forms can be empty.
287.         self.assertFalse(formset.forms[0].empty_permitted)
288.         self.assertTrue(formset.forms[1].empty_permitted)
289.         self.assertHTMLEqual(
290.             '\n'.join(form.as_ul() for form in formset.forms),
291.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
292. <li>Votes: <input type="number" name="choices-0-votes"></li>
293. <li>Choice: <input type="text" name="choices-1-choice"></li>
294. <li>Votes: <input type="number" name="choices-1-votes"></li>"""
295.         )
296. 
297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
298.         """More than 1 empty form can be displayed using min_num."""
299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
300.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
301.         self.assertHTMLEqual(
302.             '\n'.join(form.as_ul() for form in formset.forms),
303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
304. <li>Votes: <input type="number" name="choices-0-votes"></li>
305. <li>Choice: <input type="text" name="choices-1-choice"></li>
306. <li>Votes: <input type="number" name="choices-1-votes"></li>
307. <li>Choice: <input type="text" name="choices-2-choice"></li>
308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
309.         )
310. 
311.     def test_single_form_completed(self):
312.         """Just one form may be completed."""
313.         data = {
314.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
315.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
316.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
317.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
318.             'choices-0-choice': 'Calexico',
319.             'choices-0-votes': '100',
320.             'choices-1-choice': '',
321.             'choices-1-votes': '',
322.             'choices-2-choice': '',
323.             'choices-2-votes': '',
324.         }
325.         ChoiceFormSet = formset_factory(Choice, extra=3)
326.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
327.         self.assertTrue(formset.is_valid())
328.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}, {}, {}])
329. 
330.     def test_formset_validate_max_flag(self):
331.         """
332.         If validate_max is set and max_num is less than TOTAL_FORMS in the
333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
334.         irrelevant here (it's output as a hint for the client but its value
335.         in the returned data is not checked).
336.         """
337.         data = {
338.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
339.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
340.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
341.             'choices-MAX_NUM_FORMS': '2',  # max number of forms - should be ignored
342.             'choices-0-choice': 'Zero',
343.             'choices-0-votes': '0',
344.             'choices-1-choice': 'One',
345.             'choices-1-votes': '1',
346.         }
347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
348.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
349.         self.assertFalse(formset.is_valid())
350.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
351.         self.assertEqual(
352.             str(formset.non_form_errors()),
353.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
354.         )
355. 
356.     def test_formset_validate_min_flag(self):
357.         """
358.         If validate_min is set and min_num is more than TOTAL_FORMS in the
359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
360.         irrelevant here (it's output as a hint for the client but its value
361.         in the returned data is not checked).
362.         """
363.         data = {
364.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
365.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
366.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
367.             'choices-MAX_NUM_FORMS': '0',  # max number of forms - should be ignored
368.             'choices-0-choice': 'Zero',
369.             'choices-0-votes': '0',
370.             'choices-1-choice': 'One',
371.             'choices-1-votes': '1',
372.         }
373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
374.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
375.         self.assertFalse(formset.is_valid())
376.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 3 forms.'])
377.         self.assertEqual(
378.             str(formset.non_form_errors()),
379.             '<ul class="errorlist nonform"><li>'
380.             'Please submit at least 3 forms.</li></ul>',
381.         )
382. 
383.     def test_formset_validate_min_unchanged_forms(self):
384.         """
385.         min_num validation doesn't consider unchanged forms with initial data
386.         as "empty".
387.         """
388.         initial = [
389.             {'choice': 'Zero', 'votes': 0},
390.             {'choice': 'One', 'votes': 0},
391.         ]
392.         data = {
393.             'choices-TOTAL_FORMS': '2',
394.             'choices-INITIAL_FORMS': '2',
395.             'choices-MIN_NUM_FORMS': '0',
396.             'choices-MAX_NUM_FORMS': '2',
397.             'choices-0-choice': 'Zero',
398.             'choices-0-votes': '0',
399.             'choices-1-choice': 'One',
400.             'choices-1-votes': '1',  # changed from initial
401.         }
402.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)
403.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices', initial=initial)
404.         self.assertFalse(formset.forms[0].has_changed())
405.         self.assertTrue(formset.forms[1].has_changed())
406.         self.assertTrue(formset.is_valid())
407. 
408.     def test_formset_validate_min_excludes_empty_forms(self):
409.         data = {
410.             'choices-TOTAL_FORMS': '2',
411.             'choices-INITIAL_FORMS': '0',
412.         }
413.         ChoiceFormSet = formset_factory(Choice, extra=2, min_num=1, validate_min=True, can_delete=True)
414.         formset = ChoiceFormSet(data, prefix='choices')
415.         self.assertFalse(formset.has_changed())
416.         self.assertFalse(formset.is_valid())
417.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 1 form.'])
418. 
419.     def test_second_form_partially_filled_2(self):
420.         """A partially completed form is invalid."""
421.         data = {
422.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
423.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
424.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
425.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
426.             'choices-0-choice': 'Calexico',
427.             'choices-0-votes': '100',
428.             'choices-1-choice': 'The Decemberists',
429.             'choices-1-votes': '',  # missing value
430.             'choices-2-choice': '',
431.             'choices-2-votes': '',
432.         }
433.         ChoiceFormSet = formset_factory(Choice, extra=3)
434.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
435.         self.assertFalse(formset.is_valid())
436.         self.assertEqual(formset.errors, [{}, {'votes': ['This field is required.']}, {}])
437. 
438.     def test_more_initial_data(self):
439.         """
440.         The extra argument works when the formset is pre-filled with initial
441.         data.
442.         """
443.         initial = [{'choice': 'Calexico', 'votes': 100}]
444.         ChoiceFormSet = formset_factory(Choice, extra=3)
445.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
446.         self.assertHTMLEqual(
447.             '\n'.join(form.as_ul() for form in formset.forms),
448.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
449. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
450. <li>Choice: <input type="text" name="choices-1-choice"></li>
451. <li>Votes: <input type="number" name="choices-1-votes"></li>
452. <li>Choice: <input type="text" name="choices-2-choice"></li>
453. <li>Votes: <input type="number" name="choices-2-votes"></li>
454. <li>Choice: <input type="text" name="choices-3-choice"></li>
455. <li>Votes: <input type="number" name="choices-3-votes"></li>"""
456.         )
457.         # Retrieving an empty form works. Tt shows up in the form list.
458.         self.assertTrue(formset.empty_form.empty_permitted)
459.         self.assertHTMLEqual(
460.             formset.empty_form.as_ul(),
461.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
462. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>"""
463.         )
464. 
465.     def test_formset_with_deletion(self):
466.         """
467.         formset_factory's can_delete argument adds a boolean "delete" field to
468.         each form. When that boolean field is True, the form will be in
469.         formset.deleted_forms.
470.         """
471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
472.         initial = [{'choice': 'Calexico', 'votes': 100}, {'choice': 'Fergie', 'votes': 900}]
473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
474.         self.assertHTMLEqual(
475.             '\n'.join(form.as_ul() for form in formset.forms),
476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>
479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>
480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>
481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>
482. <li>Choice: <input type="text" name="choices-2-choice"></li>
483. <li>Votes: <input type="number" name="choices-2-votes"></li>
484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""
485.         )
486.         # To delete something, set that form's special delete field to 'on'.
487.         # Let's go ahead and delete Fergie.
488.         data = {
489.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
490.             'choices-INITIAL_FORMS': '2',  # the number of forms with initial data
491.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
492.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
493.             'choices-0-choice': 'Calexico',
494.             'choices-0-votes': '100',
495.             'choices-0-DELETE': '',
496.             'choices-1-choice': 'Fergie',
497.             'choices-1-votes': '900',
498.             'choices-1-DELETE': 'on',
499.             'choices-2-choice': '',
500.             'choices-2-votes': '',

File: tests/forms_tests/tests/test_formsets.py
Line number range: 545 - 571
Content:
545.         self.assertFalse(formset.is_valid())
546. 
547.     def test_formset_with_deletion_invalid_deleted_form(self):
548.         """
549.         deleted_forms works on a valid formset even if a deleted form would
550.         have been invalid.
551.         """
552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
553.         formset = FavoriteDrinkFormset({
554.             'form-0-name': '',
555.             'form-0-DELETE': 'on',  # no name!
556.             'form-TOTAL_FORMS': 1,
557.             'form-INITIAL_FORMS': 1,
558.             'form-MIN_NUM_FORMS': 0,
559.             'form-MAX_NUM_FORMS': 1,
560.         })
561.         self.assertTrue(formset.is_valid())
562.         self.assertEqual(formset._errors, [])
563.         self.assertEqual(len(formset.deleted_forms), 1)
564. 
565.     def test_formset_with_deletion_custom_widget(self):
566.         class DeletionAttributeFormSet(BaseFormSet):
567.             deletion_widget = HiddenInput
568. 
569.         class DeletionMethodFormSet(BaseFormSet):
570.             def get_deletion_widget(self):
571.                 return HiddenInput(attrs={'class': 'deletion'})

File: tests/forms_tests/tests/test_formsets.py
Line number range: 573 - 590
Content:
573.         tests = [
574.             (DeletionAttributeFormSet, '<input type="hidden" name="form-0-DELETE">'),
575.             (
576.                 DeletionMethodFormSet,
577.                 '<input class="deletion" type="hidden" name="form-0-DELETE">',
578.             ),
579.         ]
580.         for formset_class, delete_html in tests:
581.             with self.subTest(formset_class=formset_class.__name__):
582.                 ArticleFormSet = formset_factory(
583.                     ArticleForm,
584.                     formset=formset_class,
585.                     can_delete=True,
586.                 )
587.                 formset = ArticleFormSet(auto_id=False)
588.                 self.assertHTMLEqual(
589.                     '\n'.join([form.as_ul() for form in formset.forms]),
590.                     (

File: tests/forms_tests/tests/test_formsets.py
Line number range: 592 - 612
Content:
592.                         f'<li>Pub date: <input type="text" name="form-0-pub_date">'
593.                         f'{delete_html}</li>'
594.                     ),
595.                 )
596. 
597.     def test_formsets_with_ordering(self):
598.         """
599.         formset_factory's can_order argument adds an integer field to each
600.         form. When form validation succeeds, [form.cleaned_data for form in formset.forms]
601.         will have the data in the correct order specified by the ordering
602.         fields. If a number is duplicated in the set of ordering fields, for
603.         instance form 0 and form 3 are both marked as 1, then the form index
604.         used as a secondary ordering criteria. In order to put something at the
605.         front of the list, you'd need to set its order to 0.
606.         """
607.         ChoiceFormSet = formset_factory(Choice, can_order=True)
608.         initial = [{'choice': 'Calexico', 'votes': 100}, {'choice': 'Fergie', 'votes': 900}]
609.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
610.         self.assertHTMLEqual(
611.             '\n'.join(form.as_ul() for form in formset.forms),
612.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and return it in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 15:58:33,862 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user wants to create an 'edit only' model formset, preventing the creation of new objects.\n   - The user mentioned that using `extra=0` is unreliable because extra forms can be added via JavaScript.\n2. Extended relevance:\n   - This test case provides the direct solution to the user's problem.\n   - It demonstrates the use of `validate_max=True` to enforce the `max_num` limit on the server side.\n   - The test simulates a user submitting more forms than allowed (`TOTAL_FORMS` > `max_num`) and asserts that a `ValidationError` is raised, proving this is the correct way to prevent extra form submissions.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=330, end_line=355), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's issue description explicitly states that `extra=0` is not a reliable way to prevent new object creation.\n2. Extended relevance:\n   - This test case provides a concrete example of why `extra=0` is not sufficient.\n   - It shows that when `min_num` is set to a value greater than the number of extra forms, `min_num` takes precedence and more forms are displayed.\n   - This helps the user understand the limitations of `extra=0` and why a server-side validation like `validate_max` is necessary.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=297, end_line=310), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user wants to create an 'edit only' view, which typically includes the ability to delete existing objects.\n2. Extended relevance:\n   - This test demonstrates how to implement deletion functionality in a formset by using the `can_delete=True` argument.\n   - It shows how the delete checkbox is rendered and how the formset processes the data, separating deleted forms into the `deleted_forms` attribute.\n   - This is an essential feature for building a complete 'edit only' interface.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=465, end_line=525), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is building an 'edit only' view, which implies handling existing data that might not be clean.\n2. Extended relevance:\n   - This test covers an important edge case for deletion: a form marked for deletion does not need to be valid.\n   - It shows that even if a form's data is invalid (e.g., a required field is blank), if the form is marked for deletion, the formset as a whole can still be considered valid.\n   - This is crucial for allowing users to delete legacy or corrupted data.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=547, end_line=564), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's problem is about controlling the number of forms in a formset.\n2. Extended relevance:\n   - This test case demonstrates the `validate_min=True` flag, which is the counterpart to `validate_max=True`.\n   - While the user's immediate need is to set a maximum, understanding the entire validation framework for form counts is relevant.\n   - This test shows how to enforce a minimum number of forms, providing a more complete picture of how to manage formset sizes, which is at the core of the user's issue.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=356, end_line=382)]
2025-10-05 15:58:33,863 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='330.     def test_formset_validate_max_flag(self):\n331.         """\n332.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n334.         irrelevant here (it\'s output as a hint for the client but its value\n335.         in the returned data is not checked).\n336.         """\n337.         data = {\n338.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n339.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n340.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n341.             \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n342.             \'choices-0-choice\': \'Zero\',\n343.             \'choices-0-votes\': \'0\',\n344.             \'choices-1-choice\': \'One\',\n345.             \'choices-1-votes\': \'1\',\n346.         }\n347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n348.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n349.         self.assertFalse(formset.is_valid())\n350.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n351.         self.assertEqual(\n352.             str(formset.non_form_errors()),\n353.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n354.         )\n355. ', start_line_number=330, end_line_number=355), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n298.         """More than 1 empty form can be displayed using min_num."""\n299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n300.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n301.         self.assertHTMLEqual(\n302.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n304. <li>Votes: <input type="number" name="choices-0-votes"></li>\n305. <li>Choice: <input type="text" name="choices-1-choice"></li>\n306. <li>Votes: <input type="number" name="choices-1-votes"></li>\n307. <li>Choice: <input type="text" name="choices-2-choice"></li>\n308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n309.         )\n310. ', start_line_number=297, end_line_number=310), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='465.     def test_formset_with_deletion(self):\n466.         """\n467.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n468.         each form. When that boolean field is True, the form will be in\n469.         formset.deleted_forms.\n470.         """\n471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n472.         initial = [{\'choice\': \'Calexico\', \'votes\': 100}, {\'choice\': \'Fergie\', \'votes\': 900}]\n473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n474.         self.assertHTMLEqual(\n475.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\n478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\n479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>\n480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\n481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\n482. <li>Choice: <input type="text" name="choices-2-choice"></li>\n483. <li>Votes: <input type="number" name="choices-2-votes"></li>\n484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""\n485.         )\n486.         # To delete something, set that form\'s special delete field to \'on\'.\n487.         # Let\'s go ahead and delete Fergie.\n488.         data = {\n489.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n490.             \'choices-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n491.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n492.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n493.             \'choices-0-choice\': \'Calexico\',\n494.             \'choices-0-votes\': \'100\',\n495.             \'choices-0-DELETE\': \'\',\n496.             \'choices-1-choice\': \'Fergie\',\n497.             \'choices-1-votes\': \'900\',\n498.             \'choices-1-DELETE\': \'on\',\n499.             \'choices-2-choice\': \'\',\n500.             \'choices-2-votes\': \'\',\n501.             \'choices-2-DELETE\': \'\',\n502.         }\n503.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n504.         self.assertTrue(formset.is_valid())\n505.         self.assertEqual(\n506.             [form.cleaned_data for form in formset.forms],\n507.             [\n508.                 {\'votes\': 100, \'DELETE\': False, \'choice\': \'Calexico\'},\n509.                 {\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'},\n510.                 {},\n511.             ]\n512.         )\n513.         self.assertEqual(\n514.             [form.cleaned_data for form in formset.deleted_forms],\n515.             [{\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'}]\n516.         )\n517. \n518.     def test_formset_with_deletion_remove_deletion_flag(self):\n519.         """\n520.         If a form is filled with something and can_delete is also checked, that\n521.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n522.         going to be deleted.\n523.         """\n524.         class CheckForm(Form):\n525.             field = IntegerField(min_value=100)', start_line_number=465, end_line_number=525), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='547.     def test_formset_with_deletion_invalid_deleted_form(self):\n548.         """\n549.         deleted_forms works on a valid formset even if a deleted form would\n550.         have been invalid.\n551.         """\n552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n553.         formset = FavoriteDrinkFormset({\n554.             \'form-0-name\': \'\',\n555.             \'form-0-DELETE\': \'on\',  # no name!\n556.             \'form-TOTAL_FORMS\': 1,\n557.             \'form-INITIAL_FORMS\': 1,\n558.             \'form-MIN_NUM_FORMS\': 0,\n559.             \'form-MAX_NUM_FORMS\': 1,\n560.         })\n561.         self.assertTrue(formset.is_valid())\n562.         self.assertEqual(formset._errors, [])\n563.         self.assertEqual(len(formset.deleted_forms), 1)\n564. ', start_line_number=547, end_line_number=564), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='356.     def test_formset_validate_min_flag(self):\n357.         """\n358.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n360.         irrelevant here (it\'s output as a hint for the client but its value\n361.         in the returned data is not checked).\n362.         """\n363.         data = {\n364.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n365.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n366.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n367.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n368.             \'choices-0-choice\': \'Zero\',\n369.             \'choices-0-votes\': \'0\',\n370.             \'choices-1-choice\': \'One\',\n371.             \'choices-1-votes\': \'1\',\n372.         }\n373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n374.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n375.         self.assertFalse(formset.is_valid())\n376.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n377.         self.assertEqual(\n378.             str(formset.non_form_errors()),\n379.             \'<ul class="errorlist nonform"><li>\'\n380.             \'Please submit at least 3 forms.</li></ul>\',\n381.         )\n382. ', start_line_number=356, end_line_number=382)]
2025-10-05 15:58:33,864 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 15:58:33,864 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   └── gis
|       └── mapwidget.test.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_middleware_urlconf.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   ├── test_shuffler.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── buffer
    |   |   └── tests_buffer.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── failures
    |   |   ├── __init__.py
    |   |   └── tests_failures.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       ├── tests_inheritance.py
    |       └── tests_syntax_error.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_serializemixin.py
    |   ├── test_simpletestcase.py
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_same_name_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 330 - 355
Content:
330.     def test_formset_validate_max_flag(self):
331.         """
332.         If validate_max is set and max_num is less than TOTAL_FORMS in the
333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
334.         irrelevant here (it's output as a hint for the client but its value
335.         in the returned data is not checked).
336.         """
337.         data = {
338.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
339.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
340.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
341.             'choices-MAX_NUM_FORMS': '2',  # max number of forms - should be ignored
342.             'choices-0-choice': 'Zero',
343.             'choices-0-votes': '0',
344.             'choices-1-choice': 'One',
345.             'choices-1-votes': '1',
346.         }
347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
348.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
349.         self.assertFalse(formset.is_valid())
350.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
351.         self.assertEqual(
352.             str(formset.non_form_errors()),
353.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
354.         )
355. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 297 - 310
Content:
297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
298.         """More than 1 empty form can be displayed using min_num."""
299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
300.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
301.         self.assertHTMLEqual(
302.             '\n'.join(form.as_ul() for form in formset.forms),
303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
304. <li>Votes: <input type="number" name="choices-0-votes"></li>
305. <li>Choice: <input type="text" name="choices-1-choice"></li>
306. <li>Votes: <input type="number" name="choices-1-votes"></li>
307. <li>Choice: <input type="text" name="choices-2-choice"></li>
308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
309.         )
310. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 465 - 525
Content:
465.     def test_formset_with_deletion(self):
466.         """
467.         formset_factory's can_delete argument adds a boolean "delete" field to
468.         each form. When that boolean field is True, the form will be in
469.         formset.deleted_forms.
470.         """
471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
472.         initial = [{'choice': 'Calexico', 'votes': 100}, {'choice': 'Fergie', 'votes': 900}]
473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
474.         self.assertHTMLEqual(
475.             '\n'.join(form.as_ul() for form in formset.forms),
476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>
479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>
480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>
481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>
482. <li>Choice: <input type="text" name="choices-2-choice"></li>
483. <li>Votes: <input type="number" name="choices-2-votes"></li>
484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""
485.         )
486.         # To delete something, set that form's special delete field to 'on'.
487.         # Let's go ahead and delete Fergie.
488.         data = {
489.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
490.             'choices-INITIAL_FORMS': '2',  # the number of forms with initial data
491.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
492.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
493.             'choices-0-choice': 'Calexico',
494.             'choices-0-votes': '100',
495.             'choices-0-DELETE': '',
496.             'choices-1-choice': 'Fergie',
497.             'choices-1-votes': '900',
498.             'choices-1-DELETE': 'on',
499.             'choices-2-choice': '',
500.             'choices-2-votes': '',
501.             'choices-2-DELETE': '',
502.         }
503.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
504.         self.assertTrue(formset.is_valid())
505.         self.assertEqual(
506.             [form.cleaned_data for form in formset.forms],
507.             [
508.                 {'votes': 100, 'DELETE': False, 'choice': 'Calexico'},
509.                 {'votes': 900, 'DELETE': True, 'choice': 'Fergie'},
510.                 {},
511.             ]
512.         )
513.         self.assertEqual(
514.             [form.cleaned_data for form in formset.deleted_forms],
515.             [{'votes': 900, 'DELETE': True, 'choice': 'Fergie'}]
516.         )
517. 
518.     def test_formset_with_deletion_remove_deletion_flag(self):
519.         """
520.         If a form is filled with something and can_delete is also checked, that
521.         form's errors shouldn't make the entire formset invalid since it's
522.         going to be deleted.
523.         """
524.         class CheckForm(Form):
525.             field = IntegerField(min_value=100)


File: tests/forms_tests/tests/test_formsets.py
Line number range: 547 - 564
Content:
547.     def test_formset_with_deletion_invalid_deleted_form(self):
548.         """
549.         deleted_forms works on a valid formset even if a deleted form would
550.         have been invalid.
551.         """
552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
553.         formset = FavoriteDrinkFormset({
554.             'form-0-name': '',
555.             'form-0-DELETE': 'on',  # no name!
556.             'form-TOTAL_FORMS': 1,
557.             'form-INITIAL_FORMS': 1,
558.             'form-MIN_NUM_FORMS': 0,
559.             'form-MAX_NUM_FORMS': 1,
560.         })
561.         self.assertTrue(formset.is_valid())
562.         self.assertEqual(formset._errors, [])
563.         self.assertEqual(len(formset.deleted_forms), 1)
564. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 356 - 382
Content:
356.     def test_formset_validate_min_flag(self):
357.         """
358.         If validate_min is set and min_num is more than TOTAL_FORMS in the
359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
360.         irrelevant here (it's output as a hint for the client but its value
361.         in the returned data is not checked).
362.         """
363.         data = {
364.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
365.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
366.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
367.             'choices-MAX_NUM_FORMS': '0',  # max number of forms - should be ignored
368.             'choices-0-choice': 'Zero',
369.             'choices-0-votes': '0',
370.             'choices-1-choice': 'One',
371.             'choices-1-votes': '1',
372.         }
373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
374.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
375.         self.assertFalse(formset.is_valid())
376.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 3 forms.'])
377.         self.assertEqual(
378.             str(formset.non_form_errors()),
379.             '<ul class="errorlist nonform"><li>'
380.             'Please submit at least 3 forms.</li></ul>',
381.         )
382. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 15:58:57,832 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="1. The user's query is about preventing new object creation in `model formsets`. The provided context contains tests for basic `formsets` using `formset_factory`, not `modelformset_factory`.\n2. The provided test `test_formset_validate_max_flag` is conceptually similar to what's needed, but it doesn't use models or `modelformset_factory`, which is central to the user's issue.\n3. A proper solution would likely involve `modelformset_factory` with the `queryset` parameter to populate it with existing objects, and `max_num` and `validate_max=True` to prevent adding more. The current context does not show this.\n4. The file `tests/model_formsets/tests.py` is the most likely place to find relevant examples, but it is not included in the context." refined_query="Show me tests from `tests/model_formsets/tests.py` and `tests/inline_formsets/tests.py` that involve `modelformset_factory` or `inlineformset_factory` and the `max_num` and `validate_max` parameters. I'm looking for examples of how to prevent the creation of new objects while editing existing ones."
2025-10-05 15:59:05,503 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have located the relevant tests in `tests/model_formsets/tests.py` and `tests/inline_formsets/tests.py` that demonstrate how to use the `max_num` and `validate_max` parameters with `modelformset_factory` and `inlineformset_factory`. I started by searching for the `validate_max` parameter within both files to identify the specific tests that address the user's query. The most relevant examples were found in `tests/inline_formsets/tests.py`, which I have read to understand the implementation. These tests illustrate how to configure formsets to prevent the creation of new objects beyond a specified limit." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "validate_max", "relative_path": "tests/model_formsets/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56382, 'candidates_token_count': 178, 'total_token_count': 57058, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56382}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 178}], 'thoughts_token_count': 498, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3158565264069632, 'model_name': 'gemini-2.5-pro'} id='run--d73919ff-848e-4455-8819-026d02d2ed89-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'validate_max', 'relative_path': 'tests/model_formsets/tests.py'}, 'id': '7e1c341d-9ca3-464b-8df6-38524a3fadb0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56382, 'output_tokens': 178, 'total_tokens': 57058, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 498}}
2025-10-05 15:59:08,240 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "validate_max", "relative_path": "tests/inline_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'14f21322-9fda-492a-b316-f7417299dea6': 'CswBAR/MhbbD4C1OJRS0oymFPAiYFgKL8d13C86e/8SPfEy4he3bvUadbwpOLH1mvqX0V43REuWK/2VJm6K1K3FgzusXvgzsDaqfdJmpZzIxib8iPHBLR2aRBBCgjn1Fy0GjnLM28ser3CDzGvaqb9lkM9budmXi2gIL5Ojkmdp4noGtHAH79RW2Ty18l81pvDvRopJD5u7mPU8lFk1zcJbBwBL6ADT8u1VrQ3P8XhMLuUBbEW/Hxabwa6HqTQB5BEq+kKm8JM4ygSYnIHLU'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 81148, 'candidates_token_count': 36, 'total_token_count': 81239, 'prompt_tokens_details': [{'modality': 1, 'token_count': 81148}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 36}], 'thoughts_token_count': 55, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1909317308002048, 'model_name': 'gemini-2.5-pro'} id='run--3103c7cb-bd51-45b2-9638-28a34f911661-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'validate_max', 'relative_path': 'tests/inline_formsets/tests.py'}, 'id': '14f21322-9fda-492a-b316-f7417299dea6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 81148, 'output_tokens': 36, 'total_tokens': 81239, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 55}}
2025-10-05 15:59:13,223 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "max_num", "relative_path": "tests/inline_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'e1c07575-9ffa-4de8-a805-5daa04ae0c6f': 'CvcIAR/MhbakqtlxkYICLMTmJX3OnfizftO3+5MANzFfNsS8326ITpMbb+ERRSdUt+bq+m8oA+zvFoHs1IBbRqUNJdru4BxZR81b5o7yGXI0XLN/qj2OIbXRMwJnGXQ6htGN3UZBwLz2WkyD5KCDFHgkvZeDkhEfBLOFRfFCqZRz27joTm/DHoLA5VITHkk6ut8/Jc477/n+St4ERg4XU3+dptm6abcRgfr+QizqTwMOVumxtRcpu5K8h8QDWLrRRG0vvtSzHdJmC0sXlRbSFp1N9ub8iwv8K4VkwClEpL7owxBH1BnE6Xj3inAmdQydYcU2ZdqJFH/7SlwJvzHzuRMzfVqEA2UQ3BqdeyWr9XTkCzVCmM3j+k1CbtvWOiCDCWWENTCuwYcdP9NnPQ6mDApOE2TSEykxJyRWKL0aff39PHhrDCEypHTuuCF3iCnZFglaqyquRtrfZxnPBn0JrwiO5L5eCBKV2s3poZdDDs3asWTk21glSUq75iV3CdnVfmHeotCqwQq+wH8p8KqnVg1jbO8h2HHgTVLnvTrxokLnjwBkd17miIBpGYw6XBRxVI9Zrj7Td+qxNxQTWz7KQJUaKr8spgz66RZ2TiqGkfnoZcDew4hPQIcem7S4n/yKOZT1Gc5HxgRvTtnsLXChHmPZ5y+s8g4QsKNjbz+/CJ5eilCtENB7fs4Eoft4MU/gjdqD0yhylAx80eU5Aek1suWvAMmm5WPugEZpQn5aaDxcJ3jhuqX426n9lbuSh6HLmdTCSBlwXGJKvr13HWmMtsD5fsG5wneKkhAKiuqjEi1ZGSaR17QP+NWknK1TTnAZhf3ytzboN1NIYaPgAxP1LJt8JoA4NpVTBCzKbV0TQYikUnsGuIYqj4dma7bv9BYKH53ADK8X0UY7BUvnPgEPMhX9hjK/ehFnM02ViLWsgCj1UE5draGWTXe/oZMAM8BhXjhpXoiK2c+pOVeh+geB/R1bM9FvR73AHPnrbRYVvowh/1PfsMamWdaOfcRGNrFv7ADrriU7OaYJBWopo7oJA3rLasgSx+dEt9nik/xVlQGGPwvKzVUnXvzREJ1GGR4EHa0tfyu2Tk1bNyImtwM3c7NoXiPK+WFD9NjoOiB9c0Bmvin6vNy67KnWrbCunXX0buOOk+B/FrZaMKnnhyF6Nr7f+5Ja03QTDNLnTWTypG09ztQZrvbDWIVvjSu4YC8B6plhRh4hne5vqKfC2HLz297pBn/+TgnrRXL3HCmcrWzf3mpWtD9OOjKDPJ0x9dOPid78G663veRiH5Emshg7ZmWE+4CM/BrkZSCP0aJ/ZHNr+Es81cvObo/vy39SJFQ80tsLzw/ZSwNJsdIGohmDtAdZlGA1cOK3IaO+dNHtUx5ifDjyOzDFBlJ/8cum6M5Y60KaWEnhwU6QoulrFjK004kt/Ivh80QnJCIOaCaK1BNVfSd7ZMvu5PdWOBneQ7+3VhdYIwUTkgdcmDoFjXdMbltEs4QlhESUe0bR6wA1SP2w4t9GHlYm0VPC'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 81216, 'candidates_token_count': 36, 'total_token_count': 81559, 'cached_content_token_count': 78857, 'prompt_tokens_details': [{'modality': 1, 'token_count': 81269}], 'cache_tokens_details': [{'modality': 1, 'token_count': 78857}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 36}], 'thoughts_token_count': 307}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8920453389485677, 'model_name': 'gemini-2.5-pro'} id='run--6fc0baba-a66e-4d24-aaa2-2af0b8887220-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'max_num', 'relative_path': 'tests/inline_formsets/tests.py'}, 'id': 'e1c07575-9ffa-4de8-a805-5daa04ae0c6f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 81216, 'output_tokens': 36, 'total_tokens': 81559, 'input_token_details': {'cache_read': 78857}, 'output_token_details': {'reasoning': 307}}
2025-10-05 15:59:18,465 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "inlineformset_factory", "relative_path": "tests/inline_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'d2d9fa48-e90b-4a95-b78e-d7aac5fb5ff7': 'CtkJAR/Mhbb3L4A9LVpwPCnWG8S5UpYvF3dV/3RAUeznpHQaiyy7l+8k1tNsYRUucRpKa2VPuejN5KAvLDJoAakvpLmeg8wvxgpdUPpAkN/6VVi6o+bJc2wwprxhg0KBYbrho23szdIW9no59D/ASPdNgFtq6z1VMHqSgbhHSvgPOrTLKnmt5fu1A1MNFKFzijKGCxi2qnbfgkXCi+Y4+myBZInM55LaytKj6Il0k33wDuUkyEcK8v1oCrTNiupwjQhfI/4Geu6BLROahrShpKK0qfQK6/HXgyN86OO29MwtaVhEa3zdIEJiANFiIddcerN3WAWNqxQKtoI5phLl272f1p4CuNVWNbMtzXXUGXbsMdYN0FcmBhnv63euN9Yk9JRLP6NH5w0G3C3kBxtxnHONv80yTDiPBO+8MirYVi51M8BvAuR5qMf74lcWRemYL2jwLjrBlaEIzORGf/Sb/EjgHZHlh9EzZ+eVkIZ1OxOQ4N8oYbQpgnFVeF85KOV077vY2sV/SaYmz8+hjHPUnigIJG+CfP5BHSo9PHipDt/cl3/d5a+HUS4wh/F3UmZdEbxAze9Nu8g4kbRwC6SZUo4idoeJOSaofm0f5sQnvPsjs01skbRAPw7R+iO9iH6WwMPEkn6GAZZ2oHZdnsaa1zEGsKjJMQj36R+9J56R295qzZJ28u6SQOa5f4Ir19sC/tnfG7RNPWh6Nvocq/Jc4In3DidQd7r3TuEyNN1GZqcaccqd210/80WDKH6vHRx76FaRF1d2JzqJ8U++1Na3Rx+GxgTIUDphekM2hP2D1EWYg3UqOG0BaDQpZmXycipqUQsMJlmaX09ufQc95HG6e5e66QnEdFyGHWa1zdXW4rVjO885BuYRcDwZLCgdNRYR0ReKDWM6K3CCC+3sAc15L26FdPAp3Ua99RW86Oj7TIp8rtXtiTqurJG9YXhihu4p/oz/zAGrw/hKsbM7XtwtDyFx5fE4wB0jAtAoa1r1uBesmAeQ8iLyzeoFFHn0hMbkzxbzwA7s2PFrInd7sXT7XLIVUtRIk7Sw+W7QdFs92G8ZdNvJYV7NA0VEjCnsJhOLG7my6HlpcNxoF/tKAipMQcmGa2PKzR7pSlaFuLZhj85dtBd2hNY4xn5JhBND2+GcHyaYArVYJPP0VgNJIzJlXKXqT3lP1e+69SJe8ZFqPddEUAdKN9JISoc9284IZB8zvW1Qg4FP77jUS9kGCHx7SrgPPAhSPQQcNzbbOHgNCvUEG7ah765sPKtUfWKJxF5i/t1FbNCflRtF4rytExjABQn8akVe+mPyfRn+YX7OVQXympgfseiRs2ARDFWhal4MhR4CI/m2e5ZRzops2xhRVBELKS9bRjULPKUvNDRjUCkknmw3xnouSdGqEEsPHyQCG9OFlc4smiO1Y8w5LH26uEvWDKuqzzLGZYH9oz/6JiAJBQ6S//UbMIsJtJ5MQ7sWmR5Z/AOslpQu5umYB1NsUzvdmPPyieskjOyO16QIkBAy47YQQbG5vrcEt7xeE+G1MJtH01S1L8RdZwpwuBc1AFfbm2Z0K9NzipUDzojpr9CKTVy5jjFLfbglU1U23SN3rengKKBCV+PkQZ0mASjASj75ouzvDQewa7+yawhm/i2eneyfb/jQBoIE1lE='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 81284, 'candidates_token_count': 38, 'total_token_count': 81672, 'cached_content_token_count': 78834, 'prompt_tokens_details': [{'modality': 1, 'token_count': 81642}], 'cache_tokens_details': [{'modality': 1, 'token_count': 78834}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 38}], 'thoughts_token_count': 350}, 'finish_reason': 'STOP', 'avg_logprobs': -0.9023729625501131, 'model_name': 'gemini-2.5-pro'} id='run--fbffc913-9536-48db-b8c0-66f67cdc0f36-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'inlineformset_factory', 'relative_path': 'tests/inline_formsets/tests.py'}, 'id': 'd2d9fa48-e90b-4a95-b78e-d7aac5fb5ff7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 81284, 'output_tokens': 38, 'total_tokens': 81672, 'input_token_details': {'cache_read': 78834}, 'output_token_details': {'reasoning': 350}}
2025-10-05 15:59:21,504 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/inline_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'2e2830da-5e08-457c-abd0-19f2cff7b0a0': 'Cs4EAR/MhbbgxRQipvjVrkYT+BR+IlmqDof74d3UNmETRKVDC8z4uhdLeZz14CDdvrYm+KYROTIpkljCcuDLo7Ecae479ma1q02iqnGXLOD5kRABHum8p1cOXCc+0tkwgGdP/LHVgJ84fuD25HvIVot11FesdwcDpUkC35p8gnD9N7sQTDCFVWGGh/G4rGpq0iVm689VbxWj7LSdGRMxDJKTadD/0wGsIikDR70lokvdM7NDai6/8VlUU9HnDFHwkBH630VKW8IN0+xkVxP1tMXJtzcqCuTp2EdF7kw8vMUuoaplH+O8vFMVmu+Wh6ytrtTyllPB+Pbb+jmfCHNOM+OzBZu0r1glt8MUg2NG174WRnwTXk0iu4aHNSW/cvFvv50PBMQZaoR1yBWQZQSAH3MYT5CMzhN9KCGuk6+m6T+3JCAx4oa51oL0tPp1yn59qTGVa3qlFQUBzPnLGSDn7PC83eCQGGH5FfSjhdRFjckz/AU1Nasef+210JIAftOrVfDd4GgNEinBUQC/JreXUDhTeHHDLcTxSngLHhlBMboeWtVY3aHPc+kWve2VgFRRtZSH2weydDS0/jBKU7Oaoe2n9OYizMYIx74BUrgQfdXwW/Z7XOqVDQCf4AjiqLDAkSQYM1bnV1ABIp3U96Xz+QSj59PypXt/92Q+dFKHR8WwLRidV8//p+A7lTVgYQ0JhY/P0QUntP8zdLfVNkkRXaKqp516aXXOsnAYKNFn5iG+MonrjgflWvjPUfBcmg4xWS/85OAVj4csRN6dQT226Mo='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 84293, 'candidates_token_count': 24, 'total_token_count': 84471, 'cached_content_token_count': 78667, 'prompt_tokens_details': [{'modality': 1, 'token_count': 84999}], 'cache_tokens_details': [{'modality': 1, 'token_count': 78667}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 24}], 'thoughts_token_count': 154}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7959682941436768, 'model_name': 'gemini-2.5-pro'} id='run--b1f8c6f3-f3c7-46fa-8eb5-bcd5e7e4c6cf-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/inline_formsets/tests.py'}, 'id': '2e2830da-5e08-457c-abd0-19f2cff7b0a0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 84293, 'output_tokens': 24, 'total_tokens': 84471, 'input_token_details': {'cache_read': 78667}, 'output_token_details': {'reasoning': 154}}
2025-10-05 15:59:24,749 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1.0, "relative_path": "tests/model_formsets/tests.py", "end_line": 1773.0}'}, '__gemini_function_call_thought_signatures__': {'55efbbc2-24c2-43ec-ba54-3323ea777467': 'CtQDAR/MhbbytN5J704YnTeG7HHtIOSNBfP87L1tcjKII0uZqovkkj22c9W2CkdRcOPJYiJJp1Po4oLRBez7E/nNyC9C7C6dQ1+XQAbnPvQ2OJVjfvr2BzL1YaA2FomPx5JETwV8EyBHi6ZTE636IvEhaS+NEqL+ECp03B9Yt5hNiIxftHVeUguQhMvc5vTaD+mpCEuDjmkk1+CGLvf+vv1DH/CENHbZyebWbEEHNhfj5Bk27XsO/O32Yv581xSxvo3kAEvr5/jw9wVtSForGNamS3OcZvG+gIWrTFvtvSaiDyLtBOqtgIOJQGs5dwX6U1mV/DqV1Zp7ZRnFfQGbcqqohwqbgP/PTFY8T7ibD5pbMgDaKi5SIsptNYIdJwgpytpw3VFR21WQG9pMS2YRQ/VD/xyhtmLRChGlcPWSnJH+zPQvgHa5W0kQWNsXX0t1B7olK/ehH787JUXFJfb95vTwDElz4qwGCGHjDo+JX9JHxmVtsBny7ex24JY1l9VbjhpVI1X9W7zZpbyEJ2KqbvKISW0BilqRwVfRizevlbmHpoNEiPsNqrSaxqd7KFD2kBYYrvESzRB/oNv+wPUPTyQ0/FQbYKh/tG1kaf4AVD/bB7rOEBn2'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 87822, 'candidates_token_count': 30, 'total_token_count': 87979, 'cached_content_token_count': 82492, 'prompt_tokens_details': [{'modality': 1, 'token_count': 88680}], 'cache_tokens_details': [{'modality': 1, 'token_count': 82492}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 30}], 'thoughts_token_count': 127}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6504110972086589, 'model_name': 'gemini-2.5-pro'} id='run--2b78e4a8-d6f6-4c09-b88f-f809eecdac55-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1.0, 'relative_path': 'tests/model_formsets/tests.py', 'end_line': 1773.0}, 'id': '55efbbc2-24c2-43ec-ba54-3323ea777467', 'type': 'tool_call'}] usage_metadata={'input_tokens': 87822, 'output_tokens': 30, 'total_tokens': 87979, 'input_token_details': {'cache_read': 82492}, 'output_token_details': {'reasoning': 127}}
2025-10-05 15:59:31,372 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have found the relevant tests in `tests/model_formsets/tests.py` that demonstrate how to use the `max_num` and `validate_max` parameters with `modelformset_factory` and `inlineformset_factory`.\n\nIn `tests/model_formsets/tests.py`, the `test_modelformset_validate_max_flag` test shows how to use `validate_max=True` to enforce the `max_num` limit. When more forms than `max_num` are submitted, a `ValidationError` is raised.\n\nAlso in `tests/model_formsets/tests.py`, the `test_unique_true_enforces_max_num_one` test shows that for a `ForeignKey` with `unique=True`, `inlineformset_factory` automatically enforces `max_num=1`.\n\nI did not find any relevant tests in `tests/inline_formsets/tests.py`. The examples from `tests/model_formsets/tests.py` should provide the necessary information.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 121829, 'candidates_token_count': 227, 'total_token_count': 122306, 'cached_content_token_count': 85930, 'prompt_tokens_details': [{'modality': 1, 'token_count': 122812}], 'cache_tokens_details': [{'modality': 1, 'token_count': 85930}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 227}], 'thoughts_token_count': 250}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2476588513882675, 'model_name': 'gemini-2.5-pro'} id='run--8c37264c-a512-4cb3-8695-00c63ded0805-0' usage_metadata={'input_tokens': 121829, 'output_tokens': 227, 'total_tokens': 122306, 'input_token_details': {'cache_read': 85930}, 'output_token_details': {'reasoning': 250}}
2025-10-05 15:59:31,373 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 15:59:31,373 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Show me tests from `tests/model_formsets/tests.py` and `tests/inline_formsets/tests.py` that involve `modelformset_factory` or `inlineformset_factory` and the `max_num` and `validate_max` parameters. I'm looking for examples of how to prevent the creation of new objects while editing existing ones.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/inline_formsets/tests.py
Line number range: 1 - 204
Content:
1. from django.forms.models import ModelForm, inlineformset_factory
2. from django.test import TestCase, skipUnlessDBFeature
3. 
4. from .models import Child, Parent, Poem, Poet, School
5. 
6. 
7. class DeletionTests(TestCase):
8. 
9.     def test_deletion(self):
10.         PoemFormSet = inlineformset_factory(Poet, Poem, can_delete=True, fields="__all__")
11.         poet = Poet.objects.create(name='test')
12.         poem = poet.poem_set.create(name='test poem')
13.         data = {
14.             'poem_set-TOTAL_FORMS': '1',
15.             'poem_set-INITIAL_FORMS': '1',
16.             'poem_set-MAX_NUM_FORMS': '0',
17.             'poem_set-0-id': str(poem.pk),
18.             'poem_set-0-poet': str(poet.pk),
19.             'poem_set-0-name': 'test',
20.             'poem_set-0-DELETE': 'on',
21.         }
22.         formset = PoemFormSet(data, instance=poet)
23.         formset.save()
24.         self.assertTrue(formset.is_valid())
25.         self.assertEqual(Poem.objects.count(), 0)
26. 
27.     def test_add_form_deletion_when_invalid(self):
28.         """
29.         Make sure that an add form that is filled out, but marked for deletion
30.         doesn't cause validation errors.
31.         """
32.         PoemFormSet = inlineformset_factory(Poet, Poem, can_delete=True, fields="__all__")
33.         poet = Poet.objects.create(name='test')
34.         data = {
35.             'poem_set-TOTAL_FORMS': '1',
36.             'poem_set-INITIAL_FORMS': '0',
37.             'poem_set-MAX_NUM_FORMS': '0',
38.             'poem_set-0-id': '',
39.             'poem_set-0-poem': '1',
40.             'poem_set-0-name': 'x' * 1000,
41.         }
42.         formset = PoemFormSet(data, instance=poet)
43.         # Make sure this form doesn't pass validation.
44.         self.assertIs(formset.is_valid(), False)
45.         self.assertEqual(Poem.objects.count(), 0)
46. 
47.         # Then make sure that it *does* pass validation and delete the object,
48.         # even though the data isn't actually valid.
49.         data['poem_set-0-DELETE'] = 'on'
50.         formset = PoemFormSet(data, instance=poet)
51.         self.assertIs(formset.is_valid(), True)
52.         formset.save()
53.         self.assertEqual(Poem.objects.count(), 0)
54. 
55.     def test_change_form_deletion_when_invalid(self):
56.         """
57.         Make sure that a change form that is filled out, but marked for deletion
58.         doesn't cause validation errors.
59.         """
60.         PoemFormSet = inlineformset_factory(Poet, Poem, can_delete=True, fields="__all__")
61.         poet = Poet.objects.create(name='test')
62.         poem = poet.poem_set.create(name='test poem')
63.         data = {
64.             'poem_set-TOTAL_FORMS': '1',
65.             'poem_set-INITIAL_FORMS': '1',
66.             'poem_set-MAX_NUM_FORMS': '0',
67.             'poem_set-0-id': str(poem.id),
68.             'poem_set-0-poem': str(poem.id),
69.             'poem_set-0-name': 'x' * 1000,
70.         }
71.         formset = PoemFormSet(data, instance=poet)
72.         # Make sure this form doesn't pass validation.
73.         self.assertIs(formset.is_valid(), False)
74.         self.assertEqual(Poem.objects.count(), 1)
75. 
76.         # Then make sure that it *does* pass validation and delete the object,
77.         # even though the data isn't actually valid.
78.         data['poem_set-0-DELETE'] = 'on'
79.         formset = PoemFormSet(data, instance=poet)
80.         self.assertIs(formset.is_valid(), True)
81.         formset.save()
82.         self.assertEqual(Poem.objects.count(), 0)
83. 
84.     def test_save_new(self):
85.         """
86.         Make sure inlineformsets respect commit=False
87.         regression for #10750
88.         """
89.         # exclude some required field from the forms
90.         ChildFormSet = inlineformset_factory(School, Child, exclude=['father', 'mother'])
91.         school = School.objects.create(name='test')
92.         mother = Parent.objects.create(name='mother')
93.         father = Parent.objects.create(name='father')
94.         data = {
95.             'child_set-TOTAL_FORMS': '1',
96.             'child_set-INITIAL_FORMS': '0',
97.             'child_set-MAX_NUM_FORMS': '0',
98.             'child_set-0-name': 'child',
99.         }
100.         formset = ChildFormSet(data, instance=school)
101.         self.assertIs(formset.is_valid(), True)
102.         objects = formset.save(commit=False)
103.         for obj in objects:
104.             obj.mother = mother
105.             obj.father = father
106.             obj.save()
107.         self.assertEqual(school.child_set.count(), 1)
108. 
109. 
110. class InlineFormsetFactoryTest(TestCase):
111.     def test_inline_formset_factory(self):
112.         """
113.         These should both work without a problem.
114.         """
115.         inlineformset_factory(Parent, Child, fk_name='mother', fields="__all__")
116.         inlineformset_factory(Parent, Child, fk_name='father', fields="__all__")
117. 
118.     def test_exception_on_unspecified_foreign_key(self):
119.         """
120.         Child has two ForeignKeys to Parent, so if we don't specify which one
121.         to use for the inline formset, we should get an exception.
122.         """
123.         msg = "'inline_formsets.Child' has more than one ForeignKey to 'inline_formsets.Parent'."
124.         with self.assertRaisesMessage(ValueError, msg):
125.             inlineformset_factory(Parent, Child)
126. 
127.     def test_fk_name_not_foreign_key_field_from_child(self):
128.         """
129.         If we specify fk_name, but it isn't a ForeignKey from the child model
130.         to the parent model, we should get an exception.
131.         """
132.         msg = "fk_name 'school' is not a ForeignKey to 'inline_formsets.Parent'."
133.         with self.assertRaisesMessage(ValueError, msg):
134.             inlineformset_factory(Parent, Child, fk_name='school')
135. 
136.     def test_non_foreign_key_field(self):
137.         """
138.         If the field specified in fk_name is not a ForeignKey, we should get an
139.         exception.
140.         """
141.         with self.assertRaisesMessage(ValueError, "'inline_formsets.Child' has no field named 'test'."):
142.             inlineformset_factory(Parent, Child, fk_name='test')
143. 
144.     def test_any_iterable_allowed_as_argument_to_exclude(self):
145.         # Regression test for #9171.
146.         inlineformset_factory(
147.             Parent, Child, exclude=['school'], fk_name='mother'
148.         )
149. 
150.         inlineformset_factory(
151.             Parent, Child, exclude=('school',), fk_name='mother'
152.         )
153. 
154.     @skipUnlessDBFeature('allows_auto_pk_0')
155.     def test_zero_primary_key(self):
156.         # Regression test for #21472
157.         poet = Poet.objects.create(id=0, name='test')
158.         poet.poem_set.create(name='test poem')
159.         PoemFormSet = inlineformset_factory(Poet, Poem, fields="__all__", extra=0)
160.         formset = PoemFormSet(None, instance=poet)
161.         self.assertEqual(len(formset.forms), 1)
162. 
163.     def test_unsaved_fk_validate_unique(self):
164.         poet = Poet(name='unsaved')
165.         PoemFormSet = inlineformset_factory(Poet, Poem, fields=['name'])
166.         data = {
167.             'poem_set-TOTAL_FORMS': '2',
168.             'poem_set-INITIAL_FORMS': '0',
169.             'poem_set-MAX_NUM_FORMS': '2',
170.             'poem_set-0-name': 'Poem',
171.             'poem_set-1-name': 'Poem',
172.         }
173.         formset = PoemFormSet(data, instance=poet)
174.         self.assertFalse(formset.is_valid())
175.         self.assertEqual(formset.non_form_errors(), ['Please correct the duplicate data for name.'])
176. 
177.     def test_fk_not_duplicated_in_form_fields(self):
178.         """
179.         A foreign key name isn't duplicated in form._meta fields (#21332).
180.         """
181.         poet = Poet.objects.create(name='test')
182.         poet.poem_set.create(name='first test poem')
183.         poet.poem_set.create(name='second test poem')
184.         poet.poem_set.create(name='third test poem')
185.         PoemFormSet = inlineformset_factory(Poet, Poem, fields=('name',), extra=0)
186.         formset = PoemFormSet(None, instance=poet)
187.         self.assertEqual(len(formset.forms), 3)
188.         self.assertEqual(['name', 'poet'], PoemFormSet.form._meta.fields)
189. 
190.     def test_fk_in_all_formset_forms(self):
191.         """
192.         A foreign key field is in Meta for all forms in the formset (#26538).
193.         """
194.         class PoemModelForm(ModelForm):
195.             def __init__(self, *args, **kwargs):
196.                 assert 'poet' in self._meta.fields
197.                 super().__init__(*args, **kwargs)
198. 
199.         poet = Poet.objects.create(name='test')
200.         poet.poem_set.create(name='first test poem')
201.         poet.poem_set.create(name='second test poem')
202.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemModelForm, fields=('name',), extra=0)
203.         formset = PoemFormSet(None, instance=poet)
204.         formset.forms  # Trigger form instantiation to run the assert above.

File: tests/model_formsets/tests.py
Line number range: 1 - 1773
Content:
1. import datetime
2. import re
3. from datetime import date
4. from decimal import Decimal
5. 
6. from django import forms
7. from django.core.exceptions import ImproperlyConfigured
8. from django.db import models
9. from django.forms.models import (
10.     BaseModelFormSet, _get_foreign_key, inlineformset_factory,
11.     modelformset_factory,
12. )
13. from django.http import QueryDict
14. from django.test import TestCase, skipUnlessDBFeature
15. 
16. from .models import (
17.     AlternateBook, Author, AuthorMeeting, BetterAuthor, Book, BookWithCustomPK,
18.     BookWithOptionalAltEditor, ClassyMexicanRestaurant, CustomPrimaryKey,
19.     Location, Membership, MexicanRestaurant, Owner, OwnerProfile, Person,
20.     Place, Player, Poem, Poet, Post, Price, Product, Repository, Restaurant,
21.     Revision, Team,
22. )
23. 
24. 
25. class DeletionTests(TestCase):
26.     def test_deletion(self):
27.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
28.         poet = Poet.objects.create(name='test')
29.         data = {
30.             'form-TOTAL_FORMS': '1',
31.             'form-INITIAL_FORMS': '1',
32.             'form-MAX_NUM_FORMS': '0',
33.             'form-0-id': str(poet.pk),
34.             'form-0-name': 'test',
35.             'form-0-DELETE': 'on',
36.         }
37.         formset = PoetFormSet(data, queryset=Poet.objects.all())
38.         formset.save(commit=False)
39.         self.assertEqual(Poet.objects.count(), 1)
40. 
41.         formset.save()
42.         self.assertTrue(formset.is_valid())
43.         self.assertEqual(Poet.objects.count(), 0)
44. 
45.     def test_add_form_deletion_when_invalid(self):
46.         """
47.         Make sure that an add form that is filled out, but marked for deletion
48.         doesn't cause validation errors.
49.         """
50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
51.         poet = Poet.objects.create(name='test')
52.         # One existing untouched and two new unvalid forms
53.         data = {
54.             'form-TOTAL_FORMS': '3',
55.             'form-INITIAL_FORMS': '1',
56.             'form-MAX_NUM_FORMS': '0',
57.             'form-0-id': str(poet.id),
58.             'form-0-name': 'test',
59.             'form-1-id': '',
60.             'form-1-name': 'x' * 1000,  # Too long
61.             'form-2-id': str(poet.id),  # Violate unique constraint
62.             'form-2-name': 'test2',
63.         }
64.         formset = PoetFormSet(data, queryset=Poet.objects.all())
65.         # Make sure this form doesn't pass validation.
66.         self.assertIs(formset.is_valid(), False)
67.         self.assertEqual(Poet.objects.count(), 1)
68. 
69.         # Then make sure that it *does* pass validation and delete the object,
70.         # even though the data in new forms aren't actually valid.
71.         data['form-0-DELETE'] = 'on'
72.         data['form-1-DELETE'] = 'on'
73.         data['form-2-DELETE'] = 'on'
74.         formset = PoetFormSet(data, queryset=Poet.objects.all())
75.         self.assertIs(formset.is_valid(), True)
76.         formset.save()
77.         self.assertEqual(Poet.objects.count(), 0)
78. 
79.     def test_change_form_deletion_when_invalid(self):
80.         """
81.         Make sure that a change form that is filled out, but marked for deletion
82.         doesn't cause validation errors.
83.         """
84.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
85.         poet = Poet.objects.create(name='test')
86.         data = {
87.             'form-TOTAL_FORMS': '1',
88.             'form-INITIAL_FORMS': '1',
89.             'form-MAX_NUM_FORMS': '0',
90.             'form-0-id': str(poet.id),
91.             'form-0-name': 'x' * 1000,
92.         }
93.         formset = PoetFormSet(data, queryset=Poet.objects.all())
94.         # Make sure this form doesn't pass validation.
95.         self.assertIs(formset.is_valid(), False)
96.         self.assertEqual(Poet.objects.count(), 1)
97. 
98.         # Then make sure that it *does* pass validation and delete the object,
99.         # even though the data isn't actually valid.
100.         data['form-0-DELETE'] = 'on'
101.         formset = PoetFormSet(data, queryset=Poet.objects.all())
102.         self.assertIs(formset.is_valid(), True)
103.         formset.save()
104.         self.assertEqual(Poet.objects.count(), 0)
105. 
106.     def test_outdated_deletion(self):
107.         poet = Poet.objects.create(name='test')
108.         poem = Poem.objects.create(name='Brevity is the soul of wit', poet=poet)
109. 
110.         PoemFormSet = inlineformset_factory(Poet, Poem, fields="__all__", can_delete=True)
111. 
112.         # Simulate deletion of an object that doesn't exist in the database
113.         data = {
114.             'form-TOTAL_FORMS': '2',
115.             'form-INITIAL_FORMS': '2',
116.             'form-0-id': str(poem.pk),
117.             'form-0-name': 'foo',
118.             'form-1-id': str(poem.pk + 1),  # doesn't exist
119.             'form-1-name': 'bar',
120.             'form-1-DELETE': 'on',
121.         }
122.         formset = PoemFormSet(data, instance=poet, prefix="form")
123. 
124.         # The formset is valid even though poem.pk + 1 doesn't exist,
125.         # because it's marked for deletion anyway
126.         self.assertTrue(formset.is_valid())
127. 
128.         formset.save()
129. 
130.         # Make sure the save went through correctly
131.         self.assertEqual(Poem.objects.get(pk=poem.pk).name, "foo")
132.         self.assertEqual(poet.poem_set.count(), 1)
133.         self.assertFalse(Poem.objects.filter(pk=poem.pk + 1).exists())
134. 
135. 
136. class ModelFormsetTest(TestCase):
137.     def test_modelformset_factory_without_fields(self):
138.         """ Regression for #19733 """
139.         message = (
140.             "Calling modelformset_factory without defining 'fields' or 'exclude' "
141.             "explicitly is prohibited."
142.         )
143.         with self.assertRaisesMessage(ImproperlyConfigured, message):
144.             modelformset_factory(Author)
145. 
146.     def test_simple_save(self):
147.         qs = Author.objects.all()
148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)
149. 
150.         formset = AuthorFormSet(queryset=qs)
151.         self.assertEqual(len(formset.forms), 3)
152.         self.assertHTMLEqual(
153.             formset.forms[0].as_p(),
154.             '<p><label for="id_form-0-name">Name:</label>'
155.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">'
156.             '<input type="hidden" name="form-0-id" id="id_form-0-id"></p>'
157.         )
158.         self.assertHTMLEqual(
159.             formset.forms[1].as_p(),
160.             '<p><label for="id_form-1-name">Name:</label>'
161.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">'
162.             '<input type="hidden" name="form-1-id" id="id_form-1-id"></p>'
163.         )
164.         self.assertHTMLEqual(
165.             formset.forms[2].as_p(),
166.             '<p><label for="id_form-2-name">Name:</label>'
167.             ' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
168.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
169.         )
170. 
171.         data = {
172.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
173.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
174.             'form-MAX_NUM_FORMS': '',  # the max number of forms
175.             'form-0-name': 'Charles Baudelaire',
176.             'form-1-name': 'Arthur Rimbaud',
177.             'form-2-name': '',
178.         }
179. 
180.         formset = AuthorFormSet(data=data, queryset=qs)
181.         self.assertTrue(formset.is_valid())
182. 
183.         saved = formset.save()
184.         self.assertEqual(len(saved), 2)
185.         author1, author2 = saved
186.         self.assertEqual(author1, Author.objects.get(name='Charles Baudelaire'))
187.         self.assertEqual(author2, Author.objects.get(name='Arthur Rimbaud'))
188. 
189.         authors = list(Author.objects.order_by('name'))
190.         self.assertEqual(authors, [author2, author1])
191. 
192.         # Gah! We forgot Paul Verlaine. Let's create a formset to edit the
193.         # existing authors with an extra form to add him. We *could* pass in a
194.         # queryset to restrict the Author objects we edit, but in this case
195.         # we'll use it to display them in alphabetical order by name.
196. 
197.         qs = Author.objects.order_by('name')
198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)
199. 
200.         formset = AuthorFormSet(queryset=qs)
201.         self.assertEqual(len(formset.forms), 3)
202.         self.assertHTMLEqual(
203.             formset.forms[0].as_p(),
204.             '<p><label for="id_form-0-name">Name:</label>'
205.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">'
206.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
207.         )
208.         self.assertHTMLEqual(
209.             formset.forms[1].as_p(),
210.             '<p><label for="id_form-1-name">Name:</label>'
211.             '<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">'
212.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
213.         )
214.         self.assertHTMLEqual(
215.             formset.forms[2].as_p(),
216.             '<p><label for="id_form-2-name">Name:</label>'
217.             '<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
218.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
219.         )
220. 
221.         data = {
222.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
223.             'form-INITIAL_FORMS': '2',  # the number of forms with initial data
224.             'form-MAX_NUM_FORMS': '',  # the max number of forms
225.             'form-0-id': str(author2.id),
226.             'form-0-name': 'Arthur Rimbaud',
227.             'form-1-id': str(author1.id),
228.             'form-1-name': 'Charles Baudelaire',
229.             'form-2-name': 'Paul Verlaine',
230.         }
231. 
232.         formset = AuthorFormSet(data=data, queryset=qs)
233.         self.assertTrue(formset.is_valid())
234. 
235.         # Only changed or new objects are returned from formset.save()
236.         saved = formset.save()
237.         self.assertEqual(len(saved), 1)
238.         author3 = saved[0]
239.         self.assertEqual(author3, Author.objects.get(name='Paul Verlaine'))
240. 
241.         authors = list(Author.objects.order_by('name'))
242.         self.assertEqual(authors, [author2, author1, author3])
243. 
244.         # This probably shouldn't happen, but it will. If an add form was
245.         # marked for deletion, make sure we don't save that form.
246. 
247.         qs = Author.objects.order_by('name')
248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)
249. 
250.         formset = AuthorFormSet(queryset=qs)
251.         self.assertEqual(len(formset.forms), 4)
252.         self.assertHTMLEqual(
253.             formset.forms[0].as_p(),
254.             '<p><label for="id_form-0-name">Name:</label>'
255.             '<input id="id_form-0-name" type="text" name="form-0-name" '
256.             'value="Arthur Rimbaud" maxlength="100"></p>'
257.             '<p><label for="id_form-0-DELETE">Delete:</label>'
258.             '<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">'
259.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
260.         )
261.         self.assertHTMLEqual(
262.             formset.forms[1].as_p(),
263.             '<p><label for="id_form-1-name">Name:</label>'
264.             '<input id="id_form-1-name" type="text" name="form-1-name" '
265.             'value="Charles Baudelaire" maxlength="100"></p>'
266.             '<p><label for="id_form-1-DELETE">Delete:</label>'
267.             '<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">'
268.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
269.         )
270.         self.assertHTMLEqual(
271.             formset.forms[2].as_p(),
272.             '<p><label for="id_form-2-name">Name:</label>'
273.             '<input id="id_form-2-name" type="text" name="form-2-name" '
274.             'value="Paul Verlaine" maxlength="100"></p>'
275.             '<p><label for="id_form-2-DELETE">Delete:</label>'
276.             '<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">'
277.             '<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>' % author3.id
278.         )
279.         self.assertHTMLEqual(
280.             formset.forms[3].as_p(),
281.             '<p><label for="id_form-3-name">Name:</label>'
282.             '<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>'
283.             '<p><label for="id_form-3-DELETE">Delete:</label>'
284.             '<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">'
285.             '<input type="hidden" name="form-3-id" id="id_form-3-id"></p>'
286.         )
287. 
288.         data = {
289.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
290.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
291.             'form-MAX_NUM_FORMS': '',  # the max number of forms
292.             'form-0-id': str(author2.id),
293.             'form-0-name': 'Arthur Rimbaud',
294.             'form-1-id': str(author1.id),
295.             'form-1-name': 'Charles Baudelaire',
296.             'form-2-id': str(author3.id),
297.             'form-2-name': 'Paul Verlaine',
298.             'form-3-name': 'Walt Whitman',
299.             'form-3-DELETE': 'on',
300.         }
301. 
302.         formset = AuthorFormSet(data=data, queryset=qs)
303.         self.assertTrue(formset.is_valid())
304. 
305.         # No objects were changed or saved so nothing will come back.
306. 
307.         self.assertEqual(formset.save(), [])
308. 
309.         authors = list(Author.objects.order_by('name'))
310.         self.assertEqual(authors, [author2, author1, author3])
311. 
312.         # Let's edit a record to ensure save only returns that one record.
313. 
314.         data = {
315.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
316.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
317.             'form-MAX_NUM_FORMS': '',  # the max number of forms
318.             'form-0-id': str(author2.id),
319.             'form-0-name': 'Walt Whitman',
320.             'form-1-id': str(author1.id),
321.             'form-1-name': 'Charles Baudelaire',
322.             'form-2-id': str(author3.id),
323.             'form-2-name': 'Paul Verlaine',
324.             'form-3-name': '',
325.             'form-3-DELETE': '',
326.         }
327. 
328.         formset = AuthorFormSet(data=data, queryset=qs)
329.         self.assertTrue(formset.is_valid())
330. 
331.         # One record has changed.
332. 
333.         saved = formset.save()
334.         self.assertEqual(len(saved), 1)
335.         self.assertEqual(saved[0], Author.objects.get(name='Walt Whitman'))
336. 
337.     def test_commit_false(self):
338.         # Test the behavior of commit=False and save_m2m
339. 
340.         author1 = Author.objects.create(name='Charles Baudelaire')
341.         author2 = Author.objects.create(name='Paul Verlaine')
342.         author3 = Author.objects.create(name='Walt Whitman')
343. 
344.         meeting = AuthorMeeting.objects.create(created=date.today())
345.         meeting.authors.set(Author.objects.all())
346. 
347.         # create an Author instance to add to the meeting.
348. 
349.         author4 = Author.objects.create(name='John Steinbeck')
350. 
351.         AuthorMeetingFormSet = modelformset_factory(AuthorMeeting, fields="__all__", extra=1, can_delete=True)
352.         data = {
353.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
354.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
355.             'form-MAX_NUM_FORMS': '',  # the max number of forms
356.             'form-0-id': str(meeting.id),
357.             'form-0-name': '2nd Tuesday of the Week Meeting',
358.             'form-0-authors': [author2.id, author1.id, author3.id, author4.id],
359.             'form-1-name': '',
360.             'form-1-authors': '',
361.             'form-1-DELETE': '',
362.         }
363.         formset = AuthorMeetingFormSet(data=data, queryset=AuthorMeeting.objects.all())
364.         self.assertTrue(formset.is_valid())
365. 
366.         instances = formset.save(commit=False)
367.         for instance in instances:
368.             instance.created = date.today()
369.             instance.save()
370.         formset.save_m2m()
371.         self.assertSequenceEqual(
372.             instances[0].authors.all(),
373.             [author1, author4, author2, author3],
374.         )
375. 
376.     def test_max_num(self):
377.         # Test the behavior of max_num with model formsets. It should allow
378.         # all existing related objects/inlines for a given object to be
379.         # displayed, but not allow the creation of new inlines beyond max_num.
380. 
381.         a1 = Author.objects.create(name='Charles Baudelaire')
382.         a2 = Author.objects.create(name='Paul Verlaine')
383.         a3 = Author.objects.create(name='Walt Whitman')
384. 
385.         qs = Author.objects.order_by('name')
386. 
387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)
388.         formset = AuthorFormSet(queryset=qs)
389.         self.assertEqual(len(formset.forms), 6)
390.         self.assertEqual(len(formset.extra_forms), 3)
391. 
392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)
393.         formset = AuthorFormSet(queryset=qs)
394.         self.assertEqual(len(formset.forms), 4)
395.         self.assertEqual(len(formset.extra_forms), 1)
396. 
397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)
398.         formset = AuthorFormSet(queryset=qs)
399.         self.assertEqual(len(formset.forms), 3)
400.         self.assertEqual(len(formset.extra_forms), 0)
401. 
402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)
403.         formset = AuthorFormSet(queryset=qs)
404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
405. 
406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)
407.         formset = AuthorFormSet(queryset=qs)
408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
409. 
410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)
411.         formset = AuthorFormSet(queryset=qs)
412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
413. 
414.     def test_min_num(self):
415.         # Test the behavior of min_num with model formsets. It should be
416.         # added to extra.
417.         qs = Author.objects.none()
418. 
419.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0)
420.         formset = AuthorFormSet(queryset=qs)
421.         self.assertEqual(len(formset.forms), 0)
422. 
423.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=0)
424.         formset = AuthorFormSet(queryset=qs)
425.         self.assertEqual(len(formset.forms), 1)
426. 
427.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=1)
428.         formset = AuthorFormSet(queryset=qs)
429.         self.assertEqual(len(formset.forms), 2)
430. 
431.     def test_min_num_with_existing(self):
432.         # Test the behavior of min_num with existing objects.
433.         Author.objects.create(name='Charles Baudelaire')
434.         qs = Author.objects.all()
435. 
436.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0, min_num=1)
437.         formset = AuthorFormSet(queryset=qs)
438.         self.assertEqual(len(formset.forms), 1)
439. 
440.     def test_custom_save_method(self):
441.         class PoetForm(forms.ModelForm):
442.             def save(self, commit=True):
443.                 # change the name to "Vladimir Mayakovsky" just to be a jerk.
444.                 author = super().save(commit=False)
445.                 author.name = "Vladimir Mayakovsky"
446.                 if commit:
447.                     author.save()
448.                 return author
449. 
450.         PoetFormSet = modelformset_factory(Poet, fields="__all__", form=PoetForm)
451. 
452.         data = {
453.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
454.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
455.             'form-MAX_NUM_FORMS': '',  # the max number of forms
456.             'form-0-name': 'Walt Whitman',
457.             'form-1-name': 'Charles Baudelaire',
458.             'form-2-name': '',
459.         }
460. 
461.         qs = Poet.objects.all()
462.         formset = PoetFormSet(data=data, queryset=qs)
463.         self.assertTrue(formset.is_valid())
464. 
465.         poets = formset.save()
466.         self.assertEqual(len(poets), 2)
467.         poet1, poet2 = poets
468.         self.assertEqual(poet1.name, 'Vladimir Mayakovsky')
469.         self.assertEqual(poet2.name, 'Vladimir Mayakovsky')
470. 
471.     def test_custom_form(self):
472.         """
473.         model_formset_factory() respects fields and exclude parameters of a
474.         custom form.
475.         """
476.         class PostForm1(forms.ModelForm):
477.             class Meta:
478.                 model = Post
479.                 fields = ('title', 'posted')
480. 
481.         class PostForm2(forms.ModelForm):
482.             class Meta:
483.                 model = Post
484.                 exclude = ('subtitle',)
485. 
486.         PostFormSet = modelformset_factory(Post, form=PostForm1)
487.         formset = PostFormSet()
488.         self.assertNotIn("subtitle", formset.forms[0].fields)
489. 
490.         PostFormSet = modelformset_factory(Post, form=PostForm2)
491.         formset = PostFormSet()
492.         self.assertNotIn("subtitle", formset.forms[0].fields)
493. 
494.     def test_custom_queryset_init(self):
495.         """
496.         A queryset can be overridden in the formset's __init__() method.
497.         """
498.         Author.objects.create(name='Charles Baudelaire')
499.         Author.objects.create(name='Paul Verlaine')
500. 
501.         class BaseAuthorFormSet(BaseModelFormSet):
502.             def __init__(self, *args, **kwargs):
503.                 super().__init__(*args, **kwargs)
504.                 self.queryset = Author.objects.filter(name__startswith='Charles')
505. 
506.         AuthorFormSet = modelformset_factory(Author, fields='__all__', formset=BaseAuthorFormSet)
507.         formset = AuthorFormSet()
508.         self.assertEqual(len(formset.get_queryset()), 1)
509. 
510.     def test_model_inheritance(self):
511.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields="__all__")
512.         formset = BetterAuthorFormSet()
513.         self.assertEqual(len(formset.forms), 1)
514.         self.assertHTMLEqual(
515.             formset.forms[0].as_p(),
516.             '<p><label for="id_form-0-name">Name:</label>'
517.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100"></p>'
518.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
519.             '<input type="number" name="form-0-write_speed" id="id_form-0-write_speed">'
520.             '<input type="hidden" name="form-0-author_ptr" id="id_form-0-author_ptr"></p>'
521.         )
522. 
523.         data = {
524.             'form-TOTAL_FORMS': '1',  # the number of forms rendered
525.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
526.             'form-MAX_NUM_FORMS': '',  # the max number of forms
527.             'form-0-author_ptr': '',
528.             'form-0-name': 'Ernest Hemingway',
529.             'form-0-write_speed': '10',
530.         }
531. 
532.         formset = BetterAuthorFormSet(data)
533.         self.assertTrue(formset.is_valid())
534.         saved = formset.save()
535.         self.assertEqual(len(saved), 1)
536.         author1, = saved
537.         self.assertEqual(author1, BetterAuthor.objects.get(name='Ernest Hemingway'))
538.         hemingway_id = BetterAuthor.objects.get(name="Ernest Hemingway").pk
539. 
540.         formset = BetterAuthorFormSet()
541.         self.assertEqual(len(formset.forms), 2)
542.         self.assertHTMLEqual(
543.             formset.forms[0].as_p(),
544.             '<p><label for="id_form-0-name">Name:</label>'
545.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Ernest Hemingway" maxlength="100"></p>'
546.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
547.             '<input type="number" name="form-0-write_speed" value="10" id="id_form-0-write_speed">'
548.             '<input type="hidden" name="form-0-author_ptr" value="%d" id="id_form-0-author_ptr"></p>' % hemingway_id
549.         )
550.         self.assertHTMLEqual(
551.             formset.forms[1].as_p(),
552.             '<p><label for="id_form-1-name">Name:</label>'
553.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100"></p>'
554.             '<p><label for="id_form-1-write_speed">Write speed:</label>'
555.             '<input type="number" name="form-1-write_speed" id="id_form-1-write_speed">'
556.             '<input type="hidden" name="form-1-author_ptr" id="id_form-1-author_ptr"></p>'
557.         )
558. 
559.         data = {
560.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
561.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
562.             'form-MAX_NUM_FORMS': '',  # the max number of forms
563.             'form-0-author_ptr': hemingway_id,
564.             'form-0-name': 'Ernest Hemingway',
565.             'form-0-write_speed': '10',
566.             'form-1-author_ptr': '',
567.             'form-1-name': '',
568.             'form-1-write_speed': '',
569.         }
570. 
571.         formset = BetterAuthorFormSet(data)
572.         self.assertTrue(formset.is_valid())
573.         self.assertEqual(formset.save(), [])
574. 
575.     def test_inline_formsets(self):
576.         # We can also create a formset that is tied to a parent model. This is
577.         # how the admin system's edit inline functionality works.
578. 
579.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=3, fields="__all__")
580.         author = Author.objects.create(name='Charles Baudelaire')
581. 
582.         formset = AuthorBooksFormSet(instance=author)
583.         self.assertEqual(len(formset.forms), 3)
584.         self.assertHTMLEqual(
585.             formset.forms[0].as_p(),
586.             '<p><label for="id_book_set-0-title">Title:</label> <input id="id_book_set-0-title" type="text" '
587.             'name="book_set-0-title" maxlength="100"><input type="hidden" name="book_set-0-author" value="%d" '
588.             'id="id_book_set-0-author"><input type="hidden" name="book_set-0-id" id="id_book_set-0-id">'
589.             '</p>' % author.id
590.         )
591.         self.assertHTMLEqual(
592.             formset.forms[1].as_p(),
593.             '<p><label for="id_book_set-1-title">Title:</label>'
594.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
595.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
596.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
597.         )
598.         self.assertHTMLEqual(
599.             formset.forms[2].as_p(),
600.             '<p><label for="id_book_set-2-title">Title:</label>'
601.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
602.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
603.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
604.         )
605. 
606.         data = {
607.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
608.             'book_set-INITIAL_FORMS': '0',  # the number of forms with initial data
609.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
610.             'book_set-0-title': 'Les Fleurs du Mal',
611.             'book_set-1-title': '',
612.             'book_set-2-title': '',
613.         }
614. 
615.         formset = AuthorBooksFormSet(data, instance=author)
616.         self.assertTrue(formset.is_valid())
617. 
618.         saved = formset.save()
619.         self.assertEqual(len(saved), 1)
620.         book1, = saved
621.         self.assertEqual(book1, Book.objects.get(title='Les Fleurs du Mal'))
622.         self.assertSequenceEqual(author.book_set.all(), [book1])
623. 
624.         # Now that we've added a book to Charles Baudelaire, let's try adding
625.         # another one. This time though, an edit form will be available for
626.         # every existing book.
627. 
628.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
629.         author = Author.objects.get(name='Charles Baudelaire')
630. 
631.         formset = AuthorBooksFormSet(instance=author)
632.         self.assertEqual(len(formset.forms), 3)
633.         self.assertHTMLEqual(
634.             formset.forms[0].as_p(),
635.             '<p><label for="id_book_set-0-title">Title:</label>'
636.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
637.             'value="Les Fleurs du Mal" maxlength="100">'
638.             '<input type="hidden" name="book_set-0-author" value="%d" id="id_book_set-0-author">'
639.             '<input type="hidden" name="book_set-0-id" value="%d" id="id_book_set-0-id"></p>' % (
640.                 author.id, book1.id,
641.             )
642.         )
643.         self.assertHTMLEqual(
644.             formset.forms[1].as_p(),
645.             '<p><label for="id_book_set-1-title">Title:</label>'
646.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
647.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
648.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
649.         )
650.         self.assertHTMLEqual(
651.             formset.forms[2].as_p(),
652.             '<p><label for="id_book_set-2-title">Title:</label>'
653.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
654.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
655.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
656.         )
657. 
658.         data = {
659.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
660.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
661.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
662.             'book_set-0-id': str(book1.id),
663.             'book_set-0-title': 'Les Fleurs du Mal',
664.             'book_set-1-title': 'Les Paradis Artificiels',
665.             'book_set-2-title': '',
666.         }
667. 
668.         formset = AuthorBooksFormSet(data, instance=author)
669.         self.assertTrue(formset.is_valid())
670. 
671.         saved = formset.save()
672.         self.assertEqual(len(saved), 1)
673.         book2, = saved
674.         self.assertEqual(book2, Book.objects.get(title='Les Paradis Artificiels'))
675. 
676.         # As you can see, 'Les Paradis Artificiels' is now a book belonging to
677.         # Charles Baudelaire.
678.         self.assertSequenceEqual(author.book_set.order_by('title'), [book1, book2])
679. 
680.     def test_inline_formsets_save_as_new(self):
681.         # The save_as_new parameter lets you re-associate the data to a new
682.         # instance.  This is used in the admin for save_as functionality.
683.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
684.         Author.objects.create(name='Charles Baudelaire')
685. 
686.         # An immutable QueryDict simulates request.POST.
687.         data = QueryDict(mutable=True)
688.         data.update({
689.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
690.             'book_set-INITIAL_FORMS': '2',  # the number of forms with initial data
691.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
692.             'book_set-0-id': '1',
693.             'book_set-0-title': 'Les Fleurs du Mal',
694.             'book_set-1-id': '2',
695.             'book_set-1-title': 'Les Paradis Artificiels',
696.             'book_set-2-title': '',
697.         })
698.         data._mutable = False
699. 
700.         formset = AuthorBooksFormSet(data, instance=Author(), save_as_new=True)
701.         self.assertTrue(formset.is_valid())
702.         self.assertIs(data._mutable, False)
703. 
704.         new_author = Author.objects.create(name='Charles Baudelaire')
705.         formset = AuthorBooksFormSet(data, instance=new_author, save_as_new=True)
706.         saved = formset.save()
707.         self.assertEqual(len(saved), 2)
708.         book1, book2 = saved
709.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
710.         self.assertEqual(book2.title, 'Les Paradis Artificiels')
711. 
712.         # Test using a custom prefix on an inline formset.
713. 
714.         formset = AuthorBooksFormSet(prefix="test")
715.         self.assertEqual(len(formset.forms), 2)
716.         self.assertHTMLEqual(
717.             formset.forms[0].as_p(),
718.             '<p><label for="id_test-0-title">Title:</label>'
719.             '<input id="id_test-0-title" type="text" name="test-0-title" maxlength="100">'
720.             '<input type="hidden" name="test-0-author" id="id_test-0-author">'
721.             '<input type="hidden" name="test-0-id" id="id_test-0-id"></p>'
722.         )
723. 
724.         self.assertHTMLEqual(
725.             formset.forms[1].as_p(),
726.             '<p><label for="id_test-1-title">Title:</label>'
727.             '<input id="id_test-1-title" type="text" name="test-1-title" maxlength="100">'
728.             '<input type="hidden" name="test-1-author" id="id_test-1-author">'
729.             '<input type="hidden" name="test-1-id" id="id_test-1-id"></p>'
730.         )
731. 
732.     def test_inline_formsets_with_custom_pk(self):
733.         # Test inline formsets where the inline-edited object has a custom
734.         # primary key that is not the fk to the parent object.
735.         self.maxDiff = 1024
736. 
737.         AuthorBooksFormSet2 = inlineformset_factory(
738.             Author, BookWithCustomPK, can_delete=False, extra=1, fields="__all__"
739.         )
740.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
741. 
742.         formset = AuthorBooksFormSet2(instance=author)
743.         self.assertEqual(len(formset.forms), 1)
744.         self.assertHTMLEqual(
745.             formset.forms[0].as_p(),
746.             '<p><label for="id_bookwithcustompk_set-0-my_pk">My pk:</label>'
747.             '<input id="id_bookwithcustompk_set-0-my_pk" type="number" '
748.             'name="bookwithcustompk_set-0-my_pk" step="1"></p>'
749.             '<p><label for="id_bookwithcustompk_set-0-title">Title:</label>'
750.             '<input id="id_bookwithcustompk_set-0-title" type="text" '
751.             'name="bookwithcustompk_set-0-title" maxlength="100">'
752.             '<input type="hidden" name="bookwithcustompk_set-0-author" '
753.             'value="1" id="id_bookwithcustompk_set-0-author"></p>'
754.         )
755. 
756.         data = {
757.             'bookwithcustompk_set-TOTAL_FORMS': '1',  # the number of forms rendered
758.             'bookwithcustompk_set-INITIAL_FORMS': '0',  # the number of forms with initial data
759.             'bookwithcustompk_set-MAX_NUM_FORMS': '',  # the max number of forms
760.             'bookwithcustompk_set-0-my_pk': '77777',
761.             'bookwithcustompk_set-0-title': 'Les Fleurs du Mal',
762.         }
763. 
764.         formset = AuthorBooksFormSet2(data, instance=author)
765.         self.assertTrue(formset.is_valid())
766. 
767.         saved = formset.save()
768.         self.assertEqual(len(saved), 1)
769.         book1, = saved
770.         self.assertEqual(book1.pk, 77777)
771. 
772.         book1 = author.bookwithcustompk_set.get()
773.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
774. 
775.     def test_inline_formsets_with_multi_table_inheritance(self):
776.         # Test inline formsets where the inline-edited object uses multi-table
777.         # inheritance, thus has a non AutoField yet auto-created primary key.
778. 
779.         AuthorBooksFormSet3 = inlineformset_factory(Author, AlternateBook, can_delete=False, extra=1, fields="__all__")
780.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
781. 
782.         formset = AuthorBooksFormSet3(instance=author)
783.         self.assertEqual(len(formset.forms), 1)
784.         self.assertHTMLEqual(
785.             formset.forms[0].as_p(),
786.             '<p><label for="id_alternatebook_set-0-title">Title:</label>'
787.             '<input id="id_alternatebook_set-0-title" type="text" '
788.             'name="alternatebook_set-0-title" maxlength="100"></p>'
789.             '<p><label for="id_alternatebook_set-0-notes">Notes:</label>'
790.             '<input id="id_alternatebook_set-0-notes" type="text" '
791.             'name="alternatebook_set-0-notes" maxlength="100">'
792.             '<input type="hidden" name="alternatebook_set-0-author" value="1" '
793.             'id="id_alternatebook_set-0-author">'
794.             '<input type="hidden" name="alternatebook_set-0-book_ptr" '
795.             'id="id_alternatebook_set-0-book_ptr"></p>'
796.         )
797. 
798.         data = {
799.             'alternatebook_set-TOTAL_FORMS': '1',  # the number of forms rendered
800.             'alternatebook_set-INITIAL_FORMS': '0',  # the number of forms with initial data
801.             'alternatebook_set-MAX_NUM_FORMS': '',  # the max number of forms
802.             'alternatebook_set-0-title': 'Flowers of Evil',
803.             'alternatebook_set-0-notes': 'English translation of Les Fleurs du Mal'
804.         }
805. 
806.         formset = AuthorBooksFormSet3(data, instance=author)
807.         self.assertTrue(formset.is_valid())
808. 
809.         saved = formset.save()
810.         self.assertEqual(len(saved), 1)
811.         book1, = saved
812.         self.assertEqual(book1.title, 'Flowers of Evil')
813.         self.assertEqual(book1.notes, 'English translation of Les Fleurs du Mal')
814. 
815.     @skipUnlessDBFeature('supports_partially_nullable_unique_constraints')
816.     def test_inline_formsets_with_nullable_unique_together(self):
817.         # Test inline formsets where the inline-edited object has a
818.         # unique_together constraint with a nullable member
819. 
820.         AuthorBooksFormSet4 = inlineformset_factory(
821.             Author, BookWithOptionalAltEditor, can_delete=False, extra=2, fields="__all__"
822.         )
823.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
824. 
825.         data = {
826.             'bookwithoptionalalteditor_set-TOTAL_FORMS': '2',  # the number of forms rendered
827.             'bookwithoptionalalteditor_set-INITIAL_FORMS': '0',  # the number of forms with initial data
828.             'bookwithoptionalalteditor_set-MAX_NUM_FORMS': '',  # the max number of forms
829.             'bookwithoptionalalteditor_set-0-author': '1',
830.             'bookwithoptionalalteditor_set-0-title': 'Les Fleurs du Mal',
831.             'bookwithoptionalalteditor_set-1-author': '1',
832.             'bookwithoptionalalteditor_set-1-title': 'Les Fleurs du Mal',
833.         }
834.         formset = AuthorBooksFormSet4(data, instance=author)
835.         self.assertTrue(formset.is_valid())
836. 
837.         saved = formset.save()
838.         self.assertEqual(len(saved), 2)
839.         book1, book2 = saved
840.         self.assertEqual(book1.author_id, 1)
841.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
842.         self.assertEqual(book2.author_id, 1)
843.         self.assertEqual(book2.title, 'Les Fleurs du Mal')
844. 
845.     def test_inline_formsets_with_custom_save_method(self):
846.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
847.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
848.         book1 = Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
849.         book2 = Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
850.         book3 = Book.objects.create(pk=3, author=author, title='Flowers of Evil')
851. 
852.         class PoemForm(forms.ModelForm):
853.             def save(self, commit=True):
854.                 # change the name to "Brooklyn Bridge" just to be a jerk.
855.                 poem = super().save(commit=False)
856.                 poem.name = "Brooklyn Bridge"
857.                 if commit:
858.                     poem.save()
859.                 return poem
860. 
861.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm, fields="__all__")
862. 
863.         data = {
864.             'poem_set-TOTAL_FORMS': '3',  # the number of forms rendered
865.             'poem_set-INITIAL_FORMS': '0',  # the number of forms with initial data
866.             'poem_set-MAX_NUM_FORMS': '',  # the max number of forms
867.             'poem_set-0-name': 'The Cloud in Trousers',
868.             'poem_set-1-name': 'I',
869.             'poem_set-2-name': '',
870.         }
871. 
872.         poet = Poet.objects.create(name='Vladimir Mayakovsky')
873.         formset = PoemFormSet(data=data, instance=poet)
874.         self.assertTrue(formset.is_valid())
875. 
876.         saved = formset.save()
877.         self.assertEqual(len(saved), 2)
878.         poem1, poem2 = saved
879.         self.assertEqual(poem1.name, 'Brooklyn Bridge')
880.         self.assertEqual(poem2.name, 'Brooklyn Bridge')
881. 
882.         # We can provide a custom queryset to our InlineFormSet:
883. 
884.         custom_qs = Book.objects.order_by('-title')
885.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
886.         self.assertEqual(len(formset.forms), 5)
887.         self.assertHTMLEqual(
888.             formset.forms[0].as_p(),
889.             '<p><label for="id_book_set-0-title">Title:</label>'
890.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
891.             'value="Les Paradis Artificiels" maxlength="100">'
892.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
893.             '<input type="hidden" name="book_set-0-id" value="1" id="id_book_set-0-id"></p>'
894.         )
895.         self.assertHTMLEqual(
896.             formset.forms[1].as_p(),
897.             '<p><label for="id_book_set-1-title">Title:</label>'
898.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" '
899.             'value="Les Fleurs du Mal" maxlength="100">'
900.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
901.             '<input type="hidden" name="book_set-1-id" value="2" id="id_book_set-1-id"></p>'
902.         )
903.         self.assertHTMLEqual(
904.             formset.forms[2].as_p(),
905.             '<p><label for="id_book_set-2-title">Title:</label>'
906.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" '
907.             'value="Flowers of Evil" maxlength="100">'
908.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
909.             '<input type="hidden" name="book_set-2-id" value="3" id="id_book_set-2-id"></p>'
910.         )
911.         self.assertHTMLEqual(
912.             formset.forms[3].as_p(),
913.             '<p><label for="id_book_set-3-title">Title:</label>'
914.             '<input id="id_book_set-3-title" type="text" name="book_set-3-title" maxlength="100">'
915.             '<input type="hidden" name="book_set-3-author" value="1" id="id_book_set-3-author">'
916.             '<input type="hidden" name="book_set-3-id" id="id_book_set-3-id"></p>'
917.         )
918.         self.assertHTMLEqual(
919.             formset.forms[4].as_p(),
920.             '<p><label for="id_book_set-4-title">Title:</label>'
921.             '<input id="id_book_set-4-title" type="text" name="book_set-4-title" maxlength="100">'
922.             '<input type="hidden" name="book_set-4-author" value="1" id="id_book_set-4-author">'
923.             '<input type="hidden" name="book_set-4-id" id="id_book_set-4-id"></p>'
924.         )
925. 
926.         data = {
927.             'book_set-TOTAL_FORMS': '5',  # the number of forms rendered
928.             'book_set-INITIAL_FORMS': '3',  # the number of forms with initial data
929.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
930.             'book_set-0-id': str(book1.id),
931.             'book_set-0-title': 'Les Paradis Artificiels',
932.             'book_set-1-id': str(book2.id),
933.             'book_set-1-title': 'Les Fleurs du Mal',
934.             'book_set-2-id': str(book3.id),
935.             'book_set-2-title': 'Flowers of Evil',
936.             'book_set-3-title': 'Revue des deux mondes',
937.             'book_set-4-title': '',
938.         }
939.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
940.         self.assertTrue(formset.is_valid())
941. 
942.         custom_qs = Book.objects.filter(title__startswith='F')
943.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
944.         self.assertHTMLEqual(
945.             formset.forms[0].as_p(),
946.             '<p><label for="id_book_set-0-title">Title:</label>'
947.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
948.             'value="Flowers of Evil" maxlength="100">'
949.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
950.             '<input type="hidden" name="book_set-0-id" value="3" id="id_book_set-0-id"></p>'
951.         )
952.         self.assertHTMLEqual(
953.             formset.forms[1].as_p(),
954.             '<p><label for="id_book_set-1-title">Title:</label>'
955.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
956.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
957.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>'
958.         )
959.         self.assertHTMLEqual(
960.             formset.forms[2].as_p(),
961.             '<p><label for="id_book_set-2-title">Title:</label>'
962.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
963.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
964.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>'
965.         )
966. 
967.         data = {
968.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
969.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
970.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
971.             'book_set-0-id': str(book3.id),
972.             'book_set-0-title': 'Flowers of Evil',
973.             'book_set-1-title': 'Revue des deux mondes',
974.             'book_set-2-title': '',
975.         }
976.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
977.         self.assertTrue(formset.is_valid())
978. 
979.     def test_inline_formsets_with_custom_save_method_related_instance(self):
980.         """
981.         The ModelForm.save() method should be able to access the related object
982.         if it exists in the database (#24395).
983.         """
984.         class PoemForm2(forms.ModelForm):
985.             def save(self, commit=True):
986.                 poem = super().save(commit=False)
987.                 poem.name = "%s by %s" % (poem.name, poem.poet.name)
988.                 if commit:
989.                     poem.save()
990.                 return poem
991. 
992.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm2, fields="__all__")
993.         data = {
994.             'poem_set-TOTAL_FORMS': '1',
995.             'poem_set-INITIAL_FORMS': '0',
996.             'poem_set-MAX_NUM_FORMS': '',
997.             'poem_set-0-name': 'Le Lac',
998.         }
999.         poet = Poet()
1000.         formset = PoemFormSet(data=data, instance=poet)
1001.         self.assertTrue(formset.is_valid())
1002. 
1003.         # The Poet instance is saved after the formset instantiation. This
1004.         # happens in admin's changeform_view() when adding a new object and
1005.         # some inlines in the same request.
1006.         poet.name = 'Lamartine'
1007.         poet.save()
1008.         poem = formset.save()[0]
1009.         self.assertEqual(poem.name, 'Le Lac by Lamartine')
1010. 
1011.     def test_inline_formsets_with_wrong_fk_name(self):
1012.         """ Regression for #23451 """
1013.         message = "fk_name 'title' is not a ForeignKey to 'model_formsets.Author'."
1014.         with self.assertRaisesMessage(ValueError, message):
1015.             inlineformset_factory(Author, Book, fields="__all__", fk_name='title')
1016. 
1017.     def test_custom_pk(self):
1018.         # We need to ensure that it is displayed
1019. 
1020.         CustomPrimaryKeyFormSet = modelformset_factory(CustomPrimaryKey, fields="__all__")
1021.         formset = CustomPrimaryKeyFormSet()
1022.         self.assertEqual(len(formset.forms), 1)
1023.         self.assertHTMLEqual(
1024.             formset.forms[0].as_p(),
1025.             '<p><label for="id_form-0-my_pk">My pk:</label> <input id="id_form-0-my_pk" type="text" '
1026.             'name="form-0-my_pk" maxlength="10"></p>'
1027.             '<p><label for="id_form-0-some_field">Some field:</label>'
1028.             '<input id="id_form-0-some_field" type="text" name="form-0-some_field" maxlength="100"></p>'
1029.         )
1030. 
1031.         # Custom primary keys with ForeignKey, OneToOneField and AutoField ############
1032. 
1033.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1034. 
1035.         FormSet = inlineformset_factory(Place, Owner, extra=2, can_delete=False, fields="__all__")
1036.         formset = FormSet(instance=place)
1037.         self.assertEqual(len(formset.forms), 2)
1038.         self.assertHTMLEqual(
1039.             formset.forms[0].as_p(),
1040.             '<p><label for="id_owner_set-0-name">Name:</label>'
1041.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" maxlength="100">'
1042.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1043.             '<input type="hidden" name="owner_set-0-auto_id" id="id_owner_set-0-auto_id"></p>'
1044.         )
1045.         self.assertHTMLEqual(
1046.             formset.forms[1].as_p(),
1047.             '<p><label for="id_owner_set-1-name">Name:</label>'
1048.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1049.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1050.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1051.         )
1052. 
1053.         data = {
1054.             'owner_set-TOTAL_FORMS': '2',
1055.             'owner_set-INITIAL_FORMS': '0',
1056.             'owner_set-MAX_NUM_FORMS': '',
1057.             'owner_set-0-auto_id': '',
1058.             'owner_set-0-name': 'Joe Perry',
1059.             'owner_set-1-auto_id': '',
1060.             'owner_set-1-name': '',
1061.         }
1062.         formset = FormSet(data, instance=place)
1063.         self.assertTrue(formset.is_valid())
1064.         saved = formset.save()
1065.         self.assertEqual(len(saved), 1)
1066.         owner1, = saved
1067.         self.assertEqual(owner1.name, 'Joe Perry')
1068.         self.assertEqual(owner1.place.name, 'Giordanos')
1069. 
1070.         formset = FormSet(instance=place)
1071.         self.assertEqual(len(formset.forms), 3)
1072.         self.assertHTMLEqual(
1073.             formset.forms[0].as_p(),
1074.             '<p><label for="id_owner_set-0-name">Name:</label>'
1075.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" value="Joe Perry" maxlength="100">'
1076.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1077.             '<input type="hidden" name="owner_set-0-auto_id" value="%d" id="id_owner_set-0-auto_id"></p>'
1078.             % owner1.auto_id
1079.         )
1080.         self.assertHTMLEqual(
1081.             formset.forms[1].as_p(),
1082.             '<p><label for="id_owner_set-1-name">Name:</label>'
1083.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1084.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1085.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1086.         )
1087.         self.assertHTMLEqual(
1088.             formset.forms[2].as_p(),
1089.             '<p><label for="id_owner_set-2-name">Name:</label>'
1090.             '<input id="id_owner_set-2-name" type="text" name="owner_set-2-name" maxlength="100">'
1091.             '<input type="hidden" name="owner_set-2-place" value="1" id="id_owner_set-2-place">'
1092.             '<input type="hidden" name="owner_set-2-auto_id" id="id_owner_set-2-auto_id"></p>'
1093.         )
1094. 
1095.         data = {
1096.             'owner_set-TOTAL_FORMS': '3',
1097.             'owner_set-INITIAL_FORMS': '1',
1098.             'owner_set-MAX_NUM_FORMS': '',
1099.             'owner_set-0-auto_id': str(owner1.auto_id),
1100.             'owner_set-0-name': 'Joe Perry',
1101.             'owner_set-1-auto_id': '',
1102.             'owner_set-1-name': 'Jack Berry',
1103.             'owner_set-2-auto_id': '',
1104.             'owner_set-2-name': '',
1105.         }
1106.         formset = FormSet(data, instance=place)
1107.         self.assertTrue(formset.is_valid())
1108.         saved = formset.save()
1109.         self.assertEqual(len(saved), 1)
1110.         owner2, = saved
1111.         self.assertEqual(owner2.name, 'Jack Berry')
1112.         self.assertEqual(owner2.place.name, 'Giordanos')
1113. 
1114.         # Ensure a custom primary key that is a ForeignKey or OneToOneField get rendered for the user to choose.
1115. 
1116.         FormSet = modelformset_factory(OwnerProfile, fields="__all__")
1117.         formset = FormSet()
1118.         self.assertHTMLEqual(
1119.             formset.forms[0].as_p(),
1120.             '<p><label for="id_form-0-owner">Owner:</label>'
1121.             '<select name="form-0-owner" id="id_form-0-owner">'
1122.             '<option value="" selected>---------</option>'
1123.             '<option value="%d">Joe Perry at Giordanos</option>'
1124.             '<option value="%d">Jack Berry at Giordanos</option>'
1125.             '</select></p>'
1126.             '<p><label for="id_form-0-age">Age:</label>'
1127.             '<input type="number" name="form-0-age" id="id_form-0-age" min="0"></p>'
1128.             % (owner1.auto_id, owner2.auto_id)
1129.         )
1130. 
1131.         owner1 = Owner.objects.get(name='Joe Perry')
1132.         FormSet = inlineformset_factory(Owner, OwnerProfile, max_num=1, can_delete=False, fields="__all__")
1133.         self.assertEqual(FormSet.max_num, 1)
1134. 
1135.         formset = FormSet(instance=owner1)
1136.         self.assertEqual(len(formset.forms), 1)
1137.         self.assertHTMLEqual(
1138.             formset.forms[0].as_p(),
1139.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1140.             '<input type="number" name="ownerprofile-0-age" id="id_ownerprofile-0-age" min="0">'
1141.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1142.             % owner1.auto_id
1143.         )
1144. 
1145.         data = {
1146.             'ownerprofile-TOTAL_FORMS': '1',
1147.             'ownerprofile-INITIAL_FORMS': '0',
1148.             'ownerprofile-MAX_NUM_FORMS': '1',
1149.             'ownerprofile-0-owner': '',
1150.             'ownerprofile-0-age': '54',
1151.         }
1152.         formset = FormSet(data, instance=owner1)
1153.         self.assertTrue(formset.is_valid())
1154.         saved = formset.save()
1155.         self.assertEqual(len(saved), 1)
1156.         profile1, = saved
1157.         self.assertEqual(profile1.owner, owner1)
1158.         self.assertEqual(profile1.age, 54)
1159. 
1160.         formset = FormSet(instance=owner1)
1161.         self.assertEqual(len(formset.forms), 1)
1162.         self.assertHTMLEqual(
1163.             formset.forms[0].as_p(),
1164.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1165.             '<input type="number" name="ownerprofile-0-age" value="54" id="id_ownerprofile-0-age" min="0">'
1166.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1167.             % owner1.auto_id
1168.         )
1169. 
1170.         data = {
1171.             'ownerprofile-TOTAL_FORMS': '1',
1172.             'ownerprofile-INITIAL_FORMS': '1',
1173.             'ownerprofile-MAX_NUM_FORMS': '1',
1174.             'ownerprofile-0-owner': str(owner1.auto_id),
1175.             'ownerprofile-0-age': '55',
1176.         }
1177.         formset = FormSet(data, instance=owner1)
1178.         self.assertTrue(formset.is_valid())
1179.         saved = formset.save()
1180.         self.assertEqual(len(saved), 1)
1181.         profile1, = saved
1182.         self.assertEqual(profile1.owner, owner1)
1183.         self.assertEqual(profile1.age, 55)
1184. 
1185.     def test_unique_true_enforces_max_num_one(self):
1186.         # ForeignKey with unique=True should enforce max_num=1
1187. 
1188.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1189. 
1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")
1191.         self.assertEqual(FormSet.max_num, 1)
1192. 
1193.         formset = FormSet(instance=place)
1194.         self.assertEqual(len(formset.forms), 1)
1195.         self.assertHTMLEqual(
1196.             formset.forms[0].as_p(),
1197.             '<p><label for="id_location_set-0-lat">Lat:</label>'
1198.             '<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>'
1199.             '<p><label for="id_location_set-0-lon">Lon:</label> '
1200.             '<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">'
1201.             '<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">'
1202.             '<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>'
1203.         )
1204. 
1205.     def test_foreign_keys_in_parents(self):
1206.         self.assertEqual(type(_get_foreign_key(Restaurant, Owner)), models.ForeignKey)
1207.         self.assertEqual(type(_get_foreign_key(MexicanRestaurant, Owner)), models.ForeignKey)
1208. 
1209.     def test_unique_validation(self):
1210.         FormSet = modelformset_factory(Product, fields="__all__", extra=1)
1211.         data = {
1212.             'form-TOTAL_FORMS': '1',
1213.             'form-INITIAL_FORMS': '0',
1214.             'form-MAX_NUM_FORMS': '',
1215.             'form-0-slug': 'car-red',
1216.         }
1217.         formset = FormSet(data)
1218.         self.assertTrue(formset.is_valid())
1219.         saved = formset.save()
1220.         self.assertEqual(len(saved), 1)
1221.         product1, = saved
1222.         self.assertEqual(product1.slug, 'car-red')
1223. 
1224.         data = {
1225.             'form-TOTAL_FORMS': '1',
1226.             'form-INITIAL_FORMS': '0',
1227.             'form-MAX_NUM_FORMS': '',
1228.             'form-0-slug': 'car-red',
1229.         }
1230.         formset = FormSet(data)
1231.         self.assertFalse(formset.is_valid())
1232.         self.assertEqual(formset.errors, [{'slug': ['Product with this Slug already exists.']}])
1233. 
1234.     def test_modelformset_validate_max_flag(self):
1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the
1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is
1237.         # irrelevant here (it's output as a hint for the client but its
1238.         # value in the returned data is not checked)
1239. 
1240.         data = {
1241.             'form-TOTAL_FORMS': '2',
1242.             'form-INITIAL_FORMS': '0',
1243.             'form-MAX_NUM_FORMS': '2',  # should be ignored
1244.             'form-0-price': '12.00',
1245.             'form-0-quantity': '1',
1246.             'form-1-price': '24.00',
1247.             'form-1-quantity': '2',
1248.         }
1249. 
1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)
1251.         formset = FormSet(data)
1252.         self.assertFalse(formset.is_valid())
1253.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
1254. 
1255.         # Now test the same thing without the validate_max flag to ensure
1256.         # default behavior is unchanged
1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)
1258.         formset = FormSet(data)
1259.         self.assertTrue(formset.is_valid())
1260. 
1261.     def test_modelformset_min_num_equals_max_num_less_than(self):
1262.         data = {
1263.             'form-TOTAL_FORMS': '3',
1264.             'form-INITIAL_FORMS': '0',
1265.             'form-MAX_NUM_FORMS': '2',
1266.             'form-0-slug': 'car-red',
1267.             'form-1-slug': 'car-blue',
1268.             'form-2-slug': 'car-black',
1269.         }
1270.         FormSet = modelformset_factory(
1271.             Product,
1272.             fields='__all__',
1273.             extra=1,
1274.             max_num=2,
1275.             validate_max=True,
1276.             min_num=2,
1277.             validate_min=True,
1278.         )
1279.         formset = FormSet(data)
1280.         self.assertFalse(formset.is_valid())
1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])
1282. 
1283.     def test_modelformset_min_num_equals_max_num_more_than(self):
1284.         data = {
1285.             'form-TOTAL_FORMS': '1',
1286.             'form-INITIAL_FORMS': '0',
1287.             'form-MAX_NUM_FORMS': '2',
1288.             'form-0-slug': 'car-red',
1289.         }
1290.         FormSet = modelformset_factory(
1291.             Product,
1292.             fields='__all__',
1293.             extra=1,
1294.             max_num=2,
1295.             validate_max=True,
1296.             min_num=2,
1297.             validate_min=True,
1298.         )
1299.         formset = FormSet(data)
1300.         self.assertFalse(formset.is_valid())
1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])
1302. 
1303.     def test_unique_together_validation(self):
1304.         FormSet = modelformset_factory(Price, fields="__all__", extra=1)
1305.         data = {
1306.             'form-TOTAL_FORMS': '1',
1307.             'form-INITIAL_FORMS': '0',
1308.             'form-MAX_NUM_FORMS': '',
1309.             'form-0-price': '12.00',
1310.             'form-0-quantity': '1',
1311.         }
1312.         formset = FormSet(data)
1313.         self.assertTrue(formset.is_valid())
1314.         saved = formset.save()
1315.         self.assertEqual(len(saved), 1)
1316.         price1, = saved
1317.         self.assertEqual(price1.price, Decimal('12.00'))
1318.         self.assertEqual(price1.quantity, 1)
1319. 
1320.         data = {
1321.             'form-TOTAL_FORMS': '1',
1322.             'form-INITIAL_FORMS': '0',
1323.             'form-MAX_NUM_FORMS': '',
1324.             'form-0-price': '12.00',
1325.             'form-0-quantity': '1',
1326.         }
1327.         formset = FormSet(data)
1328.         self.assertFalse(formset.is_valid())
1329.         self.assertEqual(formset.errors, [{'__all__': ['Price with this Price and Quantity already exists.']}])
1330. 
1331.     def test_unique_together_with_inlineformset_factory(self):
1332.         # Also see bug #8882.
1333. 
1334.         repository = Repository.objects.create(name='Test Repo')
1335.         FormSet = inlineformset_factory(Repository, Revision, extra=1, fields="__all__")
1336.         data = {
1337.             'revision_set-TOTAL_FORMS': '1',
1338.             'revision_set-INITIAL_FORMS': '0',
1339.             'revision_set-MAX_NUM_FORMS': '',
1340.             'revision_set-0-repository': repository.pk,
1341.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1342.             'revision_set-0-DELETE': '',
1343.         }
1344.         formset = FormSet(data, instance=repository)
1345.         self.assertTrue(formset.is_valid())
1346.         saved = formset.save()
1347.         self.assertEqual(len(saved), 1)
1348.         revision1, = saved
1349.         self.assertEqual(revision1.repository, repository)
1350.         self.assertEqual(revision1.revision, '146239817507f148d448db38840db7c3cbf47c76')
1351. 
1352.         # attempt to save the same revision against the same repo.
1353.         data = {
1354.             'revision_set-TOTAL_FORMS': '1',
1355.             'revision_set-INITIAL_FORMS': '0',
1356.             'revision_set-MAX_NUM_FORMS': '',
1357.             'revision_set-0-repository': repository.pk,
1358.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1359.             'revision_set-0-DELETE': '',
1360.         }
1361.         formset = FormSet(data, instance=repository)
1362.         self.assertFalse(formset.is_valid())
1363.         self.assertEqual(formset.errors, [{'__all__': ['Revision with this Repository and Revision already exists.']}])
1364. 
1365.         # unique_together with inlineformset_factory with overridden form fields
1366.         # Also see #9494
1367. 
1368.         FormSet = inlineformset_factory(Repository, Revision, fields=('revision',), extra=1)
1369.         data = {
1370.             'revision_set-TOTAL_FORMS': '1',
1371.             'revision_set-INITIAL_FORMS': '0',
1372.             'revision_set-MAX_NUM_FORMS': '',
1373.             'revision_set-0-repository': repository.pk,
1374.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1375.             'revision_set-0-DELETE': '',
1376.         }
1377.         formset = FormSet(data, instance=repository)
1378.         self.assertFalse(formset.is_valid())
1379. 
1380.     def test_callable_defaults(self):
1381.         # Use of callable defaults (see bug #7975).
1382. 
1383.         person = Person.objects.create(name='Ringo')
1384.         FormSet = inlineformset_factory(Person, Membership, can_delete=False, extra=1, fields="__all__")
1385.         formset = FormSet(instance=person)
1386. 
1387.         # Django will render a hidden field for model fields that have a callable
1388.         # default. This is required to ensure the value is tested for change correctly
1389.         # when determine what extra forms have changed to save.
1390. 
1391.         self.assertEqual(len(formset.forms), 1)  # this formset only has one form
1392.         form = formset.forms[0]
1393.         now = form.fields['date_joined'].initial()
1394.         result = form.as_p()
1395.         result = re.sub(r'[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(?:\.[0-9]+)?', '__DATETIME__', result)
1396.         self.assertHTMLEqual(
1397.             result,
1398.             '<p><label for="id_membership_set-0-date_joined">Date joined:</label>'
1399.             '<input type="text" name="membership_set-0-date_joined" '
1400.             'value="__DATETIME__" id="id_membership_set-0-date_joined">'
1401.             '<input type="hidden" name="initial-membership_set-0-date_joined" value="__DATETIME__" '
1402.             'id="initial-membership_set-0-id_membership_set-0-date_joined"></p>'
1403.             '<p><label for="id_membership_set-0-karma">Karma:</label>'
1404.             '<input type="number" name="membership_set-0-karma" id="id_membership_set-0-karma">'
1405.             '<input type="hidden" name="membership_set-0-person" value="%d" id="id_membership_set-0-person">'
1406.             '<input type="hidden" name="membership_set-0-id" id="id_membership_set-0-id"></p>'
1407.             % person.id)
1408. 
1409.         # test for validation with callable defaults. Validations rely on hidden fields
1410. 
1411.         data = {
1412.             'membership_set-TOTAL_FORMS': '1',
1413.             'membership_set-INITIAL_FORMS': '0',
1414.             'membership_set-MAX_NUM_FORMS': '',
1415.             'membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1416.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1417.             'membership_set-0-karma': '',
1418.         }
1419.         formset = FormSet(data, instance=person)
1420.         self.assertTrue(formset.is_valid())
1421. 
1422.         # now test for when the data changes
1423. 
1424.         one_day_later = now + datetime.timedelta(days=1)
1425.         filled_data = {
1426.             'membership_set-TOTAL_FORMS': '1',
1427.             'membership_set-INITIAL_FORMS': '0',
1428.             'membership_set-MAX_NUM_FORMS': '',
1429.             'membership_set-0-date_joined': one_day_later.strftime('%Y-%m-%d %H:%M:%S'),
1430.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1431.             'membership_set-0-karma': '',
1432.         }
1433.         formset = FormSet(filled_data, instance=person)
1434.         self.assertFalse(formset.is_valid())
1435. 
1436.         # now test with split datetime fields
1437. 
1438.         class MembershipForm(forms.ModelForm):
1439.             date_joined = forms.SplitDateTimeField(initial=now)
1440. 
1441.             class Meta:
1442.                 model = Membership
1443.                 fields = "__all__"
1444. 
1445.             def __init__(self, **kwargs):
1446.                 super().__init__(**kwargs)
1447.                 self.fields['date_joined'].widget = forms.SplitDateTimeWidget()
1448. 
1449.         FormSet = inlineformset_factory(
1450.             Person,
1451.             Membership,
1452.             form=MembershipForm,
1453.             can_delete=False,
1454.             extra=1,
1455.             fields="__all__",
1456.         )
1457.         data = {
1458.             'membership_set-TOTAL_FORMS': '1',
1459.             'membership_set-INITIAL_FORMS': '0',
1460.             'membership_set-MAX_NUM_FORMS': '',
1461.             'membership_set-0-date_joined_0': now.strftime('%Y-%m-%d'),
1462.             'membership_set-0-date_joined_1': now.strftime('%H:%M:%S'),
1463.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1464.             'membership_set-0-karma': '',
1465.         }
1466.         formset = FormSet(data, instance=person)
1467.         self.assertTrue(formset.is_valid())
1468. 
1469.     def test_inlineformset_factory_with_null_fk(self):
1470.         # inlineformset_factory tests with fk having null=True. see #9462.
1471.         # create some data that will exhibit the issue
1472.         team = Team.objects.create(name="Red Vipers")
1473.         Player(name="Timmy").save()
1474.         Player(name="Bobby", team=team).save()
1475. 
1476.         PlayerInlineFormSet = inlineformset_factory(Team, Player, fields="__all__")
1477.         formset = PlayerInlineFormSet()
1478.         self.assertQuerysetEqual(formset.get_queryset(), [])
1479. 
1480.         formset = PlayerInlineFormSet(instance=team)
1481.         players = formset.get_queryset()
1482.         self.assertEqual(len(players), 1)
1483.         player1, = players
1484.         self.assertEqual(player1.team, team)
1485.         self.assertEqual(player1.name, 'Bobby')
1486. 
1487.     def test_inlineformset_with_arrayfield(self):
1488.         class SimpleArrayField(forms.CharField):
1489.             """A proxy for django.contrib.postgres.forms.SimpleArrayField."""
1490.             def to_python(self, value):
1491.                 value = super().to_python(value)
1492.                 return value.split(',') if value else []
1493. 
1494.         class BookForm(forms.ModelForm):
1495.             title = SimpleArrayField()
1496. 
1497.             class Meta:
1498.                 model = Book
1499.                 fields = ('title',)
1500. 
1501.         BookFormSet = inlineformset_factory(Author, Book, form=BookForm)
1502.         data = {
1503.             'book_set-TOTAL_FORMS': '3',
1504.             'book_set-INITIAL_FORMS': '0',
1505.             'book_set-MAX_NUM_FORMS': '',
1506.             'book_set-0-title': 'test1,test2',
1507.             'book_set-1-title': 'test1,test2',
1508.             'book_set-2-title': 'test3,test4',
1509.         }
1510.         author = Author.objects.create(name='test')
1511.         formset = BookFormSet(data, instance=author)
1512.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}, {}])
1513. 
1514.     def test_model_formset_with_custom_pk(self):
1515.         # a formset for a Model that has a custom primary key that still needs to be
1516.         # added to the formset automatically
1517.         FormSet = modelformset_factory(ClassyMexicanRestaurant, fields=["tacos_are_yummy"])
1518.         self.assertEqual(sorted(FormSet().forms[0].fields), ['tacos_are_yummy', 'the_restaurant'])
1519. 
1520.     def test_model_formset_with_initial_model_instance(self):
1521.         # has_changed should compare model instance and primary key
1522.         # see #18898
1523.         FormSet = modelformset_factory(Poem, fields='__all__')
1524.         john_milton = Poet(name="John Milton")
1525.         john_milton.save()
1526.         data = {
1527.             'form-TOTAL_FORMS': 1,
1528.             'form-INITIAL_FORMS': 0,
1529.             'form-MAX_NUM_FORMS': '',
1530.             'form-0-name': '',
1531.             'form-0-poet': str(john_milton.id),
1532.         }
1533.         formset = FormSet(initial=[{'poet': john_milton}], data=data)
1534.         self.assertFalse(formset.extra_forms[0].has_changed())
1535. 
1536.     def test_model_formset_with_initial_queryset(self):
1537.         # has_changed should work with queryset and list of pk's
1538.         # see #18898
1539.         FormSet = modelformset_factory(AuthorMeeting, fields='__all__')
1540.         Author.objects.create(pk=1, name='Charles Baudelaire')
1541.         data = {
1542.             'form-TOTAL_FORMS': 1,
1543.             'form-INITIAL_FORMS': 0,
1544.             'form-MAX_NUM_FORMS': '',
1545.             'form-0-name': '',
1546.             'form-0-created': '',
1547.             'form-0-authors': list(Author.objects.values_list('id', flat=True)),
1548.         }
1549.         formset = FormSet(initial=[{'authors': Author.objects.all()}], data=data)
1550.         self.assertFalse(formset.extra_forms[0].has_changed())
1551. 
1552.     def test_prevent_duplicates_from_with_the_same_formset(self):
1553.         FormSet = modelformset_factory(Product, fields="__all__", extra=2)
1554.         data = {
1555.             'form-TOTAL_FORMS': 2,
1556.             'form-INITIAL_FORMS': 0,
1557.             'form-MAX_NUM_FORMS': '',
1558.             'form-0-slug': 'red_car',
1559.             'form-1-slug': 'red_car',
1560.         }
1561.         formset = FormSet(data)
1562.         self.assertFalse(formset.is_valid())
1563.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for slug.'])
1564. 
1565.         FormSet = modelformset_factory(Price, fields="__all__", extra=2)
1566.         data = {
1567.             'form-TOTAL_FORMS': 2,
1568.             'form-INITIAL_FORMS': 0,
1569.             'form-MAX_NUM_FORMS': '',
1570.             'form-0-price': '25',
1571.             'form-0-quantity': '7',
1572.             'form-1-price': '25',
1573.             'form-1-quantity': '7',
1574.         }
1575.         formset = FormSet(data)
1576.         self.assertFalse(formset.is_valid())
1577.         self.assertEqual(
1578.             formset._non_form_errors,
1579.             ['Please correct the duplicate data for price and quantity, which must be unique.']
1580.         )
1581. 
1582.         # Only the price field is specified, this should skip any unique checks since
1583.         # the unique_together is not fulfilled. This will fail with a KeyError if broken.
1584.         FormSet = modelformset_factory(Price, fields=("price",), extra=2)
1585.         data = {
1586.             'form-TOTAL_FORMS': '2',
1587.             'form-INITIAL_FORMS': '0',
1588.             'form-MAX_NUM_FORMS': '',
1589.             'form-0-price': '24',
1590.             'form-1-price': '24',
1591.         }
1592.         formset = FormSet(data)
1593.         self.assertTrue(formset.is_valid())
1594. 
1595.         FormSet = inlineformset_factory(Author, Book, extra=0, fields="__all__")
1596.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1597.         Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
1598.         Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
1599.         Book.objects.create(pk=3, author=author, title='Flowers of Evil')
1600. 
1601.         book_ids = author.book_set.order_by('id').values_list('id', flat=True)
1602.         data = {
1603.             'book_set-TOTAL_FORMS': '2',
1604.             'book_set-INITIAL_FORMS': '2',
1605.             'book_set-MAX_NUM_FORMS': '',
1606. 
1607.             'book_set-0-title': 'The 2008 Election',
1608.             'book_set-0-author': str(author.id),
1609.             'book_set-0-id': str(book_ids[0]),
1610. 
1611.             'book_set-1-title': 'The 2008 Election',
1612.             'book_set-1-author': str(author.id),
1613.             'book_set-1-id': str(book_ids[1]),
1614.         }
1615.         formset = FormSet(data=data, instance=author)
1616.         self.assertFalse(formset.is_valid())
1617.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for title.'])
1618.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}])
1619. 
1620.         FormSet = modelformset_factory(Post, fields="__all__", extra=2)
1621.         data = {
1622.             'form-TOTAL_FORMS': '2',
1623.             'form-INITIAL_FORMS': '0',
1624.             'form-MAX_NUM_FORMS': '',
1625. 
1626.             'form-0-title': 'blah',
1627.             'form-0-slug': 'Morning',
1628.             'form-0-subtitle': 'foo',
1629.             'form-0-posted': '2009-01-01',
1630.             'form-1-title': 'blah',
1631.             'form-1-slug': 'Morning in Prague',
1632.             'form-1-subtitle': 'rawr',
1633.             'form-1-posted': '2009-01-01'
1634.         }
1635.         formset = FormSet(data)
1636.         self.assertFalse(formset.is_valid())
1637.         self.assertEqual(
1638.             formset._non_form_errors,
1639.             ['Please correct the duplicate data for title which must be unique for the date in posted.']
1640.         )
1641.         self.assertEqual(
1642.             formset.errors,
1643.             [{}, {'__all__': ['Please correct the duplicate values below.']}]
1644.         )
1645. 
1646.         data = {
1647.             'form-TOTAL_FORMS': '2',
1648.             'form-INITIAL_FORMS': '0',
1649.             'form-MAX_NUM_FORMS': '',
1650. 
1651.             'form-0-title': 'foo',
1652.             'form-0-slug': 'Morning in Prague',
1653.             'form-0-subtitle': 'foo',
1654.             'form-0-posted': '2009-01-01',
1655.             'form-1-title': 'blah',
1656.             'form-1-slug': 'Morning in Prague',
1657.             'form-1-subtitle': 'rawr',
1658.             'form-1-posted': '2009-08-02'
1659.         }
1660.         formset = FormSet(data)
1661.         self.assertFalse(formset.is_valid())
1662.         self.assertEqual(
1663.             formset._non_form_errors,
1664.             ['Please correct the duplicate data for slug which must be unique for the year in posted.']
1665.         )
1666. 
1667.         data = {
1668.             'form-TOTAL_FORMS': '2',
1669.             'form-INITIAL_FORMS': '0',
1670.             'form-MAX_NUM_FORMS': '',
1671. 
1672.             'form-0-title': 'foo',
1673.             'form-0-slug': 'Morning in Prague',
1674.             'form-0-subtitle': 'rawr',
1675.             'form-0-posted': '2008-08-01',
1676.             'form-1-title': 'blah',
1677.             'form-1-slug': 'Prague',
1678.             'form-1-subtitle': 'rawr',
1679.             'form-1-posted': '2009-08-02'
1680.         }
1681.         formset = FormSet(data)
1682.         self.assertFalse(formset.is_valid())
1683.         self.assertEqual(
1684.             formset._non_form_errors,
1685.             ['Please correct the duplicate data for subtitle which must be unique for the month in posted.']
1686.         )
1687. 
1688.     def test_prevent_change_outer_model_and_create_invalid_data(self):
1689.         author = Author.objects.create(name='Charles')
1690.         other_author = Author.objects.create(name='Walt')
1691.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1692.         data = {
1693.             'form-TOTAL_FORMS': '2',
1694.             'form-INITIAL_FORMS': '2',
1695.             'form-MAX_NUM_FORMS': '',
1696.             'form-0-id': str(author.id),
1697.             'form-0-name': 'Charles',
1698.             'form-1-id': str(other_author.id),  # A model not in the formset's queryset.
1699.             'form-1-name': 'Changed name',
1700.         }
1701.         # This formset is only for Walt Whitman and shouldn't accept data for
1702.         # other_author.
1703.         formset = AuthorFormSet(data=data, queryset=Author.objects.filter(id__in=(author.id,)))
1704.         self.assertTrue(formset.is_valid())
1705.         formset.save()
1706.         # The name of other_author shouldn't be changed and new models aren't
1707.         # created.
1708.         self.assertSequenceEqual(Author.objects.all(), [author, other_author])
1709. 
1710.     def test_validation_without_id(self):
1711.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1712.         data = {
1713.             'form-TOTAL_FORMS': '1',
1714.             'form-INITIAL_FORMS': '1',
1715.             'form-MAX_NUM_FORMS': '',
1716.             'form-0-name': 'Charles',
1717.         }
1718.         formset = AuthorFormSet(data)
1719.         self.assertEqual(
1720.             formset.errors,
1721.             [{'id': ['This field is required.']}],
1722.         )
1723. 
1724.     def test_validation_with_child_model_without_id(self):
1725.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields='__all__')
1726.         data = {
1727.             'form-TOTAL_FORMS': '1',
1728.             'form-INITIAL_FORMS': '1',
1729.             'form-MAX_NUM_FORMS': '',
1730.             'form-0-name': 'Charles',
1731.             'form-0-write_speed': '10',
1732.         }
1733.         formset = BetterAuthorFormSet(data)
1734.         self.assertEqual(
1735.             formset.errors,
1736.             [{'author_ptr': ['This field is required.']}],
1737.         )
1738. 
1739.     def test_validation_with_invalid_id(self):
1740.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1741.         data = {
1742.             'form-TOTAL_FORMS': '1',
1743.             'form-INITIAL_FORMS': '1',
1744.             'form-MAX_NUM_FORMS': '',
1745.             'form-0-id': 'abc',
1746.             'form-0-name': 'Charles',
1747.         }
1748.         formset = AuthorFormSet(data)
1749.         self.assertEqual(
1750.             formset.errors,
1751.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1752.         )
1753. 
1754.     def test_validation_with_nonexistent_id(self):
1755.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1756.         data = {
1757.             'form-TOTAL_FORMS': '1',
1758.             'form-INITIAL_FORMS': '1',
1759.             'form-MAX_NUM_FORMS': '',
1760.             'form-0-id': '12345',
1761.             'form-0-name': 'Charles',
1762.         }
1763.         formset = AuthorFormSet(data)
1764.         self.assertEqual(
1765.             formset.errors,
1766.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1767.         )
1768. 
1769.     def test_initial_form_count_empty_data(self):
1770.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1771.         formset = AuthorFormSet({})
1772.         self.assertEqual(formset.initial_form_count(), 0)


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 16:00:51,451 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='This test directly demonstrates using `validate_max=True` with `modelformset_factory` to prevent submitting more forms than `max_num`. It submits data with more forms than allowed by `max_num=1` and asserts that a validation error is raised. This is the exact mechanism the user needs to prevent the creation of new objects when editing existing ones. It also shows the behavior without `validate_max` for comparison.', relative_path='tests/model_formsets/tests.py', start_line=1234, end_line=1260), ContextOutput(reasoning="This test is a good example of using `validate_max=True` in combination with `validate_min=True`. It shows that when more forms are submitted than `max_num`, a validation error is correctly triggered. This reinforces the solution to the user's problem and shows how to combine it with other validation options.", relative_path='tests/model_formsets/tests.py', start_line=1261, end_line=1282), ContextOutput(reasoning='This test is relevant because it shows the behavior of `max_num` without `validate_max=True`. It demonstrates that `max_num` by itself only controls the number of forms rendered, but does not prevent a user from submitting more forms. This provides essential context for understanding why `validate_max=True` is necessary to solve the problem described in the issue.', relative_path='tests/model_formsets/tests.py', start_line=376, end_line=413), ContextOutput(reasoning="This test is relevant as it shows how `inlineformset_factory` can implicitly enforce `max_num=1` when a ForeignKey has `unique=True`. This is another way to prevent the creation of more than one object, which is related to the user's goal. It's a useful example involving `inlineformset_factory` as requested by the user.", relative_path='tests/model_formsets/tests.py', start_line=1185, end_line=1204), ContextOutput(reasoning='This test case, while focused on `validate_min`, uses `validate_max=True` in the `modelformset_factory` call. It provides a complete example of using formset validation parameters (`min_num`, `max_num`, `validate_min`, `validate_max`) together, giving the user a fuller picture of how to control the number of forms allowed.', relative_path='tests/model_formsets/tests.py', start_line=1283, end_line=1302)]
2025-10-05 16:00:51,452 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='330.     def test_formset_validate_max_flag(self):\n331.         """\n332.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n334.         irrelevant here (it\'s output as a hint for the client but its value\n335.         in the returned data is not checked).\n336.         """\n337.         data = {\n338.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n339.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n340.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n341.             \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n342.             \'choices-0-choice\': \'Zero\',\n343.             \'choices-0-votes\': \'0\',\n344.             \'choices-1-choice\': \'One\',\n345.             \'choices-1-votes\': \'1\',\n346.         }\n347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n348.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n349.         self.assertFalse(formset.is_valid())\n350.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n351.         self.assertEqual(\n352.             str(formset.non_form_errors()),\n353.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n354.         )\n355. ', start_line_number=330, end_line_number=355), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n298.         """More than 1 empty form can be displayed using min_num."""\n299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n300.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n301.         self.assertHTMLEqual(\n302.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n304. <li>Votes: <input type="number" name="choices-0-votes"></li>\n305. <li>Choice: <input type="text" name="choices-1-choice"></li>\n306. <li>Votes: <input type="number" name="choices-1-votes"></li>\n307. <li>Choice: <input type="text" name="choices-2-choice"></li>\n308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n309.         )\n310. ', start_line_number=297, end_line_number=310), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='465.     def test_formset_with_deletion(self):\n466.         """\n467.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n468.         each form. When that boolean field is True, the form will be in\n469.         formset.deleted_forms.\n470.         """\n471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n472.         initial = [{\'choice\': \'Calexico\', \'votes\': 100}, {\'choice\': \'Fergie\', \'votes\': 900}]\n473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n474.         self.assertHTMLEqual(\n475.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\n478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\n479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>\n480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\n481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\n482. <li>Choice: <input type="text" name="choices-2-choice"></li>\n483. <li>Votes: <input type="number" name="choices-2-votes"></li>\n484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""\n485.         )\n486.         # To delete something, set that form\'s special delete field to \'on\'.\n487.         # Let\'s go ahead and delete Fergie.\n488.         data = {\n489.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n490.             \'choices-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n491.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n492.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n493.             \'choices-0-choice\': \'Calexico\',\n494.             \'choices-0-votes\': \'100\',\n495.             \'choices-0-DELETE\': \'\',\n496.             \'choices-1-choice\': \'Fergie\',\n497.             \'choices-1-votes\': \'900\',\n498.             \'choices-1-DELETE\': \'on\',\n499.             \'choices-2-choice\': \'\',\n500.             \'choices-2-votes\': \'\',\n501.             \'choices-2-DELETE\': \'\',\n502.         }\n503.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n504.         self.assertTrue(formset.is_valid())\n505.         self.assertEqual(\n506.             [form.cleaned_data for form in formset.forms],\n507.             [\n508.                 {\'votes\': 100, \'DELETE\': False, \'choice\': \'Calexico\'},\n509.                 {\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'},\n510.                 {},\n511.             ]\n512.         )\n513.         self.assertEqual(\n514.             [form.cleaned_data for form in formset.deleted_forms],\n515.             [{\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'}]\n516.         )\n517. \n518.     def test_formset_with_deletion_remove_deletion_flag(self):\n519.         """\n520.         If a form is filled with something and can_delete is also checked, that\n521.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n522.         going to be deleted.\n523.         """\n524.         class CheckForm(Form):\n525.             field = IntegerField(min_value=100)', start_line_number=465, end_line_number=525), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='547.     def test_formset_with_deletion_invalid_deleted_form(self):\n548.         """\n549.         deleted_forms works on a valid formset even if a deleted form would\n550.         have been invalid.\n551.         """\n552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n553.         formset = FavoriteDrinkFormset({\n554.             \'form-0-name\': \'\',\n555.             \'form-0-DELETE\': \'on\',  # no name!\n556.             \'form-TOTAL_FORMS\': 1,\n557.             \'form-INITIAL_FORMS\': 1,\n558.             \'form-MIN_NUM_FORMS\': 0,\n559.             \'form-MAX_NUM_FORMS\': 1,\n560.         })\n561.         self.assertTrue(formset.is_valid())\n562.         self.assertEqual(formset._errors, [])\n563.         self.assertEqual(len(formset.deleted_forms), 1)\n564. ', start_line_number=547, end_line_number=564), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='356.     def test_formset_validate_min_flag(self):\n357.         """\n358.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n360.         irrelevant here (it\'s output as a hint for the client but its value\n361.         in the returned data is not checked).\n362.         """\n363.         data = {\n364.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n365.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n366.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n367.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n368.             \'choices-0-choice\': \'Zero\',\n369.             \'choices-0-votes\': \'0\',\n370.             \'choices-1-choice\': \'One\',\n371.             \'choices-1-votes\': \'1\',\n372.         }\n373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n374.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n375.         self.assertFalse(formset.is_valid())\n376.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n377.         self.assertEqual(\n378.             str(formset.non_form_errors()),\n379.             \'<ul class="errorlist nonform"><li>\'\n380.             \'Please submit at least 3 forms.</li></ul>\',\n381.         )\n382. ', start_line_number=356, end_line_number=382), Context(relative_path='tests/model_formsets/tests.py', content='1234.     def test_modelformset_validate_max_flag(self):\n1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the\n1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is\n1237.         # irrelevant here (it\'s output as a hint for the client but its\n1238.         # value in the returned data is not checked)\n1239. \n1240.         data = {\n1241.             \'form-TOTAL_FORMS\': \'2\',\n1242.             \'form-INITIAL_FORMS\': \'0\',\n1243.             \'form-MAX_NUM_FORMS\': \'2\',  # should be ignored\n1244.             \'form-0-price\': \'12.00\',\n1245.             \'form-0-quantity\': \'1\',\n1246.             \'form-1-price\': \'24.00\',\n1247.             \'form-1-quantity\': \'2\',\n1248.         }\n1249. \n1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)\n1251.         formset = FormSet(data)\n1252.         self.assertFalse(formset.is_valid())\n1253.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n1254. \n1255.         # Now test the same thing without the validate_max flag to ensure\n1256.         # default behavior is unchanged\n1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)\n1258.         formset = FormSet(data)\n1259.         self.assertTrue(formset.is_valid())\n1260. ', start_line_number=1234, end_line_number=1260), Context(relative_path='tests/model_formsets/tests.py', content="1261.     def test_modelformset_min_num_equals_max_num_less_than(self):\n1262.         data = {\n1263.             'form-TOTAL_FORMS': '3',\n1264.             'form-INITIAL_FORMS': '0',\n1265.             'form-MAX_NUM_FORMS': '2',\n1266.             'form-0-slug': 'car-red',\n1267.             'form-1-slug': 'car-blue',\n1268.             'form-2-slug': 'car-black',\n1269.         }\n1270.         FormSet = modelformset_factory(\n1271.             Product,\n1272.             fields='__all__',\n1273.             extra=1,\n1274.             max_num=2,\n1275.             validate_max=True,\n1276.             min_num=2,\n1277.             validate_min=True,\n1278.         )\n1279.         formset = FormSet(data)\n1280.         self.assertFalse(formset.is_valid())\n1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])\n1282. ", start_line_number=1261, end_line_number=1282), Context(relative_path='tests/model_formsets/tests.py', content='376.     def test_max_num(self):\n377.         # Test the behavior of max_num with model formsets. It should allow\n378.         # all existing related objects/inlines for a given object to be\n379.         # displayed, but not allow the creation of new inlines beyond max_num.\n380. \n381.         a1 = Author.objects.create(name=\'Charles Baudelaire\')\n382.         a2 = Author.objects.create(name=\'Paul Verlaine\')\n383.         a3 = Author.objects.create(name=\'Walt Whitman\')\n384. \n385.         qs = Author.objects.order_by(\'name\')\n386. \n387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)\n388.         formset = AuthorFormSet(queryset=qs)\n389.         self.assertEqual(len(formset.forms), 6)\n390.         self.assertEqual(len(formset.extra_forms), 3)\n391. \n392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)\n393.         formset = AuthorFormSet(queryset=qs)\n394.         self.assertEqual(len(formset.forms), 4)\n395.         self.assertEqual(len(formset.extra_forms), 1)\n396. \n397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)\n398.         formset = AuthorFormSet(queryset=qs)\n399.         self.assertEqual(len(formset.forms), 3)\n400.         self.assertEqual(len(formset.extra_forms), 0)\n401. \n402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)\n403.         formset = AuthorFormSet(queryset=qs)\n404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n405. \n406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)\n407.         formset = AuthorFormSet(queryset=qs)\n408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n409. \n410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)\n411.         formset = AuthorFormSet(queryset=qs)\n412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n413. ', start_line_number=376, end_line_number=413), Context(relative_path='tests/model_formsets/tests.py', content='1185.     def test_unique_true_enforces_max_num_one(self):\n1186.         # ForeignKey with unique=True should enforce max_num=1\n1187. \n1188.         place = Place.objects.create(pk=1, name=\'Giordanos\', city=\'Chicago\')\n1189. \n1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")\n1191.         self.assertEqual(FormSet.max_num, 1)\n1192. \n1193.         formset = FormSet(instance=place)\n1194.         self.assertEqual(len(formset.forms), 1)\n1195.         self.assertHTMLEqual(\n1196.             formset.forms[0].as_p(),\n1197.             \'<p><label for="id_location_set-0-lat">Lat:</label>\'\n1198.             \'<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>\'\n1199.             \'<p><label for="id_location_set-0-lon">Lon:</label> \'\n1200.             \'<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">\'\n1201.             \'<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">\'\n1202.             \'<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>\'\n1203.         )\n1204. ', start_line_number=1185, end_line_number=1204), Context(relative_path='tests/model_formsets/tests.py', content="1283.     def test_modelformset_min_num_equals_max_num_more_than(self):\n1284.         data = {\n1285.             'form-TOTAL_FORMS': '1',\n1286.             'form-INITIAL_FORMS': '0',\n1287.             'form-MAX_NUM_FORMS': '2',\n1288.             'form-0-slug': 'car-red',\n1289.         }\n1290.         FormSet = modelformset_factory(\n1291.             Product,\n1292.             fields='__all__',\n1293.             extra=1,\n1294.             max_num=2,\n1295.             validate_max=True,\n1296.             min_num=2,\n1297.             validate_min=True,\n1298.         )\n1299.         formset = FormSet(data)\n1300.         self.assertFalse(formset.is_valid())\n1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])\n1302. ", start_line_number=1283, end_line_number=1302)]
2025-10-05 16:00:51,453 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 16:00:51,453 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   └── gis
|       └── mapwidget.test.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_middleware_urlconf.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   ├── test_shuffler.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── buffer
    |   |   └── tests_buffer.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── failures
    |   |   ├── __init__.py
    |   |   └── tests_failures.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       ├── tests_inheritance.py
    |       └── tests_syntax_error.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_serializemixin.py
    |   ├── test_simpletestcase.py
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_same_name_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 330 - 355
Content:
330.     def test_formset_validate_max_flag(self):
331.         """
332.         If validate_max is set and max_num is less than TOTAL_FORMS in the
333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
334.         irrelevant here (it's output as a hint for the client but its value
335.         in the returned data is not checked).
336.         """
337.         data = {
338.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
339.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
340.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
341.             'choices-MAX_NUM_FORMS': '2',  # max number of forms - should be ignored
342.             'choices-0-choice': 'Zero',
343.             'choices-0-votes': '0',
344.             'choices-1-choice': 'One',
345.             'choices-1-votes': '1',
346.         }
347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
348.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
349.         self.assertFalse(formset.is_valid())
350.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
351.         self.assertEqual(
352.             str(formset.non_form_errors()),
353.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
354.         )
355. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 297 - 310
Content:
297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
298.         """More than 1 empty form can be displayed using min_num."""
299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
300.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
301.         self.assertHTMLEqual(
302.             '\n'.join(form.as_ul() for form in formset.forms),
303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
304. <li>Votes: <input type="number" name="choices-0-votes"></li>
305. <li>Choice: <input type="text" name="choices-1-choice"></li>
306. <li>Votes: <input type="number" name="choices-1-votes"></li>
307. <li>Choice: <input type="text" name="choices-2-choice"></li>
308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
309.         )
310. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 465 - 525
Content:
465.     def test_formset_with_deletion(self):
466.         """
467.         formset_factory's can_delete argument adds a boolean "delete" field to
468.         each form. When that boolean field is True, the form will be in
469.         formset.deleted_forms.
470.         """
471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
472.         initial = [{'choice': 'Calexico', 'votes': 100}, {'choice': 'Fergie', 'votes': 900}]
473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
474.         self.assertHTMLEqual(
475.             '\n'.join(form.as_ul() for form in formset.forms),
476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>
479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>
480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>
481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>
482. <li>Choice: <input type="text" name="choices-2-choice"></li>
483. <li>Votes: <input type="number" name="choices-2-votes"></li>
484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""
485.         )
486.         # To delete something, set that form's special delete field to 'on'.
487.         # Let's go ahead and delete Fergie.
488.         data = {
489.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
490.             'choices-INITIAL_FORMS': '2',  # the number of forms with initial data
491.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
492.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
493.             'choices-0-choice': 'Calexico',
494.             'choices-0-votes': '100',
495.             'choices-0-DELETE': '',
496.             'choices-1-choice': 'Fergie',
497.             'choices-1-votes': '900',
498.             'choices-1-DELETE': 'on',
499.             'choices-2-choice': '',
500.             'choices-2-votes': '',
501.             'choices-2-DELETE': '',
502.         }
503.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
504.         self.assertTrue(formset.is_valid())
505.         self.assertEqual(
506.             [form.cleaned_data for form in formset.forms],
507.             [
508.                 {'votes': 100, 'DELETE': False, 'choice': 'Calexico'},
509.                 {'votes': 900, 'DELETE': True, 'choice': 'Fergie'},
510.                 {},
511.             ]
512.         )
513.         self.assertEqual(
514.             [form.cleaned_data for form in formset.deleted_forms],
515.             [{'votes': 900, 'DELETE': True, 'choice': 'Fergie'}]
516.         )
517. 
518.     def test_formset_with_deletion_remove_deletion_flag(self):
519.         """
520.         If a form is filled with something and can_delete is also checked, that
521.         form's errors shouldn't make the entire formset invalid since it's
522.         going to be deleted.
523.         """
524.         class CheckForm(Form):
525.             field = IntegerField(min_value=100)


File: tests/forms_tests/tests/test_formsets.py
Line number range: 547 - 564
Content:
547.     def test_formset_with_deletion_invalid_deleted_form(self):
548.         """
549.         deleted_forms works on a valid formset even if a deleted form would
550.         have been invalid.
551.         """
552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
553.         formset = FavoriteDrinkFormset({
554.             'form-0-name': '',
555.             'form-0-DELETE': 'on',  # no name!
556.             'form-TOTAL_FORMS': 1,
557.             'form-INITIAL_FORMS': 1,
558.             'form-MIN_NUM_FORMS': 0,
559.             'form-MAX_NUM_FORMS': 1,
560.         })
561.         self.assertTrue(formset.is_valid())
562.         self.assertEqual(formset._errors, [])
563.         self.assertEqual(len(formset.deleted_forms), 1)
564. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 356 - 382
Content:
356.     def test_formset_validate_min_flag(self):
357.         """
358.         If validate_min is set and min_num is more than TOTAL_FORMS in the
359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
360.         irrelevant here (it's output as a hint for the client but its value
361.         in the returned data is not checked).
362.         """
363.         data = {
364.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
365.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
366.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
367.             'choices-MAX_NUM_FORMS': '0',  # max number of forms - should be ignored
368.             'choices-0-choice': 'Zero',
369.             'choices-0-votes': '0',
370.             'choices-1-choice': 'One',
371.             'choices-1-votes': '1',
372.         }
373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
374.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
375.         self.assertFalse(formset.is_valid())
376.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 3 forms.'])
377.         self.assertEqual(
378.             str(formset.non_form_errors()),
379.             '<ul class="errorlist nonform"><li>'
380.             'Please submit at least 3 forms.</li></ul>',
381.         )
382. 


File: tests/model_formsets/tests.py
Line number range: 1234 - 1260
Content:
1234.     def test_modelformset_validate_max_flag(self):
1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the
1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is
1237.         # irrelevant here (it's output as a hint for the client but its
1238.         # value in the returned data is not checked)
1239. 
1240.         data = {
1241.             'form-TOTAL_FORMS': '2',
1242.             'form-INITIAL_FORMS': '0',
1243.             'form-MAX_NUM_FORMS': '2',  # should be ignored
1244.             'form-0-price': '12.00',
1245.             'form-0-quantity': '1',
1246.             'form-1-price': '24.00',
1247.             'form-1-quantity': '2',
1248.         }
1249. 
1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)
1251.         formset = FormSet(data)
1252.         self.assertFalse(formset.is_valid())
1253.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
1254. 
1255.         # Now test the same thing without the validate_max flag to ensure
1256.         # default behavior is unchanged
1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)
1258.         formset = FormSet(data)
1259.         self.assertTrue(formset.is_valid())
1260. 


File: tests/model_formsets/tests.py
Line number range: 1261 - 1282
Content:
1261.     def test_modelformset_min_num_equals_max_num_less_than(self):
1262.         data = {
1263.             'form-TOTAL_FORMS': '3',
1264.             'form-INITIAL_FORMS': '0',
1265.             'form-MAX_NUM_FORMS': '2',
1266.             'form-0-slug': 'car-red',
1267.             'form-1-slug': 'car-blue',
1268.             'form-2-slug': 'car-black',
1269.         }
1270.         FormSet = modelformset_factory(
1271.             Product,
1272.             fields='__all__',
1273.             extra=1,
1274.             max_num=2,
1275.             validate_max=True,
1276.             min_num=2,
1277.             validate_min=True,
1278.         )
1279.         formset = FormSet(data)
1280.         self.assertFalse(formset.is_valid())
1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])
1282. 


File: tests/model_formsets/tests.py
Line number range: 376 - 413
Content:
376.     def test_max_num(self):
377.         # Test the behavior of max_num with model formsets. It should allow
378.         # all existing related objects/inlines for a given object to be
379.         # displayed, but not allow the creation of new inlines beyond max_num.
380. 
381.         a1 = Author.objects.create(name='Charles Baudelaire')
382.         a2 = Author.objects.create(name='Paul Verlaine')
383.         a3 = Author.objects.create(name='Walt Whitman')
384. 
385.         qs = Author.objects.order_by('name')
386. 
387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)
388.         formset = AuthorFormSet(queryset=qs)
389.         self.assertEqual(len(formset.forms), 6)
390.         self.assertEqual(len(formset.extra_forms), 3)
391. 
392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)
393.         formset = AuthorFormSet(queryset=qs)
394.         self.assertEqual(len(formset.forms), 4)
395.         self.assertEqual(len(formset.extra_forms), 1)
396. 
397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)
398.         formset = AuthorFormSet(queryset=qs)
399.         self.assertEqual(len(formset.forms), 3)
400.         self.assertEqual(len(formset.extra_forms), 0)
401. 
402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)
403.         formset = AuthorFormSet(queryset=qs)
404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
405. 
406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)
407.         formset = AuthorFormSet(queryset=qs)
408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
409. 
410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)
411.         formset = AuthorFormSet(queryset=qs)
412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
413. 


File: tests/model_formsets/tests.py
Line number range: 1185 - 1204
Content:
1185.     def test_unique_true_enforces_max_num_one(self):
1186.         # ForeignKey with unique=True should enforce max_num=1
1187. 
1188.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1189. 
1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")
1191.         self.assertEqual(FormSet.max_num, 1)
1192. 
1193.         formset = FormSet(instance=place)
1194.         self.assertEqual(len(formset.forms), 1)
1195.         self.assertHTMLEqual(
1196.             formset.forms[0].as_p(),
1197.             '<p><label for="id_location_set-0-lat">Lat:</label>'
1198.             '<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>'
1199.             '<p><label for="id_location_set-0-lon">Lon:</label> '
1200.             '<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">'
1201.             '<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">'
1202.             '<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>'
1203.         )
1204. 


File: tests/model_formsets/tests.py
Line number range: 1283 - 1302
Content:
1283.     def test_modelformset_min_num_equals_max_num_more_than(self):
1284.         data = {
1285.             'form-TOTAL_FORMS': '1',
1286.             'form-INITIAL_FORMS': '0',
1287.             'form-MAX_NUM_FORMS': '2',
1288.             'form-0-slug': 'car-red',
1289.         }
1290.         FormSet = modelformset_factory(
1291.             Product,
1292.             fields='__all__',
1293.             extra=1,
1294.             max_num=2,
1295.             validate_max=True,
1296.             min_num=2,
1297.             validate_min=True,
1298.         )
1299.         formset = FormSet(data)
1300.         self.assertFalse(formset.is_valid())
1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])
1302. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 16:01:23,921 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='1. The user query requires providing 5 complete and self-contained test cases. This includes all necessary imports, test setup, mocks, and helper functions.\n2. The current context provides only snippets of several test methods from `tests/model_formsets/tests.py` and `tests/forms_tests/tests/test_formsets.py`.\n3. Critical information like file-level imports, test class definitions, setup methods, and the definitions of models (`Author`, `Price`, `Product`, `Place`, `Location`) and forms (`Choice`, `FavoriteDrinkForm`) used in these tests are missing from the context.\n4. To construct complete and runnable test cases as requested, I need the full content of the relevant test files and the corresponding model/form definition files.' refined_query='Please provide the full file content for `tests/model_formsets/tests.py`, `tests/model_formsets/models.py`, and `tests/forms_tests/tests/test_formsets.py`. These files contain the tests related to model formsets and their dependent models and forms, which are necessary to extract complete test cases for preventing object creation in model formsets.'
2025-10-05 16:01:31,159 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/model_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'dfb8ad84-ca4c-4f1b-a2c4-4de29686b004': 'CrMFAR/Mhba3zNsehUHRf3EfJT3Q9L5pOJ4bIzM3e+fnNGMb1Y4RLKZaLY64jmUHz1YyzJATFCP/vJIXf1LsDq0llx0/bUKtGVyAeZkBl+fHcQufMgZ0wAT1OV1X8pTcSbG10dkrydrciCwAI8WP0fGwojxqFNfDeFJ9E3IvNRZn+nAm9yBDaT+Qefy0n9hVqdniTbTjZ2ghADDCH0pB+WS9WkJ5P/HnvGEiCeqRJqZcYLx+LzjIr04J1G2i5ozO+VQurRe1KwTa/JnVeIIC5zQpFDNyZHGLwLN4wddkCPLxNuh7or/26SeETiLz9SHF41TjEqoRpPwBhnu+dxzSulS47cbP2RuAIoSd7SR8AH0l9ktm0yRtcHkJhChDeyQoNtWz5mk/WDaEqvtsSpz16drK34W8AfQQkkDrTJMab962PIEkVkcwvHovfsDXVb/NmcJf55UYS7n4J3rruG1IxT6VpGGZc42XgpoekjmBP4OmGmj+3CDLEIGCMuieF3Z9WiiEaFS97wbDMuiJ03AIyiAYi324jp1XJomhTOK5X6ZVxGU94oQcnXkmUHqBHJvRjVzlkU7a7EAheg55SfC9DqtT9VJ2bm+qJr8VguNMkYSyzpD6kx9ndjyyExgaXQZDjzww1faOjIC8N8G8G1eRfivR3Vvq80XgelskFGcEvsTgWYh0xYjHKLDjqFQgCVNXKPy/ZV+NHYIGKWysG+eM3ot1Vojm+vkj4MdqVOCEvAf33B0WPUCbXYqdiYU4J/4hEkqrwigYiFQ/LC+NoYXJhqOngLGs/8kjWaFrnbrUrgH2XzpMzzEM8Bz+TiPaaWYSFirNnj8cSwGO0vc2iK30JpumrXRr+y6795zcQqy8KwAQfqR4/Xc1rhZnWYQ9M/ulMGwi1SsLcSEgzYCOAxNPehLdqN+vWg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56383, 'candidates_token_count': 24, 'total_token_count': 56688, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56383}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 24}], 'thoughts_token_count': 281, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.561506430308024, 'model_name': 'gemini-2.5-pro'} id='run--e9f49e05-d4d8-4570-b072-93ed6dd3c03b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/model_formsets/tests.py'}, 'id': 'dfb8ad84-ca4c-4f1b-a2c4-4de29686b004', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56383, 'output_tokens': 24, 'total_tokens': 56688, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 281}}
2025-10-05 16:01:33,241 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/model_formsets/models.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 65232, 'candidates_token_count': 24, 'total_token_count': 65256, 'prompt_tokens_details': [{'modality': 1, 'token_count': 65442}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 24}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05261733134587606, 'model_name': 'gemini-2.5-pro'} id='run--5723bd22-f951-45fe-ad8e-2eea791ce2ac-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/model_formsets/models.py'}, 'id': '190e0607-22c4-47c4-8b8c-de9d7df351b8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 65232, 'output_tokens': 24, 'total_tokens': 65256, 'input_token_details': {'cache_read': 0}}
2025-10-05 16:01:35,105 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 68674, 'candidates_token_count': 28, 'total_token_count': 68702, 'cached_content_token_count': 63946, 'prompt_tokens_details': [{'modality': 1, 'token_count': 68884}], 'cache_tokens_details': [{'modality': 1, 'token_count': 63946}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 28}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.003082610932844026, 'model_name': 'gemini-2.5-pro'} id='run--13cd651d-55cb-4e68-a194-44ff06a6056b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py'}, 'id': '5ee999e7-b36b-480d-9485-34b4025eeaaf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 68674, 'output_tokens': 28, 'total_tokens': 68702, 'input_token_details': {'cache_read': 63946}}
2025-10-05 16:01:38,153 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full file content for `tests/model_formsets/tests.py`, `tests/model_formsets/models.py`, and `tests/forms_tests/tests/test_formsets.py`. These files provide the necessary test cases and model definitions related to model formsets. You can now analyze them to understand how to prevent object creation in model formsets.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 77936, 'candidates_token_count': 82, 'total_token_count': 78084, 'cached_content_token_count': 67746, 'prompt_tokens_details': [{'modality': 1, 'token_count': 78146}], 'cache_tokens_details': [{'modality': 1, 'token_count': 67746}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 82}], 'thoughts_token_count': 66}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10972926674819575, 'model_name': 'gemini-2.5-pro'} id='run--7cfe0f20-a7af-406e-b8ef-214d0789e77f-0' usage_metadata={'input_tokens': 77936, 'output_tokens': 82, 'total_tokens': 78084, 'input_token_details': {'cache_read': 67746}, 'output_token_details': {'reasoning': 66}}
2025-10-05 16:01:38,153 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 16:01:38,154 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Provide a way for model formsets to disallow new object creation

Issue description: 
Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the full file content for `tests/model_formsets/tests.py`, `tests/model_formsets/models.py`, and `tests/forms_tests/tests/test_formsets.py`. These files contain the tests related to model formsets and their dependent models and forms, which are necessary to extract complete test cases for preventing object creation in model formsets.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/model_formsets/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import re
3. from datetime import date
4. from decimal import Decimal
5. 
6. from django import forms
7. from django.core.exceptions import ImproperlyConfigured
8. from django.db import models
9. from django.forms.models import (
10.     BaseModelFormSet, _get_foreign_key, inlineformset_factory,
11.     modelformset_factory,
12. )
13. from django.http import QueryDict
14. from django.test import TestCase, skipUnlessDBFeature
15. 
16. from .models import (
17.     AlternateBook, Author, AuthorMeeting, BetterAuthor, Book, BookWithCustomPK,
18.     BookWithOptionalAltEditor, ClassyMexicanRestaurant, CustomPrimaryKey,
19.     Location, Membership, MexicanRestaurant, Owner, OwnerProfile, Person,
20.     Place, Player, Poem, Poet, Post, Price, Product, Repository, Restaurant,
21.     Revision, Team,
22. )
23. 
24. 
25. class DeletionTests(TestCase):
26.     def test_deletion(self):
27.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
28.         poet = Poet.objects.create(name='test')
29.         data = {
30.             'form-TOTAL_FORMS': '1',
31.             'form-INITIAL_FORMS': '1',
32.             'form-MAX_NUM_FORMS': '0',
33.             'form-0-id': str(poet.pk),
34.             'form-0-name': 'test',
35.             'form-0-DELETE': 'on',
36.         }
37.         formset = PoetFormSet(data, queryset=Poet.objects.all())
38.         formset.save(commit=False)
39.         self.assertEqual(Poet.objects.count(), 1)
40. 
41.         formset.save()
42.         self.assertTrue(formset.is_valid())
43.         self.assertEqual(Poet.objects.count(), 0)
44. 
45.     def test_add_form_deletion_when_invalid(self):
46.         """
47.         Make sure that an add form that is filled out, but marked for deletion
48.         doesn't cause validation errors.
49.         """
50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
51.         poet = Poet.objects.create(name='test')
52.         # One existing untouched and two new unvalid forms
53.         data = {
54.             'form-TOTAL_FORMS': '3',
55.             'form-INITIAL_FORMS': '1',
56.             'form-MAX_NUM_FORMS': '0',
57.             'form-0-id': str(poet.id),
58.             'form-0-name': 'test',
59.             'form-1-id': '',
60.             'form-1-name': 'x' * 1000,  # Too long
61.             'form-2-id': str(poet.id),  # Violate unique constraint
62.             'form-2-name': 'test2',
63.         }
64.         formset = PoetFormSet(data, queryset=Poet.objects.all())
65.         # Make sure this form doesn't pass validation.
66.         self.assertIs(formset.is_valid(), False)
67.         self.assertEqual(Poet.objects.count(), 1)
68. 
69.         # Then make sure that it *does* pass validation and delete the object,
70.         # even though the data in new forms aren't actually valid.
71.         data['form-0-DELETE'] = 'on'
72.         data['form-1-DELETE'] = 'on'
73.         data['form-2-DELETE'] = 'on'
74.         formset = PoetFormSet(data, queryset=Poet.objects.all())
75.         self.assertIs(formset.is_valid(), True)
76.         formset.save()
77.         self.assertEqual(Poet.objects.count(), 0)
78. 
79.     def test_change_form_deletion_when_invalid(self):
80.         """
81.         Make sure that a change form that is filled out, but marked for deletion
82.         doesn't cause validation errors.
83.         """
84.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
85.         poet = Poet.objects.create(name='test')
86.         data = {
87.             'form-TOTAL_FORMS': '1',
88.             'form-INITIAL_FORMS': '1',
89.             'form-MAX_NUM_FORMS': '0',
90.             'form-0-id': str(poet.id),
91.             'form-0-name': 'x' * 1000,
92.         }
93.         formset = PoetFormSet(data, queryset=Poet.objects.all())
94.         # Make sure this form doesn't pass validation.
95.         self.assertIs(formset.is_valid(), False)
96.         self.assertEqual(Poet.objects.count(), 1)
97. 
98.         # Then make sure that it *does* pass validation and delete the object,
99.         # even though the data isn't actually valid.
100.         data['form-0-DELETE'] = 'on'
101.         formset = PoetFormSet(data, queryset=Poet.objects.all())
102.         self.assertIs(formset.is_valid(), True)
103.         formset.save()
104.         self.assertEqual(Poet.objects.count(), 0)
105. 
106.     def test_outdated_deletion(self):
107.         poet = Poet.objects.create(name='test')
108.         poem = Poem.objects.create(name='Brevity is the soul of wit', poet=poet)
109. 
110.         PoemFormSet = inlineformset_factory(Poet, Poem, fields="__all__", can_delete=True)
111. 
112.         # Simulate deletion of an object that doesn't exist in the database
113.         data = {
114.             'form-TOTAL_FORMS': '2',
115.             'form-INITIAL_FORMS': '2',
116.             'form-0-id': str(poem.pk),
117.             'form-0-name': 'foo',
118.             'form-1-id': str(poem.pk + 1),  # doesn't exist
119.             'form-1-name': 'bar',
120.             'form-1-DELETE': 'on',
121.         }
122.         formset = PoemFormSet(data, instance=poet, prefix="form")
123. 
124.         # The formset is valid even though poem.pk + 1 doesn't exist,
125.         # because it's marked for deletion anyway
126.         self.assertTrue(formset.is_valid())
127. 
128.         formset.save()
129. 
130.         # Make sure the save went through correctly
131.         self.assertEqual(Poem.objects.get(pk=poem.pk).name, "foo")
132.         self.assertEqual(poet.poem_set.count(), 1)
133.         self.assertFalse(Poem.objects.filter(pk=poem.pk + 1).exists())
134. 
135. 
136. class ModelFormsetTest(TestCase):
137.     def test_modelformset_factory_without_fields(self):
138.         """ Regression for #19733 """
139.         message = (
140.             "Calling modelformset_factory without defining 'fields' or 'exclude' "
141.             "explicitly is prohibited."
142.         )
143.         with self.assertRaisesMessage(ImproperlyConfigured, message):
144.             modelformset_factory(Author)
145. 
146.     def test_simple_save(self):
147.         qs = Author.objects.all()
148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)
149. 
150.         formset = AuthorFormSet(queryset=qs)
151.         self.assertEqual(len(formset.forms), 3)
152.         self.assertHTMLEqual(
153.             formset.forms[0].as_p(),
154.             '<p><label for="id_form-0-name">Name:</label>'
155.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">'
156.             '<input type="hidden" name="form-0-id" id="id_form-0-id"></p>'
157.         )
158.         self.assertHTMLEqual(
159.             formset.forms[1].as_p(),
160.             '<p><label for="id_form-1-name">Name:</label>'
161.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">'
162.             '<input type="hidden" name="form-1-id" id="id_form-1-id"></p>'
163.         )
164.         self.assertHTMLEqual(
165.             formset.forms[2].as_p(),
166.             '<p><label for="id_form-2-name">Name:</label>'
167.             ' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
168.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
169.         )
170. 
171.         data = {
172.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
173.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
174.             'form-MAX_NUM_FORMS': '',  # the max number of forms
175.             'form-0-name': 'Charles Baudelaire',
176.             'form-1-name': 'Arthur Rimbaud',
177.             'form-2-name': '',
178.         }
179. 
180.         formset = AuthorFormSet(data=data, queryset=qs)
181.         self.assertTrue(formset.is_valid())
182. 
183.         saved = formset.save()
184.         self.assertEqual(len(saved), 2)
185.         author1, author2 = saved
186.         self.assertEqual(author1, Author.objects.get(name='Charles Baudelaire'))
187.         self.assertEqual(author2, Author.objects.get(name='Arthur Rimbaud'))
188. 
189.         authors = list(Author.objects.order_by('name'))
190.         self.assertEqual(authors, [author2, author1])
191. 
192.         # Gah! We forgot Paul Verlaine. Let's create a formset to edit the
193.         # existing authors with an extra form to add him. We *could* pass in a
194.         # queryset to restrict the Author objects we edit, but in this case
195.         # we'll use it to display them in alphabetical order by name.
196. 
197.         qs = Author.objects.order_by('name')
198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)
199. 
200.         formset = AuthorFormSet(queryset=qs)
201.         self.assertEqual(len(formset.forms), 3)
202.         self.assertHTMLEqual(
203.             formset.forms[0].as_p(),
204.             '<p><label for="id_form-0-name">Name:</label>'
205.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">'
206.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
207.         )
208.         self.assertHTMLEqual(
209.             formset.forms[1].as_p(),
210.             '<p><label for="id_form-1-name">Name:</label>'
211.             '<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">'
212.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
213.         )
214.         self.assertHTMLEqual(
215.             formset.forms[2].as_p(),
216.             '<p><label for="id_form-2-name">Name:</label>'
217.             '<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
218.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
219.         )
220. 
221.         data = {
222.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
223.             'form-INITIAL_FORMS': '2',  # the number of forms with initial data
224.             'form-MAX_NUM_FORMS': '',  # the max number of forms
225.             'form-0-id': str(author2.id),
226.             'form-0-name': 'Arthur Rimbaud',
227.             'form-1-id': str(author1.id),
228.             'form-1-name': 'Charles Baudelaire',
229.             'form-2-name': 'Paul Verlaine',
230.         }
231. 
232.         formset = AuthorFormSet(data=data, queryset=qs)
233.         self.assertTrue(formset.is_valid())
234. 
235.         # Only changed or new objects are returned from formset.save()
236.         saved = formset.save()
237.         self.assertEqual(len(saved), 1)
238.         author3 = saved[0]
239.         self.assertEqual(author3, Author.objects.get(name='Paul Verlaine'))
240. 
241.         authors = list(Author.objects.order_by('name'))
242.         self.assertEqual(authors, [author2, author1, author3])
243. 
244.         # This probably shouldn't happen, but it will. If an add form was
245.         # marked for deletion, make sure we don't save that form.
246. 
247.         qs = Author.objects.order_by('name')
248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)
249. 
250.         formset = AuthorFormSet(queryset=qs)
251.         self.assertEqual(len(formset.forms), 4)
252.         self.assertHTMLEqual(
253.             formset.forms[0].as_p(),
254.             '<p><label for="id_form-0-name">Name:</label>'
255.             '<input id="id_form-0-name" type="text" name="form-0-name" '
256.             'value="Arthur Rimbaud" maxlength="100"></p>'
257.             '<p><label for="id_form-0-DELETE">Delete:</label>'
258.             '<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">'
259.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
260.         )
261.         self.assertHTMLEqual(
262.             formset.forms[1].as_p(),
263.             '<p><label for="id_form-1-name">Name:</label>'
264.             '<input id="id_form-1-name" type="text" name="form-1-name" '
265.             'value="Charles Baudelaire" maxlength="100"></p>'
266.             '<p><label for="id_form-1-DELETE">Delete:</label>'
267.             '<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">'
268.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
269.         )
270.         self.assertHTMLEqual(
271.             formset.forms[2].as_p(),
272.             '<p><label for="id_form-2-name">Name:</label>'
273.             '<input id="id_form-2-name" type="text" name="form-2-name" '
274.             'value="Paul Verlaine" maxlength="100"></p>'
275.             '<p><label for="id_form-2-DELETE">Delete:</label>'
276.             '<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">'
277.             '<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>' % author3.id
278.         )
279.         self.assertHTMLEqual(
280.             formset.forms[3].as_p(),
281.             '<p><label for="id_form-3-name">Name:</label>'
282.             '<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>'
283.             '<p><label for="id_form-3-DELETE">Delete:</label>'
284.             '<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">'
285.             '<input type="hidden" name="form-3-id" id="id_form-3-id"></p>'
286.         )
287. 
288.         data = {
289.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
290.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
291.             'form-MAX_NUM_FORMS': '',  # the max number of forms
292.             'form-0-id': str(author2.id),
293.             'form-0-name': 'Arthur Rimbaud',
294.             'form-1-id': str(author1.id),
295.             'form-1-name': 'Charles Baudelaire',
296.             'form-2-id': str(author3.id),
297.             'form-2-name': 'Paul Verlaine',
298.             'form-3-name': 'Walt Whitman',
299.             'form-3-DELETE': 'on',
300.         }
301. 
302.         formset = AuthorFormSet(data=data, queryset=qs)
303.         self.assertTrue(formset.is_valid())
304. 
305.         # No objects were changed or saved so nothing will come back.
306. 
307.         self.assertEqual(formset.save(), [])
308. 
309.         authors = list(Author.objects.order_by('name'))
310.         self.assertEqual(authors, [author2, author1, author3])
311. 
312.         # Let's edit a record to ensure save only returns that one record.
313. 
314.         data = {
315.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
316.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
317.             'form-MAX_NUM_FORMS': '',  # the max number of forms
318.             'form-0-id': str(author2.id),
319.             'form-0-name': 'Walt Whitman',
320.             'form-1-id': str(author1.id),
321.             'form-1-name': 'Charles Baudelaire',
322.             'form-2-id': str(author3.id),
323.             'form-2-name': 'Paul Verlaine',
324.             'form-3-name': '',
325.             'form-3-DELETE': '',
326.         }
327. 
328.         formset = AuthorFormSet(data=data, queryset=qs)
329.         self.assertTrue(formset.is_valid())
330. 
331.         # One record has changed.
332. 
333.         saved = formset.save()
334.         self.assertEqual(len(saved), 1)
335.         self.assertEqual(saved[0], Author.objects.get(name='Walt Whitman'))
336. 
337.     def test_commit_false(self):
338.         # Test the behavior of commit=False and save_m2m
339. 
340.         author1 = Author.objects.create(name='Charles Baudelaire')
341.         author2 = Author.objects.create(name='Paul Verlaine')
342.         author3 = Author.objects.create(name='Walt Whitman')
343. 
344.         meeting = AuthorMeeting.objects.create(created=date.today())
345.         meeting.authors.set(Author.objects.all())
346. 
347.         # create an Author instance to add to the meeting.
348. 
349.         author4 = Author.objects.create(name='John Steinbeck')
350. 
351.         AuthorMeetingFormSet = modelformset_factory(AuthorMeeting, fields="__all__", extra=1, can_delete=True)
352.         data = {
353.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
354.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
355.             'form-MAX_NUM_FORMS': '',  # the max number of forms
356.             'form-0-id': str(meeting.id),
357.             'form-0-name': '2nd Tuesday of the Week Meeting',
358.             'form-0-authors': [author2.id, author1.id, author3.id, author4.id],
359.             'form-1-name': '',
360.             'form-1-authors': '',
361.             'form-1-DELETE': '',
362.         }
363.         formset = AuthorMeetingFormSet(data=data, queryset=AuthorMeeting.objects.all())
364.         self.assertTrue(formset.is_valid())
365. 
366.         instances = formset.save(commit=False)
367.         for instance in instances:
368.             instance.created = date.today()
369.             instance.save()
370.         formset.save_m2m()
371.         self.assertSequenceEqual(
372.             instances[0].authors.all(),
373.             [author1, author4, author2, author3],
374.         )
375. 
376.     def test_max_num(self):
377.         # Test the behavior of max_num with model formsets. It should allow
378.         # all existing related objects/inlines for a given object to be
379.         # displayed, but not allow the creation of new inlines beyond max_num.
380. 
381.         a1 = Author.objects.create(name='Charles Baudelaire')
382.         a2 = Author.objects.create(name='Paul Verlaine')
383.         a3 = Author.objects.create(name='Walt Whitman')
384. 
385.         qs = Author.objects.order_by('name')
386. 
387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)
388.         formset = AuthorFormSet(queryset=qs)
389.         self.assertEqual(len(formset.forms), 6)
390.         self.assertEqual(len(formset.extra_forms), 3)
391. 
392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)
393.         formset = AuthorFormSet(queryset=qs)
394.         self.assertEqual(len(formset.forms), 4)
395.         self.assertEqual(len(formset.extra_forms), 1)
396. 
397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)
398.         formset = AuthorFormSet(queryset=qs)
399.         self.assertEqual(len(formset.forms), 3)
400.         self.assertEqual(len(formset.extra_forms), 0)
401. 
402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)
403.         formset = AuthorFormSet(queryset=qs)
404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
405. 
406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)
407.         formset = AuthorFormSet(queryset=qs)
408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
409. 
410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)
411.         formset = AuthorFormSet(queryset=qs)
412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
413. 
414.     def test_min_num(self):
415.         # Test the behavior of min_num with model formsets. It should be
416.         # added to extra.
417.         qs = Author.objects.none()
418. 
419.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0)
420.         formset = AuthorFormSet(queryset=qs)
421.         self.assertEqual(len(formset.forms), 0)
422. 
423.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=0)
424.         formset = AuthorFormSet(queryset=qs)
425.         self.assertEqual(len(formset.forms), 1)
426. 
427.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=1)
428.         formset = AuthorFormSet(queryset=qs)
429.         self.assertEqual(len(formset.forms), 2)
430. 
431.     def test_min_num_with_existing(self):
432.         # Test the behavior of min_num with existing objects.
433.         Author.objects.create(name='Charles Baudelaire')
434.         qs = Author.objects.all()
435. 
436.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0, min_num=1)
437.         formset = AuthorFormSet(queryset=qs)
438.         self.assertEqual(len(formset.forms), 1)
439. 
440.     def test_custom_save_method(self):
441.         class PoetForm(forms.ModelForm):
442.             def save(self, commit=True):
443.                 # change the name to "Vladimir Mayakovsky" just to be a jerk.
444.                 author = super().save(commit=False)
445.                 author.name = "Vladimir Mayakovsky"
446.                 if commit:
447.                     author.save()
448.                 return author
449. 
450.         PoetFormSet = modelformset_factory(Poet, fields="__all__", form=PoetForm)
451. 
452.         data = {
453.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
454.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
455.             'form-MAX_NUM_FORMS': '',  # the max number of forms
456.             'form-0-name': 'Walt Whitman',
457.             'form-1-name': 'Charles Baudelaire',
458.             'form-2-name': '',
459.         }
460. 
461.         qs = Poet.objects.all()
462.         formset = PoetFormSet(data=data, queryset=qs)
463.         self.assertTrue(formset.is_valid())
464. 
465.         poets = formset.save()
466.         self.assertEqual(len(poets), 2)
467.         poet1, poet2 = poets
468.         self.assertEqual(poet1.name, 'Vladimir Mayakovsky')
469.         self.assertEqual(poet2.name, 'Vladimir Mayakovsky')
470. 
471.     def test_custom_form(self):
472.         """
473.         model_formset_factory() respects fields and exclude parameters of a
474.         custom form.
475.         """
476.         class PostForm1(forms.ModelForm):
477.             class Meta:
478.                 model = Post
479.                 fields = ('title', 'posted')
480. 
481.         class PostForm2(forms.ModelForm):
482.             class Meta:
483.                 model = Post
484.                 exclude = ('subtitle',)
485. 
486.         PostFormSet = modelformset_factory(Post, form=PostForm1)
487.         formset = PostFormSet()
488.         self.assertNotIn("subtitle", formset.forms[0].fields)
489. 
490.         PostFormSet = modelformset_factory(Post, form=PostForm2)
491.         formset = PostFormSet()
492.         self.assertNotIn("subtitle", formset.forms[0].fields)
493. 
494.     def test_custom_queryset_init(self):
495.         """
496.         A queryset can be overridden in the formset's __init__() method.
497.         """
498.         Author.objects.create(name='Charles Baudelaire')
499.         Author.objects.create(name='Paul Verlaine')
500.

File: tests/model_formsets/models.py
Line number range: 1 - 265
Content:
1. import datetime
2. import uuid
3. 
4. from django.db import models
5. 
6. 
7. class Author(models.Model):
8.     name = models.CharField(max_length=100)
9. 
10.     class Meta:
11.         ordering = ('name',)
12. 
13.     def __str__(self):
14.         return self.name
15. 
16. 
17. class BetterAuthor(Author):
18.     write_speed = models.IntegerField()
19. 
20. 
21. class Book(models.Model):
22.     author = models.ForeignKey(Author, models.CASCADE)
23.     title = models.CharField(max_length=100)
24. 
25.     class Meta:
26.         unique_together = (
27.             ('author', 'title'),
28.         )
29.         ordering = ['id']
30. 
31.     def __str__(self):
32.         return self.title
33. 
34.     def clean(self):
35.         # Ensure author is always accessible in clean method
36.         assert self.author.name is not None
37. 
38. 
39. class BookWithCustomPK(models.Model):
40.     my_pk = models.DecimalField(max_digits=5, decimal_places=0, primary_key=True)
41.     author = models.ForeignKey(Author, models.CASCADE)
42.     title = models.CharField(max_length=100)
43. 
44.     def __str__(self):
45.         return '%s: %s' % (self.my_pk, self.title)
46. 
47. 
48. class Editor(models.Model):
49.     name = models.CharField(max_length=100)
50. 
51. 
52. class BookWithOptionalAltEditor(models.Model):
53.     author = models.ForeignKey(Author, models.CASCADE)
54.     # Optional secondary author
55.     alt_editor = models.ForeignKey(Editor, models.SET_NULL, blank=True, null=True)
56.     title = models.CharField(max_length=100)
57. 
58.     class Meta:
59.         unique_together = (
60.             ('author', 'title', 'alt_editor'),
61.         )
62. 
63.     def __str__(self):
64.         return self.title
65. 
66. 
67. class AlternateBook(Book):
68.     notes = models.CharField(max_length=100)
69. 
70.     def __str__(self):
71.         return '%s - %s' % (self.title, self.notes)
72. 
73. 
74. class AuthorMeeting(models.Model):
75.     name = models.CharField(max_length=100)
76.     authors = models.ManyToManyField(Author)
77.     created = models.DateField(editable=False)
78. 
79.     def __str__(self):
80.         return self.name
81. 
82. 
83. class CustomPrimaryKey(models.Model):
84.     my_pk = models.CharField(max_length=10, primary_key=True)
85.     some_field = models.CharField(max_length=100)
86. 
87. 
88. # models for inheritance tests.
89. 
90. 
91. class Place(models.Model):
92.     name = models.CharField(max_length=50)
93.     city = models.CharField(max_length=50)
94. 
95.     def __str__(self):
96.         return self.name
97. 
98. 
99. class Owner(models.Model):
100.     auto_id = models.AutoField(primary_key=True)
101.     name = models.CharField(max_length=100)
102.     place = models.ForeignKey(Place, models.CASCADE)
103. 
104.     def __str__(self):
105.         return "%s at %s" % (self.name, self.place)
106. 
107. 
108. class Location(models.Model):
109.     place = models.ForeignKey(Place, models.CASCADE, unique=True)
110.     # this is purely for testing the data doesn't matter here :)
111.     lat = models.CharField(max_length=100)
112.     lon = models.CharField(max_length=100)
113. 
114. 
115. class OwnerProfile(models.Model):
116.     owner = models.OneToOneField(Owner, models.CASCADE, primary_key=True)
117.     age = models.PositiveIntegerField()
118. 
119.     def __str__(self):
120.         return "%s is %d" % (self.owner.name, self.age)
121. 
122. 
123. class Restaurant(Place):
124.     serves_pizza = models.BooleanField(default=False)
125. 
126. 
127. class Product(models.Model):
128.     slug = models.SlugField(unique=True)
129. 
130.     def __str__(self):
131.         return self.slug
132. 
133. 
134. class Price(models.Model):
135.     price = models.DecimalField(max_digits=10, decimal_places=2)
136.     quantity = models.PositiveIntegerField()
137. 
138.     class Meta:
139.         unique_together = (('price', 'quantity'),)
140. 
141.     def __str__(self):
142.         return "%s for %s" % (self.quantity, self.price)
143. 
144. 
145. class MexicanRestaurant(Restaurant):
146.     serves_tacos = models.BooleanField(default=False)
147. 
148. 
149. class ClassyMexicanRestaurant(MexicanRestaurant):
150.     the_restaurant = models.OneToOneField(MexicanRestaurant, models.CASCADE, parent_link=True, primary_key=True)
151.     tacos_are_yummy = models.BooleanField(default=False)
152. 
153. 
154. # models for testing unique_together validation when a fk is involved and
155. # using inlineformset_factory.
156. class Repository(models.Model):
157.     name = models.CharField(max_length=25)
158. 
159.     def __str__(self):
160.         return self.name
161. 
162. 
163. class Revision(models.Model):
164.     repository = models.ForeignKey(Repository, models.CASCADE)
165.     revision = models.CharField(max_length=40)
166. 
167.     class Meta:
168.         unique_together = (("repository", "revision"),)
169. 
170.     def __str__(self):
171.         return "%s (%s)" % (self.revision, str(self.repository))
172. 
173. 
174. # models for testing callable defaults (see bug #7975). If you define a model
175. # with a callable default value, you cannot rely on the initial value in a
176. # form.
177. class Person(models.Model):
178.     name = models.CharField(max_length=128)
179. 
180. 
181. class Membership(models.Model):
182.     person = models.ForeignKey(Person, models.CASCADE)
183.     date_joined = models.DateTimeField(default=datetime.datetime.now)
184.     karma = models.IntegerField()
185. 
186. 
187. # models for testing a null=True fk to a parent
188. class Team(models.Model):
189.     name = models.CharField(max_length=100)
190. 
191. 
192. class Player(models.Model):
193.     team = models.ForeignKey(Team, models.SET_NULL, null=True)
194.     name = models.CharField(max_length=100)
195. 
196.     def __str__(self):
197.         return self.name
198. 
199. 
200. # Models for testing custom ModelForm save methods in formsets and inline formsets
201. class Poet(models.Model):
202.     name = models.CharField(max_length=100)
203. 
204.     def __str__(self):
205.         return self.name
206. 
207. 
208. class Poem(models.Model):
209.     poet = models.ForeignKey(Poet, models.CASCADE)
210.     name = models.CharField(max_length=100)
211. 
212.     def __str__(self):
213.         return self.name
214. 
215. 
216. class Post(models.Model):
217.     title = models.CharField(max_length=50, unique_for_date='posted', blank=True)
218.     slug = models.CharField(max_length=50, unique_for_year='posted', blank=True)
219.     subtitle = models.CharField(max_length=50, unique_for_month='posted', blank=True)
220.     posted = models.DateField()
221. 
222.     def __str__(self):
223.         return self.title
224. 
225. 
226. # Models for testing UUID primary keys
227. class UUIDPKParent(models.Model):
228.     uuid = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
229.     name = models.CharField(max_length=255)
230. 
231. 
232. class UUIDPKChild(models.Model):
233.     uuid = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
234.     name = models.CharField(max_length=255)
235.     parent = models.ForeignKey(UUIDPKParent, models.CASCADE)
236. 
237. 
238. class ChildWithEditablePK(models.Model):
239.     name = models.CharField(max_length=255, primary_key=True)
240.     parent = models.ForeignKey(UUIDPKParent, models.CASCADE)
241. 
242. 
243. class AutoPKChildOfUUIDPKParent(models.Model):
244.     name = models.CharField(max_length=255)
245.     parent = models.ForeignKey(UUIDPKParent, models.CASCADE)
246. 
247. 
248. class AutoPKParent(models.Model):
249.     name = models.CharField(max_length=255)
250. 
251. 
252. class UUIDPKChildOfAutoPKParent(models.Model):
253.     uuid = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
254.     name = models.CharField(max_length=255)
255.     parent = models.ForeignKey(AutoPKParent, models.CASCADE)
256. 
257. 
258. class ParentWithUUIDAlternateKey(models.Model):
259.     uuid = models.UUIDField(unique=True, default=uuid.uuid4, editable=False)
260.     name = models.CharField(max_length=50)
261. 
262. 
263. class ChildRelatedViaAK(models.Model):
264.     name = models.CharField(max_length=255)
265.     parent = models.ForeignKey(ParentWithUUIDAlternateKey, models.CASCADE, to_field='uuid')

File: tests/forms_tests/tests/test_formsets.py
Line number range: 1 - 500
Content:
1. import datetime
2. from collections import Counter
3. from unittest import mock
4. 
5. from django.core.exceptions import ValidationError
6. from django.forms import (
7.     BaseForm, CharField, DateField, FileField, Form, IntegerField,
8.     SplitDateTimeField, formsets,
9. )
10. from django.forms.formsets import (
11.     INITIAL_FORM_COUNT, MAX_NUM_FORM_COUNT, MIN_NUM_FORM_COUNT,
12.     TOTAL_FORM_COUNT, BaseFormSet, ManagementForm, all_valid, formset_factory,
13. )
14. from django.forms.utils import ErrorList
15. from django.forms.widgets import HiddenInput
16. from django.test import SimpleTestCase
17. 
18. from . import jinja2_tests
19. 
20. 
21. class Choice(Form):
22.     choice = CharField()
23.     votes = IntegerField()
24. 
25. 
26. ChoiceFormSet = formset_factory(Choice)
27. 
28. 
29. class ChoiceFormsetWithNonFormError(ChoiceFormSet):
30.     def clean(self):
31.         super().clean()
32.         raise ValidationError('non-form error')
33. 
34. 
35. class FavoriteDrinkForm(Form):
36.     name = CharField()
37. 
38. 
39. class BaseFavoriteDrinksFormSet(BaseFormSet):
40.     def clean(self):
41.         seen_drinks = []
42. 
43.         for drink in self.cleaned_data:
44.             if drink['name'] in seen_drinks:
45.                 raise ValidationError('You may only specify a drink once.')
46. 
47.             seen_drinks.append(drink['name'])
48. 
49. 
50. # A FormSet that takes a list of favorite drinks and raises an error if
51. # there are any duplicates.
52. FavoriteDrinksFormSet = formset_factory(FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3)
53. 
54. 
55. class CustomKwargForm(Form):
56.     def __init__(self, *args, custom_kwarg, **kwargs):
57.         self.custom_kwarg = custom_kwarg
58.         super().__init__(*args, **kwargs)
59. 
60. 
61. class FormsFormsetTestCase(SimpleTestCase):
62. 
63.     def make_choiceformset(
64.             self, formset_data=None, formset_class=ChoiceFormSet,
65.             total_forms=None, initial_forms=0, max_num_forms=0, min_num_forms=0, **kwargs):
66.         """
67.         Make a ChoiceFormset from the given formset_data.
68.         The data should be given as a list of (choice, votes) tuples.
69.         """
70.         kwargs.setdefault('prefix', 'choices')
71.         kwargs.setdefault('auto_id', False)
72. 
73.         if formset_data is None:
74.             return formset_class(**kwargs)
75. 
76.         if total_forms is None:
77.             total_forms = len(formset_data)
78. 
79.         def prefixed(*args):
80.             args = (kwargs['prefix'],) + args
81.             return '-'.join(args)
82. 
83.         data = {
84.             prefixed('TOTAL_FORMS'): str(total_forms),
85.             prefixed('INITIAL_FORMS'): str(initial_forms),
86.             prefixed('MAX_NUM_FORMS'): str(max_num_forms),
87.             prefixed('MIN_NUM_FORMS'): str(min_num_forms),
88.         }
89.         for i, (choice, votes) in enumerate(formset_data):
90.             data[prefixed(str(i), 'choice')] = choice
91.             data[prefixed(str(i), 'votes')] = votes
92. 
93.         return formset_class(data, **kwargs)
94. 
95.     def test_basic_formset(self):
96.         """
97.         A FormSet constructor takes the same arguments as Form. Create a
98.         FormSet for adding data. By default, it displays 1 blank form.
99.         """
100.         formset = self.make_choiceformset()
101.         self.assertHTMLEqual(
102.             str(formset),
103.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">
104. <input type="hidden" name="choices-INITIAL_FORMS" value="0">
105. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">
106. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">
107. <tr><th>Choice:</th><td><input type="text" name="choices-0-choice"></td></tr>
108. <tr><th>Votes:</th><td><input type="number" name="choices-0-votes"></td></tr>"""
109.         )
110.         # FormSet are treated similarly to Forms. FormSet has an is_valid()
111.         # method, and a cleaned_data or errors attribute depending on whether
112.         # all the forms passed validation. However, unlike a Form, cleaned_data
113.         # and errors will be a list of dicts rather than a single dict.
114.         formset = self.make_choiceformset([('Calexico', '100')])
115.         self.assertTrue(formset.is_valid())
116.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}])
117. 
118.         # If a FormSet wasn't passed any data, is_valid() and has_changed()
119.         # return False.
120.         formset = self.make_choiceformset()
121.         self.assertFalse(formset.is_valid())
122.         self.assertFalse(formset.has_changed())
123. 
124.     def test_form_kwargs_formset(self):
125.         """
126.         Custom kwargs set on the formset instance are passed to the
127.         underlying forms.
128.         """
129.         FormSet = formset_factory(CustomKwargForm, extra=2)
130.         formset = FormSet(form_kwargs={'custom_kwarg': 1})
131.         for form in formset:
132.             self.assertTrue(hasattr(form, 'custom_kwarg'))
133.             self.assertEqual(form.custom_kwarg, 1)
134. 
135.     def test_form_kwargs_formset_dynamic(self):
136.         """Form kwargs can be passed dynamically in a formset."""
137.         class DynamicBaseFormSet(BaseFormSet):
138.             def get_form_kwargs(self, index):
139.                 return {'custom_kwarg': index}
140. 
141.         DynamicFormSet = formset_factory(CustomKwargForm, formset=DynamicBaseFormSet, extra=2)
142.         formset = DynamicFormSet(form_kwargs={'custom_kwarg': 'ignored'})
143.         for i, form in enumerate(formset):
144.             self.assertTrue(hasattr(form, 'custom_kwarg'))
145.             self.assertEqual(form.custom_kwarg, i)
146. 
147.     def test_form_kwargs_empty_form(self):
148.         FormSet = formset_factory(CustomKwargForm)
149.         formset = FormSet(form_kwargs={'custom_kwarg': 1})
150.         self.assertTrue(hasattr(formset.empty_form, 'custom_kwarg'))
151.         self.assertEqual(formset.empty_form.custom_kwarg, 1)
152. 
153.     def test_formset_validation(self):
154.         # FormSet instances can also have an error attribute if validation failed for
155.         # any of the forms.
156.         formset = self.make_choiceformset([('Calexico', '')])
157.         self.assertFalse(formset.is_valid())
158.         self.assertEqual(formset.errors, [{'votes': ['This field is required.']}])
159. 
160.     def test_formset_validation_count(self):
161.         """
162.         A formset's ManagementForm is validated once per FormSet.is_valid()
163.         call and each form of the formset is cleaned once.
164.         """
165.         def make_method_counter(func):
166.             """Add a counter to func for the number of times it's called."""
167.             counter = Counter()
168.             counter.call_count = 0
169. 
170.             def mocked_func(*args, **kwargs):
171.                 counter.call_count += 1
172.                 return func(*args, **kwargs)
173. 
174.             return mocked_func, counter
175. 
176.         mocked_is_valid, is_valid_counter = make_method_counter(formsets.ManagementForm.is_valid)
177.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)
178.         formset = self.make_choiceformset([('Calexico', '100'), ('Any1', '42'), ('Any2', '101')])
179. 
180.         with mock.patch('django.forms.formsets.ManagementForm.is_valid', mocked_is_valid), \
181.                 mock.patch('django.forms.forms.BaseForm.full_clean', mocked_full_clean):
182.             self.assertTrue(formset.is_valid())
183.         self.assertEqual(is_valid_counter.call_count, 1)
184.         self.assertEqual(full_clean_counter.call_count, 4)
185. 
186.     def test_formset_has_changed(self):
187.         """
188.         FormSet.has_changed() is True if any data is passed to its forms, even
189.         if the formset didn't validate.
190.         """
191.         blank_formset = self.make_choiceformset([('', '')])
192.         self.assertFalse(blank_formset.has_changed())
193.         # invalid formset
194.         invalid_formset = self.make_choiceformset([('Calexico', '')])
195.         self.assertFalse(invalid_formset.is_valid())
196.         self.assertTrue(invalid_formset.has_changed())
197.         # valid formset
198.         valid_formset = self.make_choiceformset([('Calexico', '100')])
199.         self.assertTrue(valid_formset.is_valid())
200.         self.assertTrue(valid_formset.has_changed())
201. 
202.     def test_formset_initial_data(self):
203.         """
204.         A FormSet can be prefilled with existing data by providing a list of
205.         dicts to the `initial` argument. By default, an extra blank form is
206.         included.
207.         """
208.         formset = self.make_choiceformset(initial=[{'choice': 'Calexico', 'votes': 100}])
209.         self.assertHTMLEqual(
210.             '\n'.join(form.as_ul() for form in formset.forms),
211.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
212. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
213. <li>Choice: <input type="text" name="choices-1-choice"></li>
214. <li>Votes: <input type="number" name="choices-1-votes"></li>"""
215.         )
216. 
217.     def test_blank_form_unfilled(self):
218.         """A form that's displayed as blank may be submitted as blank."""
219.         formset = self.make_choiceformset([('Calexico', '100'), ('', '')], initial_forms=1)
220.         self.assertTrue(formset.is_valid())
221.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}, {}])
222. 
223.     def test_second_form_partially_filled(self):
224.         """
225.         If at least one field is filled out on a blank form, it will be
226.         validated.
227.         """
228.         formset = self.make_choiceformset([('Calexico', '100'), ('The Decemberists', '')], initial_forms=1)
229.         self.assertFalse(formset.is_valid())
230.         self.assertEqual(formset.errors, [{}, {'votes': ['This field is required.']}])
231. 
232.     def test_delete_prefilled_data(self):
233.         """
234.         Deleting prefilled data is an error. Removing data from form fields
235.         isn't the proper way to delete it.
236.         """
237.         formset = self.make_choiceformset([('', ''), ('', '')], initial_forms=1)
238.         self.assertFalse(formset.is_valid())
239.         self.assertEqual(
240.             formset.errors,
241.             [{'votes': ['This field is required.'], 'choice': ['This field is required.']}, {}]
242.         )
243. 
244.     def test_displaying_more_than_one_blank_form(self):
245.         """
246.         More than 1 empty form can be displayed using formset_factory's
247.         `extra` argument.
248.         """
249.         ChoiceFormSet = formset_factory(Choice, extra=3)
250.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
251.         self.assertHTMLEqual(
252.             '\n'.join(form.as_ul() for form in formset.forms),
253.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
254. <li>Votes: <input type="number" name="choices-0-votes"></li>
255. <li>Choice: <input type="text" name="choices-1-choice"></li>
256. <li>Votes: <input type="number" name="choices-1-votes"></li>
257. <li>Choice: <input type="text" name="choices-2-choice"></li>
258. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
259.         )
260.         # Since every form was displayed as blank, they are also accepted as
261.         # blank. This may seem a little strange, but min_num is used to require
262.         # a minimum number of forms to be completed.
263.         data = {
264.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
265.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
266.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
267.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
268.             'choices-0-choice': '',
269.             'choices-0-votes': '',
270.             'choices-1-choice': '',
271.             'choices-1-votes': '',
272.             'choices-2-choice': '',
273.             'choices-2-votes': '',
274.         }
275.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
276.         self.assertTrue(formset.is_valid())
277.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])
278. 
279.     def test_min_num_displaying_more_than_one_blank_form(self):
280.         """
281.         More than 1 empty form can also be displayed using formset_factory's
282.         min_num argument. It will (essentially) increment the extra argument.
283.         """
284.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)
285.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
286.         # Min_num forms are required; extra forms can be empty.
287.         self.assertFalse(formset.forms[0].empty_permitted)
288.         self.assertTrue(formset.forms[1].empty_permitted)
289.         self.assertHTMLEqual(
290.             '\n'.join(form.as_ul() for form in formset.forms),
291.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
292. <li>Votes: <input type="number" name="choices-0-votes"></li>
293. <li>Choice: <input type="text" name="choices-1-choice"></li>
294. <li>Votes: <input type="number" name="choices-1-votes"></li>"""
295.         )
296. 
297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
298.         """More than 1 empty form can be displayed using min_num."""
299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
300.         formset = ChoiceFormSet(auto_id=False, prefix='choices')
301.         self.assertHTMLEqual(
302.             '\n'.join(form.as_ul() for form in formset.forms),
303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
304. <li>Votes: <input type="number" name="choices-0-votes"></li>
305. <li>Choice: <input type="text" name="choices-1-choice"></li>
306. <li>Votes: <input type="number" name="choices-1-votes"></li>
307. <li>Choice: <input type="text" name="choices-2-choice"></li>
308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""
309.         )
310. 
311.     def test_single_form_completed(self):
312.         """Just one form may be completed."""
313.         data = {
314.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
315.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
316.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
317.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
318.             'choices-0-choice': 'Calexico',
319.             'choices-0-votes': '100',
320.             'choices-1-choice': '',
321.             'choices-1-votes': '',
322.             'choices-2-choice': '',
323.             'choices-2-votes': '',
324.         }
325.         ChoiceFormSet = formset_factory(Choice, extra=3)
326.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
327.         self.assertTrue(formset.is_valid())
328.         self.assertEqual([form.cleaned_data for form in formset.forms], [{'votes': 100, 'choice': 'Calexico'}, {}, {}])
329. 
330.     def test_formset_validate_max_flag(self):
331.         """
332.         If validate_max is set and max_num is less than TOTAL_FORMS in the
333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
334.         irrelevant here (it's output as a hint for the client but its value
335.         in the returned data is not checked).
336.         """
337.         data = {
338.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
339.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
340.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
341.             'choices-MAX_NUM_FORMS': '2',  # max number of forms - should be ignored
342.             'choices-0-choice': 'Zero',
343.             'choices-0-votes': '0',
344.             'choices-1-choice': 'One',
345.             'choices-1-votes': '1',
346.         }
347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
348.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
349.         self.assertFalse(formset.is_valid())
350.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
351.         self.assertEqual(
352.             str(formset.non_form_errors()),
353.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
354.         )
355. 
356.     def test_formset_validate_min_flag(self):
357.         """
358.         If validate_min is set and min_num is more than TOTAL_FORMS in the
359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
360.         irrelevant here (it's output as a hint for the client but its value
361.         in the returned data is not checked).
362.         """
363.         data = {
364.             'choices-TOTAL_FORMS': '2',  # the number of forms rendered
365.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
366.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
367.             'choices-MAX_NUM_FORMS': '0',  # max number of forms - should be ignored
368.             'choices-0-choice': 'Zero',
369.             'choices-0-votes': '0',
370.             'choices-1-choice': 'One',
371.             'choices-1-votes': '1',
372.         }
373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
374.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
375.         self.assertFalse(formset.is_valid())
376.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 3 forms.'])
377.         self.assertEqual(
378.             str(formset.non_form_errors()),
379.             '<ul class="errorlist nonform"><li>'
380.             'Please submit at least 3 forms.</li></ul>',
381.         )
382. 
383.     def test_formset_validate_min_unchanged_forms(self):
384.         """
385.         min_num validation doesn't consider unchanged forms with initial data
386.         as "empty".
387.         """
388.         initial = [
389.             {'choice': 'Zero', 'votes': 0},
390.             {'choice': 'One', 'votes': 0},
391.         ]
392.         data = {
393.             'choices-TOTAL_FORMS': '2',
394.             'choices-INITIAL_FORMS': '2',
395.             'choices-MIN_NUM_FORMS': '0',
396.             'choices-MAX_NUM_FORMS': '2',
397.             'choices-0-choice': 'Zero',
398.             'choices-0-votes': '0',
399.             'choices-1-choice': 'One',
400.             'choices-1-votes': '1',  # changed from initial
401.         }
402.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)
403.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices', initial=initial)
404.         self.assertFalse(formset.forms[0].has_changed())
405.         self.assertTrue(formset.forms[1].has_changed())
406.         self.assertTrue(formset.is_valid())
407. 
408.     def test_formset_validate_min_excludes_empty_forms(self):
409.         data = {
410.             'choices-TOTAL_FORMS': '2',
411.             'choices-INITIAL_FORMS': '0',
412.         }
413.         ChoiceFormSet = formset_factory(Choice, extra=2, min_num=1, validate_min=True, can_delete=True)
414.         formset = ChoiceFormSet(data, prefix='choices')
415.         self.assertFalse(formset.has_changed())
416.         self.assertFalse(formset.is_valid())
417.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 1 form.'])
418. 
419.     def test_second_form_partially_filled_2(self):
420.         """A partially completed form is invalid."""
421.         data = {
422.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
423.             'choices-INITIAL_FORMS': '0',  # the number of forms with initial data
424.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
425.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
426.             'choices-0-choice': 'Calexico',
427.             'choices-0-votes': '100',
428.             'choices-1-choice': 'The Decemberists',
429.             'choices-1-votes': '',  # missing value
430.             'choices-2-choice': '',
431.             'choices-2-votes': '',
432.         }
433.         ChoiceFormSet = formset_factory(Choice, extra=3)
434.         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')
435.         self.assertFalse(formset.is_valid())
436.         self.assertEqual(formset.errors, [{}, {'votes': ['This field is required.']}, {}])
437. 
438.     def test_more_initial_data(self):
439.         """
440.         The extra argument works when the formset is pre-filled with initial
441.         data.
442.         """
443.         initial = [{'choice': 'Calexico', 'votes': 100}]
444.         ChoiceFormSet = formset_factory(Choice, extra=3)
445.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
446.         self.assertHTMLEqual(
447.             '\n'.join(form.as_ul() for form in formset.forms),
448.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
449. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
450. <li>Choice: <input type="text" name="choices-1-choice"></li>
451. <li>Votes: <input type="number" name="choices-1-votes"></li>
452. <li>Choice: <input type="text" name="choices-2-choice"></li>
453. <li>Votes: <input type="number" name="choices-2-votes"></li>
454. <li>Choice: <input type="text" name="choices-3-choice"></li>
455. <li>Votes: <input type="number" name="choices-3-votes"></li>"""
456.         )
457.         # Retrieving an empty form works. Tt shows up in the form list.
458.         self.assertTrue(formset.empty_form.empty_permitted)
459.         self.assertHTMLEqual(
460.             formset.empty_form.as_ul(),
461.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
462. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>"""
463.         )
464. 
465.     def test_formset_with_deletion(self):
466.         """
467.         formset_factory's can_delete argument adds a boolean "delete" field to
468.         each form. When that boolean field is True, the form will be in
469.         formset.deleted_forms.
470.         """
471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
472.         initial = [{'choice': 'Calexico', 'votes': 100}, {'choice': 'Fergie', 'votes': 900}]
473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix='choices')
474.         self.assertHTMLEqual(
475.             '\n'.join(form.as_ul() for form in formset.forms),
476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>
477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>
478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>
479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>
480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>
481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>
482. <li>Choice: <input type="text" name="choices-2-choice"></li>
483. <li>Votes: <input type="number" name="choices-2-votes"></li>
484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""
485.         )
486.         # To delete something, set that form's special delete field to 'on'.
487.         # Let's go ahead and delete Fergie.
488.         data = {
489.             'choices-TOTAL_FORMS': '3',  # the number of forms rendered
490.             'choices-INITIAL_FORMS': '2',  # the number of forms with initial data
491.             'choices-MIN_NUM_FORMS': '0',  # min number of forms
492.             'choices-MAX_NUM_FORMS': '0',  # max number of forms
493.             'choices-0-choice': 'Calexico',
494.             'choices-0-votes': '100',
495.             'choices-0-DELETE': '',
496.             'choices-1-choice': 'Fergie',
497.             'choices-1-votes': '900',
498.             'choices-1-DELETE': 'on',
499.             'choices-2-choice': '',
500.             'choices-2-votes': '',


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 16:04:02,136 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="This test demonstrates how to use the `validate_max=True` parameter in a formset to enforce a server-side limit on the number of forms submitted. When the number of submitted forms exceeds `max_num`, a `ValidationError` is raised. This is a direct and robust solution to the user's problem of preventing the creation of new objects in a formset.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=330, end_line=355), ContextOutput(reasoning="This test perfectly illustrates the problem described in the issue. Although the `modelformset_factory` has a default `extra=1`, the test successfully submits data for two new forms by setting `'form-TOTAL_FORMS': '3'` for one initial form. This shows that the `extra` parameter does not prevent submission of additional forms, making it unreliable for creating 'edit-only' views.", relative_path='tests/model_formsets/tests.py', start_line=45, end_line=78), ContextOutput(reasoning="This test case demonstrates how the `max_num` parameter of `modelformset_factory` can be used to control the number of forms displayed. The snippet `max_num=0, extra=3` resulting in 0 extra forms is particularly relevant. It shows how to configure a model formset to not display any blank forms for new objects, which is the first step towards an 'edit-only' view.", relative_path='tests/model_formsets/tests.py', start_line=376, end_line=413), ContextOutput(reasoning='This is a comprehensive test that shows the standard usage of a model formset for creating and editing objects. It demonstrates how the `extra` parameter is intended to be used: to provide a specific number of blank forms for adding new instances. Understanding this intended behavior provides crucial context for why using `extra=0` is not a sufficient solution for disallowing new object creation.', relative_path='tests/model_formsets/tests.py', start_line=146, end_line=336), ContextOutput(reasoning="This test highlights that `extra` forms are optional and can be submitted empty without causing validation errors. This reinforces the concept that `extra` is a presentation hint for the number of blank forms to display, not a server-side enforcement of how many forms must be filled. This supports the issue's claim that `extra=0` is not a reliable way to prevent new object creation.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=244, end_line=278)]
2025-10-05 16:04:02,137 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='330.     def test_formset_validate_max_flag(self):\n331.         """\n332.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n334.         irrelevant here (it\'s output as a hint for the client but its value\n335.         in the returned data is not checked).\n336.         """\n337.         data = {\n338.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n339.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n340.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n341.             \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n342.             \'choices-0-choice\': \'Zero\',\n343.             \'choices-0-votes\': \'0\',\n344.             \'choices-1-choice\': \'One\',\n345.             \'choices-1-votes\': \'1\',\n346.         }\n347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n348.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n349.         self.assertFalse(formset.is_valid())\n350.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n351.         self.assertEqual(\n352.             str(formset.non_form_errors()),\n353.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n354.         )\n355. ', start_line_number=330, end_line_number=355), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n298.         """More than 1 empty form can be displayed using min_num."""\n299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n300.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n301.         self.assertHTMLEqual(\n302.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n304. <li>Votes: <input type="number" name="choices-0-votes"></li>\n305. <li>Choice: <input type="text" name="choices-1-choice"></li>\n306. <li>Votes: <input type="number" name="choices-1-votes"></li>\n307. <li>Choice: <input type="text" name="choices-2-choice"></li>\n308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n309.         )\n310. ', start_line_number=297, end_line_number=310), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='465.     def test_formset_with_deletion(self):\n466.         """\n467.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n468.         each form. When that boolean field is True, the form will be in\n469.         formset.deleted_forms.\n470.         """\n471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n472.         initial = [{\'choice\': \'Calexico\', \'votes\': 100}, {\'choice\': \'Fergie\', \'votes\': 900}]\n473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n474.         self.assertHTMLEqual(\n475.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\n478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\n479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>\n480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\n481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\n482. <li>Choice: <input type="text" name="choices-2-choice"></li>\n483. <li>Votes: <input type="number" name="choices-2-votes"></li>\n484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""\n485.         )\n486.         # To delete something, set that form\'s special delete field to \'on\'.\n487.         # Let\'s go ahead and delete Fergie.\n488.         data = {\n489.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n490.             \'choices-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n491.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n492.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n493.             \'choices-0-choice\': \'Calexico\',\n494.             \'choices-0-votes\': \'100\',\n495.             \'choices-0-DELETE\': \'\',\n496.             \'choices-1-choice\': \'Fergie\',\n497.             \'choices-1-votes\': \'900\',\n498.             \'choices-1-DELETE\': \'on\',\n499.             \'choices-2-choice\': \'\',\n500.             \'choices-2-votes\': \'\',\n501.             \'choices-2-DELETE\': \'\',\n502.         }\n503.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n504.         self.assertTrue(formset.is_valid())\n505.         self.assertEqual(\n506.             [form.cleaned_data for form in formset.forms],\n507.             [\n508.                 {\'votes\': 100, \'DELETE\': False, \'choice\': \'Calexico\'},\n509.                 {\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'},\n510.                 {},\n511.             ]\n512.         )\n513.         self.assertEqual(\n514.             [form.cleaned_data for form in formset.deleted_forms],\n515.             [{\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'}]\n516.         )\n517. \n518.     def test_formset_with_deletion_remove_deletion_flag(self):\n519.         """\n520.         If a form is filled with something and can_delete is also checked, that\n521.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n522.         going to be deleted.\n523.         """\n524.         class CheckForm(Form):\n525.             field = IntegerField(min_value=100)', start_line_number=465, end_line_number=525), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='547.     def test_formset_with_deletion_invalid_deleted_form(self):\n548.         """\n549.         deleted_forms works on a valid formset even if a deleted form would\n550.         have been invalid.\n551.         """\n552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n553.         formset = FavoriteDrinkFormset({\n554.             \'form-0-name\': \'\',\n555.             \'form-0-DELETE\': \'on\',  # no name!\n556.             \'form-TOTAL_FORMS\': 1,\n557.             \'form-INITIAL_FORMS\': 1,\n558.             \'form-MIN_NUM_FORMS\': 0,\n559.             \'form-MAX_NUM_FORMS\': 1,\n560.         })\n561.         self.assertTrue(formset.is_valid())\n562.         self.assertEqual(formset._errors, [])\n563.         self.assertEqual(len(formset.deleted_forms), 1)\n564. ', start_line_number=547, end_line_number=564), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='356.     def test_formset_validate_min_flag(self):\n357.         """\n358.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n360.         irrelevant here (it\'s output as a hint for the client but its value\n361.         in the returned data is not checked).\n362.         """\n363.         data = {\n364.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n365.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n366.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n367.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n368.             \'choices-0-choice\': \'Zero\',\n369.             \'choices-0-votes\': \'0\',\n370.             \'choices-1-choice\': \'One\',\n371.             \'choices-1-votes\': \'1\',\n372.         }\n373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n374.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n375.         self.assertFalse(formset.is_valid())\n376.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n377.         self.assertEqual(\n378.             str(formset.non_form_errors()),\n379.             \'<ul class="errorlist nonform"><li>\'\n380.             \'Please submit at least 3 forms.</li></ul>\',\n381.         )\n382. ', start_line_number=356, end_line_number=382), Context(relative_path='tests/model_formsets/tests.py', content='1234.     def test_modelformset_validate_max_flag(self):\n1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the\n1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is\n1237.         # irrelevant here (it\'s output as a hint for the client but its\n1238.         # value in the returned data is not checked)\n1239. \n1240.         data = {\n1241.             \'form-TOTAL_FORMS\': \'2\',\n1242.             \'form-INITIAL_FORMS\': \'0\',\n1243.             \'form-MAX_NUM_FORMS\': \'2\',  # should be ignored\n1244.             \'form-0-price\': \'12.00\',\n1245.             \'form-0-quantity\': \'1\',\n1246.             \'form-1-price\': \'24.00\',\n1247.             \'form-1-quantity\': \'2\',\n1248.         }\n1249. \n1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)\n1251.         formset = FormSet(data)\n1252.         self.assertFalse(formset.is_valid())\n1253.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n1254. \n1255.         # Now test the same thing without the validate_max flag to ensure\n1256.         # default behavior is unchanged\n1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)\n1258.         formset = FormSet(data)\n1259.         self.assertTrue(formset.is_valid())\n1260. ', start_line_number=1234, end_line_number=1260), Context(relative_path='tests/model_formsets/tests.py', content="1261.     def test_modelformset_min_num_equals_max_num_less_than(self):\n1262.         data = {\n1263.             'form-TOTAL_FORMS': '3',\n1264.             'form-INITIAL_FORMS': '0',\n1265.             'form-MAX_NUM_FORMS': '2',\n1266.             'form-0-slug': 'car-red',\n1267.             'form-1-slug': 'car-blue',\n1268.             'form-2-slug': 'car-black',\n1269.         }\n1270.         FormSet = modelformset_factory(\n1271.             Product,\n1272.             fields='__all__',\n1273.             extra=1,\n1274.             max_num=2,\n1275.             validate_max=True,\n1276.             min_num=2,\n1277.             validate_min=True,\n1278.         )\n1279.         formset = FormSet(data)\n1280.         self.assertFalse(formset.is_valid())\n1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])\n1282. ", start_line_number=1261, end_line_number=1282), Context(relative_path='tests/model_formsets/tests.py', content='376.     def test_max_num(self):\n377.         # Test the behavior of max_num with model formsets. It should allow\n378.         # all existing related objects/inlines for a given object to be\n379.         # displayed, but not allow the creation of new inlines beyond max_num.\n380. \n381.         a1 = Author.objects.create(name=\'Charles Baudelaire\')\n382.         a2 = Author.objects.create(name=\'Paul Verlaine\')\n383.         a3 = Author.objects.create(name=\'Walt Whitman\')\n384. \n385.         qs = Author.objects.order_by(\'name\')\n386. \n387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)\n388.         formset = AuthorFormSet(queryset=qs)\n389.         self.assertEqual(len(formset.forms), 6)\n390.         self.assertEqual(len(formset.extra_forms), 3)\n391. \n392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)\n393.         formset = AuthorFormSet(queryset=qs)\n394.         self.assertEqual(len(formset.forms), 4)\n395.         self.assertEqual(len(formset.extra_forms), 1)\n396. \n397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)\n398.         formset = AuthorFormSet(queryset=qs)\n399.         self.assertEqual(len(formset.forms), 3)\n400.         self.assertEqual(len(formset.extra_forms), 0)\n401. \n402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)\n403.         formset = AuthorFormSet(queryset=qs)\n404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n405. \n406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)\n407.         formset = AuthorFormSet(queryset=qs)\n408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n409. \n410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)\n411.         formset = AuthorFormSet(queryset=qs)\n412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n413. ', start_line_number=376, end_line_number=413), Context(relative_path='tests/model_formsets/tests.py', content='1185.     def test_unique_true_enforces_max_num_one(self):\n1186.         # ForeignKey with unique=True should enforce max_num=1\n1187. \n1188.         place = Place.objects.create(pk=1, name=\'Giordanos\', city=\'Chicago\')\n1189. \n1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")\n1191.         self.assertEqual(FormSet.max_num, 1)\n1192. \n1193.         formset = FormSet(instance=place)\n1194.         self.assertEqual(len(formset.forms), 1)\n1195.         self.assertHTMLEqual(\n1196.             formset.forms[0].as_p(),\n1197.             \'<p><label for="id_location_set-0-lat">Lat:</label>\'\n1198.             \'<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>\'\n1199.             \'<p><label for="id_location_set-0-lon">Lon:</label> \'\n1200.             \'<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">\'\n1201.             \'<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">\'\n1202.             \'<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>\'\n1203.         )\n1204. ', start_line_number=1185, end_line_number=1204), Context(relative_path='tests/model_formsets/tests.py', content="1283.     def test_modelformset_min_num_equals_max_num_more_than(self):\n1284.         data = {\n1285.             'form-TOTAL_FORMS': '1',\n1286.             'form-INITIAL_FORMS': '0',\n1287.             'form-MAX_NUM_FORMS': '2',\n1288.             'form-0-slug': 'car-red',\n1289.         }\n1290.         FormSet = modelformset_factory(\n1291.             Product,\n1292.             fields='__all__',\n1293.             extra=1,\n1294.             max_num=2,\n1295.             validate_max=True,\n1296.             min_num=2,\n1297.             validate_min=True,\n1298.         )\n1299.         formset = FormSet(data)\n1300.         self.assertFalse(formset.is_valid())\n1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])\n1302. ", start_line_number=1283, end_line_number=1302), Context(relative_path='tests/model_formsets/tests.py', content='45.     def test_add_form_deletion_when_invalid(self):\n46.         """\n47.         Make sure that an add form that is filled out, but marked for deletion\n48.         doesn\'t cause validation errors.\n49.         """\n50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)\n51.         poet = Poet.objects.create(name=\'test\')\n52.         # One existing untouched and two new unvalid forms\n53.         data = {\n54.             \'form-TOTAL_FORMS\': \'3\',\n55.             \'form-INITIAL_FORMS\': \'1\',\n56.             \'form-MAX_NUM_FORMS\': \'0\',\n57.             \'form-0-id\': str(poet.id),\n58.             \'form-0-name\': \'test\',\n59.             \'form-1-id\': \'\',\n60.             \'form-1-name\': \'x\' * 1000,  # Too long\n61.             \'form-2-id\': str(poet.id),  # Violate unique constraint\n62.             \'form-2-name\': \'test2\',\n63.         }\n64.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n65.         # Make sure this form doesn\'t pass validation.\n66.         self.assertIs(formset.is_valid(), False)\n67.         self.assertEqual(Poet.objects.count(), 1)\n68. \n69.         # Then make sure that it *does* pass validation and delete the object,\n70.         # even though the data in new forms aren\'t actually valid.\n71.         data[\'form-0-DELETE\'] = \'on\'\n72.         data[\'form-1-DELETE\'] = \'on\'\n73.         data[\'form-2-DELETE\'] = \'on\'\n74.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n75.         self.assertIs(formset.is_valid(), True)\n76.         formset.save()\n77.         self.assertEqual(Poet.objects.count(), 0)\n78. ', start_line_number=45, end_line_number=78), Context(relative_path='tests/model_formsets/tests.py', content='146.     def test_simple_save(self):\n147.         qs = Author.objects.all()\n148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)\n149. \n150.         formset = AuthorFormSet(queryset=qs)\n151.         self.assertEqual(len(formset.forms), 3)\n152.         self.assertHTMLEqual(\n153.             formset.forms[0].as_p(),\n154.             \'<p><label for="id_form-0-name">Name:</label>\'\n155.             \'<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">\'\n156.             \'<input type="hidden" name="form-0-id" id="id_form-0-id"></p>\'\n157.         )\n158.         self.assertHTMLEqual(\n159.             formset.forms[1].as_p(),\n160.             \'<p><label for="id_form-1-name">Name:</label>\'\n161.             \'<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">\'\n162.             \'<input type="hidden" name="form-1-id" id="id_form-1-id"></p>\'\n163.         )\n164.         self.assertHTMLEqual(\n165.             formset.forms[2].as_p(),\n166.             \'<p><label for="id_form-2-name">Name:</label>\'\n167.             \' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n168.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n169.         )\n170. \n171.         data = {\n172.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n173.             \'form-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n174.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n175.             \'form-0-name\': \'Charles Baudelaire\',\n176.             \'form-1-name\': \'Arthur Rimbaud\',\n177.             \'form-2-name\': \'\',\n178.         }\n179. \n180.         formset = AuthorFormSet(data=data, queryset=qs)\n181.         self.assertTrue(formset.is_valid())\n182. \n183.         saved = formset.save()\n184.         self.assertEqual(len(saved), 2)\n185.         author1, author2 = saved\n186.         self.assertEqual(author1, Author.objects.get(name=\'Charles Baudelaire\'))\n187.         self.assertEqual(author2, Author.objects.get(name=\'Arthur Rimbaud\'))\n188. \n189.         authors = list(Author.objects.order_by(\'name\'))\n190.         self.assertEqual(authors, [author2, author1])\n191. \n192.         # Gah! We forgot Paul Verlaine. Let\'s create a formset to edit the\n193.         # existing authors with an extra form to add him. We *could* pass in a\n194.         # queryset to restrict the Author objects we edit, but in this case\n195.         # we\'ll use it to display them in alphabetical order by name.\n196. \n197.         qs = Author.objects.order_by(\'name\')\n198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)\n199. \n200.         formset = AuthorFormSet(queryset=qs)\n201.         self.assertEqual(len(formset.forms), 3)\n202.         self.assertHTMLEqual(\n203.             formset.forms[0].as_p(),\n204.             \'<p><label for="id_form-0-name">Name:</label>\'\n205.             \'<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">\'\n206.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n207.         )\n208.         self.assertHTMLEqual(\n209.             formset.forms[1].as_p(),\n210.             \'<p><label for="id_form-1-name">Name:</label>\'\n211.             \'<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">\'\n212.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n213.         )\n214.         self.assertHTMLEqual(\n215.             formset.forms[2].as_p(),\n216.             \'<p><label for="id_form-2-name">Name:</label>\'\n217.             \'<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n218.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n219.         )\n220. \n221.         data = {\n222.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n223.             \'form-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n224.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n225.             \'form-0-id\': str(author2.id),\n226.             \'form-0-name\': \'Arthur Rimbaud\',\n227.             \'form-1-id\': str(author1.id),\n228.             \'form-1-name\': \'Charles Baudelaire\',\n229.             \'form-2-name\': \'Paul Verlaine\',\n230.         }\n231. \n232.         formset = AuthorFormSet(data=data, queryset=qs)\n233.         self.assertTrue(formset.is_valid())\n234. \n235.         # Only changed or new objects are returned from formset.save()\n236.         saved = formset.save()\n237.         self.assertEqual(len(saved), 1)\n238.         author3 = saved[0]\n239.         self.assertEqual(author3, Author.objects.get(name=\'Paul Verlaine\'))\n240. \n241.         authors = list(Author.objects.order_by(\'name\'))\n242.         self.assertEqual(authors, [author2, author1, author3])\n243. \n244.         # This probably shouldn\'t happen, but it will. If an add form was\n245.         # marked for deletion, make sure we don\'t save that form.\n246. \n247.         qs = Author.objects.order_by(\'name\')\n248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)\n249. \n250.         formset = AuthorFormSet(queryset=qs)\n251.         self.assertEqual(len(formset.forms), 4)\n252.         self.assertHTMLEqual(\n253.             formset.forms[0].as_p(),\n254.             \'<p><label for="id_form-0-name">Name:</label>\'\n255.             \'<input id="id_form-0-name" type="text" name="form-0-name" \'\n256.             \'value="Arthur Rimbaud" maxlength="100"></p>\'\n257.             \'<p><label for="id_form-0-DELETE">Delete:</label>\'\n258.             \'<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">\'\n259.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n260.         )\n261.         self.assertHTMLEqual(\n262.             formset.forms[1].as_p(),\n263.             \'<p><label for="id_form-1-name">Name:</label>\'\n264.             \'<input id="id_form-1-name" type="text" name="form-1-name" \'\n265.             \'value="Charles Baudelaire" maxlength="100"></p>\'\n266.             \'<p><label for="id_form-1-DELETE">Delete:</label>\'\n267.             \'<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">\'\n268.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n269.         )\n270.         self.assertHTMLEqual(\n271.             formset.forms[2].as_p(),\n272.             \'<p><label for="id_form-2-name">Name:</label>\'\n273.             \'<input id="id_form-2-name" type="text" name="form-2-name" \'\n274.             \'value="Paul Verlaine" maxlength="100"></p>\'\n275.             \'<p><label for="id_form-2-DELETE">Delete:</label>\'\n276.             \'<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">\'\n277.             \'<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>\' % author3.id\n278.         )\n279.         self.assertHTMLEqual(\n280.             formset.forms[3].as_p(),\n281.             \'<p><label for="id_form-3-name">Name:</label>\'\n282.             \'<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>\'\n283.             \'<p><label for="id_form-3-DELETE">Delete:</label>\'\n284.             \'<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">\'\n285.             \'<input type="hidden" name="form-3-id" id="id_form-3-id"></p>\'\n286.         )\n287. \n288.         data = {\n289.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n290.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n291.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n292.             \'form-0-id\': str(author2.id),\n293.             \'form-0-name\': \'Arthur Rimbaud\',\n294.             \'form-1-id\': str(author1.id),\n295.             \'form-1-name\': \'Charles Baudelaire\',\n296.             \'form-2-id\': str(author3.id),\n297.             \'form-2-name\': \'Paul Verlaine\',\n298.             \'form-3-name\': \'Walt Whitman\',\n299.             \'form-3-DELETE\': \'on\',\n300.         }\n301. \n302.         formset = AuthorFormSet(data=data, queryset=qs)\n303.         self.assertTrue(formset.is_valid())\n304. \n305.         # No objects were changed or saved so nothing will come back.\n306. \n307.         self.assertEqual(formset.save(), [])\n308. \n309.         authors = list(Author.objects.order_by(\'name\'))\n310.         self.assertEqual(authors, [author2, author1, author3])\n311. \n312.         # Let\'s edit a record to ensure save only returns that one record.\n313. \n314.         data = {\n315.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n316.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n317.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n318.             \'form-0-id\': str(author2.id),\n319.             \'form-0-name\': \'Walt Whitman\',\n320.             \'form-1-id\': str(author1.id),\n321.             \'form-1-name\': \'Charles Baudelaire\',\n322.             \'form-2-id\': str(author3.id),\n323.             \'form-2-name\': \'Paul Verlaine\',\n324.             \'form-3-name\': \'\',\n325.             \'form-3-DELETE\': \'\',\n326.         }\n327. \n328.         formset = AuthorFormSet(data=data, queryset=qs)\n329.         self.assertTrue(formset.is_valid())\n330. \n331.         # One record has changed.\n332. \n333.         saved = formset.save()\n334.         self.assertEqual(len(saved), 1)\n335.         self.assertEqual(saved[0], Author.objects.get(name=\'Walt Whitman\'))\n336. ', start_line_number=146, end_line_number=336), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='244.     def test_displaying_more_than_one_blank_form(self):\n245.         """\n246.         More than 1 empty form can be displayed using formset_factory\'s\n247.         `extra` argument.\n248.         """\n249.         ChoiceFormSet = formset_factory(Choice, extra=3)\n250.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n251.         self.assertHTMLEqual(\n252.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n253.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n254. <li>Votes: <input type="number" name="choices-0-votes"></li>\n255. <li>Choice: <input type="text" name="choices-1-choice"></li>\n256. <li>Votes: <input type="number" name="choices-1-votes"></li>\n257. <li>Choice: <input type="text" name="choices-2-choice"></li>\n258. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n259.         )\n260.         # Since every form was displayed as blank, they are also accepted as\n261.         # blank. This may seem a little strange, but min_num is used to require\n262.         # a minimum number of forms to be completed.\n263.         data = {\n264.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n265.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n266.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n267.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n268.             \'choices-0-choice\': \'\',\n269.             \'choices-0-votes\': \'\',\n270.             \'choices-1-choice\': \'\',\n271.             \'choices-1-votes\': \'\',\n272.             \'choices-2-choice\': \'\',\n273.             \'choices-2-votes\': \'\',\n274.         }\n275.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n276.         self.assertTrue(formset.is_valid())\n277.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n278. ', start_line_number=244, end_line_number=278)]
2025-10-05 16:04:02,138 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 16:04:02,138 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-10-05 16:04:02,139 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='330.     def test_formset_validate_max_flag(self):\n331.         """\n332.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n334.         irrelevant here (it\'s output as a hint for the client but its value\n335.         in the returned data is not checked).\n336.         """\n337.         data = {\n338.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n339.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n340.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n341.             \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n342.             \'choices-0-choice\': \'Zero\',\n343.             \'choices-0-votes\': \'0\',\n344.             \'choices-1-choice\': \'One\',\n345.             \'choices-1-votes\': \'1\',\n346.         }\n347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n348.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n349.         self.assertFalse(formset.is_valid())\n350.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n351.         self.assertEqual(\n352.             str(formset.non_form_errors()),\n353.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n354.         )\n355. ', start_line_number=330, end_line_number=355), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n298.         """More than 1 empty form can be displayed using min_num."""\n299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n300.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n301.         self.assertHTMLEqual(\n302.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n304. <li>Votes: <input type="number" name="choices-0-votes"></li>\n305. <li>Choice: <input type="text" name="choices-1-choice"></li>\n306. <li>Votes: <input type="number" name="choices-1-votes"></li>\n307. <li>Choice: <input type="text" name="choices-2-choice"></li>\n308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n309.         )\n310. ', start_line_number=297, end_line_number=310), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='465.     def test_formset_with_deletion(self):\n466.         """\n467.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n468.         each form. When that boolean field is True, the form will be in\n469.         formset.deleted_forms.\n470.         """\n471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n472.         initial = [{\'choice\': \'Calexico\', \'votes\': 100}, {\'choice\': \'Fergie\', \'votes\': 900}]\n473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n474.         self.assertHTMLEqual(\n475.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\n478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\n479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>\n480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\n481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\n482. <li>Choice: <input type="text" name="choices-2-choice"></li>\n483. <li>Votes: <input type="number" name="choices-2-votes"></li>\n484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""\n485.         )\n486.         # To delete something, set that form\'s special delete field to \'on\'.\n487.         # Let\'s go ahead and delete Fergie.\n488.         data = {\n489.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n490.             \'choices-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n491.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n492.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n493.             \'choices-0-choice\': \'Calexico\',\n494.             \'choices-0-votes\': \'100\',\n495.             \'choices-0-DELETE\': \'\',\n496.             \'choices-1-choice\': \'Fergie\',\n497.             \'choices-1-votes\': \'900\',\n498.             \'choices-1-DELETE\': \'on\',\n499.             \'choices-2-choice\': \'\',\n500.             \'choices-2-votes\': \'\',\n501.             \'choices-2-DELETE\': \'\',\n502.         }\n503.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n504.         self.assertTrue(formset.is_valid())\n505.         self.assertEqual(\n506.             [form.cleaned_data for form in formset.forms],\n507.             [\n508.                 {\'votes\': 100, \'DELETE\': False, \'choice\': \'Calexico\'},\n509.                 {\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'},\n510.                 {},\n511.             ]\n512.         )\n513.         self.assertEqual(\n514.             [form.cleaned_data for form in formset.deleted_forms],\n515.             [{\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'}]\n516.         )\n517. \n518.     def test_formset_with_deletion_remove_deletion_flag(self):\n519.         """\n520.         If a form is filled with something and can_delete is also checked, that\n521.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n522.         going to be deleted.\n523.         """\n524.         class CheckForm(Form):\n525.             field = IntegerField(min_value=100)', start_line_number=465, end_line_number=525), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='547.     def test_formset_with_deletion_invalid_deleted_form(self):\n548.         """\n549.         deleted_forms works on a valid formset even if a deleted form would\n550.         have been invalid.\n551.         """\n552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n553.         formset = FavoriteDrinkFormset({\n554.             \'form-0-name\': \'\',\n555.             \'form-0-DELETE\': \'on\',  # no name!\n556.             \'form-TOTAL_FORMS\': 1,\n557.             \'form-INITIAL_FORMS\': 1,\n558.             \'form-MIN_NUM_FORMS\': 0,\n559.             \'form-MAX_NUM_FORMS\': 1,\n560.         })\n561.         self.assertTrue(formset.is_valid())\n562.         self.assertEqual(formset._errors, [])\n563.         self.assertEqual(len(formset.deleted_forms), 1)\n564. ', start_line_number=547, end_line_number=564), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='356.     def test_formset_validate_min_flag(self):\n357.         """\n358.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n360.         irrelevant here (it\'s output as a hint for the client but its value\n361.         in the returned data is not checked).\n362.         """\n363.         data = {\n364.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n365.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n366.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n367.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n368.             \'choices-0-choice\': \'Zero\',\n369.             \'choices-0-votes\': \'0\',\n370.             \'choices-1-choice\': \'One\',\n371.             \'choices-1-votes\': \'1\',\n372.         }\n373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n374.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n375.         self.assertFalse(formset.is_valid())\n376.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n377.         self.assertEqual(\n378.             str(formset.non_form_errors()),\n379.             \'<ul class="errorlist nonform"><li>\'\n380.             \'Please submit at least 3 forms.</li></ul>\',\n381.         )\n382. ', start_line_number=356, end_line_number=382), Context(relative_path='tests/model_formsets/tests.py', content='1234.     def test_modelformset_validate_max_flag(self):\n1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the\n1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is\n1237.         # irrelevant here (it\'s output as a hint for the client but its\n1238.         # value in the returned data is not checked)\n1239. \n1240.         data = {\n1241.             \'form-TOTAL_FORMS\': \'2\',\n1242.             \'form-INITIAL_FORMS\': \'0\',\n1243.             \'form-MAX_NUM_FORMS\': \'2\',  # should be ignored\n1244.             \'form-0-price\': \'12.00\',\n1245.             \'form-0-quantity\': \'1\',\n1246.             \'form-1-price\': \'24.00\',\n1247.             \'form-1-quantity\': \'2\',\n1248.         }\n1249. \n1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)\n1251.         formset = FormSet(data)\n1252.         self.assertFalse(formset.is_valid())\n1253.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n1254. \n1255.         # Now test the same thing without the validate_max flag to ensure\n1256.         # default behavior is unchanged\n1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)\n1258.         formset = FormSet(data)\n1259.         self.assertTrue(formset.is_valid())\n1260. ', start_line_number=1234, end_line_number=1260), Context(relative_path='tests/model_formsets/tests.py', content="1261.     def test_modelformset_min_num_equals_max_num_less_than(self):\n1262.         data = {\n1263.             'form-TOTAL_FORMS': '3',\n1264.             'form-INITIAL_FORMS': '0',\n1265.             'form-MAX_NUM_FORMS': '2',\n1266.             'form-0-slug': 'car-red',\n1267.             'form-1-slug': 'car-blue',\n1268.             'form-2-slug': 'car-black',\n1269.         }\n1270.         FormSet = modelformset_factory(\n1271.             Product,\n1272.             fields='__all__',\n1273.             extra=1,\n1274.             max_num=2,\n1275.             validate_max=True,\n1276.             min_num=2,\n1277.             validate_min=True,\n1278.         )\n1279.         formset = FormSet(data)\n1280.         self.assertFalse(formset.is_valid())\n1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])\n1282. ", start_line_number=1261, end_line_number=1282), Context(relative_path='tests/model_formsets/tests.py', content='376.     def test_max_num(self):\n377.         # Test the behavior of max_num with model formsets. It should allow\n378.         # all existing related objects/inlines for a given object to be\n379.         # displayed, but not allow the creation of new inlines beyond max_num.\n380. \n381.         a1 = Author.objects.create(name=\'Charles Baudelaire\')\n382.         a2 = Author.objects.create(name=\'Paul Verlaine\')\n383.         a3 = Author.objects.create(name=\'Walt Whitman\')\n384. \n385.         qs = Author.objects.order_by(\'name\')\n386. \n387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)\n388.         formset = AuthorFormSet(queryset=qs)\n389.         self.assertEqual(len(formset.forms), 6)\n390.         self.assertEqual(len(formset.extra_forms), 3)\n391. \n392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)\n393.         formset = AuthorFormSet(queryset=qs)\n394.         self.assertEqual(len(formset.forms), 4)\n395.         self.assertEqual(len(formset.extra_forms), 1)\n396. \n397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)\n398.         formset = AuthorFormSet(queryset=qs)\n399.         self.assertEqual(len(formset.forms), 3)\n400.         self.assertEqual(len(formset.extra_forms), 0)\n401. \n402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)\n403.         formset = AuthorFormSet(queryset=qs)\n404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n405. \n406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)\n407.         formset = AuthorFormSet(queryset=qs)\n408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n409. \n410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)\n411.         formset = AuthorFormSet(queryset=qs)\n412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n413. ', start_line_number=376, end_line_number=413), Context(relative_path='tests/model_formsets/tests.py', content='1185.     def test_unique_true_enforces_max_num_one(self):\n1186.         # ForeignKey with unique=True should enforce max_num=1\n1187. \n1188.         place = Place.objects.create(pk=1, name=\'Giordanos\', city=\'Chicago\')\n1189. \n1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")\n1191.         self.assertEqual(FormSet.max_num, 1)\n1192. \n1193.         formset = FormSet(instance=place)\n1194.         self.assertEqual(len(formset.forms), 1)\n1195.         self.assertHTMLEqual(\n1196.             formset.forms[0].as_p(),\n1197.             \'<p><label for="id_location_set-0-lat">Lat:</label>\'\n1198.             \'<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>\'\n1199.             \'<p><label for="id_location_set-0-lon">Lon:</label> \'\n1200.             \'<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">\'\n1201.             \'<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">\'\n1202.             \'<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>\'\n1203.         )\n1204. ', start_line_number=1185, end_line_number=1204), Context(relative_path='tests/model_formsets/tests.py', content="1283.     def test_modelformset_min_num_equals_max_num_more_than(self):\n1284.         data = {\n1285.             'form-TOTAL_FORMS': '1',\n1286.             'form-INITIAL_FORMS': '0',\n1287.             'form-MAX_NUM_FORMS': '2',\n1288.             'form-0-slug': 'car-red',\n1289.         }\n1290.         FormSet = modelformset_factory(\n1291.             Product,\n1292.             fields='__all__',\n1293.             extra=1,\n1294.             max_num=2,\n1295.             validate_max=True,\n1296.             min_num=2,\n1297.             validate_min=True,\n1298.         )\n1299.         formset = FormSet(data)\n1300.         self.assertFalse(formset.is_valid())\n1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])\n1302. ", start_line_number=1283, end_line_number=1302), Context(relative_path='tests/model_formsets/tests.py', content='45.     def test_add_form_deletion_when_invalid(self):\n46.         """\n47.         Make sure that an add form that is filled out, but marked for deletion\n48.         doesn\'t cause validation errors.\n49.         """\n50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)\n51.         poet = Poet.objects.create(name=\'test\')\n52.         # One existing untouched and two new unvalid forms\n53.         data = {\n54.             \'form-TOTAL_FORMS\': \'3\',\n55.             \'form-INITIAL_FORMS\': \'1\',\n56.             \'form-MAX_NUM_FORMS\': \'0\',\n57.             \'form-0-id\': str(poet.id),\n58.             \'form-0-name\': \'test\',\n59.             \'form-1-id\': \'\',\n60.             \'form-1-name\': \'x\' * 1000,  # Too long\n61.             \'form-2-id\': str(poet.id),  # Violate unique constraint\n62.             \'form-2-name\': \'test2\',\n63.         }\n64.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n65.         # Make sure this form doesn\'t pass validation.\n66.         self.assertIs(formset.is_valid(), False)\n67.         self.assertEqual(Poet.objects.count(), 1)\n68. \n69.         # Then make sure that it *does* pass validation and delete the object,\n70.         # even though the data in new forms aren\'t actually valid.\n71.         data[\'form-0-DELETE\'] = \'on\'\n72.         data[\'form-1-DELETE\'] = \'on\'\n73.         data[\'form-2-DELETE\'] = \'on\'\n74.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n75.         self.assertIs(formset.is_valid(), True)\n76.         formset.save()\n77.         self.assertEqual(Poet.objects.count(), 0)\n78. ', start_line_number=45, end_line_number=78), Context(relative_path='tests/model_formsets/tests.py', content='146.     def test_simple_save(self):\n147.         qs = Author.objects.all()\n148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)\n149. \n150.         formset = AuthorFormSet(queryset=qs)\n151.         self.assertEqual(len(formset.forms), 3)\n152.         self.assertHTMLEqual(\n153.             formset.forms[0].as_p(),\n154.             \'<p><label for="id_form-0-name">Name:</label>\'\n155.             \'<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">\'\n156.             \'<input type="hidden" name="form-0-id" id="id_form-0-id"></p>\'\n157.         )\n158.         self.assertHTMLEqual(\n159.             formset.forms[1].as_p(),\n160.             \'<p><label for="id_form-1-name">Name:</label>\'\n161.             \'<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">\'\n162.             \'<input type="hidden" name="form-1-id" id="id_form-1-id"></p>\'\n163.         )\n164.         self.assertHTMLEqual(\n165.             formset.forms[2].as_p(),\n166.             \'<p><label for="id_form-2-name">Name:</label>\'\n167.             \' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n168.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n169.         )\n170. \n171.         data = {\n172.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n173.             \'form-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n174.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n175.             \'form-0-name\': \'Charles Baudelaire\',\n176.             \'form-1-name\': \'Arthur Rimbaud\',\n177.             \'form-2-name\': \'\',\n178.         }\n179. \n180.         formset = AuthorFormSet(data=data, queryset=qs)\n181.         self.assertTrue(formset.is_valid())\n182. \n183.         saved = formset.save()\n184.         self.assertEqual(len(saved), 2)\n185.         author1, author2 = saved\n186.         self.assertEqual(author1, Author.objects.get(name=\'Charles Baudelaire\'))\n187.         self.assertEqual(author2, Author.objects.get(name=\'Arthur Rimbaud\'))\n188. \n189.         authors = list(Author.objects.order_by(\'name\'))\n190.         self.assertEqual(authors, [author2, author1])\n191. \n192.         # Gah! We forgot Paul Verlaine. Let\'s create a formset to edit the\n193.         # existing authors with an extra form to add him. We *could* pass in a\n194.         # queryset to restrict the Author objects we edit, but in this case\n195.         # we\'ll use it to display them in alphabetical order by name.\n196. \n197.         qs = Author.objects.order_by(\'name\')\n198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)\n199. \n200.         formset = AuthorFormSet(queryset=qs)\n201.         self.assertEqual(len(formset.forms), 3)\n202.         self.assertHTMLEqual(\n203.             formset.forms[0].as_p(),\n204.             \'<p><label for="id_form-0-name">Name:</label>\'\n205.             \'<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">\'\n206.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n207.         )\n208.         self.assertHTMLEqual(\n209.             formset.forms[1].as_p(),\n210.             \'<p><label for="id_form-1-name">Name:</label>\'\n211.             \'<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">\'\n212.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n213.         )\n214.         self.assertHTMLEqual(\n215.             formset.forms[2].as_p(),\n216.             \'<p><label for="id_form-2-name">Name:</label>\'\n217.             \'<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n218.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n219.         )\n220. \n221.         data = {\n222.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n223.             \'form-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n224.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n225.             \'form-0-id\': str(author2.id),\n226.             \'form-0-name\': \'Arthur Rimbaud\',\n227.             \'form-1-id\': str(author1.id),\n228.             \'form-1-name\': \'Charles Baudelaire\',\n229.             \'form-2-name\': \'Paul Verlaine\',\n230.         }\n231. \n232.         formset = AuthorFormSet(data=data, queryset=qs)\n233.         self.assertTrue(formset.is_valid())\n234. \n235.         # Only changed or new objects are returned from formset.save()\n236.         saved = formset.save()\n237.         self.assertEqual(len(saved), 1)\n238.         author3 = saved[0]\n239.         self.assertEqual(author3, Author.objects.get(name=\'Paul Verlaine\'))\n240. \n241.         authors = list(Author.objects.order_by(\'name\'))\n242.         self.assertEqual(authors, [author2, author1, author3])\n243. \n244.         # This probably shouldn\'t happen, but it will. If an add form was\n245.         # marked for deletion, make sure we don\'t save that form.\n246. \n247.         qs = Author.objects.order_by(\'name\')\n248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)\n249. \n250.         formset = AuthorFormSet(queryset=qs)\n251.         self.assertEqual(len(formset.forms), 4)\n252.         self.assertHTMLEqual(\n253.             formset.forms[0].as_p(),\n254.             \'<p><label for="id_form-0-name">Name:</label>\'\n255.             \'<input id="id_form-0-name" type="text" name="form-0-name" \'\n256.             \'value="Arthur Rimbaud" maxlength="100"></p>\'\n257.             \'<p><label for="id_form-0-DELETE">Delete:</label>\'\n258.             \'<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">\'\n259.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n260.         )\n261.         self.assertHTMLEqual(\n262.             formset.forms[1].as_p(),\n263.             \'<p><label for="id_form-1-name">Name:</label>\'\n264.             \'<input id="id_form-1-name" type="text" name="form-1-name" \'\n265.             \'value="Charles Baudelaire" maxlength="100"></p>\'\n266.             \'<p><label for="id_form-1-DELETE">Delete:</label>\'\n267.             \'<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">\'\n268.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n269.         )\n270.         self.assertHTMLEqual(\n271.             formset.forms[2].as_p(),\n272.             \'<p><label for="id_form-2-name">Name:</label>\'\n273.             \'<input id="id_form-2-name" type="text" name="form-2-name" \'\n274.             \'value="Paul Verlaine" maxlength="100"></p>\'\n275.             \'<p><label for="id_form-2-DELETE">Delete:</label>\'\n276.             \'<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">\'\n277.             \'<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>\' % author3.id\n278.         )\n279.         self.assertHTMLEqual(\n280.             formset.forms[3].as_p(),\n281.             \'<p><label for="id_form-3-name">Name:</label>\'\n282.             \'<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>\'\n283.             \'<p><label for="id_form-3-DELETE">Delete:</label>\'\n284.             \'<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">\'\n285.             \'<input type="hidden" name="form-3-id" id="id_form-3-id"></p>\'\n286.         )\n287. \n288.         data = {\n289.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n290.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n291.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n292.             \'form-0-id\': str(author2.id),\n293.             \'form-0-name\': \'Arthur Rimbaud\',\n294.             \'form-1-id\': str(author1.id),\n295.             \'form-1-name\': \'Charles Baudelaire\',\n296.             \'form-2-id\': str(author3.id),\n297.             \'form-2-name\': \'Paul Verlaine\',\n298.             \'form-3-name\': \'Walt Whitman\',\n299.             \'form-3-DELETE\': \'on\',\n300.         }\n301. \n302.         formset = AuthorFormSet(data=data, queryset=qs)\n303.         self.assertTrue(formset.is_valid())\n304. \n305.         # No objects were changed or saved so nothing will come back.\n306. \n307.         self.assertEqual(formset.save(), [])\n308. \n309.         authors = list(Author.objects.order_by(\'name\'))\n310.         self.assertEqual(authors, [author2, author1, author3])\n311. \n312.         # Let\'s edit a record to ensure save only returns that one record.\n313. \n314.         data = {\n315.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n316.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n317.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n318.             \'form-0-id\': str(author2.id),\n319.             \'form-0-name\': \'Walt Whitman\',\n320.             \'form-1-id\': str(author1.id),\n321.             \'form-1-name\': \'Charles Baudelaire\',\n322.             \'form-2-id\': str(author3.id),\n323.             \'form-2-name\': \'Paul Verlaine\',\n324.             \'form-3-name\': \'\',\n325.             \'form-3-DELETE\': \'\',\n326.         }\n327. \n328.         formset = AuthorFormSet(data=data, queryset=qs)\n329.         self.assertTrue(formset.is_valid())\n330. \n331.         # One record has changed.\n332. \n333.         saved = formset.save()\n334.         self.assertEqual(len(saved), 1)\n335.         self.assertEqual(saved[0], Author.objects.get(name=\'Walt Whitman\'))\n336. ', start_line_number=146, end_line_number=336), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='244.     def test_displaying_more_than_one_blank_form(self):\n245.         """\n246.         More than 1 empty form can be displayed using formset_factory\'s\n247.         `extra` argument.\n248.         """\n249.         ChoiceFormSet = formset_factory(Choice, extra=3)\n250.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n251.         self.assertHTMLEqual(\n252.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n253.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n254. <li>Votes: <input type="number" name="choices-0-votes"></li>\n255. <li>Choice: <input type="text" name="choices-1-choice"></li>\n256. <li>Votes: <input type="number" name="choices-1-votes"></li>\n257. <li>Choice: <input type="text" name="choices-2-choice"></li>\n258. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n259.         )\n260.         # Since every form was displayed as blank, they are also accepted as\n261.         # blank. This may seem a little strange, but min_num is used to require\n262.         # a minimum number of forms to be completed.\n263.         data = {\n264.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n265.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n266.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n267.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n268.             \'choices-0-choice\': \'\',\n269.             \'choices-0-votes\': \'\',\n270.             \'choices-1-choice\': \'\',\n271.             \'choices-1-votes\': \'\',\n272.             \'choices-2-choice\': \'\',\n273.             \'choices-2-votes\': \'\',\n274.         }\n275.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n276.         self.assertTrue(formset.is_valid())\n277.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n278. ', start_line_number=244, end_line_number=278)]
2025-10-05 16:04:02,139 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nProvide a way for model formsets to disallow new object creation\n\nIssue description: \nDescription\n\t\nModel formsets don\'t provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that\'s not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).\n\nIssue comments:\n\n\nBug reproducing context:\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 330 - 355\nContent:\n330.     def test_formset_validate_max_flag(self):\n331.         """\n332.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n333.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n334.         irrelevant here (it\'s output as a hint for the client but its value\n335.         in the returned data is not checked).\n336.         """\n337.         data = {\n338.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n339.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n340.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n341.             \'choices-MAX_NUM_FORMS\': \'2\',  # max number of forms - should be ignored\n342.             \'choices-0-choice\': \'Zero\',\n343.             \'choices-0-votes\': \'0\',\n344.             \'choices-1-choice\': \'One\',\n345.             \'choices-1-votes\': \'1\',\n346.         }\n347.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n348.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n349.         self.assertFalse(formset.is_valid())\n350.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n351.         self.assertEqual(\n352.             str(formset.non_form_errors()),\n353.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n354.         )\n355. \n\n\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 297 - 310\nContent:\n297.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n298.         """More than 1 empty form can be displayed using min_num."""\n299.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n300.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n301.         self.assertHTMLEqual(\n302.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n303.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n304. <li>Votes: <input type="number" name="choices-0-votes"></li>\n305. <li>Choice: <input type="text" name="choices-1-choice"></li>\n306. <li>Votes: <input type="number" name="choices-1-votes"></li>\n307. <li>Choice: <input type="text" name="choices-2-choice"></li>\n308. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n309.         )\n310. \n\n\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 465 - 525\nContent:\n465.     def test_formset_with_deletion(self):\n466.         """\n467.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n468.         each form. When that boolean field is True, the form will be in\n469.         formset.deleted_forms.\n470.         """\n471.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n472.         initial = [{\'choice\': \'Calexico\', \'votes\': 100}, {\'choice\': \'Fergie\', \'votes\': 900}]\n473.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix=\'choices\')\n474.         self.assertHTMLEqual(\n475.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n476.             """<li>Choice: <input type="text" name="choices-0-choice" value="Calexico"></li>\n477. <li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\n478. <li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\n479. <li>Choice: <input type="text" name="choices-1-choice" value="Fergie"></li>\n480. <li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\n481. <li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\n482. <li>Choice: <input type="text" name="choices-2-choice"></li>\n483. <li>Votes: <input type="number" name="choices-2-votes"></li>\n484. <li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>"""\n485.         )\n486.         # To delete something, set that form\'s special delete field to \'on\'.\n487.         # Let\'s go ahead and delete Fergie.\n488.         data = {\n489.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n490.             \'choices-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n491.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n492.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n493.             \'choices-0-choice\': \'Calexico\',\n494.             \'choices-0-votes\': \'100\',\n495.             \'choices-0-DELETE\': \'\',\n496.             \'choices-1-choice\': \'Fergie\',\n497.             \'choices-1-votes\': \'900\',\n498.             \'choices-1-DELETE\': \'on\',\n499.             \'choices-2-choice\': \'\',\n500.             \'choices-2-votes\': \'\',\n501.             \'choices-2-DELETE\': \'\',\n502.         }\n503.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n504.         self.assertTrue(formset.is_valid())\n505.         self.assertEqual(\n506.             [form.cleaned_data for form in formset.forms],\n507.             [\n508.                 {\'votes\': 100, \'DELETE\': False, \'choice\': \'Calexico\'},\n509.                 {\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'},\n510.                 {},\n511.             ]\n512.         )\n513.         self.assertEqual(\n514.             [form.cleaned_data for form in formset.deleted_forms],\n515.             [{\'votes\': 900, \'DELETE\': True, \'choice\': \'Fergie\'}]\n516.         )\n517. \n518.     def test_formset_with_deletion_remove_deletion_flag(self):\n519.         """\n520.         If a form is filled with something and can_delete is also checked, that\n521.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n522.         going to be deleted.\n523.         """\n524.         class CheckForm(Form):\n525.             field = IntegerField(min_value=100)\n\n\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 547 - 564\nContent:\n547.     def test_formset_with_deletion_invalid_deleted_form(self):\n548.         """\n549.         deleted_forms works on a valid formset even if a deleted form would\n550.         have been invalid.\n551.         """\n552.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n553.         formset = FavoriteDrinkFormset({\n554.             \'form-0-name\': \'\',\n555.             \'form-0-DELETE\': \'on\',  # no name!\n556.             \'form-TOTAL_FORMS\': 1,\n557.             \'form-INITIAL_FORMS\': 1,\n558.             \'form-MIN_NUM_FORMS\': 0,\n559.             \'form-MAX_NUM_FORMS\': 1,\n560.         })\n561.         self.assertTrue(formset.is_valid())\n562.         self.assertEqual(formset._errors, [])\n563.         self.assertEqual(len(formset.deleted_forms), 1)\n564. \n\n\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 356 - 382\nContent:\n356.     def test_formset_validate_min_flag(self):\n357.         """\n358.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n359.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n360.         irrelevant here (it\'s output as a hint for the client but its value\n361.         in the returned data is not checked).\n362.         """\n363.         data = {\n364.             \'choices-TOTAL_FORMS\': \'2\',  # the number of forms rendered\n365.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n366.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n367.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms - should be ignored\n368.             \'choices-0-choice\': \'Zero\',\n369.             \'choices-0-votes\': \'0\',\n370.             \'choices-1-choice\': \'One\',\n371.             \'choices-1-votes\': \'1\',\n372.         }\n373.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n374.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n375.         self.assertFalse(formset.is_valid())\n376.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 3 forms.\'])\n377.         self.assertEqual(\n378.             str(formset.non_form_errors()),\n379.             \'<ul class="errorlist nonform"><li>\'\n380.             \'Please submit at least 3 forms.</li></ul>\',\n381.         )\n382. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 1234 - 1260\nContent:\n1234.     def test_modelformset_validate_max_flag(self):\n1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the\n1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is\n1237.         # irrelevant here (it\'s output as a hint for the client but its\n1238.         # value in the returned data is not checked)\n1239. \n1240.         data = {\n1241.             \'form-TOTAL_FORMS\': \'2\',\n1242.             \'form-INITIAL_FORMS\': \'0\',\n1243.             \'form-MAX_NUM_FORMS\': \'2\',  # should be ignored\n1244.             \'form-0-price\': \'12.00\',\n1245.             \'form-0-quantity\': \'1\',\n1246.             \'form-1-price\': \'24.00\',\n1247.             \'form-1-quantity\': \'2\',\n1248.         }\n1249. \n1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)\n1251.         formset = FormSet(data)\n1252.         self.assertFalse(formset.is_valid())\n1253.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n1254. \n1255.         # Now test the same thing without the validate_max flag to ensure\n1256.         # default behavior is unchanged\n1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)\n1258.         formset = FormSet(data)\n1259.         self.assertTrue(formset.is_valid())\n1260. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 1261 - 1282\nContent:\n1261.     def test_modelformset_min_num_equals_max_num_less_than(self):\n1262.         data = {\n1263.             \'form-TOTAL_FORMS\': \'3\',\n1264.             \'form-INITIAL_FORMS\': \'0\',\n1265.             \'form-MAX_NUM_FORMS\': \'2\',\n1266.             \'form-0-slug\': \'car-red\',\n1267.             \'form-1-slug\': \'car-blue\',\n1268.             \'form-2-slug\': \'car-black\',\n1269.         }\n1270.         FormSet = modelformset_factory(\n1271.             Product,\n1272.             fields=\'__all__\',\n1273.             extra=1,\n1274.             max_num=2,\n1275.             validate_max=True,\n1276.             min_num=2,\n1277.             validate_min=True,\n1278.         )\n1279.         formset = FormSet(data)\n1280.         self.assertFalse(formset.is_valid())\n1281.         self.assertEqual(formset.non_form_errors(), [\'Please submit at most 2 forms.\'])\n1282. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 376 - 413\nContent:\n376.     def test_max_num(self):\n377.         # Test the behavior of max_num with model formsets. It should allow\n378.         # all existing related objects/inlines for a given object to be\n379.         # displayed, but not allow the creation of new inlines beyond max_num.\n380. \n381.         a1 = Author.objects.create(name=\'Charles Baudelaire\')\n382.         a2 = Author.objects.create(name=\'Paul Verlaine\')\n383.         a3 = Author.objects.create(name=\'Walt Whitman\')\n384. \n385.         qs = Author.objects.order_by(\'name\')\n386. \n387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)\n388.         formset = AuthorFormSet(queryset=qs)\n389.         self.assertEqual(len(formset.forms), 6)\n390.         self.assertEqual(len(formset.extra_forms), 3)\n391. \n392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)\n393.         formset = AuthorFormSet(queryset=qs)\n394.         self.assertEqual(len(formset.forms), 4)\n395.         self.assertEqual(len(formset.extra_forms), 1)\n396. \n397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)\n398.         formset = AuthorFormSet(queryset=qs)\n399.         self.assertEqual(len(formset.forms), 3)\n400.         self.assertEqual(len(formset.extra_forms), 0)\n401. \n402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)\n403.         formset = AuthorFormSet(queryset=qs)\n404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n405. \n406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)\n407.         formset = AuthorFormSet(queryset=qs)\n408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n409. \n410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)\n411.         formset = AuthorFormSet(queryset=qs)\n412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])\n413. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 1185 - 1204\nContent:\n1185.     def test_unique_true_enforces_max_num_one(self):\n1186.         # ForeignKey with unique=True should enforce max_num=1\n1187. \n1188.         place = Place.objects.create(pk=1, name=\'Giordanos\', city=\'Chicago\')\n1189. \n1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")\n1191.         self.assertEqual(FormSet.max_num, 1)\n1192. \n1193.         formset = FormSet(instance=place)\n1194.         self.assertEqual(len(formset.forms), 1)\n1195.         self.assertHTMLEqual(\n1196.             formset.forms[0].as_p(),\n1197.             \'<p><label for="id_location_set-0-lat">Lat:</label>\'\n1198.             \'<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>\'\n1199.             \'<p><label for="id_location_set-0-lon">Lon:</label> \'\n1200.             \'<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">\'\n1201.             \'<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">\'\n1202.             \'<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>\'\n1203.         )\n1204. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 1283 - 1302\nContent:\n1283.     def test_modelformset_min_num_equals_max_num_more_than(self):\n1284.         data = {\n1285.             \'form-TOTAL_FORMS\': \'1\',\n1286.             \'form-INITIAL_FORMS\': \'0\',\n1287.             \'form-MAX_NUM_FORMS\': \'2\',\n1288.             \'form-0-slug\': \'car-red\',\n1289.         }\n1290.         FormSet = modelformset_factory(\n1291.             Product,\n1292.             fields=\'__all__\',\n1293.             extra=1,\n1294.             max_num=2,\n1295.             validate_max=True,\n1296.             min_num=2,\n1297.             validate_min=True,\n1298.         )\n1299.         formset = FormSet(data)\n1300.         self.assertFalse(formset.is_valid())\n1301.         self.assertEqual(formset.non_form_errors(), [\'Please submit at least 2 forms.\'])\n1302. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 45 - 78\nContent:\n45.     def test_add_form_deletion_when_invalid(self):\n46.         """\n47.         Make sure that an add form that is filled out, but marked for deletion\n48.         doesn\'t cause validation errors.\n49.         """\n50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)\n51.         poet = Poet.objects.create(name=\'test\')\n52.         # One existing untouched and two new unvalid forms\n53.         data = {\n54.             \'form-TOTAL_FORMS\': \'3\',\n55.             \'form-INITIAL_FORMS\': \'1\',\n56.             \'form-MAX_NUM_FORMS\': \'0\',\n57.             \'form-0-id\': str(poet.id),\n58.             \'form-0-name\': \'test\',\n59.             \'form-1-id\': \'\',\n60.             \'form-1-name\': \'x\' * 1000,  # Too long\n61.             \'form-2-id\': str(poet.id),  # Violate unique constraint\n62.             \'form-2-name\': \'test2\',\n63.         }\n64.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n65.         # Make sure this form doesn\'t pass validation.\n66.         self.assertIs(formset.is_valid(), False)\n67.         self.assertEqual(Poet.objects.count(), 1)\n68. \n69.         # Then make sure that it *does* pass validation and delete the object,\n70.         # even though the data in new forms aren\'t actually valid.\n71.         data[\'form-0-DELETE\'] = \'on\'\n72.         data[\'form-1-DELETE\'] = \'on\'\n73.         data[\'form-2-DELETE\'] = \'on\'\n74.         formset = PoetFormSet(data, queryset=Poet.objects.all())\n75.         self.assertIs(formset.is_valid(), True)\n76.         formset.save()\n77.         self.assertEqual(Poet.objects.count(), 0)\n78. \n\n\nFile: tests/model_formsets/tests.py\nLine number range: 146 - 336\nContent:\n146.     def test_simple_save(self):\n147.         qs = Author.objects.all()\n148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)\n149. \n150.         formset = AuthorFormSet(queryset=qs)\n151.         self.assertEqual(len(formset.forms), 3)\n152.         self.assertHTMLEqual(\n153.             formset.forms[0].as_p(),\n154.             \'<p><label for="id_form-0-name">Name:</label>\'\n155.             \'<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">\'\n156.             \'<input type="hidden" name="form-0-id" id="id_form-0-id"></p>\'\n157.         )\n158.         self.assertHTMLEqual(\n159.             formset.forms[1].as_p(),\n160.             \'<p><label for="id_form-1-name">Name:</label>\'\n161.             \'<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">\'\n162.             \'<input type="hidden" name="form-1-id" id="id_form-1-id"></p>\'\n163.         )\n164.         self.assertHTMLEqual(\n165.             formset.forms[2].as_p(),\n166.             \'<p><label for="id_form-2-name">Name:</label>\'\n167.             \' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n168.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n169.         )\n170. \n171.         data = {\n172.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n173.             \'form-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n174.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n175.             \'form-0-name\': \'Charles Baudelaire\',\n176.             \'form-1-name\': \'Arthur Rimbaud\',\n177.             \'form-2-name\': \'\',\n178.         }\n179. \n180.         formset = AuthorFormSet(data=data, queryset=qs)\n181.         self.assertTrue(formset.is_valid())\n182. \n183.         saved = formset.save()\n184.         self.assertEqual(len(saved), 2)\n185.         author1, author2 = saved\n186.         self.assertEqual(author1, Author.objects.get(name=\'Charles Baudelaire\'))\n187.         self.assertEqual(author2, Author.objects.get(name=\'Arthur Rimbaud\'))\n188. \n189.         authors = list(Author.objects.order_by(\'name\'))\n190.         self.assertEqual(authors, [author2, author1])\n191. \n192.         # Gah! We forgot Paul Verlaine. Let\'s create a formset to edit the\n193.         # existing authors with an extra form to add him. We *could* pass in a\n194.         # queryset to restrict the Author objects we edit, but in this case\n195.         # we\'ll use it to display them in alphabetical order by name.\n196. \n197.         qs = Author.objects.order_by(\'name\')\n198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)\n199. \n200.         formset = AuthorFormSet(queryset=qs)\n201.         self.assertEqual(len(formset.forms), 3)\n202.         self.assertHTMLEqual(\n203.             formset.forms[0].as_p(),\n204.             \'<p><label for="id_form-0-name">Name:</label>\'\n205.             \'<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">\'\n206.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n207.         )\n208.         self.assertHTMLEqual(\n209.             formset.forms[1].as_p(),\n210.             \'<p><label for="id_form-1-name">Name:</label>\'\n211.             \'<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">\'\n212.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n213.         )\n214.         self.assertHTMLEqual(\n215.             formset.forms[2].as_p(),\n216.             \'<p><label for="id_form-2-name">Name:</label>\'\n217.             \'<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">\'\n218.             \'<input type="hidden" name="form-2-id" id="id_form-2-id"></p>\'\n219.         )\n220. \n221.         data = {\n222.             \'form-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n223.             \'form-INITIAL_FORMS\': \'2\',  # the number of forms with initial data\n224.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n225.             \'form-0-id\': str(author2.id),\n226.             \'form-0-name\': \'Arthur Rimbaud\',\n227.             \'form-1-id\': str(author1.id),\n228.             \'form-1-name\': \'Charles Baudelaire\',\n229.             \'form-2-name\': \'Paul Verlaine\',\n230.         }\n231. \n232.         formset = AuthorFormSet(data=data, queryset=qs)\n233.         self.assertTrue(formset.is_valid())\n234. \n235.         # Only changed or new objects are returned from formset.save()\n236.         saved = formset.save()\n237.         self.assertEqual(len(saved), 1)\n238.         author3 = saved[0]\n239.         self.assertEqual(author3, Author.objects.get(name=\'Paul Verlaine\'))\n240. \n241.         authors = list(Author.objects.order_by(\'name\'))\n242.         self.assertEqual(authors, [author2, author1, author3])\n243. \n244.         # This probably shouldn\'t happen, but it will. If an add form was\n245.         # marked for deletion, make sure we don\'t save that form.\n246. \n247.         qs = Author.objects.order_by(\'name\')\n248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)\n249. \n250.         formset = AuthorFormSet(queryset=qs)\n251.         self.assertEqual(len(formset.forms), 4)\n252.         self.assertHTMLEqual(\n253.             formset.forms[0].as_p(),\n254.             \'<p><label for="id_form-0-name">Name:</label>\'\n255.             \'<input id="id_form-0-name" type="text" name="form-0-name" \'\n256.             \'value="Arthur Rimbaud" maxlength="100"></p>\'\n257.             \'<p><label for="id_form-0-DELETE">Delete:</label>\'\n258.             \'<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">\'\n259.             \'<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>\' % author2.id\n260.         )\n261.         self.assertHTMLEqual(\n262.             formset.forms[1].as_p(),\n263.             \'<p><label for="id_form-1-name">Name:</label>\'\n264.             \'<input id="id_form-1-name" type="text" name="form-1-name" \'\n265.             \'value="Charles Baudelaire" maxlength="100"></p>\'\n266.             \'<p><label for="id_form-1-DELETE">Delete:</label>\'\n267.             \'<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">\'\n268.             \'<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>\' % author1.id\n269.         )\n270.         self.assertHTMLEqual(\n271.             formset.forms[2].as_p(),\n272.             \'<p><label for="id_form-2-name">Name:</label>\'\n273.             \'<input id="id_form-2-name" type="text" name="form-2-name" \'\n274.             \'value="Paul Verlaine" maxlength="100"></p>\'\n275.             \'<p><label for="id_form-2-DELETE">Delete:</label>\'\n276.             \'<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">\'\n277.             \'<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>\' % author3.id\n278.         )\n279.         self.assertHTMLEqual(\n280.             formset.forms[3].as_p(),\n281.             \'<p><label for="id_form-3-name">Name:</label>\'\n282.             \'<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>\'\n283.             \'<p><label for="id_form-3-DELETE">Delete:</label>\'\n284.             \'<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">\'\n285.             \'<input type="hidden" name="form-3-id" id="id_form-3-id"></p>\'\n286.         )\n287. \n288.         data = {\n289.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n290.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n291.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n292.             \'form-0-id\': str(author2.id),\n293.             \'form-0-name\': \'Arthur Rimbaud\',\n294.             \'form-1-id\': str(author1.id),\n295.             \'form-1-name\': \'Charles Baudelaire\',\n296.             \'form-2-id\': str(author3.id),\n297.             \'form-2-name\': \'Paul Verlaine\',\n298.             \'form-3-name\': \'Walt Whitman\',\n299.             \'form-3-DELETE\': \'on\',\n300.         }\n301. \n302.         formset = AuthorFormSet(data=data, queryset=qs)\n303.         self.assertTrue(formset.is_valid())\n304. \n305.         # No objects were changed or saved so nothing will come back.\n306. \n307.         self.assertEqual(formset.save(), [])\n308. \n309.         authors = list(Author.objects.order_by(\'name\'))\n310.         self.assertEqual(authors, [author2, author1, author3])\n311. \n312.         # Let\'s edit a record to ensure save only returns that one record.\n313. \n314.         data = {\n315.             \'form-TOTAL_FORMS\': \'4\',  # the number of forms rendered\n316.             \'form-INITIAL_FORMS\': \'3\',  # the number of forms with initial data\n317.             \'form-MAX_NUM_FORMS\': \'\',  # the max number of forms\n318.             \'form-0-id\': str(author2.id),\n319.             \'form-0-name\': \'Walt Whitman\',\n320.             \'form-1-id\': str(author1.id),\n321.             \'form-1-name\': \'Charles Baudelaire\',\n322.             \'form-2-id\': str(author3.id),\n323.             \'form-2-name\': \'Paul Verlaine\',\n324.             \'form-3-name\': \'\',\n325.             \'form-3-DELETE\': \'\',\n326.         }\n327. \n328.         formset = AuthorFormSet(data=data, queryset=qs)\n329.         self.assertTrue(formset.is_valid())\n330. \n331.         # One record has changed.\n332. \n333.         saved = formset.save()\n334.         self.assertEqual(len(saved), 1)\n335.         self.assertEqual(saved[0], Author.objects.get(name=\'Walt Whitman\'))\n336. \n\n\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 244 - 278\nContent:\n244.     def test_displaying_more_than_one_blank_form(self):\n245.         """\n246.         More than 1 empty form can be displayed using formset_factory\'s\n247.         `extra` argument.\n248.         """\n249.         ChoiceFormSet = formset_factory(Choice, extra=3)\n250.         formset = ChoiceFormSet(auto_id=False, prefix=\'choices\')\n251.         self.assertHTMLEqual(\n252.             \'\\n\'.join(form.as_ul() for form in formset.forms),\n253.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n254. <li>Votes: <input type="number" name="choices-0-votes"></li>\n255. <li>Choice: <input type="text" name="choices-1-choice"></li>\n256. <li>Votes: <input type="number" name="choices-1-votes"></li>\n257. <li>Choice: <input type="text" name="choices-2-choice"></li>\n258. <li>Votes: <input type="number" name="choices-2-votes"></li>"""\n259.         )\n260.         # Since every form was displayed as blank, they are also accepted as\n261.         # blank. This may seem a little strange, but min_num is used to require\n262.         # a minimum number of forms to be completed.\n263.         data = {\n264.             \'choices-TOTAL_FORMS\': \'3\',  # the number of forms rendered\n265.             \'choices-INITIAL_FORMS\': \'0\',  # the number of forms with initial data\n266.             \'choices-MIN_NUM_FORMS\': \'0\',  # min number of forms\n267.             \'choices-MAX_NUM_FORMS\': \'0\',  # max number of forms\n268.             \'choices-0-choice\': \'\',\n269.             \'choices-0-votes\': \'\',\n270.             \'choices-1-choice\': \'\',\n271.             \'choices-1-votes\': \'\',\n272.             \'choices-2-choice\': \'\',\n273.             \'choices-2-votes\': \'\',\n274.         }\n275.         formset = ChoiceFormSet(data, auto_id=False, prefix=\'choices\')\n276.         self.assertTrue(formset.is_valid())\n277.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n278. \n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-10-05 16:05:17,463 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='An "edit only" model formset can be achieved by using `extra=0` and `validate_max=True`. This test verifies that when these parameters are set, the formset correctly rejects submissions that try to add new objects beyond the initial set.\n\n```python\nfrom django.forms.models import modelformset_factory\nfrom django.test import TestCase\n\nfrom .models import Author\n\n\nclass ModelFormsetTests(TestCase):\n    def test_modelformset_disallow_new_object_creation(self):\n        """\n        A model formset can be configured to be "edit only" by using\n        extra=0 and validate_max=True. This should prevent new objects from\n        being created when a user adds extra forms via client-side code.\n        """\n        author = Author.objects.create(name=\'Charles Baudelaire\')\n        AuthorFormSet = modelformset_factory(\n            Author, fields=(\'name\',), extra=0, validate_max=True\n        )\n        # This data simulates a user submitting an extra form to add a new\n        # author, which should not be allowed.\n        data = {\n            \'form-TOTAL_FORMS\': \'2\',\n            \'form-INITIAL_FORMS\': \'1\',\n            \'form-MAX_NUM_FORMS\': \'\',\n            \'form-0-id\': str(author.pk),\n            \'form-0-name\': \'Charles Baudelaire\',\n            \'form-1-name\': \'Paul Verlaine\',\n        }\n        formset = AuthorFormSet(data, queryset=Author.objects.all())\n        self.assertFalse(formset.is_valid())\n        self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11094, 'candidates_token_count': 389, 'total_token_count': 18974, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11094}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 389}], 'thoughts_token_count': 7491, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -3.782460975156652, 'model_name': 'gemini-2.5-pro'} id='run--0aa1dcb7-6d4e-4ef1-ad00-87f77936ac2a-0' usage_metadata={'input_tokens': 11094, 'output_tokens': 389, 'total_tokens': 18974, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 7491}}
2025-10-05 16:05:28,067 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "from django.forms.models import modelformset_factory\\nfrom django.test import TestCase\\n\\nfrom .models import Author\\n\\n\\nclass ModelFormsetTests(TestCase):\\n    def test_modelformset_disallow_new_object_creation(self):\\n        \\"\\"\\"\\n        A model formset can be configured to be \\"edit only\\" by using\\n        extra=0 and validate_max=True. This should prevent new objects from\\n        being created when a user adds extra forms via client-side code.\\n        \\"\\"\\"\\n        author = Author.objects.create(name=\'Charles Baudelaire\')\\n        AuthorFormSet = modelformset_factory(\\n            Author, fields=(\'name\',), extra=0, validate_max=True\\n        )\\n        # This data simulates a user submitting an extra form to add a new\\n        # author, which should not be allowed.\\n        data = {\\n            \'form-TOTAL_FORMS\': \'2\',\\n            \'form-INITIAL_FORMS\': \'1\',\\n            \'form-MAX_NUM_FORMS\': \'\',\\n            \'form-0-id\': str(author.pk),\\n            \'form-0-name\': \'Charles Baudelaire\',\\n            \'form-1-name\': \'Paul Verlaine\',\\n        }\\n        formset = AuthorFormSet(data, queryset=Author.objects.all())\\n        self.assertFalse(formset.is_valid())\\n        self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\\n", "relative_path": "tests/model_formsets/test_disallow_new_object_creation.py"}'}, '__gemini_function_call_thought_signatures__': {'eae0cbd4-4908-47be-b85b-0a661dfcecda': 'CpIZAR/MhbaQFfMbylLmFW1jKfMFor0RAmJRGz+hERcbVzbILOx2cqEJiqVp8EVzuHeonz40I4Q/kCJxnJK+IHUc2bThHibQRSXrtrmXeVV7xGgM/TcKnVGBt2R5U1x4UQlnFqpZdo3BysLtA13oKAFZPizZvJorGm5kJA3EN/qcbmfdn6Sb8NPpFv/1jSLA4BeZf/qksS8LvGuIMaE3pyQE2c9ky0is8p3i640xZ9KBw/Ivvf+6hbC2mAHq3ZCra7iVzXtw2brtFFIUVf/Rfeqj+dtjxKf0rzFYTUD1FIr9wJ+GJrP5Zdrgm11SOiWpFnRP85rD3hMIspDPNVg6detPPiedBLF+Bi+GyZvUTCdqz+WG07kI2Z9ZtCkos/K219WJQtqh9wEUxfYlz/gzkiSyxohSELE7M9JvJS+IxOyfcemnbgOQeD268gmj9AjVhixlBTfVL+zu/sVdJX4+lu5dMUbHOzDZX71losv033VRB0jwvV9X6MFC0GgAJwVjVbbj7pQ9I7eQ+eyuZYdNNO3flPmTW3d9vToMIoiMochBmIL6hRTb8cHJ7Ogia7O+PdoRLL/Ksq6OOZmvLl5k7DVAUwTqKDAyig+jGsqGRqjogGfpPRSQ1aIk/QKixYMvB7sZ53cQf7F+L0IeTF8dqdfqzR4YY+nDp8zT+07PcIOQpVEDBV5XT16jJL90WRvcHmBXpXiD7BkcUel+Jk+nrX11MVxi1npXqKqeVXzi8Qpd9dfZWFUmG5yOCnSXscLMKGRosve0v9fBa0BCdzLBToFuJ9Wjdu8jMceuSfbMOhQvmnahwsZK/sjNcTlwBLz/C/cKskSzUQTvrF0WxGcegzeamwxa8EWe9jCctFW9sEVpxDWRdj9lH5SB7BaU+5LvFuBoGCnmH6FvnQtMkbyATtVdUmQkDKPVKZJ+XCRZiuGu97mKTPRmcD2iKYbQ2rvynPZ9wH8JXeprwPFAJ1hovR2vx9UC66ItyMLwwOkLHu3ZlSnT+meDEUCXVSa1NBzcYUnR/1ppNyizpabqvr6r8ojXP6MEfqpd04eaKk5hPtyKzUWGt6WssPdUacpgWYcwukhBSnyZym3I5mie51NCF1G8ZN0YC2UZVycJHYqKRGuhnq+Jyia2b4AKbiw0lnb6oDDIV4z/0WnvUdiDGyw6CyCg0XdzYFvGiRFMC9km+SXqVno10tzlVZbppgjm/WlVxMHXVnI7dG8umW1TzEcDliHMWIP56XP5TmtfOr8vsqJka//H6w/SMs6Ve3TsowzarSIFAf5bQ3t2elfHOuKc+IsgNa0MdubMFyjb9vYS26NmR+b+3RRG0jSDEuWgoYRMqghtVY00vwhLna1j6QSe9uyLDfQMPesiUWTqSQbbOAOOlp/WZh7Hb2dZ/ZrrEcTZZx8VzXhIa+3RD/GZ5lzt3yYMJ2ZqnuE0v+r3EOxusPJ4I899G9u/Nah6i+8FgKgICe51aASB6cPQ0LtGM3JVG7Mxut/YFqkf8X3vvxCsBPvB8NxneHc64RVlO0kFhHzB9Xhc7i2e9RxR1E8MP/c5VwooCSkAepBy+IVhXcGWjguQPD6JJ1LDUbQ5pz5iM/W/szVHAZuv3NIaQxbpm6KZqaEF10X7we3B2iwnNmH6RrobekqZlcKM3+97Mq2RvS0XjPPsiXOMkJjG0lElAaTWamBolrqFR2gXl63epKVGIoLPCG1bHs+hoNTAe48SP9aNRUsDOGetl4N7W//wUwaOpigZ6Z50/Samf3HdyKIy4cyHBCZMF7kdjJiv3ZwjU9C0YCsf2BlNj9tpT65e4709mzrwctK6YnCuI9ZOJ/wnGBWYlIblW1XXdMnNJulKnFQhG7pHrzW7r4a8Lmp+SuHtdipvPTrfoLnKWTkdLxJFrYjO1o0qb/RRI3OrkcpppE/S8SCySWc+adIScpMdVVNBJhs8hSwbduOSIHEpdBnB867Kwt1eDMlTCpJMiMbTZ9V4Sd6mVSpvqFVcQahyASI3GmWwPdOaNmPoNunfKxZW0tg1Rag56quPE361xdy1BfRpmi02oxqK/mxmT8OoHQv/rXT89U9+xkA+tC0HIf7s8wt6De2ntIGtuVsDddUbFicbBnk8pPOT3m40dSTPTTZPkdqcqNEjRGTqdfgpPr6YVY0KTRvzxEXBucCKeNYbBgHmDRYXh5THQAQ/SzrKSTwXz7zFB8mKZ5XGBPL3iQwl43EvbTyqe/TiqJLf9guorlJf1CVEqUkFbg7RnWtgcRFCb1I4SLAIxLh+dKrQ5WV0YnbjGDJkma4iHTaqQP5lKhd8DRC4ALRlR5dIU6WS/XQPpy21QQE9W5ceX3tlgE4dV7ULKq33D0aBwbWeghMbagf3O3ghSUpkVf/9p5KcL5XUzl7aRTq/WYy1VHYpaUIkFJd/K6xXBNLZ7NxxznRL/lwba6i1WbFjtMmzXlg7XnC9ZE3TJCupcJzg6hFY3xVbb0q6M3z/RRkBj9Jq3YsvQ0BlB0YYpJ83ruE8mFc4bCaNMXNpwxlJVE8bBkg/3h53IWWCkKj5RZ0vnijPFAVKBYHQt65JeLhsjrOJT0taKcWvPf7J6revj6vHR0coO01YhLmZm6egTU33me5wGxRB2NWylqVMz9QiCEu5CbeebaYirzuEOjb+6NDJNO1bp0cHNEbS/PRc9Pbfc+jcWgl3wvSsO5u932BPghJ7nm2D4rKGKg/GVhSvmZZ53UXqvmhg1xuqRsdBFGNeo1TP9CUO/YrKMU/SG9fOi0QHSb1cNYe/vyki2x6RIY7KwecT5E/IAdirvfHFET74MwW/oUvs0To7t4SRjPYfLjQNvVC83+GQWMOZxECZDIUf5IDkzG/3e7GZYnaf4xne1Cn+A3M6Y76ID7kb7qWCPN4wYBWnLbzS6YTNIDHrliEmcn2jqZsbRZvXvbM6KuEJlUURrrGap3ZgvtdyXNFMqx6Jyw+28/m6ghwIpxOUrwBBeg5l+YqWAfMMpvIZxxAJOMfBjGPrXjhpIkgvSZwkPn414ra2zb2vF/o/wwHScp69Ui37d+8rd6NRqEa6VV6vO4DFo8v8U68Eo2NWXsFk4DzjajXtRuwo1OixPuTqi9ym3H6/qngAvwQGWVeZVaRCF9O3nY2zX3lwRn/PH0ZFVYzmCgLPkG1V7yiJdvaTBr1m/Shm+Pv1pOrioOOhsBmASIbwp3pFSqZqZAu65SIBooFZRVZukg9IjvGPUu85Pb9+VI5SEyM/Ok+HgXMOyBGfdAEiEuuSZwx7kLpE1DbNiNBKFtJc2ibgxcdlfqE0WC/w1F4J3kEl2WldIYpi5vilzzeiSjq9YeKuVFcJECkwH6sXMLYjiUVrt6zZlsJ2oRhxkKUMrsx9L4AgLBs62ERpuMi/yxilKScuhYqVN6BXdXeKDZBMZgnlvLDULaQBsxBwYamQrlWHVoXG504bpz/tC6HIVgDBc/D+GRPJQXL5ZXcwL0jA3ejG6B5JsCEvNx8cxnx2cmMY87O9QA4e4yTttQfx4ZjnbUNW40usukM/xBPcv3vedDZkXq06wwgQ4FYEx3fSs5HawH3jyJOwN0cyRCY0I97ETdrwLMyWuIdmd077M1d6puzu12p6Flq7/AZNNrV4LRr63XWKGlZ6O9wUnNch4vdJUuk7sYEbrTaU+7PF6cItnVJ03OGXCZXZMSKrCdQIJ+o8qteF1Z79A1Dga5AXhqxbX5rbAkb9kh3DD8P2eqUvTX3bn25OYWCI15rrYRkc0ylyfDXX3qdmQ/WiWYGU9ag/xmuYmnLlDwfJqvf5KbNSe/0tulFAPncXLkvqS+1YhbQBBYVI15PwFrSB5RwJCvyrNcEPzwCZc8qo38UgIXyGQRyR29KdsB0ZuH+FhBBLs0xe14anGW6W+0o21xq27vl+BoMyh7BeHpm+YWJiCE+iXRRxLeNPtmjJ6E++VdWRCmxJw7eLszKKtLMvVowi6iUrl5/Xn+GYcfWxYj4xdqaqLZIfLTt+EUgwZpzxEV4ykP3xaVzq8YlnzFqQwXB8ZsaxD3uLs2w+E+PJTDUrEpVtSAzxgT1bHIBK3mJBFWLRu+kTfwAVMgVzf+5ZZTTdWkg4o2K1mYULpG8fQlmktqFUL+MtaG8iXkgRxDhN0Mg45zXWKeYWIzizVzPPBKdAVo7oJpY+TycxismmkvZ7gOOSRU2OXHqikvykcQbvVB7UrUUaEgzjFqENPEJX221J+YNaCmr9VT7t0/cl+5EH6xSDDWaW/+oB7MB6NfpLVuq3IY/wG+rftiaVlQT6GtC8GWg2YYZsnngn/3Y='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 55001, 'candidates_token_count': 357, 'total_token_count': 56234, 'prompt_tokens_details': [{'modality': 1, 'token_count': 55001}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 357}], 'thoughts_token_count': 876, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.29150638526895134, 'model_name': 'gemini-2.5-pro'} id='run--1369ff8c-a3df-46fd-8b00-eb30864fe873-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'from django.forms.models import modelformset_factory\nfrom django.test import TestCase\n\nfrom .models import Author\n\n\nclass ModelFormsetTests(TestCase):\n    def test_modelformset_disallow_new_object_creation(self):\n        """\n        A model formset can be configured to be "edit only" by using\n        extra=0 and validate_max=True. This should prevent new objects from\n        being created when a user adds extra forms via client-side code.\n        """\n        author = Author.objects.create(name=\'Charles Baudelaire\')\n        AuthorFormSet = modelformset_factory(\n            Author, fields=(\'name\',), extra=0, validate_max=True\n        )\n        # This data simulates a user submitting an extra form to add a new\n        # author, which should not be allowed.\n        data = {\n            \'form-TOTAL_FORMS\': \'2\',\n            \'form-INITIAL_FORMS\': \'1\',\n            \'form-MAX_NUM_FORMS\': \'\',\n            \'form-0-id\': str(author.pk),\n            \'form-0-name\': \'Charles Baudelaire\',\n            \'form-1-name\': \'Paul Verlaine\',\n        }\n        formset = AuthorFormSet(data, queryset=Author.objects.all())\n        self.assertFalse(formset.is_valid())\n        self.assertEqual(formset.non_form_errors(), [\'Please submit at most 1 form.\'])\n', 'relative_path': 'tests/model_formsets/test_disallow_new_object_creation.py'}, 'id': 'eae0cbd4-4908-47be-b85b-0a661dfcecda', 'type': 'tool_call'}] usage_metadata={'input_tokens': 55001, 'output_tokens': 357, 'total_tokens': 56234, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 876}}
2025-10-05 16:05:29,370 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/model_formsets/test_disallow_new_object_creation.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 55387, 'candidates_token_count': 19, 'total_token_count': 55406, 'cached_content_token_count': 54493, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56261}], 'cache_tokens_details': [{'modality': 1, 'token_count': 54493}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 19}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -2.9676153453213997e-06, 'model_name': 'gemini-2.5-pro'} id='run--aa203f18-0adc-406b-aaa0-783268d4eea6-0' usage_metadata={'input_tokens': 55387, 'output_tokens': 19, 'total_tokens': 55406, 'input_token_details': {'cache_read': 54493}}
2025-10-05 16:05:29,561 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/model_formsets/test_disallow_new_object_creation.py b/tests/model_formsets/test_disallow_new_object_creation.py
new file mode 100644
index 0000000000..883f89648f
--- /dev/null
+++ b/tests/model_formsets/test_disallow_new_object_creation.py
@@ -0,0 +1,30 @@
+from django.forms.models import modelformset_factory
+from django.test import TestCase
+
+from .models import Author
+
+
+class ModelFormsetTests(TestCase):
+    def test_modelformset_disallow_new_object_creation(self):
+        """
+        A model formset can be configured to be "edit only" by using
+        extra=0 and validate_max=True. This should prevent new objects from
+        being created when a user adds extra forms via client-side code.
+        """
+        author = Author.objects.create(name='Charles Baudelaire')
+        AuthorFormSet = modelformset_factory(
+            Author, fields=('name',), extra=0, validate_max=True
+        )
+        # This data simulates a user submitting an extra form to add a new
+        # author, which should not be allowed.
+        data = {
+            'form-TOTAL_FORMS': '2',
+            'form-INITIAL_FORMS': '1',
+            'form-MAX_NUM_FORMS': '',
+            'form-0-id': str(author.pk),
+            'form-0-name': 'Charles Baudelaire',
+            'form-1-name': 'Paul Verlaine',
+        }
+        formset = AuthorFormSet(data, queryset=Author.objects.all())
+        self.assertFalse(formset.is_valid())
+        self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])

2025-10-05 16:05:29,561 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-05 16:05:29,613 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-05 16:05:29,613 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-05 16:05:30,129 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:30,129 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at 0af9a5fc7d Fixed #33463 -- Fixed QuerySet.bulk_update() with F() expressions.

2025-10-05 16:05:30,129 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-05 16:05:30,229 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:30,229 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 16:05:30,230 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-05 16:05:30,230 - thread-139660780025408.app.docker.base_container - INFO - Creating directory tests/model_formsets in the container
2025-10-05 16:05:30,230 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p tests/model_formsets
2025-10-05 16:05:30,330 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:30,330 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 16:05:30,331 - thread-139660780025408.app.docker.base_container - INFO - Updating tests/model_formsets/test_disallow_new_object_creation.py in the container
2025-10-05 16:05:30,333 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-05 16:05:34,060 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python manage.py test tests.model_formsets.test_disallow_new_object_creation"}'}, '__gemini_function_call_thought_signatures__': {'78c3aa41-67c4-4774-bec8-1f64267bdac2': 'CuIIAR/MhbbAHt5Ek/so/O2+ibQPMr0VHphBkiIClk+oF0EoP+LvvQSE/1JVe9QHof96mxFm6xex1SwS1C8ZCHYNkvCWUfe1ate0SuhprhD3SrPaJ3Vj7RlIWuqGi/STo3cV7D2nRyH7Wv6aknQ1jYndSZuuFBH5qXGDvk8bk3TDkZ2MW9yXEMEIuhNLjifQ+d9iadb+3wD+Z4UkAueJLN+JDOvew3BN/2aJk3v7OCKKk2F0NNzCiiasPdqff4gECiR4MBGSH7C9gDPi9rxKvXasg0gL8l12/GNL3+9AcOCCcAy6RB+yDN4spxvqpf9DOxtk3bIZnnu2I+HAtxlrcCtvea8q7JbKrVt+Xj3xjmbfkKrrILEqTzk64wXxirpg4QjiBUfhezuSVwILZBYLpdTGsFAmBJR9bgN/c7/f2tZkXiKxMXuCaqMBVcvJ06K6P6JYaJOqv8yyx+5v09fWlW0lSV1tqkrLui6MBOLwrzRSZ/B41fx5qSpk+rx7kAaJsEh29RiMKuTC4/va96cSSmq7JDnHMEKciTF2LwYzG2IIHJsY0iYJf0bzuC6pzurG7S4ytnm4qvDX8kFAo02afnH49ZpQ0fa7kX7A/9T2VjYxiyo70Q1V/QluWCMq1xgkYSvVq3A/A8TaM0UBHTAuQM1SkN+PkjfaGLuj8ck9UQSrfllSf64gX7U6XnBVOVVzC1hTYzZe5CscJ/2pvSAuC1uhxpcY8IcYkhRd+h3SBhW+WC7RBQgCM/pnuddRIumto74+xX0Xbvbm3g7w9PW+c2Qk6YDDCY4/wmhQIjUaPrbsbK2cytAyAy/Ewh7pMfD12EOtJmpnbvWMQnvwOGUOVrMVwKYalb0l/k7eIlaOk8kTF8/6y4Odfmfu9e8MJYpnK6zVHq2ZeQg5XYxxcJIWzN5Nu28iTBkPWKkJCdql88xHJF8ILpL8oYoFk4+xpzk3LRsS7kiIcDabwNfQR3+wTtLvNFSBtvV1tOQsbEcaUS7YVrmxZvJjHeZth0d1thdHXrNjhyChMLJRxu45ZioM11A1x9z7GZR+e1+gF6IxgH9K5vBTiy+exhiZij8IbZHihCYWmmJasggrsTdDMJSLcYOD1jupd6b8MD/nYXdIgkM5Wvg7rWT48oK3Rsd/VytZdzGaFPUlPiFSOlXSJE4PnozsMUvBuiklFu+T/uDIpDJKtzOJdiSBR1K9gs0ZcMAKYukXZMOMqfKk4x8Y/U9gQhlcM2EBsrgPZTq1V2Hmcs6ZIfeyKNKjwIqrJiOte0Y9I6TtyLiziVFcKzqq6svoRWQTMzKon2V6mWLmCZLvjAQDe4zMmUKO4JC+sZee48XU+esg152qvVyUgD8EZF1dEU0sU2Bn6usWc1+cnFKugrMcpcv0ziG8s8TVrbd8KB/KhBjZVmjpJi8awBtHE2huvfVXiur2dQJIltoqImMojl/fjKUQDNn0V18rpYCobKJ9K9h4p72kQtJvfRh0++XjUlQZSomn'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 316, 'candidates_token_count': 26, 'total_token_count': 635, 'prompt_tokens_details': [{'modality': 1, 'token_count': 316}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 26}], 'thoughts_token_count': 293, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.28284425001878, 'model_name': 'gemini-2.5-pro'} id='run--30d4d310-1739-4044-9bd8-2598d3c62566-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python manage.py test tests.model_formsets.test_disallow_new_object_creation'}, 'id': '78c3aa41-67c4-4774-bec8-1f64267bdac2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 316, 'output_tokens': 26, 'total_tokens': 635, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 293}}
2025-10-05 16:05:34,062 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python manage.py test tests.model_formsets.test_disallow_new_object_creation
2025-10-05 16:05:34,163 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 2
2025-10-05 16:05:34,163 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python manage.py test tests.mode
el_formsets.test_disallow_new_object_creation

python: can't open file '/testbed/manage.py': [Errno 2] No such file or directory

2025-10-05 16:05:36,985 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F"}'}, '__gemini_function_call_thought_signatures__': {'5383187c-e931-4840-8c5f-3e052a2c2ca4': 'CvEGAR/MhbZHyR8CHuYyZRJk0jQrzLmbyBRRle/GSwYh0r0vlbN60BGFP78dgnvE3A/abdUzfxns61NanV/t8iaXPSc0NLKnwlIsVykoceQxUE3hLe8BHBYCpAZHyyuj+sOILj2FIFeOr6XzxugBoFGatdBEkzbnVA7RBOaRCCLSIvElWTsPqD8kg+36KZ+mgU58f+oS8PJ/azsnKMOy108O0uRn4qfGzdPGl1IA1nmiNoZhNFT+ryxoqLr4Cu4AAMLWvL+oUKoMKW8I0kptVKBxt72K/8Y8iy+4ZrKQoZT6YedK/5PpIu/o/TYORF7kXGDvqLj8DoIku0ExDY5/QtKCw11w02zyD7vBMq7C89EskahobTL9lhA/iJa5WXNu9fnRFZ7fQndE4neii5/8eLSVf4UEvivhVKABQhi1ShU/q1a4cN6sk8ZoXIMVXHLRLpSUCnvEP/SAEtbpz9Qc25fS49L18bwpGO72Elgks5UUexkxDTwy0qbDyt0zbknk8VLYgRtgWFN2mFLtVncmpd9kQPRnC8IF0zm22T1cL5WEyeruybcIAVvHDrV4areKXwEiZv3y7xnjABVlavWQNwYPVvG2JhZMeeuyUdl9HTLipFnTu37e9O9nFVx44Xtcb/P2yOy1YPKNIC2HFxDMKsnXs782TbvhsGHrn0iDv5V7vJcKpDN4JOg4LLHN/3RzTksHqsQq30orEd5OR3/mxynCVMPCAh0DLVIxKsq9nqJNTxMjqHn8n97XYFsRXIARNG/BdLUcBCNL5j1J2C5f3++o40kwp1v/awBXCPdRsxR1Ff8ARNN1FRpSRaK11zdifOxw1N7BO9sOUnN/uVC1M8BWgfd0OKRkg8v/bjeSsD6oCkxj6y3m7sM75IZ2JJZY2HILiHS3qMXcKx+HNwjttLGnjGy/EJiwCT0BJrfUMvfBdey7IUHDVcq9Q448WuVRFeu1w7+uiiSUvDeypx6M9TOKtl0g6SjTbov8iKkv9u40U2TZtxaMNFrdmY2DU/kFYD1eTtE73LHjaPXgbT1xPpdOjrL4DtbJp1gZYW8z4fZmv597E3PAl8Mgji8VPahqeCUrDHOIT1rAm39l/TrzAp8X6OzZPYMxMvvmDgC5nD/qPcF4JzCkumPWri7uXLIiY114FwfEEj1Bc9noKkFnF+VcOAw='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 398, 'candidates_token_count': 7, 'total_token_count': 645, 'prompt_tokens_details': [{'modality': 1, 'token_count': 689}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 240, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -3.900616782052176, 'model_name': 'gemini-2.5-pro'} id='run--04eeea0e-896e-4130-93d3-b720d483a399-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F'}, 'id': '5383187c-e931-4840-8c5f-3e052a2c2ca4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 398, 'output_tokens': 7, 'total_tokens': 645, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 240}}
2025-10-05 16:05:36,987 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls -F
2025-10-05 16:05:37,088 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:37,088 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

AUTHORS		  INSTALL	  README.rst  js_tests/       setup.cfg
CONTRIBUTING.rst  LICENSE	  django/     package.json    setup.py
Django.egg-info/  LICENSE.python  docs/       pyproject.toml  tests/
Gruntfile.js	  MANIFEST.in	  extras/     scripts/	      tox.ini

2025-10-05 16:05:39,283 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F tests/"}'}, '__gemini_function_call_thought_signatures__': {'249a23ea-c58a-422d-9da6-922a8f6d8502': 'CuIDAR/MhbZOmdGLEh++CDO2abo70d6H1rjK9EQniG7MHtbkG37UfpG4FfhNeicPcTnofy/Ytn+A2XDOtLLVSt4ydN+Gh4oyBCEcIcNr+DqetAwV4IdO9bY9GF3RBxMbdfUAjLs31+ZUXvHmI3aAy9MOIE/q97se4cfO4lOr38Nf9BAW9086/ICN6vtlaw41CvfD2IYFFCOCmJmtYjZ9GOl6y0ZcSn9Kw7U+SbuKavVSkHxBXeGb7J6uGQ3RHZCvVnonatMWbBYIGi1+AtRKyRAQBqjYIU3vWNVAW6o5Kx3yZPKPbGgeTJnkUUjLUQBA2PReuJUfcXWFcHv/RzzvQW9wYjxdYVZho7KJmYNiBhdCnAveV/RhAmZZNAVW/Rd/K4Wmz3BsLGMDud/sA34/sXw7cU9uqdq655AhGKo00MvG+NG9szRRAW4wYwyfbvTjrccwSW22bv+P/4DuKlJWl+NjY7NQRX9xO0ypxwS1u/k6IAe5uK6nw9oVFo5d43G7MVGOKbqO2CKRuUwPVo6aQd83PtrSCHzlMag7UKF60Jey653bLDMNiYiwfUUXD9YbXmUpwbrXQujUwPeg1yJZAPYJqu9wYOzarHrStxvZI81xubYnvwz/RyXbjkrFEqnUte6qx20='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 494, 'candidates_token_count': 9, 'total_token_count': 625, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1023}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 9}], 'thoughts_token_count': 122, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -2.6704540252685547, 'model_name': 'gemini-2.5-pro'} id='run--0eaf37d4-8cfd-4ad1-a259-3dc42f7203d4-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F tests/'}, 'id': '249a23ea-c58a-422d-9da6-922a8f6d8502', 'type': 'tool_call'}] usage_metadata={'input_tokens': 494, 'output_tokens': 9, 'total_tokens': 625, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 122}}
2025-10-05 16:05:39,284 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls -F tests/
2025-10-05 16:05:39,385 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:39,385 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

README.rst		      m2o_recursive/
absolute_url_overrides/       mail/
admin_autodiscover/	      managers_regress/
admin_changelist/	      many_to_many/
admin_checks/		      many_to_one/
admin_custom_urls/	      many_to_one_null/
admin_default_site/	      max_lengths/
admin_docs/		      messages_tests/
admin_filters/		      middleware/
admin_inlines/		      middleware_exceptions/
admin_ordering/		      migrate_signals/
admin_registration/	      migration_test_data_persistence/
admin_scripts/		      migrations/
admin_utils/		      migrations2/
admin_views/		      model_enums/
admin_widgets/		      model_fields/
aggregation/		      model_forms/
aggregation_regress/	      model_formsets/
annotations/		      model_formsets_regress/
app_loading/		      model_indexes/
apps/			      model_inheritance/
asgi/			      model_inheritance_regress/
async/			      model_meta/
auth_tests/		      model_options/
backends/		      model_package/
base/			      model_regress/
bash_completion/	      model_utils/
basic/			      modeladmin/
builtin_server/		      multiple_database/
bulk_create/		      mutually_referential/
cache/			      nested_foreign_keys/
check_framework/	      no_models/
conditional_processing/       null_fk/
constraints/		      null_fk_ordering/
contenttypes_tests/	      null_queries/
context_processors/	      one_to_one/
csrf_tests/		      or_lookups/
custom_columns/		      order_with_respect_to/
custom_lookups/		      ordering/
custom_managers/	      pagination/
custom_methods/		      postgres_tests/
custom_migration_operations/  prefetch_related/
custom_pk/		      project_template/
datatypes/		      properties/
dates/			      proxy_model_inheritance/
datetimes/		      proxy_models/
db_functions/		      queries/
db_typecasts/		      queryset_pickle/
db_utils/		      raw_query/
dbshell/		      redirects_tests/
decorators/		      requests/
defer/			      requirements/
defer_regress/		      reserved_names/
delete/			      resolve_url/
delete_regress/		      responses/
deprecation/		      reverse_lookup/
dispatch/		      runtests.py*
distinct_on_fields/	      save_delete_hooks/
empty/			      schema/
empty_models/		      select_for_update/
expressions/		      select_related/
expressions_case/	      select_related_onetoone/
expressions_window/	      select_related_regress/
extra_regress/		      serializers/
field_deconstruction/	      servers/
field_defaults/		      sessions_tests/
field_subclassing/	      settings_tests/
file_storage/		      shell/
file_uploads/		      shortcuts/
files/			      signals/
filtered_relation/	      signed_cookies_tests/
fixtures/		      signing/
fixtures_model_package/       sitemaps_tests/
fixtures_regress/	      sites_framework/
flatpages_tests/	      sites_tests/
force_insert_update/	      staticfiles_tests/
foreign_object/		      str/
forms_tests/		      string_lookup/
from_db_value/		      swappable_models/
generic_inline_admin/	      syndication_tests/
generic_relations/	      template_backends/
generic_relations_regress/    template_loader/
generic_views/		      template_tests/
get_earliest_or_latest/       templates/
get_object_or_404/	      test_client/
get_or_create/		      test_client_regress/
gis_tests/		      test_exceptions/
handlers/		      test_runner/
httpwrappers/		      test_runner_apps/
humanize_tests/		      test_sqlite.py
i18n/			      test_utils/
import_error_package/	      timezones/
indexes/		      transaction_hooks/
inline_formsets/	      transactions/
inspectdb/		      unmanaged_models/
introspection/		      update/
invalid_models_tests/	      update_only_fields/
known_related_objects/	      urlpatterns/
logging_tests/		      urlpatterns_reverse/
lookup/			      urls.py
m2m_and_m2o/		      user_commands/
m2m_intermediary/	      utils_tests/
m2m_multiple/		      validation/
m2m_recursive/		      validators/
m2m_regress/		      version/
m2m_signals/		      view_tests/
m2m_through/		      wsgi/
m2m_through_regress/

2025-10-05 16:05:41,152 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py tests.model_formsets.test_disallow_new_object_creation"}'}, '__gemini_function_call_thought_signatures__': {'581eb306-ad10-4240-8240-5ad98fa60b74': 'CokDAR/MhbZLR3o7OwPtToJfMIFGmH3u3mvXu7arC6NUIbqXCDaFisOy+tSgds/CLq/I0HztGGzQk3tCDpNIV8DtAQFIFXW7gI8lB339Pp/6o09xUKZjiVkb30lEsnercdIq5QWarqUcArIjNatKSfKC/WcxpD+Qm8xD4x0RLRda90Wry1MiRCfo7S4BECR2/HsgDuNQ73SV0jiXRxmHMRGqRfydDUg0uC54PCcKS4kjMeE4BbbQXQ/gcU6uNTXsoli2Wg4Ora5VuMSsg59Ug2lw3MhlPJD6ulgWL5yGq99UqNhQiLyluo887xB7wN3VI1UhVr3v/GLddo2425Wb0Qv7jG+edEKsqtmUmRHV77dUWw5vqvPcC6hTH74q+ioRrnhnnRoaVeEL5VmtFnBv+l0ikNRsF1azufaCTcBg7nwYCoRVOZXMvxHsQ/q+7RIYkje7gNS6TlxEoZuoZoewA+p024UvWao/fXWdFLoeUaUFqjwXGqAa1laqN+b7hBthStU7QKPO/8EJlpLJ'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1725, 'candidates_token_count': 28, 'total_token_count': 1854, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2374}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 28}], 'thoughts_token_count': 101, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3921664442334856, 'model_name': 'gemini-2.5-pro'} id='run--249d25d1-f995-4f67-bc00-e3dc4ff4ef9b-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py tests.model_formsets.test_disallow_new_object_creation'}, 'id': '581eb306-ad10-4240-8240-5ad98fa60b74', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1725, 'output_tokens': 28, 'total_tokens': 1854, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 101}}
2025-10-05 16:05:41,154 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py tests.model_formsets.test_disallow_new_object_creation
2025-10-05 16:05:41,680 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 16:05:41,680 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/runtests.py tests.m
model_formsets.test_disallow_new_object_creation

Testing against Django installed in '/testbed/django' with up to 8 processes
Traceback (most recent call last):
  File "/testbed/tests/runtests.py", line 662, in <module>
    failures = django_tests(
  File "/testbed/tests/runtests.py", line 382, in django_tests
    failures = test_runner.run_tests(test_labels)
  File "/testbed/django/test/runner.py", line 920, in run_tests
    suite = self.build_suite(test_labels, extra_tests)
  File "/testbed/django/test/runner.py", line 781, in build_suite
    tests = self.load_tests_for_label(label, discover_kwargs)
  File "/testbed/django/test/runner.py", line 732, in load_tests_for_label
    tests = self.test_loader.loadTestsFromName(label)
  File "/opt/miniconda3/envs/testbed/lib/python3.9/unittest/loader.py", line 154, in loadTestsFromName
    module = __import__(module_name)
  File "/testbed/tests/model_formsets/test_disallow_new_object_creation.py", line 4, in <module>
    from .models import Author
  File "/testbed/tests/model_formsets/models.py", line 7, in <module>
    class Author(models.Model):
  File "/testbed/django/db/models/base.py", line 113, in __new__
    raise RuntimeError(
RuntimeError: Model class tests.model_formsets.models.Author doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.

2025-10-05 16:05:45,287 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "grep -n INSTALLED_APPS tests/runtests.py"}'}, '__gemini_function_call_thought_signatures__': {'f2329fc7-9d09-4999-88c5-be030d9c7dfa': 'CrYJAR/MhbZatjz58W0Rc6OpxdBMYmQe8nHwtmNdU9LUfN5lFGY/BPVR/nPYCRbsEUfV8CsnEob003sHz0G6afSNrXFvE5ND9P9yCHfnFpVn+AVSj9LPYc3i68UlHPobRVXS/qp4yqvUbw0z4Bq0MHrn5TDrj0gwVCpHlw856PhzNBr6tOyIVPuTz+PR9IEIsl3jM95r0c7h4rgzWSzIc5YcnGh87vEUt4hVVobaECb63pzlYK1bZ4DyC+fV4ixtEQTzVa8ZdwO9zZieJxcfANDllPaZLgN9WXxLAR1yptEPeiJT4eKGW+2gs8fvngznYkhstc89zyKw3N5DVCTebVwgouf+hVROrWZu7pu4IkEh4xntMp0RxP85jhFPHrnFXUgp1QpN6x47M0kuko6sbpM61R0gI2dYDd6k/7xiTUFjqtUe0uo6d9heEaaXcPIeqTt2VdR60qZyuok+EC4TMEbsqGiR+kZNCUye/R+WQxbyDkXn5zVHpJq/i6hDmu1pN2jWPBYrddq3zbZZZOnls4a0+8pnFmRWVIFEDNs9g5DGELP+Lz0rZ+eM95qD2buVaUHNLE9FqjcReSvfskZO7fW/50jqbxep6y43XgG7JKzh/5tWp37WIcRCRuya8/JgMadxpB4j504j4X+6/raSb7mPUNaTQB19n6gxDo6IgLn2pP8T62aW5cncvKqYGJ7jJ/HAcOTvHFP9t8/j8oKnO+rGIMHntQm/hDeUdQkyQ03TYzQr1I+LQhKYwgc0VrZqGklSFeLOCeF5hkQKjOS6gIW7k24G71yr+b0pfWoEgQ6IkzF+c9VQckyDNs8RjDiQOgDt+/8anYdSjJxUSYeB3edqViZpV/r0hD5Q0cFysW1tyuf/5f43piNRd4xJv3dbilVA47cN8SVCyJV4LB5MnktzcfHeqBkHIvsj3OQE/iOdP1+0O0A+X5K3rZqOAIWhsiGLUiB5wIbfLqjv9NwvsGfCVPrvXjnrmLO3Q8K1h7Wpj34ehPkLHyrklC1J0MXkK3oo9BTXoVnzE6hNYGDiee3stSvqITnMdY3MzKIQ3BW1hNlQ9st8HTilHa8l6PMDNtDpBzBBxa2n61EdTKiYBH6+d1/+o884w7We7R1dO8Nqj9GzAZArZ4v2fB8Nx2YMLeLApF+sGDvPG9xACAoL1ufuuh4VG2WKhbgTCcn4wr/Apq//HZAlb7ob/a5TiVIrRgK0DlO4sdSkcCsRVwvSmbazW14Vo9UpWbyHNdomE6nkKHdX3eqxTNbmccpTk1Az0YtmaqF9JMvaGQMpIUH6dPeuO8WybLXCX87Sx1Ay10vh2/Xs654me/W6mqFbReBrihPZb76c5vD6dEL5m6nku0icb6LSASGBc+4lwLsGGxS9cc3msZwie4u6UW6uswCf1GMPokoBoPmKNpY/dXNvO3Jh1UXxYf1Je03cRK909B3gnnzj5VH0IqBbxmUY9/uuIbm5inNcRAXtb+zHD9Qbi3Bby1Vf6MDwGyzAeLF8siqrp6r8k79rNWiqkdMYRKGXEeiIIfHHm3XZibS6IDc96iEhB+gTE1bKVfaH1wF6p1zGDU8E1KkqEwPsszf+mhCrlYhG/65AuDz3'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2214, 'candidates_token_count': 17, 'total_token_count': 2545, 'cached_content_token_count': 1608, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2962}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1608}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 17}], 'thoughts_token_count': 314}, 'finish_reason': 'STOP', 'avg_logprobs': -1.9098349178538603, 'model_name': 'gemini-2.5-pro'} id='run--a94be7e1-06ae-4247-8431-c100b0899225-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'grep -n INSTALLED_APPS tests/runtests.py'}, 'id': 'f2329fc7-9d09-4999-88c5-be030d9c7dfa', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2214, 'output_tokens': 17, 'total_tokens': 2545, 'input_token_details': {'cache_read': 1608}, 'output_token_details': {'reasoning': 314}}
2025-10-05 16:05:45,288 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: grep -n INSTALLED_APPS tests/runtests.py
2025-10-05 16:05:45,389 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:45,389 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
grep -n INSTALLED_APPS tests/run
ntests.py

78:ALWAYS_INSTALLED_APPS = [
96:# Need to add the associated contrib app to INSTALLED_APPS in some cases to
98:# and isn't in an application in INSTALLED_APPS."
194:        'INSTALLED_APPS': settings.INSTALLED_APPS,
204:    settings.INSTALLED_APPS = ALWAYS_INSTALLED_APPS
240:    # Load all the ALWAYS_INSTALLED_APPS.
272:    # Add contrib.gis to INSTALLED_APPS if needed (rather than requiring
273:    # @override_settings(INSTALLED_APPS=...) on all test cases.
287:        settings.INSTALLED_APPS.append(app)
290:    apps.set_installed_apps(settings.INSTALLED_APPS)

2025-10-05 16:05:46,767 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "sed -n \'78,95p\' tests/runtests.py"}'}, '__gemini_function_call_thought_signatures__': {'68297bd7-053f-47ff-b199-5a93c031dab8': 'CvoBAR/MhbZAvw599H3a9quKURcIZ86FLoqXWElVwnd0o1hF5kSU/UEV89lPSSsiQy5SzdotmziwvpXgrf2nMnNQNTpCs1kV4d44Pa7GdGLBaWUg9597yAZZOa6EJI4SVVzrHJZQAncxp+h4RFlVqgRHgZGy9uMdFKYy6aD8yjCwFYtG+yKDyO5W9HIQnanmtcsVWiLBf2mZ18uWp+n9Hr3JELrCLW8zup+diBrk0C2TjM7yC0kKVoxgtjgbewlGqOt+auwxsnhG/Pbikzw8xcsvZ7e/d8lFcvo7rbt5+UAUsxZSTFKmKo1Sap6e6MdiufB0HAaTy9NiB5vQUw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2431, 'candidates_token_count': 21, 'total_token_count': 2518, 'cached_content_token_count': 1642, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3491}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1642}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 21}], 'thoughts_token_count': 66}, 'finish_reason': 'STOP', 'avg_logprobs': -0.17763301304408483, 'model_name': 'gemini-2.5-pro'} id='run--7c3e1aaf-4fc4-484e-8981-4059bce928a8-0' tool_calls=[{'name': 'run_command', 'args': {'command': "sed -n '78,95p' tests/runtests.py"}, 'id': '68297bd7-053f-47ff-b199-5a93c031dab8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2431, 'output_tokens': 21, 'total_tokens': 2518, 'input_token_details': {'cache_read': 1642}, 'output_token_details': {'reasoning': 66}}
2025-10-05 16:05:46,769 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: sed -n '78,95p' tests/runtests.py
2025-10-05 16:05:46,870 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:46,870 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
sed -n '78,95p' tests/runtests.p
py

ALWAYS_INSTALLED_APPS = [
    'django.contrib.contenttypes',
    'django.contrib.auth',
    'django.contrib.sites',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.admin.apps.SimpleAdminConfig',
    'django.contrib.staticfiles',
]

ALWAYS_MIDDLEWARE = [
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
]


2025-10-05 16:05:49,537 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py --help"}'}, '__gemini_function_call_thought_signatures__': {'6e047477-dd47-4a75-abad-45515c3622b8': 'CrIFAR/MhbYLRIl2KJHYbNmOuXJVpLyGnP1ncuB9+NLx6e6G00xDhZXd6HpOTcLXNdvgRtkpZCjDo0sDheYdJfuvZi4MFtNZj0NmErvNQYtMGTGBq4l5DAdXhEDLHdqzLOKl1k8DWv97erkv+SDaGwTZJt8HJ18g4SrNvYY6KdqS67tNGncet1Uneu2VReSLT1q0RAk38aX33OfudyWtokPqY3c1rHgCCSxsGF9dnzlIAMngUINFUgEXJ4mVM+AzUPjCoKlVuc2fLJww98ETcAtDxg0L67Iig4fpLIkoyIvDXVgDq6GzwXXw0x2QPe+tBPZfTLMgCkl4oxpN4XUFF3eIavgu2DYpTRxo0QNuuV4s/CROOSr6StqmIB11IteEg9ZV0W79m+gQn+GRo9/RRmWkrwGMyAWC6CCDcARKKt4UAaC4C9h4/WHPCEkoxKY4M1LMeX505r7qyLWUfIiIfWqDCifwyc/GOdR1LgUE4XVoRHkA12h9koSjR4yVzdY71S1EFC0EfB9PLy/sodD7VwVhJNQEvrlQFcG0BJUcihU+wX9HjJmIUakVc7w/grk43Xwe2Ampe14Smg3jTPWyrHuk5dyqy4SJjgilBDp73l5gXn7QDHD0f+ITDdaI2IUgVx5MzQyt1XBQYHissLPzO2zCMbtLDSpHtERokdZxbGVnS99yF7DOBZQbZF3U2zAIZ237Mc2fE4mVoJf7fJATs1qAFBdXS4hBklUbqv+JAkJX/bJKQYJy7Vc0OxvVREQBk72eePLTmGU6vpAUWh1LgOFSalunqi3vcgk2XQNhP/fPUG0/qrxxFgEed0aXTLJ1qXrHemzoHiHiGKwWlHYN+4XwURk6IqF+29O2ztxm5wF40iDJ+lwuV2K+JTRIz/JAbJgL7Whd1JOTh58LVGqKm9TmzYKl'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2633, 'candidates_token_count': 13, 'total_token_count': 2844, 'cached_content_token_count': 3291, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3757}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3291}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 13}], 'thoughts_token_count': 198}, 'finish_reason': 'STOP', 'avg_logprobs': -2.092068158663236, 'model_name': 'gemini-2.5-pro'} id='run--e26d8028-f253-48b2-9abb-458042dad95c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py --help'}, 'id': '6e047477-dd47-4a75-abad-45515c3622b8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2633, 'output_tokens': 13, 'total_tokens': 2844, 'input_token_details': {'cache_read': 3291}, 'output_token_details': {'reasoning': 198}}
2025-10-05 16:05:49,539 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py --help
2025-10-05 16:05:49,760 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:05:49,760 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
[A(testbed) root@iZd7o0ltqvddf3pkxkvmq9Z:/testbed# python tests/runtests.py --hel[Kp

usage: runtests.py [-h] [-v {0,1,2,3}] [--noinput] [--failfast] [--keepdb]
                   [--settings SETTINGS] [--bisect BISECT] [--pair PAIR]
                   [--shuffle [SEED]] [--reverse] [--selenium BROWSERS]
                   [--headless] [--selenium-hub SELENIUM_HUB]
                   [--external-host EXTERNAL_HOST] [--debug-sql]
                   [--parallel [N]] [--tag TAGS] [--exclude-tag EXCLUDE_TAGS]
                   [--start-after START_AFTER] [--start-at START_AT] [--pdb]
                   [-b] [--timing] [-k TEST_NAME_PATTERNS]
                   [module ...]

Run the Django test suite.

positional arguments:
  module                Optional path(s) to test modules; e.g. "i18n" or
                        "i18n.tests.TranslationTests.test_lazy_objects".

optional arguments:
  -h, --help            show this help message and exit
  -v {0,1,2,3}, --verbosity {0,1,2,3}
                        Verbosity level; 0=minimal output, 1=normal output,
                        2=all output
  --noinput             Tells Django to NOT prompt the user for input of any
                        kind.
  --failfast            Tells Django to stop running the test suite after
                        first failed test.
  --keepdb              Tells Django to preserve the test database between
                        runs.
  --settings SETTINGS   Python path to settings module, e.g.
                        "myproject.settings". If this isn't provided, either
                        the DJANGO_SETTINGS_MODULE environment variable or
                        "test_sqlite" will be used.
  --bisect BISECT       Bisect the test suite to discover a test that causes a
                        test failure when combined with the named test.
  --pair PAIR           Run the test suite in pairs with the named test to
                        find problem pairs.
  --shuffle [SEED]      Shuffle the order of test cases to help check that
                        tests are properly isolated.
  --reverse             Sort test suites and test cases in opposite order to
                        debug test side effects not apparent with normal
                        execution lineup.
  --selenium BROWSERS   A comma-separated list of browsers to run the Selenium
                        tests against.
  --headless            Run selenium tests in headless mode, if the browser
                        supports the option.
  --selenium-hub SELENIUM_HUB
                        A URL for a selenium hub instance to use in
                        combination with --selenium.
  --external-host EXTERNAL_HOST
                        The external host that can be reached by the selenium
                        hub instance when running Selenium tests via Selenium
                        Hub.
  --debug-sql           Turn on the SQL query logger within tests.
  --parallel [N]        Run tests using up to N parallel processes. Use the
                        value "auto" to run one test process for each
                        processor core.
  --tag TAGS            Run only tests with the specified tags. Can be used
                        multiple times.
  --exclude-tag EXCLUDE_TAGS
                        Do not run tests with the specified tag. Can be used
                        multiple times.
  --start-after START_AFTER
                        Run tests starting after the specified top-level
                        module.
  --start-at START_AT   Run tests starting at the specified top-level module.
  --pdb                 Runs the PDB debugger on error or failure.
  -b, --buffer          Discard output of passing tests.
  --timing              Output timings, including database set up and total
                        run time.
  -k TEST_NAME_PATTERNS
                        Only run test methods and classes matching test name
                        pattern. Same as unittest -k option. Can be used
                        multiple times.

2025-10-05 16:06:15,809 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "grep -n os.environ tests/runtests.py"}'}, '__gemini_function_call_thought_signatures__': {'d9f98209-682d-4114-b0a6-68ac44aa64ae': 'CtUDAR/MhbbHAxnzHlp/NOMb9UqZgmbTeFgcm5gVWxSVPhpjoxVVF0xF1ZAEzMkm53QYXSVUZnKhQ0p9zY7cDHzrG22gzegkhRmGQItQXMQbBT94BS4lF7euR2PVijKTXJfjsuVZEh5er7v7daorqPMW+9WCUQzS/ujAC0BPJNkitmgmj8eJJG5AfBo9Or+7ww1sBafTT9UtlooO6f9xHcFoVVcH5H2DeqFQcBvasmYXT+SzdRFOudIVhE/fkJZPiUHMaB1rHde01MbQS5Zn79VVH37N5ZQTUAO9Y59M4vsQS6/CifOeTQ71WPNpoCObMLV8+JnR7EbNjcuXhXtlQS/Kp66bydRoElSKq9G0C3DpFlyUZcdgKyF5S+DRkHRcvrhLghuVHBPW3g1Vnw5I/juIOQpio78P2V3igDmV4jA/mhFqQ7QgzKIHr1lDl2SXA1QeJsUwLDlgJnt9sZI+c1TwFSUEN0nvcVGLj/hqAQwPrvH2TNHQx8TdcGrRiy/E04U7s42QtaN3Z2lSzcns2zXRIDnv8PWp5vZnJEx0CRLL85ZPkBNK8iUV50SCCsrUGgsKPjLRzOvYK0vmzu09tx8FD8mkm90GKbwnwMQMd5wxOFenptYn1Q=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3557, 'candidates_token_count': 16, 'total_token_count': 4059, 'cached_content_token_count': 3393, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4877}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3393}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 486}, 'finish_reason': 'STOP', 'avg_logprobs': -11.84060001373291, 'model_name': 'gemini-2.5-pro'} id='run--412a001f-ca53-43ba-85e1-4435d686feb4-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'grep -n os.environ tests/runtests.py'}, 'id': 'd9f98209-682d-4114-b0a6-68ac44aa64ae', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3557, 'output_tokens': 16, 'total_tokens': 4059, 'input_token_details': {'cache_read': 3393}, 'output_token_details': {'reasoning': 486}}
2025-10-05 16:06:15,811 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: grep -n os.environ tests/runtests.py
2025-10-05 16:06:15,911 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:06:15,911 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
grep -n os.environ tests/runtest
ts.py

65:tempfile.tempdir = os.environ['TMPDIR'] = TMPDIR
303:    os.environ['RUNNING_DJANGOS_TEST_SUITE'] = 'true'
317:    del os.environ['RUNNING_DJANGOS_TEST_SUITE']
633:        os.environ['DJANGO_SETTINGS_MODULE'] = options.settings
635:        os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'test_sqlite')
636:        options.settings = os.environ['DJANGO_SETTINGS_MODULE']

2025-10-05 16:06:18,889 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat tests/test_sqlite.py"}'}, '__gemini_function_call_thought_signatures__': {'705ba724-5521-4da9-addf-f8bab25cf7a1': 'CqgDAR/Mhba6PGqtwJkChEylWf0XfsWkpSjtfVannX6/+CgSaSManSqFy8F1qI5XPcz9aDhwll45dEdyD+sGJHdS2fzw/KftOqI4QanEUp0gMOtgxzZd3pPVMnT2jgJZ4EZusMau08HQfwrCATtVDHLEehfp4Y7AAWyHCJ3VjXmJV0tI1NdNp+rH+x6IB2UWL0y9/xTkU9HUDBRSqEDoX5p4Lj26E7/AsNq13eDWIDXytMJuVCQKExyCTdYCcQCArEJ1G0XCx59S5tsbuQg0L6Uf0D1Wb4U9zNHevvRtcA9Rw2XpRp40QZb+4TUSv3LncnB/Vo+5KGWvdeQgUTCPlDVeJ4FdWAh++VBsHLhNVUnbeMNoYRfKXJk3Gnue/GBdqDGdS1YdHIjgj5DN3yLFBfeMnn3ASDHWuUCcZDyqPS5zPJ772iU+MAMVmrNvBxuQcKhrcJJOaTM1yW5zZKttweGIKRB188MjJh7i0Vxu5qJuwQD2wGknY5NjFIblEqM/RhZEuR5atoQ9FLHf7cSvCrH3+IzulhM0sgqO4BpQKbwN07zyunGHQLHfSA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3720, 'candidates_token_count': 12, 'total_token_count': 3884, 'cached_content_token_count': 3391, 'prompt_tokens_details': [{'modality': 1, 'token_count': 5155}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3391}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 12}], 'thoughts_token_count': 152}, 'finish_reason': 'STOP', 'avg_logprobs': -1.7607506116231282, 'model_name': 'gemini-2.5-pro'} id='run--519195d5-8794-4da3-97d8-1737d9486fe6-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat tests/test_sqlite.py'}, 'id': '705ba724-5521-4da9-addf-f8bab25cf7a1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3720, 'output_tokens': 12, 'total_tokens': 3884, 'input_token_details': {'cache_read': 3391}, 'output_token_details': {'reasoning': 152}}
2025-10-05 16:06:18,891 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: cat tests/test_sqlite.py
2025-10-05 16:06:18,992 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 16:06:18,992 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

# This is an example test settings file for use with the Django test suite.
#
# The 'sqlite3' backend requires only the ENGINE setting (an in-
# memory database will be used). All other backends will require a
# NAME and potentially authentication information. See the
# following section in the docs for more information:
#
# https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/unit-tests/
#
# The different databases that Django supports behave differently in certain
# situations, so it is recommended to run the test suite against as many
# database backends as possible.  You may want to create a separate settings
# file for each of the backends you test against.

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
    },
    'other': {
        'ENGINE': 'django.db.backends.sqlite3',
    }
}

SECRET_KEY = "django_tests_secret_key"

# Use a fast hasher to speed up tests.
PASSWORD_HASHERS = [
    'django.contrib.auth.hashers.MD5PasswordHasher',
]

DEFAULT_AUTO_FIELD = 'django.db.models.AutoField'

USE_TZ = False

2025-10-05 16:06:39,184 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "PYTHONPATH=tests python tests/runtests.py model_formsets.test_disallow_new_object_creation"}'}, '__gemini_function_call_thought_signatures__': {'ddfcc64c-0f6f-4133-b985-22c4efc93369': 'Co07AR/MhbbR6s5g1NCsfrhRAWP7PdWDAc6tuNc5BAXeKNd36ps3Cw95jMU6pAbrWk0la/PcmahQKCKawrUDxq6osTP47jiVOrQIrZYqZT91bZ/v1wT9BdqzY5eICpGgmFdpZtRkz+fjsnnBqjZu5SYS0+rKBId700IIFYXVudM90ooZ7AS1kDxAQMBUPiWYBhYb3s8X3HeskTLCc0gUnBTzLu7mfu8kw8iGKYFGjF/PRMJVgI2PHQQiEXEKDvYv04p7PkK+7Z2DMJnz+fRGnkz2oEqX9lUj5lsTwxDMy6s64q28ER1iGzOZufB0u0RPCO19T5Fo1ibw7QclirC8QCQxTD/eUq7GZv9tLEI+/IyRes0bwKySc1VwpNt07sAZRcWLZ2zyv8jAo36KcO+socG5uVRhF6I6iV2/KJzkDPRVeqbM5h+YdKUm7BywATdZ6DPCRaWfwAipPFj3kvqYVqTw5T1cM7MxcvP5BNbvSs9qjFM3RJ0cgzRgMC9lmlDM1HNcPyEGjxxyDKtIe31ee5Gk8+U6/3xDQVgay4RtAZ1lePEtETK0r+RUvN7bgrS7hJaQ5YIs8RWOhlLp+jhs+hJ76RYyETi4QmHKBJnDFsq680CTl9pLOyKnG9wx7lwt/1LfziISYCq+QneV16uardfc6NFxPbOq6GzPk1FL3wWiv7KiwhnHqPHhAfvV+QDyeLgcuisU47QonwOU/cofLXafcd/pE7WTXQEjjWKL0SnqHsHQJ4fcWjSi4SX9RInGHL/ob5muzY3SKHpkv9lUmk/ryLkL59/hauGTl8W2Z67B/hL3j7ztW/vrmwFluNPPDcc/XQqsYPI33nwNO+Rwfz7QzqDfhH4G9ezwML3Hx9clwXz7+n9iW4YiMoRP3WfdwhPumBK/ViNKaMA9BKPw6QJHCnFIJe9Nf1atXQSFLAMvj+mWCmdQw4Mp/tiJiRjNGXXND3bASq0ELGDjcjLESL8B8J3X0XEdCXjaeK0tno4mqNM/l0bIMUKASbpUFl4/qsgPbDwjDv1dSRj7nkusCtV7TMbUr+fuEBYpHJ6JAjkj78QHrpp2HBATInh6LpIkWInrLcafWMNMxftAVX4HPWOvFS9+P+RBcyayvN96ARBbFNnPPDrdMBYGnqjFSPoeEDYqNbIMmWNoYuU9NIdRawr5q9kkMy+5dkloemao+aKbtd2UcA6vTMyuCZuhGKkbZTFST2f5XmbIJGV1+XEk+GPKfiJjgDOlE/fooniyoKZ3DvNENkDbrNLUf5avPYaxXCsWiyH8/Ps9+UEY2L+1ROipGFAa73t89gmtCAeMVWptXwYn68pCkXOHUyzCWVqCel+glFNpN7JjHsNCYLAkQJ1+8emt4iPWT9r7j2BEjiymJp1Foh/4PKhY/K9fQRqn6YNiJ4x7mG49lPBaPsFGpJuN/7mSe2k9rW1/8Eq/Jk3ehcair9rJYOZV3HjgRd9k+uFElNRDht/F/ftp61QBCs+wPWcZ7msL79R0u4URV0oynvig5MJ1q55HAN6l4LqiBClmzHlxXgLdry3Qq158WdR5l3Vi+M4QLVMjumxOV/N4Yv6qV4jM7u0SxkXbse3pQPznbC6Z+ICqtv2INxsYQTrJqpYj1XNASNhkwSMXzcCRwMkPmbwhlQrGnK6Zx36d/xdJ1TVavqcGe2ddDKhPHNEhaovNHEh3O1goy4+Q6x1H2hLCyJT5FfJIa8kzRGAZPVWOyTddxEK/nE0W6DLWznUGUFZG0ksb2ICJx53p31RNHaLfdZUngnbPcot4FQxFp5XSEEyYGBJa158r/SyIA+CuttxWyV3PCTSFMn5UieRj5IIGOSX1H5anQtuS8IqWRRB+bTTPS2uH5RDp0cjmiYdurzcUQAyJ9mjz2BP3AQRYaItVd0607QS4eBmgzDtR81EZWjH5351yMKyKeiQKOxH6ns6h1qV2XsYX7uG/IWwa4olWL5iddEJKQwYPLsTAJSh1tPSreEOLizeXc9fRxIVMBiFKL4PjBpPKswAt5nspKUYscojlHW7qqMlA+gUDKBJcH9RGO3edCjrwgOVQ6S8Qm0vCeHp7kDnXlAxKgLy8Vbt4Fnw8qqsNQxpJWYkiHS9lcC/zbTlmOQ9dGyy6zPuLi1vB4NZa7w7LVx6ac/hAAd4ojJ6K/mrtDlXqvdVXsKgDn5/D9K6ydHfhQXyIaTSxXX0BcIgxhDEgA1epQHp9Dx4NVMHgpZPegI48El1dIdU4v2W46vuc9+TM8g5QGj7YmBiyLcoJbu2euI3wNDgGt/XK0/JFn7RRT+8obL6Y6u8RRGmML4SHWUXLGfBjLG9/KkXZf0mb+92XpKTEPc1igDc2gy6dAW28HkLzsqEkqhJz+7K8j6NjOuuyi7LXJbflgLkAHmze7PZ1Yu84zhsaiO4xhoR41bhnccDIS7ChqqQ2H7rDPlGnPfXxJmo0k+mYcuCxstRg2l6yVJOvcezUeQ474hAc9+x2nOeuBCISJ8T6RCYd+i7H9DNaLDgDQvFeW0be2enpXziEHmBWlfMFhmM+Qm0M4qpMwqRIxE+k8OQBkCxq9tY+hm10J1Ek1SsmUE4MrbQjmylDl0HsbcNAsGqlyoEtHsz7HoXv9RwOpzghAL7jtAghs2FB1YT0xn6RJeaiY/6+hhldzNDiby0oJwdqAlXmRL+nyDcy2aQdatIj+VhnafNPVaJUtZw0HUzsfxQVYt2iCD8wOYZGK4IIiJs9Cg9iQRnCdENt2XFjK1jmToslMWQKTCs1Z81HMYBcoEXccY4AupJ/tMTq78B8Vz+v4Fx46jVsTDaWD1j+5zYztuPDZnbUTfaNXzvT5Ifiayo8h5GPRxOS2DoXCZMQ+zCuB3dbU7DOvK2jALkPryW1rOAgFbb4L+0iGhDpeYMgxYota5A2aN1QNjAiUG2sd/Nbuh+PYxiclLRW5XlEK/gRuD5RWaxoLfEiw73L/9kwX14aPcaRXBVcviRqqepjIPRYg63NEYrost2BI8VjAfz8vP2q0m0sVwS61jvfzXEP87BCtt9vU2CeOof8ZAcZowaM7+ddDk316uot62l9d1LC+PS8o50zDe5hRQeijKXcswhUSVSIcakeJOqM9MBSFyNuvPeL1fT3Y2hThzvPh7HqcgkVKTd21R/UZVEbKp69iqNY5TaUkm/GNzlcfTlKk2loS7kyIlF6w6cpE9dQqRgYJ6JMQ9Sdd1LMKPq/7v+aFEc06wKvSiysM7shL7X9DdYfOXdJ8VC4pyTmgcdnI27W7rmhY0urG1fAWbNY/IgbhrkhEcQ2BkeeQ27n6PtgZLjR+UsbhsjS7yll/1aHwb7xmISZwlgJlfHV+lPdPABZ21/Wof1xsQJ4ASWDwAq//5r96wOZnfGg2irij4cZSIhezG42DLKWWEJJn6qR06Yiqtxa39BKXcVKppyBIA8SnRwz326rFW8rLqTEEHC0HfrXTglrAst4+30mzizgWJrsLgdQRdSU5ZDrGLLmVghZCQdL7jFyksfi3ffUZ13v8gwe/EqRak9HFyadqp8FIFthxGMQJ/sJQNwG+hihVPFLj6ZJyhfB7RkGpY27ggFLcnoc7RBgNBx27quiI23GXk4UGYyqP7PYCnwHjRWS1O4xJPK13ZeMxOg6lRDNJQRsKrBcgiefBHqRhdEdLlYwe9gP9uqEYwTG0+AhaKOCZNTtRIi4Uje/bcsi6AJVUl0XyBUSgoQkTVVB1QxGn+nH/dp6Q1y4vRxVe4R1c0PYgpjv0n6pehNdozfuizk/aM4JsPsC3p/tKk5GfXP9CFyXwUmvRHGrv7HNb2bUYcXeDotK9pchwQTXmUe3MpjicgAu0ZzdX57ANjChPiFX2ARRY34Fc+8e9XDdMAabzrdURHWxziY+c2S62DzNTHq0fvWSqe5Xp0TbN12JG3x57Ypj///pEEoO98U2IV+0uXanyQ4ExuJFL6KprHv596msuK3jyRTcgUs7bVaJvge+znhqfqsQiKpyfccWlCyjIpJ7x/12BVSFDV/7RsApDqC5XuwmeKvOT5WLpu7IcoIKZ40Hj8Sap157b8F0ifybfxQ777xN2Tx3SmJVNSpuLF3Vk+Tqz9PWYOqkIuJWJF7A5PnspwyDuzg7bCNSBWCY1Zq29njmjSbcMkgNQtt5J8nE7g4OaCdShDmDlyHXkc8pPjiRhcRf+M2RLqQmgcVzn9ph1SfF0Fc8rE9ntkPrdmf4BjISs+0uVKREPrspx6hR3zSy774aOdhhS7Kaw5RBPLpAxCxKN+ytEUjFVx0Jpv0BNjELizuuGBeGFWWnMfA8yoHFichHmKMkEWvzdkWfxo4Ll6Jk6fJvro4igKkP8EdkWn9zYPtReYyaik3QxQy4VshyA4QVJxqbKviwboiYx/g9bY2mHvXBRH/pIF5PW7eHOlW256NC52kjrIoNXPoW8K5jwX/Fbu5EdmXi5ie9IQxRsGNZdxqw98SWsOHMjL/gQOIdtCP/KHJJlKLkbsdbANTdX3jS7hud88PWugpa/SmAa8atrHBlAfbQQAhdynIMNoNs2ND4NBS+0nDPVt+OvfVpophG2je0EdrKT/Dh6Z1DH/fAiyqQ5qmc9ivmlpQmOqmImdwPUvOt+WeGdZ5Ywk40flGxfV5Qt7z5ThXMCuM8lxhxNCOnVVoRKgCNID+xZZgxE5wgJp9Jp1pfk+n4xaeJSS27hDfj0K4oZPQUCma6IoQicc5hb5adSk+ZqkpDHuWDPVT0sYdaZfrWO7VsnHGyoQi32hxb0xCxy3R1ADpZw+fLJ+5mEDf/mX+qb82+jcWckTULQPQ/UWKpw8nFP+q/R5SQ0q+zvre8Vh9YlaGAmSXObDhqTSer6irJKqLni0wzQ7WzRh3Jbf220Zp+j+PzM+DYaQlUl0n3Yl4hgcXcOjY/q8lhYPUYXuy6BO7wlXyB3pd4UD05pBHSh/5PVf7EfRr/hYMakrkzDX2Ub5G7FOUFXx8kapqREbamsHcXsmIgUon/MoQgbFtbR/4YjtMRLN5CKjmkraPEZJkqzGVzL/XFEIkQFO9eSE59FmiiM/IZjaw1SyGmKU6gqrjJk+4uHlVytD6jpqpp4ANOUKMnw6FUSayyjfs95wIlLYlvUnfMtLRPutsnO9C3tHzZ7wA+ahZIocZAnh/5nnjQuGWQS73Cw1n87yMv3xn08TUks0tjvyy22mezEr+1Zkkf6bPnYNWMFxwaXAyFBndeKDHM3V7kI2JPz+mqCVHafTs2nCKKFOMg85e69bwty1UzXQrGtxe9YXoJcSQsuYdAp3e4jHh1d4H07A1MFis6vtiTpKiXDjA/g8J81xSPlU0yTZW3hpUKFuYPQ2Y2jI8Xnpbnjt5NEA9etDUS5byCt5Tu1EbT05BOpE/24OxweNe2/qqlsvTYtr7VjhRgoq42HfXifceLULIJxXOUf7Fd7KD42OJHs6SaIhh0p0fXhr1/jpoApEw4XITJelflu1LIJQ+DKjsBFj1dFUI7bnr917EctbKOUq83K6mE6ktV2P3b/SO5GnlisQtqr9kT213maZWC1YCsSKgmSsrCljPgzlir6HiFqc4B+mI7xTVxDwKruGcBs+HqG3oDIXv/TOyhH5FvZadfS/FYBAY68M/XMVKc/vErAxaRa5TBvYwmxWtlib/xkEj3hTgjaTNXuMOmpVmrxpSkrmB/wIeWwB58mCbi2zB2uZ9t+JUTqwke/B5ez/TN0IWTzmClBvfYvF/2gF94Wr+/mUUuaw+XDhwKkVJ4XptpdalhR07VTan0vYPfmwt3FMKYO7cBptR/D6qLFRBg0EKywx2fcqlRUvD4LPtZkBkeSZ4Q/m7lfxCEcm0GTIXZrgsDuviziSOVD0wdLtdlaeeOVZEFVej8jgmgXdkeNhSZjN2+grwWvuCtAjSnMaM1b4ZcBi+ccJ2elf9X5Rsm9UjNol4EibQoX6yY+VRnunpXFp2MpssS2cRGeDktrOzUE2c20W4adP7PIDjsjVlk5B+YY2eJXhYw/xDREb1VuT1N/qdu8OjFxYpOYPeCor1eXjNEv3+rE6FX2bJcG1Ju9DDD7hRp3h+Kswu/9bPvlEbsVHxeI3ZfZJWB1up5mOxDqVQLPmXhHmFOxvVemuGGjB5juM/PUrMcIRP3+SVMkUbIn7biyjStKY6eqUntGWqESngO16bLvwa5uYb0a6B1Kta0E2mGGfdQ2p2WifkR+OJU5ZaJZ7JpLfOa8LL91RzHmFHvreJKvLXqGWF8pl1kB05SQb3UQqQUKVT5ItLJb3BSyhG/Uk5Cl//r7CGxqhFbq34lV4OTMa73TA2g9RcW0nmeZnmLXXnaNPcdaP4dzBsUfaPMf6e5RSa1Bb2076QQxcm5RlcbPNgE8aKUCEXTzb409ElddURqPtDLWPfIAemwo1K4NyKHtN+1+B/6bJP+WzTjfWN8B6O4dnGSvMs6BpWNITkA0r3VTTfs9IHjewf6fiziA8TMoAtDESbAQKRuvlC78Bp9upu/qmXc/g6fJQ0vJon2wxTnxI7Q0RnUXxmDYeK9W+01ZMlnNtd/8poS92VV5urMOaBW/crr9cCU9p9ey/rg2Ss4g9rfuEEMc964BiA4MzmGBLSgs+gnPFHRONpK5jaZ744g5Xem8VA9U1VulqiY0W72DG37CjGHViZZYfGC1+1/CwJE87zoNRExn86ej7e0Ps2FKhyM/jup4gJToGaSiwJuvnJgh4Igi4kwbc11xG7YkjXRpP1eCuShbqTqPujJ8PhQKNw3dXS/5cmbUbVnzxzzPYI79vyIQgDwG6zHetdLDDHdxJtZaX54pW6pfh4h5sZEgYfn/plaFFF0PCIAobYZmjz3UXJ7sO9GFp+NBk+O1Nfg8HZ/kCw5lzDASqnNIF3FSZDyJsxPt9gAUVRENNpt7um7vxj1ofL+ASKyNR7WWhrPdtO3tObQC7l9ItKQQtd4gdW4s+8ynXZNyZgnFXIM+VQcUxQI8sfExudd12wB/+yD86rGtVIvsNtWVdpk3pbJcd252ONNHTlie/qcI0FtHrogW+5wzeo3vY4DyrGzT+fGO+fhsg1ZDHdlRXFkzlVxMWdfrD8jFLfDf0nR9se1Kq6ue8DMhTBrrmZFH4UE1MwiNqAvnVGep7ZjLXHXapc11DEy/pcvmbHrwLi4gCeGxrp+dbDY2cJQUK+bLCqRolltJKG3aW4jZmKRv5pa/pu//vkNhR5P8Xd7pZ2vaZiK9ZATOIvTPKuzgRGG+IZ44XZJxYn0tGy9ZrT1q7ycxlxbVcFQXjMcMFGM18SPSMAwiunqiwswffK9lr1b9FEl9AxXA/BpsGLdPOJGCBy2LajKNPn0MuZrD7b+PXhx+8CTIhEG1gLmv8Aj7MAv/5/qbxNYDeMDYhbNUeyC22p6xLxtatOimPtYyFI9eVvAlwFNM9BjmnkVmk55GwKyKssNVrZm1v8A0oxeMef9MDFIbzmWutv1butuvfMUm6B0O0biKuy2uHramVF2PFItI/U+DSjOZl7bop+sn2zWByOTeLRFnuQYdX4lLAoictJCD7FDoq7fKIpJj4Gf74RtJU2KHstN6tLShF0veeIYWL+uqV+ju5lYSJJGLMKIWrUv41/7l8Xb6kTgsPlCn8Ly/SxWD/Ct5B4M7E4LmDYGpfBkgz1ozrW5sBcG1901k+euBfI+sKJx1Rz3JD8UEZFVGtAWCfY8qtwDKjIdUDdY5VGsKYW0xFf0LOPFX0YHENM/dDhSeYCWH9Q1Po9z8FzFacZqNQ2CMdMlaCCekbGvhbabnmAoU7ipxz/NSsPmV+PLwkJmGS7FfYYfltm/PzlzWwo59BkrgbHbdRezC27hmyi/sNkAr156COwVbwprpy8PPZr9DKmNf7UZat6h3HVmo28zePAA0wf123glNqMso1BU07b6yr3L3Ry+XuR0UnP+b8eTGcpeDr/M2i/K/C5+FqiMGjChl5luv5B+4NqKblxaOQdxYSgn/NYhN1RZNqBI7s+1MucPpGwO0X/2Xhzsrnd51q/Zo4Jwdr7h9HplDDdYWIRhjRwNOdGKYKkDvlGS2bUbzom71AfMgRLepUQRwWVYWwxp9yyZH7IIOu7Ab0TvHlyvLhyva6HGGcOO1807GdRj7heBDmL4Z4GFmK3LRWeAupkWyAcqrvpBVBxfQFY2upUmsYvpbyhN2PTkD2yxhEYFNx76h7DUwBUJXUtG3i/jWqN3gFvgllk9GdrbR5twFTuIHZ3j+MY5RFV8oenmjbmEkqwN/hi3xOvB1nhVhkhOO3h0AJ03KDtDEhJKQ0g9fzCP+IOYKj112pJyIbVsZ8Wwc9JDIdnFuvz997htpf5eE9TFxssIv/VLL5vn9fSk7ftDB7SgF0xXwDmEWncX5jSiBRzE32PzvfR0Ywp3V8uqpwzmnyhfzjvEVZ3570tzJqobk/mA5BgKXjXJrv/kKW51qRQQ32C2XxyR9h6ktzrbOoJBUkZeySG2+0wIUwaTyHbzf48IkfJNj4LyrN6UZR2CavcE2LYvyVi9PhVmgviPwhb9tJ0wE/VotCdLOd3McDh0AcBZAe5q5P4B5YIvYO5/y69JsamAuXLYalxD/WzlJTiuo43/vlzzaR+WTD/pxK0zY07syrWrgUi3ezNAUzuG2GxUxdspnQaCLLi/eyyBnp4Lmouc0VhTvyC+AfJwBkvVvpekTg5Z4vSWXfhP48AQ+qB3eEU9UNxbIyA66p2TBydUsBSvvqjAb6AKOfhNVfRnPEwth6B1ictH2FE88xyHGU/bTQXxrchpkrtBTA098JMeAzoShPRR20yl+v945WFZLaBLDJlTUf12Auc9gT93cxKPlAnyHC3bm8s8v50POpAt12Ozh16gwztZjEF62+XS4LYZwguxCt8LW+lTF2hkLvaYeewGshPHDhfiOJAkgu2LlmLxxZbsbrP24TWPovC35kN3caailSpBdxjL8cdIjiNX09nhU4naCRhiiAeTDnava7KqVyz4sI6U/DY5kNFGh3ZpnBYluhMf6fN3umQnCC/Odtu0NjRul1ZYY599FKbhEIt3ltmuisvhNl759OGgmwHNL8nkZ2XQ8q4UG8vLm4EKen1WQkKghXDEdFfEVwlbcWpLxjSTG9R5EpvGW1qLykbLUaZWPwSj/iJCb9Ac4bEzYDNaR6roWmhY44AcjMaaeox31/SD9CvnApos/bbSBuQtl9ZTl2aJHvqT+8K3yLajO9p0KMDRFWvTKvTHuoEu+2SmfymH+AP6IdxtcTfkIv5g7gQsB6FoAIhMGdyejXhh9kvGgsmdYSg2bJfU333enL2uYGcYtXIQ44DZp0DnVuLs3fcYJCV/ail9H1RusrEtRmcn9k0RQ+Db78+PcRX/4Gazba5kJMbOfF1Pv1zT81Nfn+Uxuv8O1O5gzrj2UfvTDN3Qi8NqVda2zMv8vPcwvNtpt4plM8Tn+oaVvhDJDNVzkaG8jQmqoMoeEwXmmyJ6N0fMW2NcY0ygNaOBmeyP2Z0YlfEqjYpgNg0DdwNfE76EKcbHke2G/o93Y/UhYEJ/8jKW76vU8Ejoq5QJXNOE+jKncwvv8g3d40W2w6RRtO9B1Z45HquYkkjIwG/bC3Bz2bXfMBeBuCwQsYBl0Jphjpw043FC6RWeE3rdAgL4IzmoEpGnuvT74AJIUlIuHFhbY+DS4OtlY6Tm7012LkBaeWKk6hh56NUwrQNqXjsuWAPZDuDwIq17d7bLCklquRwPNEdQ+5ClojRU/t1+LUAQwXko8vdvY2EnikwwFQsqQarAkY1ZXfgQVRZXt5Ehu7DXKuwaNmiM3Rne7vrTywJ9SnFLFtCAR5PiRd0SzeIGn14OjvY2zo48abBi9WPV1yrJqNWeAz4mKOa4214qiH7tjd+acChtExjeMX9DiVhXd5HP9hKa/vyfk8Ve7kFQXDlSlqppj9OGDY6yN7jQYr9gb+zwlyLhKr152rL9jIVXH68s672j9hf5maQCFzyTgJqN1FI/Tmi75y7qlIPGPUmdQlC9pzb0T9s1EdtlF5IKvH4pWOqjuaAlwicz6ML5DTDpyW3F/zAT9VBk9OGdM/J5qZ27god3WqCt9bVF8yxBiEIMa+qHv10='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4028, 'candidates_token_count': 30, 'total_token_count': 6382, 'cached_content_token_count': 5105, 'prompt_tokens_details': [{'modality': 1, 'token_count': 5572}], 'cache_tokens_details': [{'modality': 1, 'token_count': 5105}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 30}], 'thoughts_token_count': 2324}, 'finish_reason': 'STOP', 'avg_logprobs': -8.861174519856771, 'model_name': 'gemini-2.5-pro'} id='run--f207a012-4b38-41b1-b4d6-5ede12a41190-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'PYTHONPATH=tests python tests/runtests.py model_formsets.test_disallow_new_object_creation'}, 'id': 'ddfcc64c-0f6f-4133-b985-22c4efc93369', 'type': 'tool_call'}] usage_metadata={'input_tokens': 4028, 'output_tokens': 30, 'total_tokens': 6382, 'input_token_details': {'cache_read': 5105}, 'output_token_details': {'reasoning': 2324}}
2025-10-05 16:06:39,186 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: PYTHONPATH=tests python tests/runtests.py model_formsets.test_disallow_new_object_creation
2025-10-05 16:06:39,598 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 16:06:39,598 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
PYTHONPATH=tests python tests/ru
untests.py model_formsets.test_disallow_new_object_creation

Testing against Django installed in '/testbed/django' with up to 8 processes
Found 1 test(s).
Creating test database for alias 'default'...
System check identified no issues (1 silenced).
F
======================================================================
FAIL: test_modelformset_disallow_new_object_creation (model_formsets.test_disallow_new_object_creation.ModelFormsetTests)
A model formset can be configured to be "edit only" by using
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/model_formsets/test_disallow_new_object_creation.py", line 29, in test_modelformset_disallow_new_object_creation
    self.assertFalse(formset.is_valid())
AssertionError: True is not false

----------------------------------------------------------------------
Ran 1 test in 0.002s

FAILED (failures=1)
Destroying test database for alias 'default'...

2025-10-05 16:06:44,557 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='PYTHONPATH=tests python tests/runtests.py model_formsets.test_disallow_new_object_creation\n\nTesting against Django installed in \'/testbed/django\' with up to 8 processes\nFound 1 test(s).\nCreating test database for alias \'default\'...\nSystem check identified no issues (1 silenced).\nF\n======================================================================\nFAIL: test_modelformset_disallow_new_object_creation (model_formsets.test_disallow_new_object_creation.ModelFormsetTests)\nA model formset can be configured to be "edit only" by using\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/tests/model_formsets/test_disallow_new_object_creation.py", line 29, in test_modelformset_disallow_new_object_creation\n    self.assertFalse(formset.is_valid())\nAssertionError: True is not false\n\n----------------------------------------------------------------------\nRan 1 test in 0.002s\n\nFAILED (failures=1)\nDestroying test database for alias \'default\'...' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4316, 'candidates_token_count': 251, 'total_token_count': 5013, 'cached_content_token_count': 5362, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8182}], 'cache_tokens_details': [{'modality': 1, 'token_count': 5362}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 251}], 'thoughts_token_count': 446}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05650366824936582, 'model_name': 'gemini-2.5-pro'} id='run--df9c2307-6d6e-4ffa-8a96-a99e9353773a-0' usage_metadata={'input_tokens': 4316, 'output_tokens': 251, 'total_tokens': 5013, 'input_token_details': {'cache_read': 5362}, 'output_token_details': {'reasoning': 446}}
2025-10-05 16:06:56,812 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='FAIL: test_modelformset_disallow_new_object_creation (model_formsets.test_disallow_new_object_creation.ModelFormsetTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/tests/model_formsets/test_disallow_new_object_creation.py", line 29, in test_modelformset_disallow_new_object_creation\n    self.assertFalse(formset.is_valid())\nAssertionError: True is not false' reproduced_bug_commands=['PYTHONPATH=tests python tests/runtests.py model_formsets.test_disallow_new_object_creation']
2025-10-05 16:06:56,812 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-05 16:06:56,812 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-05 16:06:56,913 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
