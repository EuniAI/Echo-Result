2025-10-05 17:09:16,565 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpaqbnuvd5/sympy
2025-10-05 17:09:16,565 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-05 17:09:16,566 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.sympy_1776_sympy-15875:v1
2025-10-05 17:09:35,565 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_3728ebbb4b
2025-10-05 17:09:35,569 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_3728ebbb4b
2025-10-05 17:09:36,128 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-05 17:09:36,273 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-05 17:09:36,274 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-05 17:09:36,398 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:09:36,398 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 17:09:36,398 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-05 17:09:36,524 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:09:36,524 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 17:09:36,524 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-05 17:09:37,231 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:09:37,231 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Preparing metadata (setup.py) ... [?25l- done
[?25hRequirement already satisfied: mpmath>=0.19 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from sympy==1.4.dev0) (1.3.0)
Installing collected packages: sympy
  Attempting uninstall: sympy
    Found existing installation: sympy 1.4.dev0
    Uninstalling sympy-1.4.dev0:
      Successfully uninstalled sympy-1.4.dev0
[33m  DEPRECATION: Legacy editable install of sympy==1.4.dev0 from file:///testbed (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457[0m[33m
[0m  Running setup.py develop for sympy
Successfully installed sympy
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-05 17:09:37,275 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
is_zero is incorrect on complex integer

Issue description: 
`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:

```
>>> e = -2*I + (1 + I)**2
>>> e.is_zero
False
>>> simplify(e).is_zero
True
```

This is causing errors in determining the rank of a matrix. See issue #15872 
Fixing is_zero for complex numbers while Add
References to other Issues or PRs
#15873 

Other comments:

<!-- BEGIN RELEASE NOTES -->

- core
  - Fix `is_zero` becoming `False` on some expressions with `Add`.

<!-- END RELEASE NOTES -->


Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-05 17:09:37,276 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-05 17:09:37,276 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nis_zero is incorrect on complex integer\n\nIssue description: \n`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:\n\n```\n>>> e = -2*I + (1 + I)**2\n>>> e.is_zero\nFalse\n>>> simplify(e).is_zero\nTrue\n```\n\nThis is causing errors in determining the rank of a matrix. See issue #15872 \nFixing is_zero for complex numbers while Add\nReferences to other Issues or PRs\n#15873 \n\nOther comments:\n\n<!-- BEGIN RELEASE NOTES -->\n\n- core\n  - Fix `is_zero` becoming `False` on some expressions with `Add`.\n\n<!-- END RELEASE NOTES -->\n\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-05 17:10:37,640 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19911, 'total_token_count': 26555, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19911}], 'thoughts_token_count': 6644, 'candidates_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': [], 'candidates_tokens_details': []}, 'finish_reason': 'STOP', 'model_name': 'gemini-2.5-pro'} id='run--97ff59aa-3ad4-44c1-9cac-91252b1677b2-0' usage_metadata={'input_tokens': 19911, 'output_tokens': 0, 'total_tokens': 26555, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 6644}}
2025-10-05 17:10:37,641 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 17:10:37,641 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - No context available from tool messages, returning existing context
2025-10-05 17:10:37,641 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 17:10:37,641 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
â”œâ”€â”€ .ci
|   â”œâ”€â”€ generate_durations_log.sh
|   â””â”€â”€ parse_durations_log.py
â”œâ”€â”€ .travis.yml
â”œâ”€â”€ CODE_OF_CONDUCT.md
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
â”œâ”€â”€ README.rst
â”œâ”€â”€ azure-pipelines.yml
â”œâ”€â”€ bin
|   â”œâ”€â”€ ask_update.py
|   â”œâ”€â”€ authors_update.py
|   â”œâ”€â”€ coverage_doctest.py
|   â”œâ”€â”€ coverage_report.py
|   â”œâ”€â”€ generate_module_list.py
|   â”œâ”€â”€ generate_test_list.py
|   â”œâ”€â”€ get_sympy.py
|   â”œâ”€â”€ mailmap_update.py
|   â”œâ”€â”€ sympy_time.py
|   â”œâ”€â”€ sympy_time_cache.py
|   â”œâ”€â”€ test_executable.py
|   â”œâ”€â”€ test_external_imports.py
|   â”œâ”€â”€ test_import.py
|   â”œâ”€â”€ test_setup.py
|   â””â”€â”€ test_travis.sh
â”œâ”€â”€ conftest.py
â”œâ”€â”€ data
|   â””â”€â”€ TeXmacs
|       â”œâ”€â”€ bin
|       â””â”€â”€ progs
â”œâ”€â”€ doc
|   â”œâ”€â”€ README.rst
|   â”œâ”€â”€ api
|   |   â”œâ”€â”€ conf.py
|   |   â””â”€â”€ index.rst
|   â”œâ”€â”€ cheatsheet
|   â”œâ”€â”€ ext
|   |   â”œâ”€â”€ docscrape.py
|   |   â”œâ”€â”€ docscrape_sphinx.py
|   |   â”œâ”€â”€ numpydoc.py
|   |   â””â”€â”€ sympylive.py
|   â”œâ”€â”€ generate_logos.py
|   â”œâ”€â”€ man
|   â””â”€â”€ src
|       â”œâ”€â”€ _static
|       â”œâ”€â”€ _templates
|       â”œâ”€â”€ aboutus.rst
|       â”œâ”€â”€ citing.rst
|       â”œâ”€â”€ conf.py
|       â”œâ”€â”€ gotchas.rst
|       â”œâ”€â”€ guide.rst
|       â”œâ”€â”€ index.rst
|       â”œâ”€â”€ install.rst
|       â”œâ”€â”€ logo
|       |   â””â”€â”€ info.txt
|       â”œâ”€â”€ modules
|       |   â”œâ”€â”€ assumptions
|       |   |   â”œâ”€â”€ ask.rst
|       |   |   â”œâ”€â”€ assume.rst
|       |   |   â”œâ”€â”€ handlers
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â””â”€â”€ refine.rst
|       |   â”œâ”€â”€ calculus
|       |   |   â””â”€â”€ index.rst
|       |   â”œâ”€â”€ categories.rst
|       |   â”œâ”€â”€ codegen.rst
|       |   â”œâ”€â”€ combinatorics
|       |   |   â”œâ”€â”€ fp_groups.rst
|       |   |   â”œâ”€â”€ graycode.rst
|       |   |   â”œâ”€â”€ group_constructs.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ named_groups.rst
|       |   |   â”œâ”€â”€ partitions.rst
|       |   |   â”œâ”€â”€ perm_groups.rst
|       |   |   â”œâ”€â”€ permutations.rst
|       |   |   â”œâ”€â”€ polyhedron.rst
|       |   |   â”œâ”€â”€ prufer.rst
|       |   |   â”œâ”€â”€ subsets.rst
|       |   |   â”œâ”€â”€ tensor_can.rst
|       |   |   â”œâ”€â”€ testutil.rst
|       |   |   â””â”€â”€ util.rst
|       |   â”œâ”€â”€ concrete.rst
|       |   â”œâ”€â”€ core.rst
|       |   â”œâ”€â”€ crypto.rst
|       |   â”œâ”€â”€ diffgeom.rst
|       |   â”œâ”€â”€ discrete.rst
|       |   â”œâ”€â”€ evalf.rst
|       |   â”œâ”€â”€ functions
|       |   |   â”œâ”€â”€ combinatorial.rst
|       |   |   â”œâ”€â”€ elementary.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â””â”€â”€ special.rst
|       |   â”œâ”€â”€ geometry
|       |   |   â”œâ”€â”€ curves.rst
|       |   |   â”œâ”€â”€ ellipses.rst
|       |   |   â”œâ”€â”€ entities.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ lines.rst
|       |   |   â”œâ”€â”€ plane.rst
|       |   |   â”œâ”€â”€ points.rst
|       |   |   â”œâ”€â”€ polygons.rst
|       |   |   â””â”€â”€ utils.rst
|       |   â”œâ”€â”€ holonomic
|       |   |   â”œâ”€â”€ about.rst
|       |   |   â”œâ”€â”€ convert.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ operations.rst
|       |   |   â”œâ”€â”€ represent.rst
|       |   |   â””â”€â”€ uses.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ integrals
|       |   |   â”œâ”€â”€ g-functions.rst
|       |   |   â””â”€â”€ integrals.rst
|       |   â”œâ”€â”€ liealgebras
|       |   |   â””â”€â”€ index.rst
|       |   â”œâ”€â”€ logic.rst
|       |   â”œâ”€â”€ matrices
|       |   |   â”œâ”€â”€ common.rst
|       |   |   â”œâ”€â”€ dense.rst
|       |   |   â”œâ”€â”€ expressions.rst
|       |   |   â”œâ”€â”€ immutablematrices.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ matrices.rst
|       |   |   â””â”€â”€ sparse.rst
|       |   â”œâ”€â”€ ntheory.rst
|       |   â”œâ”€â”€ numeric-computation.rst
|       |   â”œâ”€â”€ parsing.rst
|       |   â”œâ”€â”€ physics
|       |   |   â”œâ”€â”€ continuum_mechanics
|       |   |   â”œâ”€â”€ hep
|       |   |   â”œâ”€â”€ hydrogen.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ matrices.rst
|       |   |   â”œâ”€â”€ mechanics
|       |   |   â”œâ”€â”€ optics
|       |   |   â”œâ”€â”€ paulialgebra.rst
|       |   |   â”œâ”€â”€ qho_1d.rst
|       |   |   â”œâ”€â”€ quantum
|       |   |   â”œâ”€â”€ secondquant.rst
|       |   |   â”œâ”€â”€ sho.rst
|       |   |   â”œâ”€â”€ units
|       |   |   â”œâ”€â”€ vector
|       |   |   â””â”€â”€ wigner.rst
|       |   â”œâ”€â”€ plotting.rst
|       |   â”œâ”€â”€ polys
|       |   |   â”œâ”€â”€ agca.rst
|       |   |   â”œâ”€â”€ basics.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ internals.rst
|       |   |   â”œâ”€â”€ literature.rst
|       |   |   â”œâ”€â”€ reference.rst
|       |   |   â”œâ”€â”€ ringseries.rst
|       |   |   â””â”€â”€ wester.rst
|       |   â”œâ”€â”€ printing.rst
|       |   â”œâ”€â”€ rewriting.rst
|       |   â”œâ”€â”€ series
|       |   |   â”œâ”€â”€ formal.rst
|       |   |   â”œâ”€â”€ fourier.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ limitseq.rst
|       |   |   â”œâ”€â”€ sequences.rst
|       |   |   â””â”€â”€ series.rst
|       |   â”œâ”€â”€ sets.rst
|       |   â”œâ”€â”€ simplify
|       |   |   â”œâ”€â”€ hyperexpand.rst
|       |   |   â””â”€â”€ simplify.rst
|       |   â”œâ”€â”€ solvers
|       |   |   â”œâ”€â”€ diophantine.rst
|       |   |   â”œâ”€â”€ inequalities.rst
|       |   |   â”œâ”€â”€ ode.rst
|       |   |   â”œâ”€â”€ pde.rst
|       |   |   â”œâ”€â”€ solvers.rst
|       |   |   â””â”€â”€ solveset.rst
|       |   â”œâ”€â”€ stats.rst
|       |   â”œâ”€â”€ tensor
|       |   |   â”œâ”€â”€ array.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ index_methods.rst
|       |   |   â”œâ”€â”€ indexed.rst
|       |   |   â””â”€â”€ tensor.rst
|       |   â”œâ”€â”€ utilities
|       |   |   â”œâ”€â”€ autowrap.rst
|       |   |   â”œâ”€â”€ codegen.rst
|       |   |   â”œâ”€â”€ decorator.rst
|       |   |   â”œâ”€â”€ enumerative.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ iterables.rst
|       |   |   â”œâ”€â”€ lambdify.rst
|       |   |   â”œâ”€â”€ memoization.rst
|       |   |   â”œâ”€â”€ misc.rst
|       |   |   â”œâ”€â”€ pkgdata.rst
|       |   |   â”œâ”€â”€ pytest.rst
|       |   |   â”œâ”€â”€ randtest.rst
|       |   |   â”œâ”€â”€ runtests.rst
|       |   |   â”œâ”€â”€ source.rst
|       |   |   â””â”€â”€ timeutils.rst
|       |   â””â”€â”€ vector
|       |       â”œâ”€â”€ api
|       |       â”œâ”€â”€ basics.rst
|       |       â”œâ”€â”€ coordsys.rst
|       |       â”œâ”€â”€ examples.rst
|       |       â”œâ”€â”€ fields.rst
|       |       â”œâ”€â”€ index.rst
|       |       â””â”€â”€ intro.rst
|       â”œâ”€â”€ outreach.rst
|       â”œâ”€â”€ pics
|       â”œâ”€â”€ python-comparisons.rst
|       â”œâ”€â”€ special_topics
|       |   â”œâ”€â”€ finite_diff_derivatives.rst
|       |   â”œâ”€â”€ index.rst
|       |   â””â”€â”€ intro.rst
|       â”œâ”€â”€ tutorial
|       |   â”œâ”€â”€ basic_operations.rst
|       |   â”œâ”€â”€ calculus.rst
|       |   â”œâ”€â”€ gotchas.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ intro.rst
|       |   â”œâ”€â”€ manipulation.rst
|       |   â”œâ”€â”€ matrices.rst
|       |   â”œâ”€â”€ preliminaries.rst
|       |   â”œâ”€â”€ printing.rst
|       |   â”œâ”€â”€ simplification.rst
|       |   â””â”€â”€ solvers.rst
|       â””â”€â”€ wiki.rst
â”œâ”€â”€ examples
|   â”œâ”€â”€ advanced
|   |   â”œâ”€â”€ autowrap_integrators.py
|   |   â”œâ”€â”€ autowrap_ufuncify.py
|   |   â”œâ”€â”€ curvilinear_coordinates.py
|   |   â”œâ”€â”€ dense_coding_example.py
|   |   â”œâ”€â”€ fem.py
|   |   â”œâ”€â”€ gibbs_phenomenon.py
|   |   â”œâ”€â”€ grover_example.py
|   |   â”œâ”€â”€ hydrogen.py
|   |   â”œâ”€â”€ pidigits.py
|   |   â”œâ”€â”€ pyglet_plotting.py
|   |   â”œâ”€â”€ qft.py
|   |   â””â”€â”€ relativity.py
|   â”œâ”€â”€ all.py
|   â”œâ”€â”€ beginner
|   |   â”œâ”€â”€ basic.py
|   |   â”œâ”€â”€ differentiation.py
|   |   â”œâ”€â”€ expansion.py
|   |   â”œâ”€â”€ functions.py
|   |   â”œâ”€â”€ limits_examples.py
|   |   â”œâ”€â”€ plot_examples.py
|   |   â”œâ”€â”€ plotting_nice_plot.py
|   |   â”œâ”€â”€ precision.py
|   |   â”œâ”€â”€ print_pretty.py
|   |   â”œâ”€â”€ series.py
|   |   â””â”€â”€ substitution.py
|   â”œâ”€â”€ intermediate
|   |   â”œâ”€â”€ coupled_cluster.py
|   |   â”œâ”€â”€ differential_equations.py
|   |   â”œâ”€â”€ infinite_1d_box.py
|   |   â”œâ”€â”€ mplot2d.py
|   |   â”œâ”€â”€ mplot3d.py
|   |   â”œâ”€â”€ partial_differential_eqs.py
|   |   â”œâ”€â”€ print_gtk.py
|   |   â”œâ”€â”€ sample.py
|   |   â”œâ”€â”€ trees.py
|   |   â””â”€â”€ vandermonde.py
|   â””â”€â”€ notebooks
|       â””â”€â”€ README.txt
â”œâ”€â”€ isympy.py
â”œâ”€â”€ release
|   â”œâ”€â”€ README.md
|   â”œâ”€â”€ fabfile.py
|   â”œâ”€â”€ pull_and_run_rever.sh
|   â””â”€â”€ release.sh
â”œâ”€â”€ setup.py
â”œâ”€â”€ setupegg.py
â””â”€â”€ sympy
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ abc.py
    â”œâ”€â”€ algebras
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ quaternion.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_quaternion.py
    â”œâ”€â”€ assumptions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ask.py
    |   â”œâ”€â”€ ask_generated.py
    |   â”œâ”€â”€ assume.py
    |   â”œâ”€â”€ handlers
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ calculus.py
    |   |   â”œâ”€â”€ common.py
    |   |   â”œâ”€â”€ matrices.py
    |   |   â”œâ”€â”€ ntheory.py
    |   |   â”œâ”€â”€ order.py
    |   |   â””â”€â”€ sets.py
    |   â”œâ”€â”€ refine.py
    |   â”œâ”€â”€ satask.py
    |   â”œâ”€â”€ sathandlers.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_assumptions_2.py
    |       â”œâ”€â”€ test_context.py
    |       â”œâ”€â”€ test_matrices.py
    |       â”œâ”€â”€ test_query.py
    |       â”œâ”€â”€ test_refine.py
    |       â”œâ”€â”€ test_satask.py
    |       â””â”€â”€ test_sathandlers.py
    â”œâ”€â”€ benchmarks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ bench_discrete_log.py
    |   â”œâ”€â”€ bench_meijerint.py
    |   â””â”€â”€ bench_symbench.py
    â”œâ”€â”€ calculus
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ euler.py
    |   â”œâ”€â”€ finite_diff.py
    |   â”œâ”€â”€ singularities.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_euler.py
    |   |   â”œâ”€â”€ test_finite_diff.py
    |   |   â”œâ”€â”€ test_singularities.py
    |   |   â””â”€â”€ test_util.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ categories
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ baseclasses.py
    |   â”œâ”€â”€ diagram_drawing.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_baseclasses.py
    |       â””â”€â”€ test_drawing.py
    â”œâ”€â”€ codegen
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ algorithms.py
    |   â”œâ”€â”€ approximations.py
    |   â”œâ”€â”€ array_utils.py
    |   â”œâ”€â”€ ast.py
    |   â”œâ”€â”€ cfunctions.py
    |   â”œâ”€â”€ cnodes.py
    |   â”œâ”€â”€ cutils.py
    |   â”œâ”€â”€ cxxnodes.py
    |   â”œâ”€â”€ fnodes.py
    |   â”œâ”€â”€ futils.py
    |   â”œâ”€â”€ pyutils.py
    |   â”œâ”€â”€ rewriting.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_algorithms.py
    |       â”œâ”€â”€ test_applications.py
    |       â”œâ”€â”€ test_approximations.py
    |       â”œâ”€â”€ test_array_utils.py
    |       â”œâ”€â”€ test_ast.py
    |       â”œâ”€â”€ test_cfunctions.py
    |       â”œâ”€â”€ test_cnodes.py
    |       â”œâ”€â”€ test_cxxnodes.py
    |       â”œâ”€â”€ test_fnodes.py
    |       â””â”€â”€ test_rewriting.py
    â”œâ”€â”€ combinatorics
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ coset_table.py
    |   â”œâ”€â”€ fp_groups.py
    |   â”œâ”€â”€ free_groups.py
    |   â”œâ”€â”€ generators.py
    |   â”œâ”€â”€ graycode.py
    |   â”œâ”€â”€ group_constructs.py
    |   â”œâ”€â”€ homomorphisms.py
    |   â”œâ”€â”€ named_groups.py
    |   â”œâ”€â”€ partitions.py
    |   â”œâ”€â”€ perm_groups.py
    |   â”œâ”€â”€ permutations.py
    |   â”œâ”€â”€ polyhedron.py
    |   â”œâ”€â”€ prufer.py
    |   â”œâ”€â”€ rewritingsystem.py
    |   â”œâ”€â”€ rewritingsystem_fsm.py
    |   â”œâ”€â”€ subsets.py
    |   â”œâ”€â”€ tensor_can.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_coset_table.py
    |   |   â”œâ”€â”€ test_fp_groups.py
    |   |   â”œâ”€â”€ test_free_groups.py
    |   |   â”œâ”€â”€ test_generators.py
    |   |   â”œâ”€â”€ test_graycode.py
    |   |   â”œâ”€â”€ test_group_constructs.py
    |   |   â”œâ”€â”€ test_homomorphisms.py
    |   |   â”œâ”€â”€ test_named_groups.py
    |   |   â”œâ”€â”€ test_partitions.py
    |   |   â”œâ”€â”€ test_perm_groups.py
    |   |   â”œâ”€â”€ test_permutations.py
    |   |   â”œâ”€â”€ test_polyhedron.py
    |   |   â”œâ”€â”€ test_prufer.py
    |   |   â”œâ”€â”€ test_rewriting.py
    |   |   â”œâ”€â”€ test_subsets.py
    |   |   â”œâ”€â”€ test_tensor_can.py
    |   |   â”œâ”€â”€ test_testutil.py
    |   |   â””â”€â”€ test_util.py
    |   â”œâ”€â”€ testutil.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ concrete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ delta.py
    |   â”œâ”€â”€ expr_with_intlimits.py
    |   â”œâ”€â”€ expr_with_limits.py
    |   â”œâ”€â”€ gosper.py
    |   â”œâ”€â”€ guess.py
    |   â”œâ”€â”€ products.py
    |   â”œâ”€â”€ summations.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_delta.py
    |       â”œâ”€â”€ test_gosper.py
    |       â”œâ”€â”€ test_guess.py
    |       â”œâ”€â”€ test_products.py
    |       â””â”€â”€ test_sums_products.py
    â”œâ”€â”€ conftest.py
    â”œâ”€â”€ core
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ add.py
    |   â”œâ”€â”€ alphabets.py
    |   â”œâ”€â”€ assumptions.py
    |   â”œâ”€â”€ backend.py
    |   â”œâ”€â”€ basic.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_arit.py
    |   |   â”œâ”€â”€ bench_assumptions.py
    |   |   â”œâ”€â”€ bench_basic.py
    |   |   â”œâ”€â”€ bench_expand.py
    |   |   â”œâ”€â”€ bench_numbers.py
    |   |   â””â”€â”€ bench_sympify.py
    |   â”œâ”€â”€ cache.py
    |   â”œâ”€â”€ compatibility.py
    |   â”œâ”€â”€ containers.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ coreerrors.py
    |   â”œâ”€â”€ decorators.py
    |   â”œâ”€â”€ evalf.py
    |   â”œâ”€â”€ evaluate.py
    |   â”œâ”€â”€ expr.py
    |   â”œâ”€â”€ exprtools.py
    |   â”œâ”€â”€ facts.py
    |   â”œâ”€â”€ function.py
    |   â”œâ”€â”€ logic.py
    |   â”œâ”€â”€ mod.py
    |   â”œâ”€â”€ mul.py
    |   â”œâ”€â”€ multidimensional.py
    |   â”œâ”€â”€ numbers.py
    |   â”œâ”€â”€ operations.py
    |   â”œâ”€â”€ power.py
    |   â”œâ”€â”€ relational.py
    |   â”œâ”€â”€ rules.py
    |   â”œâ”€â”€ singleton.py
    |   â”œâ”€â”€ symbol.py
    |   â”œâ”€â”€ sympify.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_args.py
    |   |   â”œâ”€â”€ test_arit.py
    |   |   â”œâ”€â”€ test_assumptions.py
    |   |   â”œâ”€â”€ test_basic.py
    |   |   â”œâ”€â”€ test_cache.py
    |   |   â”œâ”€â”€ test_compatibility.py
    |   |   â”œâ”€â”€ test_complex.py
    |   |   â”œâ”€â”€ test_constructor_postprocessor.py
    |   |   â”œâ”€â”€ test_containers.py
    |   |   â”œâ”€â”€ test_count_ops.py
    |   |   â”œâ”€â”€ test_diff.py
    |   |   â”œâ”€â”€ test_equal.py
    |   |   â”œâ”€â”€ test_eval.py
    |   |   â”œâ”€â”€ test_evalf.py
    |   |   â”œâ”€â”€ test_evaluate.py
    |   |   â”œâ”€â”€ test_expand.py
    |   |   â”œâ”€â”€ test_expr.py
    |   |   â”œâ”€â”€ test_exprtools.py
    |   |   â”œâ”€â”€ test_facts.py
    |   |   â”œâ”€â”€ test_function.py
    |   |   â”œâ”€â”€ test_logic.py
    |   |   â”œâ”€â”€ test_match.py
    |   |   â”œâ”€â”€ test_noncommutative.py
    |   |   â”œâ”€â”€ test_numbers.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_power.py
    |   |   â”œâ”€â”€ test_priority.py
    |   |   â”œâ”€â”€ test_relational.py
    |   |   â”œâ”€â”€ test_rules.py
    |   |   â”œâ”€â”€ test_singleton.py
    |   |   â”œâ”€â”€ test_subs.py
    |   |   â”œâ”€â”€ test_symbol.py
    |   |   â”œâ”€â”€ test_sympify.py
    |   |   â”œâ”€â”€ test_trace.py
    |   |   â”œâ”€â”€ test_truediv.py
    |   |   â””â”€â”€ test_var.py
    |   â””â”€â”€ trace.py
    â”œâ”€â”€ crypto
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ crypto.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_crypto.py
    â”œâ”€â”€ deprecated
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ class_registry.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_class_registry.py
    â”œâ”€â”€ diffgeom
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ diffgeom.py
    |   â”œâ”€â”€ rn.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_class_structure.py
    |       â”œâ”€â”€ test_diffgeom.py
    |       â”œâ”€â”€ test_function_diffgeom_book.py
    |       â””â”€â”€ test_hyperbolic_space.py
    â”œâ”€â”€ discrete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ convolutions.py
    |   â”œâ”€â”€ recurrences.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_convolutions.py
    |   |   â”œâ”€â”€ test_recurrences.py
    |   |   â””â”€â”€ test_transforms.py
    |   â””â”€â”€ transforms.py
    â”œâ”€â”€ external
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ importtools.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_autowrap.py
    |       â”œâ”€â”€ test_codegen.py
    |       â”œâ”€â”€ test_importtools.py
    |       â”œâ”€â”€ test_numpy.py
    |       â”œâ”€â”€ test_sage.py
    |       â””â”€â”€ test_scipy.py
    â”œâ”€â”€ functions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ combinatorial
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ factorials.py
    |   |   â”œâ”€â”€ numbers.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_comb_factorials.py
    |   |       â””â”€â”€ test_comb_numbers.py
    |   â”œâ”€â”€ elementary
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ benchmarks
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ bench_exp.py
    |   |   â”œâ”€â”€ complexes.py
    |   |   â”œâ”€â”€ exponential.py
    |   |   â”œâ”€â”€ hyperbolic.py
    |   |   â”œâ”€â”€ integers.py
    |   |   â”œâ”€â”€ miscellaneous.py
    |   |   â”œâ”€â”€ piecewise.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_complexes.py
    |   |   |   â”œâ”€â”€ test_exponential.py
    |   |   |   â”œâ”€â”€ test_hyperbolic.py
    |   |   |   â”œâ”€â”€ test_integers.py
    |   |   |   â”œâ”€â”€ test_interface.py
    |   |   |   â”œâ”€â”€ test_miscellaneous.py
    |   |   |   â”œâ”€â”€ test_piecewise.py
    |   |   |   â””â”€â”€ test_trigonometric.py
    |   |   â””â”€â”€ trigonometric.py
    |   â””â”€â”€ special
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ benchmarks
    |       |   â”œâ”€â”€ __init__.py
    |       |   â””â”€â”€ bench_special.py
    |       â”œâ”€â”€ bessel.py
    |       â”œâ”€â”€ beta_functions.py
    |       â”œâ”€â”€ bsplines.py
    |       â”œâ”€â”€ delta_functions.py
    |       â”œâ”€â”€ elliptic_integrals.py
    |       â”œâ”€â”€ error_functions.py
    |       â”œâ”€â”€ gamma_functions.py
    |       â”œâ”€â”€ hyper.py
    |       â”œâ”€â”€ mathieu_functions.py
    |       â”œâ”€â”€ polynomials.py
    |       â”œâ”€â”€ singularity_functions.py
    |       â”œâ”€â”€ spherical_harmonics.py
    |       â”œâ”€â”€ tensor_functions.py
    |       â”œâ”€â”€ tests
    |       |   â”œâ”€â”€ __init__.py
    |       |   â”œâ”€â”€ test_bessel.py
    |       |   â”œâ”€â”€ test_beta_functions.py
    |       |   â”œâ”€â”€ test_bsplines.py
    |       |   â”œâ”€â”€ test_delta_functions.py
    |       |   â”œâ”€â”€ test_elliptic_integrals.py
    |       |   â”œâ”€â”€ test_error_functions.py
    |       |   â”œâ”€â”€ test_gamma_functions.py
    |       |   â”œâ”€â”€ test_hyper.py
    |       |   â”œâ”€â”€ test_mathieu.py
    |       |   â”œâ”€â”€ test_singularity_functions.py
    |       |   â”œâ”€â”€ test_spec_polynomials.py
    |       |   â”œâ”€â”€ test_spherical_harmonics.py
    |       |   â”œâ”€â”€ test_tensor_functions.py
    |       |   â””â”€â”€ test_zeta_functions.py
    |       â””â”€â”€ zeta_functions.py
    â”œâ”€â”€ galgebra.py
    â”œâ”€â”€ geometry
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ curve.py
    |   â”œâ”€â”€ ellipse.py
    |   â”œâ”€â”€ entity.py
    |   â”œâ”€â”€ exceptions.py
    |   â”œâ”€â”€ line.py
    |   â”œâ”€â”€ parabola.py
    |   â”œâ”€â”€ plane.py
    |   â”œâ”€â”€ point.py
    |   â”œâ”€â”€ polygon.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_curve.py
    |   |   â”œâ”€â”€ test_ellipse.py
    |   |   â”œâ”€â”€ test_entity.py
    |   |   â”œâ”€â”€ test_geometrysets.py
    |   |   â”œâ”€â”€ test_line.py
    |   |   â”œâ”€â”€ test_parabola.py
    |   |   â”œâ”€â”€ test_plane.py
    |   |   â”œâ”€â”€ test_point.py
    |   |   â”œâ”€â”€ test_polygon.py
    |   |   â””â”€â”€ test_util.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ holonomic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ holonomic.py
    |   â”œâ”€â”€ holonomicerrors.py
    |   â”œâ”€â”€ linearsolver.py
    |   â”œâ”€â”€ numerical.py
    |   â”œâ”€â”€ recurrence.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_holonomic.py
    |       â””â”€â”€ test_recurrence.py
    â”œâ”€â”€ integrals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_integrate.py
    |   |   â””â”€â”€ bench_trigintegrate.py
    |   â”œâ”€â”€ deltafunctions.py
    |   â”œâ”€â”€ heurisch.py
    |   â”œâ”€â”€ integrals.py
    |   â”œâ”€â”€ intpoly.py
    |   â”œâ”€â”€ manualintegrate.py
    |   â”œâ”€â”€ meijerint.py
    |   â”œâ”€â”€ meijerint_doc.py
    |   â”œâ”€â”€ prde.py
    |   â”œâ”€â”€ quadrature.py
    |   â”œâ”€â”€ rationaltools.py
    |   â”œâ”€â”€ rde.py
    |   â”œâ”€â”€ risch.py
    |   â”œâ”€â”€ rubi
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ constraints.py
    |   |   â”œâ”€â”€ parsetools
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ generate_rules.py
    |   |   |   â”œâ”€â”€ generate_tests.py
    |   |   |   â”œâ”€â”€ header.py.txt
    |   |   |   â”œâ”€â”€ parse.py
    |   |   |   â””â”€â”€ tests
    |   |   â”œâ”€â”€ rubi.py
    |   |   â”œâ”€â”€ rubi_tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ tests
    |   |   â”œâ”€â”€ rules
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ binomial_products.py
    |   |   |   â”œâ”€â”€ exponential.py
    |   |   |   â”œâ”€â”€ hyperbolic.py
    |   |   |   â”œâ”€â”€ integrand_simplification.py
    |   |   |   â”œâ”€â”€ inverse_hyperbolic.py
    |   |   |   â”œâ”€â”€ inverse_trig.py
    |   |   |   â”œâ”€â”€ linear_products.py
    |   |   |   â”œâ”€â”€ logarithms.py
    |   |   |   â”œâ”€â”€ miscellaneous_algebraic.py
    |   |   |   â”œâ”€â”€ miscellaneous_integration.py
    |   |   |   â”œâ”€â”€ miscellaneous_trig.py
    |   |   |   â”œâ”€â”€ piecewise_linear.py
    |   |   |   â”œâ”€â”€ quadratic_products.py
    |   |   |   â”œâ”€â”€ secant.py
    |   |   |   â”œâ”€â”€ sine.py
    |   |   |   â”œâ”€â”€ special_functions.py
    |   |   |   â”œâ”€â”€ tangent.py
    |   |   |   â””â”€â”€ trinomial_products.py
    |   |   â”œâ”€â”€ symbol.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_rubi_integrate.py
    |   |   |   â””â”€â”€ test_utility_function.py
    |   |   â””â”€â”€ utility_function.py
    |   â”œâ”€â”€ singularityfunctions.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_deltafunctions.py
    |   |   â”œâ”€â”€ test_failing_integrals.py
    |   |   â”œâ”€â”€ test_heurisch.py
    |   |   â”œâ”€â”€ test_integrals.py
    |   |   â”œâ”€â”€ test_intpoly.py
    |   |   â”œâ”€â”€ test_lineintegrals.py
    |   |   â”œâ”€â”€ test_manual.py
    |   |   â”œâ”€â”€ test_meijerint.py
    |   |   â”œâ”€â”€ test_prde.py
    |   |   â”œâ”€â”€ test_quadrature.py
    |   |   â”œâ”€â”€ test_rationaltools.py
    |   |   â”œâ”€â”€ test_rde.py
    |   |   â”œâ”€â”€ test_risch.py
    |   |   â”œâ”€â”€ test_singularityfunctions.py
    |   |   â”œâ”€â”€ test_transforms.py
    |   |   â””â”€â”€ test_trigonometry.py
    |   â”œâ”€â”€ transforms.py
    |   â””â”€â”€ trigonometry.py
    â”œâ”€â”€ interactive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ipythonprinting.py
    |   â”œâ”€â”€ printing.py
    |   â”œâ”€â”€ session.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_interactive.py
    |       â”œâ”€â”€ test_ipython.py
    |       â””â”€â”€ test_ipythonprinting.py
    â”œâ”€â”€ liealgebras
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ cartan_matrix.py
    |   â”œâ”€â”€ cartan_type.py
    |   â”œâ”€â”€ dynkin_diagram.py
    |   â”œâ”€â”€ root_system.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_cartan_matrix.py
    |   |   â”œâ”€â”€ test_cartan_type.py
    |   |   â”œâ”€â”€ test_dynkin_diagram.py
    |   |   â”œâ”€â”€ test_root_system.py
    |   |   â”œâ”€â”€ test_type_A.py
    |   |   â”œâ”€â”€ test_type_B.py
    |   |   â”œâ”€â”€ test_type_C.py
    |   |   â”œâ”€â”€ test_type_D.py
    |   |   â”œâ”€â”€ test_type_E.py
    |   |   â”œâ”€â”€ test_type_F.py
    |   |   â”œâ”€â”€ test_type_G.py
    |   |   â””â”€â”€ test_weyl_group.py
    |   â”œâ”€â”€ type_a.py
    |   â”œâ”€â”€ type_b.py
    |   â”œâ”€â”€ type_c.py
    |   â”œâ”€â”€ type_d.py
    |   â”œâ”€â”€ type_e.py
    |   â”œâ”€â”€ type_f.py
    |   â”œâ”€â”€ type_g.py
    |   â””â”€â”€ weyl_group.py
    â”œâ”€â”€ logic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ algorithms
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ dpll.py
    |   |   â””â”€â”€ dpll2.py
    |   â”œâ”€â”€ boolalg.py
    |   â”œâ”€â”€ inference.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_boolalg.py
    |   |   â”œâ”€â”€ test_dimacs.py
    |   |   â””â”€â”€ test_inference.py
    |   â””â”€â”€ utilities
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ dimacs.py
    â”œâ”€â”€ matrices
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ bench_matrix.py
    |   â”œâ”€â”€ common.py
    |   â”œâ”€â”€ dense.py
    |   â”œâ”€â”€ densearith.py
    |   â”œâ”€â”€ densesolve.py
    |   â”œâ”€â”€ densetools.py
    |   â”œâ”€â”€ expressions
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ adjoint.py
    |   |   â”œâ”€â”€ applyfunc.py
    |   |   â”œâ”€â”€ blockmatrix.py
    |   |   â”œâ”€â”€ determinant.py
    |   |   â”œâ”€â”€ diagonal.py
    |   |   â”œâ”€â”€ dotproduct.py
    |   |   â”œâ”€â”€ factorizations.py
    |   |   â”œâ”€â”€ fourier.py
    |   |   â”œâ”€â”€ funcmatrix.py
    |   |   â”œâ”€â”€ hadamard.py
    |   |   â”œâ”€â”€ inverse.py
    |   |   â”œâ”€â”€ kronecker.py
    |   |   â”œâ”€â”€ matadd.py
    |   |   â”œâ”€â”€ matexpr.py
    |   |   â”œâ”€â”€ matmul.py
    |   |   â”œâ”€â”€ matpow.py
    |   |   â”œâ”€â”€ slice.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_adjoint.py
    |   |   |   â”œâ”€â”€ test_applyfunc.py
    |   |   |   â”œâ”€â”€ test_blockmatrix.py
    |   |   |   â”œâ”€â”€ test_derivatives.py
    |   |   |   â”œâ”€â”€ test_determinant.py
    |   |   |   â”œâ”€â”€ test_diagonal.py
    |   |   |   â”œâ”€â”€ test_dotproduct.py
    |   |   |   â”œâ”€â”€ test_factorizations.py
    |   |   |   â”œâ”€â”€ test_fourier.py
    |   |   |   â”œâ”€â”€ test_funcmatrix.py
    |   |   |   â”œâ”€â”€ test_hadamard.py
    |   |   |   â”œâ”€â”€ test_indexing.py
    |   |   |   â”œâ”€â”€ test_inverse.py
    |   |   |   â”œâ”€â”€ test_kronecker.py
    |   |   |   â”œâ”€â”€ test_matadd.py
    |   |   |   â”œâ”€â”€ test_matexpr.py
    |   |   |   â”œâ”€â”€ test_matmul.py
    |   |   |   â”œâ”€â”€ test_matpow.py
    |   |   |   â”œâ”€â”€ test_slice.py
    |   |   |   â”œâ”€â”€ test_trace.py
    |   |   |   â””â”€â”€ test_transpose.py
    |   |   â”œâ”€â”€ trace.py
    |   |   â””â”€â”€ transpose.py
    |   â”œâ”€â”€ immutable.py
    |   â”œâ”€â”€ matrices.py
    |   â”œâ”€â”€ normalforms.py
    |   â”œâ”€â”€ sparse.py
    |   â”œâ”€â”€ sparsetools.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_commonmatrix.py
    |       â”œâ”€â”€ test_densearith.py
    |       â”œâ”€â”€ test_densesolve.py
    |       â”œâ”€â”€ test_densetools.py
    |       â”œâ”€â”€ test_immutable.py
    |       â”œâ”€â”€ test_interactions.py
    |       â”œâ”€â”€ test_matrices.py
    |       â”œâ”€â”€ test_normalforms.py
    |       â”œâ”€â”€ test_sparse.py
    |       â””â”€â”€ test_sparsetools.py
    â”œâ”€â”€ multipledispatch
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ conflict.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ dispatcher.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_conflict.py
    |   |   â”œâ”€â”€ test_core.py
    |   |   â””â”€â”€ test_dispatcher.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ ntheory
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ bbp_pi.py
    |   â”œâ”€â”€ continued_fraction.py
    |   â”œâ”€â”€ egyptian_fraction.py
    |   â”œâ”€â”€ factor_.py
    |   â”œâ”€â”€ generate.py
    |   â”œâ”€â”€ modular.py
    |   â”œâ”€â”€ multinomial.py
    |   â”œâ”€â”€ partitions_.py
    |   â”œâ”€â”€ primetest.py
    |   â”œâ”€â”€ residue_ntheory.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_bbp_pi.py
    |       â”œâ”€â”€ test_continued_fraction.py
    |       â”œâ”€â”€ test_egyptian_fraction.py
    |       â”œâ”€â”€ test_factor_.py
    |       â”œâ”€â”€ test_generate.py
    |       â”œâ”€â”€ test_modular.py
    |       â”œâ”€â”€ test_multinomial.py
    |       â”œâ”€â”€ test_partitions.py
    |       â”œâ”€â”€ test_primetest.py
    |       â””â”€â”€ test_residue.py
    â”œâ”€â”€ parsing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ast_parser.py
    |   â”œâ”€â”€ autolev
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _antlr
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ autolevlexer.py
    |   |   |   â”œâ”€â”€ autolevlistener.py
    |   |   |   â””â”€â”€ autolevparser.py
    |   |   â”œâ”€â”€ _listener_autolev_antlr.py
    |   |   â”œâ”€â”€ _parse_autolev_antlr.py
    |   |   â””â”€â”€ test-examples
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ pydy-example-repo
    |   |       â”œâ”€â”€ ruletest1.py
    |   |       â”œâ”€â”€ ruletest10.py
    |   |       â”œâ”€â”€ ruletest11.py
    |   |       â”œâ”€â”€ ruletest12.py
    |   |       â”œâ”€â”€ ruletest2.py
    |   |       â”œâ”€â”€ ruletest3.py
    |   |       â”œâ”€â”€ ruletest4.py
    |   |       â”œâ”€â”€ ruletest5.py
    |   |       â”œâ”€â”€ ruletest6.py
    |   |       â”œâ”€â”€ ruletest7.py
    |   |       â”œâ”€â”€ ruletest8.py
    |   |       â””â”€â”€ ruletest9.py
    |   â”œâ”€â”€ latex
    |   |   â”œâ”€â”€ LICENSE.txt
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _antlr
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ latexlexer.py
    |   |   |   â””â”€â”€ latexparser.py
    |   |   â”œâ”€â”€ _build_latex_antlr.py
    |   |   â”œâ”€â”€ _parse_latex_antlr.py
    |   |   â””â”€â”€ errors.py
    |   â”œâ”€â”€ mathematica.py
    |   â”œâ”€â”€ maxima.py
    |   â”œâ”€â”€ sympy_parser.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_autolev.py
    |       â”œâ”€â”€ test_implicit_multiplication_application.py
    |       â”œâ”€â”€ test_latex.py
    |       â”œâ”€â”€ test_latex_deps.py
    |       â”œâ”€â”€ test_mathematica.py
    |       â”œâ”€â”€ test_maxima.py
    |       â””â”€â”€ test_sympy_parser.py
    â”œâ”€â”€ physics
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ continuum_mechanics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ beam.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_beam.py
    |   â”œâ”€â”€ gaussopt.py
    |   â”œâ”€â”€ hep
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ gamma_matrices.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_gamma_matrices.py
    |   â”œâ”€â”€ hydrogen.py
    |   â”œâ”€â”€ matrices.py
    |   â”œâ”€â”€ mechanics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ body.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ kane.py
    |   |   â”œâ”€â”€ lagrange.py
    |   |   â”œâ”€â”€ linearize.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ particle.py
    |   |   â”œâ”€â”€ rigidbody.py
    |   |   â”œâ”€â”€ system.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_body.py
    |   |       â”œâ”€â”€ test_functions.py
    |   |       â”œâ”€â”€ test_kane.py
    |   |       â”œâ”€â”€ test_kane2.py
    |   |       â”œâ”€â”€ test_kane3.py
    |   |       â”œâ”€â”€ test_lagrange.py
    |   |       â”œâ”€â”€ test_lagrange2.py
    |   |       â”œâ”€â”€ test_linearize.py
    |   |       â”œâ”€â”€ test_models.py
    |   |       â”œâ”€â”€ test_particle.py
    |   |       â”œâ”€â”€ test_rigidbody.py
    |   |       â””â”€â”€ test_system.py
    |   â”œâ”€â”€ optics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ gaussopt.py
    |   |   â”œâ”€â”€ medium.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_gaussopt.py
    |   |   |   â”œâ”€â”€ test_medium.py
    |   |   |   â”œâ”€â”€ test_utils.py
    |   |   |   â””â”€â”€ test_waves.py
    |   |   â”œâ”€â”€ utils.py
    |   |   â””â”€â”€ waves.py
    |   â”œâ”€â”€ paulialgebra.py
    |   â”œâ”€â”€ pring.py
    |   â”œâ”€â”€ qho_1d.py
    |   â”œâ”€â”€ quantum
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ anticommutator.py
    |   |   â”œâ”€â”€ boson.py
    |   |   â”œâ”€â”€ cartesian.py
    |   |   â”œâ”€â”€ cg.py
    |   |   â”œâ”€â”€ circuitplot.py
    |   |   â”œâ”€â”€ circuitutils.py
    |   |   â”œâ”€â”€ commutator.py
    |   |   â”œâ”€â”€ constants.py
    |   |   â”œâ”€â”€ dagger.py
    |   |   â”œâ”€â”€ density.py
    |   |   â”œâ”€â”€ fermion.py
    |   |   â”œâ”€â”€ gate.py
    |   |   â”œâ”€â”€ grover.py
    |   |   â”œâ”€â”€ hilbert.py
    |   |   â”œâ”€â”€ identitysearch.py
    |   |   â”œâ”€â”€ innerproduct.py
    |   |   â”œâ”€â”€ matrixcache.py
    |   |   â”œâ”€â”€ matrixutils.py
    |   |   â”œâ”€â”€ operator.py
    |   |   â”œâ”€â”€ operatorordering.py
    |   |   â”œâ”€â”€ operatorset.py
    |   |   â”œâ”€â”€ pauli.py
    |   |   â”œâ”€â”€ piab.py
    |   |   â”œâ”€â”€ qapply.py
    |   |   â”œâ”€â”€ qasm.py
    |   |   â”œâ”€â”€ qexpr.py
    |   |   â”œâ”€â”€ qft.py
    |   |   â”œâ”€â”€ qubit.py
    |   |   â”œâ”€â”€ represent.py
    |   |   â”œâ”€â”€ sho1d.py
    |   |   â”œâ”€â”€ shor.py
    |   |   â”œâ”€â”€ spin.py
    |   |   â”œâ”€â”€ state.py
    |   |   â”œâ”€â”€ tensorproduct.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_anticommutator.py
    |   |       â”œâ”€â”€ test_boson.py
    |   |       â”œâ”€â”€ test_cartesian.py
    |   |       â”œâ”€â”€ test_cg.py
    |   |       â”œâ”€â”€ test_circuitplot.py
    |   |       â”œâ”€â”€ test_circuitutils.py
    |   |       â”œâ”€â”€ test_commutator.py
    |   |       â”œâ”€â”€ test_constants.py
    |   |       â”œâ”€â”€ test_dagger.py
    |   |       â”œâ”€â”€ test_density.py
    |   |       â”œâ”€â”€ test_fermion.py
    |   |       â”œâ”€â”€ test_gate.py
    |   |       â”œâ”€â”€ test_grover.py
    |   |       â”œâ”€â”€ test_hilbert.py
    |   |       â”œâ”€â”€ test_identitysearch.py
    |   |       â”œâ”€â”€ test_innerproduct.py
    |   |       â”œâ”€â”€ test_matrixutils.py
    |   |       â”œâ”€â”€ test_operator.py
    |   |       â”œâ”€â”€ test_operatorordering.py
    |   |       â”œâ”€â”€ test_operatorset.py
    |   |       â”œâ”€â”€ test_pauli.py
    |   |       â”œâ”€â”€ test_piab.py
    |   |       â”œâ”€â”€ test_printing.py
    |   |       â”œâ”€â”€ test_qapply.py
    |   |       â”œâ”€â”€ test_qasm.py
    |   |       â”œâ”€â”€ test_qexpr.py
    |   |       â”œâ”€â”€ test_qft.py
    |   |       â”œâ”€â”€ test_qubit.py
    |   |       â”œâ”€â”€ test_represent.py
    |   |       â”œâ”€â”€ test_sho1d.py
    |   |       â”œâ”€â”€ test_shor.py
    |   |       â”œâ”€â”€ test_spin.py
    |   |       â”œâ”€â”€ test_state.py
    |   |       â””â”€â”€ test_tensorproduct.py
    |   â”œâ”€â”€ secondquant.py
    |   â”œâ”€â”€ sho.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_clebsch_gordan.py
    |   |   â”œâ”€â”€ test_hydrogen.py
    |   |   â”œâ”€â”€ test_paulialgebra.py
    |   |   â”œâ”€â”€ test_physics_matrices.py
    |   |   â”œâ”€â”€ test_pring.py
    |   |   â”œâ”€â”€ test_qho_1d.py
    |   |   â”œâ”€â”€ test_secondquant.py
    |   |   â””â”€â”€ test_sho.py
    |   â”œâ”€â”€ units
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ definitions.py
    |   |   â”œâ”€â”€ dimensions.py
    |   |   â”œâ”€â”€ prefixes.py
    |   |   â”œâ”€â”€ quantities.py
    |   |   â”œâ”€â”€ systems
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ mks.py
    |   |   |   â”œâ”€â”€ mksa.py
    |   |   |   â”œâ”€â”€ natural.py
    |   |   |   â””â”€â”€ si.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_dimensions.py
    |   |   |   â”œâ”€â”€ test_dimensionsystem.py
    |   |   |   â”œâ”€â”€ test_prefixes.py
    |   |   |   â”œâ”€â”€ test_quantities.py
    |   |   |   â”œâ”€â”€ test_unitsystem.py
    |   |   |   â””â”€â”€ test_util.py
    |   |   â”œâ”€â”€ unitsystem.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ vector
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ dyadic.py
    |   |   â”œâ”€â”€ fieldfunctions.py
    |   |   â”œâ”€â”€ frame.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ point.py
    |   |   â”œâ”€â”€ printing.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_dyadic.py
    |   |   |   â”œâ”€â”€ test_fieldfunctions.py
    |   |   |   â”œâ”€â”€ test_frame.py
    |   |   |   â”œâ”€â”€ test_functions.py
    |   |   |   â”œâ”€â”€ test_output.py
    |   |   |   â”œâ”€â”€ test_point.py
    |   |   |   â”œâ”€â”€ test_printing.py
    |   |   |   â””â”€â”€ test_vector.py
    |   |   â””â”€â”€ vector.py
    |   â””â”€â”€ wigner.py
    â”œâ”€â”€ plotting
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ experimental_lambdify.py
    |   â”œâ”€â”€ intervalmath
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ interval_arithmetic.py
    |   |   â”œâ”€â”€ lib_interval.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_interval_functions.py
    |   |       â””â”€â”€ test_intervalmath.py
    |   â”œâ”€â”€ plot.py
    |   â”œâ”€â”€ plot_implicit.py
    |   â”œâ”€â”€ pygletplot
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ color_scheme.py
    |   |   â”œâ”€â”€ managed_window.py
    |   |   â”œâ”€â”€ plot.py
    |   |   â”œâ”€â”€ plot_axes.py
    |   |   â”œâ”€â”€ plot_camera.py
    |   |   â”œâ”€â”€ plot_controller.py
    |   |   â”œâ”€â”€ plot_curve.py
    |   |   â”œâ”€â”€ plot_interval.py
    |   |   â”œâ”€â”€ plot_mode.py
    |   |   â”œâ”€â”€ plot_mode_base.py
    |   |   â”œâ”€â”€ plot_modes.py
    |   |   â”œâ”€â”€ plot_object.py
    |   |   â”œâ”€â”€ plot_rotation.py
    |   |   â”œâ”€â”€ plot_surface.py
    |   |   â”œâ”€â”€ plot_window.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ test_plotting.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_plot.py
    |   |   â””â”€â”€ test_plot_implicit.py
    |   â””â”€â”€ textplot.py
    â”œâ”€â”€ polys
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ agca
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ extensions.py
    |   |   â”œâ”€â”€ homomorphisms.py
    |   |   â”œâ”€â”€ ideals.py
    |   |   â”œâ”€â”€ modules.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_extensions.py
    |   |       â”œâ”€â”€ test_homomorphisms.py
    |   |       â”œâ”€â”€ test_ideals.py
    |   |       â””â”€â”€ test_modules.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_galoispolys.py
    |   |   â”œâ”€â”€ bench_groebnertools.py
    |   |   â””â”€â”€ bench_solvers.py
    |   â”œâ”€â”€ compatibility.py
    |   â”œâ”€â”€ constructor.py
    |   â”œâ”€â”€ densearith.py
    |   â”œâ”€â”€ densebasic.py
    |   â”œâ”€â”€ densetools.py
    |   â”œâ”€â”€ dispersion.py
    |   â”œâ”€â”€ distributedmodules.py
    |   â”œâ”€â”€ domains
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ algebraicfield.py
    |   |   â”œâ”€â”€ characteristiczero.py
    |   |   â”œâ”€â”€ complexfield.py
    |   |   â”œâ”€â”€ compositedomain.py
    |   |   â”œâ”€â”€ domain.py
    |   |   â”œâ”€â”€ domainelement.py
    |   |   â”œâ”€â”€ expressiondomain.py
    |   |   â”œâ”€â”€ field.py
    |   |   â”œâ”€â”€ finitefield.py
    |   |   â”œâ”€â”€ fractionfield.py
    |   |   â”œâ”€â”€ gmpyfinitefield.py
    |   |   â”œâ”€â”€ gmpyintegerring.py
    |   |   â”œâ”€â”€ gmpyrationalfield.py
    |   |   â”œâ”€â”€ groundtypes.py
    |   |   â”œâ”€â”€ integerring.py
    |   |   â”œâ”€â”€ modularinteger.py
    |   |   â”œâ”€â”€ mpelements.py
    |   |   â”œâ”€â”€ old_fractionfield.py
    |   |   â”œâ”€â”€ old_polynomialring.py
    |   |   â”œâ”€â”€ polynomialring.py
    |   |   â”œâ”€â”€ pythonfinitefield.py
    |   |   â”œâ”€â”€ pythonintegerring.py
    |   |   â”œâ”€â”€ pythonrational.py
    |   |   â”œâ”€â”€ pythonrationalfield.py
    |   |   â”œâ”€â”€ quotientring.py
    |   |   â”œâ”€â”€ rationalfield.py
    |   |   â”œâ”€â”€ realfield.py
    |   |   â”œâ”€â”€ ring.py
    |   |   â”œâ”€â”€ simpledomain.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_domains.py
    |   |       â”œâ”€â”€ test_polynomialring.py
    |   |       â””â”€â”€ test_quotientring.py
    |   â”œâ”€â”€ euclidtools.py
    |   â”œâ”€â”€ factortools.py
    |   â”œâ”€â”€ fglmtools.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ galoistools.py
    |   â”œâ”€â”€ groebnertools.py
    |   â”œâ”€â”€ heuristicgcd.py
    |   â”œâ”€â”€ modulargcd.py
    |   â”œâ”€â”€ monomials.py
    |   â”œâ”€â”€ multivariate_resultants.py
    |   â”œâ”€â”€ numberfields.py
    |   â”œâ”€â”€ orderings.py
    |   â”œâ”€â”€ orthopolys.py
    |   â”œâ”€â”€ partfrac.py
    |   â”œâ”€â”€ polyclasses.py
    |   â”œâ”€â”€ polyconfig.py
    |   â”œâ”€â”€ polyerrors.py
    |   â”œâ”€â”€ polyfuncs.py
    |   â”œâ”€â”€ polymatrix.py
    |   â”œâ”€â”€ polyoptions.py
    |   â”œâ”€â”€ polyquinticconst.py
    |   â”œâ”€â”€ polyroots.py
    |   â”œâ”€â”€ polytools.py
    |   â”œâ”€â”€ polyutils.py
    |   â”œâ”€â”€ rationaltools.py
    |   â”œâ”€â”€ ring_series.py
    |   â”œâ”€â”€ rings.py
    |   â”œâ”€â”€ rootisolation.py
    |   â”œâ”€â”€ rootoftools.py
    |   â”œâ”€â”€ solvers.py
    |   â”œâ”€â”€ specialpolys.py
    |   â”œâ”€â”€ sqfreetools.py
    |   â”œâ”€â”€ subresultants_qq_zz.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_constructor.py
    |       â”œâ”€â”€ test_densearith.py
    |       â”œâ”€â”€ test_densebasic.py
    |       â”œâ”€â”€ test_densetools.py
    |       â”œâ”€â”€ test_dispersion.py
    |       â”œâ”€â”€ test_distributedmodules.py
    |       â”œâ”€â”€ test_euclidtools.py
    |       â”œâ”€â”€ test_factortools.py
    |       â”œâ”€â”€ test_fields.py
    |       â”œâ”€â”€ test_galoistools.py
    |       â”œâ”€â”€ test_groebnertools.py
    |       â”œâ”€â”€ test_heuristicgcd.py
    |       â”œâ”€â”€ test_injections.py
    |       â”œâ”€â”€ test_modulargcd.py
    |       â”œâ”€â”€ test_monomials.py
    |       â”œâ”€â”€ test_multivariate_resultants.py
    |       â”œâ”€â”€ test_numberfields.py
    |       â”œâ”€â”€ test_orderings.py
    |       â”œâ”€â”€ test_orthopolys.py
    |       â”œâ”€â”€ test_partfrac.py
    |       â”œâ”€â”€ test_polyclasses.py
    |       â”œâ”€â”€ test_polyfuncs.py
    |       â”œâ”€â”€ test_polymatrix.py
    |       â”œâ”€â”€ test_polyoptions.py
    |       â”œâ”€â”€ test_polyroots.py
    |       â”œâ”€â”€ test_polytools.py
    |       â”œâ”€â”€ test_polyutils.py
    |       â”œâ”€â”€ test_pythonrational.py
    |       â”œâ”€â”€ test_rationaltools.py
    |       â”œâ”€â”€ test_ring_series.py
    |       â”œâ”€â”€ test_rings.py
    |       â”œâ”€â”€ test_rootisolation.py
    |       â”œâ”€â”€ test_rootoftools.py
    |       â”œâ”€â”€ test_solvers.py
    |       â”œâ”€â”€ test_specialpolys.py
    |       â”œâ”€â”€ test_sqfreetools.py
    |       â””â”€â”€ test_subresultants_qq_zz.py
    â”œâ”€â”€ printing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ccode.py
    |   â”œâ”€â”€ codeprinter.py
    |   â”œâ”€â”€ conventions.py
    |   â”œâ”€â”€ cxxcode.py
    |   â”œâ”€â”€ defaults.py
    |   â”œâ”€â”€ dot.py
    |   â”œâ”€â”€ fcode.py
    |   â”œâ”€â”€ glsl.py
    |   â”œâ”€â”€ gtk.py
    |   â”œâ”€â”€ jscode.py
    |   â”œâ”€â”€ julia.py
    |   â”œâ”€â”€ lambdarepr.py
    |   â”œâ”€â”€ latex.py
    |   â”œâ”€â”€ llvmjitcode.py
    |   â”œâ”€â”€ mathematica.py
    |   â”œâ”€â”€ mathml.py
    |   â”œâ”€â”€ octave.py
    |   â”œâ”€â”€ precedence.py
    |   â”œâ”€â”€ pretty
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ pretty.py
    |   |   â”œâ”€â”€ pretty_symbology.py
    |   |   â”œâ”€â”€ stringpict.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_pretty.py
    |   â”œâ”€â”€ preview.py
    |   â”œâ”€â”€ printer.py
    |   â”œâ”€â”€ pycode.py
    |   â”œâ”€â”€ python.py
    |   â”œâ”€â”€ rcode.py
    |   â”œâ”€â”€ repr.py
    |   â”œâ”€â”€ rust.py
    |   â”œâ”€â”€ str.py
    |   â”œâ”€â”€ tableform.py
    |   â”œâ”€â”€ tensorflow.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_ccode.py
    |   |   â”œâ”€â”€ test_codeprinter.py
    |   |   â”œâ”€â”€ test_conventions.py
    |   |   â”œâ”€â”€ test_cxxcode.py
    |   |   â”œâ”€â”€ test_dot.py
    |   |   â”œâ”€â”€ test_fcode.py
    |   |   â”œâ”€â”€ test_glsl.py
    |   |   â”œâ”€â”€ test_gtk.py
    |   |   â”œâ”€â”€ test_jscode.py
    |   |   â”œâ”€â”€ test_julia.py
    |   |   â”œâ”€â”€ test_lambdarepr.py
    |   |   â”œâ”€â”€ test_latex.py
    |   |   â”œâ”€â”€ test_llvmjit.py
    |   |   â”œâ”€â”€ test_mathematica.py
    |   |   â”œâ”€â”€ test_mathml.py
    |   |   â”œâ”€â”€ test_numpy.py
    |   |   â”œâ”€â”€ test_octave.py
    |   |   â”œâ”€â”€ test_precedence.py
    |   |   â”œâ”€â”€ test_preview.py
    |   |   â”œâ”€â”€ test_pycode.py
    |   |   â”œâ”€â”€ test_python.py
    |   |   â”œâ”€â”€ test_rcode.py
    |   |   â”œâ”€â”€ test_repr.py
    |   |   â”œâ”€â”€ test_rust.py
    |   |   â”œâ”€â”€ test_str.py
    |   |   â”œâ”€â”€ test_tableform.py
    |   |   â”œâ”€â”€ test_tensorflow.py
    |   |   â””â”€â”€ test_theanocode.py
    |   â”œâ”€â”€ theanocode.py
    |   â””â”€â”€ tree.py
    â”œâ”€â”€ release.py
    â”œâ”€â”€ sandbox
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ indexed_integrals.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_indexed_integrals.py
    â”œâ”€â”€ series
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ acceleration.py
    |   â”œâ”€â”€ approximants.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_limit.py
    |   |   â””â”€â”€ bench_order.py
    |   â”œâ”€â”€ formal.py
    |   â”œâ”€â”€ fourier.py
    |   â”œâ”€â”€ gruntz.py
    |   â”œâ”€â”€ kauers.py
    |   â”œâ”€â”€ limits.py
    |   â”œâ”€â”€ limitseq.py
    |   â”œâ”€â”€ order.py
    |   â”œâ”€â”€ residues.py
    |   â”œâ”€â”€ sequences.py
    |   â”œâ”€â”€ series.py
    |   â”œâ”€â”€ series_class.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_approximants.py
    |       â”œâ”€â”€ test_demidovich.py
    |       â”œâ”€â”€ test_formal.py
    |       â”œâ”€â”€ test_fourier.py
    |       â”œâ”€â”€ test_gruntz.py
    |       â”œâ”€â”€ test_kauers.py
    |       â”œâ”€â”€ test_limits.py
    |       â”œâ”€â”€ test_limitseq.py
    |       â”œâ”€â”€ test_lseries.py
    |       â”œâ”€â”€ test_nseries.py
    |       â”œâ”€â”€ test_order.py
    |       â”œâ”€â”€ test_residues.py
    |       â”œâ”€â”€ test_sequences.py
    |       â””â”€â”€ test_series.py
    â”œâ”€â”€ sets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ conditionset.py
    |   â”œâ”€â”€ contains.py
    |   â”œâ”€â”€ fancysets.py
    |   â”œâ”€â”€ handlers
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ add.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ intersection.py
    |   |   â”œâ”€â”€ mul.py
    |   |   â”œâ”€â”€ power.py
    |   |   â””â”€â”€ union.py
    |   â”œâ”€â”€ ordinals.py
    |   â”œâ”€â”€ setexpr.py
    |   â”œâ”€â”€ sets.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_conditionset.py
    |       â”œâ”€â”€ test_contains.py
    |       â”œâ”€â”€ test_fancysets.py
    |       â”œâ”€â”€ test_ordinals.py
    |       â”œâ”€â”€ test_setexpr.py
    |       â””â”€â”€ test_sets.py
    â”œâ”€â”€ simplify
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ combsimp.py
    |   â”œâ”€â”€ cse_main.py
    |   â”œâ”€â”€ cse_opts.py
    |   â”œâ”€â”€ epathtools.py
    |   â”œâ”€â”€ fu.py
    |   â”œâ”€â”€ gammasimp.py
    |   â”œâ”€â”€ hyperexpand.py
    |   â”œâ”€â”€ hyperexpand_doc.py
    |   â”œâ”€â”€ powsimp.py
    |   â”œâ”€â”€ radsimp.py
    |   â”œâ”€â”€ ratsimp.py
    |   â”œâ”€â”€ simplify.py
    |   â”œâ”€â”€ sqrtdenest.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_combsimp.py
    |   |   â”œâ”€â”€ test_cse.py
    |   |   â”œâ”€â”€ test_epathtools.py
    |   |   â”œâ”€â”€ test_fu.py
    |   |   â”œâ”€â”€ test_function.py
    |   |   â”œâ”€â”€ test_gammasimp.py
    |   |   â”œâ”€â”€ test_hyperexpand.py
    |   |   â”œâ”€â”€ test_powsimp.py
    |   |   â”œâ”€â”€ test_radsimp.py
    |   |   â”œâ”€â”€ test_ratsimp.py
    |   |   â”œâ”€â”€ test_rewrite.py
    |   |   â”œâ”€â”€ test_simplify.py
    |   |   â”œâ”€â”€ test_sqrtdenest.py
    |   |   â”œâ”€â”€ test_traversaltools.py
    |   |   â””â”€â”€ test_trigsimp.py
    |   â”œâ”€â”€ traversaltools.py
    |   â””â”€â”€ trigsimp.py
    â”œâ”€â”€ solvers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ bench_solvers.py
    |   â”œâ”€â”€ bivariate.py
    |   â”œâ”€â”€ decompogen.py
    |   â”œâ”€â”€ deutils.py
    |   â”œâ”€â”€ diophantine.py
    |   â”œâ”€â”€ inequalities.py
    |   â”œâ”€â”€ ode.py
    |   â”œâ”€â”€ pde.py
    |   â”œâ”€â”€ polysys.py
    |   â”œâ”€â”€ recurr.py
    |   â”œâ”€â”€ solvers.py
    |   â”œâ”€â”€ solveset.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_constantsimp.py
    |       â”œâ”€â”€ test_decompogen.py
    |       â”œâ”€â”€ test_diophantine.py
    |       â”œâ”€â”€ test_inequalities.py
    |       â”œâ”€â”€ test_numeric.py
    |       â”œâ”€â”€ test_ode.py
    |       â”œâ”€â”€ test_pde.py
    |       â”œâ”€â”€ test_polysys.py
    |       â”œâ”€â”€ test_recurr.py
    |       â”œâ”€â”€ test_solvers.py
    |       â””â”€â”€ test_solveset.py
    â”œâ”€â”€ stats
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ crv.py
    |   â”œâ”€â”€ crv_types.py
    |   â”œâ”€â”€ drv.py
    |   â”œâ”€â”€ drv_types.py
    |   â”œâ”€â”€ error_prop.py
    |   â”œâ”€â”€ frv.py
    |   â”œâ”€â”€ frv_types.py
    |   â”œâ”€â”€ joint_rv.py
    |   â”œâ”€â”€ joint_rv_types.py
    |   â”œâ”€â”€ rv.py
    |   â”œâ”€â”€ rv_interface.py
    |   â”œâ”€â”€ symbolic_probability.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_continuous_rv.py
    |       â”œâ”€â”€ test_discrete_rv.py
    |       â”œâ”€â”€ test_error_prop.py
    |       â”œâ”€â”€ test_finite_rv.py
    |       â”œâ”€â”€ test_joint_rv.py
    |       â”œâ”€â”€ test_mix.py
    |       â”œâ”€â”€ test_rv.py
    |       â””â”€â”€ test_symbolic_probability.py
    â”œâ”€â”€ strategies
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ branch
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ core.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_core.py
    |   |   |   â”œâ”€â”€ test_tools.py
    |   |   |   â””â”€â”€ test_traverse.py
    |   |   â”œâ”€â”€ tools.py
    |   |   â””â”€â”€ traverse.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ rl.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_core.py
    |   |   â”œâ”€â”€ test_rl.py
    |   |   â”œâ”€â”€ test_strat.py
    |   |   â”œâ”€â”€ test_tools.py
    |   |   â”œâ”€â”€ test_traverse.py
    |   |   â””â”€â”€ test_tree.py
    |   â”œâ”€â”€ tools.py
    |   â”œâ”€â”€ traverse.py
    |   â”œâ”€â”€ tree.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ tensor
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ array
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ arrayop.py
    |   |   â”œâ”€â”€ dense_ndim_array.py
    |   |   â”œâ”€â”€ mutable_ndim_array.py
    |   |   â”œâ”€â”€ ndim_array.py
    |   |   â”œâ”€â”€ sparse_ndim_array.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_arrayop.py
    |   |       â”œâ”€â”€ test_immutable_ndim_array.py
    |   |       â”œâ”€â”€ test_mutable_ndim_array.py
    |   |       â””â”€â”€ test_ndim_array_conversions.py
    |   â”œâ”€â”€ functions.py
    |   â”œâ”€â”€ index_methods.py
    |   â”œâ”€â”€ indexed.py
    |   â”œâ”€â”€ tensor.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_index_methods.py
    |   |   â”œâ”€â”€ test_indexed.py
    |   |   â”œâ”€â”€ test_tensor.py
    |   |   â”œâ”€â”€ test_tensor_element.py
    |   |   â””â”€â”€ test_tensor_operators.py
    |   â””â”€â”€ toperators.py
    â”œâ”€â”€ this.py
    â”œâ”€â”€ unify
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ rewrite.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_rewrite.py
    |   |   â”œâ”€â”€ test_sympy.py
    |   |   â””â”€â”€ test_unify.py
    |   â””â”€â”€ usympy.py
    â”œâ”€â”€ utilities
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ _compilation
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ availability.py
    |   |   â”œâ”€â”€ compilation.py
    |   |   â”œâ”€â”€ runners.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ test_compilation.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ autowrap.py
    |   â”œâ”€â”€ benchmarking.py
    |   â”œâ”€â”€ codegen.py
    |   â”œâ”€â”€ decorator.py
    |   â”œâ”€â”€ enumerative.py
    |   â”œâ”€â”€ exceptions.py
    |   â”œâ”€â”€ iterables.py
    |   â”œâ”€â”€ lambdify.py
    |   â”œâ”€â”€ magic.py
    |   â”œâ”€â”€ mathml
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ data
    |   â”œâ”€â”€ memoization.py
    |   â”œâ”€â”€ misc.py
    |   â”œâ”€â”€ pkgdata.py
    |   â”œâ”€â”€ pytest.py
    |   â”œâ”€â”€ randtest.py
    |   â”œâ”€â”€ runtests.py
    |   â”œâ”€â”€ source.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ diagnose_imports.py
    |   |   â”œâ”€â”€ test_autowrap.py
    |   |   â”œâ”€â”€ test_code_quality.py
    |   |   â”œâ”€â”€ test_codegen.py
    |   |   â”œâ”€â”€ test_codegen_julia.py
    |   |   â”œâ”€â”€ test_codegen_octave.py
    |   |   â”œâ”€â”€ test_codegen_rust.py
    |   |   â”œâ”€â”€ test_decorator.py
    |   |   â”œâ”€â”€ test_enumerative.py
    |   |   â”œâ”€â”€ test_iterables.py
    |   |   â”œâ”€â”€ test_lambdify.py
    |   |   â”œâ”€â”€ test_misc.py
    |   |   â”œâ”€â”€ test_module_imports.py
    |   |   â”œâ”€â”€ test_pickling.py
    |   |   â”œâ”€â”€ test_pytest.py
    |   |   â”œâ”€â”€ test_source.py
    |   |   â”œâ”€â”€ test_timeutils.py
    |   |   â””â”€â”€ test_wester.py
    |   â”œâ”€â”€ timeutils.py
    |   â””â”€â”€ tmpfiles.py
    â””â”€â”€ vector
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ basisdependent.py
        â”œâ”€â”€ coordsysrect.py
        â”œâ”€â”€ deloperator.py
        â”œâ”€â”€ dyadic.py
        â”œâ”€â”€ functions.py
        â”œâ”€â”€ operators.py
        â”œâ”€â”€ orienters.py
        â”œâ”€â”€ point.py
        â”œâ”€â”€ scalar.py
        â”œâ”€â”€ tests
        |   â”œâ”€â”€ __init__.py
        |   â”œâ”€â”€ test_coordsysrect.py
        |   â”œâ”€â”€ test_dyadic.py
        |   â”œâ”€â”€ test_field_functions.py
        |   â”œâ”€â”€ test_functions.py
        |   â”œâ”€â”€ test_operators.py
        |   â”œâ”€â”€ test_printing.py
        |   â””â”€â”€ test_vector.py
        â””â”€â”€ vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
is_zero is incorrect on complex integer

Issue description: 
`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:

```
>>> e = -2*I + (1 + I)**2
>>> e.is_zero
False
>>> simplify(e).is_zero
True
```

This is causing errors in determining the rank of a matrix. See issue #15872 
Fixing is_zero for complex numbers while Add
References to other Issues or PRs
#15873 

Other comments:

<!-- BEGIN RELEASE NOTES -->

- core
  - Fix `is_zero` becoming `False` on some expressions with `Add`.

<!-- END RELEASE NOTES -->


Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 17:10:55,047 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 5 relevant existing test cases that demonstrate a bug where `is_zero` gives an incorrect result for a complex expression. I need to analyze the content of test files to find these test cases. The current context only contains the file tree and no file content. Therefore, I need to request the content of the most relevant test files to identify the required test cases. The bug involves arithmetic with complex numbers and the `is_zero` property, so I will request files from `sympy/core/tests` that are most likely to contain relevant tests.' refined_query='Please provide the content of the following files: `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_complex.py`, `sympy/core/tests/test_assumptions.py`, `sympy/core/tests/test_function.py`, and `sympy/core/tests/test_expr.py`'
2025-10-05 17:10:58,382 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/core/tests/test_expr.py"}'}, '__gemini_function_call_thought_signatures__': {'2fcef406-e044-4993-b5a9-60a41d2f2d5a': 'CuQBAR/MhbbYLvAaLnMvRvg4sJo9ERKGqKMXyZg38JQE9MSFr0Ya5Yk5cEY1u0/+mG7J1nqcbG4BGu3L7h4g3Y1+dtk8/+IAQ90YxHcG/EOGnnVPRhMNNgOnRckGptL0BjOtTU12cNboiqM2ShWbERfl3fwlyV0a57wm3ZYjZCu15jl0XVis5HhdUyXhs4xevJ7/0VLb7l6O4xzfqq8GjnMM4nTHSN9gdiRIYhxAi7V4QFBlg0irjlijc6uCwmaAwoKa41VxGHewq/8XDQuHzJhm0xq580baEG32MGUS7ws0PwbBW119'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19103, 'candidates_token_count': 131, 'total_token_count': 19285, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19103}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 131}], 'thoughts_token_count': 51, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.024877879455799366, 'model_name': 'gemini-2.5-pro'} id='run--7d88e930-9ccf-475e-94e7-5e8641fbe6dd-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_arit.py'}, 'id': '2fcef406-e044-4993-b5a9-60a41d2f2d5a', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_complex.py'}, 'id': 'b285e35a-0bc8-44fb-9db8-c76408c2e2ba', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_assumptions.py'}, 'id': '95148025-848a-4f15-846b-ff2c5000ad20', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_function.py'}, 'id': '2b2e3e2c-3d95-48c5-a4af-841a1a445c30', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_expr.py'}, 'id': 'f2f198d1-3d9c-4601-b434-360196e13a22', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19103, 'output_tokens': 131, 'total_tokens': 19285, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 51}}
2025-10-05 17:11:01,491 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have successfully retrieved the content of the five Python test files you requested: `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_complex.py`, `sympy/core/tests/test_assumptions.py`, `sympy/core/tests/test_function.py`, and `sympy/core/tests/test_expr.py`. Each file's content has been read and is available for your review." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 71151, 'candidates_token_count': 102, 'total_token_count': 71277, 'prompt_tokens_details': [{'modality': 1, 'token_count': 71200}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 102}], 'thoughts_token_count': 24, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05750727653503418, 'model_name': 'gemini-2.5-pro'} id='run--a32535b7-c394-4178-b509-10d2387df4b9-0' usage_metadata={'input_tokens': 71151, 'output_tokens': 102, 'total_tokens': 71277, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 24}}
2025-10-05 17:11:01,491 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 17:11:01,492 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
is_zero is incorrect on complex integer

Issue description: 
`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:

```
>>> e = -2*I + (1 + I)**2
>>> e.is_zero
False
>>> simplify(e).is_zero
True
```

This is causing errors in determining the rank of a matrix. See issue #15872 
Fixing is_zero for complex numbers while Add
References to other Issues or PRs
#15873 

Other comments:

<!-- BEGIN RELEASE NOTES -->

- core
  - Fix `is_zero` becoming `False` on some expressions with `Add`.

<!-- END RELEASE NOTES -->


Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the content of the following files: `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_complex.py`, `sympy/core/tests/test_assumptions.py`, `sympy/core/tests/test_function.py`, and `sympy/core/tests/test_expr.py`
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: sympy/core/tests/test_arit.py
Line number range: 1 - 500
Content:
1. from sympy import (Basic, Symbol, sin, cos, exp, sqrt, Rational, Float, re, pi,
2.         sympify, Add, Mul, Pow, Mod, I, log, S, Max, symbols, oo, zoo, Integer,
3.         sign, im, nan, Dummy, factorial, comp, refine
4. )
5. from sympy.core.compatibility import long, range
6. from sympy.utilities.iterables import cartes
7. from sympy.utilities.pytest import XFAIL, raises
8. from sympy.utilities.randtest import verify_numerically
9. 
10. 
11. a, c, x, y, z = symbols('a,c,x,y,z')
12. b = Symbol("b", positive=True)
13. 
14. 
15. def same_and_same_prec(a, b):
16.     # stricter matching for Floats
17.     return a == b and a._prec == b._prec
18. 
19. 
20. def test_bug1():
21.     assert re(x) != x
22.     x.series(x, 0, 1)
23.     assert re(x) != x
24. 
25. 
26. def test_Symbol():
27.     e = a*b
28.     assert e == a*b
29.     assert a*b*b == a*b**2
30.     assert a*b*b + c == c + a*b**2
31.     assert a*b*b - c == -c + a*b**2
32. 
33.     x = Symbol('x', complex=True, real=False)
34.     assert x.is_imaginary is None  # could be I or 1 + I
35.     x = Symbol('x', complex=True, imaginary=False)
36.     assert x.is_real is None  # could be 1 or 1 + I
37.     x = Symbol('x', real=True)
38.     assert x.is_complex
39.     x = Symbol('x', imaginary=True)
40.     assert x.is_complex
41.     x = Symbol('x', real=False, imaginary=False)
42.     assert x.is_complex is None  # might be a non-number
43. 
44. 
45. def test_arit0():
46.     p = Rational(5)
47.     e = a*b
48.     assert e == a*b
49.     e = a*b + b*a
50.     assert e == 2*a*b
51.     e = a*b + b*a + a*b + p*b*a
52.     assert e == 8*a*b
53.     e = a*b + b*a + a*b + p*b*a + a
54.     assert e == a + 8*a*b
55.     e = a + a
56.     assert e == 2*a
57.     e = a + b + a
58.     assert e == b + 2*a
59.     e = a + b*b + a + b*b
60.     assert e == 2*a + 2*b**2
61.     e = a + Rational(2) + b*b + a + b*b + p
62.     assert e == 7 + 2*a + 2*b**2
63.     e = (a + b*b + a + b*b)*p
64.     assert e == 5*(2*a + 2*b**2)
65.     e = (a*b*c + c*b*a + b*a*c)*p
66.     assert e == 15*a*b*c
67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c
68.     assert e == Rational(0)
69.     e = Rational(50)*(a - a)
70.     assert e == Rational(0)
71.     e = b*a - b - a*b + b
72.     assert e == Rational(0)
73.     e = a*b + c**p
74.     assert e == a*b + c**5
75.     e = a/b
76.     assert e == a*b**(-1)
77.     e = a*2*2
78.     assert e == 4*a
79.     e = 2 + a*2/2
80.     assert e == 2 + a
81.     e = 2 - a - 2
82.     assert e == -a
83.     e = 2*a*2
84.     assert e == 4*a
85.     e = 2/a/2
86.     assert e == a**(-1)
87.     e = 2**a**2
88.     assert e == 2**(a**2)
89.     e = -(1 + a)
90.     assert e == -1 - a
91.     e = Rational(1, 2)*(1 + a)
92.     assert e == Rational(1, 2) + a/2
93. 
94. 
95. def test_div():
96.     e = a/b
97.     assert e == a*b**(-1)
98.     e = a/b + c/2
99.     assert e == a*b**(-1) + Rational(1)/2*c
100.     e = (1 - b)/(b - 1)
101.     assert e == (1 + -b)*((-1) + b)**(-1)
102. 
103. 
104. def test_pow():
105.     n1 = Rational(1)
106.     n2 = Rational(2)
107.     n5 = Rational(5)
108.     e = a*a
109.     assert e == a**2
110.     e = a*a*a
111.     assert e == a**3
112.     e = a*a*a*a**Rational(6)
113.     assert e == a**9
114.     e = a*a*a*a**Rational(6) - a**Rational(9)
115.     assert e == Rational(0)
116.     e = a**(b - b)
117.     assert e == Rational(1)
118.     e = (a + Rational(1) - a)**b
119.     assert e == Rational(1)
120. 
121.     e = (a + b + c)**n2
122.     assert e == (a + b + c)**2
123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2
124. 
125.     e = (a + b)**n2
126.     assert e == (a + b)**2
127.     assert e.expand() == 2*a*b + a**2 + b**2
128. 
129.     e = (a + b)**(n1/n2)
130.     assert e == sqrt(a + b)
131.     assert e.expand() == sqrt(a + b)
132. 
133.     n = n5**(n1/n2)
134.     assert n == sqrt(5)
135.     e = n*a*b - n*b*a
136.     assert e == Rational(0)
137.     e = n*a*b + n*b*a
138.     assert e == 2*a*b*sqrt(5)
139.     assert e.diff(a) == 2*b*sqrt(5)
140.     assert e.diff(a) == 2*b*sqrt(5)
141.     e = a/b**2
142.     assert e == a*b**(-2)
143. 
144.     assert sqrt(2*(1 + sqrt(2))) == (2*(1 + 2**Rational(1, 2)))**Rational(1, 2)
145. 
146.     x = Symbol('x')
147.     y = Symbol('y')
148. 
149.     assert ((x*y)**3).expand() == y**3 * x**3
150.     assert ((x*y)**-3).expand() == y**-3 * x**-3
151. 
152.     assert (x**5*(3*x)**(3)).expand() == 27 * x**8
153.     assert (x**5*(-3*x)**(3)).expand() == -27 * x**8
154.     assert (x**5*(3*x)**(-3)).expand() == Rational(1, 27) * x**2
155.     assert (x**5*(-3*x)**(-3)).expand() == -Rational(1, 27) * x**2
156. 
157.     # expand_power_exp
158.     assert (x**(y**(x + exp(x + y)) + z)).expand(deep=False) == \
159.         x**z*x**(y**(x + exp(x + y)))
160.     assert (x**(y**(x + exp(x + y)) + z)).expand() == \
161.         x**z*x**(y**x*y**(exp(x)*exp(y)))
162. 
163.     n = Symbol('n', even=False)
164.     k = Symbol('k', even=True)
165.     o = Symbol('o', odd=True)
166. 
167.     assert (-1)**x == (-1)**x
168.     assert (-1)**n == (-1)**n
169.     assert (-2)**k == 2**k
170.     assert (-1)**k == 1
171. 
172. 
173. def test_pow2():
174.     # x**(2*y) is always (x**y)**2 but is only (x**2)**y if
175.     #                                  x.is_positive or y.is_integer
176.     # let x = 1 to see why the following are not true.
177.     assert (-x)**Rational(2, 3) != x**Rational(2, 3)
178.     assert (-x)**Rational(5, 7) != -x**Rational(5, 7)
179.     assert ((-x)**2)**Rational(1, 3) != ((-x)**Rational(1, 3))**2
180.     assert sqrt(x**2) != x
181. 
182. 
183. def test_pow3():
184.     assert sqrt(2)**3 == 2 * sqrt(2)
185.     assert sqrt(2)**3 == sqrt(8)
186. 
187. 
188. def test_mod_pow():
189.     for s, t, u, v in [(4, 13, 497, 445), (4, -3, 497, 365),
190.             (3.2, 2.1, 1.9, 0.1031015682350942), (S(3)/2, 5, S(5)/6, S(3)/32)]:
191.         assert pow(S(s), t, u) == v
192.         assert pow(S(s), S(t), u) == v
193.         assert pow(S(s), t, S(u)) == v
194.         assert pow(S(s), S(t), S(u)) == v
195.     assert pow(S(2), S(10000000000), S(3)) == 1
196.     assert pow(x, y, z) == x**y%z
197.     raises(TypeError, lambda: pow(S(4), "13", 497))
198.     raises(TypeError, lambda: pow(S(4), 13, "497"))
199. 
200. 
201. def test_pow_E():
202.     assert 2**(y/log(2)) == S.Exp1**y
203.     assert 2**(y/log(2)/3) == S.Exp1**(y/3)
204.     assert 3**(1/log(-3)) != S.Exp1
205.     assert (3 + 2*I)**(1/(log(-3 - 2*I) + I*pi)) == S.Exp1
206.     assert (4 + 2*I)**(1/(log(-4 - 2*I) + I*pi)) == S.Exp1
207.     assert (3 + 2*I)**(1/(log(-3 - 2*I, 3)/2 + I*pi/log(3)/2)) == 9
208.     assert (3 + 2*I)**(1/(log(3 + 2*I, 3)/2)) == 9
209.     # every time tests are run they will affirm with a different random
210.     # value that this identity holds
211.     while 1:
212.         b = x._random()
213.         r, i = b.as_real_imag()
214.         if i:
215.             break
216.     assert verify_numerically(b**(1/(log(-b) + sign(i)*I*pi).n()), S.Exp1)
217. 
218. 
219. def test_pow_issue_3516():
220.     assert 4**Rational(1, 4) == sqrt(2)
221. 
222. 
223. def test_pow_im():
224.     for m in (-2, -1, 2):
225.         for d in (3, 4, 5):
226.             b = m*I
227.             for i in range(1, 4*d + 1):
228.                 e = Rational(i, d)
229.                 assert (b**e - b.n()**e.n()).n(2, chop=1e-10) == 0
230. 
231.     e = Rational(7, 3)
232.     assert (2*x*I)**e == 4*2**Rational(1, 3)*(I*x)**e  # same as Wolfram Alpha
233.     im = symbols('im', imaginary=True)
234.     assert (2*im*I)**e == 4*2**Rational(1, 3)*(I*im)**e
235. 
236.     args = [I, I, I, I, 2]
237.     e = Rational(1, 3)
238.     ans = 2**e
239.     assert Mul(*args, evaluate=False)**e == ans
240.     assert Mul(*args)**e == ans
241.     args = [I, I, I, 2]
242.     e = Rational(1, 3)
243.     ans = 2**e*(-I)**e
244.     assert Mul(*args, evaluate=False)**e == ans
245.     assert Mul(*args)**e == ans
246.     args.append(-3)
247.     ans = (6*I)**e
248.     assert Mul(*args, evaluate=False)**e == ans
249.     assert Mul(*args)**e == ans
250.     args.append(-1)
251.     ans = (-6*I)**e
252.     assert Mul(*args, evaluate=False)**e == ans
253.     assert Mul(*args)**e == ans
254. 
255.     args = [I, I, 2]
256.     e = Rational(1, 3)
257.     ans = (-2)**e
258.     assert Mul(*args, evaluate=False)**e == ans
259.     assert Mul(*args)**e == ans
260.     args.append(-3)
261.     ans = (6)**e
262.     assert Mul(*args, evaluate=False)**e == ans
263.     assert Mul(*args)**e == ans
264.     args.append(-1)
265.     ans = (-6)**e
266.     assert Mul(*args, evaluate=False)**e == ans
267.     assert Mul(*args)**e == ans
268.     assert Mul(Pow(-1, Rational(3, 2), evaluate=False), I, I) == I
269.     assert Mul(I*Pow(I, S.Half, evaluate=False)) == sqrt(I)*I
270. 
271. 
272. def test_real_mul():
273.     assert Float(0) * pi * x == Float(0)
274.     assert set((Float(1) * pi * x).args) == {Float(1), pi, x}
275. 
276. 
277. def test_ncmul():
278.     A = Symbol("A", commutative=False)
279.     B = Symbol("B", commutative=False)
280.     C = Symbol("C", commutative=False)
281.     assert A*B != B*A
282.     assert A*B*C != C*B*A
283.     assert A*b*B*3*C == 3*b*A*B*C
284.     assert A*b*B*3*C != 3*b*B*A*C
285.     assert A*b*B*3*C == 3*A*B*C*b
286. 
287.     assert A + B == B + A
288.     assert (A + B)*C != C*(A + B)
289. 
290.     assert C*(A + B)*C != C*C*(A + B)
291. 
292.     assert A*A == A**2
293.     assert (A + B)*(A + B) == (A + B)**2
294. 
295.     assert A**-1 * A == 1
296.     assert A/A == 1
297.     assert A/(A**2) == 1/A
298. 
299.     assert A/(1 + A) == A/(1 + A)
300. 
301.     assert set((A + B + 2*(A + B)).args) == \
302.         {A, B, 2*(A + B)}
303. 
304. 
305. def test_ncpow():
306.     x = Symbol('x', commutative=False)
307.     y = Symbol('y', commutative=False)
308.     z = Symbol('z', commutative=False)
309.     a = Symbol('a')
310.     b = Symbol('b')
311.     c = Symbol('c')
312. 
313.     assert (x**2)*(y**2) != (y**2)*(x**2)
314.     assert (x**-2)*y != y*(x**2)
315.     assert 2**x*2**y != 2**(x + y)
316.     assert 2**x*2**y*2**z != 2**(x + y + z)
317.     assert 2**x*2**(2*x) == 2**(3*x)
318.     assert 2**x*2**(2*x)*2**x == 2**(4*x)
319.     assert exp(x)*exp(y) != exp(y)*exp(x)
320.     assert exp(x)*exp(y)*exp(z) != exp(y)*exp(x)*exp(z)
321.     assert exp(x)*exp(y)*exp(z) != exp(x + y + z)
322.     assert x**a*x**b != x**(a + b)
323.     assert x**a*x**b*x**c != x**(a + b + c)
324.     assert x**3*x**4 == x**7
325.     assert x**3*x**4*x**2 == x**9
326.     assert x**a*x**(4*a) == x**(5*a)
327.     assert x**a*x**(4*a)*x**a == x**(6*a)
328. 
329. 
330. def test_powerbug():
331.     x = Symbol("x")
332.     assert x**1 != (-x)**1
333.     assert x**2 == (-x)**2
334.     assert x**3 != (-x)**3
335.     assert x**4 == (-x)**4
336.     assert x**5 != (-x)**5
337.     assert x**6 == (-x)**6
338. 
339.     assert x**128 == (-x)**128
340.     assert x**129 != (-x)**129
341. 
342.     assert (2*x)**2 == (-2*x)**2
343. 
344. 
345. def test_Mul_doesnt_expand_exp():
346.     x = Symbol('x')
347.     y = Symbol('y')
348.     assert exp(x)*exp(y) == exp(x)*exp(y)
349.     assert 2**x*2**y == 2**x*2**y
350.     assert x**2*x**3 == x**5
351.     assert 2**x*3**x == 6**x
352.     assert x**(y)*x**(2*y) == x**(3*y)
353.     assert sqrt(2)*sqrt(2) == 2
354.     assert 2**x*2**(2*x) == 2**(3*x)
355.     assert sqrt(2)*2**Rational(1, 4)*5**Rational(3, 4) == 10**Rational(3, 4)
356.     assert (x**(-log(5)/log(3))*x)/(x*x**( - log(5)/log(3))) == sympify(1)
357. 
358. 
359. def test_Add_Mul_is_integer():
360.     x = Symbol('x')
361. 
362.     k = Symbol('k', integer=True)
363.     n = Symbol('n', integer=True)
364. 
365.     assert (2*k).is_integer is True
366.     assert (-k).is_integer is True
367.     assert (k/3).is_integer is None
368.     assert (x*k*n).is_integer is None
369. 
370.     assert (k + n).is_integer is True
371.     assert (k + x).is_integer is None
372.     assert (k + n*x).is_integer is None
373.     assert (k + n/3).is_integer is None
374. 
375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
377. 
378. 
379. def test_Add_Mul_is_finite():
380.     x = Symbol('x', real=True, finite=False)
381. 
382.     assert sin(x).is_finite is True
383.     assert (x*sin(x)).is_finite is False
384.     assert (1024*sin(x)).is_finite is True
385.     assert (sin(x)*exp(x)).is_finite is not True
386.     assert (sin(x)*cos(x)).is_finite is True
387.     assert (x*sin(x)*exp(x)).is_finite is not True
388. 
389.     assert (sin(x) - 67).is_finite is True
390.     assert (sin(x) + exp(x)).is_finite is not True
391.     assert (1 + x).is_finite is False
392.     assert (1 + x**2 + (1 + x)*(1 - x)).is_finite is None
393.     assert (sqrt(2)*(1 + x)).is_finite is False
394.     assert (sqrt(2)*(1 + x)*(1 - x)).is_finite is False
395. 
396. 
397. def test_Mul_is_even_odd():
398.     x = Symbol('x', integer=True)
399.     y = Symbol('y', integer=True)
400. 
401.     k = Symbol('k', odd=True)
402.     n = Symbol('n', odd=True)
403.     m = Symbol('m', even=True)
404. 
405.     assert (2*x).is_even is True
406.     assert (2*x).is_odd is False
407. 
408.     assert (3*x).is_even is None
409.     assert (3*x).is_odd is None
410. 
411.     assert (k/3).is_integer is None
412.     assert (k/3).is_even is None
413.     assert (k/3).is_odd is None
414. 
415.     assert (2*n).is_even is True
416.     assert (2*n).is_odd is False
417. 
418.     assert (2*m).is_even is True
419.     assert (2*m).is_odd is False
420. 
421.     assert (-n).is_even is False
422.     assert (-n).is_odd is True
423. 
424.     assert (k*n).is_even is False
425.     assert (k*n).is_odd is True
426. 
427.     assert (k*m).is_even is True
428.     assert (k*m).is_odd is False
429. 
430.     assert (k*n*m).is_even is True
431.     assert (k*n*m).is_odd is False
432. 
433.     assert (k*m*x).is_even is True
434.     assert (k*m*x).is_odd is False
435. 
436.     # issue 6791:
437.     assert (x/2).is_integer is None
438.     assert (k/2).is_integer is False
439.     assert (m/2).is_integer is True
440. 
441.     assert (x*y).is_even is None
442.     assert (x*x).is_even is None
443.     assert (x*(x + k)).is_even is True
444.     assert (x*(x + m)).is_even is None
445. 
446.     assert (x*y).is_odd is None
447.     assert (x*x).is_odd is None
448.     assert (x*(x + k)).is_odd is False
449.     assert (x*(x + m)).is_odd is None
450. 
451. 
452. @XFAIL
453. def test_evenness_in_ternary_integer_product_with_odd():
454.     # Tests that oddness inference is independent of term ordering.
455.     # Term ordering at the point of testing depends on SymPy's symbol order, so
456.     # we try to force a different order by modifying symbol names.
457.     x = Symbol('x', integer=True)
458.     y = Symbol('y', integer=True)
459.     k = Symbol('k', odd=True)
460.     assert (x*y*(y + k)).is_even is True
461.     assert (y*x*(x + k)).is_even is True
462. 
463. 
464. def test_evenness_in_ternary_integer_product_with_even():
465.     x = Symbol('x', integer=True)
466.     y = Symbol('y', integer=True)
467.     m = Symbol('m', even=True)
468.     assert (x*y*(y + m)).is_even is None
469. 
470. 
471. @XFAIL
472. def test_oddness_in_ternary_integer_product_with_odd():
473.     # Tests that oddness inference is independent of term ordering.
474.     # Term ordering at the point of testing depends on SymPy's symbol order, so
475.     # we try to force a different order by modifying symbol names.
476.     x = Symbol('x', integer=True)
477.     y = Symbol('y', integer=True)
478.     k = Symbol('k', odd=True)
479.     assert (x*y*(y + k)).is_odd is False
480.     assert (y*x*(x + k)).is_odd is False
481. 
482. 
483. def test_oddness_in_ternary_integer_product_with_even():
484.     x = Symbol('x', integer=True)
485.     y = Symbol('y', integer=True)
486.     m = Symbol('m', even=True)
487.     assert (x*y*(y + m)).is_odd is None
488. 
489. 
490. def test_Mul_is_rational():
491.     x = Symbol('x')
492.     n = Symbol('n', integer=True)
493.     m = Symbol('m', integer=True, nonzero=True)
494. 
495.     assert (n/m).is_rational is True
496.     assert (x/pi).is_rational is None
497.     assert (x/n).is_rational is None
498.     assert (m/pi).is_rational is False
499. 
500.     r = Symbol('r', rational=True)

File: sympy/core/tests/test_complex.py
Line number range: 1 - 220
Content:
1. from sympy import (S, Symbol, sqrt, I, Integer, Rational, cos, sin, im, re, Abs,
2.         exp, sinh, cosh, tan, tanh, conjugate, sign, cot, coth, pi, symbols,
3.         expand_complex)
4. 
5. 
6. def test_complex():
7.     a = Symbol("a", real=True)
8.     b = Symbol("b", real=True)
9.     e = (a + I*b)*(a - I*b)
10.     assert e.expand() == a**2 + b**2
11.     assert sqrt(I) == sqrt(I)
12. 
13. 
14. def test_conjugate():
15.     a = Symbol("a", real=True)
16.     b = Symbol("b", real=True)
17.     c = Symbol("c", imaginary=True)
18.     d = Symbol("d", imaginary=True)
19.     x = Symbol('x')
20.     z = a + I*b + c + I*d
21.     zc = a - I*b - c + I*d
22.     assert conjugate(z) == zc
23.     assert conjugate(exp(z)) == exp(zc)
24.     assert conjugate(exp(I*x)) == exp(-I*conjugate(x))
25.     assert conjugate(z**5) == zc**5
26.     assert conjugate(abs(x)) == abs(x)
27.     assert conjugate(sign(z)) == sign(zc)
28.     assert conjugate(sin(z)) == sin(zc)
29.     assert conjugate(cos(z)) == cos(zc)
30.     assert conjugate(tan(z)) == tan(zc)
31.     assert conjugate(cot(z)) == cot(zc)
32.     assert conjugate(sinh(z)) == sinh(zc)
33.     assert conjugate(cosh(z)) == cosh(zc)
34.     assert conjugate(tanh(z)) == tanh(zc)
35.     assert conjugate(coth(z)) == coth(zc)
36. 
37. 
38. def test_abs1():
39.     a = Symbol("a", real=True)
40.     b = Symbol("b", real=True)
41.     assert abs(a) == abs(a)
42.     assert abs(-a) == abs(a)
43.     assert abs(a + I*b) == sqrt(a**2 + b**2)
44. 
45. 
46. def test_abs2():
47.     a = Symbol("a", real=False)
48.     b = Symbol("b", real=False)
49.     assert abs(a) != a
50.     assert abs(-a) != a
51.     assert abs(a + I*b) != sqrt(a**2 + b**2)
52. 
53. 
54. def test_evalc():
55.     x = Symbol("x", real=True)
56.     y = Symbol("y", real=True)
57.     z = Symbol("z")
58.     assert ((x + I*y)**2).expand(complex=True) == x**2 + 2*I*x*y - y**2
59.     assert expand_complex(z**(2*I)) == (re((re(z) + I*im(z))**(2*I)) +
60.         I*im((re(z) + I*im(z))**(2*I)))
61.     assert expand_complex(
62.         z**(2*I), deep=False) == I*im(z**(2*I)) + re(z**(2*I))
63. 
64.     assert exp(I*x) != cos(x) + I*sin(x)
65.     assert exp(I*x).expand(complex=True) == cos(x) + I*sin(x)
66.     assert exp(I*x + y).expand(complex=True) == exp(y)*cos(x) + I*sin(x)*exp(y)
67. 
68.     assert sin(I*x).expand(complex=True) == I * sinh(x)
69.     assert sin(x + I*y).expand(complex=True) == sin(x)*cosh(y) + \
70.         I * sinh(y) * cos(x)
71. 
72.     assert cos(I*x).expand(complex=True) == cosh(x)
73.     assert cos(x + I*y).expand(complex=True) == cos(x)*cosh(y) - \
74.         I * sinh(y) * sin(x)
75. 
76.     assert tan(I*x).expand(complex=True) == tanh(x) * I
77.     assert tan(x + I*y).expand(complex=True) == (
78.         sin(2*x)/(cos(2*x) + cosh(2*y)) +
79.         I*sinh(2*y)/(cos(2*x) + cosh(2*y)))
80. 
81.     assert sinh(I*x).expand(complex=True) == I * sin(x)
82.     assert sinh(x + I*y).expand(complex=True) == sinh(x)*cos(y) + \
83.         I * sin(y) * cosh(x)
84. 
85.     assert cosh(I*x).expand(complex=True) == cos(x)
86.     assert cosh(x + I*y).expand(complex=True) == cosh(x)*cos(y) + \
87.         I * sin(y) * sinh(x)
88. 
89.     assert tanh(I*x).expand(complex=True) == tan(x) * I
90.     assert tanh(x + I*y).expand(complex=True) == (
91.         (sinh(x)*cosh(x) + I*cos(y)*sin(y)) /
92.         (sinh(x)**2 + cos(y)**2)).expand()
93. 
94. 
95. def test_pythoncomplex():
96.     x = Symbol("x")
97.     assert 4j*x == 4*x*I
98.     assert 4j*x == 4.0*x*I
99.     assert 4.1j*x != 4*x*I
100. 
101. 
102. def test_rootcomplex():
103.     R = Rational
104.     assert ((+1 + I)**R(1, 2)).expand(
105.         complex=True) == 2**R(1, 4)*cos(  pi/8) + 2**R(1, 4)*sin(  pi/8)*I
106.     assert ((-1 - I)**R(1, 2)).expand(
107.         complex=True) == 2**R(1, 4)*cos(3*pi/8) - 2**R(1, 4)*sin(3*pi/8)*I
108.     assert (sqrt(-10)*I).as_real_imag() == (-sqrt(10), 0)
109. 
110. 
111. def test_expand_inverse():
112.     assert (1/(1 + I)).expand(complex=True) == (1 - I)/2
113.     assert ((1 + 2*I)**(-2)).expand(complex=True) == (-3 - 4*I)/25
114.     assert ((1 + I)**(-8)).expand(complex=True) == Rational(1, 16)
115. 
116. 
117. def test_expand_complex():
118.     assert ((2 + 3*I)**10).expand(complex=True) == -341525 - 145668*I
119.     # the following two tests are to ensure the SymPy uses an efficient
120.     # algorithm for calculating powers of complex numbers. They should execute
121.     # in something like 0.01s.
122.     assert ((2 + 3*I)**1000).expand(complex=True) == \
123.         -81079464736246615951519029367296227340216902563389546989376269312984127074385455204551402940331021387412262494620336565547972162814110386834027871072723273110439771695255662375718498785908345629702081336606863762777939617745464755635193139022811989314881997210583159045854968310911252660312523907616129080027594310008539817935736331124833163907518549408018652090650537035647520296539436440394920287688149200763245475036722326561143851304795139005599209239350981457301460233967137708519975586996623552182807311159141501424576682074392689622074945519232029999 + \
124.         46938745946789557590804551905243206242164799136976022474337918748798900569942573265747576032611189047943842446167719177749107138603040963603119861476016947257034472364028585381714774667326478071264878108114128915685688115488744955550920239128462489496563930809677159214598114273887061533057125164518549173898349061972857446844052995037423459472376202251620778517659247970283904820245958198842631651569984310559418135975795868314764489884749573052997832686979294085577689571149679540256349988338406458116270429842222666345146926395233040564229555893248370000*I
125.     assert ((2 + 3*I/4)**1000).expand(complex=True) == \
126.         Integer(1)*37079892761199059751745775382463070250205990218394308874593455293485167797989691280095867197640410033222367257278387021789651672598831503296531725827158233077451476545928116965316544607115843772405184272449644892857783761260737279675075819921259597776770965829089907990486964515784097181964312256560561065607846661496055417619388874421218472707497847700629822858068783288579581649321248495739224020822198695759609598745114438265083593711851665996586461937988748911532242908776883696631067311443171682974330675406616373422505939887984366289623091300746049101284856530270685577940283077888955692921951247230006346681086274961362500646889925803654263491848309446197554307105991537357310209426736453173441104334496173618419659521888945605315751089087820455852582920963561495787655250624781448951403353654348109893478206364632640344111022531861683064175862889459084900614967785405977231549003280842218501570429860550379522498497412180001/114813069527425452423283320117768198402231770208869520047764273682576626139237031385665948631650626991844596463898746277344711896086305533142593135616665318539129989145312280000688779148240044871428926990063486244781615463646388363947317026040466353970904996558162398808944629605623311649536164221970332681344168908984458505602379484807914058900934776500429002716706625830522008132236281291761267883317206598995396418127021779858404042159853183251540889433902091920554957783589672039160081957216630582755380425583726015528348786419432054508915275783882625175435528800822842770817965453762184851149029376 + \
127.         I*421638390580169706973991429333213477486930178424989246669892530737775352519112934278994501272111385966211392610029433824534634841747911783746811994443436271013377059560245191441549885048056920190833693041257216263519792201852046825443439142932464031501882145407459174948712992271510309541474392303461939389368955986650538525895866713074543004916049550090364398070215427272240155060576252568700906004691224321432509053286859100920489253598392100207663785243368195857086816912514025693453058403158416856847185079684216151337200057494966741268925263085619240941610301610538225414050394612058339070756009433535451561664522479191267503989904464718368605684297071150902631208673621618217106272361061676184840810762902463998065947687814692402219182668782278472952758690939877465065070481351343206840649517150634973307937551168752642148704904383991876969408056379195860410677814566225456558230131911142229028179902418223009651437985670625/1793954211366022694113801876840128100034871409513586250746316776290259783425578615401030447369541046747571819748417910583511123376348523955353017744010395602173906080395504375010762174191250701116076984219741972574712741619474818186676828531882286780795390571221287481389759837587864244524002565968286448146002639202882164150037179450123657170327105882819203167448541028601906377066191895183769810676831353109303069033234715310287563158747705988305326397404720186258671215368588625611876280581509852855552819149745718992630449787803625851701801184123166018366180137512856918294030710215034138299203584
128.     assert ((2 + 3*I)**-1000).expand(complex=True) == \
129.         Integer(1)*-81079464736246615951519029367296227340216902563389546989376269312984127074385455204551402940331021387412262494620336565547972162814110386834027871072723273110439771695255662375718498785908345629702081336606863762777939617745464755635193139022811989314881997210583159045854968310911252660312523907616129080027594310008539817935736331124833163907518549408018652090650537035647520296539436440394920287688149200763245475036722326561143851304795139005599209239350981457301460233967137708519975586996623552182807311159141501424576682074392689622074945519232029999/8777125472973511649630750050295188683351430110097915876250894978429797369155961290321829625004920141758416719066805645579710744290541337680113772670040386863849283653078324415471816788604945889094925784900885812724984087843737442111926413818245854362613018058774368703971604921858023116665586358870612944209398056562604561248859926344335598822815885851096698226775053153403320782439987679978321289537645645163767251396759519805603090332694449553371530571613352311006350058217982509738362083094920649452123351717366337410243853659113315547584871655479914439219520157174729130746351059075207407866012574386726064196992865627149566238044625779078186624347183905913357718850537058578084932880569701242598663149911276357125355850792073635533676541250531086757377369962506979378337216411188347761901006460813413505861461267545723590468627854202034450569581626648934062198718362303420281555886394558137408159453103395918783625713213314350531051312551733021627153081075080140680608080529736975658786227362251632725009435866547613598753584705455955419696609282059191031962604169242974038517575645939316377801594539335940001 - Integer(1)*46938745946789557590804551905243206242164799136976022474337918748798900569942573265747576032611189047943842446167719177749107138603040963603119861476016947257034472364028585381714774667326478071264878108114128915685688115488744955550920239128462489496563930809677159214598114273887061533057125164518549173898349061972857446844052995037423459472376202251620778517659247970283904820245958198842631651569984310559418135975795868314764489884749573052997832686979294085577689571149679540256349988338406458116270429842222666345146926395233040564229555893248370000*I/8777125472973511649630750050295188683351430110097915876250894978429797369155961290321829625004920141758416719066805645579710744290541337680113772670040386863849283653078324415471816788604945889094925784900885812724984087843737442111926413818245854362613018058774368703971604921858023116665586358870612944209398056562604561248859926344335598822815885851096698226775053153403320782439987679978321289537645645163767251396759519805603090332694449553371530571613352311006350058217982509738362083094920649452123351717366337410243853659113315547584871655479914439219520157174729130746351059075207407866012574386726064196992865627149566238044625779078186624347183905913357718850537058578084932880569701242598663149911276357125355850792073635533676541250531086757377369962506979378337216411188347761901006460813413505861461267545723590468627854202034450569581626648934062198718362303420281555886394558137408159453103395918783625713213314350531051312551733021627153081075080140680608080529736975658786227362251632725009435866547613598753584705455955419696609282059191031962604169242974038517575645939316377801594539335940001
130.     assert ((2 + 3*I/4)**-1000).expand(complex=True) == \
131.         Integer(1)*4257256305661027385394552848555894604806501409793288342610746813288539790051927148781268212212078237301273165351052934681382567968787279534591114913777456610214738290619922068269909423637926549603264174216950025398244509039145410016404821694746262142525173737175066432954496592560621330313807235750500564940782099283410261748370262433487444897446779072067625787246390824312580440138770014838135245148574339248259670887549732495841810961088930810608893772914812838358159009303794863047635845688453859317690488124382253918725010358589723156019888846606295866740117645571396817375322724096486161308083462637370825829567578309445855481578518239186117686659177284332344643124760453112513611749309168470605289172320376911472635805822082051716625171429727162039621902266619821870482519063133136820085579315127038372190224739238686708451840610064871885616258831386810233957438253532027049148030157164346719204500373766157143311767338973363806106967439378604898250533766359989107510507493549529158818602327525235240510049484816090584478644771183158342479140194633579061295740839490629457435283873180259847394582069479062820225159699506175855369539201399183443253793905149785994830358114153241481884290274629611529758663543080724574566578220908907477622643689220814376054314972190402285121776593824615083669045183404206291739005554569305329760211752815718335731118664756831942466773261465213581616104242113894521054475516019456867271362053692785300826523328020796670205463390909136593859765912483565093461468865534470710132881677639651348709376/2103100954337624833663208713697737151593634525061637972297915388685604042449504336765884978184588688426595940401280828953096857809292320006227881797146858511436638446932833617514351442216409828605662238790280753075176269765767010004889778647709740770757817960711900340755635772183674511158570690702969774966791073165467918123298694584729211212414462628433370481195120564586361368504153395406845170075275051749019600057116719726628746724489572189061061036426955163696859127711110719502594479795200686212257570291758725259007379710596548777812659422174199194837355646482046783616494013289495563083118517507178847555801163089723056310287760875135196081975602765511153122381201303871673391366630940702817360340900568748719988954847590748960761446218262344767250783946365392689256634180417145926390656439421745644011831124277463643383712803287985472471755648426749842410972650924240795946699346613614779460399530274263580007672855851663196114585312432954432654691485867618908420370875753749297487803461900447407917655296784879220450937110470920633595689721819488638484547259978337741496090602390463594556401615298457456112485536498177883358587125449801777718900375736758266215245325999241624148841915093787519330809347240990363802360596034171167818310322276373120180985148650099673289383722502488957717848531612020897298448601714154586319660314294591620415272119454982220034319689607295960162971300417552364254983071768070124456169427638371140064235083443242844616326538396503937972586505546495649094344512270582463639152160238137952390380581401171977159154009407415523525096743009110916334144716516647041176989758534635251844947906038080852185583742296318878233394998111078843229681030277039104786225656992262073797524057992347971177720807155842376332851559276430280477639539393920006008737472164850104411971830120295750221200029811143140323763349636629725073624360001 - Integer(1)*3098214262599218784594285246258841485430681674561917573155883806818465520660668045042109232930382494608383663464454841313154390741655282039877410154577448327874989496074260116195788919037407420625081798124301494353693248757853222257918294662198297114746822817460991242508743651430439120439020484502408313310689912381846149597061657483084652685283853595100434135149479564507015504022249330340259111426799121454516345905101620532787348293877485702600390665276070250119465888154331218827342488849948540687659846652377277250614246402784754153678374932540789808703029043827352976139228402417432199779415751301480406673762521987999573209628597459357964214510139892316208670927074795773830798600837815329291912002136924506221066071242281626618211060464126372574400100990746934953437169840312584285942093951405864225230033279614235191326102697164613004299868695519642598882914862568516635347204441042798206770888274175592401790040170576311989738272102077819127459014286741435419468254146418098278519775722104890854275995510700298782146199325790002255362719776098816136732897323406228294203133323296591166026338391813696715894870956511298793595675308998014158717167429941371979636895553724830981754579086664608880698350866487717403917070872269853194118364230971216854931998642990452908852258008095741042117326241406479532880476938937997238098399302185675832474590293188864060116934035867037219176916416481757918864533515526389079998129329045569609325290897577497835388451456680707076072624629697883854217331728051953671643278797380171857920000*I/2103100954337624833663208713697737151593634525061637972297915388685604042449504336765884978184588688426595940401280828953096857809292320006227881797146858511436638446932833617514351442216409828605662238790280753075176269765767010004889778647709740770757817960711900340755635772183674511158570690702969774966791073165467918123298694584729211212414462628433370481195120564586361368504153395406845170075275051749019600057116719726628746724489572189061061036426955163696859127711110719502594479795200686212257570291758725259007379710596548777812659422174199194837355646482046783616494013289495563083118517507178847555801163089723056310287760875135196081975602765511153122381201303871673391366630940702817360340900568748719988954847590748960761446218262344767250783946365392689256634180417145926390656439421745644011831124277463643383712803287985472471755648426749842410972650924240795946699346613614779460399530274263580007672855851663196114585312432954432654691485867618908420370875753749297487803461900447407917655296784879220450937110470920633595689721819488638484547259978337741496090602390463594556401615298457456112485536498177883358587125449801777718900375736758266215245325999241624148841915093787519330809347240990363802360596034171167818310322276373120180985148650099673289383722502488957717848531612020897298448601714154586319660314294591620415272119454982220034319689607295960162971300417552364254983071768070124456169427638371140064235083443242844616326538396503937972586505546495649094344512270582463639152160238137952390380581401171977159154009407415523525096743009110916334144716516647041176989758534635251844947906038080852185583742296318878233394998111078843229681030277039104786225656992262073797524057992347971177720807155842376332851559276430280477639539393920006008737472164850104411971830120295750221200029811143140323763349636629725073624360001
132. 
133.     a = Symbol('a', real=True)
134.     b = Symbol('b', real=True)
135.     assert exp(a*(2 + I*b)).expand(complex=True) == \
136.         I*exp(2*a)*sin(a*b) + exp(2*a)*cos(a*b)
137. 
138. 
139. def test_expand():
140.     f = (16 - 2*sqrt(29))**2
141.     assert f.expand() == 372 - 64*sqrt(29)
142.     f = (Integer(1)/2 + I/2)**10
143.     assert f.expand() == I/32
144.     f = (Integer(1)/2 + I)**10
145.     assert f.expand() == Integer(237)/1024 - 779*I/256
146. 
147. 
148. def test_re_im1652():
149.     x = Symbol('x')
150.     assert re(x) == re(conjugate(x))
151.     assert im(x) == - im(conjugate(x))
152.     assert im(x)*re(conjugate(x)) + im(conjugate(x)) * re(x) == 0
153. 
154. 
155. def test_issue_5084():
156.     x = Symbol('x')
157.     assert ((x + x*I)/(1 + I)).as_real_imag() == (re((x + I*x)/(1 + I)
158.             ), im((x + I*x)/(1 + I)))
159. 
160. 
161. def test_issue_5236():
162.     assert (cos(1 + I)**3).as_real_imag() == (-3*sin(1)**2*sinh(1)**2*cos(1)*cosh(1) +
163.         cos(1)**3*cosh(1)**3, -3*cos(1)**2*cosh(1)**2*sin(1)*sinh(1) + sin(1)**3*sinh(1)**3)
164. 
165. 
166. def test_real_imag():
167.     x, y, z = symbols('x, y, z')
168.     X, Y, Z = symbols('X, Y, Z', commutative=False)
169.     a = Symbol('a', real=True)
170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))
171. 
172.     # issue 5395:
173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)
174.     assert im(x*x.conjugate()) == 0
175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2
176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2
177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2
178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)
179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \
180.         (Abs(sin(x))**2, 0)
181. 
182.     # issue 6573:
183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))
184. 
185.     # issue 6428:
186.     r = Symbol('r', real=True)
187.     i = Symbol('i', imaginary=True)
188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))
189.     assert (i*r*x*(y + 2)).as_real_imag() == (
190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),
191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))
192. 
193.     # issue 7106:
194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)
195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)
196. 
197. 
198. def test_pow_issue_1724():
199.     e = ((-1)**(S(1)/3))
200.     assert e.conjugate().n() == e.n().conjugate()
201.     e = S('-2/3 - (-29/54 + sqrt(93)/18)**(1/3) - 1/(9*(-29/54 + sqrt(93)/18)**(1/3))')
202.     assert e.conjugate().n() == e.n().conjugate()
203.     e = 2**I
204.     assert e.conjugate().n() == e.n().conjugate()
205. 
206. 
207. def test_issue_5429():
208.     assert sqrt(I).conjugate() != sqrt(I)
209. 
210. def test_issue_4124():
211.     from sympy import oo
212.     assert expand_complex(I*oo) == oo*I
213. 
214. def test_issue_11518():
215.     x = Symbol("x", real=True)
216.     y = Symbol("y", real=True)
217.     r = sqrt(x**2 + y**2)
218.     assert conjugate(r) == r
219.     s = abs(x + I * y)
220.     assert conjugate(s) == r

File: sympy/core/tests/test_assumptions.py
Line number range: 1 - 500
Content:
1. from sympy import I, sqrt, log, exp, sin, asin, factorial, Mod, pi
2. from sympy.core import Symbol, S, Rational, Integer, Dummy, Wild, Pow
3. from sympy.core.facts import InconsistentAssumptions
4. from sympy import simplify
5. from sympy.core.compatibility import range
6. 
7. from sympy.utilities.pytest import raises, XFAIL
8. 
9. 
10. def test_symbol_unset():
11.     x = Symbol('x', real=True, integer=True)
12.     assert x.is_real is True
13.     assert x.is_integer is True
14.     assert x.is_imaginary is False
15.     assert x.is_noninteger is False
16.     assert x.is_number is False
17. 
18. 
19. def test_zero():
20.     z = Integer(0)
21.     assert z.is_commutative is True
22.     assert z.is_integer is True
23.     assert z.is_rational is True
24.     assert z.is_algebraic is True
25.     assert z.is_transcendental is False
26.     assert z.is_real is True
27.     assert z.is_complex is True
28.     assert z.is_noninteger is False
29.     assert z.is_irrational is False
30.     assert z.is_imaginary is False
31.     assert z.is_positive is False
32.     assert z.is_negative is False
33.     assert z.is_nonpositive is True
34.     assert z.is_nonnegative is True
35.     assert z.is_even is True
36.     assert z.is_odd is False
37.     assert z.is_finite is True
38.     assert z.is_infinite is False
39.     assert z.is_comparable is True
40.     assert z.is_prime is False
41.     assert z.is_composite is False
42.     assert z.is_number is True
43. 
44. 
45. def test_one():
46.     z = Integer(1)
47.     assert z.is_commutative is True
48.     assert z.is_integer is True
49.     assert z.is_rational is True
50.     assert z.is_algebraic is True
51.     assert z.is_transcendental is False
52.     assert z.is_real is True
53.     assert z.is_complex is True
54.     assert z.is_noninteger is False
55.     assert z.is_irrational is False
56.     assert z.is_imaginary is False
57.     assert z.is_positive is True
58.     assert z.is_negative is False
59.     assert z.is_nonpositive is False
60.     assert z.is_nonnegative is True
61.     assert z.is_even is False
62.     assert z.is_odd is True
63.     assert z.is_finite is True
64.     assert z.is_infinite is False
65.     assert z.is_comparable is True
66.     assert z.is_prime is False
67.     assert z.is_number is True
68.     assert z.is_composite is False  # issue 8807
69. 
70. 
71. def test_negativeone():
72.     z = Integer(-1)
73.     assert z.is_commutative is True
74.     assert z.is_integer is True
75.     assert z.is_rational is True
76.     assert z.is_algebraic is True
77.     assert z.is_transcendental is False
78.     assert z.is_real is True
79.     assert z.is_complex is True
80.     assert z.is_noninteger is False
81.     assert z.is_irrational is False
82.     assert z.is_imaginary is False
83.     assert z.is_positive is False
84.     assert z.is_negative is True
85.     assert z.is_nonpositive is True
86.     assert z.is_nonnegative is False
87.     assert z.is_even is False
88.     assert z.is_odd is True
89.     assert z.is_finite is True
90.     assert z.is_infinite is False
91.     assert z.is_comparable is True
92.     assert z.is_prime is False
93.     assert z.is_composite is False
94.     assert z.is_number is True
95. 
96. 
97. def test_infinity():
98.     oo = S.Infinity
99. 
100.     assert oo.is_commutative is True
101.     assert oo.is_integer is None
102.     assert oo.is_rational is None
103.     assert oo.is_algebraic is None
104.     assert oo.is_transcendental is None
105.     assert oo.is_real is True
106.     assert oo.is_complex is True
107.     assert oo.is_noninteger is None
108.     assert oo.is_irrational is None
109.     assert oo.is_imaginary is False
110.     assert oo.is_positive is True
111.     assert oo.is_negative is False
112.     assert oo.is_nonpositive is False
113.     assert oo.is_nonnegative is True
114.     assert oo.is_even is None
115.     assert oo.is_odd is None
116.     assert oo.is_finite is False
117.     assert oo.is_infinite is True
118.     assert oo.is_comparable is True
119.     assert oo.is_prime is False
120.     assert oo.is_composite is None
121.     assert oo.is_number is True
122. 
123. 
124. def test_neg_infinity():
125.     mm = S.NegativeInfinity
126. 
127.     assert mm.is_commutative is True
128.     assert mm.is_integer is None
129.     assert mm.is_rational is None
130.     assert mm.is_algebraic is None
131.     assert mm.is_transcendental is None
132.     assert mm.is_real is True
133.     assert mm.is_complex is True
134.     assert mm.is_noninteger is None
135.     assert mm.is_irrational is None
136.     assert mm.is_imaginary is False
137.     assert mm.is_positive is False
138.     assert mm.is_negative is True
139.     assert mm.is_nonpositive is True
140.     assert mm.is_nonnegative is False
141.     assert mm.is_even is None
142.     assert mm.is_odd is None
143.     assert mm.is_finite is False
144.     assert mm.is_infinite is True
145.     assert mm.is_comparable is True
146.     assert mm.is_prime is False
147.     assert mm.is_composite is False
148.     assert mm.is_number is True
149. 
150. 
151. def test_zoo():
152.     zoo = S.ComplexInfinity
153.     assert zoo.is_complex
154.     assert zoo.is_real is False
155.     assert zoo.is_prime is False
156. 
157. 
158. def test_nan():
159.     nan = S.NaN
160. 
161.     assert nan.is_commutative is True
162.     assert nan.is_integer is None
163.     assert nan.is_rational is None
164.     assert nan.is_algebraic is None
165.     assert nan.is_transcendental is None
166.     assert nan.is_real is None
167.     assert nan.is_complex is None
168.     assert nan.is_noninteger is None
169.     assert nan.is_irrational is None
170.     assert nan.is_imaginary is None
171.     assert nan.is_positive is None
172.     assert nan.is_negative is None
173.     assert nan.is_nonpositive is None
174.     assert nan.is_nonnegative is None
175.     assert nan.is_even is None
176.     assert nan.is_odd is None
177.     assert nan.is_finite is None
178.     assert nan.is_infinite is None
179.     assert nan.is_comparable is False
180.     assert nan.is_prime is None
181.     assert nan.is_composite is None
182.     assert nan.is_number is True
183. 
184. 
185. def test_pos_rational():
186.     r = Rational(3, 4)
187.     assert r.is_commutative is True
188.     assert r.is_integer is False
189.     assert r.is_rational is True
190.     assert r.is_algebraic is True
191.     assert r.is_transcendental is False
192.     assert r.is_real is True
193.     assert r.is_complex is True
194.     assert r.is_noninteger is True
195.     assert r.is_irrational is False
196.     assert r.is_imaginary is False
197.     assert r.is_positive is True
198.     assert r.is_negative is False
199.     assert r.is_nonpositive is False
200.     assert r.is_nonnegative is True
201.     assert r.is_even is False
202.     assert r.is_odd is False
203.     assert r.is_finite is True
204.     assert r.is_infinite is False
205.     assert r.is_comparable is True
206.     assert r.is_prime is False
207.     assert r.is_composite is False
208. 
209.     r = Rational(1, 4)
210.     assert r.is_nonpositive is False
211.     assert r.is_positive is True
212.     assert r.is_negative is False
213.     assert r.is_nonnegative is True
214.     r = Rational(5, 4)
215.     assert r.is_negative is False
216.     assert r.is_positive is True
217.     assert r.is_nonpositive is False
218.     assert r.is_nonnegative is True
219.     r = Rational(5, 3)
220.     assert r.is_nonnegative is True
221.     assert r.is_positive is True
222.     assert r.is_negative is False
223.     assert r.is_nonpositive is False
224. 
225. 
226. def test_neg_rational():
227.     r = Rational(-3, 4)
228.     assert r.is_positive is False
229.     assert r.is_nonpositive is True
230.     assert r.is_negative is True
231.     assert r.is_nonnegative is False
232.     r = Rational(-1, 4)
233.     assert r.is_nonpositive is True
234.     assert r.is_positive is False
235.     assert r.is_negative is True
236.     assert r.is_nonnegative is False
237.     r = Rational(-5, 4)
238.     assert r.is_negative is True
239.     assert r.is_positive is False
240.     assert r.is_nonpositive is True
241.     assert r.is_nonnegative is False
242.     r = Rational(-5, 3)
243.     assert r.is_nonnegative is False
244.     assert r.is_positive is False
245.     assert r.is_negative is True
246.     assert r.is_nonpositive is True
247. 
248. 
249. def test_pi():
250.     z = S.Pi
251.     assert z.is_commutative is True
252.     assert z.is_integer is False
253.     assert z.is_rational is False
254.     assert z.is_algebraic is False
255.     assert z.is_transcendental is True
256.     assert z.is_real is True
257.     assert z.is_complex is True
258.     assert z.is_noninteger is True
259.     assert z.is_irrational is True
260.     assert z.is_imaginary is False
261.     assert z.is_positive is True
262.     assert z.is_negative is False
263.     assert z.is_nonpositive is False
264.     assert z.is_nonnegative is True
265.     assert z.is_even is False
266.     assert z.is_odd is False
267.     assert z.is_finite is True
268.     assert z.is_infinite is False
269.     assert z.is_comparable is True
270.     assert z.is_prime is False
271.     assert z.is_composite is False
272. 
273. 
274. def test_E():
275.     z = S.Exp1
276.     assert z.is_commutative is True
277.     assert z.is_integer is False
278.     assert z.is_rational is False
279.     assert z.is_algebraic is False
280.     assert z.is_transcendental is True
281.     assert z.is_real is True
282.     assert z.is_complex is True
283.     assert z.is_noninteger is True
284.     assert z.is_irrational is True
285.     assert z.is_imaginary is False
286.     assert z.is_positive is True
287.     assert z.is_negative is False
288.     assert z.is_nonpositive is False
289.     assert z.is_nonnegative is True
290.     assert z.is_even is False
291.     assert z.is_odd is False
292.     assert z.is_finite is True
293.     assert z.is_infinite is False
294.     assert z.is_comparable is True
295.     assert z.is_prime is False
296.     assert z.is_composite is False
297. 
298. 
299. def test_I():
300.     z = S.ImaginaryUnit
301.     assert z.is_commutative is True
302.     assert z.is_integer is False
303.     assert z.is_rational is False
304.     assert z.is_algebraic is True
305.     assert z.is_transcendental is False
306.     assert z.is_real is False
307.     assert z.is_complex is True
308.     assert z.is_noninteger is False
309.     assert z.is_irrational is False
310.     assert z.is_imaginary is True
311.     assert z.is_positive is False
312.     assert z.is_negative is False
313.     assert z.is_nonpositive is False
314.     assert z.is_nonnegative is False
315.     assert z.is_even is False
316.     assert z.is_odd is False
317.     assert z.is_finite is True
318.     assert z.is_infinite is False
319.     assert z.is_comparable is False
320.     assert z.is_prime is False
321.     assert z.is_composite is False
322. 
323. 
324. def test_symbol_real():
325.     # issue 3848
326.     a = Symbol('a', real=False)
327. 
328.     assert a.is_real is False
329.     assert a.is_integer is False
330.     assert a.is_negative is False
331.     assert a.is_positive is False
332.     assert a.is_nonnegative is False
333.     assert a.is_nonpositive is False
334.     assert a.is_zero is False
335. 
336. 
337. def test_symbol_imaginary():
338.     a = Symbol('a', imaginary=True)
339. 
340.     assert a.is_real is False
341.     assert a.is_integer is False
342.     assert a.is_negative is False
343.     assert a.is_positive is False
344.     assert a.is_nonnegative is False
345.     assert a.is_nonpositive is False
346.     assert a.is_zero is False
347.     assert a.is_nonzero is False  # since nonzero -> real
348. 
349. 
350. def test_symbol_zero():
351.     x = Symbol('x', zero=True)
352.     assert x.is_positive is False
353.     assert x.is_nonpositive
354.     assert x.is_negative is False
355.     assert x.is_nonnegative
356.     assert x.is_zero is True
357.     # TODO Change to x.is_nonzero is None
358.     # See https://github.com/sympy/sympy/pull/9583
359.     assert x.is_nonzero is False
360.     assert x.is_finite is True
361. 
362. 
363. def test_symbol_positive():
364.     x = Symbol('x', positive=True)
365.     assert x.is_positive is True
366.     assert x.is_nonpositive is False
367.     assert x.is_negative is False
368.     assert x.is_nonnegative is True
369.     assert x.is_zero is False
370.     assert x.is_nonzero is True
371. 
372. 
373. def test_neg_symbol_positive():
374.     x = -Symbol('x', positive=True)
375.     assert x.is_positive is False
376.     assert x.is_nonpositive is True
377.     assert x.is_negative is True
378.     assert x.is_nonnegative is False
379.     assert x.is_zero is False
380.     assert x.is_nonzero is True
381. 
382. 
383. def test_symbol_nonpositive():
384.     x = Symbol('x', nonpositive=True)
385.     assert x.is_positive is False
386.     assert x.is_nonpositive is True
387.     assert x.is_negative is None
388.     assert x.is_nonnegative is None
389.     assert x.is_zero is None
390.     assert x.is_nonzero is None
391. 
392. 
393. def test_neg_symbol_nonpositive():
394.     x = -Symbol('x', nonpositive=True)
395.     assert x.is_positive is None
396.     assert x.is_nonpositive is None
397.     assert x.is_negative is False
398.     assert x.is_nonnegative is True
399.     assert x.is_zero is None
400.     assert x.is_nonzero is None
401. 
402. 
403. def test_symbol_falsepositive():
404.     x = Symbol('x', positive=False)
405.     assert x.is_positive is False
406.     assert x.is_nonpositive is None
407.     assert x.is_negative is None
408.     assert x.is_nonnegative is None
409.     assert x.is_zero is None
410.     assert x.is_nonzero is None
411. 
412. 
413. def test_symbol_falsepositive_mul():
414.     # To test pull request 9379
415.     # Explicit handling of arg.is_positive=False was added to Mul._eval_is_positive
416.     x = 2*Symbol('x', positive=False)
417.     assert x.is_positive is False  # This was None before
418.     assert x.is_nonpositive is None
419.     assert x.is_negative is None
420.     assert x.is_nonnegative is None
421.     assert x.is_zero is None
422.     assert x.is_nonzero is None
423. 
424. 
425. def test_neg_symbol_falsepositive():
426.     x = -Symbol('x', positive=False)
427.     assert x.is_positive is None
428.     assert x.is_nonpositive is None
429.     assert x.is_negative is False
430.     assert x.is_nonnegative is None
431.     assert x.is_zero is None
432.     assert x.is_nonzero is None
433. 
434. 
435. def test_neg_symbol_falsenegative():
436.     # To test pull request 9379
437.     # Explicit handling of arg.is_negative=False was added to Mul._eval_is_positive
438.     x = -Symbol('x', negative=False)
439.     assert x.is_positive is False  # This was None before
440.     assert x.is_nonpositive is None
441.     assert x.is_negative is None
442.     assert x.is_nonnegative is None
443.     assert x.is_zero is None
444.     assert x.is_nonzero is None
445. 
446. 
447. def test_symbol_falsepositive_real():
448.     x = Symbol('x', positive=False, real=True)
449.     assert x.is_positive is False
450.     assert x.is_nonpositive is True
451.     assert x.is_negative is None
452.     assert x.is_nonnegative is None
453.     assert x.is_zero is None
454.     assert x.is_nonzero is None
455. 
456. 
457. def test_neg_symbol_falsepositive_real():
458.     x = -Symbol('x', positive=False, real=True)
459.     assert x.is_positive is None
460.     assert x.is_nonpositive is None
461.     assert x.is_negative is False
462.     assert x.is_nonnegative is True
463.     assert x.is_zero is None
464.     assert x.is_nonzero is None
465. 
466. 
467. def test_symbol_falsenonnegative():
468.     x = Symbol('x', nonnegative=False)
469.     assert x.is_positive is False
470.     assert x.is_nonpositive is None
471.     assert x.is_negative is None
472.     assert x.is_nonnegative is False
473.     assert x.is_zero is False
474.     assert x.is_nonzero is None
475. 
476. 
477. @XFAIL
478. def test_neg_symbol_falsenonnegative():
479.     x = -Symbol('x', nonnegative=False)
480.     assert x.is_positive is None
481.     assert x.is_nonpositive is False  # this currently returns None
482.     assert x.is_negative is False  # this currently returns None
483.     assert x.is_nonnegative is None
484.     assert x.is_zero is False  # this currently returns None
485.     assert x.is_nonzero is True  # this currently returns None
486. 
487. 
488. def test_symbol_falsenonnegative_real():
489.     x = Symbol('x', nonnegative=False, real=True)
490.     assert x.is_positive is False
491.     assert x.is_nonpositive is True
492.     assert x.is_negative is True
493.     assert x.is_nonnegative is False
494.     assert x.is_zero is False
495.     assert x.is_nonzero is True
496. 
497. 
498. def test_neg_symbol_falsenonnegative_real():
499.     x = -Symbol('x', nonnegative=False, real=True)
500.     assert x.is_positive is True

File: sympy/core/tests/test_function.py
Line number range: 1 - 500
Content:
1. from sympy import (Lambda, Symbol, Function, Derivative, Subs, sqrt,
2.         log, exp, Rational, Float, sin, cos, acos, diff, I, re, im,
3.         E, expand, pi, O, Sum, S, polygamma, loggamma, expint,
4.         Tuple, Dummy, Eq, Expr, symbols, nfloat, Piecewise, Indexed,
5.         Matrix, Basic)
6. from sympy.utilities.pytest import XFAIL, raises
7. from sympy.core.basic import _aresame
8. from sympy.core.function import PoleError, _mexpand
9. from sympy.core.sympify import sympify
10. from sympy.sets.sets import FiniteSet
11. from sympy.solvers.solveset import solveset
12. from sympy.utilities.iterables import subsets, variations
13. from sympy.core.cache import clear_cache
14. from sympy.core.compatibility import range
15. from sympy.tensor.array import NDimArray
16. 
17. from sympy.abc import t, w, x, y, z
18. f, g, h = symbols('f g h', cls=Function)
19. _xi_1, _xi_2, _xi_3 = [Dummy() for i in range(3)]
20. 
21. def test_f_expand_complex():
22.     x = Symbol('x', real=True)
23. 
24.     assert f(x).expand(complex=True) == I*im(f(x)) + re(f(x))
25.     assert exp(x).expand(complex=True) == exp(x)
26.     assert exp(I*x).expand(complex=True) == cos(x) + I*sin(x)
27.     assert exp(z).expand(complex=True) == cos(im(z))*exp(re(z)) + \
28.         I*sin(im(z))*exp(re(z))
29. 
30. 
31. def test_bug1():
32.     e = sqrt(-log(w))
33.     assert e.subs(log(w), -x) == sqrt(x)
34. 
35.     e = sqrt(-5*log(w))
36.     assert e.subs(log(w), -x) == sqrt(5*x)
37. 
38. 
39. def test_general_function():
40.     nu = Function('nu')
41. 
42.     e = nu(x)
43.     edx = e.diff(x)
44.     edy = e.diff(y)
45.     edxdx = e.diff(x).diff(x)
46.     edxdy = e.diff(x).diff(y)
47.     assert e == nu(x)
48.     assert edx != nu(x)
49.     assert edx == diff(nu(x), x)
50.     assert edy == 0
51.     assert edxdx == diff(diff(nu(x), x), x)
52.     assert edxdy == 0
53. 
54. def test_general_function_nullary():
55.     nu = Function('nu')
56. 
57.     e = nu()
58.     edx = e.diff(x)
59.     edxdx = e.diff(x).diff(x)
60.     assert e == nu()
61.     assert edx != nu()
62.     assert edx == 0
63.     assert edxdx == 0
64. 
65. 
66. def test_derivative_subs_bug():
67.     e = diff(g(x), x)
68.     assert e.subs(g(x), f(x)) != e
69.     assert e.subs(g(x), f(x)) == Derivative(f(x), x)
70.     assert e.subs(g(x), -f(x)) == Derivative(-f(x), x)
71. 
72.     assert e.subs(x, y) == Derivative(g(y), y)
73. 
74. 
75. def test_derivative_subs_self_bug():
76.     d = diff(f(x), x)
77. 
78.     assert d.subs(d, y) == y
79. 
80. 
81. def test_derivative_linearity():
82.     assert diff(-f(x), x) == -diff(f(x), x)
83.     assert diff(8*f(x), x) == 8*diff(f(x), x)
84.     assert diff(8*f(x), x) != 7*diff(f(x), x)
85.     assert diff(8*f(x)*x, x) == 8*f(x) + 8*x*diff(f(x), x)
86.     assert diff(8*f(x)*y*x, x).expand() == 8*y*f(x) + 8*y*x*diff(f(x), x)
87. 
88. 
89. def test_derivative_evaluate():
90.     assert Derivative(sin(x), x) != diff(sin(x), x)
91.     assert Derivative(sin(x), x).doit() == diff(sin(x), x)
92. 
93.     assert Derivative(Derivative(f(x), x), x) == diff(f(x), x, x)
94.     assert Derivative(sin(x), x, 0) == sin(x)
95.     assert Derivative(sin(x), (x, y), (x, -y)) == sin(x)
96. 
97. 
98. def test_diff_symbols():
99.     assert diff(f(x, y, z), x, y, z) == Derivative(f(x, y, z), x, y, z)
100.     assert diff(f(x, y, z), x, x, x) == Derivative(f(x, y, z), x, x, x) == Derivative(f(x, y, z), (x, 3))
101.     assert diff(f(x, y, z), x, 3) == Derivative(f(x, y, z), x, 3)
102. 
103.     # issue 5028
104.     assert [diff(-z + x/y, sym) for sym in (z, x, y)] == [-1, 1/y, -x/y**2]
105.     assert diff(f(x, y, z), x, y, z, 2) == Derivative(f(x, y, z), x, y, z, z)
106.     assert diff(f(x, y, z), x, y, z, 2, evaluate=False) == \
107.         Derivative(f(x, y, z), x, y, z, z)
108.     assert Derivative(f(x, y, z), x, y, z)._eval_derivative(z) == \
109.         Derivative(f(x, y, z), x, y, z, z)
110.     assert Derivative(Derivative(f(x, y, z), x), y)._eval_derivative(z) == \
111.         Derivative(f(x, y, z), x, y, z)
112. 
113.     raises(TypeError, lambda: cos(x).diff((x, y)).variables)
114.     assert cos(x).diff((x, y))._wrt_variables == [x]
115. 
116. 
117. def test_Function():
118.     class myfunc(Function):
119.         @classmethod
120.         def eval(cls):  # zero args
121.             return
122. 
123.     assert myfunc.nargs == FiniteSet(0)
124.     assert myfunc().nargs == FiniteSet(0)
125.     raises(TypeError, lambda: myfunc(x).nargs)
126. 
127.     class myfunc(Function):
128.         @classmethod
129.         def eval(cls, x):  # one arg
130.             return
131. 
132.     assert myfunc.nargs == FiniteSet(1)
133.     assert myfunc(x).nargs == FiniteSet(1)
134.     raises(TypeError, lambda: myfunc(x, y).nargs)
135. 
136.     class myfunc(Function):
137.         @classmethod
138.         def eval(cls, *x):  # star args
139.             return
140. 
141.     assert myfunc.nargs == S.Naturals0
142.     assert myfunc(x).nargs == S.Naturals0
143. 
144. 
145. def test_nargs():
146.     f = Function('f')
147.     assert f.nargs == S.Naturals0
148.     assert f(1).nargs == S.Naturals0
149.     assert Function('f', nargs=2)(1, 2).nargs == FiniteSet(2)
150.     assert sin.nargs == FiniteSet(1)
151.     assert sin(2).nargs == FiniteSet(1)
152.     assert log.nargs == FiniteSet(1, 2)
153.     assert log(2).nargs == FiniteSet(1, 2)
154.     assert Function('f', nargs=2).nargs == FiniteSet(2)
155.     assert Function('f', nargs=0).nargs == FiniteSet(0)
156.     assert Function('f', nargs=(0, 1)).nargs == FiniteSet(0, 1)
157.     assert Function('f', nargs=None).nargs == S.Naturals0
158.     raises(ValueError, lambda: Function('f', nargs=()))
159. 
160. 
161. def test_Lambda():
162.     e = Lambda(x, x**2)
163.     assert e(4) == 16
164.     assert e(x) == x**2
165.     assert e(y) == y**2
166. 
167.     assert Lambda((), 42)() == 42
168.     assert Lambda((), 42) == Lambda((), 42)
169.     assert Lambda((), 42) != Lambda((), 43)
170.     assert Lambda((), f(x))() == f(x)
171.     assert Lambda((), 42).nargs == FiniteSet(0)
172. 
173.     assert Lambda(x, x**2) == Lambda(x, x**2)
174.     assert Lambda(x, x**2) == Lambda(y, y**2)
175.     assert Lambda(x, x**2) != Lambda(y, y**2 + 1)
176.     assert Lambda((x, y), x**y) == Lambda((y, x), y**x)
177.     assert Lambda((x, y), x**y) != Lambda((x, y), y**x)
178. 
179.     assert Lambda((x, y), x**y)(x, y) == x**y
180.     assert Lambda((x, y), x**y)(3, 3) == 3**3
181.     assert Lambda((x, y), x**y)(x, 3) == x**3
182.     assert Lambda((x, y), x**y)(3, y) == 3**y
183.     assert Lambda(x, f(x))(x) == f(x)
184.     assert Lambda(x, x**2)(e(x)) == x**4
185.     assert e(e(x)) == x**4
186. 
187.     x1, x2 = (Indexed('x', i) for i in (1, 2))
188.     assert Lambda((x1, x2), x1 + x2)(x, y) == x + y
189. 
190.     assert Lambda((x, y), x + y).nargs == FiniteSet(2)
191. 
192.     p = x, y, z, t
193.     assert Lambda(p, t*(x + y + z))(*p) == t * (x + y + z)
194. 
195.     assert Lambda(x, 2*x) + Lambda(y, 2*y) == 2*Lambda(x, 2*x)
196.     assert Lambda(x, 2*x) not in [ Lambda(x, x) ]
197.     raises(TypeError, lambda: Lambda(1, x))
198.     assert Lambda(x, 1)(1) is S.One
199. 
200. 
201. def test_IdentityFunction():
202.     assert Lambda(x, x) is Lambda(y, y) is S.IdentityFunction
203.     assert Lambda(x, 2*x) is not S.IdentityFunction
204.     assert Lambda((x, y), x) is not S.IdentityFunction
205. 
206. 
207. def test_Lambda_symbols():
208.     assert Lambda(x, 2*x).free_symbols == set()
209.     assert Lambda(x, x*y).free_symbols == {y}
210.     assert Lambda((), 42).free_symbols == set()
211.     assert Lambda((), x*y).free_symbols == {x,y}
212. 
213. 
214. def test_functionclas_symbols():
215.     assert f.free_symbols == set()
216. 
217. 
218. def test_Lambda_arguments():
219.     raises(TypeError, lambda: Lambda(x, 2*x)(x, y))
220.     raises(TypeError, lambda: Lambda((x, y), x + y)(x))
221.     raises(TypeError, lambda: Lambda((), 42)(x))
222. 
223. 
224. def test_Lambda_equality():
225.     assert Lambda(x, 2*x) == Lambda(y, 2*y)
226.     # although variables are casts as Dummies, the expressions
227.     # should still compare equal
228.     assert Lambda((x, y), 2*x) == Lambda((x, y), 2*x)
229.     assert Lambda(x, 2*x) != Lambda((x, y), 2*x)
230.     assert Lambda(x, 2*x) != 2*x
231. 
232. 
233. def test_Subs():
234.     assert Subs(1, (), ()) is S.One
235.     # check null subs influence on hashing
236.     assert Subs(x, y, z) != Subs(x, y, 1)
237.     # neutral subs works
238.     assert Subs(x, x, 1).subs(x, y).has(y)
239.     # self mapping var/point
240.     assert Subs(Derivative(f(x), (x, 2)), x, x).doit() == f(x).diff(x, x)
241.     assert Subs(x, x, 0).has(x)  # it's a structural answer
242.     assert not Subs(x, x, 0).free_symbols
243.     assert Subs(Subs(x + y, x, 2), y, 1) == Subs(x + y, (x, y), (2, 1))
244.     assert Subs(x, (x,), (0,)) == Subs(x, x, 0)
245.     assert Subs(x, x, 0) == Subs(y, y, 0)
246.     assert Subs(x, x, 0).subs(x, 1) == Subs(x, x, 0)
247.     assert Subs(y, x, 0).subs(y, 1) == Subs(1, x, 0)
248.     assert Subs(f(x), x, 0).doit() == f(0)
249.     assert Subs(f(x**2), x**2, 0).doit() == f(0)
250.     assert Subs(f(x, y, z), (x, y, z), (0, 1, 1)) != \
251.         Subs(f(x, y, z), (x, y, z), (0, 0, 1))
252.     assert Subs(x, y, 2).subs(x, y).doit() == 2
253.     assert Subs(f(x, y), (x, y, z), (0, 1, 1)) != \
254.         Subs(f(x, y) + z, (x, y, z), (0, 1, 0))
255.     assert Subs(f(x, y), (x, y), (0, 1)).doit() == f(0, 1)
256.     assert Subs(Subs(f(x, y), x, 0), y, 1).doit() == f(0, 1)
257.     raises(ValueError, lambda: Subs(f(x, y), (x, y), (0, 0, 1)))
258.     raises(ValueError, lambda: Subs(f(x, y), (x, x, y), (0, 0, 1)))
259. 
260.     assert len(Subs(f(x, y), (x, y), (0, 1)).variables) == 2
261.     assert Subs(f(x, y), (x, y), (0, 1)).point == Tuple(0, 1)
262. 
263.     assert Subs(f(x), x, 0) == Subs(f(y), y, 0)
264.     assert Subs(f(x, y), (x, y), (0, 1)) == Subs(f(x, y), (y, x), (1, 0))
265.     assert Subs(f(x)*y, (x, y), (0, 1)) == Subs(f(y)*x, (y, x), (0, 1))
266.     assert Subs(f(x)*y, (x, y), (1, 1)) == Subs(f(y)*x, (x, y), (1, 1))
267. 
268.     assert Subs(f(x), x, 0).subs(x, 1).doit() == f(0)
269.     assert Subs(f(x), x, y).subs(y, 0) == Subs(f(x), x, 0)
270.     assert Subs(y*f(x), x, y).subs(y, 2) == Subs(2*f(x), x, 2)
271.     assert (2 * Subs(f(x), x, 0)).subs(Subs(f(x), x, 0), y) == 2*y
272. 
273.     assert Subs(f(x), x, 0).free_symbols == set([])
274.     assert Subs(f(x, y), x, z).free_symbols == {y, z}
275. 
276.     assert Subs(f(x).diff(x), x, 0).doit(), Subs(f(x).diff(x), x, 0)
277.     assert Subs(1 + f(x).diff(x), x, 0).doit(), 1 + Subs(f(x).diff(x), x, 0)
278.     assert Subs(y*f(x, y).diff(x), (x, y), (0, 2)).doit() == \
279.         2*Subs(Derivative(f(x, 2), x), x, 0)
280.     assert Subs(y**2*f(x), x, 0).diff(y) == 2*y*f(0)
281. 
282.     e = Subs(y**2*f(x), x, y)
283.     assert e.diff(y) == e.doit().diff(y) == y**2*Derivative(f(y), y) + 2*y*f(y)
284. 
285.     assert Subs(f(x), x, 0) + Subs(f(x), x, 0) == 2*Subs(f(x), x, 0)
286.     e1 = Subs(z*f(x), x, 1)
287.     e2 = Subs(z*f(y), y, 1)
288.     assert e1 + e2 == 2*e1
289.     assert e1.__hash__() == e2.__hash__()
290.     assert Subs(z*f(x + 1), x, 1) not in [ e1, e2 ]
291.     assert Derivative(f(x), x).subs(x, g(x)) == Derivative(f(g(x)), g(x))
292.     assert Derivative(f(x), x).subs(x, x + y) == Subs(Derivative(f(x), x),
293.         x, x + y)
294.     assert Subs(f(x)*cos(y) + z, (x, y), (0, pi/3)).n(2) == \
295.         Subs(f(x)*cos(y) + z, (x, y), (0, pi/3)).evalf(2) == \
296.         z + Rational('1/2').n(2)*f(0)
297. 
298.     assert f(x).diff(x).subs(x, 0).subs(x, y) == f(x).diff(x).subs(x, 0)
299.     assert (x*f(x).diff(x).subs(x, 0)).subs(x, y) == y*f(x).diff(x).subs(x, 0)
300.     assert Subs(Derivative(g(x)**2, g(x), x), g(x), exp(x)
301.         ).doit() == 2*exp(x)
302.     assert Subs(Derivative(g(x)**2, g(x), x), g(x), exp(x)
303.         ).doit(deep=False) == 2*Derivative(exp(x), x)
304. 
305.     assert Derivative(f(x, g(x)), x).doit() == Derivative(g(x), x
306.         )*Subs(Derivative(f(x, y), y), y, g(x)
307.         ) + Subs(Derivative(f(y, g(x)), y), y, x)
308. 
309. 
310. def test_doitdoit():
311.     done = Derivative(f(x, g(x)), x, g(x)).doit()
312.     assert done == done.doit()
313. 
314. 
315. @XFAIL
316. def test_Subs2():
317.     # this reflects a limitation of subs(), probably won't fix
318.     assert Subs(f(x), x**2, x).doit() == f(sqrt(x))
319. 
320. 
321. def test_expand_function():
322.     assert expand(x + y) == x + y
323.     assert expand(x + y, complex=True) == I*im(x) + I*im(y) + re(x) + re(y)
324.     assert expand((x + y)**11, modulus=11) == x**11 + y**11
325. 
326. 
327. def test_function_comparable():
328.     assert sin(x).is_comparable is False
329.     assert cos(x).is_comparable is False
330. 
331.     assert sin(Float('0.1')).is_comparable is True
332.     assert cos(Float('0.1')).is_comparable is True
333. 
334.     assert sin(E).is_comparable is True
335.     assert cos(E).is_comparable is True
336. 
337.     assert sin(Rational(1, 3)).is_comparable is True
338.     assert cos(Rational(1, 3)).is_comparable is True
339. 
340. 
341. @XFAIL
342. def test_function_comparable_infinities():
343.     assert sin(oo).is_comparable is False
344.     assert sin(-oo).is_comparable is False
345.     assert sin(zoo).is_comparable is False
346.     assert sin(nan).is_comparable is False
347. 
348. 
349. def test_deriv1():
350.     # These all requre derivatives evaluated at a point (issue 4719) to work.
351.     # See issue 4624
352.     assert f(2*x).diff(x) == 2*Subs(Derivative(f(x), x), x, 2*x)
353.     assert (f(x)**3).diff(x) == 3*f(x)**2*f(x).diff(x)
354.     assert (f(2*x)**3).diff(x) == 6*f(2*x)**2*Subs(
355.         Derivative(f(x), x), x, 2*x)
356. 
357.     assert f(2 + x).diff(x) == Subs(Derivative(f(x), x), x, x + 2)
358.     assert f(2 + 3*x).diff(x) == 3*Subs(
359.         Derivative(f(x), x), x, 3*x + 2)
360.     assert f(3*sin(x)).diff(x) == 3*cos(x)*Subs(
361.         Derivative(f(x), x), x, 3*sin(x))
362. 
363.     # See issue 8510
364.     assert f(x, x + z).diff(x) == (
365.         Subs(Derivative(f(y, x + z), y), y, x) +
366.         Subs(Derivative(f(x, y), y), y, x + z))
367.     assert f(x, x**2).diff(x) == (
368.         2*x*Subs(Derivative(f(x, y), y), y, x**2) +
369.         Subs(Derivative(f(y, x**2), y), y, x))
370.     # but Subs is not always necessary
371.     assert f(x, g(y)).diff(g(y)) == Derivative(f(x, g(y)), g(y))
372. 
373. 
374. def test_deriv2():
375.     assert (x**3).diff(x) == 3*x**2
376.     assert (x**3).diff(x, evaluate=False) != 3*x**2
377.     assert (x**3).diff(x, evaluate=False) == Derivative(x**3, x)
378. 
379.     assert diff(x**3, x) == 3*x**2
380.     assert diff(x**3, x, evaluate=False) != 3*x**2
381.     assert diff(x**3, x, evaluate=False) == Derivative(x**3, x)
382. 
383. 
384. def test_func_deriv():
385.     assert f(x).diff(x) == Derivative(f(x), x)
386.     # issue 4534
387.     assert f(x, y).diff(x, y) - f(x, y).diff(y, x) == 0
388.     assert Derivative(f(x, y), x, y).args[1:] == ((x, 1), (y, 1))
389.     assert Derivative(f(x, y), y, x).args[1:] == ((y, 1), (x, 1))
390.     assert (Derivative(f(x, y), x, y) - Derivative(f(x, y), y, x)).doit() == 0
391. 
392. 
393. def test_suppressed_evaluation():
394.     a = sin(0, evaluate=False)
395.     assert a != 0
396.     assert a.func is sin
397.     assert a.args == (0,)
398. 
399. 
400. def test_function_evalf():
401.     def eq(a, b, eps):
402.         return abs(a - b) < eps
403.     assert eq(sin(1).evalf(15), Float("0.841470984807897"), 1e-13)
404.     assert eq(
405.         sin(2).evalf(25), Float("0.9092974268256816953960199", 25), 1e-23)
406.     assert eq(sin(1 + I).evalf(
407.         15), Float("1.29845758141598") + Float("0.634963914784736")*I, 1e-13)
408.     assert eq(exp(1 + I).evalf(15), Float(
409.         "1.46869393991588") + Float("2.28735528717884239")*I, 1e-13)
410.     assert eq(exp(-0.5 + 1.5*I).evalf(15), Float(
411.         "0.0429042815937374") + Float("0.605011292285002")*I, 1e-13)
412.     assert eq(log(pi + sqrt(2)*I).evalf(
413.         15), Float("1.23699044022052") + Float("0.422985442737893")*I, 1e-13)
414.     assert eq(cos(100).evalf(15), Float("0.86231887228768"), 1e-13)
415. 
416. 
417. def test_extensibility_eval():
418.     class MyFunc(Function):
419.         @classmethod
420.         def eval(cls, *args):
421.             return (0, 0, 0)
422.     assert MyFunc(0) == (0, 0, 0)
423. 
424. 
425. def test_function_non_commutative():
426.     x = Symbol('x', commutative=False)
427.     assert f(x).is_commutative is False
428.     assert sin(x).is_commutative is False
429.     assert exp(x).is_commutative is False
430.     assert log(x).is_commutative is False
431.     assert f(x).is_complex is False
432.     assert sin(x).is_complex is False
433.     assert exp(x).is_complex is False
434.     assert log(x).is_complex is False
435. 
436. 
437. def test_function_complex():
438.     x = Symbol('x', complex=True)
439.     assert f(x).is_commutative is True
440.     assert sin(x).is_commutative is True
441.     assert exp(x).is_commutative is True
442.     assert log(x).is_commutative is True
443.     assert f(x).is_complex is True
444.     assert sin(x).is_complex is True
445.     assert exp(x).is_complex is True
446.     assert log(x).is_complex is True
447. 
448. 
449. def test_function__eval_nseries():
450.     n = Symbol('n')
451. 
452.     assert sin(x)._eval_nseries(x, 2, None) == x + O(x**2)
453.     assert sin(x + 1)._eval_nseries(x, 2, None) == x*cos(1) + sin(1) + O(x**2)
454.     assert sin(pi*(1 - x))._eval_nseries(x, 2, None) == pi*x + O(x**2)
455.     assert acos(1 - x**2)._eval_nseries(x, 2, None) == sqrt(2)*sqrt(x**2) + O(x**2)
456.     assert polygamma(n, x + 1)._eval_nseries(x, 2, None) == \
457.         polygamma(n, 1) + polygamma(n + 1, 1)*x + O(x**2)
458.     raises(PoleError, lambda: sin(1/x)._eval_nseries(x, 2, None))
459.     assert acos(1 - x)._eval_nseries(x, 2, None) == sqrt(2)*sqrt(x) + O(x)
460.     assert acos(1 + x)._eval_nseries(x, 2, None) == sqrt(2)*sqrt(-x) + O(x)  # XXX: wrong, branch cuts
461.     assert loggamma(1/x)._eval_nseries(x, 0, None) == \
462.         log(x)/2 - log(x)/x - 1/x + O(1, x)
463.     assert loggamma(log(1/x)).nseries(x, n=1, logx=y) == loggamma(-y)
464. 
465.     # issue 6725:
466.     assert expint(S(3)/2, -x)._eval_nseries(x, 5, None) == \
467.         2 - 2*sqrt(pi)*sqrt(-x) - 2*x - x**2/3 - x**3/15 - x**4/84 + O(x**5)
468.     assert sin(sqrt(x))._eval_nseries(x, 3, None) == \
469.         sqrt(x) - x**(S(3)/2)/6 + x**(S(5)/2)/120 + O(x**3)
470. 
471. 
472. def test_doit():
473.     n = Symbol('n', integer=True)
474.     f = Sum(2 * n * x, (n, 1, 3))
475.     d = Derivative(f, x)
476.     assert d.doit() == 12
477.     assert d.doit(deep=False) == Sum(2*n, (n, 1, 3))
478. 
479. 
480. def test_evalf_default():
481.     from sympy.functions.special.gamma_functions import polygamma
482.     assert type(sin(4.0)) == Float
483.     assert type(re(sin(I + 1.0))) == Float
484.     assert type(im(sin(I + 1.0))) == Float
485.     assert type(sin(4)) == sin
486.     assert type(polygamma(2.0, 4.0)) == Float
487.     assert type(sin(Rational(1, 4))) == sin
488. 
489. 
490. def test_issue_5399():
491.     args = [x, y, S(2), S.Half]
492. 
493.     def ok(a):
494.         """Return True if the input args for diff are ok"""
495.         if not a:
496.             return False
497.         if a[0].is_Symbol is False:
498.             return False
499.         s_at = [i for i in range(len(a)) if a[i].is_Symbol]
500.         n_at = [i for i in range(len(a)) if not a[i].is_Symbol]

File: sympy/core/tests/test_expr.py
Line number range: 1 - 500
Content:
1. from sympy import (Add, Basic, Expr, S, Symbol, Wild, Float, Integer, Rational, I,
2.                    sin, cos, tan, exp, log, nan, oo, sqrt, symbols, Integral, sympify,
3.                    WildFunction, Poly, Function, Derivative, Number, pi, NumberSymbol, zoo,
4.                    Piecewise, Mul, Pow, nsimplify, ratsimp, trigsimp, radsimp, powsimp,
5.                    simplify, together, collect, factorial, apart, combsimp, factor, refine,
6.                    cancel, Tuple, default_sort_key, DiracDelta, gamma, Dummy, Sum, E,
7.                    exp_polar, expand, diff, O, Heaviside, Si, Max, UnevaluatedExpr,
8.                    integrate, gammasimp)
9. from sympy.core.function import AppliedUndef
10. from sympy.core.compatibility import range
11. from sympy.physics.secondquant import FockState
12. from sympy.physics.units import meter
13. 
14. from sympy.utilities.pytest import raises, XFAIL
15. 
16. from sympy.abc import a, b, c, n, t, u, x, y, z
17. 
18. 
19. class DummyNumber(object):
20.     """
21.     Minimal implementation of a number that works with SymPy.
22. 
23.     If one has a Number class (e.g. Sage Integer, or some other custom class)
24.     that one wants to work well with SymPy, one has to implement at least the
25.     methods of this class DummyNumber, resp. its subclasses I5 and F1_1.
26. 
27.     Basically, one just needs to implement either __int__() or __float__() and
28.     then one needs to make sure that the class works with Python integers and
29.     with itself.
30.     """
31. 
32.     def __radd__(self, a):
33.         if isinstance(a, (int, float)):
34.             return a + self.number
35.         return NotImplemented
36. 
37.     def __truediv__(a, b):
38.         return a.__div__(b)
39. 
40.     def __rtruediv__(a, b):
41.         return a.__rdiv__(b)
42. 
43.     def __add__(self, a):
44.         if isinstance(a, (int, float, DummyNumber)):
45.             return self.number + a
46.         return NotImplemented
47. 
48.     def __rsub__(self, a):
49.         if isinstance(a, (int, float)):
50.             return a - self.number
51.         return NotImplemented
52. 
53.     def __sub__(self, a):
54.         if isinstance(a, (int, float, DummyNumber)):
55.             return self.number - a
56.         return NotImplemented
57. 
58.     def __rmul__(self, a):
59.         if isinstance(a, (int, float)):
60.             return a * self.number
61.         return NotImplemented
62. 
63.     def __mul__(self, a):
64.         if isinstance(a, (int, float, DummyNumber)):
65.             return self.number * a
66.         return NotImplemented
67. 
68.     def __rdiv__(self, a):
69.         if isinstance(a, (int, float)):
70.             return a / self.number
71.         return NotImplemented
72. 
73.     def __div__(self, a):
74.         if isinstance(a, (int, float, DummyNumber)):
75.             return self.number / a
76.         return NotImplemented
77. 
78.     def __rpow__(self, a):
79.         if isinstance(a, (int, float)):
80.             return a ** self.number
81.         return NotImplemented
82. 
83.     def __pow__(self, a):
84.         if isinstance(a, (int, float, DummyNumber)):
85.             return self.number ** a
86.         return NotImplemented
87. 
88.     def __pos__(self):
89.         return self.number
90. 
91.     def __neg__(self):
92.         return - self.number
93. 
94. 
95. class I5(DummyNumber):
96.     number = 5
97. 
98.     def __int__(self):
99.         return self.number
100. 
101. 
102. class F1_1(DummyNumber):
103.     number = 1.1
104. 
105.     def __float__(self):
106.         return self.number
107. 
108. i5 = I5()
109. f1_1 = F1_1()
110. 
111. # basic sympy objects
112. basic_objs = [
113.     Rational(2),
114.     Float("1.3"),
115.     x,
116.     y,
117.     pow(x, y)*y,
118. ]
119. 
120. # all supported objects
121. all_objs = basic_objs + [
122.     5,
123.     5.5,
124.     i5,
125.     f1_1
126. ]
127. 
128. 
129. def dotest(s):
130.     for x in all_objs:
131.         for y in all_objs:
132.             s(x, y)
133.     return True
134. 
135. 
136. def test_basic():
137.     def j(a, b):
138.         x = a
139.         x = +a
140.         x = -a
141.         x = a + b
142.         x = a - b
143.         x = a*b
144.         x = a/b
145.         x = a**b
146.     assert dotest(j)
147. 
148. 
149. def test_ibasic():
150.     def s(a, b):
151.         x = a
152.         x += b
153.         x = a
154.         x -= b
155.         x = a
156.         x *= b
157.         x = a
158.         x /= b
159.     assert dotest(s)
160. 
161. 
162. def test_relational():
163.     from sympy import Lt
164.     assert (pi < 3) is S.false
165.     assert (pi <= 3) is S.false
166.     assert (pi > 3) is S.true
167.     assert (pi >= 3) is S.true
168.     assert (-pi < 3) is S.true
169.     assert (-pi <= 3) is S.true
170.     assert (-pi > 3) is S.false
171.     assert (-pi >= 3) is S.false
172.     r = Symbol('r', real=True)
173.     assert (r - 2 < r - 3) is S.false
174.     assert Lt(x + I, x + I + 2).func == Lt  # issue 8288
175. 
176. 
177. def test_relational_assumptions():
178.     from sympy import Lt, Gt, Le, Ge
179.     m1 = Symbol("m1", nonnegative=False)
180.     m2 = Symbol("m2", positive=False)
181.     m3 = Symbol("m3", nonpositive=False)
182.     m4 = Symbol("m4", negative=False)
183.     assert (m1 < 0) == Lt(m1, 0)
184.     assert (m2 <= 0) == Le(m2, 0)
185.     assert (m3 > 0) == Gt(m3, 0)
186.     assert (m4 >= 0) == Ge(m4, 0)
187.     m1 = Symbol("m1", nonnegative=False, real=True)
188.     m2 = Symbol("m2", positive=False, real=True)
189.     m3 = Symbol("m3", nonpositive=False, real=True)
190.     m4 = Symbol("m4", negative=False, real=True)
191.     assert (m1 < 0) is S.true
192.     assert (m2 <= 0) is S.true
193.     assert (m3 > 0) is S.true
194.     assert (m4 >= 0) is S.true
195.     m1 = Symbol("m1", negative=True)
196.     m2 = Symbol("m2", nonpositive=True)
197.     m3 = Symbol("m3", positive=True)
198.     m4 = Symbol("m4", nonnegative=True)
199.     assert (m1 < 0) is S.true
200.     assert (m2 <= 0) is S.true
201.     assert (m3 > 0) is S.true
202.     assert (m4 >= 0) is S.true
203.     m1 = Symbol("m1", negative=False, real=True)
204.     m2 = Symbol("m2", nonpositive=False, real=True)
205.     m3 = Symbol("m3", positive=False, real=True)
206.     m4 = Symbol("m4", nonnegative=False, real=True)
207.     assert (m1 < 0) is S.false
208.     assert (m2 <= 0) is S.false
209.     assert (m3 > 0) is S.false
210.     assert (m4 >= 0) is S.false
211. 
212. 
213. def test_relational_noncommutative():
214.     from sympy import Lt, Gt, Le, Ge
215.     A, B = symbols('A,B', commutative=False)
216.     assert (A < B) == Lt(A, B)
217.     assert (A <= B) == Le(A, B)
218.     assert (A > B) == Gt(A, B)
219.     assert (A >= B) == Ge(A, B)
220. 
221. 
222. def test_basic_nostr():
223.     for obj in basic_objs:
224.         raises(TypeError, lambda: obj + '1')
225.         raises(TypeError, lambda: obj - '1')
226.         if obj == 2:
227.             assert obj * '1' == '11'
228.         else:
229.             raises(TypeError, lambda: obj * '1')
230.         raises(TypeError, lambda: obj / '1')
231.         raises(TypeError, lambda: obj ** '1')
232. 
233. 
234. def test_series_expansion_for_uniform_order():
235.     assert (1/x + y + x).series(x, 0, 0) == 1/x + O(1, x)
236.     assert (1/x + y + x).series(x, 0, 1) == 1/x + y + O(x)
237.     assert (1/x + 1 + x).series(x, 0, 0) == 1/x + O(1, x)
238.     assert (1/x + 1 + x).series(x, 0, 1) == 1/x + 1 + O(x)
239.     assert (1/x + x).series(x, 0, 0) == 1/x + O(1, x)
240.     assert (1/x + y + y*x + x).series(x, 0, 0) == 1/x + O(1, x)
241.     assert (1/x + y + y*x + x).series(x, 0, 1) == 1/x + y + O(x)
242. 
243. 
244. def test_leadterm():
245.     assert (3 + 2*x**(log(3)/log(2) - 1)).leadterm(x) == (3, 0)
246. 
247.     assert (1/x**2 + 1 + x + x**2).leadterm(x)[1] == -2
248.     assert (1/x + 1 + x + x**2).leadterm(x)[1] == -1
249.     assert (x**2 + 1/x).leadterm(x)[1] == -1
250.     assert (1 + x**2).leadterm(x)[1] == 0
251.     assert (x + 1).leadterm(x)[1] == 0
252.     assert (x + x**2).leadterm(x)[1] == 1
253.     assert (x**2).leadterm(x)[1] == 2
254. 
255. 
256. def test_as_leading_term():
257.     assert (3 + 2*x**(log(3)/log(2) - 1)).as_leading_term(x) == 3
258.     assert (1/x**2 + 1 + x + x**2).as_leading_term(x) == 1/x**2
259.     assert (1/x + 1 + x + x**2).as_leading_term(x) == 1/x
260.     assert (x**2 + 1/x).as_leading_term(x) == 1/x
261.     assert (1 + x**2).as_leading_term(x) == 1
262.     assert (x + 1).as_leading_term(x) == 1
263.     assert (x + x**2).as_leading_term(x) == x
264.     assert (x**2).as_leading_term(x) == x**2
265.     assert (x + oo).as_leading_term(x) == oo
266. 
267.     raises(ValueError, lambda: (x + 1).as_leading_term(1))
268. 
269. def test_leadterm2():
270.     assert (x*cos(1)*cos(1 + sin(1)) + sin(1 + sin(1))).leadterm(x) == \
271.            (sin(1 + sin(1)), 0)
272. 
273. 
274. def test_leadterm3():
275.     assert (y + z + x).leadterm(x) == (y + z, 0)
276. 
277. 
278. def test_as_leading_term2():
279.     assert (x*cos(1)*cos(1 + sin(1)) + sin(1 + sin(1))).as_leading_term(x) == \
280.         sin(1 + sin(1))
281. 
282. 
283. def test_as_leading_term3():
284.     assert (2 + pi + x).as_leading_term(x) == 2 + pi
285.     assert (2*x + pi*x + x**2).as_leading_term(x) == (2 + pi)*x
286. 
287. 
288. def test_as_leading_term4():
289.     # see issue 6843
290.     n = Symbol('n', integer=True, positive=True)
291.     r = -n**3/(2*n**2 + 4*n + 2) - n**2/(n**2 + 2*n + 1) + \
292.         n**2/(n + 1) - n/(2*n**2 + 4*n + 2) + n/(n*x + x) + 2*n/(n + 1) - \
293.         1 + 1/(n*x + x) + 1/(n + 1) - 1/x
294.     assert r.as_leading_term(x).cancel() == n/2
295. 
296. 
297. def test_as_leading_term_stub():
298.     class foo(Function):
299.         pass
300.     assert foo(1/x).as_leading_term(x) == foo(1/x)
301.     assert foo(1).as_leading_term(x) == foo(1)
302.     raises(NotImplementedError, lambda: foo(x).as_leading_term(x))
303. 
304. 
305. def test_as_leading_term_deriv_integral():
306.     # related to issue 11313
307.     assert Derivative(x ** 3, x).as_leading_term(x) == 3*x**2
308.     assert Derivative(x ** 3, y).as_leading_term(x) == 0
309. 
310.     assert Integral(x ** 3, x).as_leading_term(x) == x**4/4
311.     assert Integral(x ** 3, y).as_leading_term(x) == y*x**3
312. 
313.     assert Derivative(exp(x), x).as_leading_term(x) == 1
314.     assert Derivative(log(x), x).as_leading_term(x) == (1/x).as_leading_term(x)
315. 
316. 
317. def test_atoms():
318.     assert x.atoms() == {x}
319.     assert (1 + x).atoms() == {x, S(1)}
320. 
321.     assert (1 + 2*cos(x)).atoms(Symbol) == {x}
322.     assert (1 + 2*cos(x)).atoms(Symbol, Number) == {S(1), S(2), x}
323. 
324.     assert (2*(x**(y**x))).atoms() == {S(2), x, y}
325. 
326.     assert Rational(1, 2).atoms() == {S.Half}
327.     assert Rational(1, 2).atoms(Symbol) == set([])
328. 
329.     assert sin(oo).atoms(oo) == set()
330. 
331.     assert Poly(0, x).atoms() == {S.Zero}
332.     assert Poly(1, x).atoms() == {S.One}
333. 
334.     assert Poly(x, x).atoms() == {x}
335.     assert Poly(x, x, y).atoms() == {x}
336.     assert Poly(x + y, x, y).atoms() == {x, y}
337.     assert Poly(x + y, x, y, z).atoms() == {x, y}
338.     assert Poly(x + y*t, x, y, z).atoms() == {t, x, y}
339. 
340.     assert (I*pi).atoms(NumberSymbol) == {pi}
341.     assert (I*pi).atoms(NumberSymbol, I) == \
342.         (I*pi).atoms(I, NumberSymbol) == {pi, I}
343. 
344.     assert exp(exp(x)).atoms(exp) == {exp(exp(x)), exp(x)}
345.     assert (1 + x*(2 + y) + exp(3 + z)).atoms(Add) == \
346.         {1 + x*(2 + y) + exp(3 + z), 2 + y, 3 + z}
347. 
348.     # issue 6132
349.     f = Function('f')
350.     e = (f(x) + sin(x) + 2)
351.     assert e.atoms(AppliedUndef) == \
352.         {f(x)}
353.     assert e.atoms(AppliedUndef, Function) == \
354.         {f(x), sin(x)}
355.     assert e.atoms(Function) == \
356.         {f(x), sin(x)}
357.     assert e.atoms(AppliedUndef, Number) == \
358.         {f(x), S(2)}
359.     assert e.atoms(Function, Number) == \
360.         {S(2), sin(x), f(x)}
361. 
362. 
363. def test_is_polynomial():
364.     k = Symbol('k', nonnegative=True, integer=True)
365. 
366.     assert Rational(2).is_polynomial(x, y, z) is True
367.     assert (S.Pi).is_polynomial(x, y, z) is True
368. 
369.     assert x.is_polynomial(x) is True
370.     assert x.is_polynomial(y) is True
371. 
372.     assert (x**2).is_polynomial(x) is True
373.     assert (x**2).is_polynomial(y) is True
374. 
375.     assert (x**(-2)).is_polynomial(x) is False
376.     assert (x**(-2)).is_polynomial(y) is True
377. 
378.     assert (2**x).is_polynomial(x) is False
379.     assert (2**x).is_polynomial(y) is True
380. 
381.     assert (x**k).is_polynomial(x) is False
382.     assert (x**k).is_polynomial(k) is False
383.     assert (x**x).is_polynomial(x) is False
384.     assert (k**k).is_polynomial(k) is False
385.     assert (k**x).is_polynomial(k) is False
386. 
387.     assert (x**(-k)).is_polynomial(x) is False
388.     assert ((2*x)**k).is_polynomial(x) is False
389. 
390.     assert (x**2 + 3*x - 8).is_polynomial(x) is True
391.     assert (x**2 + 3*x - 8).is_polynomial(y) is True
392. 
393.     assert (x**2 + 3*x - 8).is_polynomial() is True
394. 
395.     assert sqrt(x).is_polynomial(x) is False
396.     assert (sqrt(x)**3).is_polynomial(x) is False
397. 
398.     assert (x**2 + 3*x*sqrt(y) - 8).is_polynomial(x) is True
399.     assert (x**2 + 3*x*sqrt(y) - 8).is_polynomial(y) is False
400. 
401.     assert ((x**2)*(y**2) + x*(y**2) + y*x + exp(2)).is_polynomial() is True
402.     assert ((x**2)*(y**2) + x*(y**2) + y*x + exp(x)).is_polynomial() is False
403. 
404.     assert (
405.         (x**2)*(y**2) + x*(y**2) + y*x + exp(2)).is_polynomial(x, y) is True
406.     assert (
407.         (x**2)*(y**2) + x*(y**2) + y*x + exp(x)).is_polynomial(x, y) is False
408. 
409. 
410. def test_is_rational_function():
411.     assert Integer(1).is_rational_function() is True
412.     assert Integer(1).is_rational_function(x) is True
413. 
414.     assert Rational(17, 54).is_rational_function() is True
415.     assert Rational(17, 54).is_rational_function(x) is True
416. 
417.     assert (12/x).is_rational_function() is True
418.     assert (12/x).is_rational_function(x) is True
419. 
420.     assert (x/y).is_rational_function() is True
421.     assert (x/y).is_rational_function(x) is True
422.     assert (x/y).is_rational_function(x, y) is True
423. 
424.     assert (x**2 + 1/x/y).is_rational_function() is True
425.     assert (x**2 + 1/x/y).is_rational_function(x) is True
426.     assert (x**2 + 1/x/y).is_rational_function(x, y) is True
427. 
428.     assert (sin(y)/x).is_rational_function() is False
429.     assert (sin(y)/x).is_rational_function(y) is False
430.     assert (sin(y)/x).is_rational_function(x) is True
431.     assert (sin(y)/x).is_rational_function(x, y) is False
432. 
433.     assert (S.NaN).is_rational_function() is False
434.     assert (S.Infinity).is_rational_function() is False
435.     assert (-S.Infinity).is_rational_function() is False
436.     assert (S.ComplexInfinity).is_rational_function() is False
437. 
438. 
439. def test_is_algebraic_expr():
440.     assert sqrt(3).is_algebraic_expr(x) is True
441.     assert sqrt(3).is_algebraic_expr() is True
442. 
443.     eq = ((1 + x**2)/(1 - y**2))**(S(1)/3)
444.     assert eq.is_algebraic_expr(x) is True
445.     assert eq.is_algebraic_expr(y) is True
446. 
447.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr(x) is True
448.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr(y) is True
449.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr() is True
450. 
451.     assert (cos(y)/sqrt(x)).is_algebraic_expr() is False
452.     assert (cos(y)/sqrt(x)).is_algebraic_expr(x) is True
453.     assert (cos(y)/sqrt(x)).is_algebraic_expr(y) is False
454.     assert (cos(y)/sqrt(x)).is_algebraic_expr(x, y) is False
455. 
456. 
457. def test_SAGE1():
458.     #see https://github.com/sympy/sympy/issues/3346
459.     class MyInt:
460.         def _sympy_(self):
461.             return Integer(5)
462.     m = MyInt()
463.     e = Rational(2)*m
464.     assert e == 10
465. 
466.     raises(TypeError, lambda: Rational(2)*MyInt)
467. 
468. 
469. def test_SAGE2():
470.     class MyInt(object):
471.         def __int__(self):
472.             return 5
473.     assert sympify(MyInt()) == 5
474.     e = Rational(2)*MyInt()
475.     assert e == 10
476. 
477.     raises(TypeError, lambda: Rational(2)*MyInt)
478. 
479. 
480. def test_SAGE3():
481.     class MySymbol:
482.         def __rmul__(self, other):
483.             return ('mys', other, self)
484. 
485.     o = MySymbol()
486.     e = x*o
487. 
488.     assert e == ('mys', x, o)
489. 
490. 
491. def test_len():
492.     e = x*y
493.     assert len(e.args) == 2
494.     e = x + y + z
495.     assert len(e.args) == 3
496. 
497. 
498. def test_doit():
499.     a = Integral(x**2, x)
500.


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 17:12:37,205 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user query describes a bug where `is_zero` incorrectly returns `False` for a complex expression that simplifies to zero. This test function, `test_arit0`, is relevant because it contains assertions that check if various arithmetic expressions correctly simplify to `Rational(0)`. For instance, `e = b*a - b - a*b + b` is asserted to be zero. This directly tests the system's ability to identify zeroness in composite `Add` expressions, which is the core of the reported issue.", relative_path='sympy/core/tests/test_arit.py', start_line=45, end_line=93), ContextOutput(reasoning='The bug report involves an expression with `Pow`, specifically `(1 + I)**2`. This test function, `test_pow`, is relevant because it checks if an expression involving `Pow` that simplifies to zero is correctly identified. The assertion for `e = a*a*a*a**Rational(6) - a**Rational(9)` checks that `a**9 - a**9` evaluates to `0`. This is analogous to the simplification required in the bug.', relative_path='sympy/core/tests/test_arit.py', start_line=104, end_line=143), ContextOutput(reasoning='The bug is that `is_zero` returns an incorrect boolean (`False`) instead of `None` or `True`. This test, `test_Add_Mul_is_integer`, is analogous as it checks the `is_integer` property on an expression, `((1 + sqrt(3))*(-sqrt(3) + 1))`, that requires simplification. The assertion `is not False` suggests that the system may not be able to confirm the property is `True` before simplification, but correctly avoids returning a wrong `False`. This relates to how properties of unevaluated expressions should be handled.', relative_path='sympy/core/tests/test_arit.py', start_line=359, end_line=377), ContextOutput(reasoning="The bug involves complex numbers. This test, `test_symbol_imaginary`, is relevant because it examines the `is_zero` assumption on a symbol explicitly defined as imaginary. The assertion `assert a.is_zero is False` provides context on how the assumptions system treats the `is_zero` property for the building blocks of complex expressions, which is fundamental to understanding the bug's behavior.", relative_path='sympy/core/tests/test_assumptions.py', start_line=337, end_line=348), ContextOutput(reasoning='The bug is about a complex expression `(-2*I + (1 + I)**2)` not being identified as zero. This test, `test_real_imag`, is relevant because it demonstrates simplification of complex expressions. The assertion `assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)` shows a complex fraction simplifying to `I`, which requires correctly identifying the real part as zero. This is related to the bug, which requires identifying both real and imaginary parts as zero after simplification.', relative_path='sympy/core/tests/test_complex.py', start_line=166, end_line=196)]
2025-10-05 17:12:37,206 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='sympy/core/tests/test_arit.py', content='45. def test_arit0():\n46.     p = Rational(5)\n47.     e = a*b\n48.     assert e == a*b\n49.     e = a*b + b*a\n50.     assert e == 2*a*b\n51.     e = a*b + b*a + a*b + p*b*a\n52.     assert e == 8*a*b\n53.     e = a*b + b*a + a*b + p*b*a + a\n54.     assert e == a + 8*a*b\n55.     e = a + a\n56.     assert e == 2*a\n57.     e = a + b + a\n58.     assert e == b + 2*a\n59.     e = a + b*b + a + b*b\n60.     assert e == 2*a + 2*b**2\n61.     e = a + Rational(2) + b*b + a + b*b + p\n62.     assert e == 7 + 2*a + 2*b**2\n63.     e = (a + b*b + a + b*b)*p\n64.     assert e == 5*(2*a + 2*b**2)\n65.     e = (a*b*c + c*b*a + b*a*c)*p\n66.     assert e == 15*a*b*c\n67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c\n68.     assert e == Rational(0)\n69.     e = Rational(50)*(a - a)\n70.     assert e == Rational(0)\n71.     e = b*a - b - a*b + b\n72.     assert e == Rational(0)\n73.     e = a*b + c**p\n74.     assert e == a*b + c**5\n75.     e = a/b\n76.     assert e == a*b**(-1)\n77.     e = a*2*2\n78.     assert e == 4*a\n79.     e = 2 + a*2/2\n80.     assert e == 2 + a\n81.     e = 2 - a - 2\n82.     assert e == -a\n83.     e = 2*a*2\n84.     assert e == 4*a\n85.     e = 2/a/2\n86.     assert e == a**(-1)\n87.     e = 2**a**2\n88.     assert e == 2**(a**2)\n89.     e = -(1 + a)\n90.     assert e == -1 - a\n91.     e = Rational(1, 2)*(1 + a)\n92.     assert e == Rational(1, 2) + a/2\n93. ', start_line_number=45, end_line_number=93), Context(relative_path='sympy/core/tests/test_arit.py', content='104. def test_pow():\n105.     n1 = Rational(1)\n106.     n2 = Rational(2)\n107.     n5 = Rational(5)\n108.     e = a*a\n109.     assert e == a**2\n110.     e = a*a*a\n111.     assert e == a**3\n112.     e = a*a*a*a**Rational(6)\n113.     assert e == a**9\n114.     e = a*a*a*a**Rational(6) - a**Rational(9)\n115.     assert e == Rational(0)\n116.     e = a**(b - b)\n117.     assert e == Rational(1)\n118.     e = (a + Rational(1) - a)**b\n119.     assert e == Rational(1)\n120. \n121.     e = (a + b + c)**n2\n122.     assert e == (a + b + c)**2\n123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2\n124. \n125.     e = (a + b)**n2\n126.     assert e == (a + b)**2\n127.     assert e.expand() == 2*a*b + a**2 + b**2\n128. \n129.     e = (a + b)**(n1/n2)\n130.     assert e == sqrt(a + b)\n131.     assert e.expand() == sqrt(a + b)\n132. \n133.     n = n5**(n1/n2)\n134.     assert n == sqrt(5)\n135.     e = n*a*b - n*b*a\n136.     assert e == Rational(0)\n137.     e = n*a*b + n*b*a\n138.     assert e == 2*a*b*sqrt(5)\n139.     assert e.diff(a) == 2*b*sqrt(5)\n140.     assert e.diff(a) == 2*b*sqrt(5)\n141.     e = a/b**2\n142.     assert e == a*b**(-2)\n143. ', start_line_number=104, end_line_number=143), Context(relative_path='sympy/core/tests/test_arit.py', content="359. def test_Add_Mul_is_integer():\n360.     x = Symbol('x')\n361. \n362.     k = Symbol('k', integer=True)\n363.     n = Symbol('n', integer=True)\n364. \n365.     assert (2*k).is_integer is True\n366.     assert (-k).is_integer is True\n367.     assert (k/3).is_integer is None\n368.     assert (x*k*n).is_integer is None\n369. \n370.     assert (k + n).is_integer is True\n371.     assert (k + x).is_integer is None\n372.     assert (k + n*x).is_integer is None\n373.     assert (k + n/3).is_integer is None\n374. \n375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n377. ", start_line_number=359, end_line_number=377), Context(relative_path='sympy/core/tests/test_assumptions.py', content="337. def test_symbol_imaginary():\n338.     a = Symbol('a', imaginary=True)\n339. \n340.     assert a.is_real is False\n341.     assert a.is_integer is False\n342.     assert a.is_negative is False\n343.     assert a.is_positive is False\n344.     assert a.is_nonnegative is False\n345.     assert a.is_nonpositive is False\n346.     assert a.is_zero is False\n347.     assert a.is_nonzero is False  # since nonzero -> real\n348. ", start_line_number=337, end_line_number=348), Context(relative_path='sympy/core/tests/test_complex.py', content="166. def test_real_imag():\n167.     x, y, z = symbols('x, y, z')\n168.     X, Y, Z = symbols('X, Y, Z', commutative=False)\n169.     a = Symbol('a', real=True)\n170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))\n171. \n172.     # issue 5395:\n173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)\n174.     assert im(x*x.conjugate()) == 0\n175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2\n176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2\n177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2\n178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)\n179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \\\n180.         (Abs(sin(x))**2, 0)\n181. \n182.     # issue 6573:\n183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))\n184. \n185.     # issue 6428:\n186.     r = Symbol('r', real=True)\n187.     i = Symbol('i', imaginary=True)\n188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))\n189.     assert (i*r*x*(y + 2)).as_real_imag() == (\n190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),\n191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))\n192. \n193.     # issue 7106:\n194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)\n195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)\n196. ", start_line_number=166, end_line_number=196)]
2025-10-05 17:12:37,207 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 17:12:37,207 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
â”œâ”€â”€ .ci
|   â”œâ”€â”€ generate_durations_log.sh
|   â””â”€â”€ parse_durations_log.py
â”œâ”€â”€ .travis.yml
â”œâ”€â”€ CODE_OF_CONDUCT.md
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
â”œâ”€â”€ README.rst
â”œâ”€â”€ azure-pipelines.yml
â”œâ”€â”€ bin
|   â”œâ”€â”€ ask_update.py
|   â”œâ”€â”€ authors_update.py
|   â”œâ”€â”€ coverage_doctest.py
|   â”œâ”€â”€ coverage_report.py
|   â”œâ”€â”€ generate_module_list.py
|   â”œâ”€â”€ generate_test_list.py
|   â”œâ”€â”€ get_sympy.py
|   â”œâ”€â”€ mailmap_update.py
|   â”œâ”€â”€ sympy_time.py
|   â”œâ”€â”€ sympy_time_cache.py
|   â”œâ”€â”€ test_executable.py
|   â”œâ”€â”€ test_external_imports.py
|   â”œâ”€â”€ test_import.py
|   â”œâ”€â”€ test_setup.py
|   â””â”€â”€ test_travis.sh
â”œâ”€â”€ conftest.py
â”œâ”€â”€ data
|   â””â”€â”€ TeXmacs
|       â”œâ”€â”€ bin
|       â””â”€â”€ progs
â”œâ”€â”€ doc
|   â”œâ”€â”€ README.rst
|   â”œâ”€â”€ api
|   |   â”œâ”€â”€ conf.py
|   |   â””â”€â”€ index.rst
|   â”œâ”€â”€ cheatsheet
|   â”œâ”€â”€ ext
|   |   â”œâ”€â”€ docscrape.py
|   |   â”œâ”€â”€ docscrape_sphinx.py
|   |   â”œâ”€â”€ numpydoc.py
|   |   â””â”€â”€ sympylive.py
|   â”œâ”€â”€ generate_logos.py
|   â”œâ”€â”€ man
|   â””â”€â”€ src
|       â”œâ”€â”€ _static
|       â”œâ”€â”€ _templates
|       â”œâ”€â”€ aboutus.rst
|       â”œâ”€â”€ citing.rst
|       â”œâ”€â”€ conf.py
|       â”œâ”€â”€ gotchas.rst
|       â”œâ”€â”€ guide.rst
|       â”œâ”€â”€ index.rst
|       â”œâ”€â”€ install.rst
|       â”œâ”€â”€ logo
|       |   â””â”€â”€ info.txt
|       â”œâ”€â”€ modules
|       |   â”œâ”€â”€ assumptions
|       |   |   â”œâ”€â”€ ask.rst
|       |   |   â”œâ”€â”€ assume.rst
|       |   |   â”œâ”€â”€ handlers
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â””â”€â”€ refine.rst
|       |   â”œâ”€â”€ calculus
|       |   |   â””â”€â”€ index.rst
|       |   â”œâ”€â”€ categories.rst
|       |   â”œâ”€â”€ codegen.rst
|       |   â”œâ”€â”€ combinatorics
|       |   |   â”œâ”€â”€ fp_groups.rst
|       |   |   â”œâ”€â”€ graycode.rst
|       |   |   â”œâ”€â”€ group_constructs.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ named_groups.rst
|       |   |   â”œâ”€â”€ partitions.rst
|       |   |   â”œâ”€â”€ perm_groups.rst
|       |   |   â”œâ”€â”€ permutations.rst
|       |   |   â”œâ”€â”€ polyhedron.rst
|       |   |   â”œâ”€â”€ prufer.rst
|       |   |   â”œâ”€â”€ subsets.rst
|       |   |   â”œâ”€â”€ tensor_can.rst
|       |   |   â”œâ”€â”€ testutil.rst
|       |   |   â””â”€â”€ util.rst
|       |   â”œâ”€â”€ concrete.rst
|       |   â”œâ”€â”€ core.rst
|       |   â”œâ”€â”€ crypto.rst
|       |   â”œâ”€â”€ diffgeom.rst
|       |   â”œâ”€â”€ discrete.rst
|       |   â”œâ”€â”€ evalf.rst
|       |   â”œâ”€â”€ functions
|       |   |   â”œâ”€â”€ combinatorial.rst
|       |   |   â”œâ”€â”€ elementary.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â””â”€â”€ special.rst
|       |   â”œâ”€â”€ geometry
|       |   |   â”œâ”€â”€ curves.rst
|       |   |   â”œâ”€â”€ ellipses.rst
|       |   |   â”œâ”€â”€ entities.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ lines.rst
|       |   |   â”œâ”€â”€ plane.rst
|       |   |   â”œâ”€â”€ points.rst
|       |   |   â”œâ”€â”€ polygons.rst
|       |   |   â””â”€â”€ utils.rst
|       |   â”œâ”€â”€ holonomic
|       |   |   â”œâ”€â”€ about.rst
|       |   |   â”œâ”€â”€ convert.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ operations.rst
|       |   |   â”œâ”€â”€ represent.rst
|       |   |   â””â”€â”€ uses.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ integrals
|       |   |   â”œâ”€â”€ g-functions.rst
|       |   |   â””â”€â”€ integrals.rst
|       |   â”œâ”€â”€ liealgebras
|       |   |   â””â”€â”€ index.rst
|       |   â”œâ”€â”€ logic.rst
|       |   â”œâ”€â”€ matrices
|       |   |   â”œâ”€â”€ common.rst
|       |   |   â”œâ”€â”€ dense.rst
|       |   |   â”œâ”€â”€ expressions.rst
|       |   |   â”œâ”€â”€ immutablematrices.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ matrices.rst
|       |   |   â””â”€â”€ sparse.rst
|       |   â”œâ”€â”€ ntheory.rst
|       |   â”œâ”€â”€ numeric-computation.rst
|       |   â”œâ”€â”€ parsing.rst
|       |   â”œâ”€â”€ physics
|       |   |   â”œâ”€â”€ continuum_mechanics
|       |   |   â”œâ”€â”€ hep
|       |   |   â”œâ”€â”€ hydrogen.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ matrices.rst
|       |   |   â”œâ”€â”€ mechanics
|       |   |   â”œâ”€â”€ optics
|       |   |   â”œâ”€â”€ paulialgebra.rst
|       |   |   â”œâ”€â”€ qho_1d.rst
|       |   |   â”œâ”€â”€ quantum
|       |   |   â”œâ”€â”€ secondquant.rst
|       |   |   â”œâ”€â”€ sho.rst
|       |   |   â”œâ”€â”€ units
|       |   |   â”œâ”€â”€ vector
|       |   |   â””â”€â”€ wigner.rst
|       |   â”œâ”€â”€ plotting.rst
|       |   â”œâ”€â”€ polys
|       |   |   â”œâ”€â”€ agca.rst
|       |   |   â”œâ”€â”€ basics.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ internals.rst
|       |   |   â”œâ”€â”€ literature.rst
|       |   |   â”œâ”€â”€ reference.rst
|       |   |   â”œâ”€â”€ ringseries.rst
|       |   |   â””â”€â”€ wester.rst
|       |   â”œâ”€â”€ printing.rst
|       |   â”œâ”€â”€ rewriting.rst
|       |   â”œâ”€â”€ series
|       |   |   â”œâ”€â”€ formal.rst
|       |   |   â”œâ”€â”€ fourier.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ limitseq.rst
|       |   |   â”œâ”€â”€ sequences.rst
|       |   |   â””â”€â”€ series.rst
|       |   â”œâ”€â”€ sets.rst
|       |   â”œâ”€â”€ simplify
|       |   |   â”œâ”€â”€ hyperexpand.rst
|       |   |   â””â”€â”€ simplify.rst
|       |   â”œâ”€â”€ solvers
|       |   |   â”œâ”€â”€ diophantine.rst
|       |   |   â”œâ”€â”€ inequalities.rst
|       |   |   â”œâ”€â”€ ode.rst
|       |   |   â”œâ”€â”€ pde.rst
|       |   |   â”œâ”€â”€ solvers.rst
|       |   |   â””â”€â”€ solveset.rst
|       |   â”œâ”€â”€ stats.rst
|       |   â”œâ”€â”€ tensor
|       |   |   â”œâ”€â”€ array.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ index_methods.rst
|       |   |   â”œâ”€â”€ indexed.rst
|       |   |   â””â”€â”€ tensor.rst
|       |   â”œâ”€â”€ utilities
|       |   |   â”œâ”€â”€ autowrap.rst
|       |   |   â”œâ”€â”€ codegen.rst
|       |   |   â”œâ”€â”€ decorator.rst
|       |   |   â”œâ”€â”€ enumerative.rst
|       |   |   â”œâ”€â”€ index.rst
|       |   |   â”œâ”€â”€ iterables.rst
|       |   |   â”œâ”€â”€ lambdify.rst
|       |   |   â”œâ”€â”€ memoization.rst
|       |   |   â”œâ”€â”€ misc.rst
|       |   |   â”œâ”€â”€ pkgdata.rst
|       |   |   â”œâ”€â”€ pytest.rst
|       |   |   â”œâ”€â”€ randtest.rst
|       |   |   â”œâ”€â”€ runtests.rst
|       |   |   â”œâ”€â”€ source.rst
|       |   |   â””â”€â”€ timeutils.rst
|       |   â””â”€â”€ vector
|       |       â”œâ”€â”€ api
|       |       â”œâ”€â”€ basics.rst
|       |       â”œâ”€â”€ coordsys.rst
|       |       â”œâ”€â”€ examples.rst
|       |       â”œâ”€â”€ fields.rst
|       |       â”œâ”€â”€ index.rst
|       |       â””â”€â”€ intro.rst
|       â”œâ”€â”€ outreach.rst
|       â”œâ”€â”€ pics
|       â”œâ”€â”€ python-comparisons.rst
|       â”œâ”€â”€ special_topics
|       |   â”œâ”€â”€ finite_diff_derivatives.rst
|       |   â”œâ”€â”€ index.rst
|       |   â””â”€â”€ intro.rst
|       â”œâ”€â”€ tutorial
|       |   â”œâ”€â”€ basic_operations.rst
|       |   â”œâ”€â”€ calculus.rst
|       |   â”œâ”€â”€ gotchas.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ intro.rst
|       |   â”œâ”€â”€ manipulation.rst
|       |   â”œâ”€â”€ matrices.rst
|       |   â”œâ”€â”€ preliminaries.rst
|       |   â”œâ”€â”€ printing.rst
|       |   â”œâ”€â”€ simplification.rst
|       |   â””â”€â”€ solvers.rst
|       â””â”€â”€ wiki.rst
â”œâ”€â”€ examples
|   â”œâ”€â”€ advanced
|   |   â”œâ”€â”€ autowrap_integrators.py
|   |   â”œâ”€â”€ autowrap_ufuncify.py
|   |   â”œâ”€â”€ curvilinear_coordinates.py
|   |   â”œâ”€â”€ dense_coding_example.py
|   |   â”œâ”€â”€ fem.py
|   |   â”œâ”€â”€ gibbs_phenomenon.py
|   |   â”œâ”€â”€ grover_example.py
|   |   â”œâ”€â”€ hydrogen.py
|   |   â”œâ”€â”€ pidigits.py
|   |   â”œâ”€â”€ pyglet_plotting.py
|   |   â”œâ”€â”€ qft.py
|   |   â””â”€â”€ relativity.py
|   â”œâ”€â”€ all.py
|   â”œâ”€â”€ beginner
|   |   â”œâ”€â”€ basic.py
|   |   â”œâ”€â”€ differentiation.py
|   |   â”œâ”€â”€ expansion.py
|   |   â”œâ”€â”€ functions.py
|   |   â”œâ”€â”€ limits_examples.py
|   |   â”œâ”€â”€ plot_examples.py
|   |   â”œâ”€â”€ plotting_nice_plot.py
|   |   â”œâ”€â”€ precision.py
|   |   â”œâ”€â”€ print_pretty.py
|   |   â”œâ”€â”€ series.py
|   |   â””â”€â”€ substitution.py
|   â”œâ”€â”€ intermediate
|   |   â”œâ”€â”€ coupled_cluster.py
|   |   â”œâ”€â”€ differential_equations.py
|   |   â”œâ”€â”€ infinite_1d_box.py
|   |   â”œâ”€â”€ mplot2d.py
|   |   â”œâ”€â”€ mplot3d.py
|   |   â”œâ”€â”€ partial_differential_eqs.py
|   |   â”œâ”€â”€ print_gtk.py
|   |   â”œâ”€â”€ sample.py
|   |   â”œâ”€â”€ trees.py
|   |   â””â”€â”€ vandermonde.py
|   â””â”€â”€ notebooks
|       â””â”€â”€ README.txt
â”œâ”€â”€ isympy.py
â”œâ”€â”€ release
|   â”œâ”€â”€ README.md
|   â”œâ”€â”€ fabfile.py
|   â”œâ”€â”€ pull_and_run_rever.sh
|   â””â”€â”€ release.sh
â”œâ”€â”€ setup.py
â”œâ”€â”€ setupegg.py
â””â”€â”€ sympy
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ abc.py
    â”œâ”€â”€ algebras
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ quaternion.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_quaternion.py
    â”œâ”€â”€ assumptions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ask.py
    |   â”œâ”€â”€ ask_generated.py
    |   â”œâ”€â”€ assume.py
    |   â”œâ”€â”€ handlers
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ calculus.py
    |   |   â”œâ”€â”€ common.py
    |   |   â”œâ”€â”€ matrices.py
    |   |   â”œâ”€â”€ ntheory.py
    |   |   â”œâ”€â”€ order.py
    |   |   â””â”€â”€ sets.py
    |   â”œâ”€â”€ refine.py
    |   â”œâ”€â”€ satask.py
    |   â”œâ”€â”€ sathandlers.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_assumptions_2.py
    |       â”œâ”€â”€ test_context.py
    |       â”œâ”€â”€ test_matrices.py
    |       â”œâ”€â”€ test_query.py
    |       â”œâ”€â”€ test_refine.py
    |       â”œâ”€â”€ test_satask.py
    |       â””â”€â”€ test_sathandlers.py
    â”œâ”€â”€ benchmarks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ bench_discrete_log.py
    |   â”œâ”€â”€ bench_meijerint.py
    |   â””â”€â”€ bench_symbench.py
    â”œâ”€â”€ calculus
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ euler.py
    |   â”œâ”€â”€ finite_diff.py
    |   â”œâ”€â”€ singularities.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_euler.py
    |   |   â”œâ”€â”€ test_finite_diff.py
    |   |   â”œâ”€â”€ test_singularities.py
    |   |   â””â”€â”€ test_util.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ categories
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ baseclasses.py
    |   â”œâ”€â”€ diagram_drawing.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_baseclasses.py
    |       â””â”€â”€ test_drawing.py
    â”œâ”€â”€ codegen
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ algorithms.py
    |   â”œâ”€â”€ approximations.py
    |   â”œâ”€â”€ array_utils.py
    |   â”œâ”€â”€ ast.py
    |   â”œâ”€â”€ cfunctions.py
    |   â”œâ”€â”€ cnodes.py
    |   â”œâ”€â”€ cutils.py
    |   â”œâ”€â”€ cxxnodes.py
    |   â”œâ”€â”€ fnodes.py
    |   â”œâ”€â”€ futils.py
    |   â”œâ”€â”€ pyutils.py
    |   â”œâ”€â”€ rewriting.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_algorithms.py
    |       â”œâ”€â”€ test_applications.py
    |       â”œâ”€â”€ test_approximations.py
    |       â”œâ”€â”€ test_array_utils.py
    |       â”œâ”€â”€ test_ast.py
    |       â”œâ”€â”€ test_cfunctions.py
    |       â”œâ”€â”€ test_cnodes.py
    |       â”œâ”€â”€ test_cxxnodes.py
    |       â”œâ”€â”€ test_fnodes.py
    |       â””â”€â”€ test_rewriting.py
    â”œâ”€â”€ combinatorics
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ coset_table.py
    |   â”œâ”€â”€ fp_groups.py
    |   â”œâ”€â”€ free_groups.py
    |   â”œâ”€â”€ generators.py
    |   â”œâ”€â”€ graycode.py
    |   â”œâ”€â”€ group_constructs.py
    |   â”œâ”€â”€ homomorphisms.py
    |   â”œâ”€â”€ named_groups.py
    |   â”œâ”€â”€ partitions.py
    |   â”œâ”€â”€ perm_groups.py
    |   â”œâ”€â”€ permutations.py
    |   â”œâ”€â”€ polyhedron.py
    |   â”œâ”€â”€ prufer.py
    |   â”œâ”€â”€ rewritingsystem.py
    |   â”œâ”€â”€ rewritingsystem_fsm.py
    |   â”œâ”€â”€ subsets.py
    |   â”œâ”€â”€ tensor_can.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_coset_table.py
    |   |   â”œâ”€â”€ test_fp_groups.py
    |   |   â”œâ”€â”€ test_free_groups.py
    |   |   â”œâ”€â”€ test_generators.py
    |   |   â”œâ”€â”€ test_graycode.py
    |   |   â”œâ”€â”€ test_group_constructs.py
    |   |   â”œâ”€â”€ test_homomorphisms.py
    |   |   â”œâ”€â”€ test_named_groups.py
    |   |   â”œâ”€â”€ test_partitions.py
    |   |   â”œâ”€â”€ test_perm_groups.py
    |   |   â”œâ”€â”€ test_permutations.py
    |   |   â”œâ”€â”€ test_polyhedron.py
    |   |   â”œâ”€â”€ test_prufer.py
    |   |   â”œâ”€â”€ test_rewriting.py
    |   |   â”œâ”€â”€ test_subsets.py
    |   |   â”œâ”€â”€ test_tensor_can.py
    |   |   â”œâ”€â”€ test_testutil.py
    |   |   â””â”€â”€ test_util.py
    |   â”œâ”€â”€ testutil.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ concrete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ delta.py
    |   â”œâ”€â”€ expr_with_intlimits.py
    |   â”œâ”€â”€ expr_with_limits.py
    |   â”œâ”€â”€ gosper.py
    |   â”œâ”€â”€ guess.py
    |   â”œâ”€â”€ products.py
    |   â”œâ”€â”€ summations.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_delta.py
    |       â”œâ”€â”€ test_gosper.py
    |       â”œâ”€â”€ test_guess.py
    |       â”œâ”€â”€ test_products.py
    |       â””â”€â”€ test_sums_products.py
    â”œâ”€â”€ conftest.py
    â”œâ”€â”€ core
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ add.py
    |   â”œâ”€â”€ alphabets.py
    |   â”œâ”€â”€ assumptions.py
    |   â”œâ”€â”€ backend.py
    |   â”œâ”€â”€ basic.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_arit.py
    |   |   â”œâ”€â”€ bench_assumptions.py
    |   |   â”œâ”€â”€ bench_basic.py
    |   |   â”œâ”€â”€ bench_expand.py
    |   |   â”œâ”€â”€ bench_numbers.py
    |   |   â””â”€â”€ bench_sympify.py
    |   â”œâ”€â”€ cache.py
    |   â”œâ”€â”€ compatibility.py
    |   â”œâ”€â”€ containers.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ coreerrors.py
    |   â”œâ”€â”€ decorators.py
    |   â”œâ”€â”€ evalf.py
    |   â”œâ”€â”€ evaluate.py
    |   â”œâ”€â”€ expr.py
    |   â”œâ”€â”€ exprtools.py
    |   â”œâ”€â”€ facts.py
    |   â”œâ”€â”€ function.py
    |   â”œâ”€â”€ logic.py
    |   â”œâ”€â”€ mod.py
    |   â”œâ”€â”€ mul.py
    |   â”œâ”€â”€ multidimensional.py
    |   â”œâ”€â”€ numbers.py
    |   â”œâ”€â”€ operations.py
    |   â”œâ”€â”€ power.py
    |   â”œâ”€â”€ relational.py
    |   â”œâ”€â”€ rules.py
    |   â”œâ”€â”€ singleton.py
    |   â”œâ”€â”€ symbol.py
    |   â”œâ”€â”€ sympify.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_args.py
    |   |   â”œâ”€â”€ test_arit.py
    |   |   â”œâ”€â”€ test_assumptions.py
    |   |   â”œâ”€â”€ test_basic.py
    |   |   â”œâ”€â”€ test_cache.py
    |   |   â”œâ”€â”€ test_compatibility.py
    |   |   â”œâ”€â”€ test_complex.py
    |   |   â”œâ”€â”€ test_constructor_postprocessor.py
    |   |   â”œâ”€â”€ test_containers.py
    |   |   â”œâ”€â”€ test_count_ops.py
    |   |   â”œâ”€â”€ test_diff.py
    |   |   â”œâ”€â”€ test_equal.py
    |   |   â”œâ”€â”€ test_eval.py
    |   |   â”œâ”€â”€ test_evalf.py
    |   |   â”œâ”€â”€ test_evaluate.py
    |   |   â”œâ”€â”€ test_expand.py
    |   |   â”œâ”€â”€ test_expr.py
    |   |   â”œâ”€â”€ test_exprtools.py
    |   |   â”œâ”€â”€ test_facts.py
    |   |   â”œâ”€â”€ test_function.py
    |   |   â”œâ”€â”€ test_logic.py
    |   |   â”œâ”€â”€ test_match.py
    |   |   â”œâ”€â”€ test_noncommutative.py
    |   |   â”œâ”€â”€ test_numbers.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_power.py
    |   |   â”œâ”€â”€ test_priority.py
    |   |   â”œâ”€â”€ test_relational.py
    |   |   â”œâ”€â”€ test_rules.py
    |   |   â”œâ”€â”€ test_singleton.py
    |   |   â”œâ”€â”€ test_subs.py
    |   |   â”œâ”€â”€ test_symbol.py
    |   |   â”œâ”€â”€ test_sympify.py
    |   |   â”œâ”€â”€ test_trace.py
    |   |   â”œâ”€â”€ test_truediv.py
    |   |   â””â”€â”€ test_var.py
    |   â””â”€â”€ trace.py
    â”œâ”€â”€ crypto
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ crypto.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_crypto.py
    â”œâ”€â”€ deprecated
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ class_registry.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_class_registry.py
    â”œâ”€â”€ diffgeom
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ diffgeom.py
    |   â”œâ”€â”€ rn.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_class_structure.py
    |       â”œâ”€â”€ test_diffgeom.py
    |       â”œâ”€â”€ test_function_diffgeom_book.py
    |       â””â”€â”€ test_hyperbolic_space.py
    â”œâ”€â”€ discrete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ convolutions.py
    |   â”œâ”€â”€ recurrences.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_convolutions.py
    |   |   â”œâ”€â”€ test_recurrences.py
    |   |   â””â”€â”€ test_transforms.py
    |   â””â”€â”€ transforms.py
    â”œâ”€â”€ external
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ importtools.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_autowrap.py
    |       â”œâ”€â”€ test_codegen.py
    |       â”œâ”€â”€ test_importtools.py
    |       â”œâ”€â”€ test_numpy.py
    |       â”œâ”€â”€ test_sage.py
    |       â””â”€â”€ test_scipy.py
    â”œâ”€â”€ functions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ combinatorial
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ factorials.py
    |   |   â”œâ”€â”€ numbers.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_comb_factorials.py
    |   |       â””â”€â”€ test_comb_numbers.py
    |   â”œâ”€â”€ elementary
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ benchmarks
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ bench_exp.py
    |   |   â”œâ”€â”€ complexes.py
    |   |   â”œâ”€â”€ exponential.py
    |   |   â”œâ”€â”€ hyperbolic.py
    |   |   â”œâ”€â”€ integers.py
    |   |   â”œâ”€â”€ miscellaneous.py
    |   |   â”œâ”€â”€ piecewise.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_complexes.py
    |   |   |   â”œâ”€â”€ test_exponential.py
    |   |   |   â”œâ”€â”€ test_hyperbolic.py
    |   |   |   â”œâ”€â”€ test_integers.py
    |   |   |   â”œâ”€â”€ test_interface.py
    |   |   |   â”œâ”€â”€ test_miscellaneous.py
    |   |   |   â”œâ”€â”€ test_piecewise.py
    |   |   |   â””â”€â”€ test_trigonometric.py
    |   |   â””â”€â”€ trigonometric.py
    |   â””â”€â”€ special
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ benchmarks
    |       |   â”œâ”€â”€ __init__.py
    |       |   â””â”€â”€ bench_special.py
    |       â”œâ”€â”€ bessel.py
    |       â”œâ”€â”€ beta_functions.py
    |       â”œâ”€â”€ bsplines.py
    |       â”œâ”€â”€ delta_functions.py
    |       â”œâ”€â”€ elliptic_integrals.py
    |       â”œâ”€â”€ error_functions.py
    |       â”œâ”€â”€ gamma_functions.py
    |       â”œâ”€â”€ hyper.py
    |       â”œâ”€â”€ mathieu_functions.py
    |       â”œâ”€â”€ polynomials.py
    |       â”œâ”€â”€ singularity_functions.py
    |       â”œâ”€â”€ spherical_harmonics.py
    |       â”œâ”€â”€ tensor_functions.py
    |       â”œâ”€â”€ tests
    |       |   â”œâ”€â”€ __init__.py
    |       |   â”œâ”€â”€ test_bessel.py
    |       |   â”œâ”€â”€ test_beta_functions.py
    |       |   â”œâ”€â”€ test_bsplines.py
    |       |   â”œâ”€â”€ test_delta_functions.py
    |       |   â”œâ”€â”€ test_elliptic_integrals.py
    |       |   â”œâ”€â”€ test_error_functions.py
    |       |   â”œâ”€â”€ test_gamma_functions.py
    |       |   â”œâ”€â”€ test_hyper.py
    |       |   â”œâ”€â”€ test_mathieu.py
    |       |   â”œâ”€â”€ test_singularity_functions.py
    |       |   â”œâ”€â”€ test_spec_polynomials.py
    |       |   â”œâ”€â”€ test_spherical_harmonics.py
    |       |   â”œâ”€â”€ test_tensor_functions.py
    |       |   â””â”€â”€ test_zeta_functions.py
    |       â””â”€â”€ zeta_functions.py
    â”œâ”€â”€ galgebra.py
    â”œâ”€â”€ geometry
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ curve.py
    |   â”œâ”€â”€ ellipse.py
    |   â”œâ”€â”€ entity.py
    |   â”œâ”€â”€ exceptions.py
    |   â”œâ”€â”€ line.py
    |   â”œâ”€â”€ parabola.py
    |   â”œâ”€â”€ plane.py
    |   â”œâ”€â”€ point.py
    |   â”œâ”€â”€ polygon.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_curve.py
    |   |   â”œâ”€â”€ test_ellipse.py
    |   |   â”œâ”€â”€ test_entity.py
    |   |   â”œâ”€â”€ test_geometrysets.py
    |   |   â”œâ”€â”€ test_line.py
    |   |   â”œâ”€â”€ test_parabola.py
    |   |   â”œâ”€â”€ test_plane.py
    |   |   â”œâ”€â”€ test_point.py
    |   |   â”œâ”€â”€ test_polygon.py
    |   |   â””â”€â”€ test_util.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ holonomic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ holonomic.py
    |   â”œâ”€â”€ holonomicerrors.py
    |   â”œâ”€â”€ linearsolver.py
    |   â”œâ”€â”€ numerical.py
    |   â”œâ”€â”€ recurrence.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_holonomic.py
    |       â””â”€â”€ test_recurrence.py
    â”œâ”€â”€ integrals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_integrate.py
    |   |   â””â”€â”€ bench_trigintegrate.py
    |   â”œâ”€â”€ deltafunctions.py
    |   â”œâ”€â”€ heurisch.py
    |   â”œâ”€â”€ integrals.py
    |   â”œâ”€â”€ intpoly.py
    |   â”œâ”€â”€ manualintegrate.py
    |   â”œâ”€â”€ meijerint.py
    |   â”œâ”€â”€ meijerint_doc.py
    |   â”œâ”€â”€ prde.py
    |   â”œâ”€â”€ quadrature.py
    |   â”œâ”€â”€ rationaltools.py
    |   â”œâ”€â”€ rde.py
    |   â”œâ”€â”€ risch.py
    |   â”œâ”€â”€ rubi
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ constraints.py
    |   |   â”œâ”€â”€ parsetools
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ generate_rules.py
    |   |   |   â”œâ”€â”€ generate_tests.py
    |   |   |   â”œâ”€â”€ header.py.txt
    |   |   |   â”œâ”€â”€ parse.py
    |   |   |   â””â”€â”€ tests
    |   |   â”œâ”€â”€ rubi.py
    |   |   â”œâ”€â”€ rubi_tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ tests
    |   |   â”œâ”€â”€ rules
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ binomial_products.py
    |   |   |   â”œâ”€â”€ exponential.py
    |   |   |   â”œâ”€â”€ hyperbolic.py
    |   |   |   â”œâ”€â”€ integrand_simplification.py
    |   |   |   â”œâ”€â”€ inverse_hyperbolic.py
    |   |   |   â”œâ”€â”€ inverse_trig.py
    |   |   |   â”œâ”€â”€ linear_products.py
    |   |   |   â”œâ”€â”€ logarithms.py
    |   |   |   â”œâ”€â”€ miscellaneous_algebraic.py
    |   |   |   â”œâ”€â”€ miscellaneous_integration.py
    |   |   |   â”œâ”€â”€ miscellaneous_trig.py
    |   |   |   â”œâ”€â”€ piecewise_linear.py
    |   |   |   â”œâ”€â”€ quadratic_products.py
    |   |   |   â”œâ”€â”€ secant.py
    |   |   |   â”œâ”€â”€ sine.py
    |   |   |   â”œâ”€â”€ special_functions.py
    |   |   |   â”œâ”€â”€ tangent.py
    |   |   |   â””â”€â”€ trinomial_products.py
    |   |   â”œâ”€â”€ symbol.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_rubi_integrate.py
    |   |   |   â””â”€â”€ test_utility_function.py
    |   |   â””â”€â”€ utility_function.py
    |   â”œâ”€â”€ singularityfunctions.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_deltafunctions.py
    |   |   â”œâ”€â”€ test_failing_integrals.py
    |   |   â”œâ”€â”€ test_heurisch.py
    |   |   â”œâ”€â”€ test_integrals.py
    |   |   â”œâ”€â”€ test_intpoly.py
    |   |   â”œâ”€â”€ test_lineintegrals.py
    |   |   â”œâ”€â”€ test_manual.py
    |   |   â”œâ”€â”€ test_meijerint.py
    |   |   â”œâ”€â”€ test_prde.py
    |   |   â”œâ”€â”€ test_quadrature.py
    |   |   â”œâ”€â”€ test_rationaltools.py
    |   |   â”œâ”€â”€ test_rde.py
    |   |   â”œâ”€â”€ test_risch.py
    |   |   â”œâ”€â”€ test_singularityfunctions.py
    |   |   â”œâ”€â”€ test_transforms.py
    |   |   â””â”€â”€ test_trigonometry.py
    |   â”œâ”€â”€ transforms.py
    |   â””â”€â”€ trigonometry.py
    â”œâ”€â”€ interactive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ipythonprinting.py
    |   â”œâ”€â”€ printing.py
    |   â”œâ”€â”€ session.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_interactive.py
    |       â”œâ”€â”€ test_ipython.py
    |       â””â”€â”€ test_ipythonprinting.py
    â”œâ”€â”€ liealgebras
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ cartan_matrix.py
    |   â”œâ”€â”€ cartan_type.py
    |   â”œâ”€â”€ dynkin_diagram.py
    |   â”œâ”€â”€ root_system.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_cartan_matrix.py
    |   |   â”œâ”€â”€ test_cartan_type.py
    |   |   â”œâ”€â”€ test_dynkin_diagram.py
    |   |   â”œâ”€â”€ test_root_system.py
    |   |   â”œâ”€â”€ test_type_A.py
    |   |   â”œâ”€â”€ test_type_B.py
    |   |   â”œâ”€â”€ test_type_C.py
    |   |   â”œâ”€â”€ test_type_D.py
    |   |   â”œâ”€â”€ test_type_E.py
    |   |   â”œâ”€â”€ test_type_F.py
    |   |   â”œâ”€â”€ test_type_G.py
    |   |   â””â”€â”€ test_weyl_group.py
    |   â”œâ”€â”€ type_a.py
    |   â”œâ”€â”€ type_b.py
    |   â”œâ”€â”€ type_c.py
    |   â”œâ”€â”€ type_d.py
    |   â”œâ”€â”€ type_e.py
    |   â”œâ”€â”€ type_f.py
    |   â”œâ”€â”€ type_g.py
    |   â””â”€â”€ weyl_group.py
    â”œâ”€â”€ logic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ algorithms
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ dpll.py
    |   |   â””â”€â”€ dpll2.py
    |   â”œâ”€â”€ boolalg.py
    |   â”œâ”€â”€ inference.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_boolalg.py
    |   |   â”œâ”€â”€ test_dimacs.py
    |   |   â””â”€â”€ test_inference.py
    |   â””â”€â”€ utilities
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ dimacs.py
    â”œâ”€â”€ matrices
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ bench_matrix.py
    |   â”œâ”€â”€ common.py
    |   â”œâ”€â”€ dense.py
    |   â”œâ”€â”€ densearith.py
    |   â”œâ”€â”€ densesolve.py
    |   â”œâ”€â”€ densetools.py
    |   â”œâ”€â”€ expressions
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ adjoint.py
    |   |   â”œâ”€â”€ applyfunc.py
    |   |   â”œâ”€â”€ blockmatrix.py
    |   |   â”œâ”€â”€ determinant.py
    |   |   â”œâ”€â”€ diagonal.py
    |   |   â”œâ”€â”€ dotproduct.py
    |   |   â”œâ”€â”€ factorizations.py
    |   |   â”œâ”€â”€ fourier.py
    |   |   â”œâ”€â”€ funcmatrix.py
    |   |   â”œâ”€â”€ hadamard.py
    |   |   â”œâ”€â”€ inverse.py
    |   |   â”œâ”€â”€ kronecker.py
    |   |   â”œâ”€â”€ matadd.py
    |   |   â”œâ”€â”€ matexpr.py
    |   |   â”œâ”€â”€ matmul.py
    |   |   â”œâ”€â”€ matpow.py
    |   |   â”œâ”€â”€ slice.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_adjoint.py
    |   |   |   â”œâ”€â”€ test_applyfunc.py
    |   |   |   â”œâ”€â”€ test_blockmatrix.py
    |   |   |   â”œâ”€â”€ test_derivatives.py
    |   |   |   â”œâ”€â”€ test_determinant.py
    |   |   |   â”œâ”€â”€ test_diagonal.py
    |   |   |   â”œâ”€â”€ test_dotproduct.py
    |   |   |   â”œâ”€â”€ test_factorizations.py
    |   |   |   â”œâ”€â”€ test_fourier.py
    |   |   |   â”œâ”€â”€ test_funcmatrix.py
    |   |   |   â”œâ”€â”€ test_hadamard.py
    |   |   |   â”œâ”€â”€ test_indexing.py
    |   |   |   â”œâ”€â”€ test_inverse.py
    |   |   |   â”œâ”€â”€ test_kronecker.py
    |   |   |   â”œâ”€â”€ test_matadd.py
    |   |   |   â”œâ”€â”€ test_matexpr.py
    |   |   |   â”œâ”€â”€ test_matmul.py
    |   |   |   â”œâ”€â”€ test_matpow.py
    |   |   |   â”œâ”€â”€ test_slice.py
    |   |   |   â”œâ”€â”€ test_trace.py
    |   |   |   â””â”€â”€ test_transpose.py
    |   |   â”œâ”€â”€ trace.py
    |   |   â””â”€â”€ transpose.py
    |   â”œâ”€â”€ immutable.py
    |   â”œâ”€â”€ matrices.py
    |   â”œâ”€â”€ normalforms.py
    |   â”œâ”€â”€ sparse.py
    |   â”œâ”€â”€ sparsetools.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_commonmatrix.py
    |       â”œâ”€â”€ test_densearith.py
    |       â”œâ”€â”€ test_densesolve.py
    |       â”œâ”€â”€ test_densetools.py
    |       â”œâ”€â”€ test_immutable.py
    |       â”œâ”€â”€ test_interactions.py
    |       â”œâ”€â”€ test_matrices.py
    |       â”œâ”€â”€ test_normalforms.py
    |       â”œâ”€â”€ test_sparse.py
    |       â””â”€â”€ test_sparsetools.py
    â”œâ”€â”€ multipledispatch
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ conflict.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ dispatcher.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_conflict.py
    |   |   â”œâ”€â”€ test_core.py
    |   |   â””â”€â”€ test_dispatcher.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ ntheory
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ bbp_pi.py
    |   â”œâ”€â”€ continued_fraction.py
    |   â”œâ”€â”€ egyptian_fraction.py
    |   â”œâ”€â”€ factor_.py
    |   â”œâ”€â”€ generate.py
    |   â”œâ”€â”€ modular.py
    |   â”œâ”€â”€ multinomial.py
    |   â”œâ”€â”€ partitions_.py
    |   â”œâ”€â”€ primetest.py
    |   â”œâ”€â”€ residue_ntheory.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_bbp_pi.py
    |       â”œâ”€â”€ test_continued_fraction.py
    |       â”œâ”€â”€ test_egyptian_fraction.py
    |       â”œâ”€â”€ test_factor_.py
    |       â”œâ”€â”€ test_generate.py
    |       â”œâ”€â”€ test_modular.py
    |       â”œâ”€â”€ test_multinomial.py
    |       â”œâ”€â”€ test_partitions.py
    |       â”œâ”€â”€ test_primetest.py
    |       â””â”€â”€ test_residue.py
    â”œâ”€â”€ parsing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ast_parser.py
    |   â”œâ”€â”€ autolev
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _antlr
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ autolevlexer.py
    |   |   |   â”œâ”€â”€ autolevlistener.py
    |   |   |   â””â”€â”€ autolevparser.py
    |   |   â”œâ”€â”€ _listener_autolev_antlr.py
    |   |   â”œâ”€â”€ _parse_autolev_antlr.py
    |   |   â””â”€â”€ test-examples
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ pydy-example-repo
    |   |       â”œâ”€â”€ ruletest1.py
    |   |       â”œâ”€â”€ ruletest10.py
    |   |       â”œâ”€â”€ ruletest11.py
    |   |       â”œâ”€â”€ ruletest12.py
    |   |       â”œâ”€â”€ ruletest2.py
    |   |       â”œâ”€â”€ ruletest3.py
    |   |       â”œâ”€â”€ ruletest4.py
    |   |       â”œâ”€â”€ ruletest5.py
    |   |       â”œâ”€â”€ ruletest6.py
    |   |       â”œâ”€â”€ ruletest7.py
    |   |       â”œâ”€â”€ ruletest8.py
    |   |       â””â”€â”€ ruletest9.py
    |   â”œâ”€â”€ latex
    |   |   â”œâ”€â”€ LICENSE.txt
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _antlr
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ latexlexer.py
    |   |   |   â””â”€â”€ latexparser.py
    |   |   â”œâ”€â”€ _build_latex_antlr.py
    |   |   â”œâ”€â”€ _parse_latex_antlr.py
    |   |   â””â”€â”€ errors.py
    |   â”œâ”€â”€ mathematica.py
    |   â”œâ”€â”€ maxima.py
    |   â”œâ”€â”€ sympy_parser.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_autolev.py
    |       â”œâ”€â”€ test_implicit_multiplication_application.py
    |       â”œâ”€â”€ test_latex.py
    |       â”œâ”€â”€ test_latex_deps.py
    |       â”œâ”€â”€ test_mathematica.py
    |       â”œâ”€â”€ test_maxima.py
    |       â””â”€â”€ test_sympy_parser.py
    â”œâ”€â”€ physics
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ continuum_mechanics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ beam.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_beam.py
    |   â”œâ”€â”€ gaussopt.py
    |   â”œâ”€â”€ hep
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ gamma_matrices.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_gamma_matrices.py
    |   â”œâ”€â”€ hydrogen.py
    |   â”œâ”€â”€ matrices.py
    |   â”œâ”€â”€ mechanics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ body.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ kane.py
    |   |   â”œâ”€â”€ lagrange.py
    |   |   â”œâ”€â”€ linearize.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ particle.py
    |   |   â”œâ”€â”€ rigidbody.py
    |   |   â”œâ”€â”€ system.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_body.py
    |   |       â”œâ”€â”€ test_functions.py
    |   |       â”œâ”€â”€ test_kane.py
    |   |       â”œâ”€â”€ test_kane2.py
    |   |       â”œâ”€â”€ test_kane3.py
    |   |       â”œâ”€â”€ test_lagrange.py
    |   |       â”œâ”€â”€ test_lagrange2.py
    |   |       â”œâ”€â”€ test_linearize.py
    |   |       â”œâ”€â”€ test_models.py
    |   |       â”œâ”€â”€ test_particle.py
    |   |       â”œâ”€â”€ test_rigidbody.py
    |   |       â””â”€â”€ test_system.py
    |   â”œâ”€â”€ optics
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ gaussopt.py
    |   |   â”œâ”€â”€ medium.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_gaussopt.py
    |   |   |   â”œâ”€â”€ test_medium.py
    |   |   |   â”œâ”€â”€ test_utils.py
    |   |   |   â””â”€â”€ test_waves.py
    |   |   â”œâ”€â”€ utils.py
    |   |   â””â”€â”€ waves.py
    |   â”œâ”€â”€ paulialgebra.py
    |   â”œâ”€â”€ pring.py
    |   â”œâ”€â”€ qho_1d.py
    |   â”œâ”€â”€ quantum
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ anticommutator.py
    |   |   â”œâ”€â”€ boson.py
    |   |   â”œâ”€â”€ cartesian.py
    |   |   â”œâ”€â”€ cg.py
    |   |   â”œâ”€â”€ circuitplot.py
    |   |   â”œâ”€â”€ circuitutils.py
    |   |   â”œâ”€â”€ commutator.py
    |   |   â”œâ”€â”€ constants.py
    |   |   â”œâ”€â”€ dagger.py
    |   |   â”œâ”€â”€ density.py
    |   |   â”œâ”€â”€ fermion.py
    |   |   â”œâ”€â”€ gate.py
    |   |   â”œâ”€â”€ grover.py
    |   |   â”œâ”€â”€ hilbert.py
    |   |   â”œâ”€â”€ identitysearch.py
    |   |   â”œâ”€â”€ innerproduct.py
    |   |   â”œâ”€â”€ matrixcache.py
    |   |   â”œâ”€â”€ matrixutils.py
    |   |   â”œâ”€â”€ operator.py
    |   |   â”œâ”€â”€ operatorordering.py
    |   |   â”œâ”€â”€ operatorset.py
    |   |   â”œâ”€â”€ pauli.py
    |   |   â”œâ”€â”€ piab.py
    |   |   â”œâ”€â”€ qapply.py
    |   |   â”œâ”€â”€ qasm.py
    |   |   â”œâ”€â”€ qexpr.py
    |   |   â”œâ”€â”€ qft.py
    |   |   â”œâ”€â”€ qubit.py
    |   |   â”œâ”€â”€ represent.py
    |   |   â”œâ”€â”€ sho1d.py
    |   |   â”œâ”€â”€ shor.py
    |   |   â”œâ”€â”€ spin.py
    |   |   â”œâ”€â”€ state.py
    |   |   â”œâ”€â”€ tensorproduct.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_anticommutator.py
    |   |       â”œâ”€â”€ test_boson.py
    |   |       â”œâ”€â”€ test_cartesian.py
    |   |       â”œâ”€â”€ test_cg.py
    |   |       â”œâ”€â”€ test_circuitplot.py
    |   |       â”œâ”€â”€ test_circuitutils.py
    |   |       â”œâ”€â”€ test_commutator.py
    |   |       â”œâ”€â”€ test_constants.py
    |   |       â”œâ”€â”€ test_dagger.py
    |   |       â”œâ”€â”€ test_density.py
    |   |       â”œâ”€â”€ test_fermion.py
    |   |       â”œâ”€â”€ test_gate.py
    |   |       â”œâ”€â”€ test_grover.py
    |   |       â”œâ”€â”€ test_hilbert.py
    |   |       â”œâ”€â”€ test_identitysearch.py
    |   |       â”œâ”€â”€ test_innerproduct.py
    |   |       â”œâ”€â”€ test_matrixutils.py
    |   |       â”œâ”€â”€ test_operator.py
    |   |       â”œâ”€â”€ test_operatorordering.py
    |   |       â”œâ”€â”€ test_operatorset.py
    |   |       â”œâ”€â”€ test_pauli.py
    |   |       â”œâ”€â”€ test_piab.py
    |   |       â”œâ”€â”€ test_printing.py
    |   |       â”œâ”€â”€ test_qapply.py
    |   |       â”œâ”€â”€ test_qasm.py
    |   |       â”œâ”€â”€ test_qexpr.py
    |   |       â”œâ”€â”€ test_qft.py
    |   |       â”œâ”€â”€ test_qubit.py
    |   |       â”œâ”€â”€ test_represent.py
    |   |       â”œâ”€â”€ test_sho1d.py
    |   |       â”œâ”€â”€ test_shor.py
    |   |       â”œâ”€â”€ test_spin.py
    |   |       â”œâ”€â”€ test_state.py
    |   |       â””â”€â”€ test_tensorproduct.py
    |   â”œâ”€â”€ secondquant.py
    |   â”œâ”€â”€ sho.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_clebsch_gordan.py
    |   |   â”œâ”€â”€ test_hydrogen.py
    |   |   â”œâ”€â”€ test_paulialgebra.py
    |   |   â”œâ”€â”€ test_physics_matrices.py
    |   |   â”œâ”€â”€ test_pring.py
    |   |   â”œâ”€â”€ test_qho_1d.py
    |   |   â”œâ”€â”€ test_secondquant.py
    |   |   â””â”€â”€ test_sho.py
    |   â”œâ”€â”€ units
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ definitions.py
    |   |   â”œâ”€â”€ dimensions.py
    |   |   â”œâ”€â”€ prefixes.py
    |   |   â”œâ”€â”€ quantities.py
    |   |   â”œâ”€â”€ systems
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ mks.py
    |   |   |   â”œâ”€â”€ mksa.py
    |   |   |   â”œâ”€â”€ natural.py
    |   |   |   â””â”€â”€ si.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_dimensions.py
    |   |   |   â”œâ”€â”€ test_dimensionsystem.py
    |   |   |   â”œâ”€â”€ test_prefixes.py
    |   |   |   â”œâ”€â”€ test_quantities.py
    |   |   |   â”œâ”€â”€ test_unitsystem.py
    |   |   |   â””â”€â”€ test_util.py
    |   |   â”œâ”€â”€ unitsystem.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ vector
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ dyadic.py
    |   |   â”œâ”€â”€ fieldfunctions.py
    |   |   â”œâ”€â”€ frame.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ point.py
    |   |   â”œâ”€â”€ printing.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_dyadic.py
    |   |   |   â”œâ”€â”€ test_fieldfunctions.py
    |   |   |   â”œâ”€â”€ test_frame.py
    |   |   |   â”œâ”€â”€ test_functions.py
    |   |   |   â”œâ”€â”€ test_output.py
    |   |   |   â”œâ”€â”€ test_point.py
    |   |   |   â”œâ”€â”€ test_printing.py
    |   |   |   â””â”€â”€ test_vector.py
    |   |   â””â”€â”€ vector.py
    |   â””â”€â”€ wigner.py
    â”œâ”€â”€ plotting
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ experimental_lambdify.py
    |   â”œâ”€â”€ intervalmath
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ interval_arithmetic.py
    |   |   â”œâ”€â”€ lib_interval.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_interval_functions.py
    |   |       â””â”€â”€ test_intervalmath.py
    |   â”œâ”€â”€ plot.py
    |   â”œâ”€â”€ plot_implicit.py
    |   â”œâ”€â”€ pygletplot
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ color_scheme.py
    |   |   â”œâ”€â”€ managed_window.py
    |   |   â”œâ”€â”€ plot.py
    |   |   â”œâ”€â”€ plot_axes.py
    |   |   â”œâ”€â”€ plot_camera.py
    |   |   â”œâ”€â”€ plot_controller.py
    |   |   â”œâ”€â”€ plot_curve.py
    |   |   â”œâ”€â”€ plot_interval.py
    |   |   â”œâ”€â”€ plot_mode.py
    |   |   â”œâ”€â”€ plot_mode_base.py
    |   |   â”œâ”€â”€ plot_modes.py
    |   |   â”œâ”€â”€ plot_object.py
    |   |   â”œâ”€â”€ plot_rotation.py
    |   |   â”œâ”€â”€ plot_surface.py
    |   |   â”œâ”€â”€ plot_window.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ test_plotting.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_plot.py
    |   |   â””â”€â”€ test_plot_implicit.py
    |   â””â”€â”€ textplot.py
    â”œâ”€â”€ polys
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ agca
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ extensions.py
    |   |   â”œâ”€â”€ homomorphisms.py
    |   |   â”œâ”€â”€ ideals.py
    |   |   â”œâ”€â”€ modules.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_extensions.py
    |   |       â”œâ”€â”€ test_homomorphisms.py
    |   |       â”œâ”€â”€ test_ideals.py
    |   |       â””â”€â”€ test_modules.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_galoispolys.py
    |   |   â”œâ”€â”€ bench_groebnertools.py
    |   |   â””â”€â”€ bench_solvers.py
    |   â”œâ”€â”€ compatibility.py
    |   â”œâ”€â”€ constructor.py
    |   â”œâ”€â”€ densearith.py
    |   â”œâ”€â”€ densebasic.py
    |   â”œâ”€â”€ densetools.py
    |   â”œâ”€â”€ dispersion.py
    |   â”œâ”€â”€ distributedmodules.py
    |   â”œâ”€â”€ domains
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ algebraicfield.py
    |   |   â”œâ”€â”€ characteristiczero.py
    |   |   â”œâ”€â”€ complexfield.py
    |   |   â”œâ”€â”€ compositedomain.py
    |   |   â”œâ”€â”€ domain.py
    |   |   â”œâ”€â”€ domainelement.py
    |   |   â”œâ”€â”€ expressiondomain.py
    |   |   â”œâ”€â”€ field.py
    |   |   â”œâ”€â”€ finitefield.py
    |   |   â”œâ”€â”€ fractionfield.py
    |   |   â”œâ”€â”€ gmpyfinitefield.py
    |   |   â”œâ”€â”€ gmpyintegerring.py
    |   |   â”œâ”€â”€ gmpyrationalfield.py
    |   |   â”œâ”€â”€ groundtypes.py
    |   |   â”œâ”€â”€ integerring.py
    |   |   â”œâ”€â”€ modularinteger.py
    |   |   â”œâ”€â”€ mpelements.py
    |   |   â”œâ”€â”€ old_fractionfield.py
    |   |   â”œâ”€â”€ old_polynomialring.py
    |   |   â”œâ”€â”€ polynomialring.py
    |   |   â”œâ”€â”€ pythonfinitefield.py
    |   |   â”œâ”€â”€ pythonintegerring.py
    |   |   â”œâ”€â”€ pythonrational.py
    |   |   â”œâ”€â”€ pythonrationalfield.py
    |   |   â”œâ”€â”€ quotientring.py
    |   |   â”œâ”€â”€ rationalfield.py
    |   |   â”œâ”€â”€ realfield.py
    |   |   â”œâ”€â”€ ring.py
    |   |   â”œâ”€â”€ simpledomain.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_domains.py
    |   |       â”œâ”€â”€ test_polynomialring.py
    |   |       â””â”€â”€ test_quotientring.py
    |   â”œâ”€â”€ euclidtools.py
    |   â”œâ”€â”€ factortools.py
    |   â”œâ”€â”€ fglmtools.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ galoistools.py
    |   â”œâ”€â”€ groebnertools.py
    |   â”œâ”€â”€ heuristicgcd.py
    |   â”œâ”€â”€ modulargcd.py
    |   â”œâ”€â”€ monomials.py
    |   â”œâ”€â”€ multivariate_resultants.py
    |   â”œâ”€â”€ numberfields.py
    |   â”œâ”€â”€ orderings.py
    |   â”œâ”€â”€ orthopolys.py
    |   â”œâ”€â”€ partfrac.py
    |   â”œâ”€â”€ polyclasses.py
    |   â”œâ”€â”€ polyconfig.py
    |   â”œâ”€â”€ polyerrors.py
    |   â”œâ”€â”€ polyfuncs.py
    |   â”œâ”€â”€ polymatrix.py
    |   â”œâ”€â”€ polyoptions.py
    |   â”œâ”€â”€ polyquinticconst.py
    |   â”œâ”€â”€ polyroots.py
    |   â”œâ”€â”€ polytools.py
    |   â”œâ”€â”€ polyutils.py
    |   â”œâ”€â”€ rationaltools.py
    |   â”œâ”€â”€ ring_series.py
    |   â”œâ”€â”€ rings.py
    |   â”œâ”€â”€ rootisolation.py
    |   â”œâ”€â”€ rootoftools.py
    |   â”œâ”€â”€ solvers.py
    |   â”œâ”€â”€ specialpolys.py
    |   â”œâ”€â”€ sqfreetools.py
    |   â”œâ”€â”€ subresultants_qq_zz.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_constructor.py
    |       â”œâ”€â”€ test_densearith.py
    |       â”œâ”€â”€ test_densebasic.py
    |       â”œâ”€â”€ test_densetools.py
    |       â”œâ”€â”€ test_dispersion.py
    |       â”œâ”€â”€ test_distributedmodules.py
    |       â”œâ”€â”€ test_euclidtools.py
    |       â”œâ”€â”€ test_factortools.py
    |       â”œâ”€â”€ test_fields.py
    |       â”œâ”€â”€ test_galoistools.py
    |       â”œâ”€â”€ test_groebnertools.py
    |       â”œâ”€â”€ test_heuristicgcd.py
    |       â”œâ”€â”€ test_injections.py
    |       â”œâ”€â”€ test_modulargcd.py
    |       â”œâ”€â”€ test_monomials.py
    |       â”œâ”€â”€ test_multivariate_resultants.py
    |       â”œâ”€â”€ test_numberfields.py
    |       â”œâ”€â”€ test_orderings.py
    |       â”œâ”€â”€ test_orthopolys.py
    |       â”œâ”€â”€ test_partfrac.py
    |       â”œâ”€â”€ test_polyclasses.py
    |       â”œâ”€â”€ test_polyfuncs.py
    |       â”œâ”€â”€ test_polymatrix.py
    |       â”œâ”€â”€ test_polyoptions.py
    |       â”œâ”€â”€ test_polyroots.py
    |       â”œâ”€â”€ test_polytools.py
    |       â”œâ”€â”€ test_polyutils.py
    |       â”œâ”€â”€ test_pythonrational.py
    |       â”œâ”€â”€ test_rationaltools.py
    |       â”œâ”€â”€ test_ring_series.py
    |       â”œâ”€â”€ test_rings.py
    |       â”œâ”€â”€ test_rootisolation.py
    |       â”œâ”€â”€ test_rootoftools.py
    |       â”œâ”€â”€ test_solvers.py
    |       â”œâ”€â”€ test_specialpolys.py
    |       â”œâ”€â”€ test_sqfreetools.py
    |       â””â”€â”€ test_subresultants_qq_zz.py
    â”œâ”€â”€ printing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ ccode.py
    |   â”œâ”€â”€ codeprinter.py
    |   â”œâ”€â”€ conventions.py
    |   â”œâ”€â”€ cxxcode.py
    |   â”œâ”€â”€ defaults.py
    |   â”œâ”€â”€ dot.py
    |   â”œâ”€â”€ fcode.py
    |   â”œâ”€â”€ glsl.py
    |   â”œâ”€â”€ gtk.py
    |   â”œâ”€â”€ jscode.py
    |   â”œâ”€â”€ julia.py
    |   â”œâ”€â”€ lambdarepr.py
    |   â”œâ”€â”€ latex.py
    |   â”œâ”€â”€ llvmjitcode.py
    |   â”œâ”€â”€ mathematica.py
    |   â”œâ”€â”€ mathml.py
    |   â”œâ”€â”€ octave.py
    |   â”œâ”€â”€ precedence.py
    |   â”œâ”€â”€ pretty
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ pretty.py
    |   |   â”œâ”€â”€ pretty_symbology.py
    |   |   â”œâ”€â”€ stringpict.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_pretty.py
    |   â”œâ”€â”€ preview.py
    |   â”œâ”€â”€ printer.py
    |   â”œâ”€â”€ pycode.py
    |   â”œâ”€â”€ python.py
    |   â”œâ”€â”€ rcode.py
    |   â”œâ”€â”€ repr.py
    |   â”œâ”€â”€ rust.py
    |   â”œâ”€â”€ str.py
    |   â”œâ”€â”€ tableform.py
    |   â”œâ”€â”€ tensorflow.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_ccode.py
    |   |   â”œâ”€â”€ test_codeprinter.py
    |   |   â”œâ”€â”€ test_conventions.py
    |   |   â”œâ”€â”€ test_cxxcode.py
    |   |   â”œâ”€â”€ test_dot.py
    |   |   â”œâ”€â”€ test_fcode.py
    |   |   â”œâ”€â”€ test_glsl.py
    |   |   â”œâ”€â”€ test_gtk.py
    |   |   â”œâ”€â”€ test_jscode.py
    |   |   â”œâ”€â”€ test_julia.py
    |   |   â”œâ”€â”€ test_lambdarepr.py
    |   |   â”œâ”€â”€ test_latex.py
    |   |   â”œâ”€â”€ test_llvmjit.py
    |   |   â”œâ”€â”€ test_mathematica.py
    |   |   â”œâ”€â”€ test_mathml.py
    |   |   â”œâ”€â”€ test_numpy.py
    |   |   â”œâ”€â”€ test_octave.py
    |   |   â”œâ”€â”€ test_precedence.py
    |   |   â”œâ”€â”€ test_preview.py
    |   |   â”œâ”€â”€ test_pycode.py
    |   |   â”œâ”€â”€ test_python.py
    |   |   â”œâ”€â”€ test_rcode.py
    |   |   â”œâ”€â”€ test_repr.py
    |   |   â”œâ”€â”€ test_rust.py
    |   |   â”œâ”€â”€ test_str.py
    |   |   â”œâ”€â”€ test_tableform.py
    |   |   â”œâ”€â”€ test_tensorflow.py
    |   |   â””â”€â”€ test_theanocode.py
    |   â”œâ”€â”€ theanocode.py
    |   â””â”€â”€ tree.py
    â”œâ”€â”€ release.py
    â”œâ”€â”€ sandbox
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ indexed_integrals.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_indexed_integrals.py
    â”œâ”€â”€ series
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ acceleration.py
    |   â”œâ”€â”€ approximants.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bench_limit.py
    |   |   â””â”€â”€ bench_order.py
    |   â”œâ”€â”€ formal.py
    |   â”œâ”€â”€ fourier.py
    |   â”œâ”€â”€ gruntz.py
    |   â”œâ”€â”€ kauers.py
    |   â”œâ”€â”€ limits.py
    |   â”œâ”€â”€ limitseq.py
    |   â”œâ”€â”€ order.py
    |   â”œâ”€â”€ residues.py
    |   â”œâ”€â”€ sequences.py
    |   â”œâ”€â”€ series.py
    |   â”œâ”€â”€ series_class.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_approximants.py
    |       â”œâ”€â”€ test_demidovich.py
    |       â”œâ”€â”€ test_formal.py
    |       â”œâ”€â”€ test_fourier.py
    |       â”œâ”€â”€ test_gruntz.py
    |       â”œâ”€â”€ test_kauers.py
    |       â”œâ”€â”€ test_limits.py
    |       â”œâ”€â”€ test_limitseq.py
    |       â”œâ”€â”€ test_lseries.py
    |       â”œâ”€â”€ test_nseries.py
    |       â”œâ”€â”€ test_order.py
    |       â”œâ”€â”€ test_residues.py
    |       â”œâ”€â”€ test_sequences.py
    |       â””â”€â”€ test_series.py
    â”œâ”€â”€ sets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ conditionset.py
    |   â”œâ”€â”€ contains.py
    |   â”œâ”€â”€ fancysets.py
    |   â”œâ”€â”€ handlers
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ add.py
    |   |   â”œâ”€â”€ functions.py
    |   |   â”œâ”€â”€ intersection.py
    |   |   â”œâ”€â”€ mul.py
    |   |   â”œâ”€â”€ power.py
    |   |   â””â”€â”€ union.py
    |   â”œâ”€â”€ ordinals.py
    |   â”œâ”€â”€ setexpr.py
    |   â”œâ”€â”€ sets.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_conditionset.py
    |       â”œâ”€â”€ test_contains.py
    |       â”œâ”€â”€ test_fancysets.py
    |       â”œâ”€â”€ test_ordinals.py
    |       â”œâ”€â”€ test_setexpr.py
    |       â””â”€â”€ test_sets.py
    â”œâ”€â”€ simplify
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ combsimp.py
    |   â”œâ”€â”€ cse_main.py
    |   â”œâ”€â”€ cse_opts.py
    |   â”œâ”€â”€ epathtools.py
    |   â”œâ”€â”€ fu.py
    |   â”œâ”€â”€ gammasimp.py
    |   â”œâ”€â”€ hyperexpand.py
    |   â”œâ”€â”€ hyperexpand_doc.py
    |   â”œâ”€â”€ powsimp.py
    |   â”œâ”€â”€ radsimp.py
    |   â”œâ”€â”€ ratsimp.py
    |   â”œâ”€â”€ simplify.py
    |   â”œâ”€â”€ sqrtdenest.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_combsimp.py
    |   |   â”œâ”€â”€ test_cse.py
    |   |   â”œâ”€â”€ test_epathtools.py
    |   |   â”œâ”€â”€ test_fu.py
    |   |   â”œâ”€â”€ test_function.py
    |   |   â”œâ”€â”€ test_gammasimp.py
    |   |   â”œâ”€â”€ test_hyperexpand.py
    |   |   â”œâ”€â”€ test_powsimp.py
    |   |   â”œâ”€â”€ test_radsimp.py
    |   |   â”œâ”€â”€ test_ratsimp.py
    |   |   â”œâ”€â”€ test_rewrite.py
    |   |   â”œâ”€â”€ test_simplify.py
    |   |   â”œâ”€â”€ test_sqrtdenest.py
    |   |   â”œâ”€â”€ test_traversaltools.py
    |   |   â””â”€â”€ test_trigsimp.py
    |   â”œâ”€â”€ traversaltools.py
    |   â””â”€â”€ trigsimp.py
    â”œâ”€â”€ solvers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ benchmarks
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ bench_solvers.py
    |   â”œâ”€â”€ bivariate.py
    |   â”œâ”€â”€ decompogen.py
    |   â”œâ”€â”€ deutils.py
    |   â”œâ”€â”€ diophantine.py
    |   â”œâ”€â”€ inequalities.py
    |   â”œâ”€â”€ ode.py
    |   â”œâ”€â”€ pde.py
    |   â”œâ”€â”€ polysys.py
    |   â”œâ”€â”€ recurr.py
    |   â”œâ”€â”€ solvers.py
    |   â”œâ”€â”€ solveset.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_constantsimp.py
    |       â”œâ”€â”€ test_decompogen.py
    |       â”œâ”€â”€ test_diophantine.py
    |       â”œâ”€â”€ test_inequalities.py
    |       â”œâ”€â”€ test_numeric.py
    |       â”œâ”€â”€ test_ode.py
    |       â”œâ”€â”€ test_pde.py
    |       â”œâ”€â”€ test_polysys.py
    |       â”œâ”€â”€ test_recurr.py
    |       â”œâ”€â”€ test_solvers.py
    |       â””â”€â”€ test_solveset.py
    â”œâ”€â”€ stats
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ crv.py
    |   â”œâ”€â”€ crv_types.py
    |   â”œâ”€â”€ drv.py
    |   â”œâ”€â”€ drv_types.py
    |   â”œâ”€â”€ error_prop.py
    |   â”œâ”€â”€ frv.py
    |   â”œâ”€â”€ frv_types.py
    |   â”œâ”€â”€ joint_rv.py
    |   â”œâ”€â”€ joint_rv_types.py
    |   â”œâ”€â”€ rv.py
    |   â”œâ”€â”€ rv_interface.py
    |   â”œâ”€â”€ symbolic_probability.py
    |   â””â”€â”€ tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ test_continuous_rv.py
    |       â”œâ”€â”€ test_discrete_rv.py
    |       â”œâ”€â”€ test_error_prop.py
    |       â”œâ”€â”€ test_finite_rv.py
    |       â”œâ”€â”€ test_joint_rv.py
    |       â”œâ”€â”€ test_mix.py
    |       â”œâ”€â”€ test_rv.py
    |       â””â”€â”€ test_symbolic_probability.py
    â”œâ”€â”€ strategies
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ branch
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ core.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ test_core.py
    |   |   |   â”œâ”€â”€ test_tools.py
    |   |   |   â””â”€â”€ test_traverse.py
    |   |   â”œâ”€â”€ tools.py
    |   |   â””â”€â”€ traverse.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ rl.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_core.py
    |   |   â”œâ”€â”€ test_rl.py
    |   |   â”œâ”€â”€ test_strat.py
    |   |   â”œâ”€â”€ test_tools.py
    |   |   â”œâ”€â”€ test_traverse.py
    |   |   â””â”€â”€ test_tree.py
    |   â”œâ”€â”€ tools.py
    |   â”œâ”€â”€ traverse.py
    |   â”œâ”€â”€ tree.py
    |   â””â”€â”€ util.py
    â”œâ”€â”€ tensor
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ array
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ arrayop.py
    |   |   â”œâ”€â”€ dense_ndim_array.py
    |   |   â”œâ”€â”€ mutable_ndim_array.py
    |   |   â”œâ”€â”€ ndim_array.py
    |   |   â”œâ”€â”€ sparse_ndim_array.py
    |   |   â””â”€â”€ tests
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ test_arrayop.py
    |   |       â”œâ”€â”€ test_immutable_ndim_array.py
    |   |       â”œâ”€â”€ test_mutable_ndim_array.py
    |   |       â””â”€â”€ test_ndim_array_conversions.py
    |   â”œâ”€â”€ functions.py
    |   â”œâ”€â”€ index_methods.py
    |   â”œâ”€â”€ indexed.py
    |   â”œâ”€â”€ tensor.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_index_methods.py
    |   |   â”œâ”€â”€ test_indexed.py
    |   |   â”œâ”€â”€ test_tensor.py
    |   |   â”œâ”€â”€ test_tensor_element.py
    |   |   â””â”€â”€ test_tensor_operators.py
    |   â””â”€â”€ toperators.py
    â”œâ”€â”€ this.py
    â”œâ”€â”€ unify
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ core.py
    |   â”œâ”€â”€ rewrite.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_rewrite.py
    |   |   â”œâ”€â”€ test_sympy.py
    |   |   â””â”€â”€ test_unify.py
    |   â””â”€â”€ usympy.py
    â”œâ”€â”€ utilities
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ _compilation
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ availability.py
    |   |   â”œâ”€â”€ compilation.py
    |   |   â”œâ”€â”€ runners.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ test_compilation.py
    |   |   â””â”€â”€ util.py
    |   â”œâ”€â”€ autowrap.py
    |   â”œâ”€â”€ benchmarking.py
    |   â”œâ”€â”€ codegen.py
    |   â”œâ”€â”€ decorator.py
    |   â”œâ”€â”€ enumerative.py
    |   â”œâ”€â”€ exceptions.py
    |   â”œâ”€â”€ iterables.py
    |   â”œâ”€â”€ lambdify.py
    |   â”œâ”€â”€ magic.py
    |   â”œâ”€â”€ mathml
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ data
    |   â”œâ”€â”€ memoization.py
    |   â”œâ”€â”€ misc.py
    |   â”œâ”€â”€ pkgdata.py
    |   â”œâ”€â”€ pytest.py
    |   â”œâ”€â”€ randtest.py
    |   â”œâ”€â”€ runtests.py
    |   â”œâ”€â”€ source.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ diagnose_imports.py
    |   |   â”œâ”€â”€ test_autowrap.py
    |   |   â”œâ”€â”€ test_code_quality.py
    |   |   â”œâ”€â”€ test_codegen.py
    |   |   â”œâ”€â”€ test_codegen_julia.py
    |   |   â”œâ”€â”€ test_codegen_octave.py
    |   |   â”œâ”€â”€ test_codegen_rust.py
    |   |   â”œâ”€â”€ test_decorator.py
    |   |   â”œâ”€â”€ test_enumerative.py
    |   |   â”œâ”€â”€ test_iterables.py
    |   |   â”œâ”€â”€ test_lambdify.py
    |   |   â”œâ”€â”€ test_misc.py
    |   |   â”œâ”€â”€ test_module_imports.py
    |   |   â”œâ”€â”€ test_pickling.py
    |   |   â”œâ”€â”€ test_pytest.py
    |   |   â”œâ”€â”€ test_source.py
    |   |   â”œâ”€â”€ test_timeutils.py
    |   |   â””â”€â”€ test_wester.py
    |   â”œâ”€â”€ timeutils.py
    |   â””â”€â”€ tmpfiles.py
    â””â”€â”€ vector
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ basisdependent.py
        â”œâ”€â”€ coordsysrect.py
        â”œâ”€â”€ deloperator.py
        â”œâ”€â”€ dyadic.py
        â”œâ”€â”€ functions.py
        â”œâ”€â”€ operators.py
        â”œâ”€â”€ orienters.py
        â”œâ”€â”€ point.py
        â”œâ”€â”€ scalar.py
        â”œâ”€â”€ tests
        |   â”œâ”€â”€ __init__.py
        |   â”œâ”€â”€ test_coordsysrect.py
        |   â”œâ”€â”€ test_dyadic.py
        |   â”œâ”€â”€ test_field_functions.py
        |   â”œâ”€â”€ test_functions.py
        |   â”œâ”€â”€ test_operators.py
        |   â”œâ”€â”€ test_printing.py
        |   â””â”€â”€ test_vector.py
        â””â”€â”€ vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
is_zero is incorrect on complex integer

Issue description: 
`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:

```
>>> e = -2*I + (1 + I)**2
>>> e.is_zero
False
>>> simplify(e).is_zero
True
```

This is causing errors in determining the rank of a matrix. See issue #15872 
Fixing is_zero for complex numbers while Add
References to other Issues or PRs
#15873 

Other comments:

<!-- BEGIN RELEASE NOTES -->

- core
  - Fix `is_zero` becoming `False` on some expressions with `Add`.

<!-- END RELEASE NOTES -->


Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: sympy/core/tests/test_arit.py
Line number range: 45 - 93
Content:
45. def test_arit0():
46.     p = Rational(5)
47.     e = a*b
48.     assert e == a*b
49.     e = a*b + b*a
50.     assert e == 2*a*b
51.     e = a*b + b*a + a*b + p*b*a
52.     assert e == 8*a*b
53.     e = a*b + b*a + a*b + p*b*a + a
54.     assert e == a + 8*a*b
55.     e = a + a
56.     assert e == 2*a
57.     e = a + b + a
58.     assert e == b + 2*a
59.     e = a + b*b + a + b*b
60.     assert e == 2*a + 2*b**2
61.     e = a + Rational(2) + b*b + a + b*b + p
62.     assert e == 7 + 2*a + 2*b**2
63.     e = (a + b*b + a + b*b)*p
64.     assert e == 5*(2*a + 2*b**2)
65.     e = (a*b*c + c*b*a + b*a*c)*p
66.     assert e == 15*a*b*c
67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c
68.     assert e == Rational(0)
69.     e = Rational(50)*(a - a)
70.     assert e == Rational(0)
71.     e = b*a - b - a*b + b
72.     assert e == Rational(0)
73.     e = a*b + c**p
74.     assert e == a*b + c**5
75.     e = a/b
76.     assert e == a*b**(-1)
77.     e = a*2*2
78.     assert e == 4*a
79.     e = 2 + a*2/2
80.     assert e == 2 + a
81.     e = 2 - a - 2
82.     assert e == -a
83.     e = 2*a*2
84.     assert e == 4*a
85.     e = 2/a/2
86.     assert e == a**(-1)
87.     e = 2**a**2
88.     assert e == 2**(a**2)
89.     e = -(1 + a)
90.     assert e == -1 - a
91.     e = Rational(1, 2)*(1 + a)
92.     assert e == Rational(1, 2) + a/2
93. 


File: sympy/core/tests/test_arit.py
Line number range: 104 - 143
Content:
104. def test_pow():
105.     n1 = Rational(1)
106.     n2 = Rational(2)
107.     n5 = Rational(5)
108.     e = a*a
109.     assert e == a**2
110.     e = a*a*a
111.     assert e == a**3
112.     e = a*a*a*a**Rational(6)
113.     assert e == a**9
114.     e = a*a*a*a**Rational(6) - a**Rational(9)
115.     assert e == Rational(0)
116.     e = a**(b - b)
117.     assert e == Rational(1)
118.     e = (a + Rational(1) - a)**b
119.     assert e == Rational(1)
120. 
121.     e = (a + b + c)**n2
122.     assert e == (a + b + c)**2
123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2
124. 
125.     e = (a + b)**n2
126.     assert e == (a + b)**2
127.     assert e.expand() == 2*a*b + a**2 + b**2
128. 
129.     e = (a + b)**(n1/n2)
130.     assert e == sqrt(a + b)
131.     assert e.expand() == sqrt(a + b)
132. 
133.     n = n5**(n1/n2)
134.     assert n == sqrt(5)
135.     e = n*a*b - n*b*a
136.     assert e == Rational(0)
137.     e = n*a*b + n*b*a
138.     assert e == 2*a*b*sqrt(5)
139.     assert e.diff(a) == 2*b*sqrt(5)
140.     assert e.diff(a) == 2*b*sqrt(5)
141.     e = a/b**2
142.     assert e == a*b**(-2)
143. 


File: sympy/core/tests/test_arit.py
Line number range: 359 - 377
Content:
359. def test_Add_Mul_is_integer():
360.     x = Symbol('x')
361. 
362.     k = Symbol('k', integer=True)
363.     n = Symbol('n', integer=True)
364. 
365.     assert (2*k).is_integer is True
366.     assert (-k).is_integer is True
367.     assert (k/3).is_integer is None
368.     assert (x*k*n).is_integer is None
369. 
370.     assert (k + n).is_integer is True
371.     assert (k + x).is_integer is None
372.     assert (k + n*x).is_integer is None
373.     assert (k + n/3).is_integer is None
374. 
375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
377. 


File: sympy/core/tests/test_assumptions.py
Line number range: 337 - 348
Content:
337. def test_symbol_imaginary():
338.     a = Symbol('a', imaginary=True)
339. 
340.     assert a.is_real is False
341.     assert a.is_integer is False
342.     assert a.is_negative is False
343.     assert a.is_positive is False
344.     assert a.is_nonnegative is False
345.     assert a.is_nonpositive is False
346.     assert a.is_zero is False
347.     assert a.is_nonzero is False  # since nonzero -> real
348. 


File: sympy/core/tests/test_complex.py
Line number range: 166 - 196
Content:
166. def test_real_imag():
167.     x, y, z = symbols('x, y, z')
168.     X, Y, Z = symbols('X, Y, Z', commutative=False)
169.     a = Symbol('a', real=True)
170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))
171. 
172.     # issue 5395:
173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)
174.     assert im(x*x.conjugate()) == 0
175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2
176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2
177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2
178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)
179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \
180.         (Abs(sin(x))**2, 0)
181. 
182.     # issue 6573:
183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))
184. 
185.     # issue 6428:
186.     r = Symbol('r', real=True)
187.     i = Symbol('i', imaginary=True)
188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))
189.     assert (i*r*x*(y + 2)).as_real_imag() == (
190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),
191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))
192. 
193.     # issue 7106:
194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)
195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)
196. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 17:13:18,765 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='1. The user wants to find existing test cases related to a bug in the `is_zero` property for complex `Add` expressions.\n2. The provided context contains tests for general arithmetic, assumptions, and complex number properties, but lacks specific tests for `is_zero` on compound expressions involving complex numbers.\n3. The tests in `test_arit.py` mostly use `expr == 0` which involves simplification and is not a direct test of the `is_zero` property which should be a quick check.\n4. The test in `test_assumptions.py` checks `is_zero` but only for a single imaginary symbol, not an expression.\n5. The tests in `test_complex.py` check `as_real_imag`, which is related but not a direct test of `is_zero`.\n6. To find the most relevant test cases, it is necessary to examine tests that explicitly assert the value of the `.is_zero` property on various expressions, especially additions and complex-valued ones.' refined_query='Please provide test cases from `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_assumptions.py`, `sympy/core/tests/test_numbers.py`, and `sympy/core/tests/test_expr.py` that contain assertions on the `.is_zero` property of expressions.'
2025-10-05 17:13:24,722 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have located and reviewed the four specified test files to find assertions related to the `.is_zero` property. After analyzing the code, I have extracted the relevant test cases that demonstrate the usage of this property within assertions. These examples will help illustrate how `.is_zero` is tested in the SymPy codebase.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/core/tests/test_arit.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19099, 'candidates_token_count': 91, 'total_token_count': 19548, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19099}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 91}], 'thoughts_token_count': 358, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5073648809076665, 'model_name': 'gemini-2.5-pro'} id='run--a0ac8110-3321-4a02-a0af-8ae8183d8c56-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_arit.py'}, 'id': '8a51c2d9-8ec1-4330-8cee-9a561a78957b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19099, 'output_tokens': 91, 'total_tokens': 19548, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 358}}
2025-10-05 17:13:42,113 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": ".is_zero", "relative_path": "sympy/core/tests/test_arit.py"}'}, '__gemini_function_call_thought_signatures__': {'c6ff5ea4-9c27-4d4b-a7cc-c11113bd1587': 'CvoCAR/MhbbiiVCqYxDdyIfHsU+zkxIiLFFYRwXg39sidKbAjeL6CCQooqhGNry1ztYMk2nPWxDSfvKdS6ZeGn9s+yRlY3PtiXxYXUcyywmPCoJsw3+bX+tK85mjpf02jfdY7h4c+Tl/+D5vNo+EjWHUN1Y1DOrMmZLODXzPuH0cDdTcqhAmV0LclqeeTyop/nmK2ObYKclSFOCwI5x2JQYGoVa7yUW2G1Vf6EYjqFYBcX4C25F+MMvvvQ+TNAXNkF3HjaIJ2h6QB3sx+qJECtDSAKzuXjR8ljJHO3n3/GISIpDkEzdY2ddfhmYfnIEALB694y9bg/VoTflp9jRC1N+0uNPAdybGCgVqKmLy5FrhR2gekRuX88t6YsE3peVjMBFrinJGufW3/bANLTeNeqInxUL7GPahrDhJUZcJUeqd6qLNcIG6W3+KISptxvOmm4uEPv9cz/z1Muv1uekHtNe6r/MIoOSmUte27Ft0rv6m5XfkF0gce8yjeZLw'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 27652, 'candidates_token_count': 39, 'total_token_count': 28913, 'cached_content_token_count': 17829, 'prompt_tokens_details': [{'modality': 1, 'token_count': 27652}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17829}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 39}], 'thoughts_token_count': 1222}, 'finish_reason': 'STOP', 'avg_logprobs': -2.4661636352539062, 'model_name': 'gemini-2.5-pro'} id='run--8ab6f54a-7bc3-4d28-ae2e-c49abc6cc352-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': '.is_zero', 'relative_path': 'sympy/core/tests/test_arit.py'}, 'id': 'c6ff5ea4-9c27-4d4b-a7cc-c11113bd1587', 'type': 'tool_call'}] usage_metadata={'input_tokens': 27652, 'output_tokens': 39, 'total_tokens': 28913, 'input_token_details': {'cache_read': 17829}, 'output_token_details': {'reasoning': 1222}}
2025-10-05 17:13:44,484 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/core/tests/test_assumptions.py"}'}, '__gemini_function_call_thought_signatures__': {'6b1b83b1-5786-4a06-97ba-605d32c817c3': 'Cs0BAR/MhbYGLJfKdrE7903MMPocxA0D51LuTqEunSKaj46tY7gQeFEGdKQytzy1WjLS/4akWYneqy90mzpiuxGcKq/wjB1Ehac1akcLOzCYN6NcJDd247eL3NZmcSiVihgOq43a4cKv81FU23gUxxtLIWCM7OAP1ur6Q8ydu83TEQKge9MdfULR0/sms85whr5csK9yVWUNUIb2MF2cQJ+nqDKZKPShuCDvN8K350C+7kXi2SNgbK39amZxuMj2bW2+Uf3F2v42Waen5VhP0g=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 29792, 'candidates_token_count': 27, 'total_token_count': 29874, 'cached_content_token_count': 25670, 'prompt_tokens_details': [{'modality': 1, 'token_count': 29896}], 'cache_tokens_details': [{'modality': 1, 'token_count': 25670}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 27}], 'thoughts_token_count': 55}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1347272131178114, 'model_name': 'gemini-2.5-pro'} id='run--54180875-5bf3-4156-a930-4f5341e03585-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_assumptions.py'}, 'id': '6b1b83b1-5786-4a06-97ba-605d32c817c3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29792, 'output_tokens': 27, 'total_tokens': 29874, 'input_token_details': {'cache_read': 25670}, 'output_token_details': {'reasoning': 55}}
2025-10-05 17:13:47,097 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": ".is_zero", "relative_path": "sympy/core/tests/test_assumptions.py"}'}, '__gemini_function_call_thought_signatures__': {'af76708d-5c81-4926-8da5-9bc7d7032600': 'CrICAR/MhbaAPtmlODv50mdIhGQZG85Bb5jNL/tj/ibAQd08ponSmgxyGtKTpGq2XcSs2KiyJhqfoBLWN3b8ZZJa1z9ya1Dmrom57osYLCYSGzl/qK8Dunoe27Uv1334rxmE3dLhnXuqDQYMopMjiczoFt+tf9WCGfvhVKPo9Z5M/e/wxJdQM7yaA641vCDxCXNeoyaHG3AVaZLGoR5/mGhX1UhnhoWkOsda9iD4yYx/wYGyZIWy+bY2WEUxRQkU/Zn3hhvQFqFTnjtC+8JyEPD4eUy79yllt3Y68Xt6oN3Mix5PczFy2EfvieEUeYPEPWfRoUgCNf9gy2B0W02p1PYut9wXG4SbyIi76XEfbU5VC1hxa/aUzy+8QR9sW2uv8tYLI53OjdUkzvYXwRnUF+tjbK1D'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 36899, 'candidates_token_count': 40, 'total_token_count': 37027, 'cached_content_token_count': 29740, 'prompt_tokens_details': [{'modality': 1, 'token_count': 37056}], 'cache_tokens_details': [{'modality': 1, 'token_count': 29740}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 40}], 'thoughts_token_count': 88}, 'finish_reason': 'STOP', 'avg_logprobs': -0.007035457342863083, 'model_name': 'gemini-2.5-pro'} id='run--abe761fe-c533-4a26-b58b-bacb038f8cac-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': '.is_zero', 'relative_path': 'sympy/core/tests/test_assumptions.py'}, 'id': 'af76708d-5c81-4926-8da5-9bc7d7032600', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36899, 'output_tokens': 40, 'total_tokens': 37027, 'input_token_details': {'cache_read': 29740}, 'output_token_details': {'reasoning': 88}}
2025-10-05 17:13:49,187 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/core/tests/test_numbers.py"}'}, '__gemini_function_call_thought_signatures__': {'476a5bdb-70ee-4684-848a-f9b645bba97f': 'CrkBAR/MhbaWg0449/dx50LkNkx+gF3w36hmRazJe4m+a9WQosm3yj7hxlsN7lKicM2SxPfjUgw8jaDgUUvuYZg1SdZVlSw7GPrRXGdvOeFScNp/ViL15Yu7aPZzr2+dvfcbi5ygKZV5az/1SOh6+SP81yFwWMvhEMkVQn35pHUjcxqyDQMFqP/nibf1IDpptGISo0aE9pF9/v7tIwMNc346nfrSN0YsR+a+hPgvnlWTSbaFzXYt3jC82V8='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 37796, 'candidates_token_count': 26, 'total_token_count': 37870, 'cached_content_token_count': 35597, 'prompt_tokens_details': [{'modality': 1, 'token_count': 38039}], 'cache_tokens_details': [{'modality': 1, 'token_count': 35597}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 26}], 'thoughts_token_count': 48}, 'finish_reason': 'STOP', 'avg_logprobs': -0.020685273867387038, 'model_name': 'gemini-2.5-pro'} id='run--762770ab-060d-45de-86a3-4e8877023212-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_numbers.py'}, 'id': '476a5bdb-70ee-4684-848a-f9b645bba97f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 37796, 'output_tokens': 26, 'total_tokens': 37870, 'input_token_details': {'cache_read': 35597}, 'output_token_details': {'reasoning': 48}}
2025-10-05 17:13:51,734 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": ".is_zero", "relative_path": "sympy/core/tests/test_numbers.py"}'}, '__gemini_function_call_thought_signatures__': {'183ee2bd-c6b2-4c27-ad41-163dde0f059a': 'CqoCAR/MhbaP2RGIyOwdlCkX/3b4uFv/VLHdnEVJkaJJxkwpjoShMvLrUtmEq218pB8JWNOWRcf+gKAx2QY4dcy/8/n0yYZ3KvX9FDQTBdiDbiSA/MD6zsPcREdN824fxjHGRFyMKbP25k8A1GdaxyvejMu2jNsSLlHQyEtDYTpqoBJUiG1nGIAdRbm/daeqVak8NAWWCQaXIcu1j9j8XI95tuXDS9ym7vj4V/iTOlEvzor/ZUf3mfgZblNg1cgWMr70DIRN9UQLxmfgMJZ5hKXuKjSX24+j+BSr/cSZvXF5hXNULkO8fuUltbohULlZa4V81lC0nGi84WL39duRvktsws6Ayt1TSNulwYRmw5v1iD887Gvgoc5nmsRrusLcAFuyZ/uTvvpnMGJoQg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 47195, 'candidates_token_count': 39, 'total_token_count': 47320, 'cached_content_token_count': 37483, 'prompt_tokens_details': [{'modality': 1, 'token_count': 47484}], 'cache_tokens_details': [{'modality': 1, 'token_count': 37483}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 39}], 'thoughts_token_count': 86}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0002612604592473079, 'model_name': 'gemini-2.5-pro'} id='run--43b8bf46-46b4-42d7-b3e0-358fdece6cf2-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': '.is_zero', 'relative_path': 'sympy/core/tests/test_numbers.py'}, 'id': '183ee2bd-c6b2-4c27-ad41-163dde0f059a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 47195, 'output_tokens': 39, 'total_tokens': 47320, 'input_token_details': {'cache_read': 37483}, 'output_token_details': {'reasoning': 86}}
2025-10-05 17:13:54,286 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/core/tests/test_expr.py"}'}, '__gemini_function_call_thought_signatures__': {'6e7c2c44-8605-41b7-a76c-7b547e753fcc': 'CrIBAR/Mhbaa7E2Mkz8w8hp7IAQVQaXa4grxA/NJLTvv+Crk1iEB5qxMN05z4oSrEDD+nunz02c8iiYmHqmPjnYEoPWZ71srx5fjxpHTdxWWlhPW2tXQXq8wW+SyrFi3qtpveDmewc/LWHkIAm+p5StTLlhWl1tbXE3LKDHlP1VjqN4L+uYA/MBqMxLsXDgQPHrBbo0xeH39k1DODwa7jWHQPX0zIOtsHGUA2N7A7ICV/VCGhA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 50927, 'candidates_token_count': 26, 'total_token_count': 51000, 'cached_content_token_count': 47287, 'prompt_tokens_details': [{'modality': 1, 'token_count': 51300}], 'cache_tokens_details': [{'modality': 1, 'token_count': 47287}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 26}], 'thoughts_token_count': 47}, 'finish_reason': 'STOP', 'avg_logprobs': -0.003386107488320424, 'model_name': 'gemini-2.5-pro'} id='run--0931dadc-6ddc-4003-8a0d-02d8dc4ec303-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/core/tests/test_expr.py'}, 'id': '6e7c2c44-8605-41b7-a76c-7b547e753fcc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 50927, 'output_tokens': 26, 'total_tokens': 51000, 'input_token_details': {'cache_read': 47287}, 'output_token_details': {'reasoning': 47}}
2025-10-05 17:13:56,935 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": ".is_zero", "relative_path": "sympy/core/tests/test_expr.py"}'}, '__gemini_function_call_thought_signatures__': {'69c1697a-d0bf-48f8-ae9e-5f6d1eeba71d': 'CqQCAR/MhbZzS6R0Wn5/swihfECJwr/UNMLDFi5hwK0KcE48KUSOY//yDvEulf0j5si8M7f801N1p/xjcQZ0UwofOr3rMn1M1vpTdthw7bbDuiC232YGBHdodtEKSDt4AtNAhhRb4gy8SwjbH/BAAEl1ZKvFUfKRri93Ziod9J+b4zTMfSmo8v9VEhFWOn4H0rwzj9XPTH4dHtTo5pddEC8XMDIIUlwQXRvDwr8pdzRixkSi7rEnQyCZYUnCN+yLf8EV5P14W9t4e3f+dKHIPRfqxzJAiUeGlKLs+FEnXr5xtZ8Z0NfRci8pDDcIKfh4xEL7i0IPJlQQ2ROjsiditjEQ7KW8tXNgToubWXFEextbmgkAP/hWhPafWw26Vae8BioRyUlp8g=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 59020, 'candidates_token_count': 39, 'total_token_count': 59145, 'cached_content_token_count': 51400, 'prompt_tokens_details': [{'modality': 1, 'token_count': 59438}], 'cache_tokens_details': [{'modality': 1, 'token_count': 51400}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 39}], 'thoughts_token_count': 86}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0004734392158496074, 'model_name': 'gemini-2.5-pro'} id='run--b492d8cb-75b9-4ce9-9a19-1bb0ff9a9dc2-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': '.is_zero', 'relative_path': 'sympy/core/tests/test_expr.py'}, 'id': '69c1697a-d0bf-48f8-ae9e-5f6d1eeba71d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 59020, 'output_tokens': 39, 'total_tokens': 59145, 'input_token_details': {'cache_read': 51400}, 'output_token_details': {'reasoning': 86}}
2025-10-05 17:15:19,101 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have gathered all test cases from the specified files that contain assertions on the `.is_zero` property. After a thorough search of `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_assumptions.py`, and `sympy/core/tests/test_numbers.py`, I found no assertions containing `.is_zero` in `sympy/core/tests/test_expr.py`. The collected test cases from the other three files are listed below.\n\nHere are the test cases from `sympy/core/tests/test_arit.py`:\n```python\ndef test_Add_is_zero():\n    x, y = symbols(\'x y\', zero=True)\n    assert (x + y).is_zero\n```\n```python\ndef test_Mul_is_rational():\n    x = Symbol(\'x\')\n    n = Symbol(\'n\', integer=True)\n    m = Symbol(\'m\', integer=True, nonzero=True)\n\n    assert (n/m).is_rational is True\n    assert (x/pi).is_rational is None\n    assert (x/n).is_rational is None\n    assert (m/pi).is_rational is False\n\n    r = Symbol(\'r\', rational=True)\n    assert (pi*r).is_rational is None\n\n    # issue 8008\n    z = Symbol(\'z\', zero=True)\n    i = Symbol(\'i\', imaginary=True)\n    assert (z*i).is_rational is None\n    bi = Symbol(\'i\', imaginary=True, finite=True)\n    assert (z*bi).is_zero is True\n```\n```python\ndef test_Mul_is_negative_positive_2():\n    a = Symbol(\'a\', nonnegative=True)\n    b = Symbol(\'b\', nonnegative=True)\n    c = Symbol(\'c\', nonpositive=True)\n    d = Symbol(\'d\', nonpositive=True)\n\n    assert (a*b).is_nonnegative is True\n    assert (a*b).is_negative is False\n    assert (a*b).is_zero is None\n    assert (a*b).is_positive is None\n\n    assert (c*d).is_nonnegative is True\n    assert (c*d).is_negative is False\n    assert (c*d).is_zero is None\n    assert (c*d).is_positive is None\n\n    assert (a*c).is_nonpositive is True\n    assert (a*c).is_positive is False\n    assert (a*c).is_zero is None\n    assert (a*c).is_negative is None\n```\n```python\ndef test_Pow_is_zero():\n    z = Symbol(\'z\', zero=True)\n    e = z**2\n    assert e.is_zero\n    assert e.is_positive is False\n    assert e.is_negative is False\n\n    assert Pow(0, 0, evaluate=False).is_zero is False\n    assert Pow(0, 3, evaluate=False).is_zero\n    assert Pow(0, oo, evaluate=False).is_zero\n    assert Pow(0, -3, evaluate=False).is_zero is False\n    assert Pow(0, -oo, evaluate=False).is_zero is False\n    assert Pow(2, 2, evaluate=False).is_zero is False\n\n    a = Symbol(\'a\', zero=False)\n    assert Pow(a, 3).is_zero is False  # issue 7965\n\n    assert Pow(2, oo, evaluate=False).is_zero is False\n    assert Pow(2, -oo, evaluate=False).is_zero\n    assert Pow(S.Half, oo, evaluate=False).is_zero\n    assert Pow(S.Half, -oo, evaluate=False).is_zero is False\n```\n```python\ndef test_mul_zero_detection():\n    nz = Dummy(real=True, zero=False, finite=True)\n    r = Dummy(real=True)\n    c = Dummy(real=False, complex=True, finite=True)\n    c2 = Dummy(real=False, complex=True, finite=True)\n    i = Dummy(imaginary=True, finite=True)\n    e = nz*r*c\n    assert e.is_imaginary is None\n    assert e.is_real is None\n    e = nz*c\n    assert e.is_imaginary is None\n    assert e.is_real is False\n    e = nz*i*c\n    assert e.is_imaginary is False\n    assert e.is_real is None\n    # check for more than one complex; it is important to use\n    # uniquely named Symbols to ensure that two factors appear\n    # e.g. if the symbols have the same name they just become\n    # a single factor, a power.\n    e = nz*i*c*c2\n    assert e.is_imaginary is None\n    assert e.is_real is None\n\n    # _eval_is_real and _eval_is_zero both employ trapping of the\n    # zero value so args should be tested in both directions and\n    # TO AVOID GETTING THE CACHED RESULT, Dummy MUST BE USED\n\n    # real is unknonwn\n    def test(z, b, e):\n        if z.is_zero and b.is_finite:\n            assert e.is_real and e.is_zero\n        else:\n            assert e.is_real is None\n            if b.is_finite:\n                if z.is_zero:\n                    assert e.is_zero\n                else:\n                    assert e.is_zero is None\n            elif b.is_finite is False:\n                if z.is_zero is None:\n                    assert e.is_zero is None\n                else:\n                    assert e.is_zero is False\n\n\n    for iz, ib in cartes(*[[True, False, None]]*2):\n        z = Dummy(\'z\', nonzero=iz)\n        b = Dummy(\'f\', finite=ib)\n        e = Mul(z, b, evaluate=False)\n        test(z, b, e)\n        z = Dummy(\'nz\', nonzero=iz)\n        b = Dummy(\'f\', finite=ib)\n        e = Mul(b, z, evaluate=False)\n        test(z, b, e)\n\n    # real is True\n    def test(z, b, e):\n        if z.is_zero and not b.is_finite:\n            assert e.is_real is None\n        else:\n            assert e.is_real\n\n    for iz, ib in cartes(*[[True, False, None]]*2):\n        z = Dummy(\'z\', nonzero=iz, real=True)\n        b = Dummy(\'b\', finite=ib, real=True)\n        e = Mul(z, b, evaluate=False)\n        test(z, b, e)\n        z = Dummy(\'z\', nonzero=iz, real=True)\n        b = Dummy(\'b\', finite=ib, real=True)\n        e = Mul(b, z, evaluate=False)\n        test(z, b, e)\n```\n\nHere are the test cases from `sympy/core/tests/test_assumptions.py`:\n```python\ndef test_symbol_positive():\n    x = Symbol(\'x\', positive=True)\n    assert x.is_positive is True\n    assert x.is_nonpositive is False\n    assert x.is_negative is False\n    assert x.is_nonnegative is True\n    assert x.is_zero is False\n    assert x.is_nonzero is True\n```\n```python\ndef test_symbol_nonpositive():\n    x = Symbol(\'x\', nonpositive=True)\n    assert x.is_positive is False\n    assert x.is_nonpositive is True\n    assert x.is_negative is None\n    assert x.is_nonnegative is None\n    assert x.is_zero is None\n    assert x.is_nonzero is None\n```\n```python\ndef test_issue_7899():\n    x = Symbol(\'x\', real=True)\n    assert (I*x).is_real is None\n    assert ((x - I)*(x - 1)).is_zero is None\n    assert ((x - I)*(x - 1)).is_real is None\n```\n```python\n@XFAIL\ndef test_issue_7993():\n    x = Dummy(integer=True)\n    y = Dummy(noninteger=True)\n    assert (x - y).is_zero is False\n```\n```python\ndef test_issue_10024():\n    x = Dummy(\'x\')\n    assert Mod(x, 2*pi).is_zero is None\n```\n\nHere are the test cases from `sympy/core/tests/test_numbers.py`:\n```python\ndef test_Float():\n    def eq(a, b):\n        t = Float("1.0E-15")\n        return (-t < a - b < t)\n\n    a = Float(2) ** Float(3)\n    assert eq(a.evalf(), Float(8))\n    assert eq((pi ** -1).evalf(), Float("0.31830988618379067"))\n    a = Float(2) ** Float(4)\n    assert eq(a.evalf(), Float(16))\n    assert (S(.3) == S(.5)) is False\n    x_str = Float((0, \'13333333333333\', -52, 53))\n    x2_str = Float((0, \'26666666666666\', -53, 53))\n    x_hex = Float((0, long(0x13333333333333), -52, 53))\n    x_dec = Float((0, 5404319552844595, -52, 53))\n    assert x_str == x_hex == x_dec == Float(1.2)\n    # This looses a binary digit of precision, so it isn\'t equal to the above,\n    # but check that it normalizes correctly\n    x2_hex = Float((0, long(0x13333333333333)*2, -53, 53))\n    assert x2_hex._mpf_ == (0, 5404319552844595, -52, 52)\n    # XXX: Should this test also hold?\n    # assert x2_hex._prec == 52\n\n    # x2_str and 1.2 are superficially the same\n    assert str(x2_str) == str(Float(1.2))\n    # but are different at the mpf level\n    assert Float(1.2)._mpf_ == (0, long(5404319552844595), -52, 53)\n    assert x2_str._mpf_ == (0, long(10808639105689190), -53, 53)\n\n    assert Float((0, long(0), -123, -1)) == Float(\'nan\')\n    assert Float((0, long(0), -456, -2)) == Float(\'inf\') == Float(\'+inf\')\n    assert Float((1, long(0), -789, -3)) == Float(\'-inf\')\n\n    raises(ValueError, lambda: Float((0, 7, 1, 3), \'\'))\n\n    assert Float(\'+inf\').is_finite is False\n    assert Float(\'+inf\').is_negative is False\n    assert Float(\'+inf\').is_positive is True\n    assert Float(\'+inf\').is_infinite is True\n    assert Float(\'+inf\').is_zero is False\n\n    assert Float(\'-inf\').is_finite is False\n    assert Float(\'-inf\').is_negative is True\n    assert Float(\'-inf\').is_positive is False\n    assert Float(\'-inf\').is_infinite is True\n    assert Float(\'-inf\').is_zero is False\n\n    assert Float(\'0.0\').is_finite is True\n    assert Float(\'0.0\').is_negative is False\n    assert Float(\'0.0\').is_positive is False\n    assert Float(\'0.0\').is_infinite is False\n    assert Float(\'0.0\').is_zero is True\n\n    # rationality properties\n    assert Float(1).is_rational is None\n    assert Float(1).is_irrational is None\n    assert sqrt(2).n(15).is_rational is None\n    assert sqrt(2).n(15).is_irrational is None\n\n    # do not automatically evalf\n    def teq(a):\n        assert (a.evalf() == a) is False\n        assert (a.evalf() != a) is True\n        assert (a == a.evalf()) is False\n        assert (a != a.evalf()) is True\n\n    teq(pi)\n    teq(2*pi)\n    teq(cos(0.1, evaluate=False))\n\n    # long integer\n    i = 12345678901234567890\n    assert same_and_same_prec(Float(12, \'\'), Float(\'12\', \'\'))\n    assert same_and_same_prec(Float(Integer(i), \'\'), Float(i, \'\'))\n    assert same_and_same_prec(Float(i, \'\'), Float(str(i), 20))\n    assert same_and_same_prec(Float(str(i)), Float(i, \'\'))\n    assert same_and_same_prec(Float(i), Float(i, \'\'))\n\n    # inexact floats (repeating binary = denom not multiple of 2)\n    # cannot have precision greater than 15\n    assert Float(.125, 22) == .125\n    assert Float(2.0, 22) == 2\n    assert float(Float(\'.12500000000000001\', \'\')) == .125\n    raises(ValueError, lambda: Float(.12500000000000001, \'\'))\n\n    # allow spaces\n    Float(\'123 456.123 456\') == Float(\'123456.123456\')\n    Integer(\'123 456\') == Integer(\'123456\')\n    Rational(\'123 456.123 456\') == Rational(\'123456.123456\')\n    assert Float(\' .3e2\') == Float(\'0.3e2\')\n\n    # allow auto precision detection\n    assert Float(\'.1\', \'\') == Float(.1, 1)\n    assert Float(\'.125\', \'\') == Float(.125, 3)\n    assert Float(\'.100\', \'\') == Float(.1, 3)\n    assert Float(\'2.0\', \'\') == Float(\'2\', 2)\n\n    raises(ValueError, lambda: Float("12.3d-4", ""))\n    raises(ValueError, lambda: Float(12.3, ""))\n    raises(ValueError, lambda: Float(\'.\'))\n    raises(ValueError, lambda: Float(\'-.\'))\n\n    zero = Float(\'0.0\')\n    assert Float(\'-0\') == zero\n    assert Float(\'.0\') == zero\n    assert Float(\'-.0\') == zero\n    assert Float(\'-0.0\') == zero\n    assert Float(0.0) == zero\n    assert Float(0) == zero\n    assert Float(0, \'\') == Float(\'0\', \'\')\n    assert Float(1) == Float(1.0)\n    assert Float(S.Zero) == zero\n    assert Float(S.One) == Float(1.0)\n\n    assert Float(decimal.Decimal(\'0.1\'), 3) == Float(\'.1\', 3)\n    assert Float(decimal.Decimal(\'nan\')) == S.NaN\n    assert Float(decimal.Decimal(\'Infinity\')) == S.Infinity\n    assert Float(decimal.Decimal(\'-Infinity\')) == S.NegativeInfinity\n\n    assert \'{0:.3f}\'.format(Float(4.236622)) == \'4.237\'\n    assert \'{0:.35f}\'.format(Float(pi.n(40), 40)) == \\\n        \'3.14159265358979323846264338327950288\'\n\n    assert Float(oo) == Float(\'+inf\')\n    assert Float(-oo) == Float(\'-inf\')\n\n    # unicode\n    assert Float(u\'0.73908513321516064100000000\') == \\\n        Float(\'0.73908513321516064100000000\')\n    assert Float(u\'0.73908513321516064100000000\', 28) == \\\n        Float(\'0.73908513321516064100000000\', 28)\n\n    # binary precision\n    # Decimal value 0.1 cannot be expressed precisely as a base 2 fraction\n    a = Float(S(1)/10, dps=15)\n    b = Float(S(1)/10, dps=16)\n    p = Float(S(1)/10, precision=53)\n    q = Float(S(1)/10, precision=54)\n    assert a._mpf_ == p._mpf_\n    assert not a._mpf_ == q._mpf_\n    assert not b._mpf_ == q._mpf_\n\n    # Precision specifying errors\n    raises(ValueError, lambda: Float("1.23", dps=3, precision=10))\n    raises(ValueError, lambda: Float("1.23", dps="", precision=10))\n    raises(ValueError, lambda: Float("1.23", dps=3, precision=""))\n    raises(ValueError, lambda: Float("1.23", dps="", precision=""))\n\n    # from NumberSymbol\n    assert same_and_same_prec(Float(pi, 32), pi.evalf(32))\n    assert same_and_same_prec(Float(Catalan), Catalan.evalf())\n```\n```python\ndef test_zoo():\n    b = Symbol(\'b\', finite=True)\n    nz = Symbol(\'nz\', nonzero=True)\n    p = Symbol(\'p\', positive=True)\n    n = Symbol(\'n\', negative=True)\n    im = Symbol(\'i\', imaginary=True)\n    c = Symbol(\'c\', complex=True)\n    pb = Symbol(\'pb\', positive=True, finite=True)\n    nb = Symbol(\'nb\', negative=True, finite=True)\n    imb = Symbol(\'ib\', imaginary=True, finite=True)\n    for i in [I, S.Infinity, S.NegativeInfinity, S.Zero, S.One, S.Pi, S.Half, S(3), log(3),\n              b, nz, p, n, im, pb, nb, imb, c]:\n        if i.is_finite and (i.is_real or i.is_imaginary):\n            assert i + zoo is zoo\n            assert i - zoo is zoo\n            assert zoo + i is zoo\n            assert zoo - i is zoo\n        elif i.is_finite is not False:\n            assert (i + zoo).is_Add\n            assert (i - zoo).is_Add\n            assert (zoo + i).is_Add\n            assert (zoo - i).is_Add\n        else:\n            assert (i + zoo) is S.NaN\n            assert (i - zoo) is S.NaN\n            assert (zoo + i) is S.NaN\n            assert (zoo - i) is S.NaN\n\n        if fuzzy_not(i.is_zero) and (i.is_real or i.is_imaginary):\n            assert i*zoo is zoo\n            assert zoo*i is zoo\n        elif i.is_zero:\n            assert i*zoo is S.NaN\n            assert zoo*i is S.NaN\n        else:\n            assert (i*zoo).is_Mul\n            assert (zoo*i).is_Mul\n\n        if fuzzy_not((1/i).is_zero) and (i.is_real or i.is_imaginary):\n            assert zoo/i is zoo\n        elif (1/i).is_zero:\n            assert zoo/i is S.NaN\n        elif i.is_zero:\n            assert zoo/i is zoo\n        else:\n            assert (zoo/i).is_Mul\n\n    assert (I*oo).is_Mul  # allow directed infinity\n    assert zoo + zoo is S.NaN\n    assert zoo * zoo is zoo\n    assert zoo - zoo is S.NaN\n    assert zoo/zoo is S.NaN\n    assert zoo**zoo is S.NaN\n    assert zoo**0 is S.One\n    assert zoo**2 is zoo\n    assert 1/zoo is S.Zero\n\n    assert Mul.flatten([S(-1), oo, S(0)]) == ([S.NaN], [], None)\n```\n```python\ndef test_issue_6640():\n    from mpmath.libmp.libmpf import finf, fninf\n    # fnan is not included because Float no longer returns fnan,\n    # but otherwise, the same sort of test could apply\n    assert Float(finf).is_zero is False\n    assert Float(fninf).is_zero is False\n    assert bool(Float(0)) is False\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 1218, 'end_index': 1690, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 1867, 'end_index': 2501, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 2577, 'end_index': 3351, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 3424, 'end_index': 4032, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 3902, 'end_index': 4200, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 4066, 'end_index': 4361, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 4362, 'end_index': 4807, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 4574, 'end_index': 5360, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 5181, 'end_index': 5767, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 5905, 'end_index': 6168, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 6256, 'end_index': 6523, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 7418, 'end_index': 7792, 'uri': 'https://github.com/securesystemslab/zippy', 'title': '', 'license_': ''}, {'start_index': 7633, 'end_index': 8300, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 8163, 'end_index': 8694, 'uri': 'https://github.com/securesystemslab/zippy', 'title': '', 'license_': ''}, {'start_index': 8955, 'end_index': 9254, 'uri': 'https://github.com/diofant/diofant', 'title': '', 'license_': ''}, {'start_index': 9119, 'end_index': 9460, 'uri': 'https://github.com/diofant/diofant', 'title': '', 'license_': ''}, {'start_index': 9366, 'end_index': 10696, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 10691, 'end_index': 11543, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 11394, 'end_index': 11826, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 11695, 'end_index': 12077, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 12149, 'end_index': 12534, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 12370, 'end_index': 12933, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 13005, 'end_index': 14109, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 14109, 'end_index': 14942, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 16027, 'end_index': 16499, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 16603, 'end_index': 17237, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 17255, 'end_index': 18030, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 18037, 'end_index': 18645, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 18515, 'end_index': 18813, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 18679, 'end_index': 18974, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 18975, 'end_index': 19420, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 19187, 'end_index': 19973, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 19794, 'end_index': 20380, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 20469, 'end_index': 20732, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 20748, 'end_index': 21015, 'uri': 'https://github.com/MaeZhao/GBS-Subgraph-Simulation', 'title': '', 'license_': ''}, {'start_index': 21682, 'end_index': 22056, 'uri': 'https://github.com/securesystemslab/zippy', 'title': '', 'license_': ''}, {'start_index': 21897, 'end_index': 22564, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 22427, 'end_index': 22958, 'uri': 'https://github.com/securesystemslab/zippy', 'title': '', 'license_': ''}, {'start_index': 23219, 'end_index': 23518, 'uri': 'https://github.com/diofant/diofant', 'title': '', 'license_': ''}, {'start_index': 23383, 'end_index': 23724, 'uri': 'https://github.com/diofant/diofant', 'title': '', 'license_': ''}, {'start_index': 23630, 'end_index': 24960, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 24955, 'end_index': 25807, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 25658, 'end_index': 26090, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 25959, 'end_index': 26341, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 26413, 'end_index': 26798, 'uri': 'https://github.com/ca954bj/StructuralSymbolicSolver', 'title': '', 'license_': ''}, {'start_index': 26634, 'end_index': 27197, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 27216, 'end_index': 28320, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}, {'start_index': 28320, 'end_index': 29153, 'uri': 'https://github.com/cosmosZhou/sagemath', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 59091, 'candidates_token_count': 5119, 'total_token_count': 69899, 'cached_content_token_count': 59278, 'prompt_tokens_details': [{'modality': 1, 'token_count': 59593}], 'cache_tokens_details': [{'modality': 1, 'token_count': 59278}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 5119}], 'thoughts_token_count': 5689}, 'finish_reason': 'STOP', 'avg_logprobs': -0.006076808272918981, 'model_name': 'gemini-2.5-pro'} id='run--648296df-b346-4575-af9e-3caebb7615c3-0' usage_metadata={'input_tokens': 59091, 'output_tokens': 5119, 'total_tokens': 69899, 'input_token_details': {'cache_read': 59278}, 'output_token_details': {'reasoning': 5689}}
2025-10-05 17:15:19,102 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 17:15:19,103 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
is_zero is incorrect on complex integer

Issue description: 
`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:

```
>>> e = -2*I + (1 + I)**2
>>> e.is_zero
False
>>> simplify(e).is_zero
True
```

This is causing errors in determining the rank of a matrix. See issue #15872 
Fixing is_zero for complex numbers while Add
References to other Issues or PRs
#15873 

Other comments:

<!-- BEGIN RELEASE NOTES -->

- core
  - Fix `is_zero` becoming `False` on some expressions with `Add`.

<!-- END RELEASE NOTES -->


Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide test cases from `sympy/core/tests/test_arit.py`, `sympy/core/tests/test_assumptions.py`, `sympy/core/tests/test_numbers.py`, and `sympy/core/tests/test_expr.py` that contain assertions on the `.is_zero` property of expressions.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: sympy/core/tests/test_arit.py
Line number range: 1 - 500
Content:
1. from sympy import (Basic, Symbol, sin, cos, exp, sqrt, Rational, Float, re, pi,
2.         sympify, Add, Mul, Pow, Mod, I, log, S, Max, symbols, oo, zoo, Integer,
3.         sign, im, nan, Dummy, factorial, comp, refine
4. )
5. from sympy.core.compatibility import long, range
6. from sympy.utilities.iterables import cartes
7. from sympy.utilities.pytest import XFAIL, raises
8. from sympy.utilities.randtest import verify_numerically
9. 
10. 
11. a, c, x, y, z = symbols('a,c,x,y,z')
12. b = Symbol("b", positive=True)
13. 
14. 
15. def same_and_same_prec(a, b):
16.     # stricter matching for Floats
17.     return a == b and a._prec == b._prec
18. 
19. 
20. def test_bug1():
21.     assert re(x) != x
22.     x.series(x, 0, 1)
23.     assert re(x) != x
24. 
25. 
26. def test_Symbol():
27.     e = a*b
28.     assert e == a*b
29.     assert a*b*b == a*b**2
30.     assert a*b*b + c == c + a*b**2
31.     assert a*b*b - c == -c + a*b**2
32. 
33.     x = Symbol('x', complex=True, real=False)
34.     assert x.is_imaginary is None  # could be I or 1 + I
35.     x = Symbol('x', complex=True, imaginary=False)
36.     assert x.is_real is None  # could be 1 or 1 + I
37.     x = Symbol('x', real=True)
38.     assert x.is_complex
39.     x = Symbol('x', imaginary=True)
40.     assert x.is_complex
41.     x = Symbol('x', real=False, imaginary=False)
42.     assert x.is_complex is None  # might be a non-number
43. 
44. 
45. def test_arit0():
46.     p = Rational(5)
47.     e = a*b
48.     assert e == a*b
49.     e = a*b + b*a
50.     assert e == 2*a*b
51.     e = a*b + b*a + a*b + p*b*a
52.     assert e == 8*a*b
53.     e = a*b + b*a + a*b + p*b*a + a
54.     assert e == a + 8*a*b
55.     e = a + a
56.     assert e == 2*a
57.     e = a + b + a
58.     assert e == b + 2*a
59.     e = a + b*b + a + b*b
60.     assert e == 2*a + 2*b**2
61.     e = a + Rational(2) + b*b + a + b*b + p
62.     assert e == 7 + 2*a + 2*b**2
63.     e = (a + b*b + a + b*b)*p
64.     assert e == 5*(2*a + 2*b**2)
65.     e = (a*b*c + c*b*a + b*a*c)*p
66.     assert e == 15*a*b*c
67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c
68.     assert e == Rational(0)
69.     e = Rational(50)*(a - a)
70.     assert e == Rational(0)
71.     e = b*a - b - a*b + b
72.     assert e == Rational(0)
73.     e = a*b + c**p
74.     assert e == a*b + c**5
75.     e = a/b
76.     assert e == a*b**(-1)
77.     e = a*2*2
78.     assert e == 4*a
79.     e = 2 + a*2/2
80.     assert e == 2 + a
81.     e = 2 - a - 2
82.     assert e == -a
83.     e = 2*a*2
84.     assert e == 4*a
85.     e = 2/a/2
86.     assert e == a**(-1)
87.     e = 2**a**2
88.     assert e == 2**(a**2)
89.     e = -(1 + a)
90.     assert e == -1 - a
91.     e = Rational(1, 2)*(1 + a)
92.     assert e == Rational(1, 2) + a/2
93. 
94. 
95. def test_div():
96.     e = a/b
97.     assert e == a*b**(-1)
98.     e = a/b + c/2
99.     assert e == a*b**(-1) + Rational(1)/2*c
100.     e = (1 - b)/(b - 1)
101.     assert e == (1 + -b)*((-1) + b)**(-1)
102. 
103. 
104. def test_pow():
105.     n1 = Rational(1)
106.     n2 = Rational(2)
107.     n5 = Rational(5)
108.     e = a*a
109.     assert e == a**2
110.     e = a*a*a
111.     assert e == a**3
112.     e = a*a*a*a**Rational(6)
113.     assert e == a**9
114.     e = a*a*a*a**Rational(6) - a**Rational(9)
115.     assert e == Rational(0)
116.     e = a**(b - b)
117.     assert e == Rational(1)
118.     e = (a + Rational(1) - a)**b
119.     assert e == Rational(1)
120. 
121.     e = (a + b + c)**n2
122.     assert e == (a + b + c)**2
123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2
124. 
125.     e = (a + b)**n2
126.     assert e == (a + b)**2
127.     assert e.expand() == 2*a*b + a**2 + b**2
128. 
129.     e = (a + b)**(n1/n2)
130.     assert e == sqrt(a + b)
131.     assert e.expand() == sqrt(a + b)
132. 
133.     n = n5**(n1/n2)
134.     assert n == sqrt(5)
135.     e = n*a*b - n*b*a
136.     assert e == Rational(0)
137.     e = n*a*b + n*b*a
138.     assert e == 2*a*b*sqrt(5)
139.     assert e.diff(a) == 2*b*sqrt(5)
140.     assert e.diff(a) == 2*b*sqrt(5)
141.     e = a/b**2
142.     assert e == a*b**(-2)
143. 
144.     assert sqrt(2*(1 + sqrt(2))) == (2*(1 + 2**Rational(1, 2)))**Rational(1, 2)
145. 
146.     x = Symbol('x')
147.     y = Symbol('y')
148. 
149.     assert ((x*y)**3).expand() == y**3 * x**3
150.     assert ((x*y)**-3).expand() == y**-3 * x**-3
151. 
152.     assert (x**5*(3*x)**(3)).expand() == 27 * x**8
153.     assert (x**5*(-3*x)**(3)).expand() == -27 * x**8
154.     assert (x**5*(3*x)**(-3)).expand() == Rational(1, 27) * x**2
155.     assert (x**5*(-3*x)**(-3)).expand() == -Rational(1, 27) * x**2
156. 
157.     # expand_power_exp
158.     assert (x**(y**(x + exp(x + y)) + z)).expand(deep=False) == \
159.         x**z*x**(y**(x + exp(x + y)))
160.     assert (x**(y**(x + exp(x + y)) + z)).expand() == \
161.         x**z*x**(y**x*y**(exp(x)*exp(y)))
162. 
163.     n = Symbol('n', even=False)
164.     k = Symbol('k', even=True)
165.     o = Symbol('o', odd=True)
166. 
167.     assert (-1)**x == (-1)**x
168.     assert (-1)**n == (-1)**n
169.     assert (-2)**k == 2**k
170.     assert (-1)**k == 1
171. 
172. 
173. def test_pow2():
174.     # x**(2*y) is always (x**y)**2 but is only (x**2)**y if
175.     #                                  x.is_positive or y.is_integer
176.     # let x = 1 to see why the following are not true.
177.     assert (-x)**Rational(2, 3) != x**Rational(2, 3)
178.     assert (-x)**Rational(5, 7) != -x**Rational(5, 7)
179.     assert ((-x)**2)**Rational(1, 3) != ((-x)**Rational(1, 3))**2
180.     assert sqrt(x**2) != x
181. 
182. 
183. def test_pow3():
184.     assert sqrt(2)**3 == 2 * sqrt(2)
185.     assert sqrt(2)**3 == sqrt(8)
186. 
187. 
188. def test_mod_pow():
189.     for s, t, u, v in [(4, 13, 497, 445), (4, -3, 497, 365),
190.             (3.2, 2.1, 1.9, 0.1031015682350942), (S(3)/2, 5, S(5)/6, S(3)/32)]:
191.         assert pow(S(s), t, u) == v
192.         assert pow(S(s), S(t), u) == v
193.         assert pow(S(s), t, S(u)) == v
194.         assert pow(S(s), S(t), S(u)) == v
195.     assert pow(S(2), S(10000000000), S(3)) == 1
196.     assert pow(x, y, z) == x**y%z
197.     raises(TypeError, lambda: pow(S(4), "13", 497))
198.     raises(TypeError, lambda: pow(S(4), 13, "497"))
199. 
200. 
201. def test_pow_E():
202.     assert 2**(y/log(2)) == S.Exp1**y
203.     assert 2**(y/log(2)/3) == S.Exp1**(y/3)
204.     assert 3**(1/log(-3)) != S.Exp1
205.     assert (3 + 2*I)**(1/(log(-3 - 2*I) + I*pi)) == S.Exp1
206.     assert (4 + 2*I)**(1/(log(-4 - 2*I) + I*pi)) == S.Exp1
207.     assert (3 + 2*I)**(1/(log(-3 - 2*I, 3)/2 + I*pi/log(3)/2)) == 9
208.     assert (3 + 2*I)**(1/(log(3 + 2*I, 3)/2)) == 9
209.     # every time tests are run they will affirm with a different random
210.     # value that this identity holds
211.     while 1:
212.         b = x._random()
213.         r, i = b.as_real_imag()
214.         if i:
215.             break
216.     assert verify_numerically(b**(1/(log(-b) + sign(i)*I*pi).n()), S.Exp1)
217. 
218. 
219. def test_pow_issue_3516():
220.     assert 4**Rational(1, 4) == sqrt(2)
221. 
222. 
223. def test_pow_im():
224.     for m in (-2, -1, 2):
225.         for d in (3, 4, 5):
226.             b = m*I
227.             for i in range(1, 4*d + 1):
228.                 e = Rational(i, d)
229.                 assert (b**e - b.n()**e.n()).n(2, chop=1e-10) == 0
230. 
231.     e = Rational(7, 3)
232.     assert (2*x*I)**e == 4*2**Rational(1, 3)*(I*x)**e  # same as Wolfram Alpha
233.     im = symbols('im', imaginary=True)
234.     assert (2*im*I)**e == 4*2**Rational(1, 3)*(I*im)**e
235. 
236.     args = [I, I, I, I, 2]
237.     e = Rational(1, 3)
238.     ans = 2**e
239.     assert Mul(*args, evaluate=False)**e == ans
240.     assert Mul(*args)**e == ans
241.     args = [I, I, I, 2]
242.     e = Rational(1, 3)
243.     ans = 2**e*(-I)**e
244.     assert Mul(*args, evaluate=False)**e == ans
245.     assert Mul(*args)**e == ans
246.     args.append(-3)
247.     ans = (6*I)**e
248.     assert Mul(*args, evaluate=False)**e == ans
249.     assert Mul(*args)**e == ans
250.     args.append(-1)
251.     ans = (-6*I)**e
252.     assert Mul(*args, evaluate=False)**e == ans
253.     assert Mul(*args)**e == ans
254. 
255.     args = [I, I, 2]
256.     e = Rational(1, 3)
257.     ans = (-2)**e
258.     assert Mul(*args, evaluate=False)**e == ans
259.     assert Mul(*args)**e == ans
260.     args.append(-3)
261.     ans = (6)**e
262.     assert Mul(*args, evaluate=False)**e == ans
263.     assert Mul(*args)**e == ans
264.     args.append(-1)
265.     ans = (-6)**e
266.     assert Mul(*args, evaluate=False)**e == ans
267.     assert Mul(*args)**e == ans
268.     assert Mul(Pow(-1, Rational(3, 2), evaluate=False), I, I) == I
269.     assert Mul(I*Pow(I, S.Half, evaluate=False)) == sqrt(I)*I
270. 
271. 
272. def test_real_mul():
273.     assert Float(0) * pi * x == Float(0)
274.     assert set((Float(1) * pi * x).args) == {Float(1), pi, x}
275. 
276. 
277. def test_ncmul():
278.     A = Symbol("A", commutative=False)
279.     B = Symbol("B", commutative=False)
280.     C = Symbol("C", commutative=False)
281.     assert A*B != B*A
282.     assert A*B*C != C*B*A
283.     assert A*b*B*3*C == 3*b*A*B*C
284.     assert A*b*B*3*C != 3*b*B*A*C
285.     assert A*b*B*3*C == 3*A*B*C*b
286. 
287.     assert A + B == B + A
288.     assert (A + B)*C != C*(A + B)
289. 
290.     assert C*(A + B)*C != C*C*(A + B)
291. 
292.     assert A*A == A**2
293.     assert (A + B)*(A + B) == (A + B)**2
294. 
295.     assert A**-1 * A == 1
296.     assert A/A == 1
297.     assert A/(A**2) == 1/A
298. 
299.     assert A/(1 + A) == A/(1 + A)
300. 
301.     assert set((A + B + 2*(A + B)).args) == \
302.         {A, B, 2*(A + B)}
303. 
304. 
305. def test_ncpow():
306.     x = Symbol('x', commutative=False)
307.     y = Symbol('y', commutative=False)
308.     z = Symbol('z', commutative=False)
309.     a = Symbol('a')
310.     b = Symbol('b')
311.     c = Symbol('c')
312. 
313.     assert (x**2)*(y**2) != (y**2)*(x**2)
314.     assert (x**-2)*y != y*(x**2)
315.     assert 2**x*2**y != 2**(x + y)
316.     assert 2**x*2**y*2**z != 2**(x + y + z)
317.     assert 2**x*2**(2*x) == 2**(3*x)
318.     assert 2**x*2**(2*x)*2**x == 2**(4*x)
319.     assert exp(x)*exp(y) != exp(y)*exp(x)
320.     assert exp(x)*exp(y)*exp(z) != exp(y)*exp(x)*exp(z)
321.     assert exp(x)*exp(y)*exp(z) != exp(x + y + z)
322.     assert x**a*x**b != x**(a + b)
323.     assert x**a*x**b*x**c != x**(a + b + c)
324.     assert x**3*x**4 == x**7
325.     assert x**3*x**4*x**2 == x**9
326.     assert x**a*x**(4*a) == x**(5*a)
327.     assert x**a*x**(4*a)*x**a == x**(6*a)
328. 
329. 
330. def test_powerbug():
331.     x = Symbol("x")
332.     assert x**1 != (-x)**1
333.     assert x**2 == (-x)**2
334.     assert x**3 != (-x)**3
335.     assert x**4 == (-x)**4
336.     assert x**5 != (-x)**5
337.     assert x**6 == (-x)**6
338. 
339.     assert x**128 == (-x)**128
340.     assert x**129 != (-x)**129
341. 
342.     assert (2*x)**2 == (-2*x)**2
343. 
344. 
345. def test_Mul_doesnt_expand_exp():
346.     x = Symbol('x')
347.     y = Symbol('y')
348.     assert exp(x)*exp(y) == exp(x)*exp(y)
349.     assert 2**x*2**y == 2**x*2**y
350.     assert x**2*x**3 == x**5
351.     assert 2**x*3**x == 6**x
352.     assert x**(y)*x**(2*y) == x**(3*y)
353.     assert sqrt(2)*sqrt(2) == 2
354.     assert 2**x*2**(2*x) == 2**(3*x)
355.     assert sqrt(2)*2**Rational(1, 4)*5**Rational(3, 4) == 10**Rational(3, 4)
356.     assert (x**(-log(5)/log(3))*x)/(x*x**( - log(5)/log(3))) == sympify(1)
357. 
358. 
359. def test_Add_Mul_is_integer():
360.     x = Symbol('x')
361. 
362.     k = Symbol('k', integer=True)
363.     n = Symbol('n', integer=True)
364. 
365.     assert (2*k).is_integer is True
366.     assert (-k).is_integer is True
367.     assert (k/3).is_integer is None
368.     assert (x*k*n).is_integer is None
369. 
370.     assert (k + n).is_integer is True
371.     assert (k + x).is_integer is None
372.     assert (k + n*x).is_integer is None
373.     assert (k + n/3).is_integer is None
374. 
375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False
377. 
378. 
379. def test_Add_Mul_is_finite():
380.     x = Symbol('x', real=True, finite=False)
381. 
382.     assert sin(x).is_finite is True
383.     assert (x*sin(x)).is_finite is False
384.     assert (1024*sin(x)).is_finite is True
385.     assert (sin(x)*exp(x)).is_finite is not True
386.     assert (sin(x)*cos(x)).is_finite is True
387.     assert (x*sin(x)*exp(x)).is_finite is not True
388. 
389.     assert (sin(x) - 67).is_finite is True
390.     assert (sin(x) + exp(x)).is_finite is not True
391.     assert (1 + x).is_finite is False
392.     assert (1 + x**2 + (1 + x)*(1 - x)).is_finite is None
393.     assert (sqrt(2)*(1 + x)).is_finite is False
394.     assert (sqrt(2)*(1 + x)*(1 - x)).is_finite is False
395. 
396. 
397. def test_Mul_is_even_odd():
398.     x = Symbol('x', integer=True)
399.     y = Symbol('y', integer=True)
400. 
401.     k = Symbol('k', odd=True)
402.     n = Symbol('n', odd=True)
403.     m = Symbol('m', even=True)
404. 
405.     assert (2*x).is_even is True
406.     assert (2*x).is_odd is False
407. 
408.     assert (3*x).is_even is None
409.     assert (3*x).is_odd is None
410. 
411.     assert (k/3).is_integer is None
412.     assert (k/3).is_even is None
413.     assert (k/3).is_odd is None
414. 
415.     assert (2*n).is_even is True
416.     assert (2*n).is_odd is False
417. 
418.     assert (2*m).is_even is True
419.     assert (2*m).is_odd is False
420. 
421.     assert (-n).is_even is False
422.     assert (-n).is_odd is True
423. 
424.     assert (k*n).is_even is False
425.     assert (k*n).is_odd is True
426. 
427.     assert (k*m).is_even is True
428.     assert (k*m).is_odd is False
429. 
430.     assert (k*n*m).is_even is True
431.     assert (k*n*m).is_odd is False
432. 
433.     assert (k*m*x).is_even is True
434.     assert (k*m*x).is_odd is False
435. 
436.     # issue 6791:
437.     assert (x/2).is_integer is None
438.     assert (k/2).is_integer is False
439.     assert (m/2).is_integer is True
440. 
441.     assert (x*y).is_even is None
442.     assert (x*x).is_even is None
443.     assert (x*(x + k)).is_even is True
444.     assert (x*(x + m)).is_even is None
445. 
446.     assert (x*y).is_odd is None
447.     assert (x*x).is_odd is None
448.     assert (x*(x + k)).is_odd is False
449.     assert (x*(x + m)).is_odd is None
450. 
451. 
452. @XFAIL
453. def test_evenness_in_ternary_integer_product_with_odd():
454.     # Tests that oddness inference is independent of term ordering.
455.     # Term ordering at the point of testing depends on SymPy's symbol order, so
456.     # we try to force a different order by modifying symbol names.
457.     x = Symbol('x', integer=True)
458.     y = Symbol('y', integer=True)
459.     k = Symbol('k', odd=True)
460.     assert (x*y*(y + k)).is_even is True
461.     assert (y*x*(x + k)).is_even is True
462. 
463. 
464. def test_evenness_in_ternary_integer_product_with_even():
465.     x = Symbol('x', integer=True)
466.     y = Symbol('y', integer=True)
467.     m = Symbol('m', even=True)
468.     assert (x*y*(y + m)).is_even is None
469. 
470. 
471. @XFAIL
472. def test_oddness_in_ternary_integer_product_with_odd():
473.     # Tests that oddness inference is independent of term ordering.
474.     # Term ordering at the point of testing depends on SymPy's symbol order, so
475.     # we try to force a different order by modifying symbol names.
476.     x = Symbol('x', integer=True)
477.     y = Symbol('y', integer=True)
478.     k = Symbol('k', odd=True)
479.     assert (x*y*(y + k)).is_odd is False
480.     assert (y*x*(x + k)).is_odd is False
481. 
482. 
483. def test_oddness_in_ternary_integer_product_with_even():
484.     x = Symbol('x', integer=True)
485.     y = Symbol('y', integer=True)
486.     m = Symbol('m', even=True)
487.     assert (x*y*(y + m)).is_odd is None
488. 
489. 
490. def test_Mul_is_rational():
491.     x = Symbol('x')
492.     n = Symbol('n', integer=True)
493.     m = Symbol('m', integer=True, nonzero=True)
494. 
495.     assert (n/m).is_rational is True
496.     assert (x/pi).is_rational is None
497.     assert (x/n).is_rational is None
498.     assert (m/pi).is_rational is False
499. 
500.     r = Symbol('r', rational=True)

File: sympy/core/tests/test_arit.py
Line number range: 1985 - 1987
Content:
def test_Add_is_zero():
    x, y = symbols('x y', zero=True)
    assert (x + y).is_zero

File: sympy/core/tests/test_arit.py
Line number range: 490 - 508
Content:
def test_Mul_is_rational():
    x = Symbol('x')
    n = Symbol('n', integer=True)
    m = Symbol('m', integer=True, nonzero=True)

    assert (n/m).is_rational is True
    assert (x/pi).is_rational is None
    assert (x/n).is_rational is None
    assert (m/pi).is_rational is False

    r = Symbol('r', rational=True)
    assert (pi*r).is_rational is None

    # issue 8008
    z = Symbol('z', zero=True)
    i = Symbol('i', imaginary=True)
    assert (z*i).is_rational is None
    bi = Symbol('i', imaginary=True, finite=True)
    assert (z*bi).is_zero is True

File: sympy/core/tests/test_arit.py
Line number range: 657 - 676
Content:
def test_Mul_is_negative_positive_2():
    a = Symbol('a', nonnegative=True)
    b = Symbol('b', nonnegative=True)
    c = Symbol('c', nonpositive=True)
    d = Symbol('d', nonpositive=True)

    assert (a*b).is_nonnegative is True
    assert (a*b).is_negative is False
    assert (a*b).is_zero is None
    assert (a*b).is_positive is None

    assert (c*d).is_nonnegative is True
    assert (c*d).is_negative is False
    assert (c*d).is_zero is None
    assert (c*d).is_positive is None

    assert (a*c).is_nonpositive is True
    assert (a*c).is_positive is False
    assert (a*c).is_zero is None
    assert (a*c).is_negative is None

File: sympy/core/tests/test_arit.py
Line number range: 1148 - 1168
Content:
def test_Pow_is_zero():
    z = Symbol('z', zero=True)
    e = z**2
    assert e.is_zero
    assert e.is_positive is False
    assert e.is_negative is False

    assert Pow(0, 0, evaluate=False).is_zero is False
    assert Pow(0, 3, evaluate=False).is_zero
    assert Pow(0, oo, evaluate=False).is_zero
    assert Pow(0, -3, evaluate=False).is_zero is False
    assert Pow(0, -oo, evaluate=False).is_zero is False
    assert Pow(2, 2, evaluate=False).is_zero is False

    a = Symbol('a', zero=False)
    assert Pow(a, 3).is_zero is False  # issue 7965

    assert Pow(2, oo, evaluate=False).is_zero is False
    assert Pow(2, -oo, evaluate=False).is_zero
    assert Pow(S.Half, oo, evaluate=False).is_zero
    assert Pow(S.Half, -oo, evaluate=False).is_zero is False

File: sympy/core/tests/test_arit.py
Line number range: 1863 - 1933
Content:
def test_mul_zero_detection():
    nz = Dummy(real=True, zero=False, finite=True)
    r = Dummy(real=True)
    c = Dummy(real=False, complex=True, finite=True)
    c2 = Dummy(real=False, complex=True, finite=True)
    i = Dummy(imaginary=True, finite=True)
    e = nz*r*c
    assert e.is_imaginary is None
    assert e.is_real is None
    e = nz*c
    assert e.is_imaginary is None
    assert e.is_real is False
    e = nz*i*c
    assert e.is_imaginary is False
    assert e.is_real is None
    # check for more than one complex; it is important to use
    # uniquely named Symbols to ensure that two factors appear
    # e.g. if the symbols have the same name they just become
    # a single factor, a power.
    e = nz*i*c*c2
    assert e.is_imaginary is None
    assert e.is_real is None

    # _eval_is_real and _eval_is_zero both employ trapping of the
    # zero value so args should be tested in both directions and
    # TO AVOID GETTING THE CACHED RESULT, Dummy MUST BE USED

    # real is unknonwn
    def test(z, b, e):
        if z.is_zero and b.is_finite:
            assert e.is_real and e.is_zero
        else:
            assert e.is_real is None
            if b.is_finite:
                if z.is_zero:
                    assert e.is_zero
                else:
                    assert e.is_zero is None
            elif b.is_finite is False:
                if z.is_zero is None:
                    assert e.is_zero is None
                else:
                    assert e.is_zero is False


    for iz, ib in cartes(*[[True, False, None]]*2):
        z = Dummy('z', nonzero=iz)
        b = Dummy('f', finite=ib)
        e = Mul(z, b, evaluate=False)
        test(z, b, e)
        z = Dummy('nz', nonzero=iz)
        b = Dummy('f', finite=ib)
        e = Mul(b, z, evaluate=False)
        test(z, b, e)

    # real is True
    def test(z, b, e):
        if z.is_zero and not b.is_finite:
            assert e.is_real is None
        else:
            assert e.is_real

    for iz, ib in cartes(*[[True, False, None]]*2):
        z = Dummy('z', nonzero=iz, real=True)
        b = Dummy('b', finite=ib, real=True)
        e = Mul(z, b, evaluate=False)
        test(z, b, e)
        z = Dummy('z', nonzero=iz, real=True)
        b = Dummy('b', finite=ib, real=True)
        e = Mul(b, z, evaluate=False)
        test(z, b, e)

File: sympy/core/tests/test_assumptions.py
Line number range: 1 - 500
Content:
1. from sympy import I, sqrt, log, exp, sin, asin, factorial, Mod, pi
2. from sympy.core import Symbol, S, Rational, Integer, Dummy, Wild, Pow
3. from sympy.core.facts import InconsistentAssumptions
4. from sympy import simplify
5. from sympy.core.compatibility import range
6. 
7. from sympy.utilities.pytest import raises, XFAIL
8. 
9. 
10. def test_symbol_unset():
11.     x = Symbol('x', real=True, integer=True)
12.     assert x.is_real is True
13.     assert x.is_integer is True
14.     assert x.is_imaginary is False
15.     assert x.is_noninteger is False
16.     assert x.is_number is False
17. 
18. 
19. def test_zero():
20.     z = Integer(0)
21.     assert z.is_commutative is True
22.     assert z.is_integer is True
23.     assert z.is_rational is True
24.     assert z.is_algebraic is True
25.     assert z.is_transcendental is False
26.     assert z.is_real is True
27.     assert z.is_complex is True
28.     assert z.is_noninteger is False
29.     assert z.is_irrational is False
30.     assert z.is_imaginary is False
31.     assert z.is_positive is False
32.     assert z.is_negative is False
33.     assert z.is_nonpositive is True
34.     assert z.is_nonnegative is True
35.     assert z.is_even is True
36.     assert z.is_odd is False
37.     assert z.is_finite is True
38.     assert z.is_infinite is False
39.     assert z.is_comparable is True
40.     assert z.is_prime is False
41.     assert z.is_composite is False
42.     assert z.is_number is True
43. 
44. 
45. def test_one():
46.     z = Integer(1)
47.     assert z.is_commutative is True
48.     assert z.is_integer is True
49.     assert z.is_rational is True
50.     assert z.is_algebraic is True
51.     assert z.is_transcendental is False
52.     assert z.is_real is True
53.     assert z.is_complex is True
54.     assert z.is_noninteger is False
55.     assert z.is_irrational is False
56.     assert z.is_imaginary is False
57.     assert z.is_positive is True
58.     assert z.is_negative is False
59.     assert z.is_nonpositive is False
60.     assert z.is_nonnegative is True
61.     assert z.is_even is False
62.     assert z.is_odd is True
63.     assert z.is_finite is True
64.     assert z.is_infinite is False
65.     assert z.is_comparable is True
66.     assert z.is_prime is False
67.     assert z.is_number is True
68.     assert z.is_composite is False  # issue 8807
69. 
70. 
71. def test_negativeone():
72.     z = Integer(-1)
73.     assert z.is_commutative is True
74.     assert z.is_integer is True
75.     assert z.is_rational is True
76.     assert z.is_algebraic is True
77.     assert z.is_transcendental is False
78.     assert z.is_real is True
79.     assert z.is_complex is True
80.     assert z.is_noninteger is False
81.     assert z.is_irrational is False
82.     assert z.is_imaginary is False
83.     assert z.is_positive is False
84.     assert z.is_negative is True
85.     assert z.is_nonpositive is True
86.     assert z.is_nonnegative is False
87.     assert z.is_even is False
88.     assert z.is_odd is True
89.     assert z.is_finite is True
90.     assert z.is_infinite is False
91.     assert z.is_comparable is True
92.     assert z.is_prime is False
93.     assert z.is_composite is False
94.     assert z.is_number is True
95. 
96. 
97. def test_infinity():
98.     oo = S.Infinity
99. 
100.     assert oo.is_commutative is True
101.     assert oo.is_integer is None
102.     assert oo.is_rational is None
103.     assert oo.is_algebraic is None
104.     assert oo.is_transcendental is None
105.     assert oo.is_real is True
106.     assert oo.is_complex is True
107.     assert oo.is_noninteger is None
108.     assert oo.is_irrational is None
109.     assert oo.is_imaginary is False
110.     assert oo.is_positive is True
111.     assert oo.is_negative is False
112.     assert oo.is_nonpositive is False
113.     assert oo.is_nonnegative is True
114.     assert oo.is_even is None
115.     assert oo.is_odd is None
116.     assert oo.is_finite is False
117.     assert oo.is_infinite is True
118.     assert oo.is_comparable is True
119.     assert oo.is_prime is False
120.     assert oo.is_composite is None
121.     assert oo.is_number is True
122. 
123. 
124. def test_neg_infinity():
125.     mm = S.NegativeInfinity
126. 
127.     assert mm.is_commutative is True
128.     assert mm.is_integer is None
129.     assert mm.is_rational is None
130.     assert mm.is_algebraic is None
131.     assert mm.is_transcendental is None
132.     assert mm.is_real is True
133.     assert mm.is_complex is True
134.     assert mm.is_noninteger is None
135.     assert mm.is_irrational is None
136.     assert mm.is_imaginary is False
137.     assert mm.is_positive is False
138.     assert mm.is_negative is True
139.     assert mm.is_nonpositive is True
140.     assert mm.is_nonnegative is False
141.     assert mm.is_even is None
142.     assert mm.is_odd is None
143.     assert mm.is_finite is False
144.     assert mm.is_infinite is True
145.     assert mm.is_comparable is True
146.     assert mm.is_prime is False
147.     assert mm.is_composite is False
148.     assert mm.is_number is True
149. 
150. 
151. def test_zoo():
152.     zoo = S.ComplexInfinity
153.     assert zoo.is_complex
154.     assert zoo.is_real is False
155.     assert zoo.is_prime is False
156. 
157. 
158. def test_nan():
159.     nan = S.NaN
160. 
161.     assert nan.is_commutative is True
162.     assert nan.is_integer is None
163.     assert nan.is_rational is None
164.     assert nan.is_algebraic is None
165.     assert nan.is_transcendental is None
166.     assert nan.is_real is None
167.     assert nan.is_complex is None
168.     assert nan.is_noninteger is None
169.     assert nan.is_irrational is None
170.     assert nan.is_imaginary is None
171.     assert nan.is_positive is None
172.     assert nan.is_negative is None
173.     assert nan.is_nonpositive is None
174.     assert nan.is_nonnegative is None
175.     assert nan.is_even is None
176.     assert nan.is_odd is None
177.     assert nan.is_finite is None
178.     assert nan.is_infinite is None
179.     assert nan.is_comparable is False
180.     assert nan.is_prime is None
181.     assert nan.is_composite is None
182.     assert nan.is_number is True
183. 
184. 
185. def test_pos_rational():
186.     r = Rational(3, 4)
187.     assert r.is_commutative is True
188.     assert r.is_integer is False
189.     assert r.is_rational is True
190.     assert r.is_algebraic is True
191.     assert r.is_transcendental is False
192.     assert r.is_real is True
193.     assert r.is_complex is True
194.     assert r.is_noninteger is True
195.     assert r.is_irrational is False
196.     assert r.is_imaginary is False
197.     assert r.is_positive is True
198.     assert r.is_negative is False
199.     assert r.is_nonpositive is False
200.     assert r.is_nonnegative is True
201.     assert r.is_even is False
202.     assert r.is_odd is False
203.     assert r.is_finite is True
204.     assert r.is_infinite is False
205.     assert r.is_comparable is True
206.     assert r.is_prime is False
207.     assert r.is_composite is False
208. 
209.     r = Rational(1, 4)
210.     assert r.is_nonpositive is False
211.     assert r.is_positive is True
212.     assert r.is_negative is False
213.     assert r.is_nonnegative is True
214.     r = Rational(5, 4)
215.     assert r.is_negative is False
216.     assert r.is_positive is True
217.     assert r.is_nonpositive is False
218.     assert r.is_nonnegative is True
219.     r = Rational(5, 3)
220.     assert r.is_nonnegative is True
221.     assert r.is_positive is True
222.     assert r.is_negative is False
223.     assert r.is_nonpositive is False
224. 
225. 
226. def test_neg_rational():
227.     r = Rational(-3, 4)
228.     assert r.is_positive is False
229.     assert r.is_nonpositive is True
230.     assert r.is_negative is True
231.     assert r.is_nonnegative is False
232.     r = Rational(-1, 4)
233.     assert r.is_nonpositive is True
234.     assert r.is_positive is False
235.     assert r.is_negative is True
236.     assert r.is_nonnegative is False
237.     r = Rational(-5, 4)
238.     assert r.is_negative is True
239.     assert r.is_positive is False
240.     assert r.is_nonpositive is True
241.     assert r.is_nonnegative is False
242.     r = Rational(-5, 3)
243.     assert r.is_nonnegative is False
244.     assert r.is_positive is False
245.     assert r.is_negative is True
246.     assert r.is_nonpositive is True
247. 
248. 
249. def test_pi():
250.     z = S.Pi
251.     assert z.is_commutative is True
252.     assert z.is_integer is False
253.     assert z.is_rational is False
254.     assert z.is_algebraic is False
255.     assert z.is_transcendental is True
256.     assert z.is_real is True
257.     assert z.is_complex is True
258.     assert z.is_noninteger is True
259.     assert z.is_irrational is True
260.     assert z.is_imaginary is False
261.     assert z.is_positive is True
262.     assert z.is_negative is False
263.     assert z.is_nonpositive is False
264.     assert z.is_nonnegative is True
265.     assert z.is_even is False
266.     assert z.is_odd is False
267.     assert z.is_finite is True
268.     assert z.is_infinite is False
269.     assert z.is_comparable is True
270.     assert z.is_prime is False
271.     assert z.is_composite is False
272. 
273. 
274. def test_E():
275.     z = S.Exp1
276.     assert z.is_commutative is True
277.     assert z.is_integer is False
278.     assert z.is_rational is False
279.     assert z.is_algebraic is False
280.     assert z.is_transcendental is True
281.     assert z.is_real is True
282.     assert z.is_complex is True
283.     assert z.is_noninteger is True
284.     assert z.is_irrational is True
285.     assert z.is_imaginary is False
286.     assert z.is_positive is True
287.     assert z.is_negative is False
288.     assert z.is_nonpositive is False
289.     assert z.is_nonnegative is True
290.     assert z.is_even is False
291.     assert z.is_odd is False
292.     assert z.is_finite is True
293.     assert z.is_infinite is False
294.     assert z.is_comparable is True
295.     assert z.is_prime is False
296.     assert z.is_composite is False
297. 
298. 
299. def test_I():
300.     z = S.ImaginaryUnit
301.     assert z.is_commutative is True
302.     assert z.is_integer is False
303.     assert z.is_rational is False
304.     assert z.is_algebraic is True
305.     assert z.is_transcendental is False
306.     assert z.is_real is False
307.     assert z.is_complex is True
308.     assert z.is_noninteger is False
309.     assert z.is_irrational is False
310.     assert z.is_imaginary is True
311.     assert z.is_positive is False
312.     assert z.is_negative is False
313.     assert z.is_nonpositive is False
314.     assert z.is_nonnegative is False
315.     assert z.is_even is False
316.     assert z.is_odd is False
317.     assert z.is_finite is True
318.     assert z.is_infinite is False
319.     assert z.is_comparable is False
320.     assert z.is_prime is False
321.     assert z.is_composite is False
322. 
323. 
324. def test_symbol_real():
325.     # issue 3848
326.     a = Symbol('a', real=False)
327. 
328.     assert a.is_real is False
329.     assert a.is_integer is False
330.     assert a.is_negative is False
331.     assert a.is_positive is False
332.     assert a.is_nonnegative is False
333.     assert a.is_nonpositive is False
334.     assert a.is_zero is False
335. 
336. 
337. def test_symbol_imaginary():
338.     a = Symbol('a', imaginary=True)
339. 
340.     assert a.is_real is False
341.     assert a.is_integer is False
342.     assert a.is_negative is False
343.     assert a.is_positive is False
344.     assert a.is_nonnegative is False
345.     assert a.is_nonpositive is False
346.     assert a.is_zero is False
347.     assert a.is_nonzero is False  # since nonzero -> real
348. 
349. 
350. def test_symbol_zero():
351.     x = Symbol('x', zero=True)
352.     assert x.is_positive is False
353.     assert x.is_nonpositive
354.     assert x.is_negative is False
355.     assert x.is_nonnegative
356.     assert x.is_zero is True
357.     # TODO Change to x.is_nonzero is None
358.     # See https://github.com/sympy/sympy/pull/9583
359.     assert x.is_nonzero is False
360.     assert x.is_finite is True
361. 
362. 
363. def test_symbol_positive():
364.     x = Symbol('x', positive=True)
365.     assert x.is_positive is True
366.     assert x.is_nonpositive is False
367.     assert x.is_negative is False
368.     assert x.is_nonnegative is True
369.     assert x.is_zero is False
370.     assert x.is_nonzero is True
371. 
372. 
373. def test_neg_symbol_positive():
374.     x = -Symbol('x', positive=True)
375.     assert x.is_positive is False
376.     assert x.is_nonpositive is True
377.     assert x.is_negative is True
378.     assert x.is_nonnegative is False
379.     assert x.is_zero is False
380.     assert x.is_nonzero is True
381. 
382. 
383. def test_symbol_nonpositive():
384.     x = Symbol('x', nonpositive=True)
385.     assert x.is_positive is False
386.     assert x.is_nonpositive is True
387.     assert x.is_negative is None
388.     assert x.is_nonnegative is None
389.     assert x.is_zero is None
390.     assert x.is_nonzero is None
391. 
392. 
393. def test_neg_symbol_nonpositive():
394.     x = -Symbol('x', nonpositive=True)
395.     assert x.is_positive is None
396.     assert x.is_nonpositive is None
397.     assert x.is_negative is False
398.     assert x.is_nonnegative is True
399.     assert x.is_zero is None
400.     assert x.is_nonzero is None
401. 
402. 
403. def test_symbol_falsepositive():
404.     x = Symbol('x', positive=False)
405.     assert x.is_positive is False
406.     assert x.is_nonpositive is None
407.     assert x.is_negative is None
408.     assert x.is_nonnegative is None
409.     assert x.is_zero is None
410.     assert x.is_nonzero is None
411. 
412. 
413. def test_symbol_falsepositive_mul():
414.     # To test pull request 9379
415.     # Explicit handling of arg.is_positive=False was added to Mul._eval_is_positive
416.     x = 2*Symbol('x', positive=False)
417.     assert x.is_positive is False  # This was None before
418.     assert x.is_nonpositive is None
419.     assert x.is_negative is None
420.     assert x.is_nonnegative is None
421.     assert x.is_zero is None
422.     assert x.is_nonzero is None
423. 
424. 
425. def test_neg_symbol_falsepositive():
426.     x = -Symbol('x', positive=False)
427.     assert x.is_positive is None
428.     assert x.is_nonpositive is None
429.     assert x.is_negative is False
430.     assert x.is_nonnegative is None
431.     assert x.is_zero is None
432.     assert x.is_nonzero is None
433. 
434. 
435. def test_neg_symbol_falsenegative():
436.     # To test pull request 9379
437.     # Explicit handling of arg.is_negative=False was added to Mul._eval_is_positive
438.     x = -Symbol('x', negative=False)
439.     assert x.is_positive is False  # This was None before
440.     assert x.is_nonpositive is None
441.     assert x.is_negative is None
442.     assert x.is_nonnegative is None
443.     assert x.is_zero is None
444.     assert x.is_nonzero is None
445. 
446. 
447. def test_symbol_falsepositive_real():
448.     x = Symbol('x', positive=False, real=True)
449.     assert x.is_positive is False
450.     assert x.is_nonpositive is True
451.     assert x.is_negative is None
452.     assert x.is_nonnegative is None
453.     assert x.is_zero is None
454.     assert x.is_nonzero is None
455. 
456. 
457. def test_neg_symbol_falsepositive_real():
458.     x = -Symbol('x', positive=False, real=True)
459.     assert x.is_positive is None
460.     assert x.is_nonpositive is None
461.     assert x.is_negative is False
462.     assert x.is_nonnegative is True
463.     assert x.is_zero is None
464.     assert x.is_nonzero is None
465. 
466. 
467. def test_symbol_falsenonnegative():
468.     x = Symbol('x', nonnegative=False)
469.     assert x.is_positive is False
470.     assert x.is_nonpositive is None
471.     assert x.is_negative is None
472.     assert x.is_nonnegative is False
473.     assert x.is_zero is False
474.     assert x.is_nonzero is None
475. 
476. 
477. @XFAIL
478. def test_neg_symbol_falsenonnegative():
479.     x = -Symbol('x', nonnegative=False)
480.     assert x.is_positive is None
481.     assert x.is_nonpositive is False  # this currently returns None
482.     assert x.is_negative is False  # this currently returns None
483.     assert x.is_nonnegative is None
484.     assert x.is_zero is False  # this currently returns None
485.     assert x.is_nonzero is True  # this currently returns None
486. 
487. 
488. def test_symbol_falsenonnegative_real():
489.     x = Symbol('x', nonnegative=False, real=True)
490.     assert x.is_positive is False
491.     assert x.is_nonpositive is True
492.     assert x.is_negative is True
493.     assert x.is_nonnegative is False
494.     assert x.is_zero is False
495.     assert x.is_nonzero is True
496. 
497. 
498. def test_neg_symbol_falsenonnegative_real():
499.     x = -Symbol('x', nonnegative=False, real=True)
500.     assert x.is_positive is True

File: sympy/core/tests/test_assumptions.py
Line number range: 1007 - 1009
Content:
def test_issue_10024():
    x = Dummy('x')
    assert Mod(x, 2*pi).is_zero is None

File: sympy/core/tests/test_assumptions.py
Line number range: 952 - 956
Content:
@XFAIL
def test_issue_7993():
    x = Dummy(integer=True)
    y = Dummy(noninteger=True)
    assert (x - y).is_zero is False

File: sympy/core/tests/test_assumptions.py
Line number range: 945 - 949
Content:
def test_issue_7899():
    x = Symbol('x', real=True)
    assert (I*x).is_real is None
    assert ((x - I)*(x - 1)).is_zero is None
    assert ((x - I)*(x - 1)).is_real is None

File: sympy/core/tests/test_numbers.py
Line number range: 1 - 500
Content:
1. import decimal
2. from sympy import (Rational, Symbol, Float, I, sqrt, cbrt, oo, nan, pi, E,
3.                    Integer, S, factorial, Catalan, EulerGamma, GoldenRatio,
4.                    TribonacciConstant, cos, exp,
5.                    Number, zoo, log, Mul, Pow, Tuple, latex, Gt, Lt, Ge, Le,
6.                    AlgebraicNumber, simplify, sin, fibonacci, RealField,
7.                    sympify, srepr)
8. from sympy.core.compatibility import long
9. from sympy.core.power import integer_nthroot, isqrt, integer_log
10. from sympy.core.logic import fuzzy_not
11. from sympy.core.numbers import (igcd, ilcm, igcdex, seterr, _intcache,
12.     igcd2, igcd_lehmer, mpf_norm, comp, mod_inverse)
13. from sympy.core.mod import Mod
14. from sympy.polys.domains.groundtypes import PythonRational
15. from sympy.utilities.decorator import conserve_mpmath_dps
16. from sympy.utilities.iterables import permutations
17. from sympy.utilities.pytest import XFAIL, raises
18. 
19. from mpmath import mpf
20. from mpmath.rational import mpq
21. import mpmath
22. 
23. 
24. 
25. t = Symbol('t', real=False)
26. 
27. def same_and_same_prec(a, b):
28.     # stricter matching for Floats
29.     return a == b and a._prec == b._prec
30. 
31. 
32. def test_integers_cache():
33.     python_int = 2**65 + 3175259
34. 
35.     while python_int in _intcache or hash(python_int) in _intcache:
36.         python_int += 1
37. 
38.     sympy_int = Integer(python_int)
39. 
40.     assert python_int in _intcache
41.     assert hash(python_int) not in _intcache
42. 
43.     sympy_int_int = Integer(sympy_int)
44. 
45.     assert python_int in _intcache
46.     assert hash(python_int) not in _intcache
47. 
48.     sympy_hash_int = Integer(hash(python_int))
49. 
50.     assert python_int in _intcache
51.     assert hash(python_int) in _intcache
52. 
53. 
54. def test_seterr():
55.     seterr(divide=True)
56.     raises(ValueError, lambda: S.Zero/S.Zero)
57.     seterr(divide=False)
58.     assert S.Zero / S.Zero == S.NaN
59. 
60. 
61. def test_mod():
62.     x = Rational(1, 2)
63.     y = Rational(3, 4)
64.     z = Rational(5, 18043)
65. 
66.     assert x % x == 0
67.     assert x % y == 1/S(2)
68.     assert x % z == 3/S(36086)
69.     assert y % x == 1/S(4)
70.     assert y % y == 0
71.     assert y % z == 9/S(72172)
72.     assert z % x == 5/S(18043)
73.     assert z % y == 5/S(18043)
74.     assert z % z == 0
75. 
76.     a = Float(2.6)
77. 
78.     assert (a % .2) == 0
79.     assert (a % 2).round(15) == 0.6
80.     assert (a % 0.5).round(15) == 0.1
81. 
82.     p = Symbol('p', infinite=True)
83. 
84.     assert oo % oo == nan
85.     assert zoo % oo == nan
86.     assert 5 % oo == nan
87.     assert p % 5 == nan
88. 
89.     # In these two tests, if the precision of m does
90.     # not match the precision of the ans, then it is
91.     # likely that the change made now gives an answer
92.     # with degraded accuracy.
93.     r = Rational(500, 41)
94.     f = Float('.36', 3)
95.     m = r % f
96.     ans = Float(r % Rational(f), 3)
97.     assert m == ans and m._prec == ans._prec
98.     f = Float('8.36', 3)
99.     m = f % r
100.     ans = Float(Rational(f) % r, 3)
101.     assert m == ans and m._prec == ans._prec
102. 
103.     s = S.Zero
104. 
105.     assert s % float(1) == S.Zero
106. 
107.     # No rounding required since these numbers can be represented
108.     # exactly.
109.     assert Rational(3, 4) % Float(1.1) == 0.75
110.     assert Float(1.5) % Rational(5, 4) == 0.25
111.     assert Rational(5, 4).__rmod__(Float('1.5')) == 0.25
112.     assert Float('1.5').__rmod__(Float('2.75')) == Float('1.25')
113.     assert 2.75 % Float('1.5') == Float('1.25')
114. 
115.     a = Integer(7)
116.     b = Integer(4)
117. 
118.     assert type(a % b) == Integer
119.     assert a % b == Integer(3)
120.     assert Integer(1) % Rational(2, 3) == Rational(1, 3)
121.     assert Rational(7, 5) % Integer(1) == Rational(2, 5)
122.     assert Integer(2) % 1.5 == 0.5
123. 
124.     assert Integer(3).__rmod__(Integer(10)) == Integer(1)
125.     assert Integer(10) % 4 == Integer(2)
126.     assert 15 % Integer(4) == Integer(3)
127. 
128. 
129. def test_divmod():
130.     assert divmod(S(12), S(8)) == Tuple(1, 4)
131.     assert divmod(-S(12), S(8)) == Tuple(-2, 4)
132.     assert divmod(S(0), S(1)) == Tuple(0, 0)
133.     raises(ZeroDivisionError, lambda: divmod(S(0), S(0)))
134.     raises(ZeroDivisionError, lambda: divmod(S(1), S(0)))
135.     assert divmod(S(12), 8) == Tuple(1, 4)
136.     assert divmod(12, S(8)) == Tuple(1, 4)
137. 
138.     assert divmod(S("2"), S("3/2")) == Tuple(S("1"), S("1/2"))
139.     assert divmod(S("3/2"), S("2")) == Tuple(S("0"), S("3/2"))
140.     assert divmod(S("2"), S("3.5")) == Tuple(S("0"), S("2"))
141.     assert divmod(S("3.5"), S("2")) == Tuple(S("1"), S("1.5"))
142.     assert divmod(S("2"), S("1/3")) == Tuple(S("6"), S("0"))
143.     assert divmod(S("1/3"), S("2")) == Tuple(S("0"), S("1/3"))
144.     assert divmod(S("2"), S("0.1")) == Tuple(S("20"), S("0"))
145.     assert divmod(S("0.1"), S("2")) == Tuple(S("0"), S("0.1"))
146.     assert divmod(S("2"), 2) == Tuple(S("1"), S("0"))
147.     assert divmod(2, S("2")) == Tuple(S("1"), S("0"))
148.     assert divmod(S("2"), 1.5) == Tuple(S("1"), S("0.5"))
149.     assert divmod(1.5, S("2")) == Tuple(S("0"), S("1.5"))
150.     assert divmod(0.3, S("2")) == Tuple(S("0"), S("0.3"))
151.     assert divmod(S("3/2"), S("3.5")) == Tuple(S("0"), S("3/2"))
152.     assert divmod(S("3.5"), S("3/2")) == Tuple(S("2"), S("0.5"))
153.     assert divmod(S("3/2"), S("1/3")) == Tuple(S("4"), Float("1/6"))
154.     assert divmod(S("1/3"), S("3/2")) == Tuple(S("0"), S("1/3"))
155.     assert divmod(S("3/2"), S("0.1")) == Tuple(S("15"), S("0"))
156.     assert divmod(S("0.1"), S("3/2")) == Tuple(S("0"), S("0.1"))
157.     assert divmod(S("3/2"), 2) == Tuple(S("0"), S("3/2"))
158.     assert divmod(2, S("3/2")) == Tuple(S("1"), S("0.5"))
159.     assert divmod(S("3/2"), 1.5) == Tuple(S("1"), S("0"))
160.     assert divmod(1.5, S("3/2")) == Tuple(S("1"), S("0"))
161.     assert divmod(S("3/2"), 0.3) == Tuple(S("5"), S("0"))
162.     assert divmod(0.3, S("3/2")) == Tuple(S("0"), S("0.3"))
163.     assert divmod(S("1/3"), S("3.5")) == Tuple(S("0"), S("1/3"))
164.     assert divmod(S("3.5"), S("0.1")) == Tuple(S("35"), S("0"))
165.     assert divmod(S("0.1"), S("3.5")) == Tuple(S("0"), S("0.1"))
166.     assert divmod(S("3.5"), 2) == Tuple(S("1"), S("1.5"))
167.     assert divmod(2, S("3.5")) == Tuple(S("0"), S("2"))
168.     assert divmod(S("3.5"), 1.5) == Tuple(S("2"), S("0.5"))
169.     assert divmod(1.5, S("3.5")) == Tuple(S("0"), S("1.5"))
170.     assert divmod(0.3, S("3.5")) == Tuple(S("0"), S("0.3"))
171.     assert divmod(S("0.1"), S("1/3")) == Tuple(S("0"), S("0.1"))
172.     assert divmod(S("1/3"), 2) == Tuple(S("0"), S("1/3"))
173.     assert divmod(2, S("1/3")) == Tuple(S("6"), S("0"))
174.     assert divmod(S("1/3"), 1.5) == Tuple(S("0"), S("1/3"))
175.     assert divmod(0.3, S("1/3")) == Tuple(S("0"), S("0.3"))
176.     assert divmod(S("0.1"), 2) == Tuple(S("0"), S("0.1"))
177.     assert divmod(2, S("0.1")) == Tuple(S("20"), S("0"))
178.     assert divmod(S("0.1"), 1.5) == Tuple(S("0"), S("0.1"))
179.     assert divmod(1.5, S("0.1")) == Tuple(S("15"), S("0"))
180.     assert divmod(S("0.1"), 0.3) == Tuple(S("0"), S("0.1"))
181. 
182.     assert str(divmod(S("2"), 0.3)) == '(6, 0.2)'
183.     assert str(divmod(S("3.5"), S("1/3"))) == '(10, 0.166666666666667)'
184.     assert str(divmod(S("3.5"), 0.3)) == '(11, 0.2)'
185.     assert str(divmod(S("1/3"), S("0.1"))) == '(3, 0.0333333333333333)'
186.     assert str(divmod(1.5, S("1/3"))) == '(4, 0.166666666666667)'
187.     assert str(divmod(S("1/3"), 0.3)) == '(1, 0.0333333333333333)'
188.     assert str(divmod(0.3, S("0.1"))) == '(2, 0.1)'
189. 
190.     assert divmod(-3, S(2)) == (-2, 1)
191.     assert divmod(S(-3), S(2)) == (-2, 1)
192.     assert divmod(S(-3), 2) == (-2, 1)
193. 
194.     assert divmod(S(4), S(-3.1)) == Tuple(-2, -2.2)
195.     assert divmod(S(4), S(-2.1)) == divmod(4, -2.1)
196.     assert divmod(S(-8), S(-2.5) ) == Tuple(3 , -0.5)
197. 
198. def test_igcd():
199.     assert igcd(0, 0) == 0
200.     assert igcd(0, 1) == 1
201.     assert igcd(1, 0) == 1
202.     assert igcd(0, 7) == 7
203.     assert igcd(7, 0) == 7
204.     assert igcd(7, 1) == 1
205.     assert igcd(1, 7) == 1
206.     assert igcd(-1, 0) == 1
207.     assert igcd(0, -1) == 1
208.     assert igcd(-1, -1) == 1
209.     assert igcd(-1, 7) == 1
210.     assert igcd(7, -1) == 1
211.     assert igcd(8, 2) == 2
212.     assert igcd(4, 8) == 4
213.     assert igcd(8, 16) == 8
214.     assert igcd(7, -3) == 1
215.     assert igcd(-7, 3) == 1
216.     assert igcd(-7, -3) == 1
217.     assert igcd(*[10, 20, 30]) == 10
218.     raises(TypeError, lambda: igcd())
219.     raises(TypeError, lambda: igcd(2))
220.     raises(ValueError, lambda: igcd(0, None))
221.     raises(ValueError, lambda: igcd(1, 2.2))
222.     for args in permutations((45.1, 1, 30)):
223.         raises(ValueError, lambda: igcd(*args))
224.     for args in permutations((1, 2, None)):
225.         raises(ValueError, lambda: igcd(*args))
226. 
227. 
228. def test_igcd_lehmer():
229.     a, b = fibonacci(10001), fibonacci(10000)
230.     # len(str(a)) == 2090
231.     # small divisors, long Euclidean sequence
232.     assert igcd_lehmer(a, b) == 1
233.     c = fibonacci(100)
234.     assert igcd_lehmer(a*c, b*c) == c
235.     # big divisor
236.     assert igcd_lehmer(a, 10**1000) == 1
237.     # swapping argmument
238.     assert igcd_lehmer(1, 2) == igcd_lehmer(2, 1)
239. 
240. def test_igcd2():
241.     # short loop
242.     assert igcd2(2**100 - 1, 2**99 - 1) == 1
243.     # Lehmer's algorithm
244.     a, b = int(fibonacci(10001)), int(fibonacci(10000))
245.     assert igcd2(a, b) == 1
246. 
247. def test_ilcm():
248.     assert ilcm(0, 0) == 0
249.     assert ilcm(1, 0) == 0
250.     assert ilcm(0, 1) == 0
251.     assert ilcm(1, 1) == 1
252.     assert ilcm(2, 1) == 2
253.     assert ilcm(8, 2) == 8
254.     assert ilcm(8, 6) == 24
255.     assert ilcm(8, 7) == 56
256.     assert ilcm(*[10, 20, 30]) == 60
257.     raises(ValueError, lambda: ilcm(8.1, 7))
258.     raises(ValueError, lambda: ilcm(8, 7.1))
259.     raises(TypeError, lambda: ilcm(8))
260. 
261. 
262. def test_igcdex():
263.     assert igcdex(2, 3) == (-1, 1, 1)
264.     assert igcdex(10, 12) == (-1, 1, 2)
265.     assert igcdex(100, 2004) == (-20, 1, 4)
266.     assert igcdex(0, 0) == (0, 1, 0)
267.     assert igcdex(1, 0) == (1, 0, 1)
268. 
269. 
270. def _strictly_equal(a, b):
271.     return (a.p, a.q, type(a.p), type(a.q)) == \
272.            (b.p, b.q, type(b.p), type(b.q))
273. 
274. 
275. def _test_rational_new(cls):
276.     """
277.     Tests that are common between Integer and Rational.
278.     """
279.     assert cls(0) is S.Zero
280.     assert cls(1) is S.One
281.     assert cls(-1) is S.NegativeOne
282.     # These look odd, but are similar to int():
283.     assert cls('1') is S.One
284.     assert cls(u'-1') is S.NegativeOne
285. 
286.     i = Integer(10)
287.     assert _strictly_equal(i, cls('10'))
288.     assert _strictly_equal(i, cls(u'10'))
289.     assert _strictly_equal(i, cls(long(10)))
290.     assert _strictly_equal(i, cls(i))
291. 
292.     raises(TypeError, lambda: cls(Symbol('x')))
293. 
294. 
295. def test_Integer_new():
296.     """
297.     Test for Integer constructor
298.     """
299.     _test_rational_new(Integer)
300. 
301.     assert _strictly_equal(Integer(0.9), S.Zero)
302.     assert _strictly_equal(Integer(10.5), Integer(10))
303.     raises(ValueError, lambda: Integer("10.5"))
304.     assert Integer(Rational('1.' + '9'*20)) == 1
305. 
306. 
307. def test_Rational_new():
308.     """"
309.     Test for Rational constructor
310.     """
311.     _test_rational_new(Rational)
312. 
313.     n1 = Rational(1, 2)
314.     assert n1 == Rational(Integer(1), 2)
315.     assert n1 == Rational(Integer(1), Integer(2))
316.     assert n1 == Rational(1, Integer(2))
317.     assert n1 == Rational(Rational(1, 2))
318.     assert 1 == Rational(n1, n1)
319.     assert Rational(3, 2) == Rational(Rational(1, 2), Rational(1, 3))
320.     assert Rational(3, 1) == Rational(1, Rational(1, 3))
321.     n3_4 = Rational(3, 4)
322.     assert Rational('3/4') == n3_4
323.     assert -Rational('-3/4') == n3_4
324.     assert Rational('.76').limit_denominator(4) == n3_4
325.     assert Rational(19, 25).limit_denominator(4) == n3_4
326.     assert Rational('19/25').limit_denominator(4) == n3_4
327.     assert Rational(1.0, 3) == Rational(1, 3)
328.     assert Rational(1, 3.0) == Rational(1, 3)
329.     assert Rational(Float(0.5)) == Rational(1, 2)
330.     assert Rational('1e2/1e-2') == Rational(10000)
331.     assert Rational('1 234') == Rational(1234)
332.     assert Rational('1/1 234') == Rational(1, 1234)
333.     assert Rational(-1, 0) == S.ComplexInfinity
334.     assert Rational(1, 0) == S.ComplexInfinity
335.     # Make sure Rational doesn't lose precision on Floats
336.     assert Rational(pi.evalf(100)).evalf(100) == pi.evalf(100)
337.     raises(TypeError, lambda: Rational('3**3'))
338.     raises(TypeError, lambda: Rational('1/2 + 2/3'))
339. 
340.     # handle fractions.Fraction instances
341.     try:
342.         import fractions
343.         assert Rational(fractions.Fraction(1, 2)) == Rational(1, 2)
344.     except ImportError:
345.         pass
346. 
347.     assert Rational(mpq(2, 6)) == Rational(1, 3)
348.     assert Rational(PythonRational(2, 6)) == Rational(1, 3)
349. 
350. 
351. def test_Number_new():
352.     """"
353.     Test for Number constructor
354.     """
355.     # Expected behavior on numbers and strings
356.     assert Number(1) is S.One
357.     assert Number(2).__class__ is Integer
358.     assert Number(-622).__class__ is Integer
359.     assert Number(5, 3).__class__ is Rational
360.     assert Number(5.3).__class__ is Float
361.     assert Number('1') is S.One
362.     assert Number('2').__class__ is Integer
363.     assert Number('-622').__class__ is Integer
364.     assert Number('5/3').__class__ is Rational
365.     assert Number('5.3').__class__ is Float
366.     raises(ValueError, lambda: Number('cos'))
367.     raises(TypeError, lambda: Number(cos))
368.     a = Rational(3, 5)
369.     assert Number(a) is a  # Check idempotence on Numbers
370. 
371. 
372. def test_Number_cmp():
373.     n1 = Number(1)
374.     n2 = Number(2)
375.     n3 = Number(-3)
376. 
377.     assert n1 < n2
378.     assert n1 <= n2
379.     assert n3 < n1
380.     assert n2 > n3
381.     assert n2 >= n3
382. 
383.     raises(TypeError, lambda: n1 < S.NaN)
384.     raises(TypeError, lambda: n1 <= S.NaN)
385.     raises(TypeError, lambda: n1 > S.NaN)
386.     raises(TypeError, lambda: n1 >= S.NaN)
387. 
388. 
389. def test_Rational_cmp():
390.     n1 = Rational(1, 4)
391.     n2 = Rational(1, 3)
392.     n3 = Rational(2, 4)
393.     n4 = Rational(2, -4)
394.     n5 = Rational(0)
395.     n6 = Rational(1)
396.     n7 = Rational(3)
397.     n8 = Rational(-3)
398. 
399.     assert n8 < n5
400.     assert n5 < n6
401.     assert n6 < n7
402.     assert n8 < n7
403.     assert n7 > n8
404.     assert (n1 + 1)**n2 < 2
405.     assert ((n1 + n6)/n7) < 1
406. 
407.     assert n4 < n3
408.     assert n2 < n3
409.     assert n1 < n2
410.     assert n3 > n1
411.     assert not n3 < n1
412.     assert not (Rational(-1) > 0)
413.     assert Rational(-1) < 0
414. 
415.     raises(TypeError, lambda: n1 < S.NaN)
416.     raises(TypeError, lambda: n1 <= S.NaN)
417.     raises(TypeError, lambda: n1 > S.NaN)
418.     raises(TypeError, lambda: n1 >= S.NaN)
419. 
420. 
421. def test_Float():
422.     def eq(a, b):
423.         t = Float("1.0E-15")
424.         return (-t < a - b < t)
425. 
426.     a = Float(2) ** Float(3)
427.     assert eq(a.evalf(), Float(8))
428.     assert eq((pi ** -1).evalf(), Float("0.31830988618379067"))
429.     a = Float(2) ** Float(4)
430.     assert eq(a.evalf(), Float(16))
431.     assert (S(.3) == S(.5)) is False
432.     x_str = Float((0, '13333333333333', -52, 53))
433.     x2_str = Float((0, '26666666666666', -53, 53))
434.     x_hex = Float((0, long(0x13333333333333), -52, 53))
435.     x_dec = Float((0, 5404319552844595, -52, 53))
436.     assert x_str == x_hex == x_dec == Float(1.2)
437.     # This looses a binary digit of precision, so it isn't equal to the above,
438.     # but check that it normalizes correctly
439.     x2_hex = Float((0, long(0x13333333333333)*2, -53, 53))
440.     assert x2_hex._mpf_ == (0, 5404319552844595, -52, 52)
441.     # XXX: Should this test also hold?
442.     # assert x2_hex._prec == 52
443. 
444.     # x2_str and 1.2 are superficially the same
445.     assert str(x2_str) == str(Float(1.2))
446.     # but are different at the mpf level
447.     assert Float(1.2)._mpf_ == (0, long(5404319552844595), -52, 53)
448.     assert x2_str._mpf_ == (0, long(10808639105689190), -53, 53)
449. 
450.     assert Float((0, long(0), -123, -1)) == Float('nan')
451.     assert Float((0, long(0), -456, -2)) == Float('inf') == Float('+inf')
452.     assert Float((1, long(0), -789, -3)) == Float('-inf')
453. 
454.     raises(ValueError, lambda: Float((0, 7, 1, 3), ''))
455. 
456.     assert Float('+inf').is_finite is False
457.     assert Float('+inf').is_negative is False
458.     assert Float('+inf').is_positive is True
459.     assert Float('+inf').is_infinite is True
460.     assert Float('+inf').is_zero is False
461. 
462.     assert Float('-inf').is_finite is False
463.     assert Float('-inf').is_negative is True
464.     assert Float('-inf').is_positive is False
465.     assert Float('-inf').is_infinite is True
466.     assert Float('-inf').is_zero is False
467. 
468.     assert Float('0.0').is_finite is True
469.     assert Float('0.0').is_negative is False
470.     assert Float('0.0').is_positive is False
471.     assert Float('0.0').is_infinite is False
472.     assert Float('0.0').is_zero is True
473. 
474.     # rationality properties
475.     assert Float(1).is_rational is None
476.     assert Float(1).is_irrational is None
477.     assert sqrt(2).n(15).is_rational is None
478.     assert sqrt(2).n(15).is_irrational is None
479. 
480.     # do not automatically evalf
481.     def teq(a):
482.         assert (a.evalf() == a) is False
483.         assert (a.evalf() != a) is True
484.         assert (a == a.evalf()) is False
485.         assert (a != a.evalf()) is True
486. 
487.     teq(pi)
488.     teq(2*pi)
489.     teq(cos(0.1, evaluate=False))
490. 
491.     # long integer
492.     i = 12345678901234567890
493.     assert same_and_same_prec(Float(12, ''), Float('12', ''))
494.     assert same_and_same_prec(Float(Integer(i), ''), Float(i, ''))
495.     assert same_and_same_prec(Float(i, ''), Float(str(i), 20))
496.     assert same_and_same_prec(Float(str(i)), Float(i, ''))
497.     assert same_and_same_prec(Float(i), Float(i, ''))
498. 
499.     # inexact floats (repeating binary = denom not multiple of 2)
500.     # cannot have precision greater than 15

File: sympy/core/tests/test_numbers.py
Line number range: 1646 - 1652
Content:
def test_issue_6640():
    from mpmath.libmp.libmpf import finf, fninf
    # fnan is not included because Float no longer returns fnan,
    # but otherwise, the same sort of test could apply
    assert Float(finf).is_zero is False
    assert Float(fninf).is_zero is False
    assert bool(Float(0)) is False

File: sympy/core/tests/test_numbers.py
Line number range: 1491 - 1548
Content:
def test_zoo():
    b = Symbol('b', finite=True)
    nz = Symbol('nz', nonzero=True)
    p = Symbol('p', positive=True)
    n = Symbol('n', negative=True)
    im = Symbol('i', imaginary=True)
    c = Symbol('c', complex=True)
    pb = Symbol('pb', positive=True, finite=True)
    nb = Symbol('nb', negative=True, finite=True)
    imb = Symbol('ib', imaginary=True, finite=True)
    for i in [I, S.Infinity, S.NegativeInfinity, S.Zero, S.One, S.Pi, S.Half, S(3), log(3),
              b, nz, p, n, im, pb, nb, imb, c]:
        if i.is_finite and (i.is_real or i.is_imaginary):
            assert i + zoo is zoo
            assert i - zoo is zoo
            assert zoo + i is zoo
            assert zoo - i is zoo
        elif i.is_finite is not False:
            assert (i + zoo).is_Add
            assert (i - zoo).is_Add
            assert (zoo + i).is_Add
            assert (zoo - i).is_Add
        else:
            assert (i + zoo) is S.NaN
            assert (i - zoo) is S.NaN
            assert (zoo + i) is S.NaN
            assert (zoo - i) is S.NaN

        if fuzzy_not(i.is_zero) and (i.is_real or i.is_imaginary):
            assert i*zoo is zoo
            assert zoo*i is zoo
        elif i.is_zero:
            assert i*zoo is S.NaN
            assert zoo*i is S.NaN
        else:
            assert (i*zoo).is_Mul
            assert (zoo*i).is_Mul

        if fuzzy_not((1/i).is_zero) and (i.is_real or i.is_imaginary):
            assert zoo/i is zoo
        elif (1/i).is_zero:
            assert zoo/i is S.NaN
        elif i.is_zero:
            assert zoo/i is zoo
        else:
            assert (zoo/i).is_Mul

    assert (I*oo).is_Mul  # allow directed infinity
    assert zoo + zoo is S.NaN
    assert zoo * zoo is zoo
    assert zoo - zoo is S.NaN
    assert zoo/zoo is S.NaN
    assert zoo**zoo is S.NaN
    assert zoo**0 is S.One
    assert zoo**2 is zoo
    assert 1/zoo is S.Zero

    assert Mul.flatten([S(-1), oo, S(0)]) == ([S.NaN], [], None)

File: sympy/core/tests/test_numbers.py
Line number range: 421 - 571
Content:
def test_Float():
    def eq(a, b):
        t = Float("1.0E-15")
        return (-t < a - b < t)

    a = Float(2) ** Float(3)
    assert eq(a.evalf(), Float(8))
    assert eq((pi ** -1).evalf(), Float("0.31830988618379067"))
    a = Float(2) ** Float(4)
    assert eq(a.evalf(), Float(16))
    assert (S(.3) == S(.5)) is False
    x_str = Float((0, '13333333333333', -52, 53))
    x2_str = Float((0, '26666666666666', -53, 53))
    x_hex = Float((0, long(0x13333333333333), -52, 53))
    x_dec = Float((0, 5404319552844595, -52, 53))
    assert x_str == x_hex == x_dec == Float(1.2)
    # This looses a binary digit of precision, so it isn't equal to the above,
    # but check that it normalizes correctly
    x2_hex = Float((0, long(0x13333333333333)*2, -53, 53))
    assert x2_hex._mpf_ == (0, 5404319552844595, -52, 52)
    # XXX: Should this test also hold?
    # assert x2_hex._prec == 52

    # x2_str and 1.2 are superficially the same
    assert str(x2_str) == str(Float(1.2))
    # but are different at the mpf level
    assert Float(1.2)._mpf_ == (0, long(5404319552844595), -52, 53)
    assert x2_str._mpf_ == (0, long(10808639105689190), -53, 53)

    assert Float((0, long(0), -123, -1)) == Float('nan')
    assert Float((0, long(0), -456, -2)) == Float('inf') == Float('+inf')
    assert Float((1, long(0), -789, -3)) == Float('-inf')

    raises(ValueError, lambda: Float((0, 7, 1, 3), ''))

    assert Float('+inf').is_finite is False
    assert Float('+inf').is_negative is False
    assert Float('+inf').is_positive is True
    assert Float('+inf').is_infinite is True
    assert Float('+inf').is_zero is False

    assert Float('-inf').is_finite is False
    assert Float('-inf').is_negative is True
    assert Float('-inf').is_positive is False
    assert Float('-inf').is_infinite is True
    assert Float('-inf').is_zero is False

    assert Float('0.0').is_finite is True
    assert Float('0.0').is_negative is False
    assert Float('0.0').is_positive is False
    assert Float('0.0').is_infinite is False
    assert Float('0.0').is_zero is True

    # rationality properties
    assert Float(1).is_rational is None
    assert Float(1).is_irrational is None
    assert sqrt(2).n(15).is_rational is None
    assert sqrt(2).n(15).is_irrational is None

    # do not automatically evalf
    def teq(a):
        assert (a.evalf() == a) is False
        assert (a.evalf() != a) is True
        assert (a == a.evalf()) is False
        assert (a != a.evalf()) is True

    teq(pi)
    teq(2*pi)
    teq(cos(0.1, evaluate=False))

    # long integer
    i = 12345678901234567890
    assert same_and_same_prec(Float(12, ''), Float('12', ''))
    assert same_and_same_prec(Float(Integer(i), ''), Float(i, ''))
    assert same_and_same_prec(Float(i, ''), Float(str(i), 20))
    assert same_and_same_prec(Float(str(i)), Float(i, ''))
    assert same_and_same_prec(Float(i), Float(i, ''))

    # inexact floats (repeating binary = denom not multiple of 2)
    # cannot have precision greater than 15
    assert Float(.125, 22) == .125
    assert Float(2.0, 22) == 2
    assert float(Float('.12500000000000001', '')) == .125
    raises(ValueError, lambda: Float(.12500000000000001, ''))

    # allow spaces
    Float('123 456.123 456') == Float('123456.123456')
    Integer('123 456') == Integer('123456')
    Rational('123 456.123 456') == Rational('123456.123456')
    assert Float(' .3e2') == Float('0.3e2')

    # allow auto precision detection
    assert Float('.1', '') == Float(.1, 1)
    assert Float('.125', '') == Float(.125, 3)
    assert Float('.100', '') == Float(.1, 3)
    assert Float('2.0', '') == Float('2', 2)

    raises(ValueError, lambda: Float("12.3d-4", ""))
    raises(ValueError, lambda: Float(12.3, ""))
    raises(ValueError, lambda: Float('.'))
    raises(ValueError, lambda: Float('-.'))

    zero = Float('0.0')
    assert Float('-0') == zero
    assert Float('.0') == zero
    assert Float('-.0') == zero
    assert Float('-0.0') == zero
    assert Float(0.0) == zero
    assert Float(0) == zero
    assert Float(0, '') == Float('0', '')
    assert Float(1) == Float(1.0)
    assert Float(S.Zero) == zero
    assert Float(S.One) == Float(1.0)

    assert Float(decimal.Decimal('0.1'), 3) == Float('.1', 3)
    assert Float(decimal.Decimal('nan')) == S.NaN
    assert Float(decimal.Decimal('Infinity')) == S.Infinity
    assert Float(decimal.Decimal('-Infinity')) == S.NegativeInfinity

    assert '{0:.3f}'.format(Float(4.236622)) == '4.237'
    assert '{0:.35f}'.format(Float(pi.n(40), 40)) == \
        '3.14159265358979323846264338327950288'

    assert Float(oo) == Float('+inf')
    assert Float(-oo) == Float('-inf')

    # unicode
    assert Float(u'0.73908513321516064100000000') == \
        Float('0.73908513321516064100000000')
    assert Float(u'0.73908513321516064100000000', 28) == \
        Float('0.73908513321516064100000000', 28)

    # binary precision
    # Decimal value 0.1 cannot be expressed precisely as a base 2 fraction
    a = Float(S(1)/10, dps=15)
    b = Float(S(1)/10, dps=16)
    p = Float(S(1)/10, precision=53)
    q = Float(S(1)/10, precision=54)
    assert a._mpf_ == p._mpf_
    assert not a._mpf_ == q._mpf_
    assert not b._mpf_ == q._mpf_

    # Precision specifying errors
    raises(ValueError, lambda: Float("1.23", dps=3, precision=10))
    raises(ValueError, lambda: Float("1.23", dps="", precision=10))
    raises(ValueError, lambda: Float("1.23", dps=3, precision=""))
    raises(ValueError, lambda: Float("1.23", dps="", precision=""))

    # from NumberSymbol
    assert same_and_same_prec(Float(pi, 32), pi.evalf(32))
    assert same_and_same_prec(Float(Catalan), Catalan.evalf())

File: sympy/core/tests/test_expr.py
Line number range: 1 - 500
Content:
1. from sympy import (Add, Basic, Expr, S, Symbol, Wild, Float, Integer, Rational, I,
2.                    sin, cos, tan, exp, log, nan, oo, sqrt, symbols, Integral, sympify,
3.                    WildFunction, Poly, Function, Derivative, Number, pi, NumberSymbol, zoo,
4.                    Piecewise, Mul, Pow, nsimplify, ratsimp, trigsimp, radsimp, powsimp,
5.                    simplify, together, collect, factorial, apart, combsimp, factor, refine,
6.                    cancel, Tuple, default_sort_key, DiracDelta, gamma, Dummy, Sum, E,
7.                    exp_polar, expand, diff, O, Heaviside, Si, Max, UnevaluatedExpr,
8.                    integrate, gammasimp)
9. from sympy.core.function import AppliedUndef
10. from sympy.core.compatibility import range
11. from sympy.physics.secondquant import FockState
12. from sympy.physics.units import meter
13. 
14. from sympy.utilities.pytest import raises, XFAIL
15. 
16. from sympy.abc import a, b, c, n, t, u, x, y, z
17. 
18. 
19. class DummyNumber(object):
20.     """
21.     Minimal implementation of a number that works with SymPy.
22. 
23.     If one has a Number class (e.g. Sage Integer, or some other custom class)
24.     that one wants to work well with SymPy, one has to implement at least the
25.     methods of this class DummyNumber, resp. its subclasses I5 and F1_1.
26. 
27.     Basically, one just needs to implement either __int__() or __float__() and
28.     then one needs to make sure that the class works with Python integers and
29.     with itself.
30.     """
31. 
32.     def __radd__(self, a):
33.         if isinstance(a, (int, float)):
34.             return a + self.number
35.         return NotImplemented
36. 
37.     def __truediv__(a, b):
38.         return a.__div__(b)
39. 
40.     def __rtruediv__(a, b):
41.         return a.__rdiv__(b)
42. 
43.     def __add__(self, a):
44.         if isinstance(a, (int, float, DummyNumber)):
45.             return self.number + a
46.         return NotImplemented
47. 
48.     def __rsub__(self, a):
49.         if isinstance(a, (int, float)):
50.             return a - self.number
51.         return NotImplemented
52. 
53.     def __sub__(self, a):
54.         if isinstance(a, (int, float, DummyNumber)):
55.             return self.number - a
56.         return NotImplemented
57. 
58.     def __rmul__(self, a):
59.         if isinstance(a, (int, float)):
60.             return a * self.number
61.         return NotImplemented
62. 
63.     def __mul__(self, a):
64.         if isinstance(a, (int, float, DummyNumber)):
65.             return self.number * a
66.         return NotImplemented
67. 
68.     def __rdiv__(self, a):
69.         if isinstance(a, (int, float)):
70.             return a / self.number
71.         return NotImplemented
72. 
73.     def __div__(self, a):
74.         if isinstance(a, (int, float, DummyNumber)):
75.             return self.number / a
76.         return NotImplemented
77. 
78.     def __rpow__(self, a):
79.         if isinstance(a, (int, float)):
80.             return a ** self.number
81.         return NotImplemented
82. 
83.     def __pow__(self, a):
84.         if isinstance(a, (int, float, DummyNumber)):
85.             return self.number ** a
86.         return NotImplemented
87. 
88.     def __pos__(self):
89.         return self.number
90. 
91.     def __neg__(self):
92.         return - self.number
93. 
94. 
95. class I5(DummyNumber):
96.     number = 5
97. 
98.     def __int__(self):
99.         return self.number
100. 
101. 
102. class F1_1(DummyNumber):
103.     number = 1.1
104. 
105.     def __float__(self):
106.         return self.number
107. 
108. i5 = I5()
109. f1_1 = F1_1()
110. 
111. # basic sympy objects
112. basic_objs = [
113.     Rational(2),
114.     Float("1.3"),
115.     x,
116.     y,
117.     pow(x, y)*y,
118. ]
119. 
120. # all supported objects
121. all_objs = basic_objs + [
122.     5,
123.     5.5,
124.     i5,
125.     f1_1
126. ]
127. 
128. 
129. def dotest(s):
130.     for x in all_objs:
131.         for y in all_objs:
132.             s(x, y)
133.     return True
134. 
135. 
136. def test_basic():
137.     def j(a, b):
138.         x = a
139.         x = +a
140.         x = -a
141.         x = a + b
142.         x = a - b
143.         x = a*b
144.         x = a/b
145.         x = a**b
146.     assert dotest(j)
147. 
148. 
149. def test_ibasic():
150.     def s(a, b):
151.         x = a
152.         x += b
153.         x = a
154.         x -= b
155.         x = a
156.         x *= b
157.         x = a
158.         x /= b
159.     assert dotest(s)
160. 
161. 
162. def test_relational():
163.     from sympy import Lt
164.     assert (pi < 3) is S.false
165.     assert (pi <= 3) is S.false
166.     assert (pi > 3) is S.true
167.     assert (pi >= 3) is S.true
168.     assert (-pi < 3) is S.true
169.     assert (-pi <= 3) is S.true
170.     assert (-pi > 3) is S.false
171.     assert (-pi >= 3) is S.false
172.     r = Symbol('r', real=True)
173.     assert (r - 2 < r - 3) is S.false
174.     assert Lt(x + I, x + I + 2).func == Lt  # issue 8288
175. 
176. 
177. def test_relational_assumptions():
178.     from sympy import Lt, Gt, Le, Ge
179.     m1 = Symbol("m1", nonnegative=False)
180.     m2 = Symbol("m2", positive=False)
181.     m3 = Symbol("m3", nonpositive=False)
182.     m4 = Symbol("m4", negative=False)
183.     assert (m1 < 0) == Lt(m1, 0)
184.     assert (m2 <= 0) == Le(m2, 0)
185.     assert (m3 > 0) == Gt(m3, 0)
186.     assert (m4 >= 0) == Ge(m4, 0)
187.     m1 = Symbol("m1", nonnegative=False, real=True)
188.     m2 = Symbol("m2", positive=False, real=True)
189.     m3 = Symbol("m3", nonpositive=False, real=True)
190.     m4 = Symbol("m4", negative=False, real=True)
191.     assert (m1 < 0) is S.true
192.     assert (m2 <= 0) is S.true
193.     assert (m3 > 0) is S.true
194.     assert (m4 >= 0) is S.true
195.     m1 = Symbol("m1", negative=True)
196.     m2 = Symbol("m2", nonpositive=True)
197.     m3 = Symbol("m3", positive=True)
198.     m4 = Symbol("m4", nonnegative=True)
199.     assert (m1 < 0) is S.true
200.     assert (m2 <= 0) is S.true
201.     assert (m3 > 0) is S.true
202.     assert (m4 >= 0) is S.true
203.     m1 = Symbol("m1", negative=False, real=True)
204.     m2 = Symbol("m2", nonpositive=False, real=True)
205.     m3 = Symbol("m3", positive=False, real=True)
206.     m4 = Symbol("m4", nonnegative=False, real=True)
207.     assert (m1 < 0) is S.false
208.     assert (m2 <= 0) is S.false
209.     assert (m3 > 0) is S.false
210.     assert (m4 >= 0) is S.false
211. 
212. 
213. def test_relational_noncommutative():
214.     from sympy import Lt, Gt, Le, Ge
215.     A, B = symbols('A,B', commutative=False)
216.     assert (A < B) == Lt(A, B)
217.     assert (A <= B) == Le(A, B)
218.     assert (A > B) == Gt(A, B)
219.     assert (A >= B) == Ge(A, B)
220. 
221. 
222. def test_basic_nostr():
223.     for obj in basic_objs:
224.         raises(TypeError, lambda: obj + '1')
225.         raises(TypeError, lambda: obj - '1')
226.         if obj == 2:
227.             assert obj * '1' == '11'
228.         else:
229.             raises(TypeError, lambda: obj * '1')
230.         raises(TypeError, lambda: obj / '1')
231.         raises(TypeError, lambda: obj ** '1')
232. 
233. 
234. def test_series_expansion_for_uniform_order():
235.     assert (1/x + y + x).series(x, 0, 0) == 1/x + O(1, x)
236.     assert (1/x + y + x).series(x, 0, 1) == 1/x + y + O(x)
237.     assert (1/x + 1 + x).series(x, 0, 0) == 1/x + O(1, x)
238.     assert (1/x + 1 + x).series(x, 0, 1) == 1/x + 1 + O(x)
239.     assert (1/x + x).series(x, 0, 0) == 1/x + O(1, x)
240.     assert (1/x + y + y*x + x).series(x, 0, 0) == 1/x + O(1, x)
241.     assert (1/x + y + y*x + x).series(x, 0, 1) == 1/x + y + O(x)
242. 
243. 
244. def test_leadterm():
245.     assert (3 + 2*x**(log(3)/log(2) - 1)).leadterm(x) == (3, 0)
246. 
247.     assert (1/x**2 + 1 + x + x**2).leadterm(x)[1] == -2
248.     assert (1/x + 1 + x + x**2).leadterm(x)[1] == -1
249.     assert (x**2 + 1/x).leadterm(x)[1] == -1
250.     assert (1 + x**2).leadterm(x)[1] == 0
251.     assert (x + 1).leadterm(x)[1] == 0
252.     assert (x + x**2).leadterm(x)[1] == 1
253.     assert (x**2).leadterm(x)[1] == 2
254. 
255. 
256. def test_as_leading_term():
257.     assert (3 + 2*x**(log(3)/log(2) - 1)).as_leading_term(x) == 3
258.     assert (1/x**2 + 1 + x + x**2).as_leading_term(x) == 1/x**2
259.     assert (1/x + 1 + x + x**2).as_leading_term(x) == 1/x
260.     assert (x**2 + 1/x).as_leading_term(x) == 1/x
261.     assert (1 + x**2).as_leading_term(x) == 1
262.     assert (x + 1).as_leading_term(x) == 1
263.     assert (x + x**2).as_leading_term(x) == x
264.     assert (x**2).as_leading_term(x) == x**2
265.     assert (x + oo).as_leading_term(x) == oo
266. 
267.     raises(ValueError, lambda: (x + 1).as_leading_term(1))
268. 
269. def test_leadterm2():
270.     assert (x*cos(1)*cos(1 + sin(1)) + sin(1 + sin(1))).leadterm(x) == \
271.            (sin(1 + sin(1)), 0)
272. 
273. 
274. def test_leadterm3():
275.     assert (y + z + x).leadterm(x) == (y + z, 0)
276. 
277. 
278. def test_as_leading_term2():
279.     assert (x*cos(1)*cos(1 + sin(1)) + sin(1 + sin(1))).as_leading_term(x) == \
280.         sin(1 + sin(1))
281. 
282. 
283. def test_as_leading_term3():
284.     assert (2 + pi + x).as_leading_term(x) == 2 + pi
285.     assert (2*x + pi*x + x**2).as_leading_term(x) == (2 + pi)*x
286. 
287. 
288. def test_as_leading_term4():
289.     # see issue 6843
290.     n = Symbol('n', integer=True, positive=True)
291.     r = -n**3/(2*n**2 + 4*n + 2) - n**2/(n**2 + 2*n + 1) + \
292.         n**2/(n + 1) - n/(2*n**2 + 4*n + 2) + n/(n*x + x) + 2*n/(n + 1) - \
293.         1 + 1/(n*x + x) + 1/(n + 1) - 1/x
294.     assert r.as_leading_term(x).cancel() == n/2
295. 
296. 
297. def test_as_leading_term_stub():
298.     class foo(Function):
299.         pass
300.     assert foo(1/x).as_leading_term(x) == foo(1/x)
301.     assert foo(1).as_leading_term(x) == foo(1)
302.     raises(NotImplementedError, lambda: foo(x).as_leading_term(x))
303. 
304. 
305. def test_as_leading_term_deriv_integral():
306.     # related to issue 11313
307.     assert Derivative(x ** 3, x).as_leading_term(x) == 3*x**2
308.     assert Derivative(x ** 3, y).as_leading_term(x) == 0
309. 
310.     assert Integral(x ** 3, x).as_leading_term(x) == x**4/4
311.     assert Integral(x ** 3, y).as_leading_term(x) == y*x**3
312. 
313.     assert Derivative(exp(x), x).as_leading_term(x) == 1
314.     assert Derivative(log(x), x).as_leading_term(x) == (1/x).as_leading_term(x)
315. 
316. 
317. def test_atoms():
318.     assert x.atoms() == {x}
319.     assert (1 + x).atoms() == {x, S(1)}
320. 
321.     assert (1 + 2*cos(x)).atoms(Symbol) == {x}
322.     assert (1 + 2*cos(x)).atoms(Symbol, Number) == {S(1), S(2), x}
323. 
324.     assert (2*(x**(y**x))).atoms() == {S(2), x, y}
325. 
326.     assert Rational(1, 2).atoms() == {S.Half}
327.     assert Rational(1, 2).atoms(Symbol) == set([])
328. 
329.     assert sin(oo).atoms(oo) == set()
330. 
331.     assert Poly(0, x).atoms() == {S.Zero}
332.     assert Poly(1, x).atoms() == {S.One}
333. 
334.     assert Poly(x, x).atoms() == {x}
335.     assert Poly(x, x, y).atoms() == {x}
336.     assert Poly(x + y, x, y).atoms() == {x, y}
337.     assert Poly(x + y, x, y, z).atoms() == {x, y}
338.     assert Poly(x + y*t, x, y, z).atoms() == {t, x, y}
339. 
340.     assert (I*pi).atoms(NumberSymbol) == {pi}
341.     assert (I*pi).atoms(NumberSymbol, I) == \
342.         (I*pi).atoms(I, NumberSymbol) == {pi, I}
343. 
344.     assert exp(exp(x)).atoms(exp) == {exp(exp(x)), exp(x)}
345.     assert (1 + x*(2 + y) + exp(3 + z)).atoms(Add) == \
346.         {1 + x*(2 + y) + exp(3 + z), 2 + y, 3 + z}
347. 
348.     # issue 6132
349.     f = Function('f')
350.     e = (f(x) + sin(x) + 2)
351.     assert e.atoms(AppliedUndef) == \
352.         {f(x)}
353.     assert e.atoms(AppliedUndef, Function) == \
354.         {f(x), sin(x)}
355.     assert e.atoms(Function) == \
356.         {f(x), sin(x)}
357.     assert e.atoms(AppliedUndef, Number) == \
358.         {f(x), S(2)}
359.     assert e.atoms(Function, Number) == \
360.         {S(2), sin(x), f(x)}
361. 
362. 
363. def test_is_polynomial():
364.     k = Symbol('k', nonnegative=True, integer=True)
365. 
366.     assert Rational(2).is_polynomial(x, y, z) is True
367.     assert (S.Pi).is_polynomial(x, y, z) is True
368. 
369.     assert x.is_polynomial(x) is True
370.     assert x.is_polynomial(y) is True
371. 
372.     assert (x**2).is_polynomial(x) is True
373.     assert (x**2).is_polynomial(y) is True
374. 
375.     assert (x**(-2)).is_polynomial(x) is False
376.     assert (x**(-2)).is_polynomial(y) is True
377. 
378.     assert (2**x).is_polynomial(x) is False
379.     assert (2**x).is_polynomial(y) is True
380. 
381.     assert (x**k).is_polynomial(x) is False
382.     assert (x**k).is_polynomial(k) is False
383.     assert (x**x).is_polynomial(x) is False
384.     assert (k**k).is_polynomial(k) is False
385.     assert (k**x).is_polynomial(k) is False
386. 
387.     assert (x**(-k)).is_polynomial(x) is False
388.     assert ((2*x)**k).is_polynomial(x) is False
389. 
390.     assert (x**2 + 3*x - 8).is_polynomial(x) is True
391.     assert (x**2 + 3*x - 8).is_polynomial(y) is True
392. 
393.     assert (x**2 + 3*x - 8).is_polynomial() is True
394. 
395.     assert sqrt(x).is_polynomial(x) is False
396.     assert (sqrt(x)**3).is_polynomial(x) is False
397. 
398.     assert (x**2 + 3*x*sqrt(y) - 8).is_polynomial(x) is True
399.     assert (x**2 + 3*x*sqrt(y) - 8).is_polynomial(y) is False
400. 
401.     assert ((x**2)*(y**2) + x*(y**2) + y*x + exp(2)).is_polynomial() is True
402.     assert ((x**2)*(y**2) + x*(y**2) + y*x + exp(x)).is_polynomial() is False
403. 
404.     assert (
405.         (x**2)*(y**2) + x*(y**2) + y*x + exp(2)).is_polynomial(x, y) is True
406.     assert (
407.         (x**2)*(y**2) + x*(y**2) + y*x + exp(x)).is_polynomial(x, y) is False
408. 
409. 
410. def test_is_rational_function():
411.     assert Integer(1).is_rational_function() is True
412.     assert Integer(1).is_rational_function(x) is True
413. 
414.     assert Rational(17, 54).is_rational_function() is True
415.     assert Rational(17, 54).is_rational_function(x) is True
416. 
417.     assert (12/x).is_rational_function() is True
418.     assert (12/x).is_rational_function(x) is True
419. 
420.     assert (x/y).is_rational_function() is True
421.     assert (x/y).is_rational_function(x) is True
422.     assert (x/y).is_rational_function(x, y) is True
423. 
424.     assert (x**2 + 1/x/y).is_rational_function() is True
425.     assert (x**2 + 1/x/y).is_rational_function(x) is True
426.     assert (x**2 + 1/x/y).is_rational_function(x, y) is True
427. 
428.     assert (sin(y)/x).is_rational_function() is False
429.     assert (sin(y)/x).is_rational_function(y) is False
430.     assert (sin(y)/x).is_rational_function(x) is True
431.     assert (sin(y)/x).is_rational_function(x, y) is False
432. 
433.     assert (S.NaN).is_rational_function() is False
434.     assert (S.Infinity).is_rational_function() is False
435.     assert (-S.Infinity).is_rational_function() is False
436.     assert (S.ComplexInfinity).is_rational_function() is False
437. 
438. 
439. def test_is_algebraic_expr():
440.     assert sqrt(3).is_algebraic_expr(x) is True
441.     assert sqrt(3).is_algebraic_expr() is True
442. 
443.     eq = ((1 + x**2)/(1 - y**2))**(S(1)/3)
444.     assert eq.is_algebraic_expr(x) is True
445.     assert eq.is_algebraic_expr(y) is True
446. 
447.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr(x) is True
448.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr(y) is True
449.     assert (sqrt(x) + y**(S(2)/3)).is_algebraic_expr() is True
450. 
451.     assert (cos(y)/sqrt(x)).is_algebraic_expr() is False
452.     assert (cos(y)/sqrt(x)).is_algebraic_expr(x) is True
453.     assert (cos(y)/sqrt(x)).is_algebraic_expr(y) is False
454.     assert (cos(y)/sqrt(x)).is_algebraic_expr(x, y) is False
455. 
456. 
457. def test_SAGE1():
458.     #see https://github.com/sympy/sympy/issues/3346
459.     class MyInt:
460.         def _sympy_(self):
461.             return Integer(5)
462.     m = MyInt()
463.     e = Rational(2)*m
464.     assert e == 10
465. 
466.     raises(TypeError, lambda: Rational(2)*MyInt)
467. 
468. 
469. def test_SAGE2():
470.     class MyInt(object):
471.         def __int__(self):
472.             return 5
473.     assert sympify(MyInt()) == 5
474.     e = Rational(2)*MyInt()
475.     assert e == 10
476. 
477.     raises(TypeError, lambda: Rational(2)*MyInt)
478. 
479. 
480. def test_SAGE3():
481.     class MySymbol:
482.         def __rmul__(self, other):
483.             return ('mys', other, self)
484. 
485.     o = MySymbol()
486.     e = x*o
487. 
488.     assert e == ('mys', x, o)
489. 
490. 
491. def test_len():
492.     e = x*y
493.     assert len(e.args) == 2
494.     e = x + y + z
495.     assert len(e.args) == 3
496. 
497. 
498. def test_doit():
499.     a = Integral(x**2, x)
500.


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 17:15:55,005 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for test cases with assertions on the `.is_zero` property.\n   - The bug report specifically mentions an issue with a complex expression involving `I` that incorrectly evaluates `is_zero`.\n   - This test case asserts that `((x - I)*(x - 1)).is_zero` is `None`, which is directly related to the problem of correctly determining the `is_zero` status of complex expressions.\n\n2. Extended relevance:\n   - This context provides a direct example of a test for `.is_zero` on a symbolic expression containing complex numbers, which is the core of the user's query.", relative_path='sympy/core/tests/test_assumptions.py', start_line=945, end_line=949), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for tests asserting the `.is_zero` property.\n   - The bug report's example `(1 + I)**2` involves a `Pow` operation.\n   - This test function, `test_Pow_is_zero`, contains multiple assertions about the `.is_zero` property of `Pow` expressions under various conditions (e.g., zero base, zero exponent, infinite exponent).\n\n2. Extended relevance:\n   - This provides essential context on how the `.is_zero` property is expected to behave for `Pow` objects, which is a component of the expression in the bug report.", relative_path='sympy/core/tests/test_arit.py', start_line=1148, end_line=1168), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user wants test cases related to the `.is_zero` property.\n   - The bug report describes an issue with an `Add` expression: `-2*I + (1 + I)**2`.\n   - This test case, `test_Add_is_zero`, directly tests the `.is_zero` property on an `Add` object.\n\n2. Extended relevance:\n   - Although simple, this test is fundamentally relevant as it targets the exact class (`Add`) that is failing in the bug report. It demonstrates the basic expected behavior for `Add.is_zero`.', relative_path='sympy/core/tests/test_arit.py', start_line=1985, end_line=1987), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for test cases with assertions on the `.is_zero` property.\n   - The expression in the bug report involves multiplication (e.g., `-2*I`).\n   - This test, `test_mul_zero_detection`, thoroughly investigates the conditions under which a `Mul` expression `.is_zero` evaluates to True, False, or None, depending on the properties of its arguments (e.g., `zero`, `finite`, `complex`).\n\n2. Extended relevance:\n   - This detailed test provides critical insight into the logic for determining `is_zero` on products, which is a key part of evaluating the expression from the bug report.', relative_path='sympy/core/tests/test_arit.py', start_line=1863, end_line=1933), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for test cases with assertions on the `.is_zero` property.\n   - This test checks the `.is_zero` property for `Float` representations of numbers, including special values like infinity.\n\n2. Extended relevance:\n   - The bug report deals with how numeric expressions are evaluated. Understanding the `.is_zero` behavior for fundamental numeric types like `Float` and its edge cases (infinity) provides a more complete picture of the assumptions system.', relative_path='sympy/core/tests/test_numbers.py', start_line=456, end_line=472)]
2025-10-05 17:15:55,006 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='sympy/core/tests/test_arit.py', content='45. def test_arit0():\n46.     p = Rational(5)\n47.     e = a*b\n48.     assert e == a*b\n49.     e = a*b + b*a\n50.     assert e == 2*a*b\n51.     e = a*b + b*a + a*b + p*b*a\n52.     assert e == 8*a*b\n53.     e = a*b + b*a + a*b + p*b*a + a\n54.     assert e == a + 8*a*b\n55.     e = a + a\n56.     assert e == 2*a\n57.     e = a + b + a\n58.     assert e == b + 2*a\n59.     e = a + b*b + a + b*b\n60.     assert e == 2*a + 2*b**2\n61.     e = a + Rational(2) + b*b + a + b*b + p\n62.     assert e == 7 + 2*a + 2*b**2\n63.     e = (a + b*b + a + b*b)*p\n64.     assert e == 5*(2*a + 2*b**2)\n65.     e = (a*b*c + c*b*a + b*a*c)*p\n66.     assert e == 15*a*b*c\n67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c\n68.     assert e == Rational(0)\n69.     e = Rational(50)*(a - a)\n70.     assert e == Rational(0)\n71.     e = b*a - b - a*b + b\n72.     assert e == Rational(0)\n73.     e = a*b + c**p\n74.     assert e == a*b + c**5\n75.     e = a/b\n76.     assert e == a*b**(-1)\n77.     e = a*2*2\n78.     assert e == 4*a\n79.     e = 2 + a*2/2\n80.     assert e == 2 + a\n81.     e = 2 - a - 2\n82.     assert e == -a\n83.     e = 2*a*2\n84.     assert e == 4*a\n85.     e = 2/a/2\n86.     assert e == a**(-1)\n87.     e = 2**a**2\n88.     assert e == 2**(a**2)\n89.     e = -(1 + a)\n90.     assert e == -1 - a\n91.     e = Rational(1, 2)*(1 + a)\n92.     assert e == Rational(1, 2) + a/2\n93. ', start_line_number=45, end_line_number=93), Context(relative_path='sympy/core/tests/test_arit.py', content='104. def test_pow():\n105.     n1 = Rational(1)\n106.     n2 = Rational(2)\n107.     n5 = Rational(5)\n108.     e = a*a\n109.     assert e == a**2\n110.     e = a*a*a\n111.     assert e == a**3\n112.     e = a*a*a*a**Rational(6)\n113.     assert e == a**9\n114.     e = a*a*a*a**Rational(6) - a**Rational(9)\n115.     assert e == Rational(0)\n116.     e = a**(b - b)\n117.     assert e == Rational(1)\n118.     e = (a + Rational(1) - a)**b\n119.     assert e == Rational(1)\n120. \n121.     e = (a + b + c)**n2\n122.     assert e == (a + b + c)**2\n123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2\n124. \n125.     e = (a + b)**n2\n126.     assert e == (a + b)**2\n127.     assert e.expand() == 2*a*b + a**2 + b**2\n128. \n129.     e = (a + b)**(n1/n2)\n130.     assert e == sqrt(a + b)\n131.     assert e.expand() == sqrt(a + b)\n132. \n133.     n = n5**(n1/n2)\n134.     assert n == sqrt(5)\n135.     e = n*a*b - n*b*a\n136.     assert e == Rational(0)\n137.     e = n*a*b + n*b*a\n138.     assert e == 2*a*b*sqrt(5)\n139.     assert e.diff(a) == 2*b*sqrt(5)\n140.     assert e.diff(a) == 2*b*sqrt(5)\n141.     e = a/b**2\n142.     assert e == a*b**(-2)\n143. ', start_line_number=104, end_line_number=143), Context(relative_path='sympy/core/tests/test_arit.py', content="359. def test_Add_Mul_is_integer():\n360.     x = Symbol('x')\n361. \n362.     k = Symbol('k', integer=True)\n363.     n = Symbol('n', integer=True)\n364. \n365.     assert (2*k).is_integer is True\n366.     assert (-k).is_integer is True\n367.     assert (k/3).is_integer is None\n368.     assert (x*k*n).is_integer is None\n369. \n370.     assert (k + n).is_integer is True\n371.     assert (k + x).is_integer is None\n372.     assert (k + n*x).is_integer is None\n373.     assert (k + n/3).is_integer is None\n374. \n375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n377. ", start_line_number=359, end_line_number=377), Context(relative_path='sympy/core/tests/test_assumptions.py', content="337. def test_symbol_imaginary():\n338.     a = Symbol('a', imaginary=True)\n339. \n340.     assert a.is_real is False\n341.     assert a.is_integer is False\n342.     assert a.is_negative is False\n343.     assert a.is_positive is False\n344.     assert a.is_nonnegative is False\n345.     assert a.is_nonpositive is False\n346.     assert a.is_zero is False\n347.     assert a.is_nonzero is False  # since nonzero -> real\n348. ", start_line_number=337, end_line_number=348), Context(relative_path='sympy/core/tests/test_complex.py', content="166. def test_real_imag():\n167.     x, y, z = symbols('x, y, z')\n168.     X, Y, Z = symbols('X, Y, Z', commutative=False)\n169.     a = Symbol('a', real=True)\n170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))\n171. \n172.     # issue 5395:\n173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)\n174.     assert im(x*x.conjugate()) == 0\n175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2\n176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2\n177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2\n178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)\n179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \\\n180.         (Abs(sin(x))**2, 0)\n181. \n182.     # issue 6573:\n183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))\n184. \n185.     # issue 6428:\n186.     r = Symbol('r', real=True)\n187.     i = Symbol('i', imaginary=True)\n188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))\n189.     assert (i*r*x*(y + 2)).as_real_imag() == (\n190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),\n191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))\n192. \n193.     # issue 7106:\n194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)\n195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)\n196. ", start_line_number=166, end_line_number=196), Context(relative_path='sympy/core/tests/test_assumptions.py', content="945. def test_issue_7899():\n946.     x = Symbol('x', real=True)\n947.     assert (I*x).is_real is None\n948.     assert ((x - I)*(x - 1)).is_zero is None\n949.     assert ((x - I)*(x - 1)).is_real is None", start_line_number=945, end_line_number=949), Context(relative_path='sympy/core/tests/test_arit.py', content="1148. def test_Pow_is_zero():\n1149.     z = Symbol('z', zero=True)\n1150.     e = z**2\n1151.     assert e.is_zero\n1152.     assert e.is_positive is False\n1153.     assert e.is_negative is False\n1154. \n1155.     assert Pow(0, 0, evaluate=False).is_zero is False\n1156.     assert Pow(0, 3, evaluate=False).is_zero\n1157.     assert Pow(0, oo, evaluate=False).is_zero\n1158.     assert Pow(0, -3, evaluate=False).is_zero is False\n1159.     assert Pow(0, -oo, evaluate=False).is_zero is False\n1160.     assert Pow(2, 2, evaluate=False).is_zero is False\n1161. \n1162.     a = Symbol('a', zero=False)\n1163.     assert Pow(a, 3).is_zero is False  # issue 7965\n1164. \n1165.     assert Pow(2, oo, evaluate=False).is_zero is False\n1166.     assert Pow(2, -oo, evaluate=False).is_zero\n1167.     assert Pow(S.Half, oo, evaluate=False).is_zero\n1168.     assert Pow(S.Half, -oo, evaluate=False).is_zero is False", start_line_number=1148, end_line_number=1168), Context(relative_path='sympy/core/tests/test_arit.py', content="1985. def test_Add_is_zero():\n1986.     x, y = symbols('x y', zero=True)\n1987.     assert (x + y).is_zero", start_line_number=1985, end_line_number=1987), Context(relative_path='sympy/core/tests/test_arit.py', content="1863. def test_mul_zero_detection():\n1864.     nz = Dummy(real=True, zero=False, finite=True)\n1865.     r = Dummy(real=True)\n1866.     c = Dummy(real=False, complex=True, finite=True)\n1867.     c2 = Dummy(real=False, complex=True, finite=True)\n1868.     i = Dummy(imaginary=True, finite=True)\n1869.     e = nz*r*c\n1870.     assert e.is_imaginary is None\n1871.     assert e.is_real is None\n1872.     e = nz*c\n1873.     assert e.is_imaginary is None\n1874.     assert e.is_real is False\n1875.     e = nz*i*c\n1876.     assert e.is_imaginary is False\n1877.     assert e.is_real is None\n1878.     # check for more than one complex; it is important to use\n1879.     # uniquely named Symbols to ensure that two factors appear\n1880.     # e.g. if the symbols have the same name they just become\n1881.     # a single factor, a power.\n1882.     e = nz*i*c*c2\n1883.     assert e.is_imaginary is None\n1884.     assert e.is_real is None\n1885. \n1886.     # _eval_is_real and _eval_is_zero both employ trapping of the\n1887.     # zero value so args should be tested in both directions and\n1888.     # TO AVOID GETTING THE CACHED RESULT, Dummy MUST BE USED\n1889. \n1890.     # real is unknonwn\n1891.     def test(z, b, e):\n1892.         if z.is_zero and b.is_finite:\n1893.             assert e.is_real and e.is_zero\n1894.         else:\n1895.             assert e.is_real is None\n1896.             if b.is_finite:\n1897.                 if z.is_zero:\n1898.                     assert e.is_zero\n1899.                 else:\n1900.                     assert e.is_zero is None\n1901.             elif b.is_finite is False:\n1902.                 if z.is_zero is None:\n1903.                     assert e.is_zero is None\n1904.                 else:\n1905.                     assert e.is_zero is False\n1906. \n1907. \n1908.     for iz, ib in cartes(*[[True, False, None]]*2):\n1909.         z = Dummy('z', nonzero=iz)\n1910.         b = Dummy('f', finite=ib)\n1911.         e = Mul(z, b, evaluate=False)\n1912.         test(z, b, e)\n1913.         z = Dummy('nz', nonzero=iz)\n1914.         b = Dummy('f', finite=ib)\n1915.         e = Mul(b, z, evaluate=False)\n1916.         test(z, b, e)\n1917. \n1918.     # real is True\n1919.     def test(z, b, e):\n1920.         if z.is_zero and not b.is_finite:\n1921.             assert e.is_real is None\n1922.         else:\n1923.             assert e.is_real\n1924. \n1925.     for iz, ib in cartes(*[[True, False, None]]*2):\n1926.         z = Dummy('z', nonzero=iz, real=True)\n1927.         b = Dummy('b', finite=ib, real=True)\n1928.         e = Mul(z, b, evaluate=False)\n1929.         test(z, b, e)\n1930.         z = Dummy('z', nonzero=iz, real=True)\n1931.         b = Dummy('b', finite=ib, real=True)\n1932.         e = Mul(b, z, evaluate=False)\n1933.         test(z, b, e)", start_line_number=1863, end_line_number=1933), Context(relative_path='sympy/core/tests/test_numbers.py', content="456.     assert Float('+inf').is_finite is False\n457.     assert Float('+inf').is_negative is False\n458.     assert Float('+inf').is_positive is True\n459.     assert Float('+inf').is_infinite is True\n460.     assert Float('+inf').is_zero is False\n461. \n462.     assert Float('-inf').is_finite is False\n463.     assert Float('-inf').is_negative is True\n464.     assert Float('-inf').is_positive is False\n465.     assert Float('-inf').is_infinite is True\n466.     assert Float('-inf').is_zero is False\n467. \n468.     assert Float('0.0').is_finite is True\n469.     assert Float('0.0').is_negative is False\n470.     assert Float('0.0').is_positive is False\n471.     assert Float('0.0').is_infinite is False\n472.     assert Float('0.0').is_zero is True", start_line_number=456, end_line_number=472)]
2025-10-05 17:15:55,007 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 17:15:55,007 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-10-05 17:15:55,007 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='sympy/core/tests/test_arit.py', content='45. def test_arit0():\n46.     p = Rational(5)\n47.     e = a*b\n48.     assert e == a*b\n49.     e = a*b + b*a\n50.     assert e == 2*a*b\n51.     e = a*b + b*a + a*b + p*b*a\n52.     assert e == 8*a*b\n53.     e = a*b + b*a + a*b + p*b*a + a\n54.     assert e == a + 8*a*b\n55.     e = a + a\n56.     assert e == 2*a\n57.     e = a + b + a\n58.     assert e == b + 2*a\n59.     e = a + b*b + a + b*b\n60.     assert e == 2*a + 2*b**2\n61.     e = a + Rational(2) + b*b + a + b*b + p\n62.     assert e == 7 + 2*a + 2*b**2\n63.     e = (a + b*b + a + b*b)*p\n64.     assert e == 5*(2*a + 2*b**2)\n65.     e = (a*b*c + c*b*a + b*a*c)*p\n66.     assert e == 15*a*b*c\n67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c\n68.     assert e == Rational(0)\n69.     e = Rational(50)*(a - a)\n70.     assert e == Rational(0)\n71.     e = b*a - b - a*b + b\n72.     assert e == Rational(0)\n73.     e = a*b + c**p\n74.     assert e == a*b + c**5\n75.     e = a/b\n76.     assert e == a*b**(-1)\n77.     e = a*2*2\n78.     assert e == 4*a\n79.     e = 2 + a*2/2\n80.     assert e == 2 + a\n81.     e = 2 - a - 2\n82.     assert e == -a\n83.     e = 2*a*2\n84.     assert e == 4*a\n85.     e = 2/a/2\n86.     assert e == a**(-1)\n87.     e = 2**a**2\n88.     assert e == 2**(a**2)\n89.     e = -(1 + a)\n90.     assert e == -1 - a\n91.     e = Rational(1, 2)*(1 + a)\n92.     assert e == Rational(1, 2) + a/2\n93. ', start_line_number=45, end_line_number=93), Context(relative_path='sympy/core/tests/test_arit.py', content='104. def test_pow():\n105.     n1 = Rational(1)\n106.     n2 = Rational(2)\n107.     n5 = Rational(5)\n108.     e = a*a\n109.     assert e == a**2\n110.     e = a*a*a\n111.     assert e == a**3\n112.     e = a*a*a*a**Rational(6)\n113.     assert e == a**9\n114.     e = a*a*a*a**Rational(6) - a**Rational(9)\n115.     assert e == Rational(0)\n116.     e = a**(b - b)\n117.     assert e == Rational(1)\n118.     e = (a + Rational(1) - a)**b\n119.     assert e == Rational(1)\n120. \n121.     e = (a + b + c)**n2\n122.     assert e == (a + b + c)**2\n123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2\n124. \n125.     e = (a + b)**n2\n126.     assert e == (a + b)**2\n127.     assert e.expand() == 2*a*b + a**2 + b**2\n128. \n129.     e = (a + b)**(n1/n2)\n130.     assert e == sqrt(a + b)\n131.     assert e.expand() == sqrt(a + b)\n132. \n133.     n = n5**(n1/n2)\n134.     assert n == sqrt(5)\n135.     e = n*a*b - n*b*a\n136.     assert e == Rational(0)\n137.     e = n*a*b + n*b*a\n138.     assert e == 2*a*b*sqrt(5)\n139.     assert e.diff(a) == 2*b*sqrt(5)\n140.     assert e.diff(a) == 2*b*sqrt(5)\n141.     e = a/b**2\n142.     assert e == a*b**(-2)\n143. ', start_line_number=104, end_line_number=143), Context(relative_path='sympy/core/tests/test_arit.py', content="359. def test_Add_Mul_is_integer():\n360.     x = Symbol('x')\n361. \n362.     k = Symbol('k', integer=True)\n363.     n = Symbol('n', integer=True)\n364. \n365.     assert (2*k).is_integer is True\n366.     assert (-k).is_integer is True\n367.     assert (k/3).is_integer is None\n368.     assert (x*k*n).is_integer is None\n369. \n370.     assert (k + n).is_integer is True\n371.     assert (k + x).is_integer is None\n372.     assert (k + n*x).is_integer is None\n373.     assert (k + n/3).is_integer is None\n374. \n375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n377. ", start_line_number=359, end_line_number=377), Context(relative_path='sympy/core/tests/test_assumptions.py', content="337. def test_symbol_imaginary():\n338.     a = Symbol('a', imaginary=True)\n339. \n340.     assert a.is_real is False\n341.     assert a.is_integer is False\n342.     assert a.is_negative is False\n343.     assert a.is_positive is False\n344.     assert a.is_nonnegative is False\n345.     assert a.is_nonpositive is False\n346.     assert a.is_zero is False\n347.     assert a.is_nonzero is False  # since nonzero -> real\n348. ", start_line_number=337, end_line_number=348), Context(relative_path='sympy/core/tests/test_complex.py', content="166. def test_real_imag():\n167.     x, y, z = symbols('x, y, z')\n168.     X, Y, Z = symbols('X, Y, Z', commutative=False)\n169.     a = Symbol('a', real=True)\n170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))\n171. \n172.     # issue 5395:\n173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)\n174.     assert im(x*x.conjugate()) == 0\n175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2\n176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2\n177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2\n178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)\n179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \\\n180.         (Abs(sin(x))**2, 0)\n181. \n182.     # issue 6573:\n183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))\n184. \n185.     # issue 6428:\n186.     r = Symbol('r', real=True)\n187.     i = Symbol('i', imaginary=True)\n188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))\n189.     assert (i*r*x*(y + 2)).as_real_imag() == (\n190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),\n191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))\n192. \n193.     # issue 7106:\n194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)\n195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)\n196. ", start_line_number=166, end_line_number=196), Context(relative_path='sympy/core/tests/test_assumptions.py', content="945. def test_issue_7899():\n946.     x = Symbol('x', real=True)\n947.     assert (I*x).is_real is None\n948.     assert ((x - I)*(x - 1)).is_zero is None\n949.     assert ((x - I)*(x - 1)).is_real is None", start_line_number=945, end_line_number=949), Context(relative_path='sympy/core/tests/test_arit.py', content="1148. def test_Pow_is_zero():\n1149.     z = Symbol('z', zero=True)\n1150.     e = z**2\n1151.     assert e.is_zero\n1152.     assert e.is_positive is False\n1153.     assert e.is_negative is False\n1154. \n1155.     assert Pow(0, 0, evaluate=False).is_zero is False\n1156.     assert Pow(0, 3, evaluate=False).is_zero\n1157.     assert Pow(0, oo, evaluate=False).is_zero\n1158.     assert Pow(0, -3, evaluate=False).is_zero is False\n1159.     assert Pow(0, -oo, evaluate=False).is_zero is False\n1160.     assert Pow(2, 2, evaluate=False).is_zero is False\n1161. \n1162.     a = Symbol('a', zero=False)\n1163.     assert Pow(a, 3).is_zero is False  # issue 7965\n1164. \n1165.     assert Pow(2, oo, evaluate=False).is_zero is False\n1166.     assert Pow(2, -oo, evaluate=False).is_zero\n1167.     assert Pow(S.Half, oo, evaluate=False).is_zero\n1168.     assert Pow(S.Half, -oo, evaluate=False).is_zero is False", start_line_number=1148, end_line_number=1168), Context(relative_path='sympy/core/tests/test_arit.py', content="1985. def test_Add_is_zero():\n1986.     x, y = symbols('x y', zero=True)\n1987.     assert (x + y).is_zero", start_line_number=1985, end_line_number=1987), Context(relative_path='sympy/core/tests/test_arit.py', content="1863. def test_mul_zero_detection():\n1864.     nz = Dummy(real=True, zero=False, finite=True)\n1865.     r = Dummy(real=True)\n1866.     c = Dummy(real=False, complex=True, finite=True)\n1867.     c2 = Dummy(real=False, complex=True, finite=True)\n1868.     i = Dummy(imaginary=True, finite=True)\n1869.     e = nz*r*c\n1870.     assert e.is_imaginary is None\n1871.     assert e.is_real is None\n1872.     e = nz*c\n1873.     assert e.is_imaginary is None\n1874.     assert e.is_real is False\n1875.     e = nz*i*c\n1876.     assert e.is_imaginary is False\n1877.     assert e.is_real is None\n1878.     # check for more than one complex; it is important to use\n1879.     # uniquely named Symbols to ensure that two factors appear\n1880.     # e.g. if the symbols have the same name they just become\n1881.     # a single factor, a power.\n1882.     e = nz*i*c*c2\n1883.     assert e.is_imaginary is None\n1884.     assert e.is_real is None\n1885. \n1886.     # _eval_is_real and _eval_is_zero both employ trapping of the\n1887.     # zero value so args should be tested in both directions and\n1888.     # TO AVOID GETTING THE CACHED RESULT, Dummy MUST BE USED\n1889. \n1890.     # real is unknonwn\n1891.     def test(z, b, e):\n1892.         if z.is_zero and b.is_finite:\n1893.             assert e.is_real and e.is_zero\n1894.         else:\n1895.             assert e.is_real is None\n1896.             if b.is_finite:\n1897.                 if z.is_zero:\n1898.                     assert e.is_zero\n1899.                 else:\n1900.                     assert e.is_zero is None\n1901.             elif b.is_finite is False:\n1902.                 if z.is_zero is None:\n1903.                     assert e.is_zero is None\n1904.                 else:\n1905.                     assert e.is_zero is False\n1906. \n1907. \n1908.     for iz, ib in cartes(*[[True, False, None]]*2):\n1909.         z = Dummy('z', nonzero=iz)\n1910.         b = Dummy('f', finite=ib)\n1911.         e = Mul(z, b, evaluate=False)\n1912.         test(z, b, e)\n1913.         z = Dummy('nz', nonzero=iz)\n1914.         b = Dummy('f', finite=ib)\n1915.         e = Mul(b, z, evaluate=False)\n1916.         test(z, b, e)\n1917. \n1918.     # real is True\n1919.     def test(z, b, e):\n1920.         if z.is_zero and not b.is_finite:\n1921.             assert e.is_real is None\n1922.         else:\n1923.             assert e.is_real\n1924. \n1925.     for iz, ib in cartes(*[[True, False, None]]*2):\n1926.         z = Dummy('z', nonzero=iz, real=True)\n1927.         b = Dummy('b', finite=ib, real=True)\n1928.         e = Mul(z, b, evaluate=False)\n1929.         test(z, b, e)\n1930.         z = Dummy('z', nonzero=iz, real=True)\n1931.         b = Dummy('b', finite=ib, real=True)\n1932.         e = Mul(b, z, evaluate=False)\n1933.         test(z, b, e)", start_line_number=1863, end_line_number=1933), Context(relative_path='sympy/core/tests/test_numbers.py', content="456.     assert Float('+inf').is_finite is False\n457.     assert Float('+inf').is_negative is False\n458.     assert Float('+inf').is_positive is True\n459.     assert Float('+inf').is_infinite is True\n460.     assert Float('+inf').is_zero is False\n461. \n462.     assert Float('-inf').is_finite is False\n463.     assert Float('-inf').is_negative is True\n464.     assert Float('-inf').is_positive is False\n465.     assert Float('-inf').is_infinite is True\n466.     assert Float('-inf').is_zero is False\n467. \n468.     assert Float('0.0').is_finite is True\n469.     assert Float('0.0').is_negative is False\n470.     assert Float('0.0').is_positive is False\n471.     assert Float('0.0').is_infinite is False\n472.     assert Float('0.0').is_zero is True", start_line_number=456, end_line_number=472)]
2025-10-05 17:15:55,008 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content="Issue title:\nis_zero is incorrect on complex integer\n\nIssue description: \n`is_zero` should return `None` if it cannot decide, but should never give the wrong answer. However:\n\n```\n>>> e = -2*I + (1 + I)**2\n>>> e.is_zero\nFalse\n>>> simplify(e).is_zero\nTrue\n```\n\nThis is causing errors in determining the rank of a matrix. See issue #15872 \nFixing is_zero for complex numbers while Add\nReferences to other Issues or PRs\n#15873 \n\nOther comments:\n\n<!-- BEGIN RELEASE NOTES -->\n\n- core\n  - Fix `is_zero` becoming `False` on some expressions with `Add`.\n\n<!-- END RELEASE NOTES -->\n\n\nIssue comments:\n\n\nBug reproducing context:\nFile: sympy/core/tests/test_arit.py\nLine number range: 45 - 93\nContent:\n45. def test_arit0():\n46.     p = Rational(5)\n47.     e = a*b\n48.     assert e == a*b\n49.     e = a*b + b*a\n50.     assert e == 2*a*b\n51.     e = a*b + b*a + a*b + p*b*a\n52.     assert e == 8*a*b\n53.     e = a*b + b*a + a*b + p*b*a + a\n54.     assert e == a + 8*a*b\n55.     e = a + a\n56.     assert e == 2*a\n57.     e = a + b + a\n58.     assert e == b + 2*a\n59.     e = a + b*b + a + b*b\n60.     assert e == 2*a + 2*b**2\n61.     e = a + Rational(2) + b*b + a + b*b + p\n62.     assert e == 7 + 2*a + 2*b**2\n63.     e = (a + b*b + a + b*b)*p\n64.     assert e == 5*(2*a + 2*b**2)\n65.     e = (a*b*c + c*b*a + b*a*c)*p\n66.     assert e == 15*a*b*c\n67.     e = (a*b*c + c*b*a + b*a*c)*p - Rational(15)*a*b*c\n68.     assert e == Rational(0)\n69.     e = Rational(50)*(a - a)\n70.     assert e == Rational(0)\n71.     e = b*a - b - a*b + b\n72.     assert e == Rational(0)\n73.     e = a*b + c**p\n74.     assert e == a*b + c**5\n75.     e = a/b\n76.     assert e == a*b**(-1)\n77.     e = a*2*2\n78.     assert e == 4*a\n79.     e = 2 + a*2/2\n80.     assert e == 2 + a\n81.     e = 2 - a - 2\n82.     assert e == -a\n83.     e = 2*a*2\n84.     assert e == 4*a\n85.     e = 2/a/2\n86.     assert e == a**(-1)\n87.     e = 2**a**2\n88.     assert e == 2**(a**2)\n89.     e = -(1 + a)\n90.     assert e == -1 - a\n91.     e = Rational(1, 2)*(1 + a)\n92.     assert e == Rational(1, 2) + a/2\n93. \n\n\nFile: sympy/core/tests/test_arit.py\nLine number range: 104 - 143\nContent:\n104. def test_pow():\n105.     n1 = Rational(1)\n106.     n2 = Rational(2)\n107.     n5 = Rational(5)\n108.     e = a*a\n109.     assert e == a**2\n110.     e = a*a*a\n111.     assert e == a**3\n112.     e = a*a*a*a**Rational(6)\n113.     assert e == a**9\n114.     e = a*a*a*a**Rational(6) - a**Rational(9)\n115.     assert e == Rational(0)\n116.     e = a**(b - b)\n117.     assert e == Rational(1)\n118.     e = (a + Rational(1) - a)**b\n119.     assert e == Rational(1)\n120. \n121.     e = (a + b + c)**n2\n122.     assert e == (a + b + c)**2\n123.     assert e.expand() == 2*b*c + 2*a*c + 2*a*b + a**2 + c**2 + b**2\n124. \n125.     e = (a + b)**n2\n126.     assert e == (a + b)**2\n127.     assert e.expand() == 2*a*b + a**2 + b**2\n128. \n129.     e = (a + b)**(n1/n2)\n130.     assert e == sqrt(a + b)\n131.     assert e.expand() == sqrt(a + b)\n132. \n133.     n = n5**(n1/n2)\n134.     assert n == sqrt(5)\n135.     e = n*a*b - n*b*a\n136.     assert e == Rational(0)\n137.     e = n*a*b + n*b*a\n138.     assert e == 2*a*b*sqrt(5)\n139.     assert e.diff(a) == 2*b*sqrt(5)\n140.     assert e.diff(a) == 2*b*sqrt(5)\n141.     e = a/b**2\n142.     assert e == a*b**(-2)\n143. \n\n\nFile: sympy/core/tests/test_arit.py\nLine number range: 359 - 377\nContent:\n359. def test_Add_Mul_is_integer():\n360.     x = Symbol('x')\n361. \n362.     k = Symbol('k', integer=True)\n363.     n = Symbol('n', integer=True)\n364. \n365.     assert (2*k).is_integer is True\n366.     assert (-k).is_integer is True\n367.     assert (k/3).is_integer is None\n368.     assert (x*k*n).is_integer is None\n369. \n370.     assert (k + n).is_integer is True\n371.     assert (k + x).is_integer is None\n372.     assert (k + n*x).is_integer is None\n373.     assert (k + n/3).is_integer is None\n374. \n375.     assert ((1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n376.     assert (1 + (1 + sqrt(3))*(-sqrt(3) + 1)).is_integer is not False\n377. \n\n\nFile: sympy/core/tests/test_assumptions.py\nLine number range: 337 - 348\nContent:\n337. def test_symbol_imaginary():\n338.     a = Symbol('a', imaginary=True)\n339. \n340.     assert a.is_real is False\n341.     assert a.is_integer is False\n342.     assert a.is_negative is False\n343.     assert a.is_positive is False\n344.     assert a.is_nonnegative is False\n345.     assert a.is_nonpositive is False\n346.     assert a.is_zero is False\n347.     assert a.is_nonzero is False  # since nonzero -> real\n348. \n\n\nFile: sympy/core/tests/test_complex.py\nLine number range: 166 - 196\nContent:\n166. def test_real_imag():\n167.     x, y, z = symbols('x, y, z')\n168.     X, Y, Z = symbols('X, Y, Z', commutative=False)\n169.     a = Symbol('a', real=True)\n170.     assert (2*a*x).as_real_imag() == (2*a*re(x), 2*a*im(x))\n171. \n172.     # issue 5395:\n173.     assert (x*x.conjugate()).as_real_imag() == (Abs(x)**2, 0)\n174.     assert im(x*x.conjugate()) == 0\n175.     assert im(x*y.conjugate()*z*y) == im(x*z)*Abs(y)**2\n176.     assert im(x*y.conjugate()*x*y) == im(x**2)*Abs(y)**2\n177.     assert im(Z*y.conjugate()*X*y) == im(Z*X)*Abs(y)**2\n178.     assert im(X*X.conjugate()) == im(X*X.conjugate(), evaluate=False)\n179.     assert (sin(x)*sin(x).conjugate()).as_real_imag() == \\\n180.         (Abs(sin(x))**2, 0)\n181. \n182.     # issue 6573:\n183.     assert (x**2).as_real_imag() == (re(x)**2 - im(x)**2, 2*re(x)*im(x))\n184. \n185.     # issue 6428:\n186.     r = Symbol('r', real=True)\n187.     i = Symbol('i', imaginary=True)\n188.     assert (i*r*x).as_real_imag() == (I*i*r*im(x), -I*i*r*re(x))\n189.     assert (i*r*x*(y + 2)).as_real_imag() == (\n190.         I*i*r*(re(y) + 2)*im(x) + I*i*r*re(x)*im(y),\n191.         -I*i*r*(re(y) + 2)*re(x) + I*i*r*im(x)*im(y))\n192. \n193.     # issue 7106:\n194.     assert ((1 + I)/(1 - I)).as_real_imag() == (0, 1)\n195.     assert ((1 + 2*I)*(1 + 3*I)).as_real_imag() == (-5, 5)\n196. \n\n\nFile: sympy/core/tests/test_assumptions.py\nLine number range: 945 - 949\nContent:\n945. def test_issue_7899():\n946.     x = Symbol('x', real=True)\n947.     assert (I*x).is_real is None\n948.     assert ((x - I)*(x - 1)).is_zero is None\n949.     assert ((x - I)*(x - 1)).is_real is None\n\n\nFile: sympy/core/tests/test_arit.py\nLine number range: 1148 - 1168\nContent:\n1148. def test_Pow_is_zero():\n1149.     z = Symbol('z', zero=True)\n1150.     e = z**2\n1151.     assert e.is_zero\n1152.     assert e.is_positive is False\n1153.     assert e.is_negative is False\n1154. \n1155.     assert Pow(0, 0, evaluate=False).is_zero is False\n1156.     assert Pow(0, 3, evaluate=False).is_zero\n1157.     assert Pow(0, oo, evaluate=False).is_zero\n1158.     assert Pow(0, -3, evaluate=False).is_zero is False\n1159.     assert Pow(0, -oo, evaluate=False).is_zero is False\n1160.     assert Pow(2, 2, evaluate=False).is_zero is False\n1161. \n1162.     a = Symbol('a', zero=False)\n1163.     assert Pow(a, 3).is_zero is False  # issue 7965\n1164. \n1165.     assert Pow(2, oo, evaluate=False).is_zero is False\n1166.     assert Pow(2, -oo, evaluate=False).is_zero\n1167.     assert Pow(S.Half, oo, evaluate=False).is_zero\n1168.     assert Pow(S.Half, -oo, evaluate=False).is_zero is False\n\n\nFile: sympy/core/tests/test_arit.py\nLine number range: 1985 - 1987\nContent:\n1985. def test_Add_is_zero():\n1986.     x, y = symbols('x y', zero=True)\n1987.     assert (x + y).is_zero\n\n\nFile: sympy/core/tests/test_arit.py\nLine number range: 1863 - 1933\nContent:\n1863. def test_mul_zero_detection():\n1864.     nz = Dummy(real=True, zero=False, finite=True)\n1865.     r = Dummy(real=True)\n1866.     c = Dummy(real=False, complex=True, finite=True)\n1867.     c2 = Dummy(real=False, complex=True, finite=True)\n1868.     i = Dummy(imaginary=True, finite=True)\n1869.     e = nz*r*c\n1870.     assert e.is_imaginary is None\n1871.     assert e.is_real is None\n1872.     e = nz*c\n1873.     assert e.is_imaginary is None\n1874.     assert e.is_real is False\n1875.     e = nz*i*c\n1876.     assert e.is_imaginary is False\n1877.     assert e.is_real is None\n1878.     # check for more than one complex; it is important to use\n1879.     # uniquely named Symbols to ensure that two factors appear\n1880.     # e.g. if the symbols have the same name they just become\n1881.     # a single factor, a power.\n1882.     e = nz*i*c*c2\n1883.     assert e.is_imaginary is None\n1884.     assert e.is_real is None\n1885. \n1886.     # _eval_is_real and _eval_is_zero both employ trapping of the\n1887.     # zero value so args should be tested in both directions and\n1888.     # TO AVOID GETTING THE CACHED RESULT, Dummy MUST BE USED\n1889. \n1890.     # real is unknonwn\n1891.     def test(z, b, e):\n1892.         if z.is_zero and b.is_finite:\n1893.             assert e.is_real and e.is_zero\n1894.         else:\n1895.             assert e.is_real is None\n1896.             if b.is_finite:\n1897.                 if z.is_zero:\n1898.                     assert e.is_zero\n1899.                 else:\n1900.                     assert e.is_zero is None\n1901.             elif b.is_finite is False:\n1902.                 if z.is_zero is None:\n1903.                     assert e.is_zero is None\n1904.                 else:\n1905.                     assert e.is_zero is False\n1906. \n1907. \n1908.     for iz, ib in cartes(*[[True, False, None]]*2):\n1909.         z = Dummy('z', nonzero=iz)\n1910.         b = Dummy('f', finite=ib)\n1911.         e = Mul(z, b, evaluate=False)\n1912.         test(z, b, e)\n1913.         z = Dummy('nz', nonzero=iz)\n1914.         b = Dummy('f', finite=ib)\n1915.         e = Mul(b, z, evaluate=False)\n1916.         test(z, b, e)\n1917. \n1918.     # real is True\n1919.     def test(z, b, e):\n1920.         if z.is_zero and not b.is_finite:\n1921.             assert e.is_real is None\n1922.         else:\n1923.             assert e.is_real\n1924. \n1925.     for iz, ib in cartes(*[[True, False, None]]*2):\n1926.         z = Dummy('z', nonzero=iz, real=True)\n1927.         b = Dummy('b', finite=ib, real=True)\n1928.         e = Mul(z, b, evaluate=False)\n1929.         test(z, b, e)\n1930.         z = Dummy('z', nonzero=iz, real=True)\n1931.         b = Dummy('b', finite=ib, real=True)\n1932.         e = Mul(b, z, evaluate=False)\n1933.         test(z, b, e)\n\n\nFile: sympy/core/tests/test_numbers.py\nLine number range: 456 - 472\nContent:\n456.     assert Float('+inf').is_finite is False\n457.     assert Float('+inf').is_negative is False\n458.     assert Float('+inf').is_positive is True\n459.     assert Float('+inf').is_infinite is True\n460.     assert Float('+inf').is_zero is False\n461. \n462.     assert Float('-inf').is_finite is False\n463.     assert Float('-inf').is_negative is True\n464.     assert Float('-inf').is_positive is False\n465.     assert Float('-inf').is_infinite is True\n466.     assert Float('-inf').is_zero is False\n467. \n468.     assert Float('0.0').is_finite is True\n469.     assert Float('0.0').is_negative is False\n470.     assert Float('0.0').is_positive is False\n471.     assert Float('0.0').is_infinite is False\n472.     assert Float('0.0').is_zero is True\n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n" additional_kwargs={} response_metadata={}
2025-10-05 17:16:41,771 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nfrom sympy import I\n\ndef test_issue_15872():\n    """\n    Test for issue #15872.\n\n    is_zero was incorrectly returning False for a complex expression\n    that is equal to zero.\n    """\n    e = -2*I + (1 + I)**2\n    # simplify(e) is 0, so e.is_zero should not be False.\n    # It should be True, or None if it can\'t be determined.\n    assert e.is_zero is not False\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 5810, 'candidates_token_count': 126, 'total_token_count': 10697, 'prompt_tokens_details': [{'modality': 1, 'token_count': 5810}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 126}], 'thoughts_token_count': 4761, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -7.864679245721726, 'model_name': 'gemini-2.5-pro'} id='run--c8a70273-afe7-4043-bb3d-b8399d606304-0' usage_metadata={'input_tokens': 5810, 'output_tokens': 126, 'total_tokens': 10697, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 4761}}
2025-10-05 17:17:28,446 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "from sympy import I\\n\\ndef test_issue_15872():\\n    \\"\\"\\"\\n    Test for issue #15872.\\n\\n    is_zero was incorrectly returning False for a complex expression\\n    that is equal to zero.\\n    \\"\\"\\"\\n    e = -2*I + (1 + I)**2\\n    # simplify(e) is 0, so e.is_zero should not be False.\\n    # It should be True, or None if it can\'t be determined.\\n    assert e.is_zero is not False\\n", "relative_path": "sympy/sympy/core/tests/test_complex_arithmetic.py"}'}, '__gemini_function_call_thought_signatures__': {'439238d1-c623-4e45-8d60-123578783792': 'Crh4AR/Mhba0jrThgSc4h47m2g6Z/eW3VWDd1FW967S5NS/WvTygsp5pQhKk1mQwhr5jOQP065EuygAH9ZYxM1EKVT62B8Wdg7WJ0ojkVDJFwmKdzgagQkHaVA6wA6WcZ5wxMnOOwyA4j8DxoAwBaAcaoOHAkgWDtOKys9q7ELU8L4FCQ4DVQrXfKZa5B+lKJMRKse8I2HdeJGYtucjQwWNMh6DA+qIj9TgY4ebxGliv4FW/Bbn2Hq1gwaPMUgcIdxnT90ZVigrjxA1ONSWuuOeTywd2wsscMzXyR4AGnOE5BmwHJ2z1Bj11tI2f+KDkA8J4jA1RrF+AdhFDTbFConvJ0n9Ilorfl7B6HMcOd9QlmkJQcaXhsc/xhLmr2WIEbVUD3AhiXez34gE5espKd5nlTRZ+cZvZISsrQDz/QE9QtfN7hirlAfluVA67PhJjy7v+jm/81g/gPiLuzZwqSIweZW6pSCDnir2Bh/iVTH+rCaO+qui0k7TZLHuArohozWkKFi8FJdb1ymk1FRMyNsKLUpgZlLz0Atiu7dpnhcVay/P6gPbFJEdCQfeqTent41ACGp+uUdJds0AJjWx066d1REi3OPKPEriNs7SFAiZ9T3X3kr6HSQFZlv/guG9aQJjuRmSMuU/qt4ymCrnl+e8J3SQTMqCKvlYc2P6m+IVUZYbPCpjckRhNlMFfACLK0xSFD9+NcbVpaaeEIHDHgP2kGoabQ78xVuXh/jgnPU3aauIzmePZCqGsO/tcZwvNERyiIxPcRSpp8QRVWHgkovTXzLV/r0Y21j9ZxuzwcrDGK9lLhZGEqKNcB0jDQlaGQ//RS7LgWSbGAAWHnjPLl4uFtUKMDtUG8+C6lEnaPMeXNgq81Jv9FoHG0m7JLqjpKKSGG2/7I5LJJJ0aGTu4MTTjEF9SLDQllW6szhZwOGguwuv8b1gs5dM7qiwwwl7ec65qZZ6S2C6+idhUM4CqHfNfxJr+PvJS5/R+tcLJa4Oyy8ZGMeXNuOgRtpJK7mU72T92rYiElFLhbw6MYbUfi83vf3t1AIQw2LK77Qurq3uWJlOlEJFHsk2MIHrdwb2SCn79EXRM8xhKTZCofQKB3Pg2rfFWmz9pj2LRbUn5WAG/x/HCiSCQoN6TZxe7COr9CEBEPDh2ADMciY7efu6AgD9e6qf7n82eHBRDymCaT5+v5qp4zDS3y4yFs5PxmUGWNjpbe3NsNLFCIlitYmBPy0qNOsXIPkmrcW/47gHz3B0dEXvMTiXBNDQ4vNIVce195/FEHvRSJz/mEakXlN/I7MZih+FN3sX3/+6ve8LOqO4tGIFOBMF63ezyZ6Sjhf+da2NQfgObNd/7zQglMr4Ib/KQU+R8Q8hM5lasjQUNqA3/oUYRe2Z8CABDZzM68BjKO6Lb7wh6OhuqMPtf7AlLKugdJo4t30N56RPKC+x55KRGAaUMME5COUSL0+hgEZEQkuiKRNU0hVxB5jha5t6BxqwGeJzxz8pdLyRBuL/1EZp2pP6AJLeoqsrf47hfclarczJq5ZVREr+HFBYiaepEzjCg10+/JhdBCbLTdSh4v7IAORmPZY+5J1U6rPRQbr65gqKx+88aYaUAXsutmSlnQtKRTiAM4msyK5YcAyWb/Ftou8pKZhS73ygF29ldEheQycouK6WnCwx0vcNiutx0LLUoDNNtrNLfW0hQ2ykZD74R7DWE/Hz3ZUl2aiDy++wDXyhKACdTVQp0sTJK/vlFFsXJMB5gVayr9Hazy0aDbGDrOgfKx4LqUAtmVWtgQcZkktuB7Z1qDVzLvJ3BrY4oMWQWWg6/EOQKcISW8IYCGPDp1+3jKpnboTGdEe/IeoMzjzAx6eraTbdKePUsPFmTLBdH/XwGxhU2LxkFJF+M/lwiqgXd1cK8HpEdRmuU/Jm7NDZvUHyJr9Y75W9UCecdLhCGwDSsWXF75mO88VSLFTuIW0esi0JDHRvHfjI3CJ2gDyeZv15Vq7o1xaegDENuwxDa2KV1CizFWrzpigiLNLY6qRk291nFigSdFs+/7NpW4jqR8yewclcCblqrPrCvqMyKRmuM7dx3A0RnM4njuXOcMz4aq/vCEINoEBxVEDym+v7nZ01RX4YlUyunh7/d50Luti0ePSAsFY914QugIA0PLgDutOGPINvHaWln8Df3q/tLxdI1shKfwWb0fYR1/ppaDFVToswhO8USIAk3K17wkqJ1+0lWLbUIVLXB7Sp23fNo5ApCikq16gbAYhfE/6HViPujOJHX3PnDHnV35FxXv/kyPbpo9RkLZk1BsLmpcGDV75eVPB6XrZCFB3RO6f3L8ofddQCGUQWRyAvSvcaBa6H4WGAmrmYe7T1sMNNzR/eeb/rm2GlcPGag1rtCIzRggGl+G/58it/J1aUe2hzTUqOO3RUZviA3P2WZfsjJVepbvRDO+iD8DqzaL8lD4jBMvBV0n9go515qsy3Cp29PxMGFVrxcehNz0KA0628pGpTEvO6+RVZl/p4kl/UDA7O6ECkSYUqFKAjHAFMiacMKOIzW7hYUCUrHT+21Tek1FkGcYeGABXMAdDswVh+JgYkt7JBopYn4PvNq4MWSww6qG/YTnu+HKzmKCUN8cIQ0AmEHUxB9MZg7xqjS4ZyhpA24k5CnFEkcty/YavZ8I1tM/HeyEP04K8RvTSsEiesDxP9omMarKP+gVR9lznlI712fATH1FtGbjvGJZRVhr3K4ez9eaGi4HO70q5VcCut31ma/d14QSP2i8tecgIU5I2LaPb16g4DyFhcX8GVNS/r14/8gFoH55rWOBKLVNe06flaIQ5zqZj3xnfno2J7KzqhFnwNl1FwGjDBBTTfz748GZJnaoaAscTVhVLSM6DvxNdYUNA2C0INSeRL5yYVn5odtqXjIaRzo1XJSfC3+FxjQirYdh6wyl3sikKhluEqqVjntL7USHGaot2V+N0apSUT9liOgGr/8F8dHPWXGSf6xoli/g0RdsnXw5Gzkzxuv+od2JKrhCs4MCEzKNy306lo5K1Bxhfx7WogqBGDCTy4iaayBIWXhclUSX8pFLsRBvwjCsgOWxYx7XWc7kFTPmDlbYdv+EREiVLmhM+POiSmWiKPfiNIkIm4F5UF71AcOTPDpw3sXddsHUZg6nqmkq8kXGW8lAIzjntVMYQaqhiGn7mPUNqRVYcwLJEsgF4AwlGS+AWoAoNdSqhJxGHjwh2C9q4dA3ieO9qRxsqpntBdND2zVH8bZA6mz4XfnVAfyJUvy4uWadnjLJFLLlmwc/h41wDRIfwpzT0tSlEh6QpR5P5CZrvSREOkCX1+yg9c1lfdMfvPhygH19FnVXoZHgN1BOzVqyiAA4P827741hrHvT8OOY0ZU66MVTd1ckuH3W78LaLil76/7F8kg8DWJm4RUU76qbygdX8D6X2FcmbtQrVbBvWiyATe6C5Olz7iURpb7h+/LS1BFG79fsvG8QixZz9ytekY6RZX1SsDsr3Tns8XgtsXs9v1iXTTx0J9uyCJ/vib5Tqvqnu5XL/1Cc/qc4UlPyANzNiLcNyfKQoXRH8kgrQjpWSBSeS3IRbaSQDXGlRRG+sJCIq6ZfQ2xZPbdXW17qIqgAMkCxulT36VzYFAFkjzwcg0LFGYCs9UHyEL5jX5ud+wDmrxduPkOwrf+HPDYY4rmr9AM6nEb3he+dT41qvN4CkZS0SCKraR7RB6N26+8luz0LZZm4BkqRa++tzsM8LwKI6Fb6lzctMpOQ4naa8lwNjiem5cT0iGV4uMHVY+8JlTrXVZpypA3KxZf34CA+qTiAbzJhMiCGhff8h/0Ucv48cg7TeYnxk865esWQYvvAEeKk4/GqKu4mx2QJoOfpsY1AKnOW6Bp+dg1fVof6kC59RlnkgRkfiSOuuWulvkfIrqiiGWiIOA7NB4/iv/YFQT0sycu4EPfihXpD79bYmn/Knyxo7IqJSNideIrAmYlXb2k1EuX3be5zw+AQ1QSIlRmbgPzFHLlM2XCC3mGtJHDcQ4JNQhxGIOdd0fYd6HJr0B0W7hsxkltY4ypgcDHUs/tV/7Tv8WmA4bf0uOGkQ0DRDIudLYGfJzPuBH2NmhNY3Hnn6Hu4rGGgFtoN/Dr/47JAM7O4ce6nfqtxIX4PZBNF3vhNM87uPiktt8KBk0c//U3xxcoK00DIFKNgT2XgkFF66EvjaNR0YxfcHHIl7rC+YGpAcMi8DL+QoWvKTZcNbH3AN2UHPfLkXgMNomz36rmOqccdKrwRULnA3b/oJEcmFe5vl1VpQ9AwQWfHa+AIdwwg1kh/N7Z83LCj/n0QMxybLIS4xAmgpsj7Phg+iJQ8C7QIDUWAfLEpDpI8L+UBuxKn8aVNcXslCDYz/4Q4a1SXkPhI2NABwGKcmTVEFqGgDViP/1j7pBm1YKcKssaPw/SWN1OD0F6OQAaC9lqCeXWwPvXoONgdWxQP45ZtF/lbs8I8rTjD07p/e/qOfNKwGCF4Nr1Wl/8LfgX3kDMyPvsWegzag6gli64eH3CJUcoZBIanYtjPs2I9LiaAjuoO+SYWPlo2ro/feDQxfFGdyDxBqsF34znictOgEWzLVcjzzvsXpx0cSIdZkfeAn14qPatTuJorG94dMn441/pmhAXgaNA7n9VfHF6FzcmiqHSaQVjrmSebY1HaRUBVlXz8QUWFcdapQwQIxJBl8knn0qCogH/FEkT1YvSc2EBzBaRkymqS5jBGAH0OC7fw64WvZ2ggrjAA8r0cJgB7DJSDPBKf2xSJ+x2DZ0QW/urlGB6w905MMS9Vp16JSqW8LZDps2Bp139r92rl7V1DD2U0LCgLqh9aMkfsx4MpmlFbk6+1ElLGYgAXfvMC7p6RKNtYuku2NbeQxeHGL5JzIFIOMH/0WSmlCCrENEkiV7ea7n8/Umg1h4lwdFD9NkAf/OPNfY+k+UkvxNvYS0PrADNJYEGcjjw4G2SJoehT6NliYd0NDOSC2M+wnQ9QOkgkb3HwbqA15Zk5n3TKBbUKve7iA8j1jsQuK89kdSO3oFyH/XmAU1QpGTIZXboWNUgTJwaB3fsxAxy9MtsTPOtBLdE5myCBzdNCzZez4XY0Gv2Y3KVYIo9rWvfCZFrxTlcpRkoveYvMjwLC4ZOj3rlvazZxTiNqpROI0Rp6rkqHKc/QgrSWKX448d8XesHGpdJF4fBT6IPRXFM/9wiOBqqjwDiQ4Cewwd29LmybcQiVZA7nm9y0bCE4IVE7+/T/pDwz+PHQs8QXtMfzLb/ApJX8NkmuUXzJyo3EjNUIJ47b6lnFa3ayZJN6eQ87dJBNPR4JAaNoYX1lvMm6HEJGJmAs7WkhD7sWWtpUpGQKj/4kAe6ihReOM1D5vyE7jbxUNNWpESzFC0gfhxATXz0ROJenqCsUn9g+gPY2ZgM3f/EgIzK5Qj2c9+/HLwro33fSN+hxy8HtTUWiZGKtQXYX0OzKaHiBKgtaCbj0+rcbbw5ae4bQIQbfGM5w6bXJQ4yGCcXEhB/JxeM1gEmp+AlO9pqcBr73+mugsIh4FDo602eqvSC/5S5BN4HkTp+SI5CB0cKOTGSeyG1JdZha+P8L1K8HVYd/J09VXmzAGpAAjWf2rdI24sW93xJXWaKsAbptVysH4ib/2utbwQRue0qQD9e7rz+zOVK8x4KUSSS/mJfaSwri+eYnsHzYZKe+MmbJkZOY7XC354pkqAR9kuRQy6p/BVYIffRq4HFI3HOBvMSdybwZrVNlY17n1CvJTB3AX8ELauC6qfebYidBr3JFQssvFbJ0x6sXJ1kxxmfcrlBTsH6dRWAHFw+1/Gb4zWoF+GoHICdnyWpcnsC2uNjySQ/D5dEhYaZ3Vy30k1G/NiqkJjb1D8ivXRvvdF2BZKjyTNDLO1f+JByFutmfL3Vp6oK6o5LNfcjBROXbQlLQ7Tb6Gs1JYJhs3WQ2WkQk1I86fGA+xxbY4Qg6vGcl1Np/B8cFuZzLzUQ3w4XZyTtFLUw5V4qzDaYgM9q1kYX4JVGTUJGB4TO+s2JO63CMQgBD2+Rn087r0O2m5s5/Ur5A46QcExJyXj+LgbR41S99AgyIoTGCmQWd8HR7LUWKJmIvc+M4ON65KNIQDCEBEzpxNbgI8izDjTCdWGJNxzXP0xDuYcKbvRxUIrGYgcJHeqzIBHb35ibfXjJejtubwszvTd4Q25Ht8NctIup830hNd3ptTLUNYUnq0XcJFS8sfsnRCEKimq7H/o1P3GzBYReBJgUUNn0kyH40LNDxpNXvexzZwfMH2TAisjLQ13Oq7gdukMezyIz5/hTNF//xLMpM+CiNkfdu/UlUAeh/qkNv/yT1xb+hyJlA42K66auE6igzEEhFKt03RDofTZTDcdw7CXfuszlR0JelFmeERUqlj/V82yOYDTcGRocmgQJHBMYicFEY/IOZODxxhmxi/sLDBFCmPNEvYY9SIBw4Pu+Ym+JDBpc1XNE8GCtn2DB3ZpDOWRVpwJyVd4o3dPtErCk0Nva6LT/pJAez/HAw0XOcelMFIP2XRmRfVFZMoay+uCk0hMlWZ56Ap34RC0rdYs9po7pHj9eyKknZJl7+IbpNFlmvRtiLvVwCXqtcUCa8TbZy6EktZVYSni7R2DnMT4LAk0DBijOV01MpyGa6B03NxXqQ6Aw+LBLdgV1pOS0jfQgCAnlRKzae1dNxWoHbX2bnNu7RTO52aVCIB17Wiv3Nx7ju377dnG5V99l2jt/zS7xvuqUL563+4dMQAyF8x/VIWe2BjuTJZ/L10HipJfLfoWJdktqjXcu+so14kpD1i/5SqK6nDP2x5QukP1pldyA6TMUrPkV2C09LX9xQmjfSeYeYRFMtMkFdGrMhLyeNGfP8r6vsFtOe2toOsnqECxLWcyvEnQG7mvG7RH4BCDCVh3kpwojXTiWhaeEDarY3c6kdWYxy2/95GdQdsgDy+dz7w5n5mY7dkOc/8AyStPPcSgNr6dKlhS9dl59eV9dFc/A8VJRBjIk+lh2D4j5M7OC08OBmTAIMGBGOsQf++XXCpUlrc41xRn2U2eBHm9XsCsSLeoNpPyui1jBB6odBSyNgxrpRyF5Tx3YSYXSU8oBz7504wgtzk/IsMGdknjCxNti2trdIqDbnmzZ5UAxGmQPV9cHC1rhESyQpsrdNNKxsBeLTnxMgtvHe/y6jvp19UGCUy/g3iOmf0+MgardEIXOuZ6VaWnv+dNrL3sFXa7Z/758ET2gMadR+MPOKi1OOuDFk8yyCSqCPl4Bpp4MvrNRiwzVbUTZujQQq3OCVZzbVNgTSZ+N8mXMk2oOM9C3huvyjDNGAEfZlWufgKibNfgeKW28jf4suQ3JEuLRNUjfvRvMTsI2CDrZPG3Cisu4yitF8koqT1KoqeLuCY1/tHtse3jQP2zamBSoJMb4j9RLRK4CD3tUXT6gVtncjjAXFl7nXHfcTI9GMQrMBe7Ml9s6FCSoAA758nBUlq8GUIj6xgJA9V/Or9eQHi5b9jPkuZcg5bVv49Yme0U+akiByhxRkTqadEouQSPY6IUgA0QS6JEmS51JqS4oQk3CumnYN1BV60ZPUf3cs2EgWKY+Xq/tMm91uRfHRy1GhabrMbU060eWTJ50sxYw2ScOJnScAkrCBSglCSsJ9vZ7AJqWmACiOc8yh2q9BARvuYGyLZ6ZOBjzJvjZbgMw8bsCXM6acqkN2ikaheCBgEKkkdKPwxxnpcS0cdfxYK4A0LO9gVtENdKFsH3rgw972GTeIcAzA4TD+2UxuiXi9VDfbFSjJ3p3Qc8sMkMYmNDCfmwUfSN7BOSmWadrz5uDCVWHtGt7SBFogUAr/lorRabP+6gDqiZ44437k1/o0/SKmLaB187T5um6XtAbH/AkHlD9dG8+fODjM3d6urt3ej+ZIJunr1P9Fv4uzdLINrlTLFwdqz+L0MXM6JKJQEPE3V8q5R6QdofY46AnfR3t4A9fb9g19iRbaMWqBhC8sRs1J+yLPXilZjbX23ZzT6w0MObmxykFyYuWDTnn7uNPfLtTJyuy4Nc6r7MaKtAHnkrT5teUzukzN4bXcxwSt8CMuyj4En8WCp12GnNRg9wbjsXHRETpEicLcBCL3OqEGmdHWArn7fN0qdv1hRgbVghJ+bV2GgVexPVDSe30dVRXYQhTSEKXmYZuFAg0DwskH3k27v0Js9fOtYmfq2leQrhtnmIdBcns3qmhl/RAceG3cbnYvqcyvsk/3383aeUO/xCq3G4hH/p6eqdH4aI+lnYdLRsI4fmDmVCyMmU51qPt+9YrjA6Gwx8eBFQxjhQMOsyqxQmKCA/50CuUr0w8TZfV6DpWSRt5c4oa3h4AVHS3+NCDFyDVx1pzutrP4wHT75uLEUIm30HDq2kRrmitDRV2hZIZpWsLy/fpo/aN/Tp2KH8o4igqNVsq0JX5Rrk6lxdwpM8OiYlQqRPgN9S/jaCnAhJCkN8casoFnlmQ00WoQvn9NSKYgcArXfyt4re9fXHmY/0QptwCWcp8Uz30DtwTfpwwaM1F60JNK0MXJTMxJePe4+YftyWclxzJHelM3wIOTllJNKXHoAf3K1gyDQ3qSkID7hn1e3foUtKNDBDJuMjLJZ8NJSC3pMS+WfMM4LD2y/mACSUHMMN6Z1UR3cABCblHEV+tvPnMDIesQij8ZXwJ/z39b3LvUCVzb9Mm/bDabHLtldFV4cTiSBtTGQc1lOwtq4zbXe2MBLO8lFvciSPrSX+1O9VKEn68xI5JYpxOStFL2/A8z3reFxxmttdwlCGLmAo4q3G71HbI3Vxt1wnO89trAx+uxxOB6FBeVYyGn/hqrDkYS9T1fVJMwasURggpFsY/+Z9ayEAuWyvtgzF7GqQBVK7IgOCb2Tlb8sZcHKPvmB7AeYMaAovXRJxZ74i4BbmVz11G60dcg8LrptqbgwySXGFCVkZwhnIFKc5NjLiLWkDDxo+6yRMr9oJfyw83RpygyDb1Qj+Qytrho6yJ9CHzoRSF9L9GFjBDwLCoD1E0ZdMUj4dmRFVIvGAFT32Bl5o5J4lzqMttttNS5nh/gomhT+3fbwxC4FpyVhCyKgHQvdjsXtzD2ef1DhpBPNubcPmxkI3symt8h16/EXWHE6rAqrCwCYJA4mmvNUPWz9L7HJrObTbK9NL87Z+Ot51LeF9v5RZx3ACuGmuKTFatFXgftkoQu7HRuMdG7ffECpbB04m3aRVDveWExUK2KSVPZN+Wuerw26HtpOyGIaimApx4EDOEjBkKf58Bvecew+On6wAwh3AoktnOAWgx9Z6NGiuNSz/hMuUR+fR7u/mcNKUhf2/MpHQ28wFyTRgvFOOvQUh06v4xBU1qya8ZkOXdnOszgVZTRLd0bGkmUWCc0MDqfP97KZ+INrGozYuXcXPMjraIy+ARZHwLezvpPcNQu0UaNYuNysf62sz/CF8XzHvpc8iFUkj9VA1NDtkQOrCtgr7Q7PmdXvuNznbzojx090314vv0IBloxE2fiV7NVzbp/7MMs9SD87EZweXqmZ+3reuvvxg+W3mwAjChtZz0LN9k1Cd2MTj1XszpawueCnCD2oNHH2Ew7dNHbpVSZf7nMDjkFALmRYzGJDj+3LjDottHmZDWxfq/4xCYwPEie8+V8AUskayqiA3m5qSfeLUSO7FVmbmvZEqw/CTXUoCTsruIniS4XTCRxpsvBD9CHsQTWMEc0JlXd9KZD2v1NLJ0Q82Sw4PX2SObvJ+wnCQa3uE5paHabyOzvftlYELrUoFrtcu7SneayYIuBoydOHhp6iGCVIkto6/TG9qOXKGwAK7/mZfirxUSBp5YwozzKsIGqvWVzY4RUfwxzU5JK1w1o9apzXkwW7NZ8p1OubqZigxTSA9xpJMCmJAeEiIDQtrP94xY1luBXNHvbVOVIq6PS6maIIbC9fSJjwCpQ8FOK+o3FUolsrzwDb0SW/IK+i3MOs63RlX4lFNE6eKPSt/0CYxBGRYteNglmG9eoxOAjk83crf9har8H1mHy0rGVlJxAUtIQG7ZqW6MrZMhmisqmZIpVtryshW31cT5ZTNNjtOPzIUYyIoaRKo4ZnlAUpf8sN5svFBDCaVi4ODFV9b2fH10lTwPV6au3yxSLshGG+aSTkdFbhBPOl5DbjOtqD4u7M81hHGXQ3QmjggIwEB3u0kqh6FgW3P/nhfzppgQbdjWSr0nCy6oUeVwLxiAguMf89tANV2HWt9A0D6J4s7k8T2GTEofMcchBC2Z0JCPlCI1FvgzCcrE6V0uKewsQs6DR+OXAU0A1bPF6BNwINbsYPWxlNA+pb1V5VgNKbwStCj9aYtaYTMxcpLHAquyGWRtYjiMyV8tRflKiCT0MQ+jfpi3O6KhQTNxU0IBlvaYNj0UoBir3yShjA2tiHCcKuxLtm8DpJuV80CWgpzMLCTH5Z+EGvM6Z9dq6yj4iauAc+oH9cT94u7DipGgsRTKABxVlP/kGKxDS3vd8c2NMYaWYFSGJwk7FWbIgLogP7tSA5ilRF0M9xxr+tMbf6QztNl17zFJLpDGe3YVq0lBsoQF46TNQYnUDSEIxh+zU1q8WeYYBQAYRQmFeApceJk8ZQATxRkVOgwzptl6oz4uZ0AMGK7ojR0C1aI0TjNj0C4BGVS7706neMiZYVyrc5InDaNdTLboBWZOv7U7NRYhYKZ3hg73HTFmQjwveahAgW/9s7NpjsBmgmsW9drLtJMeMfYwDdwAwjKBBnj/cl63EHwro/lszMOP9AI3NLNtNqzUjGR+mnDq74ozUHpr+HGlcoD8cisd4niifSy9h89KivIdOJiaNQ6loiZh17eWOLynV4iyhng0IMh3MRMJgOL9d9e7aIZilbvejZiPAH3iSVkQv0duheKMbspFx5nFnpChKRd6Na6ZlgO4E20ICC6oeDC5K1DN4gmMTu6etZ3sWmzcuKpDtgKAGOzVAU+AUTuPc+36X21FVUqwSrnboXhWVmi2W98EHQSJQCzrYHAMM1UElt2tx5rvh7Gdk385dkw+PhVLu7lpWMLQRcboWXy1at4eLtL0AaUvzjHa7eDoPfrI7TgULmyXV69oTFsesY1j/IPEWautmkHUMQY6UfePN+YMwJKBE2cKGd+xddbPBSCQg7SdtBogUhpmmT/QDoVukHgoYuAAGQ+WXFq82/e4g32jHWHUaXnDYU0jlrG4ImFfK8s73PM0d+NisxmOqz8vrf+7OpG5DZ3rsKtNLHWZZYZvyjqwgpb17x/CAJmxC0/Zf4upqcvyMObA9kzqNvr633jiSzCdcjTlFvmYQA90prH9dkVIQVnrYd2SfJ1bngKe24msrslMHlGvptVc0P3+bkAXDoqZ2MexlZrhzERX7n1g+ET964aGA6LHaVMEFIVCkShW5Qwf4wCE+tl4yhGpQUBGNoJkH8l1TLH+P75SlQgVRWndt8O3aRjQ/b41gnSC5e/JTOAgIJXaOupbK4ElX6Zz25HCJdkZ1gAYm5aA4Q7S6uQXWasMCYZp06XMmGBPvVj1sizWMLquJD+vJe8s0ieRpb1P3mKQswMWpHtaTFOqBLKJ/+l9dgLWxFCbmbLrvk5lOeMXR0N6FFK1QNR/fgjg1LQgwH7G8m5ZQ5oRjfBcCgz5RS38xWvQ/yRqPaUG/sK4NrE/0FnqX3n6W3gUJ6HKVPlw3vUDoBu+L95pbU2lhbIWGK1Y23+vRuU2ND906JATPhoEPkLw5O6vg13T/CK2vIbw4emym9CpaX7Juriif7ar7/8fyc0ZUOuG//uvGbUAPBMK55kGIDVnMPQN1wKd5t9aSu0HlDg2DuqyzrpxfSwupGQVOP2A+SrRU5e2bikrEhz61odtUDWkAQOaanU5t+Xxq4ow8oEEjtGP4b1bx9ZlISE484hQ55DBUMi6FEDLgnmPlAFho6kj5lj/MOoSKisJAPbpBmt0mdYC7zDHseDTnCU55Fj7GX+y8/Glq63qPqQ45J9UaqdCOyoKZDr//51B1xLMbvJ7FpL/3ypCXFQ1jJ7fdK8JMpd32ORJLtclfKIYh+B1SuVH66lY/3OjfkkOl0N+FVa6x3NRdGdOKqZgDwd8taahGpFw+RAutPqjq25QQJxuQZN54yr8YC1Fi2mios9VziOViARIhYkx6oK0Ib83y6DxnTBhrqRWOap4oQBd6CnifMYOUI771uZUFdZgD4PtHTQ+qCaDNBKbtXqSWvb7OgFmYSF0yOpShJLREmCA5KvWD+QChixcOJnh9vDVxoneYhKEmv/xCQ4356fyI0PLDRWOlJJGJrcNfKUavlxXSz5C+hyX/VvOQ0jmJV7UJhgctgySbDwfhXqkXRrvm3sZDxQaFf49kgJ32k798DMlW1NWrPZx3DNHTUQ3jMLX1feOxufjP0x006CtjnU94O77gjt/iwEUvIeXmJ5IeS8yiV76NFi4rlq14nndlTEgLwho8G/EQPfK952V9juQFYwAGGcq0AQ+XvtaebtX6PkDxmzFgMNt0ni1wpFT6QIIsPUKStH6sVDSL0s2n4hoHtPPFQ7wfHjpNDiecBPOpZc4LNbLX0EqV/koy7WFrBhzdMkQUkzuXD7Z5XjZgEPbOu9WiZolAVniy+cjJC3uNiOkVJ+QGGlOCYZqo4uLXs06LDXxXtjyjHicsShS8TiT2a6UlNCcLBiua/XgLspiRce6EwTypkwpYZCR2dl82mFrlYinx4nBmsabyO72W7VAI+Qrq/WCIS/DezAIOdKmAIAdShM+XTfUj95B89sBtDgXEHg1OmIhlvtFXssSfHqgKmyGI4cc50MVQB3ZfqFaYZuSRCrPP0sjpBmJawqDmXv3/RZjmUya8Ry6K21aOuRZpo2fEyjKj+K+EPxKjjk4hCtzC+vXv1hxXrxPkogXDQP0FPQggw3+lk6k2gpSX+a6Nn8LB03UmXQ4g2cxrP4o45jGJQ5E3ggW9rPYH3YI7CDKZZfcG3AnFpPzQ1BIR/KZ1csYwmBzUXw3ErUTMZbbv9bXnZdGjIttIDylQF1uLpzYTtJhT73mvsBtvVehagubxTTMyvKWwLEWNAOUozs3E4FGl05bb9LkoDVT/BihCtlI3of5uI9F3qzzPDuNxzzwKgBByQTpS9cgPSV5kyLp7xwYmTUOZXV65s/41dGmUhrS+41ikkx1CGGW5zBnNg/1DuH9HfsZCgwuO+Xiw4CdZg5QNoDoRg9EyvsjJ/FY9P7iCecZ1G5lBTAfE0scTpUNodLbWAqOLKunUApFjjOn20J53FU25i1MfyKXDEmQNUD1hqlqe5k4zIgWhdgRiE+JTOKgDGlpTif6Soac4zKWL1SyHOTAAiZY8j5Pr9Gfs9OPIOif19UxAZRuwSRtXauvggq4v3GDTNhton65+jmWL5gdV9DpZmk3ZrCrINfAjHkoZi7vTHCjAmnr3knNHidRrHN9ZcfrpyFiPOPO9Cu8c6el9E5fEMfq9kLmY+xrr2Ma+InepyCvqRi8D4XtO6GXp/983thj7HqFB4M/OsSEyD406vRTwH4Azt8aRP1uuhxLpdNXcZ9NXhhIKQM/5KjMMRd3igtAPCdCRRbFnLlHl0YtZimmz25f1I3fD5k9WDiTtL2UopGrtsvJaQI34DHuKcxXViNZy48OSKsvHwRT+sFDRASsZSXzgWvf6kHo7CoTSgkeS7rQxNfDVDQrYcEqIH3yiYP6D+BbWJ2YC9IySRFVVUDyTKq1q1yz6z+5CcoqvHF9kxH6kHuDYjFx0+A+VeTHQGGY5QL6Guhc5gzQXuzCcEPwJMSgUbRJZeWE9GEHESpbP2dUSMU6RoO+JnyRjxNHrv2A8p9Z4YVd+BYVJvLCNt4mftkIUx7pcmZpDiv1Tt/eAMiZ0ZL1aCIFeKIv+wEHUzHaCL84jooCQDWuscR/8YjzQDp+rr2Fm4O7ObyhI3eUsz2zzgG0yHK7QAptsVRwATQKUmg/paHxe5BTT9nF3q1E0YPITSzSQFj7vA5Jl6WWOtFmqqIArbSkZeJ1n28CxeDxdqPgIWYbcVof8rLx8+RZMvIvzZ6yaJqGXL4487LFmzfEtzo3cHwuPWM3hJHyJT5vtNxSGVlMoo48sIh5c2Qphk8zboRnLfARgeJDULBzopKlNEfUKookaqpQDSLPlnUVNHWoW2KBj6RnF1JO6WBfW06dtGtpbjn5O6Nl0HVMDTlockF5+Ms+DNZoP64CH58FjkSLp4wLT8/lMwh/AmqtNfOt1zZ5BHaIkJMXsDjM+lEYE4ie1hfrWPXqgBdZN5Q/1Ha0m/exvRwHBLM8zeahWb2KWg4vdBl0PeY4v6R8X2F06XYPVCNIypSpmqVAW9F9OvGV4LcvoYiu9SMDUtXRJAW40LtwinLqkUsr+fBzVBxY0ZThUxlfIvxc5xf3Ac3C1EUDHr7kr8rlmIwKB7kxYRZGNd7U7Q9mqekDzPbvV6qAjeWv8FWtreeANpdHJfLtfDB/fflrcYSYNPHE8eV1xr75/b89LYY1/CHq2veg5NJNhdcLgund7eR1AkwEU31y0WVaphk3UiHpZQFFX2rF94WQ9VRkdtRQSRGfUyJMbWVbTksprMGfr/x7kmGigLzCwtnsXRuGskkV6paBIVRBz86lI8nJy36lsVs+3ZvX0ptYGGh9pFTsNlSnvRMrFxmBT2ZwcHUJyASjmbkVkCiKSjSA9exQIiqGdc1zeQMx8oyR2RyJ2++HqYBhjn2Lm4NVudgekWst6aGrxWuDqufhI1usfmLFnMgOi+B82+KbzxDtv8qX9UJ8Wt2F09nRCSl7rOLZVLSaJlLcWJglma7MCyWDauS4CVxRQunOLGvJ/JB7QxTqcBKQtIi+fJ2fYCoFS4MENSS9KFAyVEqqYvW6NLdIH23ve6X3c73gWzmKS5qtWCsrNjVj0rV+Upf20nYSNEiOe7wBSK2NEZ3UvjTUPXhGEd6oZMhf2s9FefxE/weLrotOfzDDl/pMFj1ke0ELIxAVKWl5khjE8hSvPOxW2ueLrjl9EahKJsSj6puaqRmsX5lv84thWfyWH8M2fzWoqNSsmpJxgfyOmkc/jZV+zwHrLJl/NdgUcPQFTcdkUHV38ZB65eZEN+cCO7mSS95FZpQr3Aw9hjkjpdmltNQbIa9rHqIioWSQ/xaxGuLAyrZX4Zf9um4xL6W0dFR9BxdprSrFpnhsbRu7dkxHUasNBIcAwOjOcMniEVBK06Y97ZeBJNCcJYWynCGFqct6Frekpscr68AVZ6spEymdqHfoMlIQNXZG8cQUFZyEzvDA9Mg9TXVr7MjGsoV1bYH3K7LG5W1+YK+Ip9a3PsTnEV/DEyoeDUgfzYbd/WL3HE5IchEGvIfAJMwaakzjC/vBrm4ysa5K6WUNeBUqlD0img2RhbU/xE3PLLVdVduaKzycV/HqjU0A+l4OR0PgANnb1unSL6X/o8aPhxvfA50oyhCiSFk9nQdHXhIZXjfN8HZPA5pqE8cQSbEbrgouEREmfq8V2Z4n9yjRFz1JCgJ8s7XZdPZJ+fgWt5ZHBVPk6hYs/uKrxK4ZB6A6PMH5e4YG3dpx/mq1S163rM430/se4UfBgQPf+dLnNmBYmuGTlQowmUKdJhJ5SilpL5Ed6b/tZ1voFpdzZw1fK7HgcjdolsnO+YHiU4GmpCcRNNmPstK7qtkW7s5/YVnMOeCEMOnDGZSUa8ng1ZfYvBJuFFNgcHMorwgOnq3BPUgtcA7k7sGuLmph5r00oC2A+p5cdTCpHP1Y3LRaker38YQMJsuKxl7XVktYimpPkTzI5/jiuG0gjO98ufFxh+fvZzRCIgHx0DXJF92HcisxDljwBdM9OtiSMLepN/T8nEoO/yc2fp1WoIDTF8vk9U/u2x5d6ymRwJMz9mrnJb4sa77LWiRzWpsVii/izwIBgaWYSet1oo6h1okbxkjoTHEv/iISVGePud/W2egL45ZktU1ibmM7nEbT26t2/fdxLHP9AFT9SVpUaGtgdOf14UbOrqSxsDlOKfdIqVCmzOQ7Ba0mByf4Jtd2gb5VO7G2Du6rDWbBzyydPyotkSorxLUWoSMbG9pIm6FXedowayzPOBLgQbDFndg9iCqlXQvIJIYdFGKp8Vn++RyHokfgDz0Tyo9R0+RT4aR8OhyKDw+cEOODeF0S8Iz/Ml3fT+ZCk8sIM6Kfv0qiMFhWxKH58JPpj7MMGu1l6Edd/S5NlQtDjFpuunGO2NrEQUnbBUWEZU4PBrc0XKX3WS+bVSrwWbwnTmpcleXM2OG7+w/89NlO0+ZFY4VT2Pt7RCymsAwridrvRutEz5Z4zbg1y6j58hpr0Ga2LDRC4/TNOpwa4ri1ElXTujPyNXanOrRbsu8+BxIE48RCrFA32DJxLUah5FrEFMpQBsSUzJHMQLNVCwqJ0dOLy1yyt/TR2K5dchHgRx9VAnyP7XFtxKEx16Vpegij8KUbkwJi/64jMjdc9C/qH6U5UaymaW/FGYl9jNUSesqKmlibvyS0BXREVHTTkK7XH//0ffcY83qnWFrmHrIiiLaYvfiP2fr7PW4La7fTSMwDEUbLPnLHMLhzkmh9D91o0oyaIkvgODnesY16HHVpkVb0+d/r/nzVtzj/wAQVf5E6C3IaWDc8NVHOGoiUVI3GrspiOkFUKng3YYEM87WP42/3nO7jSFe5E7xdGsS0nmSi4a1gc0V/F/FM6rrcYscXMWry6IKl9U+WINSdAvqPNYkAo3PJv/w3KUidUGX/nSgiltPYf1dHzOk5jMfYCy5wFf6MBjZ7twQraXnTRDw5qZjVbvs+s5rH7v1Lv62FqAC7N57+tSb1O659m0U2U5KjX0ec+8KTtIq1F/YOeAgqdUr1NxgEaaFZ7Y4bijDQdp++TQvlvwn7fOeJXo3meIZRhDq2JVo6Jh9ww0KiQ/4xUZsKg2LKHGYgxR93jrhv7RbnllzSgiDZKSCGDxPyCkc8Oa/kAq8SdrUujKAjlvgGQ6HnKc//hb/xFdaVI60BUPnRynJ93ETf/F5di+0LEAS5tnRHaSlojzCw3k0C9RzmevSgnm7VUvxM2knsHo1YRDBal5W7Zh3Am3IekN00QQNicC8g1z0gwSYmO1Cb+yN08hHqW78cDbh0HflmVWSb6kTgR7edcMoix2XnUI9YH13v+j5nhsVwxBvxBdbnDM8xVggs/39OrKBP9SoCh4wV+avPrOGbTgbal/pOjFDkOMNh+Co6huYWS/fDBcrBMt8gL5YsZxsmesZr4KOp+X2Nt7Zf/fdFZUvdyoZvERwS0kXn4IslW3H29N8K1QdN9uZIOKrNL+RP2RdbaIvwjsuzeSe7CdgoeOI2vNqgSfIt+//TJoW4wGuUnxdVREACtTZSG2V1Mh2rwKH/jPShtO1fFDIZM9xjlyj123d8+t7fU7yJw+p+kklTZN1JIPlzYDul00YMAeYqnKswa/fEGDrfKmiUxJcUv1+YZEI81USoEBLTTE7Z/eXvqHi0m5Hry5N2H4cPmvrVfMqS7Kyum4VWliKAwZcHyO09E0VS511UXC4BXqcjIyOagSwL90mrYKDSuu6W98ERk9h+uUNSAh8A3SxyUMhNQerMLwhwnu83iSuI4GhUjYBTQnTLsOD/Qty+WcFLPKMlg/y2JmRdQNIZtRFVC57uXlIQb5AdB/rMshZ1GYtf3Vs7uOnVUgvlPSSXIbFK4ang/gP6sJ68E/qToRG4irPrMD9H7MCRA0Q4n+GQfb7kraEE4DfoR0Oc3/bKjMuTZ3Pfpy7eMmhVJBPgwnwBxINZ5FuxU5p5WBMOPp2HaGoYZQQX25dSoeD6Ka4F0Xl/o+UVEux7mMpPSvUZ6D94j2BG9KWnAQegV2MMdIy8hNtjdOlvtI7WVfoL2egZVHsdpLdXy8v50Cv8HuXK7K3YdFHZ6tfyQ7D1eBa98Gah+kYvEM3oUMs0NS1k1p2XWlxxx/JYOA8HfvhVTRtZcAOOS5VBXusU6AXDDNMLWKjA6PAH63LuDWHOQwwIdao4+k6GxumydOuu5KvmlqqNkcwFB6Of9PPl0FyH0k/4JbrxpbXhRc2TAdfaiZPji0Q7vQLxLA7YMh3JqhHSW4tD47zInI29DLpKNLNT7SV4YP5Xt3bKskbLjLVssj7tJg4gT9rZ/qzm7NNsKtvIpjsOn+PUY8ZhivRIWMX+MjPWtxv1MwUmJJFi1z4+GYeqGNaplzWRigXvCxtB2Ow1YSFXcPJsFF2SIC7isQVJitTa+/lNzg78xfdM8MKVGJ87OLVrYpsZBQ7xwKsSN8KunQswbXYf8pU1KkBR8wXCH6/9L48YwSZpft+PTnS9zP+u3LDXh48jm1lEkjps2Eo4FXnP/+zPikUjU3EcY5AdL2wlfd58woRdrkBCZ7pO00hn+UT8F57yjY7BWflfaIUOpib2X1bDdlVwEfmLhxoBoH68rPSMgLddihJxdmC8nWcPXLyKoEILk2SuNNsAmyYxK2wWkbWY5O04fslIwFfi3DlKH6RsFeCyVhKoXVl3H5HfCqZaDpjEiDmOvO4HRngcMs9NaeZ9jckpLbMV+fiUM2dRO0j5UhwhGlr0DPIb5Uz1o8R/SJLbmgWXqg6egA0dgLefOrOvOA2DCesBzwu4bw3DpCLN4eaIl2svVZwYxH/SMK3fFjxA2OyekOsQ/CrH1xNowpWyIv25gYEQZNnx8Cz0jAX59k8ONubITtruhUVrjuGReGsk4T7pZc2CXWe+lyH3a/axSW7UgYrGVuDbyWUWRiZlCAkdKSNls2Im4gvXf/ykHjf47ubehGwxg+eJnjUKmAOmCh682nclXbYwdRle7UpJaYFbBNJPsplMGWtbtyvZ1GUbbEi6Mf+wbiID8BeceJxPpirhPM4+aJcA9Zh+mhwW0SINGTxdckT2Q+PgmQuTDCyNaa7UxEHNZWw5N7McWl7ZLLDirbq8PgV8kwVj1XbvB80SOW7Qw39I0tCNROPEtwcBcn0g7V4dL0i05bqYWIBVz9W0rXa0oMaDfzhPTWA4BaJpURmBLqQXrnLPfTLbCEKYkhXeUXwQLRfqmvMSJuTIG4zHQH3j3vXvRRs2fVSmIpMdFnisDic7kB4NW/YtTJ+Buf17J/qav2fChf5/z1YLfILoVgaKEAjZ4zow2vkJcUGWBzDufbjAt7EBDB8hsB68K9pR8f58xPZ4q/tPimOMbhsYK8TXHsifR0pRYLXzjtBZYf6ZgDQ7WezCDZZ13itZfWq7ujeKWggvCPOap0qBP2Tg7YdV1K1shEQrK5Eh8eQt4DudQsbHOkmRipp+qrobxGV23151FtcuGrvM2KJL5OYswNEv48IJm61rYXN0i4JGg9bFcRCRpsP7LEYLkQKWSa2TdNgpeI1vQRcmhHef5XWDSOfE6QsjsbZRInBP8X9XFWdfQomwAVz1tNdrIMZvyddMn5TDzFkOu/h9/y5kIodqPhES6y/DdzQYxCIUWfahjZFY4Bgz6gO+Jp83YIxYhD0epbBSKWuldIPzyDsW8CCJMvPpmtZi8edXxVmLGOzjY24aKoq7eWVaT1ro05Fje9PQd1TJrKzM1xtAJM9oj3rgAgUQCnHnVmIxKDIXQNl/JAfERc+txfBRddBndoNVMovW7tWr/13x45l9kt27IPr9leNPI+benm3n1lze1ZOSsRF62huQBDKUDtFJMwdWw8RWS/8V/yMhxxpDsffigOstURHDwTkXCs+hE6oQLAnrgbt7oPiA3ReVXIAVkRIsvHOM5SU1IiimcxRzNMK0xet2axK9UcOso7NQA0JPZoFkBy3wZ0Jvjk3ivWCYn77+Xzst1qYJxMr3AOlHeDGIO6KT3w8MiB9CuS/diqRnRIwSPZZ7hvIB5YKA8aVqtsIFMZugWRrBlpzK48BF90TSuTjN4iQoK5rdoaXd4ES7CEtriYsxMizYIshOmFk45855cXboxyyIa75yq59Iz23rY729zZCNlNPRXVX8I1s2MlEaM98I/lIXJBFnuRxmfmf2UE7bTpettOzIp6cnfB5QFGbYtsujr2/wGNahObIDh9ZJhH3RXec+cubSYxQdKPWwdibnjSt40Og+MpuijSHvmd2hEj9/GAmazbwHHEgFR0VBVI/jA7uCmBARIpEQ7nhf1V4LMwQSenfmj2+GpEHoGQsM1YhYQ6R0N8xZOgn3UeTeYrDnba6arv/C+k1j4PfXdXAQ/Ocr/bwIh96Y9+L81Tj9Fk3lkJQh0WoBp8rfQ1dWfKYH41Y0qblmTTDj3LtF8tVwiZS9gB4VihVkJhHC47WCX9QAPwXoMKURqzYQYZ0+VETRw8OJRB//8gl05smGd4e3IJXCYacavZsRekAVCcz+A8JGW8neFua9Hb8uOXjwNTcmuHZQdCbxcd80Md2K1iX969JvCIvjjUiUzyMOievQv1UrIqIbY3Jsx7vOnLiMzipxb4LkEM+CfzC8cEWUom+JkeKtborAHd+EHDQuhRUDzHs+jKrl+b0HlqjlQe2sA3+feoy/h+AzkG1KTbohbpX7aZqdzVUpfORuq0U4aybBG8CHdQA8jLx2pFcIgGadXt9Y7JH+1hQl3kgNpH7QGRFd8v+TsxcI4xbN9pw='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 1124, 'end_index': 1429, 'uri': 'https://github.com/3leeilwhan/SWP1_002', 'title': '', 'license_': ''}, {'start_index': 9672, 'end_index': 9963, 'uri': 'https://github.com/3leeilwhan/SWP1_002', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 17459, 'candidates_token_count': 146, 'total_token_count': 22271, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17459}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 146}], 'thoughts_token_count': 4666, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -4.940958937553511, 'model_name': 'gemini-2.5-pro'} id='run--d8733a26-5a6d-42cf-a027-bbc77c8566b5-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'from sympy import I\n\ndef test_issue_15872():\n    """\n    Test for issue #15872.\n\n    is_zero was incorrectly returning False for a complex expression\n    that is equal to zero.\n    """\n    e = -2*I + (1 + I)**2\n    # simplify(e) is 0, so e.is_zero should not be False.\n    # It should be True, or None if it can\'t be determined.\n    assert e.is_zero is not False\n', 'relative_path': 'sympy/sympy/core/tests/test_complex_arithmetic.py'}, 'id': '439238d1-c623-4e45-8d60-123578783792', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17459, 'output_tokens': 146, 'total_tokens': 22271, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 4666}}
2025-10-05 17:17:31,383 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='sympy/sympy/core/tests/test_complex_arithmetic.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17631, 'candidates_token_count': 17, 'total_token_count': 17648, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22295}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 17}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0059542371069683745, 'model_name': 'gemini-2.5-pro'} id='run--e66ee3f2-c952-4d34-8711-10d24d339e47-0' usage_metadata={'input_tokens': 17631, 'output_tokens': 17, 'total_tokens': 17648, 'input_token_details': {'cache_read': 0}}
2025-10-05 17:17:31,473 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/sympy/sympy/core/tests/test_complex_arithmetic.py b/sympy/sympy/core/tests/test_complex_arithmetic.py
new file mode 100644
index 0000000000..31e89f79b3
--- /dev/null
+++ b/sympy/sympy/core/tests/test_complex_arithmetic.py
@@ -0,0 +1,13 @@
+from sympy import I
+
+def test_issue_15872():
+    """
+    Test for issue #15872.
+
+    is_zero was incorrectly returning False for a complex expression
+    that is equal to zero.
+    """
+    e = -2*I + (1 + I)**2
+    # simplify(e) is 0, so e.is_zero should not be False.
+    # It should be True, or None if it can't be determined.
+    assert e.is_zero is not False

2025-10-05 17:17:31,474 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-05 17:17:31,486 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-05 17:17:31,486 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-05 17:17:31,720 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:17:31,720 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at b506169ad7 Merge pull request #15712 from jmig5776/fix_matrixpowerfailure

2025-10-05 17:17:31,720 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-05 17:17:31,821 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:17:31,821 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 17:17:31,821 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-05 17:17:31,821 - thread-139660780025408.app.docker.base_container - INFO - Creating directory sympy/sympy/core/tests in the container
2025-10-05 17:17:31,821 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p sympy/sympy/core/tests
2025-10-05 17:17:31,922 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:17:31,922 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
[A(testbed) root@iZd7o0ltqvddf3pkxkvmq9Z:/testbed# mkdir -p sympy/sympy/core/test[Ks


2025-10-05 17:17:31,922 - thread-139660780025408.app.docker.base_container - INFO - Updating sympy/sympy/core/tests/test_complex_arithmetic.py in the container
2025-10-05 17:17:31,924 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-05 17:17:34,297 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest sympy/sympy/core/tests/test_complex_arithmetic.py"}'}, '__gemini_function_call_thought_signatures__': {'d690ad63-224d-4e0e-bf08-f246050bf1b0': 'CvoEAR/MhbbCpM4YYvWeR195FgOyAh/XLolF1VbJgEJ+mvu2IugQjNCNOL/YFzqZhPpkCl7qlrzMXDGp/YfVoMvQpSYiByTr1fyWTg9HFN7Qq35bifFsCeWVam8Q4L4XufFyezkul9Y1CtlHPSqHxvvDjd7W275Z/WQHBiMW425GdLy3rq0h0+h/1R+B0ZquAZOrDjEq3CRr1BWcp5ryPw9biVZWkfej44KtzVytuT5eoHwxmpMVGxpkd+mlFcl1mMWQOVG/M4RvbzhZsnQgZF4vlyCBlpltoor85wG3mMxKOxCVY8GkzZ44teMoxRHgmaBKCwXo8tG6YX02Zb1acNaJqZG/8Fpi7byhUKTlx9EKRznl4Ug11gGGolnE7p/BbWAtbtXerKrH6rF+pIocoOZnQ9rDOxskLM0hGIApra1uv4/yvonEPUbP6i2D0nZWUEv470uj+Y6OlBg4Ehxz0Dc0tz4d5I4T7gF+AP5ydewK5U0tbmQ9EuRK4uejEQ8Gq0nlna634ryLOOnF6w8Zizt5KYtNR9ZqQBXt4RhoGLC/EF+M1AB4GTTf1xHxJPo6bPZ8gLeOouiM7t/Snw/BTqjI7WhB3G6km8AtLrYmbaTLkcKllK3dAhn0z+9HKiiVTrTh8wJcwJjRPYMVm3JexH3Y54cQuKi2PQ0Y8P2qvUeYKeN5dFnoTegz4qdaLI+iH1hjcRmuBgbbxWrSwLuMQ32FXF0l5gX1U5ipYgHhaq6m+VQYd+0ZL1q0vJE+8ApviPlrzHTY56awhGuMGb9gkH2/Zw3nvT7v++RBmr3deEMCh1DQbMkynoPcEIrYNTLpjkDnSClthCpAD7Qunw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 388, 'candidates_token_count': 21, 'total_token_count': 568, 'prompt_tokens_details': [{'modality': 1, 'token_count': 388}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 21}], 'thoughts_token_count': 159, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.46312518346877324, 'model_name': 'gemini-2.5-pro'} id='run--178625cb-21f9-440c-884d-a09e6651049b-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest sympy/sympy/core/tests/test_complex_arithmetic.py'}, 'id': 'd690ad63-224d-4e0e-bf08-f246050bf1b0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 388, 'output_tokens': 21, 'total_tokens': 568, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 159}}
2025-10-05 17:17:34,299 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest sympy/sympy/core/tests/test_complex_arithmetic.py
2025-10-05 17:17:34,400 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 127
2025-10-05 17:17:34,400 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
pytest sympy/sympy/core/tests/te
est_complex_arithmetic.py

bash: pytest: command not found

2025-10-05 17:17:35,910 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install pytest"}'}, '__gemini_function_call_thought_signatures__': {'b84cb851-bf36-445a-9951-e26b8e8a003f': 'CqQCAR/Mhbb5SbSVaoDYKvXppKBD21iY0XSPkSfxcWJA8MxFx+uOxojZO8cM5K/+YXUN2DU7SRouSLLb+L3OD6Y7nPpCRpij0eNkuTRFARjLJ3nlXPnJ3sjPIcai4yMjDWbvNe/FhS0G9e2aodoUGiZxyZhxlhqB06TNpURKXwGmo6/2AXIxr3tydCFec7Ax0+95iC6j1bwYzuc3kirHCHbuY3GxBuLei7uhvkw5bDU9AYQRQk1d2UnRAcNWzUN3WiXoLvqguxqPBCcLL6ICQwAX8Wu2a1fVah3fn7QQM0EJiMiG197Vga3KdyjqfBiwvfRZGiGjBXhm0OtzCJ5FqgAFKIHcSiwBPnfVg8mCAlibzvkm7fg7HQAKLuNyAz8tVe/gmLFYnw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 441, 'candidates_token_count': 7, 'total_token_count': 517, 'prompt_tokens_details': [{'modality': 1, 'token_count': 598}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 69, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5188243048531669, 'model_name': 'gemini-2.5-pro'} id='run--561cf31d-94ae-4a91-88e1-486dec35e182-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install pytest'}, 'id': 'b84cb851-bf36-445a-9951-e26b8e8a003f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 441, 'output_tokens': 7, 'total_tokens': 517, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 69}}
2025-10-05 17:17:35,912 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pip install pytest
2025-10-05 17:17:37,149 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 17:17:37,149 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Collecting pytest
  Downloading pytest-8.4.2-py3-none-any.whl.metadata (7.7 kB)
Collecting exceptiongroup>=1 (from pytest)
  Downloading exceptiongroup-1.3.0-py3-none-any.whl.metadata (6.7 kB)
Collecting iniconfig>=1 (from pytest)
  Downloading iniconfig-2.1.0-py3-none-any.whl.metadata (2.7 kB)
Collecting packaging>=20 (from pytest)
  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Collecting pluggy<2,>=1.5 (from pytest)
  Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
Collecting pygments>=2.7.2 (from pytest)
  Downloading pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
Collecting tomli>=1 (from pytest)
  Downloading tomli-2.2.1-py3-none-any.whl.metadata (10 kB)
Collecting typing-extensions>=4.6.0 (from exceptiongroup>=1->pytest)
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Downloading pytest-8.4.2-py3-none-any.whl (365 kB)
Downloading exceptiongroup-1.3.0-py3-none-any.whl (16 kB)
Downloading iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
Downloading packaging-25.0-py3-none-any.whl (66 kB)
Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Downloading pygments-2.19.2-py3-none-any.whl (1.2 MB)
[?25l   [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m0.0/1.2 MB[0m [31m?[0m eta [36m-:--:--[0m
[2K   [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m1.2/1.2 MB[0m [31m95.0 MB/s[0m eta [36m0:00:00[0m
[?25hDownloading tomli-2.2.1-py3-none-any.whl (14 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Installing collected packages: typing-extensions, tomli, pygments, pluggy, packaging, iniconfig, exceptiongroup, pytest
Successfully installed exceptiongroup-1.3.0 iniconfig-2.1.0 packaging-25.0 pluggy-1.6.0 pygments-2.19.2 pytest-8.4.2 tomli-2.2.1 typing-extensions-4.15.0
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-05 17:17:38,449 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest sympy/sympy/core/tests/test_complex_arithmetic.py"}'}, '__gemini_function_call_thought_signatures__': {'5e0cd8a8-6100-496b-b48f-a827655d8c71': 'CmcBH8yFtuZxPj+w4P/Cum256fNP+LiawEl6RjoXRbIHA9/Os+Sxj4viPjwwVCobmHSvoRbyg4z3kgN/YG+O+/IkLr4amUJ/iAUZ9x0Lpa5G2piIHWNpB1PIqVWhtzFQuZlv7fZanYx3'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1314, 'candidates_token_count': 21, 'total_token_count': 1355, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1538}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 21}], 'thoughts_token_count': 20, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.03505907172248477, 'model_name': 'gemini-2.5-pro'} id='run--e75a0d7a-dad6-4b4f-ba13-7103a6fe9474-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest sympy/sympy/core/tests/test_complex_arithmetic.py'}, 'id': '5e0cd8a8-6100-496b-b48f-a827655d8c71', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1314, 'output_tokens': 21, 'total_tokens': 1355, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 20}}
2025-10-05 17:17:38,450 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest sympy/sympy/core/tests/test_complex_arithmetic.py
2025-10-05 17:17:39,599 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 17:17:39,600 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
pytest sympy/sympy/core/tests/te
est_complex_arithmetic.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-8.4.2, pluggy-1.6.0
architecture: 64-bit
cache:        yes
ground types: python 

rootdir: /testbed
configfile: pytest.ini
[1mcollecting ... [0m[1m
collected 1 item                                                               [0m

sympy/sympy/core/tests/test_complex_arithmetic.py [31mF[0m[31m                      [100%][0m

=================================== FAILURES ===================================
[31m[1m_______________________________ test_issue_15872 _______________________________[0m

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mtest_issue_15872[39;49;00m():[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Test for issue #15872.[39;49;00m
    [33m[39;49;00m
    [33m    is_zero was incorrectly returning False for a complex expression[39;49;00m
    [33m    that is equal to zero.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        e = -[94m2[39;49;00m*I + ([94m1[39;49;00m + I)**[94m2[39;49;00m[90m[39;49;00m
        [90m# simplify(e) is 0, so e.is_zero should not be False.[39;49;00m[90m[39;49;00m
        [90m# It should be True, or None if it can't be determined.[39;49;00m[90m[39;49;00m
>       [94massert[39;49;00m e.is_zero [95mis[39;49;00m [95mnot[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
[1m[31mE       assert False is not False[0m
[1m[31mE        +  where False = -2*I + (1 + I)**2.is_zero[0m

[1m[31msympy/sympy/core/tests/test_complex_arithmetic.py[0m:13: AssertionError
[33m=============================== warnings summary ===============================[0m
sympy/solvers/diophantine.py:3188
  /testbed/sympy/solvers/diophantine.py:3188: SyntaxWarning: "is" with a literal. Did you mean "=="?
    if feasible is 1:  # it's prime and k == 2

sympy/plotting/plot.py:520
  /testbed/sympy/plotting/plot.py:520: SyntaxWarning: "is" with a literal. Did you mean "=="?
    if self.xscale is 'log':

sympy/plotting/plot.py:540
  /testbed/sympy/plotting/plot.py:540: SyntaxWarning: "is" with a literal. Did you mean "=="?
    if self.xscale is 'log':

sympy/plotting/plot.py:553
  /testbed/sympy/plotting/plot.py:553: SyntaxWarning: "is" with a literal. Did you mean "=="?
    if self.xscale is 'log':

sympy/plotting/plot.py:560
  /testbed/sympy/plotting/plot.py:560: SyntaxWarning: "is" with a literal. Did you mean "=="?
    if self.xscale is 'log':

../opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/config/__init__.py:1474
  /opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/config/__init__.py:1474: PytestConfigWarning: Unknown config option: doctestplus
  
    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
[31m[1m                                DO *NOT* COMMIT!                                [0m
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m sympy/sympy/core/tests/test_complex_arithmetic.py::[1mtest_issue_15872[0m - assert False is not False
[31m======================== [31m[1m1 failed[0m, [33m6 warnings[0m[31m in 0.08s[0m[31m =========================[0m

2025-10-05 17:17:41,456 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='I have executed the test file `sympy/sympy/core/tests/test_complex_arithmetic.py` as you requested. Here is the output:\n\n' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest sympy/sympy/core/tests/test_complex_arithmetic.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2804, 'candidates_token_count': 56, 'total_token_count': 2882, 'cached_content_token_count': 1551, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3046}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1551}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 56}], 'thoughts_token_count': 22}, 'finish_reason': 'STOP', 'avg_logprobs': -0.14927734647478377, 'model_name': 'gemini-2.5-pro'} id='run--3bf2927d-deaf-4655-8d2c-3de847d9890f-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest sympy/sympy/core/tests/test_complex_arithmetic.py'}, 'id': 'aa7bcc2b-14fe-400b-b303-b2ad3e5bd7db', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2804, 'output_tokens': 56, 'total_tokens': 2882, 'input_token_details': {'cache_read': 1551}, 'output_token_details': {'reasoning': 22}}
2025-10-05 17:17:41,458 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest sympy/sympy/core/tests/test_complex_arithmetic.py
2025-10-05 17:17:42,014 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 17:17:42,014 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
pytest sympy/sympy/core/tests/te
est_complex_arithmetic.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-8.4.2, pluggy-1.6.0
architecture: 64-bit
cache:        yes
ground types: python 

rootdir: /testbed
configfile: pytest.ini
[1mcollecting ... [0m[1m
collected 1 item                                                               [0m

sympy/sympy/core/tests/test_complex_arithmetic.py [31mF[0m[31m                      [100%][0m

=================================== FAILURES ===================================
[31m[1m_______________________________ test_issue_15872 _______________________________[0m

    [0m[94mdef[39;49;00m[90m [39;49;00m[92mtest_issue_15872[39;49;00m():[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Test for issue #15872.[39;49;00m
    [33m[39;49;00m
    [33m    is_zero was incorrectly returning False for a complex expression[39;49;00m
    [33m    that is equal to zero.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        e = -[94m2[39;49;00m*I + ([94m1[39;49;00m + I)**[94m2[39;49;00m[90m[39;49;00m
        [90m# simplify(e) is 0, so e.is_zero should not be False.[39;49;00m[90m[39;49;00m
        [90m# It should be True, or None if it can't be determined.[39;49;00m[90m[39;49;00m
>       [94massert[39;49;00m e.is_zero [95mis[39;49;00m [95mnot[39;49;00m [94mFalse[39;49;00m[90m[39;49;00m
[1m[31mE       assert False is not False[0m
[1m[31mE        +  where False = -2*I + (1 + I)**2.is_zero[0m

[1m[31msympy/sympy/core/tests/test_complex_arithmetic.py[0m:13: AssertionError
[33m=============================== warnings summary ===============================[0m
../opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/config/__init__.py:1474
  /opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/config/__init__.py:1474: PytestConfigWarning: Unknown config option: doctestplus
  
    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
[31m[1m                                DO *NOT* COMMIT!                                [0m
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m sympy/sympy/core/tests/test_complex_arithmetic.py::[1mtest_issue_15872[0m - assert False is not False
[31m========================= [31m[1m1 failed[0m, [33m1 warning[0m[31m in 0.08s[0m[31m =========================[0m

2025-10-05 17:17:43,116 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={} response_metadata={'usage_metadata': {'prompt_token_count': 4018, 'total_token_count': 4018, 'cached_content_token_count': 1472, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4018}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1472}], 'candidates_token_count': 0, 'thoughts_token_count': 0, 'candidates_tokens_details': []}, 'model_name': 'gemini-2.5-pro'} id='run--dbd6c727-5f11-43b2-a8b7-d3cb65f6b7e9-0' usage_metadata={'input_tokens': 4018, 'output_tokens': 0, 'total_tokens': 4018, 'input_token_details': {'cache_read': 1472}}
2025-10-05 17:17:51,076 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='FAILED sympy/sympy/core/tests/test_complex_arithmetic.py::test_issue_15872 - assert False is not False' reproduced_bug_commands=['pytest sympy/sympy/core/tests/test_complex_arithmetic.py']
2025-10-05 17:17:51,077 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-05 17:17:51,077 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-05 17:17:51,177 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
