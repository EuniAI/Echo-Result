2025-10-05 12:22:48,990 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpkgll8ai6/django
2025-10-05 12:22:48,991 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-05 12:22:48,991 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.django_1776_django-16569:v1
2025-10-05 12:23:14,826 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_f03bbd74cf
2025-10-05 12:23:14,831 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_f03bbd74cf
2025-10-05 12:23:15,857 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-05 12:23:15,998 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-05 12:23:15,998 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-05 12:23:16,122 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:23:16,122 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 12:23:16,122 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-05 12:23:16,245 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:23:16,245 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 12:23:16,245 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-05 12:23:18,905 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:23:18,906 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- \ done
[?25h  Preparing editable metadata (pyproject.toml) ... [?25l- \ done
[?25hRequirement already satisfied: asgiref>=3.6.0 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from Django==5.0.dev20230220045425) (3.8.1)
Requirement already satisfied: sqlparse>=0.2.2 in /opt/miniconda3/envs/testbed/lib/python3.11/site-packages (from Django==5.0.dev20230220045425) (0.5.1)
Building wheels for collected packages: Django
  Building editable for Django (pyproject.toml) ... [?25l- \ | done
[?25h  Created wheel for Django: filename=django-5.0.dev20230220045425-0.editable-py3-none-any.whl size=27429 sha256=4337140ce7e669adea3cf877b7899c04e66d2be78f91ba6973fd62bbde6b7811
  Stored in directory: /tmp/pip-ephem-wheel-cache-vyiezbfq/wheels/49/5f/4f/01b7d31ea6ddac9643da788242d33e5fd3467d95d17b032c6b
Successfully built Django
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 5.0.dev20230220045425
    Uninstalling Django-5.0.dev20230220045425:
      Successfully uninstalled Django-5.0.dev20230220045425
Successfully installed Django-5.0.dev20230220045425
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-05 12:23:18,965 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
Formsets' add_fields() method fails in some circumstances if the argument index is None.

Issue description: 
Description
	
Formsets' add_fields() method fails in some circumstances if the argument index is None.
When a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: '<' not supported between instances of 'NoneType' and 'int'. 
Code example:
MyFormSet = forms.formset_factory(
	form=MyForm,
	can_delete=True,
	can_delete_extra=False,
)
my_formset = MyFormSet(
	initial=None,
)
print(my_formset.empty_form)
The reason this happens is that in in line 493 of [django.forms.formsets](â€‹https://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:
if self.can_delete and (self.can_delete_extra or index < initial_form_count):
Checking for index not None should fix the issue:
if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
How to Reproduce
A self-contained example to reproduce this bug is as follows:
#!/usr/bin/env python3
import os
import django
from django import forms
class MyForm(forms.Form):
	my_field = forms.CharField()
if __name__ == "__main__":
	settings_file = os.path.splitext(os.path.basename(__file__))[0]
	django.conf.settings.configure(
		DEBUG=True,
		MIDDLEWARE_CLASSES=[],
		ROOT_URLCONF=settings_file,
	)
	django.setup()
	MyFormSet = forms.formset_factory(
		form=MyForm,
		can_delete=True,
		can_delete_extra=False,
	)
	my_formset = MyFormSet(
		initial=None,
	)
	print(my_formset.empty_form)

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-05 12:23:18,965 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-05 12:23:18,966 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nFormsets\' add_fields() method fails in some circumstances if the argument index is None.\n\nIssue description: \nDescription\n\t\nFormsets\' add_fields() method fails in some circumstances if the argument index is None.\nWhen a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: \'<\' not supported between instances of \'NoneType\' and \'int\'. \nCode example:\nMyFormSet = forms.formset_factory(\n\tform=MyForm,\n\tcan_delete=True,\n\tcan_delete_extra=False,\n)\nmy_formset = MyFormSet(\n\tinitial=None,\n)\nprint(my_formset.empty_form)\nThe reason this happens is that in in line 493 of [django.forms.formsets](\u200bhttps://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:\nif self.can_delete and (self.can_delete_extra or index < initial_form_count):\nChecking for index not None should fix the issue:\nif self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):\nHow to Reproduce\nA self-contained example to reproduce this bug is as follows:\n#!/usr/bin/env python3\nimport os\nimport django\nfrom django import forms\nclass MyForm(forms.Form):\n\tmy_field = forms.CharField()\nif __name__ == "__main__":\n\tsettings_file = os.path.splitext(os.path.basename(__file__))[0]\n\tdjango.conf.settings.configure(\n\t\tDEBUG=True,\n\t\tMIDDLEWARE_CLASSES=[],\n\t\tROOT_URLCONF=settings_file,\n\t)\n\tdjango.setup()\n\tMyFormSet = forms.formset_factory(\n\t\tform=MyForm,\n\t\tcan_delete=True,\n\t\tcan_delete_extra=False,\n\t)\n\tmy_formset = MyFormSet(\n\t\tinitial=None,\n\t)\n\tprint(my_formset.empty_form)\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-05 12:23:29,534 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have identified that the bug is related to Django's formsets, specifically when using `can_delete=True` and `can_delete_extra=False`. I will now search for relevant test cases in `tests/forms_tests/tests/test_formsets.py` that cover similar functionality, focusing on formset creation, the `empty_form` property, and the `can_delete` attribute to find the most relevant examples." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 57801, 'candidates_token_count': 122, 'total_token_count': 58813, 'cached_content_token_count': 54269, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57801}], 'cache_tokens_details': [{'modality': 1, 'token_count': 54269}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 122}], 'thoughts_token_count': 890}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8498277507844518, 'model_name': 'gemini-2.5-pro'} id='run--aebfb616-ddff-48a7-ae9e-5e73fd0052ef-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py'}, 'id': 'f5c4f750-2dce-401a-8b0e-27eb45ef74a1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 57801, 'output_tokens': 122, 'total_tokens': 58813, 'input_token_details': {'cache_read': 54269}, 'output_token_details': {'reasoning': 890}}
2025-10-05 12:23:41,333 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have found that the bug is related to Django's formsets when `can_delete=True` and `can_delete_extra=False`. I have located the relevant test file at `tests/forms_tests/tests/test_formsets.py` and will now read its contents to identify the most relevant test cases that demonstrate similar functionality. This will help in understanding how the `empty_form` property and the `can_delete` attribute are intended to work." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py", "start_line": 1.0, "end_line": 1500.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 65903, 'candidates_token_count': 134, 'total_token_count': 66945, 'prompt_tokens_details': [{'modality': 1, 'token_count': 65903}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 134}], 'thoughts_token_count': 908, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.024806122281658, 'model_name': 'gemini-2.5-pro'} id='run--c61937c4-72c1-42d6-854c-48cd5d802aab-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'start_line': 1.0, 'end_line': 1500.0}, 'id': '869731ce-c00c-4a13-9e8d-69556979e7b1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 65903, 'output_tokens': 134, 'total_tokens': 66945, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 908}}
2025-10-05 12:24:40,482 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='Based on the issue description, the bug is related to Django\'s formsets, specifically when `can_delete=True` and `can_delete_extra=False`. I have located five relevant test cases in `tests/forms_tests/tests/test_formsets.py` that demonstrate similar functionality. These tests cover formset creation, the `empty_form` property, and the `can_delete` attribute, which are all relevant to the reported bug.\n\n<execute_bash>\nI have identified that the bug is related to Django\'s formsets, specifically when using `can_delete=True` and `can_delete_extra=False`. I will now search for relevant test cases in `tests/forms_tests/tests/test_formsets.py` that cover similar functionality, focusing on formset creation, the `empty_form` property, and the `can_delete` attribute to find the most relevant examples.\n</execute_bash>\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm,\n    CharField,\n    DateField,\n    FileField,\n    Form,\n    IntegerField,\n    SplitDateTimeField,\n    formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT,\n    MAX_NUM_FORM_COUNT,\n    MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT,\n    BaseFormSet,\n    ManagementForm,\n    all_valid,\n    formset_factory,\n)\nfrom django.forms.renderers import TemplatesSetting\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass Choice(Form):\n    choice = CharField()\n    votes = IntegerField()\n\n\nChoiceFormSet = formset_factory(Choice)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_disable_delete_extra_formset_forms(self):\n        ChoiceFormFormset = formset_factory(\n            form=Choice,\n            can_delete=True,\n            can_delete_extra=False,\n            extra=2,\n        )\n        formset = ChoiceFormFormset()\n        self.assertEqual(len(formset), 2)\n        self.assertNotIn("DELETE", formset.forms[0].fields)\n        self.assertNotIn("DELETE", formset.forms[1].fields)\n\n        formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])\n        self.assertEqual(len(formset), 3)\n        self.assertIn("DELETE", formset.forms[0].fields)\n        self.assertNotIn("DELETE", formset.forms[1].fields)\n        self.assertNotIn("DELETE", formset.forms[2].fields)\n\n        formset = ChoiceFormFormset(\n            data={\n                "form-0-choice": "Zero",\n                "form-0-votes": "0",\n                "form-0-DELETE": "on",\n                "form-1-choice": "One",\n                "form-1-votes": "1",\n                "form-2-choice": "",\n                "form-2-votes": "",\n                "form-TOTAL_FORMS": "3",\n                "form-INITIAL_FORMS": "1",\n            },\n            initial=[{"choice": "Zero", "votes": "1"}],\n        )\n        self.assertEqual(\n            formset.cleaned_data,\n            [\n                {"choice": "Zero", "votes": 0, "DELETE": True},\n                {"choice": "One", "votes": 1},\n                {},\n            ],\n        )\n```\n\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm,\n    CharField,\n    DateField,\n    FileField,\n    Form,\n    IntegerField,\n    SplitDateTimeField,\n    formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT,\n    MAX_NUM_FORM_COUNT,\n    MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT,\n    BaseFormSet,\n    ManagementForm,\n    all_valid,\n    formset_factory,\n)\nfrom django django.forms.renderers import TemplatesSetting\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass Choice(Form):\n    choice = CharField()\n    votes = IntegerField()\n\n\nChoiceFormSet = formset_factory(Choice)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_formset_with_deletion(self):\n        """\n        formset_factory\'s can_delete argument adds a boolean "delete" field to\n        each form. When that boolean field is True, the form will be in\n        formset.deleted_forms.\n        """\n        ChoiceFormSet = formset_factory(Choice, can_delete=True)\n        initial = [\n            {"choice": "Calexico", "votes": 100},\n            {"choice": "Fergie", "votes": 900},\n        ]\n        formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n        self.assertHTMLEqual(\n            "\\n".join(form.as_ul() for form in formset.forms),\n            \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n            "</li>"\n            \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n            \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n            \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n            "</li>"\n            \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n            \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n            \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n            \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n            \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\',\n        )\n        # To delete something, set that form\'s special delete field to \'on\'.\n        # Let\'s go ahead and delete Fergie.\n        data = {\n            "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n            "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n            "choices-MIN_NUM_FORMS": "0",  # min number of forms\n            "choices-MAX_NUM_FORMS": "0",  # max number of forms\n            "choices-0-choice": "Calexico",\n            "choices-0-votes": "100",\n            "choices-0-DELETE": "",\n            "choices-1-choice": "Fergie",\n            "choices-1-votes": "900",\n            "choices-1-DELETE": "on",\n            "choices-2-choice": "",\n            "choices-2-votes": "",\n            "choices-2-DELETE": "",\n        }\n        formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n        self.assertTrue(formset.is_valid())\n        self.assertEqual(\n            [form.cleaned_data for form in formset.forms],\n            [\n                {"votes": 100, "DELETE": False, "choice": "Calexico"},\n                {"votes": 900, "DELETE": True, "choice": "Fergie"},\n                {},\n            ],\n        )\n        self.assertEqual(\n            [form.cleaned_data for form in formset.deleted_forms],\n            [{"votes": 900, "DELETE": True, "choice": "Fergie"}],\n        )\n```\n\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm,\n    CharField,\n    DateField,\n    FileField,\n    Form,\n    IntegerField,\n    SplitDateTimeField,\n    formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT,\n    MAX_NUM_FORM_COUNT,\n    MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT,\n    BaseFormSet,\n    ManagementForm,\n    all_valid,\n    formset_factory,\n)\nfrom django.forms.renderers import TemplatesSetting\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass Choice(Form):\n    choice = CharField()\n    votes = IntegerField()\n\n\nChoiceFormSet = formset_factory(Choice)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_more_initial_data(self):\n        """\n        The extra argument works when the formset is pre-filled with initial\n        data.\n        """\n        initial = [{"choice": "Calexico", "votes": 100}]\n        ChoiceFormSet = formset_factory(Choice, extra=3)\n        formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n        self.assertHTMLEqual(\n            "\\n".join(form.as_ul() for form in formset.forms),\n            \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n            "</li>"\n            \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n            \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n            \'<li>Votes: <input type="number" name="choices-1-votes"></li>\'\n            \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n            \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n            \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n            \'<li>Votes: <input type="number" name="choices-3-votes"></li>\',\n        )\n        # Retrieving an empty form works. Tt shows up in the form list.\n        self.assertTrue(formset.empty_form.empty_permitted)\n        self.assertHTMLEqual(\n            formset.empty_form.as_ul(),\n            """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>\n<li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",\n        )\n```\n\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm,\n    CharField,\n    DateField,\n    FileField,\n    Form,\n    IntegerField,\n    SplitDateTimeField,\n    formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT,\n    MAX_NUM_FORM_COUNT,\n    MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT,\n    BaseFormSet,\n    ManagementForm,\n    all_valid,\n    formset_factory,\n)\nfrom django.forms.renderers import TemplatesSetting\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass CustomKwargForm(Form):\n    def __init__(self, *args, custom_kwarg, **kwargs):\n        self.custom_kwarg = custom_kwarg\n        super().__init__(*args, **kwargs)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_form_kwargs_empty_form(self):\n        FormSet = formset_factory(CustomKwargForm)\n        formset = FormSet(form_kwargs={"custom_kwarg": 1})\n        self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))\n        self.assertEqual(formset.empty_form.custom_kwarg, 1)\n```\n\n# File: tests/forms_tests/tests/test_formsets.py\n```python\nimport datetime\nfrom collections import Counter\nfrom unittest import mock\n\nfrom django.core.exceptions import ValidationError\nfrom django.forms import (\n    BaseForm,\n    CharField,\n    DateField,\n    FileField,\n    Form,\n    IntegerField,\n    SplitDateTimeField,\n    formsets,\n)\nfrom django.forms.formsets import (\n    INITIAL_FORM_COUNT,\n    MAX_NUM_FORM_COUNT,\n    MIN_NUM_FORM_COUNT,\n    TOTAL_FORM_COUNT,\n    BaseFormSet,\n    ManagementForm,\n    all_valid,\n    formset_factory,\n)\nfrom django.forms.renderers import TemplatesSetting\nfrom django.forms.utils import ErrorList\nfrom django.forms.widgets import HiddenInput\nfrom django.test import SimpleTestCase\n\nfrom . import jinja2_tests\n\n\nclass Choice(Form):\n    choice = CharField()\n    votes = IntegerField()\n\n\nChoiceFormSet = formset_factory(Choice)\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_can_delete_extra_formset_forms(self):\n        ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)\n        formset = ChoiceFormFormset()\n        self.assertEqual(len(formset), 2)\n        self.assertIn("DELETE", formset.forms[0].fields)\n        self.assertIn("DELETE", formset.forms[1].fields)\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 7397, 'end_index': 7705, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 7554, 'end_index': 7917, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 8140, 'end_index': 8541, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 8400, 'end_index': 8757, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 8757, 'end_index': 9038, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 11254, 'end_index': 11562, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 11411, 'end_index': 11774, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 11803, 'end_index': 12066, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 12110, 'end_index': 12502, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 12390, 'end_index': 13492, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 15460, 'end_index': 15768, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 15617, 'end_index': 15980, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 16009, 'end_index': 16272, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 16316, 'end_index': 16708, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 16596, 'end_index': 17698, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 17816, 'end_index': 18124, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 17973, 'end_index': 18313, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 18372, 'end_index': 18635, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 18679, 'end_index': 21400, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 21482, 'end_index': 21790, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 21639, 'end_index': 22002, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 22031, 'end_index': 22294, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 22338, 'end_index': 23784, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 23866, 'end_index': 24174, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 24023, 'end_index': 24386, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 24775, 'end_index': 25051, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 25118, 'end_index': 25426, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 25275, 'end_index': 25638, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 25667, 'end_index': 25930, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 25974, 'end_index': 26279, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 91638, 'candidates_token_count': 3352, 'total_token_count': 99071, 'cached_content_token_count': 64052, 'prompt_tokens_details': [{'modality': 1, 'token_count': 91638}], 'cache_tokens_details': [{'modality': 1, 'token_count': 64052}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 3352}], 'thoughts_token_count': 4081}, 'finish_reason': 'STOP', 'avg_logprobs': -0.13122722470959503, 'model_name': 'gemini-2.5-pro'} id='run--292dfd8a-c87c-4973-a16f-319df4802b12-0' usage_metadata={'input_tokens': 91638, 'output_tokens': 3352, 'total_tokens': 99071, 'input_token_details': {'cache_read': 64052}, 'output_token_details': {'reasoning': 4081}}
2025-10-05 12:24:40,482 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 12:24:40,483 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Formsets' add_fields() method fails in some circumstances if the argument index is None.

Issue description: 
Description
	
Formsets' add_fields() method fails in some circumstances if the argument index is None.
When a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: '<' not supported between instances of 'NoneType' and 'int'. 
Code example:
MyFormSet = forms.formset_factory(
	form=MyForm,
	can_delete=True,
	can_delete_extra=False,
)
my_formset = MyFormSet(
	initial=None,
)
print(my_formset.empty_form)
The reason this happens is that in in line 493 of [django.forms.formsets](â€‹https://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:
if self.can_delete and (self.can_delete_extra or index < initial_form_count):
Checking for index not None should fix the issue:
if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
How to Reproduce
A self-contained example to reproduce this bug is as follows:
#!/usr/bin/env python3
import os
import django
from django import forms
class MyForm(forms.Form):
	my_field = forms.CharField()
if __name__ == "__main__":
	settings_file = os.path.splitext(os.path.basename(__file__))[0]
	django.conf.settings.configure(
		DEBUG=True,
		MIDDLEWARE_CLASSES=[],
		ROOT_URLCONF=settings_file,
	)
	django.setup()
	MyFormSet = forms.formset_factory(
		form=MyForm,
		can_delete=True,
		can_delete_extra=False,
	)
	my_formset = MyFormSet(
		initial=None,
	)
	print(my_formset.empty_form)

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 1 - 1500
Content:
1. import datetime
2. from collections import Counter
3. from unittest import mock
4. 
5. from django.core.exceptions import ValidationError
6. from django.forms import (
7.     BaseForm,
8.     CharField,
9.     DateField,
10.     FileField,
11.     Form,
12.     IntegerField,
13.     SplitDateTimeField,
14.     formsets,
15. )
16. from django.forms.formsets import (
17.     INITIAL_FORM_COUNT,
18.     MAX_NUM_FORM_COUNT,
19.     MIN_NUM_FORM_COUNT,
20.     TOTAL_FORM_COUNT,
21.     BaseFormSet,
22.     ManagementForm,
23.     all_valid,
24.     formset_factory,
25. )
26. from django.forms.renderers import TemplatesSetting
27. from django.forms.utils import ErrorList
28. from django.forms.widgets import HiddenInput
29. from django.test import SimpleTestCase
30. 
31. from . import jinja2_tests
32. 
33. 
34. class Choice(Form):
35.     choice = CharField()
36.     votes = IntegerField()
37. 
38. 
39. ChoiceFormSet = formset_factory(Choice)
40. 
41. 
42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):
43.     def clean(self):
44.         super().clean()
45.         raise ValidationError("non-form error")
46. 
47. 
48. class FavoriteDrinkForm(Form):
49.     name = CharField()
50. 
51. 
52. class BaseFavoriteDrinksFormSet(BaseFormSet):
53.     def clean(self):
54.         seen_drinks = []
55. 
56.         for drink in self.cleaned_data:
57.             if drink["name"] in seen_drinks:
58.                 raise ValidationError("You may only specify a drink once.")
59. 
60.             seen_drinks.append(drink["name"])
61. 
62. 
63. # A FormSet that takes a list of favorite drinks and raises an error if
64. # there are any duplicates.
65. FavoriteDrinksFormSet = formset_factory(
66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3
67. )
68. 
69. 
70. class CustomKwargForm(Form):
71.     def __init__(self, *args, custom_kwarg, **kwargs):
72.         self.custom_kwarg = custom_kwarg
73.         super().__init__(*args, **kwargs)
74. 
75. 
76. class FormsFormsetTestCase(SimpleTestCase):
77.     def make_choiceformset(
78.         self,
79.         formset_data=None,
80.         formset_class=ChoiceFormSet,
81.         total_forms=None,
82.         initial_forms=0,
83.         max_num_forms=0,
84.         min_num_forms=0,
85.         **kwargs,
86.     ):
87.         """
88.         Make a ChoiceFormset from the given formset_data.
89.         The data should be given as a list of (choice, votes) tuples.
90.         """
91.         kwargs.setdefault("prefix", "choices")
92.         kwargs.setdefault("auto_id", False)
93. 
94.         if formset_data is None:
95.             return formset_class(**kwargs)
96. 
97.         if total_forms is None:
98.             total_forms = len(formset_data)
99. 
100.         def prefixed(*args):
101.             args = (kwargs["prefix"],) + args
102.             return "-".join(args)
103. 
104.         data = {
105.             prefixed("TOTAL_FORMS"): str(total_forms),
106.             prefixed("INITIAL_FORMS"): str(initial_forms),
107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),
108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),
109.         }
110.         for i, (choice, votes) in enumerate(formset_data):
111.             data[prefixed(str(i), "choice")] = choice
112.             data[prefixed(str(i), "votes")] = votes
113. 
114.         return formset_class(data, **kwargs)
115. 
116.     def test_basic_formset(self):
117.         """
118.         A FormSet constructor takes the same arguments as Form. Create a
119.         FormSet for adding data. By default, it displays 1 blank form.
120.         """
121.         formset = self.make_choiceformset()
122.         self.assertHTMLEqual(
123.             str(formset),
124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">
125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">
126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">
127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">
128. <div>Choice:<input type="text" name="choices-0-choice"></div>
129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",
130.         )
131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()
132.         # method, and a cleaned_data or errors attribute depending on whether
133.         # all the forms passed validation. However, unlike a Form, cleaned_data
134.         # and errors will be a list of dicts rather than a single dict.
135.         formset = self.make_choiceformset([("Calexico", "100")])
136.         self.assertTrue(formset.is_valid())
137.         self.assertEqual(
138.             [form.cleaned_data for form in formset.forms],
139.             [{"votes": 100, "choice": "Calexico"}],
140.         )
141. 
142.         # If a FormSet wasn't passed any data, is_valid() and has_changed()
143.         # return False.
144.         formset = self.make_choiceformset()
145.         self.assertFalse(formset.is_valid())
146.         self.assertFalse(formset.has_changed())
147. 
148.     def test_form_kwargs_formset(self):
149.         """
150.         Custom kwargs set on the formset instance are passed to the
151.         underlying forms.
152.         """
153.         FormSet = formset_factory(CustomKwargForm, extra=2)
154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
155.         for form in formset:
156.             self.assertTrue(hasattr(form, "custom_kwarg"))
157.             self.assertEqual(form.custom_kwarg, 1)
158. 
159.     def test_form_kwargs_formset_dynamic(self):
160.         """Form kwargs can be passed dynamically in a formset."""
161. 
162.         class DynamicBaseFormSet(BaseFormSet):
163.             def get_form_kwargs(self, index):
164.                 return {"custom_kwarg": index}
165. 
166.         DynamicFormSet = formset_factory(
167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2
168.         )
169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})
170.         for i, form in enumerate(formset):
171.             self.assertTrue(hasattr(form, "custom_kwarg"))
172.             self.assertEqual(form.custom_kwarg, i)
173. 
174.     def test_form_kwargs_empty_form(self):
175.         FormSet = formset_factory(CustomKwargForm)
176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))
178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)
179. 
180.     def test_empty_permitted_ignored_empty_form(self):
181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})
182.         self.assertIs(formset.empty_form.empty_permitted, True)
183. 
184.     def test_formset_validation(self):
185.         # FormSet instances can also have an error attribute if validation failed for
186.         # any of the forms.
187.         formset = self.make_choiceformset([("Calexico", "")])
188.         self.assertFalse(formset.is_valid())
189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])
190. 
191.     def test_formset_validation_count(self):
192.         """
193.         A formset's ManagementForm is validated once per FormSet.is_valid()
194.         call and each form of the formset is cleaned once.
195.         """
196. 
197.         def make_method_counter(func):
198.             """Add a counter to func for the number of times it's called."""
199.             counter = Counter()
200.             counter.call_count = 0
201. 
202.             def mocked_func(*args, **kwargs):
203.                 counter.call_count += 1
204.                 return func(*args, **kwargs)
205. 
206.             return mocked_func, counter
207. 
208.         mocked_is_valid, is_valid_counter = make_method_counter(
209.             formsets.ManagementForm.is_valid
210.         )
211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)
212.         formset = self.make_choiceformset(
213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]
214.         )
215. 
216.         with mock.patch(
217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid
218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):
219.             self.assertTrue(formset.is_valid())
220.         self.assertEqual(is_valid_counter.call_count, 1)
221.         self.assertEqual(full_clean_counter.call_count, 4)
222. 
223.     def test_formset_has_changed(self):
224.         """
225.         FormSet.has_changed() is True if any data is passed to its forms, even
226.         if the formset didn't validate.
227.         """
228.         blank_formset = self.make_choiceformset([("", "")])
229.         self.assertFalse(blank_formset.has_changed())
230.         # invalid formset
231.         invalid_formset = self.make_choiceformset([("Calexico", "")])
232.         self.assertFalse(invalid_formset.is_valid())
233.         self.assertTrue(invalid_formset.has_changed())
234.         # valid formset
235.         valid_formset = self.make_choiceformset([("Calexico", "100")])
236.         self.assertTrue(valid_formset.is_valid())
237.         self.assertTrue(valid_formset.has_changed())
238. 
239.     def test_formset_initial_data(self):
240.         """
241.         A FormSet can be prefilled with existing data by providing a list of
242.         dicts to the `initial` argument. By default, an extra blank form is
243.         included.
244.         """
245.         formset = self.make_choiceformset(
246.             initial=[{"choice": "Calexico", "votes": 100}]
247.         )
248.         self.assertHTMLEqual(
249.             "\n".join(form.as_ul() for form in formset.forms),
250.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
251.             "</li>"
252.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
253.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
254.             '<li>Votes: <input type="number" name="choices-1-votes"></li>',
255.         )
256. 
257.     def test_blank_form_unfilled(self):
258.         """A form that's displayed as blank may be submitted as blank."""
259.         formset = self.make_choiceformset(
260.             [("Calexico", "100"), ("", "")], initial_forms=1
261.         )
262.         self.assertTrue(formset.is_valid())
263.         self.assertEqual(
264.             [form.cleaned_data for form in formset.forms],
265.             [{"votes": 100, "choice": "Calexico"}, {}],
266.         )
267. 
268.     def test_second_form_partially_filled(self):
269.         """
270.         If at least one field is filled out on a blank form, it will be
271.         validated.
272.         """
273.         formset = self.make_choiceformset(
274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1
275.         )
276.         self.assertFalse(formset.is_valid())
277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])
278. 
279.     def test_delete_prefilled_data(self):
280.         """
281.         Deleting prefilled data is an error. Removing data from form fields
282.         isn't the proper way to delete it.
283.         """
284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)
285.         self.assertFalse(formset.is_valid())
286.         self.assertEqual(
287.             formset.errors,
288.             [
289.                 {
290.                     "votes": ["This field is required."],
291.                     "choice": ["This field is required."],
292.                 },
293.                 {},
294.             ],
295.         )
296. 
297.     def test_displaying_more_than_one_blank_form(self):
298.         """
299.         More than 1 empty form can be displayed using formset_factory's
300.         `extra` argument.
301.         """
302.         ChoiceFormSet = formset_factory(Choice, extra=3)
303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
304.         self.assertHTMLEqual(
305.             "\n".join(form.as_ul() for form in formset.forms),
306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
307. <li>Votes: <input type="number" name="choices-0-votes"></li>
308. <li>Choice: <input type="text" name="choices-1-choice"></li>
309. <li>Votes: <input type="number" name="choices-1-votes"></li>
310. <li>Choice: <input type="text" name="choices-2-choice"></li>
311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
312.         )
313.         # Since every form was displayed as blank, they are also accepted as
314.         # blank. This may seem a little strange, but min_num is used to require
315.         # a minimum number of forms to be completed.
316.         data = {
317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
321.             "choices-0-choice": "",
322.             "choices-0-votes": "",
323.             "choices-1-choice": "",
324.             "choices-1-votes": "",
325.             "choices-2-choice": "",
326.             "choices-2-votes": "",
327.         }
328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
329.         self.assertTrue(formset.is_valid())
330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])
331. 
332.     def test_min_num_displaying_more_than_one_blank_form(self):
333.         """
334.         More than 1 empty form can also be displayed using formset_factory's
335.         min_num argument. It will (essentially) increment the extra argument.
336.         """
337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)
338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
339.         # Min_num forms are required; extra forms can be empty.
340.         self.assertFalse(formset.forms[0].empty_permitted)
341.         self.assertTrue(formset.forms[1].empty_permitted)
342.         self.assertHTMLEqual(
343.             "\n".join(form.as_ul() for form in formset.forms),
344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
345. <li>Votes: <input type="number" name="choices-0-votes"></li>
346. <li>Choice: <input type="text" name="choices-1-choice"></li>
347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",
348.         )
349. 
350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
351.         """More than 1 empty form can be displayed using min_num."""
352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
354.         self.assertHTMLEqual(
355.             "\n".join(form.as_ul() for form in formset.forms),
356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
357. <li>Votes: <input type="number" name="choices-0-votes"></li>
358. <li>Choice: <input type="text" name="choices-1-choice"></li>
359. <li>Votes: <input type="number" name="choices-1-votes"></li>
360. <li>Choice: <input type="text" name="choices-2-choice"></li>
361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
362.         )
363. 
364.     def test_single_form_completed(self):
365.         """Just one form may be completed."""
366.         data = {
367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
371.             "choices-0-choice": "Calexico",
372.             "choices-0-votes": "100",
373.             "choices-1-choice": "",
374.             "choices-1-votes": "",
375.             "choices-2-choice": "",
376.             "choices-2-votes": "",
377.         }
378.         ChoiceFormSet = formset_factory(Choice, extra=3)
379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
380.         self.assertTrue(formset.is_valid())
381.         self.assertEqual(
382.             [form.cleaned_data for form in formset.forms],
383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],
384.         )
385. 
386.     def test_formset_validate_max_flag(self):
387.         """
388.         If validate_max is set and max_num is less than TOTAL_FORMS in the
389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
390.         irrelevant here (it's output as a hint for the client but its value
391.         in the returned data is not checked).
392.         """
393.         data = {
394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
398.             "choices-0-choice": "Zero",
399.             "choices-0-votes": "0",
400.             "choices-1-choice": "One",
401.             "choices-1-votes": "1",
402.         }
403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
405.         self.assertFalse(formset.is_valid())
406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])
407.         self.assertEqual(
408.             str(formset.non_form_errors()),
409.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
410.         )
411. 
412.     def test_formset_validate_max_flag_custom_error(self):
413.         data = {
414.             "choices-TOTAL_FORMS": "2",
415.             "choices-INITIAL_FORMS": "0",
416.             "choices-MIN_NUM_FORMS": "0",
417.             "choices-MAX_NUM_FORMS": "2",
418.             "choices-0-choice": "Zero",
419.             "choices-0-votes": "0",
420.             "choices-1-choice": "One",
421.             "choices-1-votes": "1",
422.         }
423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
424.         formset = ChoiceFormSet(
425.             data,
426.             auto_id=False,
427.             prefix="choices",
428.             error_messages={
429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."
430.             },
431.         )
432.         self.assertFalse(formset.is_valid())
433.         self.assertEqual(
434.             formset.non_form_errors(),
435.             ["Number of submitted forms should be at most 1."],
436.         )
437.         self.assertEqual(
438.             str(formset.non_form_errors()),
439.             '<ul class="errorlist nonform">'
440.             "<li>Number of submitted forms should be at most 1.</li></ul>",
441.         )
442. 
443.     def test_formset_validate_min_flag(self):
444.         """
445.         If validate_min is set and min_num is more than TOTAL_FORMS in the
446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
447.         irrelevant here (it's output as a hint for the client but its value
448.         in the returned data is not checked).
449.         """
450.         data = {
451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored
455.             "choices-0-choice": "Zero",
456.             "choices-0-votes": "0",
457.             "choices-1-choice": "One",
458.             "choices-1-votes": "1",
459.         }
460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
462.         self.assertFalse(formset.is_valid())
463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])
464.         self.assertEqual(
465.             str(formset.non_form_errors()),
466.             '<ul class="errorlist nonform"><li>'
467.             "Please submit at least 3 forms.</li></ul>",
468.         )
469. 
470.     def test_formset_validate_min_flag_custom_formatted_error(self):
471.         data = {
472.             "choices-TOTAL_FORMS": "2",
473.             "choices-INITIAL_FORMS": "0",
474.             "choices-MIN_NUM_FORMS": "0",
475.             "choices-MAX_NUM_FORMS": "0",
476.             "choices-0-choice": "Zero",
477.             "choices-0-votes": "0",
478.             "choices-1-choice": "One",
479.             "choices-1-votes": "1",
480.         }
481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
482.         formset = ChoiceFormSet(
483.             data,
484.             auto_id=False,
485.             prefix="choices",
486.             error_messages={
487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."
488.             },
489.         )
490.         self.assertFalse(formset.is_valid())
491.         self.assertEqual(
492.             formset.non_form_errors(),
493.             ["Number of submitted forms should be at least 3."],
494.         )
495.         self.assertEqual(
496.             str(formset.non_form_errors()),
497.             '<ul class="errorlist nonform">'
498.             "<li>Number of submitted forms should be at least 3.</li></ul>",
499.         )
500. 
501.     def test_formset_validate_min_unchanged_forms(self):
502.         """
503.         min_num validation doesn't consider unchanged forms with initial data
504.         as "empty".
505.         """
506.         initial = [
507.             {"choice": "Zero", "votes": 0},
508.             {"choice": "One", "votes": 0},
509.         ]
510.         data = {
511.             "choices-TOTAL_FORMS": "2",
512.             "choices-INITIAL_FORMS": "2",
513.             "choices-MIN_NUM_FORMS": "0",
514.             "choices-MAX_NUM_FORMS": "2",
515.             "choices-0-choice": "Zero",
516.             "choices-0-votes": "0",
517.             "choices-1-choice": "One",
518.             "choices-1-votes": "1",  # changed from initial
519.         }
520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)
521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)
522.         self.assertFalse(formset.forms[0].has_changed())
523.         self.assertTrue(formset.forms[1].has_changed())
524.         self.assertTrue(formset.is_valid())
525. 
526.     def test_formset_validate_min_excludes_empty_forms(self):
527.         data = {
528.             "choices-TOTAL_FORMS": "2",
529.             "choices-INITIAL_FORMS": "0",
530.         }
531.         ChoiceFormSet = formset_factory(
532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True
533.         )
534.         formset = ChoiceFormSet(data, prefix="choices")
535.         self.assertFalse(formset.has_changed())
536.         self.assertFalse(formset.is_valid())
537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])
538. 
539.     def test_second_form_partially_filled_2(self):
540.         """A partially completed form is invalid."""
541.         data = {
542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
546.             "choices-0-choice": "Calexico",
547.             "choices-0-votes": "100",
548.             "choices-1-choice": "The Decemberists",
549.             "choices-1-votes": "",  # missing value
550.             "choices-2-choice": "",
551.             "choices-2-votes": "",
552.         }
553.         ChoiceFormSet = formset_factory(Choice, extra=3)
554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
555.         self.assertFalse(formset.is_valid())
556.         self.assertEqual(
557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]
558.         )
559. 
560.     def test_more_initial_data(self):
561.         """
562.         The extra argument works when the formset is pre-filled with initial
563.         data.
564.         """
565.         initial = [{"choice": "Calexico", "votes": 100}]
566.         ChoiceFormSet = formset_factory(Choice, extra=3)
567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
568.         self.assertHTMLEqual(
569.             "\n".join(form.as_ul() for form in formset.forms),
570.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
571.             "</li>"
572.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
573.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
574.             '<li>Votes: <input type="number" name="choices-1-votes"></li>'
575.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
576.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
577.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
578.             '<li>Votes: <input type="number" name="choices-3-votes"></li>',
579.         )
580.         # Retrieving an empty form works. Tt shows up in the form list.
581.         self.assertTrue(formset.empty_form.empty_permitted)
582.         self.assertHTMLEqual(
583.             formset.empty_form.as_ul(),
584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",
586.         )
587. 
588.     def test_formset_with_deletion(self):
589.         """
590.         formset_factory's can_delete argument adds a boolean "delete" field to
591.         each form. When that boolean field is True, the form will be in
592.         formset.deleted_forms.
593.         """
594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
595.         initial = [
596.             {"choice": "Calexico", "votes": 100},
597.             {"choice": "Fergie", "votes": 900},
598.         ]
599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
600.         self.assertHTMLEqual(
601.             "\n".join(form.as_ul() for form in formset.forms),
602.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
603.             "</li>"
604.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
605.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
606.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
607.             "</li>"
608.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
609.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
610.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
611.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
612.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>',
613.         )
614.         # To delete something, set that form's special delete field to 'on'.
615.         # Let's go ahead and delete Fergie.
616.         data = {
617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
621.             "choices-0-choice": "Calexico",
622.             "choices-0-votes": "100",
623.             "choices-0-DELETE": "",
624.             "choices-1-choice": "Fergie",
625.             "choices-1-votes": "900",
626.             "choices-1-DELETE": "on",
627.             "choices-2-choice": "",
628.             "choices-2-votes": "",
629.             "choices-2-DELETE": "",
630.         }
631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
632.         self.assertTrue(formset.is_valid())
633.         self.assertEqual(
634.             [form.cleaned_data for form in formset.forms],
635.             [
636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},
637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},
638.                 {},
639.             ],
640.         )
641.         self.assertEqual(
642.             [form.cleaned_data for form in formset.deleted_forms],
643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],
644.         )
645. 
646.     def test_formset_with_deletion_remove_deletion_flag(self):
647.         """
648.         If a form is filled with something and can_delete is also checked, that
649.         form's errors shouldn't make the entire formset invalid since it's
650.         going to be deleted.
651.         """
652. 
653.         class CheckForm(Form):
654.             field = IntegerField(min_value=100)
655. 
656.         data = {
657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered
658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data
659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
660.             "check-MAX_NUM_FORMS": "0",  # max number of forms
661.             "check-0-field": "200",
662.             "check-0-DELETE": "",
663.             "check-1-field": "50",
664.             "check-1-DELETE": "on",
665.             "check-2-field": "",
666.             "check-2-DELETE": "",
667.         }
668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)
669.         formset = CheckFormSet(data, prefix="check")
670.         self.assertTrue(formset.is_valid())
671.         # If the deletion flag is removed, validation is enabled.
672.         data["check-1-DELETE"] = ""
673.         formset = CheckFormSet(data, prefix="check")
674.         self.assertFalse(formset.is_valid())
675. 
676.     def test_formset_with_deletion_invalid_deleted_form(self):
677.         """
678.         deleted_forms works on a valid formset even if a deleted form would
679.         have been invalid.
680.         """
681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
682.         formset = FavoriteDrinkFormset(
683.             {
684.                 "form-0-name": "",
685.                 "form-0-DELETE": "on",  # no name!
686.                 "form-TOTAL_FORMS": 1,
687.                 "form-INITIAL_FORMS": 1,
688.                 "form-MIN_NUM_FORMS": 0,
689.                 "form-MAX_NUM_FORMS": 1,
690.             }
691.         )
692.         self.assertTrue(formset.is_valid())
693.         self.assertEqual(formset._errors, [])
694.         self.assertEqual(len(formset.deleted_forms), 1)
695. 
696.     def test_formset_with_deletion_custom_widget(self):
697.         class DeletionAttributeFormSet(BaseFormSet):
698.             deletion_widget = HiddenInput
699. 
700.         class DeletionMethodFormSet(BaseFormSet):
701.             def get_deletion_widget(self):
702.                 return HiddenInput(attrs={"class": "deletion"})
703. 
704.         tests = [
705.             (DeletionAttributeFormSet, '<input type="hidden" name="form-0-DELETE">'),
706.             (
707.                 DeletionMethodFormSet,
708.                 '<input class="deletion" type="hidden" name="form-0-DELETE">',
709.             ),
710.         ]
711.         for formset_class, delete_html in tests:
712.             with self.subTest(formset_class=formset_class.__name__):
713.                 ArticleFormSet = formset_factory(
714.                     ArticleForm,
715.                     formset=formset_class,
716.                     can_delete=True,
717.                 )
718.                 formset = ArticleFormSet(auto_id=False)
719.                 self.assertHTMLEqual(
720.                     "\n".join([form.as_ul() for form in formset.forms]),
721.                     (
722.                         f'<li>Title: <input type="text" name="form-0-title"></li>'
723.                         f'<li>Pub date: <input type="text" name="form-0-pub_date">'
724.                         f"{delete_html}</li>"
725.                     ),
726.                 )
727. 
728.     def test_formsets_with_ordering(self):
729.         """
730.         formset_factory's can_order argument adds an integer field to each
731.         form. When form validation succeeds,
732.             [form.cleaned_data for form in formset.forms]
733.         will have the data in the correct order specified by the ordering
734.         fields. If a number is duplicated in the set of ordering fields, for
735.         instance form 0 and form 3 are both marked as 1, then the form index
736.         used as a secondary ordering criteria. In order to put something at the
737.         front of the list, you'd need to set its order to 0.
738.         """
739.         ChoiceFormSet = formset_factory(Choice, can_order=True)
740.         initial = [
741.             {"choice": "Calexico", "votes": 100},
742.             {"choice": "Fergie", "votes": 900},
743.         ]
744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
745.         self.assertHTMLEqual(
746.             "\n".join(form.as_ul() for form in formset.forms),
747.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
748.             "</li>"
749.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
750.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
751.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
752.             "</li>"
753.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
754.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
755.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
756.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
757.             '<li>Order: <input type="number" name="choices-2-ORDER"></li>',
758.         )
759.         data = {
760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
764.             "choices-0-choice": "Calexico",
765.             "choices-0-votes": "100",
766.             "choices-0-ORDER": "1",
767.             "choices-1-choice": "Fergie",
768.             "choices-1-votes": "900",
769.             "choices-1-ORDER": "2",
770.             "choices-2-choice": "The Decemberists",
771.             "choices-2-votes": "500",
772.             "choices-2-ORDER": "0",
773.         }
774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
775.         self.assertTrue(formset.is_valid())
776.         self.assertEqual(
777.             [form.cleaned_data for form in formset.ordered_forms],
778.             [
779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},
780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
782.             ],
783.         )
784. 
785.     def test_formsets_with_ordering_custom_widget(self):
786.         class OrderingAttributeFormSet(BaseFormSet):
787.             ordering_widget = HiddenInput
788. 
789.         class OrderingMethodFormSet(BaseFormSet):
790.             def get_ordering_widget(self):
791.                 return HiddenInput(attrs={"class": "ordering"})
792. 
793.         tests = (
794.             (OrderingAttributeFormSet, '<input type="hidden" name="form-0-ORDER">'),
795.             (
796.                 OrderingMethodFormSet,
797.                 '<input class="ordering" type="hidden" name="form-0-ORDER">',
798.             ),
799.         )
800.         for formset_class, order_html in tests:
801.             with self.subTest(formset_class=formset_class.__name__):
802.                 ArticleFormSet = formset_factory(
803.                     ArticleForm, formset=formset_class, can_order=True
804.                 )
805.                 formset = ArticleFormSet(auto_id=False)
806.                 self.assertHTMLEqual(
807.                     "\n".join(form.as_ul() for form in formset.forms),
808.                     (
809.                         '<li>Title: <input type="text" name="form-0-title"></li>'
810.                         '<li>Pub date: <input type="text" name="form-0-pub_date">'
811.                         "%s</li>" % order_html
812.                     ),
813.                 )
814. 
815.     def test_empty_ordered_fields(self):
816.         """
817.         Ordering fields are allowed to be left blank. If they are left blank,
818.         they'll be sorted below everything else.
819.         """
820.         data = {
821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
825.             "choices-0-choice": "Calexico",
826.             "choices-0-votes": "100",
827.             "choices-0-ORDER": "1",
828.             "choices-1-choice": "Fergie",
829.             "choices-1-votes": "900",
830.             "choices-1-ORDER": "2",
831.             "choices-2-choice": "The Decemberists",
832.             "choices-2-votes": "500",
833.             "choices-2-ORDER": "",
834.             "choices-3-choice": "Basia Bulat",
835.             "choices-3-votes": "50",
836.             "choices-3-ORDER": "",
837.         }
838.         ChoiceFormSet = formset_factory(Choice, can_order=True)
839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
840.         self.assertTrue(formset.is_valid())
841.         self.assertEqual(
842.             [form.cleaned_data for form in formset.ordered_forms],
843.             [
844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},
847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},
848.             ],
849.         )
850. 
851.     def test_ordering_blank_fieldsets(self):
852.         """Ordering works with blank fieldsets."""
853.         data = {
854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
858.         }
859.         ChoiceFormSet = formset_factory(Choice, can_order=True)
860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
861.         self.assertTrue(formset.is_valid())
862.         self.assertEqual(formset.ordered_forms, [])
863. 
864.     def test_formset_with_ordering_and_deletion(self):
865.         """FormSets with ordering + deletion."""
866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)
867.         initial = [
868.             {"choice": "Calexico", "votes": 100},
869.             {"choice": "Fergie", "votes": 900},
870.             {"choice": "The Decemberists", "votes": 500},
871.         ]
872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
873.         self.assertHTMLEqual(
874.             "\n".join(form.as_ul() for form in formset.forms),
875.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
876.             "</li>"
877.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
878.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
879.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
880.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
881.             "</li>"
882.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
883.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
884.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
885.             '<li>Choice: <input type="text" name="choices-2-choice" '
886.             'value="The Decemberists"></li>'
887.             '<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>'
888.             '<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>'
889.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>'
890.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
891.             '<li>Votes: <input type="number" name="choices-3-votes"></li>'
892.             '<li>Order: <input type="number" name="choices-3-ORDER"></li>'
893.             '<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>',
894.         )
895.         # Let's delete Fergie, and put The Decemberists ahead of Calexico.
896.         data = {
897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
901.             "choices-0-choice": "Calexico",
902.             "choices-0-votes": "100",
903.             "choices-0-ORDER": "1",
904.             "choices-0-DELETE": "",
905.             "choices-1-choice": "Fergie",
906.             "choices-1-votes": "900",
907.             "choices-1-ORDER": "2",
908.             "choices-1-DELETE": "on",
909.             "choices-2-choice": "The Decemberists",
910.             "choices-2-votes": "500",
911.             "choices-2-ORDER": "0",
912.             "choices-2-DELETE": "",
913.             "choices-3-choice": "",
914.             "choices-3-votes": "",
915.             "choices-3-ORDER": "",
916.             "choices-3-DELETE": "",
917.         }
918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
919.         self.assertTrue(formset.is_valid())
920.         self.assertEqual(
921.             [form.cleaned_data for form in formset.ordered_forms],
922.             [
923.                 {
924.                     "votes": 500,
925.                     "DELETE": False,
926.                     "ORDER": 0,
927.                     "choice": "The Decemberists",
928.                 },
929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},
930.             ],
931.         )
932.         self.assertEqual(
933.             [form.cleaned_data for form in formset.deleted_forms],
934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],
935.         )
936. 
937.     def test_invalid_deleted_form_with_ordering(self):
938.         """
939.         Can get ordered_forms from a valid formset even if a deleted form
940.         would have been invalid.
941.         """
942.         FavoriteDrinkFormset = formset_factory(
943.             form=FavoriteDrinkForm, can_delete=True, can_order=True
944.         )
945.         formset = FavoriteDrinkFormset(
946.             {
947.                 "form-0-name": "",
948.                 "form-0-DELETE": "on",  # no name!
949.                 "form-TOTAL_FORMS": 1,
950.                 "form-INITIAL_FORMS": 1,
951.                 "form-MIN_NUM_FORMS": 0,
952.                 "form-MAX_NUM_FORMS": 1,
953.             }
954.         )
955.         self.assertTrue(formset.is_valid())
956.         self.assertEqual(formset.ordered_forms, [])
957. 
958.     def test_clean_hook(self):
959.         """
960.         FormSets have a clean() hook for doing extra validation that isn't tied
961.         to any form. It follows the same pattern as the clean() hook on Forms.
962.         """
963.         # Start out with a some duplicate data.
964.         data = {
965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
969.             "drinks-0-name": "Gin and Tonic",
970.             "drinks-1-name": "Gin and Tonic",
971.         }
972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
973.         self.assertFalse(formset.is_valid())
974.         # Any errors raised by formset.clean() are available via the
975.         # formset.non_form_errors() method.
976.         for error in formset.non_form_errors():
977.             self.assertEqual(str(error), "You may only specify a drink once.")
978.         # The valid case still works.
979.         data["drinks-1-name"] = "Bloody Mary"
980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
981.         self.assertTrue(formset.is_valid())
982.         self.assertEqual(formset.non_form_errors(), [])
983. 
984.     def test_limiting_max_forms(self):
985.         """Limiting the maximum number of forms with max_num."""
986.         # When not passed, max_num will take a high default value, leaving the
987.         # number of forms only controlled by the value of the extra parameter.
988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)
989.         formset = LimitedFavoriteDrinkFormSet()
990.         self.assertHTMLEqual(
991.             "\n".join(str(form) for form in formset.forms),
992.             """<div><label for="id_form-0-name">Name:</label>
993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>
994. <div><label for="id_form-1-name">Name:</label>
995. <input type="text" name="form-1-name" id="id_form-1-name"></div>
996. <div><label for="id_form-2-name">Name:</label>
997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",
998.         )
999.         # If max_num is 0 then no form is rendered at all.
1000.         LimitedFavoriteDrinkFormSet = formset_factory(
1001.             FavoriteDrinkForm, extra=3, max_num=0
1002.         )
1003.         formset = LimitedFavoriteDrinkFormSet()
1004.         self.assertEqual(formset.forms, [])
1005. 
1006.     def test_limited_max_forms_two(self):
1007.         LimitedFavoriteDrinkFormSet = formset_factory(
1008.             FavoriteDrinkForm, extra=5, max_num=2
1009.         )
1010.         formset = LimitedFavoriteDrinkFormSet()
1011.         self.assertHTMLEqual(
1012.             "\n".join(str(form) for form in formset.forms),
1013.             """<div><label for="id_form-0-name">Name:</label>
1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>
1015. <div><label for="id_form-1-name">Name:</label>
1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1017.         )
1018. 
1019.     def test_limiting_extra_lest_than_max_num(self):
1020.         """max_num has no effect when extra is less than max_num."""
1021.         LimitedFavoriteDrinkFormSet = formset_factory(
1022.             FavoriteDrinkForm, extra=1, max_num=2
1023.         )
1024.         formset = LimitedFavoriteDrinkFormSet()
1025.         self.assertHTMLEqual(
1026.             "\n".join(str(form) for form in formset.forms),
1027.             """<div><label for="id_form-0-name">Name:</label>
1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",
1029.         )
1030. 
1031.     def test_max_num_with_initial_data(self):
1032.         # When not passed, max_num will take a high default value, leaving the
1033.         # number of forms only controlled by the value of the initial and extra
1034.         # parameters.
1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)
1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])
1037.         self.assertHTMLEqual(
1038.             "\n".join(str(form) for form in formset.forms),
1039.             """
1040.             <div><label for="id_form-0-name">Name:</label>
1041.             <input type="text" name="form-0-name" value="Fernet and Coke"
1042.                 id="id_form-0-name"></div>
1043.             <div><label for="id_form-1-name">Name:</label>
1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>
1045.             """,
1046.         )
1047. 
1048.     def test_max_num_zero(self):
1049.         """
1050.         If max_num is 0 then no form is rendered at all, regardless of extra,
1051.         unless initial data is present.
1052.         """
1053.         LimitedFavoriteDrinkFormSet = formset_factory(
1054.             FavoriteDrinkForm, extra=1, max_num=0
1055.         )
1056.         formset = LimitedFavoriteDrinkFormSet()
1057.         self.assertEqual(formset.forms, [])
1058. 
1059.     def test_max_num_zero_with_initial(self):
1060.         # initial trumps max_num
1061.         initial = [
1062.             {"name": "Fernet and Coke"},
1063.             {"name": "Bloody Mary"},
1064.         ]
1065.         LimitedFavoriteDrinkFormSet = formset_factory(
1066.             FavoriteDrinkForm, extra=1, max_num=0
1067.         )
1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1069.         self.assertHTMLEqual(
1070.             "\n".join(str(form) for form in formset.forms),
1071.             """
1072.             <div><label for="id_form-0-name">Name:</label>
1073.             <input id="id_form-0-name" name="form-0-name" type="text"
1074.                 value="Fernet and Coke"></div>
1075.             <div><label for="id_form-1-name">Name:</label>
1076.             <input id="id_form-1-name" name="form-1-name" type="text"
1077.                 value="Bloody Mary"></div>
1078.             """,
1079.         )
1080. 
1081.     def test_more_initial_than_max_num(self):
1082.         """
1083.         More initial forms than max_num results in all initial forms being
1084.         displayed (but no extra forms).
1085.         """
1086.         initial = [
1087.             {"name": "Gin Tonic"},
1088.             {"name": "Bloody Mary"},
1089.             {"name": "Jack and Coke"},
1090.         ]
1091.         LimitedFavoriteDrinkFormSet = formset_factory(
1092.             FavoriteDrinkForm, extra=1, max_num=2
1093.         )
1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1095.         self.assertHTMLEqual(
1096.             "\n".join(str(form) for form in formset.forms),
1097.             """
1098.             <div><label for="id_form-0-name">Name:</label>
1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">
1100.             </div>
1101.             <div><label for="id_form-1-name">Name:</label>
1102.             <input id="id_form-1-name" name="form-1-name" type="text"
1103.                 value="Bloody Mary"></div>
1104.             <div><label for="id_form-2-name">Name:</label>
1105.             <input id="id_form-2-name" name="form-2-name" type="text"
1106.                 value="Jack and Coke"></div>
1107.             """,
1108.         )
1109. 
1110.     def test_default_absolute_max(self):
1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.
1112.         data = {
1113.             "form-TOTAL_FORMS": 2001,
1114.             "form-INITIAL_FORMS": "0",
1115.             "form-MAX_NUM_FORMS": "0",
1116.         }
1117.         formset = FavoriteDrinksFormSet(data=data)
1118.         self.assertIs(formset.is_valid(), False)
1119.         self.assertEqual(
1120.             formset.non_form_errors(),
1121.             ["Please submit at most 1000 forms."],
1122.         )
1123.         self.assertEqual(formset.absolute_max, 2000)
1124. 
1125.     def test_absolute_max(self):
1126.         data = {
1127.             "form-TOTAL_FORMS": "2001",
1128.             "form-INITIAL_FORMS": "0",
1129.             "form-MAX_NUM_FORMS": "0",
1130.         }
1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(
1132.             FavoriteDrinkForm,
1133.             absolute_max=3000,
1134.         )
1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1136.         self.assertIs(formset.is_valid(), True)
1137.         self.assertEqual(len(formset.forms), 2001)
1138.         # absolute_max provides a hard limit.
1139.         data["form-TOTAL_FORMS"] = "3001"
1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1141.         self.assertIs(formset.is_valid(), False)
1142.         self.assertEqual(len(formset.forms), 3000)
1143.         self.assertEqual(
1144.             formset.non_form_errors(),
1145.             ["Please submit at most 1000 forms."],
1146.         )
1147. 
1148.     def test_absolute_max_with_max_num(self):
1149.         data = {
1150.             "form-TOTAL_FORMS": "1001",
1151.             "form-INITIAL_FORMS": "0",
1152.             "form-MAX_NUM_FORMS": "0",
1153.         }
1154.         LimitedFavoriteDrinksFormSet = formset_factory(
1155.             FavoriteDrinkForm,
1156.             max_num=30,
1157.             absolute_max=1000,
1158.         )
1159.         formset = LimitedFavoriteDrinksFormSet(data=data)
1160.         self.assertIs(formset.is_valid(), False)
1161.         self.assertEqual(len(formset.forms), 1000)
1162.         self.assertEqual(
1163.             formset.non_form_errors(),
1164.             ["Please submit at most 30 forms."],
1165.         )
1166. 
1167.     def test_absolute_max_invalid(self):
1168.         msg = "'absolute_max' must be greater or equal to 'max_num'."
1169.         for max_num in [None, 31]:
1170.             with self.subTest(max_num=max_num):
1171.                 with self.assertRaisesMessage(ValueError, msg):
1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)
1173. 
1174.     def test_more_initial_form_result_in_one(self):
1175.         """
1176.         One form from initial and extra=3 with max_num=2 results in the one
1177.         initial form and one extra.
1178.         """
1179.         LimitedFavoriteDrinkFormSet = formset_factory(
1180.             FavoriteDrinkForm, extra=3, max_num=2
1181.         )
1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])
1183.         self.assertHTMLEqual(
1184.             "\n".join(str(form) for form in formset.forms),
1185.             """
1186.             <div><label for="id_form-0-name">Name:</label>
1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">
1188.             </div>
1189.             <div><label for="id_form-1-name">Name:</label>
1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1191.         )
1192. 
1193.     def test_management_form_field_names(self):
1194.         """The management form class has field names matching the constants."""
1195.         self.assertCountEqual(
1196.             ManagementForm.base_fields,
1197.             [
1198.                 TOTAL_FORM_COUNT,
1199.                 INITIAL_FORM_COUNT,
1200.                 MIN_NUM_FORM_COUNT,
1201.                 MAX_NUM_FORM_COUNT,
1202.             ],
1203.         )
1204. 
1205.     def test_management_form_prefix(self):
1206.         """The management form has the correct prefix."""
1207.         formset = FavoriteDrinksFormSet()
1208.         self.assertEqual(formset.management_form.prefix, "form")
1209.         data = {
1210.             "form-TOTAL_FORMS": "2",
1211.             "form-INITIAL_FORMS": "0",
1212.             "form-MIN_NUM_FORMS": "0",
1213.             "form-MAX_NUM_FORMS": "0",
1214.         }
1215.         formset = FavoriteDrinksFormSet(data=data)
1216.         self.assertEqual(formset.management_form.prefix, "form")
1217.         formset = FavoriteDrinksFormSet(initial={})
1218.         self.assertEqual(formset.management_form.prefix, "form")
1219. 
1220.     def test_non_form_errors(self):
1221.         data = {
1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
1226.             "drinks-0-name": "Gin and Tonic",
1227.             "drinks-1-name": "Gin and Tonic",
1228.         }
1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
1230.         self.assertFalse(formset.is_valid())
1231.         self.assertEqual(
1232.             formset.non_form_errors(), ["You may only specify a drink once."]
1233.         )
1234.         self.assertEqual(
1235.             str(formset.non_form_errors()),
1236.             '<ul class="errorlist nonform"><li>'
1237.             "You may only specify a drink once.</li></ul>",
1238.         )
1239. 
1240.     def test_formset_iteration(self):
1241.         """Formset instances are iterable."""
1242.         ChoiceFormset = formset_factory(Choice, extra=3)
1243.         formset = ChoiceFormset()
1244.         # An iterated formset yields formset.forms.
1245.         forms = list(formset)
1246.         self.assertEqual(forms, formset.forms)
1247.         self.assertEqual(len(formset), len(forms))
1248.         # A formset may be indexed to retrieve its forms.
1249.         self.assertEqual(formset[0], forms[0])
1250.         with self.assertRaises(IndexError):
1251.             formset[3]
1252. 
1253.         # Formsets can override the default iteration order
1254.         class BaseReverseFormSet(BaseFormSet):
1255.             def __iter__(self):
1256.                 return reversed(self.forms)
1257. 
1258.             def __getitem__(self, idx):
1259.                 return super().__getitem__(len(self) - idx - 1)
1260. 
1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)
1262.         reverse_formset = ReverseChoiceFormset()
1263.         # __iter__() modifies the rendering order.
1264.         # Compare forms from "reverse" formset with forms from original formset
1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))
1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))
1267.         self.assertEqual(len(reverse_formset), len(forms))
1268. 
1269.     def test_formset_nonzero(self):
1270.         """A formsets without any forms evaluates as True."""
1271.         ChoiceFormset = formset_factory(Choice, extra=0)
1272.         formset = ChoiceFormset()
1273.         self.assertEqual(len(formset.forms), 0)
1274.         self.assertTrue(formset)
1275. 
1276.     def test_formset_splitdatetimefield(self):
1277.         """
1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).
1279.         """
1280. 
1281.         class SplitDateTimeForm(Form):
1282.             when = SplitDateTimeField(initial=datetime.datetime.now)
1283. 
1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)
1285.         data = {
1286.             "form-TOTAL_FORMS": "1",
1287.             "form-INITIAL_FORMS": "0",
1288.             "form-0-when_0": "1904-06-16",
1289.             "form-0-when_1": "15:51:33",
1290.         }
1291.         formset = SplitDateTimeFormSet(data)
1292.         self.assertTrue(formset.is_valid())
1293. 
1294.     def test_formset_error_class(self):
1295.         """Formset's forms use the formset's error_class."""
1296. 
1297.         class CustomErrorList(ErrorList):
1298.             pass
1299. 
1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)
1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)
1302. 
1303.     def test_formset_calls_forms_is_valid(self):
1304.         """Formsets call is_valid() on each form."""
1305. 
1306.         class AnotherChoice(Choice):
1307.             def is_valid(self):
1308.                 self.is_valid_called = True
1309.                 return super().is_valid()
1310. 
1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)
1312.         data = {
1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered
1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data
1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
1317.             "choices-0-choice": "Calexico",
1318.             "choices-0-votes": "100",
1319.         }
1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")
1321.         self.assertTrue(formset.is_valid())
1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))
1323. 
1324.     def test_hard_limit_on_instantiated_forms(self):
1325.         """A formset has a hard limit on the number of forms instantiated."""
1326.         # reduce the default limit of 1000 temporarily for testing
1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1328.         try:
1329.             formsets.DEFAULT_MAX_NUM = 2
1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)
1331.             # someone fiddles with the mgmt form data...
1332.             formset = ChoiceFormSet(
1333.                 {
1334.                     "choices-TOTAL_FORMS": "4",
1335.                     "choices-INITIAL_FORMS": "0",
1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1337.                     "choices-MAX_NUM_FORMS": "4",
1338.                     "choices-0-choice": "Zero",
1339.                     "choices-0-votes": "0",
1340.                     "choices-1-choice": "One",
1341.                     "choices-1-votes": "1",
1342.                     "choices-2-choice": "Two",
1343.                     "choices-2-votes": "2",
1344.                     "choices-3-choice": "Three",
1345.                     "choices-3-votes": "3",
1346.                 },
1347.                 prefix="choices",
1348.             )
1349.             # But we still only instantiate 3 forms
1350.             self.assertEqual(len(formset.forms), 3)
1351.             # and the formset isn't valid
1352.             self.assertFalse(formset.is_valid())
1353.         finally:
1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1355. 
1356.     def test_increase_hard_limit(self):
1357.         """Can increase the built-in forms limit via a higher max_num."""
1358.         # reduce the default limit of 1000 temporarily for testing
1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1360.         try:
1361.             formsets.DEFAULT_MAX_NUM = 3
1362.             # for this form, we want a limit of 4
1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)
1364.             formset = ChoiceFormSet(
1365.                 {
1366.                     "choices-TOTAL_FORMS": "4",
1367.                     "choices-INITIAL_FORMS": "0",
1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1369.                     "choices-MAX_NUM_FORMS": "4",
1370.                     "choices-0-choice": "Zero",
1371.                     "choices-0-votes": "0",
1372.                     "choices-1-choice": "One",
1373.                     "choices-1-votes": "1",
1374.                     "choices-2-choice": "Two",
1375.                     "choices-2-votes": "2",
1376.                     "choices-3-choice": "Three",
1377.                     "choices-3-votes": "3",
1378.                 },
1379.                 prefix="choices",
1380.             )
1381.             # Four forms are instantiated and no exception is raised
1382.             self.assertEqual(len(formset.forms), 4)
1383.         finally:
1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1385. 
1386.     def test_non_form_errors_run_full_clean(self):
1387.         """
1388.         If non_form_errors() is called without calling is_valid() first,
1389.         it should ensure that full_clean() is called.
1390.         """
1391. 
1392.         class BaseCustomFormSet(BaseFormSet):
1393.             def clean(self):
1394.                 raise ValidationError("This is a non-form error")
1395. 
1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)
1397.         data = {
1398.             "choices-TOTAL_FORMS": "1",
1399.             "choices-INITIAL_FORMS": "0",
1400.         }
1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)
1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])
1404. 
1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):
1406.         class CheckForm(Form):
1407.             field = IntegerField()
1408. 
1409.         data = {
1410.             "check-TOTAL_FORMS": "2",
1411.             "check-INITIAL_FORMS": "0",
1412.             "check-MAX_NUM_FORMS": "1",
1413.             "check-0-field": "200",
1414.             "check-0-DELETE": "",
1415.             "check-1-field": "50",
1416.             "check-1-DELETE": "on",
1417.         }
1418.         CheckFormSet = formset_factory(
1419.             CheckForm, max_num=1, validate_max=True, can_delete=True
1420.         )
1421.         formset = CheckFormSet(data, prefix="check")
1422.         self.assertTrue(formset.is_valid())
1423. 
1424.     def test_formset_total_error_count(self):
1425.         """A valid formset should have 0 total errors."""
1426.         data = [  # formset_data, expected error count
1427.             ([("Calexico", "100")], 0),
1428.             ([("Calexico", "")], 1),
1429.             ([("", "invalid")], 2),
1430.             ([("Calexico", "100"), ("Calexico", "")], 1),
1431.             ([("Calexico", ""), ("Calexico", "")], 2),
1432.         ]
1433.         for formset_data, expected_error_count in data:
1434.             formset = self.make_choiceformset(formset_data)
1435.             self.assertEqual(formset.total_error_count(), expected_error_count)
1436. 
1437.     def test_formset_total_error_count_with_non_form_errors(self):
1438.         data = {
1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
1442.             "choices-0-choice": "Zero",
1443.             "choices-0-votes": "0",
1444.             "choices-1-choice": "One",
1445.             "choices-1-votes": "1",
1446.         }
1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1449.         self.assertEqual(formset.total_error_count(), 1)
1450.         data["choices-1-votes"] = ""
1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1452.         self.assertEqual(formset.total_error_count(), 2)
1453. 
1454.     def test_html_safe(self):
1455.         formset = self.make_choiceformset()
1456.         self.assertTrue(hasattr(formset, "__html__"))
1457.         self.assertEqual(str(formset), formset.__html__())
1458. 
1459.     def test_can_delete_extra_formset_forms(self):
1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)
1461.         formset = ChoiceFormFormset()
1462.         self.assertEqual(len(formset), 2)
1463.         self.assertIn("DELETE", formset.forms[0].fields)
1464.         self.assertIn("DELETE", formset.forms[1].fields)
1465. 
1466.     def test_disable_delete_extra_formset_forms(self):
1467.         ChoiceFormFormset = formset_factory(
1468.             form=Choice,
1469.             can_delete=True,
1470.             can_delete_extra=False,
1471.             extra=2,
1472.         )
1473.         formset = ChoiceFormFormset()
1474.         self.assertEqual(len(formset), 2)
1475.         self.assertNotIn("DELETE", formset.forms[0].fields)
1476.         self.assertNotIn("DELETE", formset.forms[1].fields)
1477. 
1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])
1479.         self.assertEqual(len(formset), 3)
1480.         self.assertIn("DELETE", formset.forms[0].fields)
1481.         self.assertNotIn("DELETE", formset.forms[1].fields)
1482.         self.assertNotIn("DELETE", formset.forms[2].fields)
1483. 
1484.         formset = ChoiceFormFormset(
1485.             data={
1486.                 "form-0-choice": "Zero",
1487.                 "form-0-votes": "0",
1488.                 "form-0-DELETE": "on",
1489.                 "form-1-choice": "One",
1490.                 "form-1-votes": "1",
1491.                 "form-2-choice": "",
1492.                 "form-2-votes": "",
1493.                 "form-TOTAL_FORMS": "3",
1494.                 "form-INITIAL_FORMS": "1",
1495.             },
1496.             initial=[{"choice": "Zero", "votes": "1"}],
1497.         )
1498.         self.assertEqual(
1499.             formset.cleaned_data,
1500.             [


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and return it in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 12:25:50,792 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='This test is the most relevant as it uses the exact configuration (`can_delete=True`, `can_delete_extra=False`) that triggers the bug. It verifies the presence of the `DELETE` field on initial forms versus extra forms, which is the core of the issue. The bug is in `add_fields` which is called when creating forms for the formset, and this test validates the result of that creation process under the problematic configuration.', relative_path='tests/forms_tests/tests/test_formsets.py', start_line=1466, end_line=1500), ContextOutput(reasoning='This test is relevant because it directly involves `formset.empty_form`, the specific component mentioned in the bug report that triggers the `TypeError`. Although this test does not use `can_delete=True`, it shows the standard usage and expected behavior of `empty_form`, providing a baseline against which the buggy behavior can be compared. The bug occurs when `add_fields` is called via `empty_form`.', relative_path='tests/forms_tests/tests/test_formsets.py', start_line=580, end_line=586), ContextOutput(reasoning='This test provides a comprehensive example of a formset using `can_delete=True`. It covers initialization with data, rendering the forms including the `DELETE` checkbox, submitting data to mark a form for deletion, and asserting that the form is correctly identified in `deleted_forms`. This is a foundational test case for understanding the deletion feature.', relative_path='tests/forms_tests/tests/test_formsets.py', start_line=588, end_line=645), ContextOutput(reasoning="This test case is relevant because it examines the interaction between form deletion and validation. It asserts that a formset remains valid if an invalid form is marked for deletion. This is analogous to the bug scenario where an interaction between `can_delete`, `can_delete_extra`, and the state of `empty_form` causes a failure. It demonstrates how deletion logic can bypass standard form processing, which is related to the bug's context.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=676, end_line=695), ContextOutput(reasoning='This test demonstrates the default behavior of deletable formsets where extra forms can be deleted. It serves as a direct comparison to the `can_delete_extra=False` scenario in the bug report, highlighting the functional difference of this parameter and providing context for why the `add_fields` method has special branching logic that leads to the bug.', relative_path='tests/forms_tests/tests/test_formsets.py', start_line=1459, end_line=1465)]
2025-10-05 12:25:50,793 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='1466.     def test_disable_delete_extra_formset_forms(self):\n1467.         ChoiceFormFormset = formset_factory(\n1468.             form=Choice,\n1469.             can_delete=True,\n1470.             can_delete_extra=False,\n1471.             extra=2,\n1472.         )\n1473.         formset = ChoiceFormFormset()\n1474.         self.assertEqual(len(formset), 2)\n1475.         self.assertNotIn("DELETE", formset.forms[0].fields)\n1476.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1477. \n1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])\n1479.         self.assertEqual(len(formset), 3)\n1480.         self.assertIn("DELETE", formset.forms[0].fields)\n1481.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1482.         self.assertNotIn("DELETE", formset.forms[2].fields)\n1483. \n1484.         formset = ChoiceFormFormset(\n1485.             data={\n1486.                 "form-0-choice": "Zero",\n1487.                 "form-0-votes": "0",\n1488.                 "form-0-DELETE": "on",\n1489.                 "form-1-choice": "One",\n1490.                 "form-1-votes": "1",\n1491.                 "form-2-choice": "",\n1492.                 "form-2-votes": "",\n1493.                 "form-TOTAL_FORMS": "3",\n1494.                 "form-INITIAL_FORMS": "1",\n1495.             },\n1496.             initial=[{"choice": "Zero", "votes": "1"}],\n1497.         )\n1498.         self.assertEqual(\n1499.             formset.cleaned_data,\n1500.             [', start_line_number=1466, end_line_number=1500), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='580.         # Retrieving an empty form works. Tt shows up in the form list.\n581.         self.assertTrue(formset.empty_form.empty_permitted)\n582.         self.assertHTMLEqual(\n583.             formset.empty_form.as_ul(),\n584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>\n585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",\n586.         )', start_line_number=580, end_line_number=586), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='588.     def test_formset_with_deletion(self):\n589.         """\n590.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n591.         each form. When that boolean field is True, the form will be in\n592.         formset.deleted_forms.\n593.         """\n594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n595.         initial = [\n596.             {"choice": "Calexico", "votes": 100},\n597.             {"choice": "Fergie", "votes": 900},\n598.         ]\n599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n600.         self.assertHTMLEqual(\n601.             "\\n".join(form.as_ul() for form in formset.forms),\n602.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n603.             "</li>"\n604.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n605.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n606.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n607.             "</li>"\n608.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n609.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n610.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n611.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n612.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\',\n613.         )\n614.         # To delete something, set that form\'s special delete field to \'on\'.\n615.         # Let\'s go ahead and delete Fergie.\n616.         data = {\n617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n621.             "choices-0-choice": "Calexico",\n622.             "choices-0-votes": "100",\n623.             "choices-0-DELETE": "",\n624.             "choices-1-choice": "Fergie",\n625.             "choices-1-votes": "900",\n626.             "choices-1-DELETE": "on",\n627.             "choices-2-choice": "",\n628.             "choices-2-votes": "",\n629.             "choices-2-DELETE": "",\n630.         }\n631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n632.         self.assertTrue(formset.is_valid())\n633.         self.assertEqual(\n634.             [form.cleaned_data for form in formset.forms],\n635.             [\n636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},\n637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},\n638.                 {},\n639.             ],\n640.         )\n641.         self.assertEqual(\n642.             [form.cleaned_data for form in formset.deleted_forms],\n643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],\n644.         )\n645. ', start_line_number=588, end_line_number=645), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='676.     def test_formset_with_deletion_invalid_deleted_form(self):\n677.         """\n678.         deleted_forms works on a valid formset even if a deleted form would\n679.         have been invalid.\n680.         """\n681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n682.         formset = FavoriteDrinkFormset(\n683.             {\n684.                 "form-0-name": "",\n685.                 "form-0-DELETE": "on",  # no name!\n686.                 "form-TOTAL_FORMS": 1,\n687.                 "form-INITIAL_FORMS": 1,\n688.                 "form-MIN_NUM_FORMS": 0,\n689.                 "form-MAX_NUM_FORMS": 1,\n690.             }\n691.         )\n692.         self.assertTrue(formset.is_valid())\n693.         self.assertEqual(formset._errors, [])\n694.         self.assertEqual(len(formset.deleted_forms), 1)\n695. ', start_line_number=676, end_line_number=695), Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='1459.     def test_can_delete_extra_formset_forms(self):\n1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)\n1461.         formset = ChoiceFormFormset()\n1462.         self.assertEqual(len(formset), 2)\n1463.         self.assertIn("DELETE", formset.forms[0].fields)\n1464.         self.assertIn("DELETE", formset.forms[1].fields)\n1465. ', start_line_number=1459, end_line_number=1465)]
2025-10-05 12:25:50,793 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 12:25:50,793 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
â”œâ”€â”€ .github
|   â”œâ”€â”€ CODE_OF_CONDUCT.md
|   â”œâ”€â”€ FUNDING.yml
|   â”œâ”€â”€ SECURITY.md
|   â””â”€â”€ workflows
|       â”œâ”€â”€ benchmark.yml
|       â”œâ”€â”€ docs.yml
|       â”œâ”€â”€ linters.yml
|       â”œâ”€â”€ new_contributor_pr.yml
|       â”œâ”€â”€ schedule_tests.yml
|       â”œâ”€â”€ schedules.yml
|       â””â”€â”€ tests.yml
â”œâ”€â”€ .pre-commit-config.yaml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ .tx
â”œâ”€â”€ CONTRIBUTING.rst
â”œâ”€â”€ Gruntfile.js
â”œâ”€â”€ README.rst
â”œâ”€â”€ django
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ __main__.py
|   â”œâ”€â”€ apps
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ config.py
|   |   â””â”€â”€ registry.py
|   â”œâ”€â”€ conf
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ app_template
|   |   |   â””â”€â”€ migrations
|   |   â”œâ”€â”€ global_settings.py
|   |   â”œâ”€â”€ locale
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ af
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ast
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ be
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ br
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ckb
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ de_CH
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ dsb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_NI
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_PR
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hsb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hy
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ia
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ig
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ io
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ kab
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ kk
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ lb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mr
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ my
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ne
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ os
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ pa
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sw
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tt
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ udm
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ur
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â””â”€â”€ zh_Hant
|   |   |       â”œâ”€â”€ LC_MESSAGES
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ formats.py
|   |   â”œâ”€â”€ project_template
|   |   |   â””â”€â”€ project_name
|   |   â””â”€â”€ urls
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ i18n.py
|   |       â””â”€â”€ static.py
|   â”œâ”€â”€ contrib
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ admin
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ actions.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ decorators.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ filters.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ helpers.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ am
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_logentry_remove_auto_add.py
|   |   |   |   â”œâ”€â”€ 0003_logentry_add_action_flag_choices.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ options.py
|   |   |   â”œâ”€â”€ sites.py
|   |   |   â”œâ”€â”€ static
|   |   |   |   â””â”€â”€ admin
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â”œâ”€â”€ admin
|   |   |   |   â””â”€â”€ registration
|   |   |   â”œâ”€â”€ templatetags
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ admin_list.py
|   |   |   |   â”œâ”€â”€ admin_modify.py
|   |   |   |   â”œâ”€â”€ admin_urls.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ log.py
|   |   |   â”œâ”€â”€ tests.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â”œâ”€â”€ views
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ autocomplete.py
|   |   |   |   â”œâ”€â”€ decorators.py
|   |   |   |   â””â”€â”€ main.py
|   |   |   â””â”€â”€ widgets.py
|   |   â”œâ”€â”€ admindocs
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ admin_doc
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ auth
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ backends.py
|   |   |   â”œâ”€â”€ base_user.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ context_processors.py
|   |   |   â”œâ”€â”€ decorators.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ handlers
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ modwsgi.py
|   |   |   â”œâ”€â”€ hashers.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_permission_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0003_alter_user_email_max_length.py
|   |   |   |   â”œâ”€â”€ 0004_alter_user_username_opts.py
|   |   |   |   â”œâ”€â”€ 0005_alter_user_last_login_null.py
|   |   |   |   â”œâ”€â”€ 0006_require_contenttypes_0002.py
|   |   |   |   â”œâ”€â”€ 0007_alter_validators_add_error_messages.py
|   |   |   |   â”œâ”€â”€ 0008_alter_user_username_max_length.py
|   |   |   |   â”œâ”€â”€ 0009_alter_user_last_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0010_alter_group_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0011_update_proxy_permissions.py
|   |   |   |   â”œâ”€â”€ 0012_alter_user_first_name_max_length.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ mixins.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ password_validation.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â”œâ”€â”€ auth
|   |   |   |   â””â”€â”€ registration
|   |   |   â”œâ”€â”€ tokens.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ validators.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ contenttypes
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ fields.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_remove_content_type_name.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ flatpages
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ sitemaps.py
|   |   |   â”œâ”€â”€ templatetags
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ flatpages.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ gis
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ options.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ db
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ backends
|   |   |   |   â””â”€â”€ models
|   |   |   â”œâ”€â”€ feeds.py
|   |   |   â”œâ”€â”€ forms
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ fields.py
|   |   |   |   â””â”€â”€ widgets.py
|   |   |   â”œâ”€â”€ gdal
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ datasource.py
|   |   |   |   â”œâ”€â”€ driver.py
|   |   |   |   â”œâ”€â”€ envelope.py
|   |   |   |   â”œâ”€â”€ error.py
|   |   |   |   â”œâ”€â”€ feature.py
|   |   |   |   â”œâ”€â”€ field.py
|   |   |   |   â”œâ”€â”€ geometries.py
|   |   |   |   â”œâ”€â”€ geomtype.py
|   |   |   |   â”œâ”€â”€ layer.py
|   |   |   |   â”œâ”€â”€ libgdal.py
|   |   |   |   â”œâ”€â”€ prototypes
|   |   |   |   â”œâ”€â”€ raster
|   |   |   |   â””â”€â”€ srs.py
|   |   |   â”œâ”€â”€ geoip2
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ resources.py
|   |   |   â”œâ”€â”€ geometry.py
|   |   |   â”œâ”€â”€ geos
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ collections.py
|   |   |   |   â”œâ”€â”€ coordseq.py
|   |   |   |   â”œâ”€â”€ error.py
|   |   |   |   â”œâ”€â”€ factory.py
|   |   |   |   â”œâ”€â”€ geometry.py
|   |   |   |   â”œâ”€â”€ io.py
|   |   |   |   â”œâ”€â”€ libgeos.py
|   |   |   |   â”œâ”€â”€ linestring.py
|   |   |   |   â”œâ”€â”€ mutable_list.py
|   |   |   |   â”œâ”€â”€ point.py
|   |   |   |   â”œâ”€â”€ polygon.py
|   |   |   |   â”œâ”€â”€ prepared.py
|   |   |   |   â””â”€â”€ prototypes
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ measure.py
|   |   |   â”œâ”€â”€ ptr.py
|   |   |   â”œâ”€â”€ serializers
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ geojson.py
|   |   |   â”œâ”€â”€ shortcuts.py
|   |   |   â”œâ”€â”€ sitemaps
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ kml.py
|   |   |   |   â””â”€â”€ views.py
|   |   |   â”œâ”€â”€ static
|   |   |   |   â””â”€â”€ gis
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ gis
|   |   |   â”œâ”€â”€ utils
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ layermapping.py
|   |   |   |   â”œâ”€â”€ ogrinfo.py
|   |   |   |   â”œâ”€â”€ ogrinspect.py
|   |   |   |   â””â”€â”€ srs.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ humanize
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â””â”€â”€ templatetags
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ humanize.py
|   |   â”œâ”€â”€ messages
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ api.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ context_processors.py
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ storage
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ cookie.py
|   |   |   |   â”œâ”€â”€ fallback.py
|   |   |   |   â””â”€â”€ session.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ postgres
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ aggregates
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ general.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â””â”€â”€ statistics.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ constraints.py
|   |   |   â”œâ”€â”€ expressions.py
|   |   |   â”œâ”€â”€ fields
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ array.py
|   |   |   |   â”œâ”€â”€ citext.py
|   |   |   |   â”œâ”€â”€ hstore.py
|   |   |   |   â”œâ”€â”€ jsonb.py
|   |   |   |   â”œâ”€â”€ ranges.py
|   |   |   |   â””â”€â”€ utils.py
|   |   |   â”œâ”€â”€ forms
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ array.py
|   |   |   |   â”œâ”€â”€ hstore.py
|   |   |   |   â””â”€â”€ ranges.py
|   |   |   â”œâ”€â”€ functions.py
|   |   |   â”œâ”€â”€ indexes.py
|   |   |   â”œâ”€â”€ jinja2
|   |   |   |   â””â”€â”€ postgres
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ lookups.py
|   |   |   â”œâ”€â”€ operations.py
|   |   |   â”œâ”€â”€ search.py
|   |   |   â”œâ”€â”€ serializers.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ postgres
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ validators.py
|   |   â”œâ”€â”€ redirects
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_redirect_new_path_help_text.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â””â”€â”€ models.py
|   |   â”œâ”€â”€ sessions
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ cache.py
|   |   |   |   â”œâ”€â”€ cached_db.py
|   |   |   |   â”œâ”€â”€ db.py
|   |   |   |   â”œâ”€â”€ file.py
|   |   |   |   â””â”€â”€ signed_cookies.py
|   |   |   â”œâ”€â”€ base_session.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â””â”€â”€ serializers.py
|   |   â”œâ”€â”€ sitemaps
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ templates
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ sites
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management.py
|   |   |   â”œâ”€â”€ managers.py
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_domain_unique.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ requests.py
|   |   |   â””â”€â”€ shortcuts.py
|   |   â”œâ”€â”€ staticfiles
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ finders.py
|   |   |   â”œâ”€â”€ handlers.py
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ storage.py
|   |   |   â”œâ”€â”€ testing.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â””â”€â”€ syndication
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ apps.py
|   |       â””â”€â”€ views.py
|   â”œâ”€â”€ core
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ asgi.py
|   |   â”œâ”€â”€ cache
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ db.py
|   |   |   |   â”œâ”€â”€ dummy.py
|   |   |   |   â”œâ”€â”€ filebased.py
|   |   |   |   â”œâ”€â”€ locmem.py
|   |   |   |   â”œâ”€â”€ memcached.py
|   |   |   |   â””â”€â”€ redis.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ checks
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ async_checks.py
|   |   |   â”œâ”€â”€ caches.py
|   |   |   â”œâ”€â”€ compatibility
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ django_4_0.py
|   |   |   â”œâ”€â”€ database.py
|   |   |   â”œâ”€â”€ files.py
|   |   |   â”œâ”€â”€ messages.py
|   |   |   â”œâ”€â”€ model_checks.py
|   |   |   â”œâ”€â”€ registry.py
|   |   |   â”œâ”€â”€ security
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ csrf.py
|   |   |   |   â””â”€â”€ sessions.py
|   |   |   â”œâ”€â”€ templates.py
|   |   |   â”œâ”€â”€ translation.py
|   |   |   â””â”€â”€ urls.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ files
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ images.py
|   |   |   â”œâ”€â”€ locks.py
|   |   |   â”œâ”€â”€ move.py
|   |   |   â”œâ”€â”€ storage
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ filesystem.py
|   |   |   |   â”œâ”€â”€ handler.py
|   |   |   |   â”œâ”€â”€ memory.py
|   |   |   |   â””â”€â”€ mixins.py
|   |   |   â”œâ”€â”€ temp.py
|   |   |   â”œâ”€â”€ uploadedfile.py
|   |   |   â”œâ”€â”€ uploadhandler.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ handlers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ asgi.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ exception.py
|   |   |   â””â”€â”€ wsgi.py
|   |   â”œâ”€â”€ mail
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ console.py
|   |   |   |   â”œâ”€â”€ dummy.py
|   |   |   |   â”œâ”€â”€ filebased.py
|   |   |   |   â”œâ”€â”€ locmem.py
|   |   |   |   â””â”€â”€ smtp.py
|   |   |   â”œâ”€â”€ message.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ management
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ color.py
|   |   |   â”œâ”€â”€ commands
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ check.py
|   |   |   |   â”œâ”€â”€ compilemessages.py
|   |   |   |   â”œâ”€â”€ createcachetable.py
|   |   |   |   â”œâ”€â”€ dbshell.py
|   |   |   |   â”œâ”€â”€ diffsettings.py
|   |   |   |   â”œâ”€â”€ dumpdata.py
|   |   |   |   â”œâ”€â”€ flush.py
|   |   |   |   â”œâ”€â”€ inspectdb.py
|   |   |   |   â”œâ”€â”€ loaddata.py
|   |   |   |   â”œâ”€â”€ makemessages.py
|   |   |   |   â”œâ”€â”€ makemigrations.py
|   |   |   |   â”œâ”€â”€ migrate.py
|   |   |   |   â”œâ”€â”€ optimizemigration.py
|   |   |   |   â”œâ”€â”€ runserver.py
|   |   |   |   â”œâ”€â”€ sendtestemail.py
|   |   |   |   â”œâ”€â”€ shell.py
|   |   |   |   â”œâ”€â”€ showmigrations.py
|   |   |   |   â”œâ”€â”€ sqlflush.py
|   |   |   |   â”œâ”€â”€ sqlmigrate.py
|   |   |   |   â”œâ”€â”€ sqlsequencereset.py
|   |   |   |   â”œâ”€â”€ squashmigrations.py
|   |   |   |   â”œâ”€â”€ startapp.py
|   |   |   |   â”œâ”€â”€ startproject.py
|   |   |   |   â”œâ”€â”€ test.py
|   |   |   |   â””â”€â”€ testserver.py
|   |   |   â”œâ”€â”€ sql.py
|   |   |   â”œâ”€â”€ templates.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ paginator.py
|   |   â”œâ”€â”€ serializers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ json.py
|   |   |   â”œâ”€â”€ jsonl.py
|   |   |   â”œâ”€â”€ python.py
|   |   |   â”œâ”€â”€ pyyaml.py
|   |   |   â””â”€â”€ xml_serializer.py
|   |   â”œâ”€â”€ servers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ basehttp.py
|   |   â”œâ”€â”€ signals.py
|   |   â”œâ”€â”€ signing.py
|   |   â”œâ”€â”€ validators.py
|   |   â””â”€â”€ wsgi.py
|   â”œâ”€â”€ db
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ backends
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ ddl_references.py
|   |   |   â”œâ”€â”€ dummy
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ features.py
|   |   |   â”œâ”€â”€ mysql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ compiler.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ oracle
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ functions.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â”œâ”€â”€ utils.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ postgresql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ psycopg_any.py
|   |   |   |   â””â”€â”€ schema.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ sqlite3
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ _functions.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â””â”€â”€ schema.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ migrations
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ autodetector.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ executor.py
|   |   |   â”œâ”€â”€ graph.py
|   |   |   â”œâ”€â”€ loader.py
|   |   |   â”œâ”€â”€ migration.py
|   |   |   â”œâ”€â”€ operations
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ fields.py
|   |   |   |   â”œâ”€â”€ models.py
|   |   |   |   â””â”€â”€ special.py
|   |   |   â”œâ”€â”€ optimizer.py
|   |   |   â”œâ”€â”€ questioner.py
|   |   |   â”œâ”€â”€ recorder.py
|   |   |   â”œâ”€â”€ serializer.py
|   |   |   â”œâ”€â”€ state.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ writer.py
|   |   â”œâ”€â”€ models
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ aggregates.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ constraints.py
|   |   |   â”œâ”€â”€ deletion.py
|   |   |   â”œâ”€â”€ enums.py
|   |   |   â”œâ”€â”€ expressions.py
|   |   |   â”œâ”€â”€ fields
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ files.py
|   |   |   |   â”œâ”€â”€ json.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â”œâ”€â”€ proxy.py
|   |   |   |   â”œâ”€â”€ related.py
|   |   |   |   â”œâ”€â”€ related_descriptors.py
|   |   |   |   â”œâ”€â”€ related_lookups.py
|   |   |   |   â””â”€â”€ reverse_related.py
|   |   |   â”œâ”€â”€ functions
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ comparison.py
|   |   |   |   â”œâ”€â”€ datetime.py
|   |   |   |   â”œâ”€â”€ math.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â”œâ”€â”€ text.py
|   |   |   |   â””â”€â”€ window.py
|   |   |   â”œâ”€â”€ indexes.py
|   |   |   â”œâ”€â”€ lookups.py
|   |   |   â”œâ”€â”€ manager.py
|   |   |   â”œâ”€â”€ options.py
|   |   |   â”œâ”€â”€ query.py
|   |   |   â”œâ”€â”€ query_utils.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ sql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ compiler.py
|   |   |   |   â”œâ”€â”€ constants.py
|   |   |   |   â”œâ”€â”€ datastructures.py
|   |   |   |   â”œâ”€â”€ query.py
|   |   |   |   â”œâ”€â”€ subqueries.py
|   |   |   |   â””â”€â”€ where.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ transaction.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ dispatch
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ dispatcher.py
|   |   â””â”€â”€ license.txt
|   â”œâ”€â”€ forms
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ boundfield.py
|   |   â”œâ”€â”€ fields.py
|   |   â”œâ”€â”€ forms.py
|   |   â”œâ”€â”€ formsets.py
|   |   â”œâ”€â”€ jinja2
|   |   |   â””â”€â”€ django
|   |   |       â””â”€â”€ forms
|   |   â”œâ”€â”€ models.py
|   |   â”œâ”€â”€ renderers.py
|   |   â”œâ”€â”€ templates
|   |   |   â””â”€â”€ django
|   |   |       â””â”€â”€ forms
|   |   â”œâ”€â”€ utils.py
|   |   â””â”€â”€ widgets.py
|   â”œâ”€â”€ http
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cookie.py
|   |   â”œâ”€â”€ multipartparser.py
|   |   â”œâ”€â”€ request.py
|   |   â””â”€â”€ response.py
|   â”œâ”€â”€ middleware
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ clickjacking.py
|   |   â”œâ”€â”€ common.py
|   |   â”œâ”€â”€ csrf.py
|   |   â”œâ”€â”€ gzip.py
|   |   â”œâ”€â”€ http.py
|   |   â”œâ”€â”€ locale.py
|   |   â””â”€â”€ security.py
|   â”œâ”€â”€ shortcuts.py
|   â”œâ”€â”€ template
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ autoreload.py
|   |   â”œâ”€â”€ backends
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ django.py
|   |   |   â”œâ”€â”€ dummy.py
|   |   |   â”œâ”€â”€ jinja2.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ base.py
|   |   â”œâ”€â”€ context.py
|   |   â”œâ”€â”€ context_processors.py
|   |   â”œâ”€â”€ defaultfilters.py
|   |   â”œâ”€â”€ defaulttags.py
|   |   â”œâ”€â”€ engine.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ library.py
|   |   â”œâ”€â”€ loader.py
|   |   â”œâ”€â”€ loader_tags.py
|   |   â”œâ”€â”€ loaders
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ app_directories.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ cached.py
|   |   |   â”œâ”€â”€ filesystem.py
|   |   |   â””â”€â”€ locmem.py
|   |   â”œâ”€â”€ response.py
|   |   â”œâ”€â”€ smartif.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ templatetags
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ l10n.py
|   |   â”œâ”€â”€ static.py
|   |   â””â”€â”€ tz.py
|   â”œâ”€â”€ test
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ client.py
|   |   â”œâ”€â”€ html.py
|   |   â”œâ”€â”€ runner.py
|   |   â”œâ”€â”€ selenium.py
|   |   â”œâ”€â”€ signals.py
|   |   â”œâ”€â”€ testcases.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ urls
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ base.py
|   |   â”œâ”€â”€ conf.py
|   |   â”œâ”€â”€ converters.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ resolvers.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ utils
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ _os.py
|   |   â”œâ”€â”€ archive.py
|   |   â”œâ”€â”€ asyncio.py
|   |   â”œâ”€â”€ autoreload.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ connection.py
|   |   â”œâ”€â”€ crypto.py
|   |   â”œâ”€â”€ datastructures.py
|   |   â”œâ”€â”€ dateformat.py
|   |   â”œâ”€â”€ dateparse.py
|   |   â”œâ”€â”€ dates.py
|   |   â”œâ”€â”€ deconstruct.py
|   |   â”œâ”€â”€ decorators.py
|   |   â”œâ”€â”€ deprecation.py
|   |   â”œâ”€â”€ duration.py
|   |   â”œâ”€â”€ encoding.py
|   |   â”œâ”€â”€ feedgenerator.py
|   |   â”œâ”€â”€ formats.py
|   |   â”œâ”€â”€ functional.py
|   |   â”œâ”€â”€ hashable.py
|   |   â”œâ”€â”€ html.py
|   |   â”œâ”€â”€ http.py
|   |   â”œâ”€â”€ inspect.py
|   |   â”œâ”€â”€ ipv6.py
|   |   â”œâ”€â”€ itercompat.py
|   |   â”œâ”€â”€ jslex.py
|   |   â”œâ”€â”€ log.py
|   |   â”œâ”€â”€ lorem_ipsum.py
|   |   â”œâ”€â”€ module_loading.py
|   |   â”œâ”€â”€ numberformat.py
|   |   â”œâ”€â”€ regex_helper.py
|   |   â”œâ”€â”€ safestring.py
|   |   â”œâ”€â”€ termcolors.py
|   |   â”œâ”€â”€ text.py
|   |   â”œâ”€â”€ timesince.py
|   |   â”œâ”€â”€ timezone.py
|   |   â”œâ”€â”€ translation
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ reloader.py
|   |   |   â”œâ”€â”€ template.py
|   |   |   â”œâ”€â”€ trans_null.py
|   |   |   â””â”€â”€ trans_real.py
|   |   â”œâ”€â”€ tree.py
|   |   â”œâ”€â”€ version.py
|   |   â””â”€â”€ xmlutils.py
|   â””â”€â”€ views
|       â”œâ”€â”€ __init__.py
|       â”œâ”€â”€ csrf.py
|       â”œâ”€â”€ debug.py
|       â”œâ”€â”€ decorators
|       |   â”œâ”€â”€ __init__.py
|       |   â”œâ”€â”€ cache.py
|       |   â”œâ”€â”€ clickjacking.py
|       |   â”œâ”€â”€ common.py
|       |   â”œâ”€â”€ csrf.py
|       |   â”œâ”€â”€ debug.py
|       |   â”œâ”€â”€ gzip.py
|       |   â”œâ”€â”€ http.py
|       |   â””â”€â”€ vary.py
|       â”œâ”€â”€ defaults.py
|       â”œâ”€â”€ generic
|       |   â”œâ”€â”€ __init__.py
|       |   â”œâ”€â”€ base.py
|       |   â”œâ”€â”€ dates.py
|       |   â”œâ”€â”€ detail.py
|       |   â”œâ”€â”€ edit.py
|       |   â””â”€â”€ list.py
|       â”œâ”€â”€ i18n.py
|       â”œâ”€â”€ static.py
|       â””â”€â”€ templates
|           â”œâ”€â”€ i18n_catalog.js
|           â””â”€â”€ technical_500.txt
â”œâ”€â”€ docs
|   â”œâ”€â”€ README.rst
|   â”œâ”€â”€ _ext
|   |   â””â”€â”€ djangodocs.py
|   â”œâ”€â”€ _theme
|   |   â”œâ”€â”€ djangodocs
|   |   |   â””â”€â”€ static
|   |   |       â””â”€â”€ fontawesome
|   |   â””â”€â”€ djangodocs-epub
|   |       â””â”€â”€ static
|   â”œâ”€â”€ conf.py
|   â”œâ”€â”€ contents.txt
|   â”œâ”€â”€ faq
|   |   â”œâ”€â”€ admin.txt
|   |   â”œâ”€â”€ contributing.txt
|   |   â”œâ”€â”€ general.txt
|   |   â”œâ”€â”€ help.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ install.txt
|   |   â”œâ”€â”€ models.txt
|   |   â”œâ”€â”€ troubleshooting.txt
|   |   â””â”€â”€ usage.txt
|   â”œâ”€â”€ glossary.txt
|   â”œâ”€â”€ howto
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ auth-remote-user.txt
|   |   â”œâ”€â”€ csrf.txt
|   |   â”œâ”€â”€ custom-file-storage.txt
|   |   â”œâ”€â”€ custom-lookups.txt
|   |   â”œâ”€â”€ custom-management-commands.txt
|   |   â”œâ”€â”€ custom-model-fields.txt
|   |   â”œâ”€â”€ custom-template-backend.txt
|   |   â”œâ”€â”€ custom-template-tags.txt
|   |   â”œâ”€â”€ deployment
|   |   |   â”œâ”€â”€ asgi
|   |   |   |   â”œâ”€â”€ daphne.txt
|   |   |   |   â”œâ”€â”€ hypercorn.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â””â”€â”€ uvicorn.txt
|   |   |   â”œâ”€â”€ checklist.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â””â”€â”€ wsgi
|   |   |       â”œâ”€â”€ apache-auth.txt
|   |   |       â”œâ”€â”€ gunicorn.txt
|   |   |       â”œâ”€â”€ index.txt
|   |   |       â”œâ”€â”€ modwsgi.txt
|   |   |       â””â”€â”€ uwsgi.txt
|   |   â”œâ”€â”€ error-reporting.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ initial-data.txt
|   |   â”œâ”€â”€ legacy-databases.txt
|   |   â”œâ”€â”€ logging.txt
|   |   â”œâ”€â”€ outputting-csv.txt
|   |   â”œâ”€â”€ outputting-pdf.txt
|   |   â”œâ”€â”€ overriding-templates.txt
|   |   â”œâ”€â”€ static-files
|   |   |   â”œâ”€â”€ deployment.txt
|   |   |   â””â”€â”€ index.txt
|   |   â”œâ”€â”€ upgrade-version.txt
|   |   â”œâ”€â”€ windows.txt
|   |   â””â”€â”€ writing-migrations.txt
|   â”œâ”€â”€ index.txt
|   â”œâ”€â”€ internals
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ contributing
|   |   |   â”œâ”€â”€ bugs-and-features.txt
|   |   |   â”œâ”€â”€ committing-code.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ localizing.txt
|   |   |   â”œâ”€â”€ new-contributors.txt
|   |   |   â”œâ”€â”€ triaging-tickets.txt
|   |   |   â”œâ”€â”€ writing-code
|   |   |   |   â”œâ”€â”€ coding-style.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ javascript.txt
|   |   |   |   â”œâ”€â”€ submitting-patches.txt
|   |   |   |   â”œâ”€â”€ unit-tests.txt
|   |   |   |   â””â”€â”€ working-with-git.txt
|   |   |   â””â”€â”€ writing-documentation.txt
|   |   â”œâ”€â”€ deprecation.txt
|   |   â”œâ”€â”€ git.txt
|   |   â”œâ”€â”€ howto-release-django.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ mailing-lists.txt
|   |   â”œâ”€â”€ organization.txt
|   |   â”œâ”€â”€ release-process.txt
|   |   â””â”€â”€ security.txt
|   â”œâ”€â”€ intro
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ contributing.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ install.txt
|   |   â”œâ”€â”€ overview.txt
|   |   â”œâ”€â”€ reusable-apps.txt
|   |   â”œâ”€â”€ tutorial01.txt
|   |   â”œâ”€â”€ tutorial02.txt
|   |   â”œâ”€â”€ tutorial03.txt
|   |   â”œâ”€â”€ tutorial04.txt
|   |   â”œâ”€â”€ tutorial05.txt
|   |   â”œâ”€â”€ tutorial06.txt
|   |   â”œâ”€â”€ tutorial07.txt
|   |   â”œâ”€â”€ tutorial08.txt
|   |   â””â”€â”€ whatsnext.txt
|   â”œâ”€â”€ man
|   â”œâ”€â”€ misc
|   |   â”œâ”€â”€ api-stability.txt
|   |   â”œâ”€â”€ design-philosophies.txt
|   |   â”œâ”€â”€ distributions.txt
|   |   â””â”€â”€ index.txt
|   â”œâ”€â”€ ref
|   |   â”œâ”€â”€ applications.txt
|   |   â”œâ”€â”€ checks.txt
|   |   â”œâ”€â”€ class-based-views
|   |   |   â”œâ”€â”€ base.txt
|   |   |   â”œâ”€â”€ flattened-index.txt
|   |   |   â”œâ”€â”€ generic-date-based.txt
|   |   |   â”œâ”€â”€ generic-display.txt
|   |   |   â”œâ”€â”€ generic-editing.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ mixins-date-based.txt
|   |   |   â”œâ”€â”€ mixins-editing.txt
|   |   |   â”œâ”€â”€ mixins-multiple-object.txt
|   |   |   â”œâ”€â”€ mixins-simple.txt
|   |   |   â”œâ”€â”€ mixins-single-object.txt
|   |   |   â””â”€â”€ mixins.txt
|   |   â”œâ”€â”€ clickjacking.txt
|   |   â”œâ”€â”€ contrib
|   |   |   â”œâ”€â”€ admin
|   |   |   |   â”œâ”€â”€ _images
|   |   |   |   â”œâ”€â”€ actions.txt
|   |   |   |   â”œâ”€â”€ admindocs.txt
|   |   |   |   â”œâ”€â”€ filters.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â””â”€â”€ javascript.txt
|   |   |   â”œâ”€â”€ auth.txt
|   |   |   â”œâ”€â”€ contenttypes.txt
|   |   |   â”œâ”€â”€ flatpages.txt
|   |   |   â”œâ”€â”€ gis
|   |   |   |   â”œâ”€â”€ admin.txt
|   |   |   |   â”œâ”€â”€ commands.txt
|   |   |   |   â”œâ”€â”€ db-api.txt
|   |   |   |   â”œâ”€â”€ deployment.txt
|   |   |   |   â”œâ”€â”€ feeds.txt
|   |   |   |   â”œâ”€â”€ forms-api.txt
|   |   |   |   â”œâ”€â”€ functions.txt
|   |   |   |   â”œâ”€â”€ gdal.txt
|   |   |   |   â”œâ”€â”€ geoip2.txt
|   |   |   |   â”œâ”€â”€ geoquerysets.txt
|   |   |   |   â”œâ”€â”€ geos.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ install
|   |   |   |   â”œâ”€â”€ layermapping.txt
|   |   |   |   â”œâ”€â”€ measure.txt
|   |   |   |   â”œâ”€â”€ model-api.txt
|   |   |   |   â”œâ”€â”€ ogrinspect.txt
|   |   |   |   â”œâ”€â”€ serializers.txt
|   |   |   |   â”œâ”€â”€ sitemaps.txt
|   |   |   |   â”œâ”€â”€ testing.txt
|   |   |   |   â”œâ”€â”€ tutorial.txt
|   |   |   |   â””â”€â”€ utils.txt
|   |   |   â”œâ”€â”€ humanize.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ messages.txt
|   |   |   â”œâ”€â”€ postgres
|   |   |   |   â”œâ”€â”€ aggregates.txt
|   |   |   |   â”œâ”€â”€ constraints.txt
|   |   |   |   â”œâ”€â”€ expressions.txt
|   |   |   |   â”œâ”€â”€ fields.txt
|   |   |   |   â”œâ”€â”€ forms.txt
|   |   |   |   â”œâ”€â”€ functions.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ indexes.txt
|   |   |   |   â”œâ”€â”€ lookups.txt
|   |   |   |   â”œâ”€â”€ operations.txt
|   |   |   |   â”œâ”€â”€ search.txt
|   |   |   |   â””â”€â”€ validators.txt
|   |   |   â”œâ”€â”€ redirects.txt
|   |   |   â”œâ”€â”€ sitemaps.txt
|   |   |   â”œâ”€â”€ sites.txt
|   |   |   â”œâ”€â”€ staticfiles.txt
|   |   |   â””â”€â”€ syndication.txt
|   |   â”œâ”€â”€ csrf.txt
|   |   â”œâ”€â”€ databases.txt
|   |   â”œâ”€â”€ django-admin.txt
|   |   â”œâ”€â”€ exceptions.txt
|   |   â”œâ”€â”€ files
|   |   |   â”œâ”€â”€ file.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ storage.txt
|   |   |   â””â”€â”€ uploads.txt
|   |   â”œâ”€â”€ forms
|   |   |   â”œâ”€â”€ api.txt
|   |   |   â”œâ”€â”€ fields.txt
|   |   |   â”œâ”€â”€ formsets.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ models.txt
|   |   |   â”œâ”€â”€ renderers.txt
|   |   |   â”œâ”€â”€ validation.txt
|   |   |   â””â”€â”€ widgets.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ logging.txt
|   |   â”œâ”€â”€ middleware.txt
|   |   â”œâ”€â”€ migration-operations.txt
|   |   â”œâ”€â”€ models
|   |   |   â”œâ”€â”€ class.txt
|   |   |   â”œâ”€â”€ conditional-expressions.txt
|   |   |   â”œâ”€â”€ constraints.txt
|   |   |   â”œâ”€â”€ database-functions.txt
|   |   |   â”œâ”€â”€ expressions.txt
|   |   |   â”œâ”€â”€ fields.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ indexes.txt
|   |   |   â”œâ”€â”€ instances.txt
|   |   |   â”œâ”€â”€ lookups.txt
|   |   |   â”œâ”€â”€ meta.txt
|   |   |   â”œâ”€â”€ options.txt
|   |   |   â”œâ”€â”€ querysets.txt
|   |   |   â””â”€â”€ relations.txt
|   |   â”œâ”€â”€ paginator.txt
|   |   â”œâ”€â”€ request-response.txt
|   |   â”œâ”€â”€ schema-editor.txt
|   |   â”œâ”€â”€ settings.txt
|   |   â”œâ”€â”€ signals.txt
|   |   â”œâ”€â”€ template-response.txt
|   |   â”œâ”€â”€ templates
|   |   |   â”œâ”€â”€ api.txt
|   |   |   â”œâ”€â”€ builtins.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â””â”€â”€ language.txt
|   |   â”œâ”€â”€ unicode.txt
|   |   â”œâ”€â”€ urlresolvers.txt
|   |   â”œâ”€â”€ urls.txt
|   |   â”œâ”€â”€ utils.txt
|   |   â”œâ”€â”€ validators.txt
|   |   â””â”€â”€ views.txt
|   â”œâ”€â”€ releases
|   |   â”œâ”€â”€ 0.95.txt
|   |   â”œâ”€â”€ 0.96.txt
|   |   â”œâ”€â”€ 1.0-porting-guide.txt
|   |   â”œâ”€â”€ 1.0.1.txt
|   |   â”œâ”€â”€ 1.0.2.txt
|   |   â”œâ”€â”€ 1.0.txt
|   |   â”œâ”€â”€ 1.1.2.txt
|   |   â”œâ”€â”€ 1.1.3.txt
|   |   â”œâ”€â”€ 1.1.4.txt
|   |   â”œâ”€â”€ 1.1.txt
|   |   â”œâ”€â”€ 1.10.1.txt
|   |   â”œâ”€â”€ 1.10.2.txt
|   |   â”œâ”€â”€ 1.10.3.txt
|   |   â”œâ”€â”€ 1.10.4.txt
|   |   â”œâ”€â”€ 1.10.5.txt
|   |   â”œâ”€â”€ 1.10.6.txt
|   |   â”œâ”€â”€ 1.10.7.txt
|   |   â”œâ”€â”€ 1.10.8.txt
|   |   â”œâ”€â”€ 1.10.txt
|   |   â”œâ”€â”€ 1.11.1.txt
|   |   â”œâ”€â”€ 1.11.10.txt
|   |   â”œâ”€â”€ 1.11.11.txt
|   |   â”œâ”€â”€ 1.11.12.txt
|   |   â”œâ”€â”€ 1.11.13.txt
|   |   â”œâ”€â”€ 1.11.14.txt
|   |   â”œâ”€â”€ 1.11.15.txt
|   |   â”œâ”€â”€ 1.11.16.txt
|   |   â”œâ”€â”€ 1.11.17.txt
|   |   â”œâ”€â”€ 1.11.18.txt
|   |   â”œâ”€â”€ 1.11.19.txt
|   |   â”œâ”€â”€ 1.11.2.txt
|   |   â”œâ”€â”€ 1.11.20.txt
|   |   â”œâ”€â”€ 1.11.21.txt
|   |   â”œâ”€â”€ 1.11.22.txt
|   |   â”œâ”€â”€ 1.11.23.txt
|   |   â”œâ”€â”€ 1.11.24.txt
|   |   â”œâ”€â”€ 1.11.25.txt
|   |   â”œâ”€â”€ 1.11.26.txt
|   |   â”œâ”€â”€ 1.11.27.txt
|   |   â”œâ”€â”€ 1.11.28.txt
|   |   â”œâ”€â”€ 1.11.29.txt
|   |   â”œâ”€â”€ 1.11.3.txt
|   |   â”œâ”€â”€ 1.11.4.txt
|   |   â”œâ”€â”€ 1.11.5.txt
|   |   â”œâ”€â”€ 1.11.6.txt
|   |   â”œâ”€â”€ 1.11.7.txt
|   |   â”œâ”€â”€ 1.11.8.txt
|   |   â”œâ”€â”€ 1.11.9.txt
|   |   â”œâ”€â”€ 1.11.txt
|   |   â”œâ”€â”€ 1.2.1.txt
|   |   â”œâ”€â”€ 1.2.2.txt
|   |   â”œâ”€â”€ 1.2.3.txt
|   |   â”œâ”€â”€ 1.2.4.txt
|   |   â”œâ”€â”€ 1.2.5.txt
|   |   â”œâ”€â”€ 1.2.6.txt
|   |   â”œâ”€â”€ 1.2.7.txt
|   |   â”œâ”€â”€ 1.2.txt
|   |   â”œâ”€â”€ 1.3.1.txt
|   |   â”œâ”€â”€ 1.3.2.txt
|   |   â”œâ”€â”€ 1.3.3.txt
|   |   â”œâ”€â”€ 1.3.4.txt
|   |   â”œâ”€â”€ 1.3.5.txt
|   |   â”œâ”€â”€ 1.3.6.txt
|   |   â”œâ”€â”€ 1.3.7.txt
|   |   â”œâ”€â”€ 1.3.txt
|   |   â”œâ”€â”€ 1.4.1.txt
|   |   â”œâ”€â”€ 1.4.10.txt
|   |   â”œâ”€â”€ 1.4.11.txt
|   |   â”œâ”€â”€ 1.4.12.txt
|   |   â”œâ”€â”€ 1.4.13.txt
|   |   â”œâ”€â”€ 1.4.14.txt
|   |   â”œâ”€â”€ 1.4.15.txt
|   |   â”œâ”€â”€ 1.4.16.txt
|   |   â”œâ”€â”€ 1.4.17.txt
|   |   â”œâ”€â”€ 1.4.18.txt
|   |   â”œâ”€â”€ 1.4.19.txt
|   |   â”œâ”€â”€ 1.4.2.txt
|   |   â”œâ”€â”€ 1.4.20.txt
|   |   â”œâ”€â”€ 1.4.21.txt
|   |   â”œâ”€â”€ 1.4.22.txt
|   |   â”œâ”€â”€ 1.4.3.txt
|   |   â”œâ”€â”€ 1.4.4.txt
|   |   â”œâ”€â”€ 1.4.5.txt
|   |   â”œâ”€â”€ 1.4.6.txt
|   |   â”œâ”€â”€ 1.4.7.txt
|   |   â”œâ”€â”€ 1.4.8.txt
|   |   â”œâ”€â”€ 1.4.9.txt
|   |   â”œâ”€â”€ 1.4.txt
|   |   â”œâ”€â”€ 1.5.1.txt
|   |   â”œâ”€â”€ 1.5.10.txt
|   |   â”œâ”€â”€ 1.5.11.txt
|   |   â”œâ”€â”€ 1.5.12.txt
|   |   â”œâ”€â”€ 1.5.2.txt
|   |   â”œâ”€â”€ 1.5.3.txt
|   |   â”œâ”€â”€ 1.5.4.txt
|   |   â”œâ”€â”€ 1.5.5.txt
|   |   â”œâ”€â”€ 1.5.6.txt
|   |   â”œâ”€â”€ 1.5.7.txt
|   |   â”œâ”€â”€ 1.5.8.txt
|   |   â”œâ”€â”€ 1.5.9.txt
|   |   â”œâ”€â”€ 1.5.txt
|   |   â”œâ”€â”€ 1.6.1.txt
|   |   â”œâ”€â”€ 1.6.10.txt
|   |   â”œâ”€â”€ 1.6.11.txt
|   |   â”œâ”€â”€ 1.6.2.txt
|   |   â”œâ”€â”€ 1.6.3.txt
|   |   â”œâ”€â”€ 1.6.4.txt
|   |   â”œâ”€â”€ 1.6.5.txt
|   |   â”œâ”€â”€ 1.6.6.txt
|   |   â”œâ”€â”€ 1.6.7.txt
|   |   â”œâ”€â”€ 1.6.8.txt
|   |   â”œâ”€â”€ 1.6.9.txt
|   |   â”œâ”€â”€ 1.6.txt
|   |   â”œâ”€â”€ 1.7.1.txt
|   |   â”œâ”€â”€ 1.7.10.txt
|   |   â”œâ”€â”€ 1.7.11.txt
|   |   â”œâ”€â”€ 1.7.2.txt
|   |   â”œâ”€â”€ 1.7.3.txt
|   |   â”œâ”€â”€ 1.7.4.txt
|   |   â”œâ”€â”€ 1.7.5.txt
|   |   â”œâ”€â”€ 1.7.6.txt
|   |   â”œâ”€â”€ 1.7.7.txt
|   |   â”œâ”€â”€ 1.7.8.txt
|   |   â”œâ”€â”€ 1.7.9.txt
|   |   â”œâ”€â”€ 1.7.txt
|   |   â”œâ”€â”€ 1.8.1.txt
|   |   â”œâ”€â”€ 1.8.10.txt
|   |   â”œâ”€â”€ 1.8.11.txt
|   |   â”œâ”€â”€ 1.8.12.txt
|   |   â”œâ”€â”€ 1.8.13.txt
|   |   â”œâ”€â”€ 1.8.14.txt
|   |   â”œâ”€â”€ 1.8.15.txt
|   |   â”œâ”€â”€ 1.8.16.txt
|   |   â”œâ”€â”€ 1.8.17.txt
|   |   â”œâ”€â”€ 1.8.18.txt
|   |   â”œâ”€â”€ 1.8.19.txt
|   |   â”œâ”€â”€ 1.8.2.txt
|   |   â”œâ”€â”€ 1.8.3.txt
|   |   â”œâ”€â”€ 1.8.4.txt
|   |   â”œâ”€â”€ 1.8.5.txt
|   |   â”œâ”€â”€ 1.8.6.txt
|   |   â”œâ”€â”€ 1.8.7.txt
|   |   â”œâ”€â”€ 1.8.8.txt
|   |   â”œâ”€â”€ 1.8.9.txt
|   |   â”œâ”€â”€ 1.8.txt
|   |   â”œâ”€â”€ 1.9.1.txt
|   |   â”œâ”€â”€ 1.9.10.txt
|   |   â”œâ”€â”€ 1.9.11.txt
|   |   â”œâ”€â”€ 1.9.12.txt
|   |   â”œâ”€â”€ 1.9.13.txt
|   |   â”œâ”€â”€ 1.9.2.txt
|   |   â”œâ”€â”€ 1.9.3.txt
|   |   â”œâ”€â”€ 1.9.4.txt
|   |   â”œâ”€â”€ 1.9.5.txt
|   |   â”œâ”€â”€ 1.9.6.txt
|   |   â”œâ”€â”€ 1.9.7.txt
|   |   â”œâ”€â”€ 1.9.8.txt
|   |   â”œâ”€â”€ 1.9.9.txt
|   |   â”œâ”€â”€ 1.9.txt
|   |   â”œâ”€â”€ 2.0.1.txt
|   |   â”œâ”€â”€ 2.0.10.txt
|   |   â”œâ”€â”€ 2.0.11.txt
|   |   â”œâ”€â”€ 2.0.12.txt
|   |   â”œâ”€â”€ 2.0.13.txt
|   |   â”œâ”€â”€ 2.0.2.txt
|   |   â”œâ”€â”€ 2.0.3.txt
|   |   â”œâ”€â”€ 2.0.4.txt
|   |   â”œâ”€â”€ 2.0.5.txt
|   |   â”œâ”€â”€ 2.0.6.txt
|   |   â”œâ”€â”€ 2.0.7.txt
|   |   â”œâ”€â”€ 2.0.8.txt
|   |   â”œâ”€â”€ 2.0.9.txt
|   |   â”œâ”€â”€ 2.0.txt
|   |   â”œâ”€â”€ 2.1.1.txt
|   |   â”œâ”€â”€ 2.1.10.txt
|   |   â”œâ”€â”€ 2.1.11.txt
|   |   â”œâ”€â”€ 2.1.12.txt
|   |   â”œâ”€â”€ 2.1.13.txt
|   |   â”œâ”€â”€ 2.1.14.txt
|   |   â”œâ”€â”€ 2.1.15.txt
|   |   â”œâ”€â”€ 2.1.2.txt
|   |   â”œâ”€â”€ 2.1.3.txt
|   |   â”œâ”€â”€ 2.1.4.txt
|   |   â”œâ”€â”€ 2.1.5.txt
|   |   â”œâ”€â”€ 2.1.6.txt
|   |   â”œâ”€â”€ 2.1.7.txt
|   |   â”œâ”€â”€ 2.1.8.txt
|   |   â”œâ”€â”€ 2.1.9.txt
|   |   â”œâ”€â”€ 2.1.txt
|   |   â”œâ”€â”€ 2.2.1.txt
|   |   â”œâ”€â”€ 2.2.10.txt
|   |   â”œâ”€â”€ 2.2.11.txt
|   |   â”œâ”€â”€ 2.2.12.txt
|   |   â”œâ”€â”€ 2.2.13.txt
|   |   â”œâ”€â”€ 2.2.14.txt
|   |   â”œâ”€â”€ 2.2.15.txt
|   |   â”œâ”€â”€ 2.2.16.txt
|   |   â”œâ”€â”€ 2.2.17.txt
|   |   â”œâ”€â”€ 2.2.18.txt
|   |   â”œâ”€â”€ 2.2.19.txt
|   |   â”œâ”€â”€ 2.2.2.txt
|   |   â”œâ”€â”€ 2.2.20.txt
|   |   â”œâ”€â”€ 2.2.21.txt
|   |   â”œâ”€â”€ 2.2.22.txt
|   |   â”œâ”€â”€ 2.2.23.txt
|   |   â”œâ”€â”€ 2.2.24.txt
|   |   â”œâ”€â”€ 2.2.25.txt
|   |   â”œâ”€â”€ 2.2.26.txt
|   |   â”œâ”€â”€ 2.2.27.txt
|   |   â”œâ”€â”€ 2.2.28.txt
|   |   â”œâ”€â”€ 2.2.3.txt
|   |   â”œâ”€â”€ 2.2.4.txt
|   |   â”œâ”€â”€ 2.2.5.txt
|   |   â”œâ”€â”€ 2.2.6.txt
|   |   â”œâ”€â”€ 2.2.7.txt
|   |   â”œâ”€â”€ 2.2.8.txt
|   |   â”œâ”€â”€ 2.2.9.txt
|   |   â”œâ”€â”€ 2.2.txt
|   |   â”œâ”€â”€ 3.0.1.txt
|   |   â”œâ”€â”€ 3.0.10.txt
|   |   â”œâ”€â”€ 3.0.11.txt
|   |   â”œâ”€â”€ 3.0.12.txt
|   |   â”œâ”€â”€ 3.0.13.txt
|   |   â”œâ”€â”€ 3.0.14.txt
|   |   â”œâ”€â”€ 3.0.2.txt
|   |   â”œâ”€â”€ 3.0.3.txt
|   |   â”œâ”€â”€ 3.0.4.txt
|   |   â”œâ”€â”€ 3.0.5.txt
|   |   â”œâ”€â”€ 3.0.6.txt
|   |   â”œâ”€â”€ 3.0.7.txt
|   |   â”œâ”€â”€ 3.0.8.txt
|   |   â”œâ”€â”€ 3.0.9.txt
|   |   â”œâ”€â”€ 3.0.txt
|   |   â”œâ”€â”€ 3.1.1.txt
|   |   â”œâ”€â”€ 3.1.10.txt
|   |   â”œâ”€â”€ 3.1.11.txt
|   |   â”œâ”€â”€ 3.1.12.txt
|   |   â”œâ”€â”€ 3.1.13.txt
|   |   â”œâ”€â”€ 3.1.14.txt
|   |   â”œâ”€â”€ 3.1.2.txt
|   |   â”œâ”€â”€ 3.1.3.txt
|   |   â”œâ”€â”€ 3.1.4.txt
|   |   â”œâ”€â”€ 3.1.5.txt
|   |   â”œâ”€â”€ 3.1.6.txt
|   |   â”œâ”€â”€ 3.1.7.txt
|   |   â”œâ”€â”€ 3.1.8.txt
|   |   â”œâ”€â”€ 3.1.9.txt
|   |   â”œâ”€â”€ 3.1.txt
|   |   â”œâ”€â”€ 3.2.1.txt
|   |   â”œâ”€â”€ 3.2.10.txt
|   |   â”œâ”€â”€ 3.2.11.txt
|   |   â”œâ”€â”€ 3.2.12.txt
|   |   â”œâ”€â”€ 3.2.13.txt
|   |   â”œâ”€â”€ 3.2.14.txt
|   |   â”œâ”€â”€ 3.2.15.txt
|   |   â”œâ”€â”€ 3.2.16.txt
|   |   â”œâ”€â”€ 3.2.17.txt
|   |   â”œâ”€â”€ 3.2.18.txt
|   |   â”œâ”€â”€ 3.2.2.txt
|   |   â”œâ”€â”€ 3.2.3.txt
|   |   â”œâ”€â”€ 3.2.4.txt
|   |   â”œâ”€â”€ 3.2.5.txt
|   |   â”œâ”€â”€ 3.2.6.txt
|   |   â”œâ”€â”€ 3.2.7.txt
|   |   â”œâ”€â”€ 3.2.8.txt
|   |   â”œâ”€â”€ 3.2.9.txt
|   |   â”œâ”€â”€ 3.2.txt
|   |   â”œâ”€â”€ 4.0.1.txt
|   |   â”œâ”€â”€ 4.0.10.txt
|   |   â”œâ”€â”€ 4.0.2.txt
|   |   â”œâ”€â”€ 4.0.3.txt
|   |   â”œâ”€â”€ 4.0.4.txt
|   |   â”œâ”€â”€ 4.0.5.txt
|   |   â”œâ”€â”€ 4.0.6.txt
|   |   â”œâ”€â”€ 4.0.7.txt
|   |   â”œâ”€â”€ 4.0.8.txt
|   |   â”œâ”€â”€ 4.0.9.txt
|   |   â”œâ”€â”€ 4.0.txt
|   |   â”œâ”€â”€ 4.1.1.txt
|   |   â”œâ”€â”€ 4.1.2.txt
|   |   â”œâ”€â”€ 4.1.3.txt
|   |   â”œâ”€â”€ 4.1.4.txt
|   |   â”œâ”€â”€ 4.1.5.txt
|   |   â”œâ”€â”€ 4.1.6.txt
|   |   â”œâ”€â”€ 4.1.7.txt
|   |   â”œâ”€â”€ 4.1.txt
|   |   â”œâ”€â”€ 4.2.txt
|   |   â”œâ”€â”€ 5.0.txt
|   |   â”œâ”€â”€ index.txt
|   |   â””â”€â”€ security.txt
|   â”œâ”€â”€ requirements.txt
|   â””â”€â”€ topics
|       â”œâ”€â”€ async.txt
|       â”œâ”€â”€ auth
|       |   â”œâ”€â”€ customizing.txt
|       |   â”œâ”€â”€ default.txt
|       |   â”œâ”€â”€ index.txt
|       |   â””â”€â”€ passwords.txt
|       â”œâ”€â”€ cache.txt
|       â”œâ”€â”€ checks.txt
|       â”œâ”€â”€ class-based-views
|       |   â”œâ”€â”€ generic-display.txt
|       |   â”œâ”€â”€ generic-editing.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ intro.txt
|       |   â””â”€â”€ mixins.txt
|       â”œâ”€â”€ conditional-view-processing.txt
|       â”œâ”€â”€ db
|       |   â”œâ”€â”€ aggregation.txt
|       |   â”œâ”€â”€ examples
|       |   |   â”œâ”€â”€ index.txt
|       |   |   â”œâ”€â”€ many_to_many.txt
|       |   |   â”œâ”€â”€ many_to_one.txt
|       |   |   â””â”€â”€ one_to_one.txt
|       |   â”œâ”€â”€ fixtures.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ instrumentation.txt
|       |   â”œâ”€â”€ managers.txt
|       |   â”œâ”€â”€ models.txt
|       |   â”œâ”€â”€ multi-db.txt
|       |   â”œâ”€â”€ optimization.txt
|       |   â”œâ”€â”€ queries.txt
|       |   â”œâ”€â”€ search.txt
|       |   â”œâ”€â”€ sql.txt
|       |   â”œâ”€â”€ tablespaces.txt
|       |   â””â”€â”€ transactions.txt
|       â”œâ”€â”€ email.txt
|       â”œâ”€â”€ external-packages.txt
|       â”œâ”€â”€ files.txt
|       â”œâ”€â”€ forms
|       |   â”œâ”€â”€ formsets.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ media.txt
|       |   â””â”€â”€ modelforms.txt
|       â”œâ”€â”€ http
|       |   â”œâ”€â”€ _images
|       |   â”œâ”€â”€ decorators.txt
|       |   â”œâ”€â”€ file-uploads.txt
|       |   â”œâ”€â”€ generic-views.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ middleware.txt
|       |   â”œâ”€â”€ sessions.txt
|       |   â”œâ”€â”€ shortcuts.txt
|       |   â”œâ”€â”€ urls.txt
|       |   â””â”€â”€ views.txt
|       â”œâ”€â”€ i18n
|       |   â”œâ”€â”€ formatting.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ timezones.txt
|       |   â””â”€â”€ translation.txt
|       â”œâ”€â”€ index.txt
|       â”œâ”€â”€ install.txt
|       â”œâ”€â”€ logging.txt
|       â”œâ”€â”€ migrations.txt
|       â”œâ”€â”€ pagination.txt
|       â”œâ”€â”€ performance.txt
|       â”œâ”€â”€ security.txt
|       â”œâ”€â”€ serialization.txt
|       â”œâ”€â”€ settings.txt
|       â”œâ”€â”€ signals.txt
|       â”œâ”€â”€ signing.txt
|       â”œâ”€â”€ templates.txt
|       â””â”€â”€ testing
|           â”œâ”€â”€ _images
|           â”œâ”€â”€ advanced.txt
|           â”œâ”€â”€ index.txt
|           â”œâ”€â”€ overview.txt
|           â””â”€â”€ tools.txt
â”œâ”€â”€ extras
â”œâ”€â”€ js_tests
|   â”œâ”€â”€ admin
|   |   â”œâ”€â”€ DateTimeShortcuts.test.js
|   |   â”œâ”€â”€ SelectBox.test.js
|   |   â”œâ”€â”€ SelectFilter2.test.js
|   |   â”œâ”€â”€ URLify.test.js
|   |   â”œâ”€â”€ actions.test.js
|   |   â”œâ”€â”€ core.test.js
|   |   â”œâ”€â”€ inlines.test.js
|   |   â”œâ”€â”€ jsi18n-mocks.test.js
|   |   â””â”€â”€ navigation.test.js
|   â””â”€â”€ gis
|       â””â”€â”€ mapwidget.test.js
â”œâ”€â”€ scripts
|   â”œâ”€â”€ manage_translations.py
|   â””â”€â”€ rpm-install.sh
â”œâ”€â”€ setup.py
â””â”€â”€ tests
    â”œâ”€â”€ README.rst
    â”œâ”€â”€ absolute_url_overrides
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_autodiscover
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_changelist
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_date_hierarchy.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_checks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_custom_urls
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_default_site
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ sites.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_docs
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ evilfile.txt
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ namespace_urls.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_utils.py
    |   â”œâ”€â”€ test_views.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ admin_filters
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_inlines
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_registration
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_scripts
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ another_app_waiting_migration
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_raising_messages
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_raising_warning
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_waiting_migration
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_with_import
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ broken_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ complex_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ admin
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ foo.py
    |   |   â”œâ”€â”€ management
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ commands
    |   |   â””â”€â”€ models
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ bar.py
    |   |       â””â”€â”€ foo.py
    |   â”œâ”€â”€ configured_dynamic_settings_manage.py
    |   â”œâ”€â”€ configured_settings_manage.py
    |   â”œâ”€â”€ custom_templates
    |   |   â”œâ”€â”€ app_template
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ api.py
    |   |   â””â”€â”€ project_template
    |   |       â”œâ”€â”€ .hidden
    |   |       â”œâ”€â”€ additional_dir
    |   |       â”œâ”€â”€ project_name
    |   |       â””â”€â”€ ticket-18091-non-ascii-template.txt
    |   â”œâ”€â”€ management
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ commands
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ app_command.py
    |   |       â”œâ”€â”€ base_command.py
    |   |       â”œâ”€â”€ custom_startproject.py
    |   |       â”œâ”€â”€ label_command.py
    |   |       â”œâ”€â”€ noargs_command.py
    |   |       â””â”€â”€ suppress_base_options_command.py
    |   â”œâ”€â”€ simple_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ management
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ commands
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_utils
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_logentry.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_views
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ custom_has_permission_admin.py
    |   â”œâ”€â”€ customadmin.py
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ admin
    |   |       â””â”€â”€ admin_views
    |   â”œâ”€â”€ test_actions.py
    |   â”œâ”€â”€ test_adminsite.py
    |   â”œâ”€â”€ test_autocomplete_view.py
    |   â”œâ”€â”€ test_breadcrumbs.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_history_view.py
    |   â”œâ”€â”€ test_multidb.py
    |   â”œâ”€â”€ test_nav_sidebar.py
    |   â”œâ”€â”€ test_skip_link_to_content.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ admin_widgets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_autocomplete_widget.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ widgetadmin.py
    â”œâ”€â”€ aggregation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_filter_argument.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ aggregation_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ annotations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ app_loading
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ eggs
    |   â”œâ”€â”€ not_installed
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ apps
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ namespace_package_base
    |   |   â””â”€â”€ nsapp
    |   |       â””â”€â”€ apps.py
    |   â”œâ”€â”€ namespace_package_other_base
    |   |   â””â”€â”€ nsapp
    |   â”œâ”€â”€ no_config_app
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ one_config_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ two_configs_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â”œâ”€â”€ two_configs_one_default_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â””â”€â”€ two_default_configs_app
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ apps.py
    â”œâ”€â”€ asgi
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ project
    |   |   â””â”€â”€ static
    |   |       â””â”€â”€ file.txt
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ async
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_async_model_methods.py
    |   â”œâ”€â”€ test_async_queryset.py
    |   â”œâ”€â”€ test_async_related_managers.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ auth_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ backend_alias.py
    |   â”œâ”€â”€ client.py
    |   â”œâ”€â”€ common-passwords-custom.txt
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ custom_permissions.py
    |   |   â”œâ”€â”€ custom_user.py
    |   |   â”œâ”€â”€ invalid_models.py
    |   |   â”œâ”€â”€ is_active.py
    |   |   â”œâ”€â”€ minimal.py
    |   |   â”œâ”€â”€ no_password.py
    |   |   â”œâ”€â”€ proxy.py
    |   |   â”œâ”€â”€ uuid_pk.py
    |   |   â”œâ”€â”€ with_custom_email_field.py
    |   |   â”œâ”€â”€ with_foreign_key.py
    |   |   â”œâ”€â”€ with_integer_username.py
    |   |   â”œâ”€â”€ with_last_login_attr.py
    |   |   â”œâ”€â”€ with_many_to_many.py
    |   |   â””â”€â”€ with_unique_constraint.py
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ context_processors
    |   |   â””â”€â”€ registration
    |   |       â””â”€â”€ password_reset_subject.txt
    |   â”œâ”€â”€ test_admin_multidb.py
    |   â”œâ”€â”€ test_auth_backends.py
    |   â”œâ”€â”€ test_basic.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_context_processors.py
    |   â”œâ”€â”€ test_decorators.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_handlers.py
    |   â”œâ”€â”€ test_hashers.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_migrations.py
    |   â”œâ”€â”€ test_mixins.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_remote_user.py
    |   â”œâ”€â”€ test_signals.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ test_tokens.py
    |   â”œâ”€â”€ test_validators.py
    |   â”œâ”€â”€ test_views.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_admin.py
    |   â””â”€â”€ urls_custom_user_admin.py
    â”œâ”€â”€ backends
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_unmigrated
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ test_base.py
    |   |   â”œâ”€â”€ test_client.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ test_schema.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ mysql
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_schema.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ oracle
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ postgresql
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_server_side_cursors.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ sqlite
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ test_ddl_references.py
    |   â”œâ”€â”€ test_utils.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ base
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ models.py
    â”œâ”€â”€ bash_completion
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ management
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ commands
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_command.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ basic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ builtin_server
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ bulk_create
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ cache
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ closeable_cache.py
    |   â”œâ”€â”€ liberal_backend.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ tests_async.py
    â”œâ”€â”€ check_framework
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ template_test_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ different_tags_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ apps.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â”œâ”€â”€ same_tags_app_1
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ apps.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â””â”€â”€ same_tags_app_2
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ apps.py
    |   |       â””â”€â”€ templatetags
    |   â”œâ”€â”€ test_4_0_compatibility.py
    |   â”œâ”€â”€ test_async_checks.py
    |   â”œâ”€â”€ test_caches.py
    |   â”œâ”€â”€ test_database.py
    |   â”œâ”€â”€ test_files.py
    |   â”œâ”€â”€ test_model_checks.py
    |   â”œâ”€â”€ test_model_field_deprecation.py
    |   â”œâ”€â”€ test_multi_db.py
    |   â”œâ”€â”€ test_security.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ test_translation.py
    |   â”œâ”€â”€ test_urls.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ bad_class_based_error_handlers.py
    |       â”œâ”€â”€ bad_error_handlers_invalid_path.py
    |       â”œâ”€â”€ bad_function_based_error_handlers.py
    |       â”œâ”€â”€ beginning_with_slash.py
    |       â”œâ”€â”€ cbv_as_view.py
    |       â”œâ”€â”€ contains_tuple.py
    |       â”œâ”€â”€ good_class_based_error_handlers.py
    |       â”œâ”€â”€ good_function_based_error_handlers.py
    |       â”œâ”€â”€ include_contains_tuple.py
    |       â”œâ”€â”€ include_with_dollar.py
    |       â”œâ”€â”€ name_with_colon.py
    |       â”œâ”€â”€ no_warnings.py
    |       â”œâ”€â”€ no_warnings_i18n.py
    |       â”œâ”€â”€ non_unique_namespaces.py
    |       â”œâ”€â”€ path_compatibility
    |       |   â”œâ”€â”€ __init__.py
    |       |   â”œâ”€â”€ beginning_with_caret.py
    |       |   â”œâ”€â”€ contains_re_named_group.py
    |       |   â””â”€â”€ ending_with_dollar.py
    |       â”œâ”€â”€ unique_namespaces.py
    |       â””â”€â”€ warning_in_include.py
    â”œâ”€â”€ conditional_processing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ constraints
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ contenttypes_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ operations_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_rename_foo.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_fields.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_migrations.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_order_with_respect_to.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ context_processors
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ context_processors
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ csrf_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ csrf_token_error_handler_urls.py
    |   â”œâ”€â”€ test_context_processor.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ custom_columns
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_lookups
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_managers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_methods
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_migration_operations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ more_operations.py
    |   â””â”€â”€ operations.py
    â”œâ”€â”€ custom_pk
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ datatypes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dates
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ datetimes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ db_functions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ comparison
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_cast.py
    |   |   â”œâ”€â”€ test_coalesce.py
    |   |   â”œâ”€â”€ test_collate.py
    |   |   â”œâ”€â”€ test_greatest.py
    |   |   â”œâ”€â”€ test_json_object.py
    |   |   â”œâ”€â”€ test_least.py
    |   |   â””â”€â”€ test_nullif.py
    |   â”œâ”€â”€ datetime
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_extract_trunc.py
    |   |   â””â”€â”€ test_now.py
    |   â”œâ”€â”€ math
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_abs.py
    |   |   â”œâ”€â”€ test_acos.py
    |   |   â”œâ”€â”€ test_asin.py
    |   |   â”œâ”€â”€ test_atan.py
    |   |   â”œâ”€â”€ test_atan2.py
    |   |   â”œâ”€â”€ test_ceil.py
    |   |   â”œâ”€â”€ test_cos.py
    |   |   â”œâ”€â”€ test_cot.py
    |   |   â”œâ”€â”€ test_degrees.py
    |   |   â”œâ”€â”€ test_exp.py
    |   |   â”œâ”€â”€ test_floor.py
    |   |   â”œâ”€â”€ test_ln.py
    |   |   â”œâ”€â”€ test_log.py
    |   |   â”œâ”€â”€ test_mod.py
    |   |   â”œâ”€â”€ test_pi.py
    |   |   â”œâ”€â”€ test_power.py
    |   |   â”œâ”€â”€ test_radians.py
    |   |   â”œâ”€â”€ test_random.py
    |   |   â”œâ”€â”€ test_round.py
    |   |   â”œâ”€â”€ test_sign.py
    |   |   â”œâ”€â”€ test_sin.py
    |   |   â”œâ”€â”€ test_sqrt.py
    |   |   â””â”€â”€ test_tan.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   â”œâ”€â”€ 0002_create_test_models.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ text
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_chr.py
    |   |   â”œâ”€â”€ test_concat.py
    |   |   â”œâ”€â”€ test_left.py
    |   |   â”œâ”€â”€ test_length.py
    |   |   â”œâ”€â”€ test_lower.py
    |   |   â”œâ”€â”€ test_md5.py
    |   |   â”œâ”€â”€ test_ord.py
    |   |   â”œâ”€â”€ test_pad.py
    |   |   â”œâ”€â”€ test_repeat.py
    |   |   â”œâ”€â”€ test_replace.py
    |   |   â”œâ”€â”€ test_reverse.py
    |   |   â”œâ”€â”€ test_right.py
    |   |   â”œâ”€â”€ test_sha1.py
    |   |   â”œâ”€â”€ test_sha224.py
    |   |   â”œâ”€â”€ test_sha256.py
    |   |   â”œâ”€â”€ test_sha384.py
    |   |   â”œâ”€â”€ test_sha512.py
    |   |   â”œâ”€â”€ test_strindex.py
    |   |   â”œâ”€â”€ test_substr.py
    |   |   â”œâ”€â”€ test_trim.py
    |   |   â””â”€â”€ test_upper.py
    |   â””â”€â”€ window
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_validation.py
    â”œâ”€â”€ db_typecasts
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ db_utils
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dbshell
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fake_client.py
    |   â”œâ”€â”€ test_mysql.py
    |   â”œâ”€â”€ test_oracle.py
    |   â”œâ”€â”€ test_postgresql.py
    |   â”œâ”€â”€ test_sqlite.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ decorators
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ defer
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ defer_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ delete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ delete_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ deprecation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_middleware_mixin.py
    |   â”œâ”€â”€ test_storages.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dispatch
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ distinct_on_fields
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ empty
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ no_models
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ empty_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ test_commands.py
    â”œâ”€â”€ expressions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_queryset_values.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ expressions_case
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ expressions_window
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ extra_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_deconstruction
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_defaults
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_subclassing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ file_storage
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_generate_filename.py
    |   â”œâ”€â”€ test_inmemory_storage.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ file_uploads
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ uploadhandler.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ files
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ filtered_relation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures_model_package
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ fixtures_1
    |   |   â””â”€â”€ inner
    |   â”œâ”€â”€ fixtures_2
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ flatpages_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ absolute_urls.py
    |   â”œâ”€â”€ no_slash_urls.py
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ flatpages
    |   |   â””â”€â”€ registration
    |   â”œâ”€â”€ test_csrf.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_sitemaps.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ force_insert_update
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ foreign_object
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ article.py
    |   |   â”œâ”€â”€ customers.py
    |   |   â”œâ”€â”€ empty_join.py
    |   |   â””â”€â”€ person.py
    |   â”œâ”€â”€ test_agnostic_order_trimjoin.py
    |   â”œâ”€â”€ test_empty_join.py
    |   â”œâ”€â”€ test_forms.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ forms_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ field_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ filepathfield_test_dir
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ a.py
    |   |   |   â”œâ”€â”€ ab.py
    |   |   |   â”œâ”€â”€ b.py
    |   |   |   â”œâ”€â”€ c
    |   |   |   â”œâ”€â”€ h
    |   |   |   â””â”€â”€ j
    |   |   â”œâ”€â”€ test_base.py
    |   |   â”œâ”€â”€ test_booleanfield.py
    |   |   â”œâ”€â”€ test_charfield.py
    |   |   â”œâ”€â”€ test_choicefield.py
    |   |   â”œâ”€â”€ test_combofield.py
    |   |   â”œâ”€â”€ test_datefield.py
    |   |   â”œâ”€â”€ test_datetimefield.py
    |   |   â”œâ”€â”€ test_decimalfield.py
    |   |   â”œâ”€â”€ test_durationfield.py
    |   |   â”œâ”€â”€ test_emailfield.py
    |   |   â”œâ”€â”€ test_filefield.py
    |   |   â”œâ”€â”€ test_filepathfield.py
    |   |   â”œâ”€â”€ test_floatfield.py
    |   |   â”œâ”€â”€ test_genericipaddressfield.py
    |   |   â”œâ”€â”€ test_imagefield.py
    |   |   â”œâ”€â”€ test_integerfield.py
    |   |   â”œâ”€â”€ test_jsonfield.py
    |   |   â”œâ”€â”€ test_multiplechoicefield.py
    |   |   â”œâ”€â”€ test_multivaluefield.py
    |   |   â”œâ”€â”€ test_nullbooleanfield.py
    |   |   â”œâ”€â”€ test_regexfield.py
    |   |   â”œâ”€â”€ test_slugfield.py
    |   |   â”œâ”€â”€ test_splitdatetimefield.py
    |   |   â”œâ”€â”€ test_timefield.py
    |   |   â”œâ”€â”€ test_typedchoicefield.py
    |   |   â”œâ”€â”€ test_typedmultiplechoicefield.py
    |   |   â”œâ”€â”€ test_urlfield.py
    |   |   â””â”€â”€ test_uuidfield.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ forms_tests
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ forms_tests
    |   â”œâ”€â”€ templatetags
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tags.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ filepath_test_files
    |   |   |   â”œâ”€â”€ directory
    |   |   |   â””â”€â”€ real-text-file.txt
    |   |   â”œâ”€â”€ test_error_messages.py
    |   |   â”œâ”€â”€ test_forms.py
    |   |   â”œâ”€â”€ test_formsets.py
    |   |   â”œâ”€â”€ test_i18n.py
    |   |   â”œâ”€â”€ test_input_formats.py
    |   |   â”œâ”€â”€ test_media.py
    |   |   â”œâ”€â”€ test_renderers.py
    |   |   â”œâ”€â”€ test_utils.py
    |   |   â”œâ”€â”€ test_validators.py
    |   |   â”œâ”€â”€ test_widgets.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ views.py
    |   â””â”€â”€ widget_tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ base.py
    |       â”œâ”€â”€ test_checkboxinput.py
    |       â”œâ”€â”€ test_checkboxselectmultiple.py
    |       â”œâ”€â”€ test_clearablefileinput.py
    |       â”œâ”€â”€ test_dateinput.py
    |       â”œâ”€â”€ test_datetimeinput.py
    |       â”œâ”€â”€ test_fileinput.py
    |       â”œâ”€â”€ test_hiddeninput.py
    |       â”œâ”€â”€ test_input.py
    |       â”œâ”€â”€ test_multiplehiddeninput.py
    |       â”œâ”€â”€ test_multiwidget.py
    |       â”œâ”€â”€ test_nullbooleanselect.py
    |       â”œâ”€â”€ test_numberinput.py
    |       â”œâ”€â”€ test_passwordinput.py
    |       â”œâ”€â”€ test_radioselect.py
    |       â”œâ”€â”€ test_select.py
    |       â”œâ”€â”€ test_selectdatewidget.py
    |       â”œâ”€â”€ test_selectmultiple.py
    |       â”œâ”€â”€ test_splitdatetimewidget.py
    |       â”œâ”€â”€ test_splithiddendatetimewidget.py
    |       â”œâ”€â”€ test_textarea.py
    |       â”œâ”€â”€ test_textinput.py
    |       â”œâ”€â”€ test_timeinput.py
    |       â””â”€â”€ test_widget.py
    â”œâ”€â”€ from_db_value
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_inline_admin
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ generic_relations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_forms.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_relations_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_views
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ generic_views
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ generic_views
    |   |   |   â””â”€â”€ robots.txt
    |   |   â””â”€â”€ registration
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_dates.py
    |   â”œâ”€â”€ test_detail.py
    |   â”œâ”€â”€ test_edit.py
    |   â”œâ”€â”€ test_list.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ get_earliest_or_latest
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ get_object_or_404
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ get_or_create
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ gis_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ data
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ ch-city
    |   |   â”œâ”€â”€ cities
    |   |   â”œâ”€â”€ counties
    |   |   â”œâ”€â”€ gas_lines
    |   |   â”œâ”€â”€ has_nulls
    |   |   â”œâ”€â”€ interstates
    |   |   â”œâ”€â”€ invalid
    |   |   â”œâ”€â”€ rasters
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ raster.numpy.txt
    |   |   |   â””â”€â”€ textrasters.py
    |   |   â”œâ”€â”€ test_point
    |   |   â”œâ”€â”€ test_poly
    |   |   â””â”€â”€ test_vrt
    |   â”œâ”€â”€ distapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ gdal_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_driver.py
    |   |   â”œâ”€â”€ test_ds.py
    |   |   â”œâ”€â”€ test_envelope.py
    |   |   â”œâ”€â”€ test_geom.py
    |   |   â”œâ”€â”€ test_raster.py
    |   |   â”œâ”€â”€ test_srs.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ geo3d
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ views.py
    |   â”œâ”€â”€ geoadmin
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls.py
    |   â”œâ”€â”€ geoapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ feeds.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ sitemaps.py
    |   |   â”œâ”€â”€ test_expressions.py
    |   |   â”œâ”€â”€ test_feeds.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_indexes.py
    |   |   â”œâ”€â”€ test_regress.py
    |   |   â”œâ”€â”€ test_serializers.py
    |   |   â”œâ”€â”€ test_sitemaps.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls.py
    |   â”œâ”€â”€ geogapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ geos_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_coordseq.py
    |   |   â”œâ”€â”€ test_geos.py
    |   |   â”œâ”€â”€ test_geos_mutation.py
    |   |   â”œâ”€â”€ test_io.py
    |   |   â””â”€â”€ test_mutable_list.py
    |   â”œâ”€â”€ gis_migrations
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   |   â”œâ”€â”€ 0002_create_models.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_commands.py
    |   |   â””â”€â”€ test_operations.py
    |   â”œâ”€â”€ inspectapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ layermap
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ rasterapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   |   â”œâ”€â”€ 0002_rastermodels.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ test_rasterfield.py
    |   â”œâ”€â”€ relatedapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ test_data.py
    |   â”œâ”€â”€ test_fields.py
    |   â”œâ”€â”€ test_geoforms.py
    |   â”œâ”€â”€ test_geoip2.py
    |   â”œâ”€â”€ test_gis_tests_utils.py
    |   â”œâ”€â”€ test_measure.py
    |   â”œâ”€â”€ test_ptr.py
    |   â”œâ”€â”€ test_spatialrefsys.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ handlers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ test_exception.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ tests_custom_error_handlers.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ httpwrappers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ abc.txt
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ humanize_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ i18n
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ commands
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_with_locale
    |   |   |   â””â”€â”€ locale
    |   |   â”œâ”€â”€ ignore_dir
    |   |   â”œâ”€â”€ javascript.js
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â”œâ”€â”€ es_AR
    |   |   |   â”œâ”€â”€ fr
    |   |   |   â”œâ”€â”€ hr
    |   |   |   â”œâ”€â”€ ja
    |   |   |   â”œâ”€â”€ ko
    |   |   |   â”œâ”€â”€ pt_BR
    |   |   |   â”œâ”€â”€ ru
    |   |   |   â””â”€â”€ xxx
    |   |   â”œâ”€â”€ media_root
    |   |   â”œâ”€â”€ someapp
    |   |   |   â””â”€â”€ static
    |   |   â”œâ”€â”€ static
    |   |   |   â””â”€â”€ javascript_ignored.js
    |   |   â””â”€â”€ templates
    |   |       â””â”€â”€ subdir
    |   â”œâ”€â”€ contenttypes
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â””â”€â”€ fr
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ exclude
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ canned_locale
    |   |       â”œâ”€â”€ en
    |   |       â”œâ”€â”€ fr
    |   |       â””â”€â”€ it
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ loading
    |   |   â”œâ”€â”€ en
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â”œâ”€â”€ en_AU
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â”œâ”€â”€ en_CA
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â””â”€â”€ en_NZ
    |   |       â””â”€â”€ LC_MESSAGES
    |   â”œâ”€â”€ loading_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ apps.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ en
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ other
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ de
    |   |       â””â”€â”€ fr
    |   â”œâ”€â”€ other2
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ patterns
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â”œâ”€â”€ nl
    |   |   |   â””â”€â”€ pt_BR
    |   |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ default.py
    |   |       â”œâ”€â”€ disabled.py
    |   |       â”œâ”€â”€ included.py
    |   |       â”œâ”€â”€ namespace.py
    |   |       â”œâ”€â”€ path_unused.py
    |   |       â”œâ”€â”€ wrong.py
    |   |       â””â”€â”€ wrong_namespace.py
    |   â”œâ”€â”€ project_dir
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_no_locale
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ app_with_locale
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ locale
    |   |   |   â””â”€â”€ models.py
    |   |   â””â”€â”€ project_locale
    |   â”œâ”€â”€ resolution
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ sampleproject
    |   |   â”œâ”€â”€ locale
    |   |   |   â””â”€â”€ fr
    |   |   â”œâ”€â”€ manage.py
    |   |   â”œâ”€â”€ sampleproject
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ settings.py
    |   |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ update_catalogs.py
    |   â”œâ”€â”€ territorial_fallback
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ de
    |   |       â””â”€â”€ de_DE
    |   â”œâ”€â”€ test_compilation.py
    |   â”œâ”€â”€ test_extraction.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_percents.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ unchanged
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_default_unprefixed.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ import_error_package
    |   â””â”€â”€ __init__.py
    â”œâ”€â”€ indexes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ inline_formsets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ inspectdb
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ introspection
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ invalid_models_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_backend_specific.py
    |   â”œâ”€â”€ test_custom_fields.py
    |   â”œâ”€â”€ test_deprecated_fields.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_ordinary_fields.py
    |   â””â”€â”€ test_relative_fields.py
    â”œâ”€â”€ known_related_objects
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ logging_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ logconfig.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_i18n.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_decimalfield.py
    |   â”œâ”€â”€ test_lookups.py
    |   â”œâ”€â”€ test_timefield.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_and_m2o
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_intermediary
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_multiple
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_recursive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_through
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_through_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_multitable.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2o_recursive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ mail
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ attachments
    |   |   â”œâ”€â”€ file.txt
    |   |   â””â”€â”€ file_png.txt
    |   â”œâ”€â”€ custombackend.py
    |   â”œâ”€â”€ test_sendtestemail.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ managers_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_many
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_one
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_one_null
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ max_lengths
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ messages_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_api.py
    |   â”œâ”€â”€ test_cookie.py
    |   â”œâ”€â”€ test_fallback.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_mixins.py
    |   â”œâ”€â”€ test_session.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ middleware
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ cond_get_urls.py
    |   â”œâ”€â”€ extra_urls.py
    |   â”œâ”€â”€ test_security.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ middleware_exceptions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ middleware.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ migrate_signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ custom_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ migration_test_data_persistence
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_add_book.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ migrations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ deprecated_field_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_remove_ipaddressfield_ip.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ faulty_migrations
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ file.py
    |   |   â””â”€â”€ namespace
    |   |       â””â”€â”€ foo
    |   â”œâ”€â”€ migrations_test_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ alter_fk
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ author_app
    |   |   |   â””â”€â”€ book_app
    |   |   â”œâ”€â”€ conflicting_app_with_dependencies
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ lookuperror_a
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ lookuperror_b
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ lookuperror_c
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ migrated_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ migrated_unapplied_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ mutate_state_a
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ mutate_state_b
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ normal
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ unmigrated_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unmigrated_app_simple
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unmigrated_app_syncdb
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unspecified_app_with_conflict
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ with_package_model
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models
    |   |   â””â”€â”€ without_init_file
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ migrations
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ related_models_app
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ routers.py
    |   â”œâ”€â”€ test_add_many_to_many_field_initial
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_auto_now_add
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_autodetector.py
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_commands.py
    |   â”œâ”€â”€ test_deprecated_fields.py
    |   â”œâ”€â”€ test_exceptions.py
    |   â”œâ”€â”€ test_executor.py
    |   â”œâ”€â”€ test_fake_initial_case_insensitive
    |   |   â”œâ”€â”€ fake_initial
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ initial
    |   |       â”œâ”€â”€ 0001_initial.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_graph.py
    |   â”œâ”€â”€ test_loader.py
    |   â”œâ”€â”€ test_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_atomic_operation
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_backwards_deps_1
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ 0002_second.py
    |   â”œâ”€â”€ test_migrations_bad_pyc
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_clashing_prefix
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ a.py
    |   |   â””â”€â”€ ab.py
    |   â”œâ”€â”€ test_migrations_conflict
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_conflict_long_name
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second_migration_with_long_name.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_custom_user
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_empty
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_fake_split_initial
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_first
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ second.py
    |   |   â””â”€â”€ thefirst.py
    |   â”œâ”€â”€ test_migrations_initial_false
    |   |   â”œâ”€â”€ 0001_not_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_manual_porting
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â”œâ”€â”€ 0004_fourth.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_namespace_package
    |   |   â””â”€â”€ 0001_initial.py
    |   â”œâ”€â”€ test_migrations_no_ancestor
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_changes
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_default
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_init
    |   â”œâ”€â”€ test_migrations_no_operations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_non_atomic
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_noop
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_order
    |   |   â”œâ”€â”€ 0001.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_plan
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â”œâ”€â”€ 0004_fourth.py
    |   |   â”œâ”€â”€ 0005_fifth.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_private
    |   |   â”œâ”€â”€ .util.py
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _util.py
    |   |   â””â”€â”€ ~util.py
    |   â”œâ”€â”€ test_migrations_run_before
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_complex
    |   |   â”œâ”€â”€ 1_auto.py
    |   |   â”œâ”€â”€ 2_auto.py
    |   |   â”œâ”€â”€ 3_auto.py
    |   |   â”œâ”€â”€ 3_squashed_5.py
    |   |   â”œâ”€â”€ 4_auto.py
    |   |   â”œâ”€â”€ 5_auto.py
    |   |   â”œâ”€â”€ 6_auto.py
    |   |   â”œâ”€â”€ 7_auto.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_complex_multi_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app1
    |   |   |   â”œâ”€â”€ 1_auto.py
    |   |   |   â”œâ”€â”€ 2_auto.py
    |   |   |   â”œâ”€â”€ 2_squashed_3.py
    |   |   |   â”œâ”€â”€ 3_auto.py
    |   |   |   â”œâ”€â”€ 4_auto.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ app2
    |   |       â”œâ”€â”€ 1_auto.py
    |   |       â”œâ”€â”€ 1_squashed_2.py
    |   |       â”œâ”€â”€ 2_auto.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_erroneous
    |   |   â”œâ”€â”€ 1_auto.py
    |   |   â”œâ”€â”€ 2_auto.py
    |   |   â”œâ”€â”€ 3_squashed_5.py
    |   |   â”œâ”€â”€ 6_auto.py
    |   |   â”œâ”€â”€ 7_auto.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_extra
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_no_replaces
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_ref_squashed
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app1
    |   |   |   â”œâ”€â”€ 1_auto.py
    |   |   |   â”œâ”€â”€ 2_auto.py
    |   |   |   â”œâ”€â”€ 2_squashed_3.py
    |   |   |   â”œâ”€â”€ 3_auto.py
    |   |   |   â”œâ”€â”€ 4_auto.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ app2
    |   |       â”œâ”€â”€ 1_auto.py
    |   |       â”œâ”€â”€ 1_squashed_2.py
    |   |       â”œâ”€â”€ 2_auto.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_unmigdep
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_multidb.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_optimizer.py
    |   â”œâ”€â”€ test_questioner.py
    |   â”œâ”€â”€ test_state.py
    |   â””â”€â”€ test_writer.py
    â”œâ”€â”€ migrations2
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_migrations_2
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_2_first
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ test_migrations_2_no_deps
    |       â”œâ”€â”€ 0001_initial.py
    |       â””â”€â”€ __init__.py
    â”œâ”€â”€ model_enums
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_fields
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_autofield.py
    |   â”œâ”€â”€ test_binaryfield.py
    |   â”œâ”€â”€ test_booleanfield.py
    |   â”œâ”€â”€ test_charfield.py
    |   â”œâ”€â”€ test_datetimefield.py
    |   â”œâ”€â”€ test_decimalfield.py
    |   â”œâ”€â”€ test_durationfield.py
    |   â”œâ”€â”€ test_field_flags.py
    |   â”œâ”€â”€ test_filefield.py
    |   â”œâ”€â”€ test_filepathfield.py
    |   â”œâ”€â”€ test_floatfield.py
    |   â”œâ”€â”€ test_foreignkey.py
    |   â”œâ”€â”€ test_genericipaddressfield.py
    |   â”œâ”€â”€ test_imagefield.py
    |   â”œâ”€â”€ test_integerfield.py
    |   â”œâ”€â”€ test_jsonfield.py
    |   â”œâ”€â”€ test_manytomanyfield.py
    |   â”œâ”€â”€ test_promises.py
    |   â”œâ”€â”€ test_slugfield.py
    |   â”œâ”€â”€ test_textfield.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_forms
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_modelchoicefield.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_formsets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_formsets_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_indexes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_inheritance
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_abstract_inheritance.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_inheritance_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_meta
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ results.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_options
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ default_related_name.py
    |   |   â””â”€â”€ tablespaces.py
    |   â”œâ”€â”€ test_default_pk.py
    |   â”œâ”€â”€ test_default_related_name.py
    |   â””â”€â”€ test_tablespaces.py
    â”œâ”€â”€ model_package
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ article.py
    |   |   â””â”€â”€ publication.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_pickle.py
    |   â”œâ”€â”€ test_state.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_utils
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ modeladmin
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_actions.py
    |   â”œâ”€â”€ test_checks.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ multiple_database
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ routers.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ mutually_referential
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ nested_foreign_keys
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ no_models
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_fk
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_fk_ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_queries
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ one_to_one
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ or_lookups
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ order_with_respect_to
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base_tests.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ pagination
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ custom.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ postgres_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ array_default_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_integerarraymodel_field_2.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ array_index_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ integration_settings.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   â”œâ”€â”€ 0002_create_test_models.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_aggregates.py
    |   â”œâ”€â”€ test_apps.py
    |   â”œâ”€â”€ test_array.py
    |   â”œâ”€â”€ test_bulk_update.py
    |   â”œâ”€â”€ test_citext.py
    |   â”œâ”€â”€ test_constraints.py
    |   â”œâ”€â”€ test_functions.py
    |   â”œâ”€â”€ test_hstore.py
    |   â”œâ”€â”€ test_indexes.py
    |   â”œâ”€â”€ test_integration.py
    |   â”œâ”€â”€ test_introspection.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_ranges.py
    |   â”œâ”€â”€ test_search.py
    |   â”œâ”€â”€ test_signals.py
    |   â”œâ”€â”€ test_trigram.py
    |   â””â”€â”€ test_unaccent.py
    â”œâ”€â”€ prefetch_related
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_prefetch_related_objects.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ project_template
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_settings.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ properties
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ proxy_model_inheritance
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ app1
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app2
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ proxy_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ queries
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_bulk_update.py
    |   â”œâ”€â”€ test_contains.py
    |   â”œâ”€â”€ test_db_returning.py
    |   â”œâ”€â”€ test_explain.py
    |   â”œâ”€â”€ test_iterator.py
    |   â”œâ”€â”€ test_q.py
    |   â”œâ”€â”€ test_qs_combinators.py
    |   â”œâ”€â”€ test_query.py
    |   â”œâ”€â”€ test_sqlcompiler.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ queryset_pickle
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ raw_query
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ redirects_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ requests_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_accept_header.py
    |   â”œâ”€â”€ test_data_upload_settings.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ requirements
    |   â”œâ”€â”€ mysql.txt
    |   â”œâ”€â”€ oracle.txt
    |   â”œâ”€â”€ postgres.txt
    |   â””â”€â”€ py3.txt
    â”œâ”€â”€ reserved_names
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ resolve_url
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ responses
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_cookie.py
    |   â”œâ”€â”€ test_fileresponse.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ reverse_lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ runtests.py
    â”œâ”€â”€ save_delete_hooks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ schema
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_logging.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_for_update
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related_onetoone
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ serializers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ base.py
    |   |   â”œâ”€â”€ data.py
    |   |   â”œâ”€â”€ multi_table.py
    |   |   â””â”€â”€ natural.py
    |   â”œâ”€â”€ test_data.py
    |   â”œâ”€â”€ test_deserializedobject.py
    |   â”œâ”€â”€ test_json.py
    |   â”œâ”€â”€ test_jsonl.py
    |   â”œâ”€â”€ test_natural.py
    |   â”œâ”€â”€ test_xml.py
    |   â”œâ”€â”€ test_yaml.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ servers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ another_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ static
    |   |       â””â”€â”€ another_app
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ media
    |   |   â””â”€â”€ example_media_file.txt
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ static
    |   |   â””â”€â”€ example_static_file.txt
    |   â”œâ”€â”€ test_basehttp.py
    |   â”œâ”€â”€ test_liveserverthread.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ sessions_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ no_clear_expired.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ settings_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ shell
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ shortcuts
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ shortcuts
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ shortcuts
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ signed_cookies_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ signing
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ sitemaps_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ test_generic.py
    |   â”œâ”€â”€ test_http.py
    |   â”œâ”€â”€ test_https.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_utils.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ empty.py
    |       â”œâ”€â”€ http.py
    |       â”œâ”€â”€ https.py
    |       â”œâ”€â”€ index_only.py
    |       â””â”€â”€ sitemap_only.py
    â”œâ”€â”€ sites_framework
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ sites_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ staticfiles_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ no_label
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ static
    |   |   â”œâ”€â”€ staticfiles_config.py
    |   |   â””â”€â”€ test
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ otherdir
    |   |       â””â”€â”€ static
    |   â”œâ”€â”€ cases.py
    |   â”œâ”€â”€ project
    |   |   â”œâ”€â”€ documents
    |   |   |   â”œâ”€â”€ absolute_root.js
    |   |   |   â”œâ”€â”€ cached
    |   |   |   â”œâ”€â”€ nested
    |   |   |   â”œâ”€â”€ subdir
    |   |   |   â”œâ”€â”€ test
    |   |   |   â””â”€â”€ test.txt
    |   |   â”œâ”€â”€ faulty
    |   |   â”œâ”€â”€ loop
    |   |   â”œâ”€â”€ pathlib
    |   |   |   â””â”€â”€ pathlib.txt
    |   |   â”œâ”€â”€ prefixed
    |   |   |   â””â”€â”€ test.txt
    |   |   â””â”€â”€ site_media
    |   |       â”œâ”€â”€ media
    |   |       â””â”€â”€ static
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ storage.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_finders.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_handlers.py
    |   â”œâ”€â”€ test_liveserver.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_storage.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ test_utils.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ default.py
    |       â””â”€â”€ helper.py
    â”œâ”€â”€ str
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ string_lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ swappable_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ syndication_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ feeds.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ syndication
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ template_backends
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ good
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â””â”€â”€ importerror
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ templatetags
    |   â”œâ”€â”€ forbidden
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ template_strings
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ test_django.py
    |   â”œâ”€â”€ test_dummy.py
    |   â”œâ”€â”€ test_jinja2.py
    |   â””â”€â”€ test_utils.py
    â”œâ”€â”€ template_loader
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ template_strings
    |   |   â””â”€â”€ template_loader
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_loader
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ template_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ alternate_urls.py
    |   â”œâ”€â”€ annotated_tag_function.py
    |   â”œâ”€â”€ broken_tag.py
    |   â”œâ”€â”€ eggs
    |   â”œâ”€â”€ filter_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_add.py
    |   |   â”œâ”€â”€ test_addslashes.py
    |   |   â”œâ”€â”€ test_autoescape.py
    |   |   â”œâ”€â”€ test_capfirst.py
    |   |   â”œâ”€â”€ test_center.py
    |   |   â”œâ”€â”€ test_chaining.py
    |   |   â”œâ”€â”€ test_cut.py
    |   |   â”œâ”€â”€ test_date.py
    |   |   â”œâ”€â”€ test_default.py
    |   |   â”œâ”€â”€ test_default_if_none.py
    |   |   â”œâ”€â”€ test_dictsort.py
    |   |   â”œâ”€â”€ test_dictsortreversed.py
    |   |   â”œâ”€â”€ test_divisibleby.py
    |   |   â”œâ”€â”€ test_escape.py
    |   |   â”œâ”€â”€ test_escapejs.py
    |   |   â”œâ”€â”€ test_filesizeformat.py
    |   |   â”œâ”€â”€ test_first.py
    |   |   â”œâ”€â”€ test_floatformat.py
    |   |   â”œâ”€â”€ test_force_escape.py
    |   |   â”œâ”€â”€ test_get_digit.py
    |   |   â”œâ”€â”€ test_iriencode.py
    |   |   â”œâ”€â”€ test_join.py
    |   |   â”œâ”€â”€ test_json_script.py
    |   |   â”œâ”€â”€ test_last.py
    |   |   â”œâ”€â”€ test_length.py
    |   |   â”œâ”€â”€ test_length_is.py
    |   |   â”œâ”€â”€ test_linebreaks.py
    |   |   â”œâ”€â”€ test_linebreaksbr.py
    |   |   â”œâ”€â”€ test_linenumbers.py
    |   |   â”œâ”€â”€ test_ljust.py
    |   |   â”œâ”€â”€ test_lower.py
    |   |   â”œâ”€â”€ test_make_list.py
    |   |   â”œâ”€â”€ test_phone2numeric.py
    |   |   â”œâ”€â”€ test_pluralize.py
    |   |   â”œâ”€â”€ test_random.py
    |   |   â”œâ”€â”€ test_rjust.py
    |   |   â”œâ”€â”€ test_safe.py
    |   |   â”œâ”€â”€ test_safeseq.py
    |   |   â”œâ”€â”€ test_slice.py
    |   |   â”œâ”€â”€ test_slugify.py
    |   |   â”œâ”€â”€ test_stringformat.py
    |   |   â”œâ”€â”€ test_striptags.py
    |   |   â”œâ”€â”€ test_time.py
    |   |   â”œâ”€â”€ test_timesince.py
    |   |   â”œâ”€â”€ test_timeuntil.py
    |   |   â”œâ”€â”€ test_title.py
    |   |   â”œâ”€â”€ test_truncatechars.py
    |   |   â”œâ”€â”€ test_truncatechars_html.py
    |   |   â”œâ”€â”€ test_truncatewords.py
    |   |   â”œâ”€â”€ test_truncatewords_html.py
    |   |   â”œâ”€â”€ test_unordered_list.py
    |   |   â”œâ”€â”€ test_upper.py
    |   |   â”œâ”€â”€ test_urlencode.py
    |   |   â”œâ”€â”€ test_urlize.py
    |   |   â”œâ”€â”€ test_urlizetrunc.py
    |   |   â”œâ”€â”€ test_wordcount.py
    |   |   â”œâ”€â”€ test_wordwrap.py
    |   |   â”œâ”€â”€ test_yesno.py
    |   |   â””â”€â”€ timezone_utils.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ template_tests
    |   â”œâ”€â”€ other_templates
    |   |   â””â”€â”€ priority
    |   â”œâ”€â”€ recursive_templates
    |   |   â”œâ”€â”€ fs
    |   |   â”œâ”€â”€ fs2
    |   |   â””â”€â”€ fs3
    |   â”œâ”€â”€ relative_templates
    |   |   â””â”€â”€ dir1
    |   |       â””â”€â”€ dir2
    |   â”œâ”€â”€ syntax_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ i18n
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ base.py
    |   |   |   â”œâ”€â”€ test_blocktranslate.py
    |   |   |   â”œâ”€â”€ test_filters.py
    |   |   |   â”œâ”€â”€ test_get_available_languages.py
    |   |   |   â”œâ”€â”€ test_get_current_language.py
    |   |   |   â”œâ”€â”€ test_get_current_language_bidi.py
    |   |   |   â”œâ”€â”€ test_get_language_info.py
    |   |   |   â”œâ”€â”€ test_get_language_info_list.py
    |   |   |   â”œâ”€â”€ test_language.py
    |   |   |   â”œâ”€â”€ test_translate.py
    |   |   |   â””â”€â”€ test_underscore_syntax.py
    |   |   â”œâ”€â”€ test_autoescape.py
    |   |   â”œâ”€â”€ test_basic.py
    |   |   â”œâ”€â”€ test_builtins.py
    |   |   â”œâ”€â”€ test_cache.py
    |   |   â”œâ”€â”€ test_comment.py
    |   |   â”œâ”€â”€ test_cycle.py
    |   |   â”œâ”€â”€ test_debug.py
    |   |   â”œâ”€â”€ test_exceptions.py
    |   |   â”œâ”€â”€ test_extends.py
    |   |   â”œâ”€â”€ test_filter_syntax.py
    |   |   â”œâ”€â”€ test_filter_tag.py
    |   |   â”œâ”€â”€ test_firstof.py
    |   |   â”œâ”€â”€ test_for.py
    |   |   â”œâ”€â”€ test_if.py
    |   |   â”œâ”€â”€ test_if_changed.py
    |   |   â”œâ”€â”€ test_include.py
    |   |   â”œâ”€â”€ test_invalid_string.py
    |   |   â”œâ”€â”€ test_list_index.py
    |   |   â”œâ”€â”€ test_load.py
    |   |   â”œâ”€â”€ test_lorem.py
    |   |   â”œâ”€â”€ test_multiline.py
    |   |   â”œâ”€â”€ test_named_endblock.py
    |   |   â”œâ”€â”€ test_now.py
    |   |   â”œâ”€â”€ test_numpy.py
    |   |   â”œâ”€â”€ test_regroup.py
    |   |   â”œâ”€â”€ test_resetcycle.py
    |   |   â”œâ”€â”€ test_setup.py
    |   |   â”œâ”€â”€ test_simple_tag.py
    |   |   â”œâ”€â”€ test_spaceless.py
    |   |   â”œâ”€â”€ test_static.py
    |   |   â”œâ”€â”€ test_template_tag.py
    |   |   â”œâ”€â”€ test_url.py
    |   |   â”œâ”€â”€ test_verbatim.py
    |   |   â”œâ”€â”€ test_width_ratio.py
    |   |   â””â”€â”€ test_with.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ first
    |   |   â”œâ”€â”€ priority
    |   |   â”œâ”€â”€ second
    |   |   â””â”€â”€ template_tests
    |   â”œâ”€â”€ templatetags
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bad_tag.py
    |   |   â”œâ”€â”€ custom.py
    |   |   â”œâ”€â”€ inclusion.py
    |   |   â”œâ”€â”€ subpackage
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ echo.py
    |   |   â”œâ”€â”€ tag_27584.py
    |   |   â””â”€â”€ testtags.py
    |   â”œâ”€â”€ test_autoreloader.py
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_callables.py
    |   â”œâ”€â”€ test_context.py
    |   â”œâ”€â”€ test_custom.py
    |   â”œâ”€â”€ test_engine.py
    |   â”œâ”€â”€ test_extends.py
    |   â”œâ”€â”€ test_extends_relative.py
    |   â”œâ”€â”€ test_library.py
    |   â”œâ”€â”€ test_loaders.py
    |   â”œâ”€â”€ test_logging.py
    |   â”œâ”€â”€ test_nodelist.py
    |   â”œâ”€â”€ test_origin.py
    |   â”œâ”€â”€ test_parser.py
    |   â”œâ”€â”€ test_response.py
    |   â”œâ”€â”€ test_smartif.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ utils.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ templates
    |   â”œâ”€â”€ comments
    |   |   â””â”€â”€ comment_notification_email.txt
    |   â”œâ”€â”€ custom_admin
    |   â””â”€â”€ views
    â”œâ”€â”€ test_client
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ auth_backends.py
    |   â”œâ”€â”€ test_conditional_content_removal.py
    |   â”œâ”€â”€ test_fakepayload.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_middleware_urlconf.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ test_client_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ auth_backends.py
    |   â”œâ”€â”€ bad_templates
    |   â”œâ”€â”€ context_processors.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ session.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ test_exceptions
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ test_validation_error.py
    â”œâ”€â”€ test_runner
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ runner.py
    |   â”œâ”€â”€ test_debug_sql.py
    |   â”œâ”€â”€ test_discover_runner.py
    |   â”œâ”€â”€ test_parallel.py
    |   â”œâ”€â”€ test_shuffler.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ test_runner_apps
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ buffer
    |   |   â””â”€â”€ tests_buffer.py
    |   â”œâ”€â”€ databases
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ failures
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests_failures.py
    |   â”œâ”€â”€ sample
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ doctests.py
    |   |   â”œâ”€â”€ empty.py
    |   |   â”œâ”€â”€ pattern_tests.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ tests.py
    |   |   â””â”€â”€ tests_sample.py
    |   â”œâ”€â”€ simple
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests.py
    |   â””â”€â”€ tagged
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ tests.py
    |       â”œâ”€â”€ tests_inheritance.py
    |       â””â”€â”€ tests_syntax_error.py
    â”œâ”€â”€ test_sqlite.py
    â”œâ”€â”€ test_utils
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_used
    |   â”œâ”€â”€ test_serializemixin.py
    |   â”œâ”€â”€ test_simpletestcase.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Formsets' add_fields() method fails in some circumstances if the argument index is None.

Issue description: 
Description
	
Formsets' add_fields() method fails in some circumstances if the argument index is None.
When a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: '<' not supported between instances of 'NoneType' and 'int'. 
Code example:
MyFormSet = forms.formset_factory(
	form=MyForm,
	can_delete=True,
	can_delete_extra=False,
)
my_formset = MyFormSet(
	initial=None,
)
print(my_formset.empty_form)
The reason this happens is that in in line 493 of [django.forms.formsets](â€‹https://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:
if self.can_delete and (self.can_delete_extra or index < initial_form_count):
Checking for index not None should fix the issue:
if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
How to Reproduce
A self-contained example to reproduce this bug is as follows:
#!/usr/bin/env python3
import os
import django
from django import forms
class MyForm(forms.Form):
	my_field = forms.CharField()
if __name__ == "__main__":
	settings_file = os.path.splitext(os.path.basename(__file__))[0]
	django.conf.settings.configure(
		DEBUG=True,
		MIDDLEWARE_CLASSES=[],
		ROOT_URLCONF=settings_file,
	)
	django.setup()
	MyFormSet = forms.formset_factory(
		form=MyForm,
		can_delete=True,
		can_delete_extra=False,
	)
	my_formset = MyFormSet(
		initial=None,
	)
	print(my_formset.empty_form)

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 1466 - 1500
Content:
1466.     def test_disable_delete_extra_formset_forms(self):
1467.         ChoiceFormFormset = formset_factory(
1468.             form=Choice,
1469.             can_delete=True,
1470.             can_delete_extra=False,
1471.             extra=2,
1472.         )
1473.         formset = ChoiceFormFormset()
1474.         self.assertEqual(len(formset), 2)
1475.         self.assertNotIn("DELETE", formset.forms[0].fields)
1476.         self.assertNotIn("DELETE", formset.forms[1].fields)
1477. 
1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])
1479.         self.assertEqual(len(formset), 3)
1480.         self.assertIn("DELETE", formset.forms[0].fields)
1481.         self.assertNotIn("DELETE", formset.forms[1].fields)
1482.         self.assertNotIn("DELETE", formset.forms[2].fields)
1483. 
1484.         formset = ChoiceFormFormset(
1485.             data={
1486.                 "form-0-choice": "Zero",
1487.                 "form-0-votes": "0",
1488.                 "form-0-DELETE": "on",
1489.                 "form-1-choice": "One",
1490.                 "form-1-votes": "1",
1491.                 "form-2-choice": "",
1492.                 "form-2-votes": "",
1493.                 "form-TOTAL_FORMS": "3",
1494.                 "form-INITIAL_FORMS": "1",
1495.             },
1496.             initial=[{"choice": "Zero", "votes": "1"}],
1497.         )
1498.         self.assertEqual(
1499.             formset.cleaned_data,
1500.             [


File: tests/forms_tests/tests/test_formsets.py
Line number range: 580 - 586
Content:
580.         # Retrieving an empty form works. Tt shows up in the form list.
581.         self.assertTrue(formset.empty_form.empty_permitted)
582.         self.assertHTMLEqual(
583.             formset.empty_form.as_ul(),
584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",
586.         )


File: tests/forms_tests/tests/test_formsets.py
Line number range: 588 - 645
Content:
588.     def test_formset_with_deletion(self):
589.         """
590.         formset_factory's can_delete argument adds a boolean "delete" field to
591.         each form. When that boolean field is True, the form will be in
592.         formset.deleted_forms.
593.         """
594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
595.         initial = [
596.             {"choice": "Calexico", "votes": 100},
597.             {"choice": "Fergie", "votes": 900},
598.         ]
599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
600.         self.assertHTMLEqual(
601.             "\n".join(form.as_ul() for form in formset.forms),
602.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
603.             "</li>"
604.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
605.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
606.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
607.             "</li>"
608.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
609.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
610.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
611.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
612.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>',
613.         )
614.         # To delete something, set that form's special delete field to 'on'.
615.         # Let's go ahead and delete Fergie.
616.         data = {
617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
621.             "choices-0-choice": "Calexico",
622.             "choices-0-votes": "100",
623.             "choices-0-DELETE": "",
624.             "choices-1-choice": "Fergie",
625.             "choices-1-votes": "900",
626.             "choices-1-DELETE": "on",
627.             "choices-2-choice": "",
628.             "choices-2-votes": "",
629.             "choices-2-DELETE": "",
630.         }
631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
632.         self.assertTrue(formset.is_valid())
633.         self.assertEqual(
634.             [form.cleaned_data for form in formset.forms],
635.             [
636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},
637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},
638.                 {},
639.             ],
640.         )
641.         self.assertEqual(
642.             [form.cleaned_data for form in formset.deleted_forms],
643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],
644.         )
645. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 676 - 695
Content:
676.     def test_formset_with_deletion_invalid_deleted_form(self):
677.         """
678.         deleted_forms works on a valid formset even if a deleted form would
679.         have been invalid.
680.         """
681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
682.         formset = FavoriteDrinkFormset(
683.             {
684.                 "form-0-name": "",
685.                 "form-0-DELETE": "on",  # no name!
686.                 "form-TOTAL_FORMS": 1,
687.                 "form-INITIAL_FORMS": 1,
688.                 "form-MIN_NUM_FORMS": 0,
689.                 "form-MAX_NUM_FORMS": 1,
690.             }
691.         )
692.         self.assertTrue(formset.is_valid())
693.         self.assertEqual(formset._errors, [])
694.         self.assertEqual(len(formset.deleted_forms), 1)
695. 


File: tests/forms_tests/tests/test_formsets.py
Line number range: 1459 - 1465
Content:
1459.     def test_can_delete_extra_formset_forms(self):
1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)
1461.         formset = ChoiceFormFormset()
1462.         self.assertEqual(len(formset), 2)
1463.         self.assertIn("DELETE", formset.forms[0].fields)
1464.         self.assertIn("DELETE", formset.forms[1].fields)
1465. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 12:26:12,798 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="1. The user wants to find 5 relevant existing test cases for a bug related to Django Formsets, specifically when `can_delete=True` and `can_delete_extra=False`.\n2. The provided context includes several snippets from `tests/forms_tests/tests/test_formsets.py`.\n3. While these snippets are relevant, they are incomplete. They are missing file-level imports and definitions for form classes like `Choice` and `FavoriteDrinkForm` that are used in the tests.\n4. To fulfill the user's request for complete, self-contained test cases, I need the full content of the test file to be able to extract the tests with all their dependencies." refined_query='Please provide the full content of the file `tests/forms_tests/tests/test_formsets.py`.'
2025-10-05 12:26:15,299 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py"}'}, '__gemini_function_call_thought_signatures__': {'86a42341-eb42-4c79-b880-afec5b734225': 'CugDAR/Mhbb8Bpxn7WWGpsayFJ+J43/47kynhHRTpEh0UgWfFYEZmkhSr5LXirC/jCKxjaUTg0AnZEZoBky0SjhEodyhbAIDkvH7rW/1QDgRE0jB7TTcs7hTg3OPd+vQuj3V9wwxiLnZXDIgWJrDshZzq7vyIzKaVrTEWNY9SisRKPrFrpXkvdXgI7sVpOC+0Dtc/WDqkARuAlBahQ9GQLsI+umGFNCi6ZT0HqisY/XBAEWVwRZC1DRzYwZYa4ROnO4BI8vJTkTBKAzOQdTN6h4nCdR6NpQaVzxkcSptZButn1FddIr+ZJE/gcpP82KJuxqT9873mcn4w27hKjUEE9rkd/0aS2xmmXGU9IgdwAbd+kk1h3xm4EdL7bka7As6D29ryaGDRrsq09GdQ58yu4SX4B8m/qhDQTbo3qeebGIr7gETHHVFZpi7i6dG+IejkjRpxQ3J9Ttxwq0jXmp6b3+woct4Ni16aQa0Xh21x392ZdiCpmjx2LHEBBeo+6ZSvO7KidGGGryzlOcbY8WmZMcerzZopAjtMeJ3vfRjtorKrAOiOYp14F/r9ZXLwWcR6RWGxPq4BperYPXbe3hnJluyQepC55BnnpY0ckbpZsYoR7nLUK6biri0E/6Yh/HN3qWn3wZ6fBxvCOU='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56565, 'candidates_token_count': 28, 'total_token_count': 56724, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56565}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 28}], 'thoughts_token_count': 131, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10752836295536586, 'model_name': 'gemini-2.5-pro'} id='run--c7294dc4-59c6-47c4-8690-a24de49df60b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py'}, 'id': '86a42341-eb42-4c79-b880-afec5b734225', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56565, 'output_tokens': 28, 'total_tokens': 56724, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 131}}
2025-10-05 12:26:18,539 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 500.0, "relative_path": "tests/forms_tests/tests/test_formsets.py", "end_line": 1500.0}'}, '__gemini_function_call_thought_signatures__': {'e7ccf99f-e42b-4dcb-89e8-62bd07d80137': 'CtADAR/Mhba3drRAXz5wbdfQQ9d6UEktCqmWusNCM1enaS0Q9dBeA8oKi1N9YKYEJQ7g3WeeHjLIVv0/MSc+NkNp5ywCkLhWmaPRgcfg50o9+27thhjt3L19rTx21A81KcQ1spjThwWb3h01yYKIblnLXuPSTmjG3z7Ye7dd4zsXn0vaW5+SYGm7OzcZ6Plz46ab/uufWX4PnFF4w5dBDK4rQXGZ+SFJMakQea9G2x5UQI2ovTR2rh3vWn1fbmtdM7SmfHeSNW3SQLQ4aoTP0D+cp05voUWjvZjJlBx+L8QxVRmPvfnIEnhtsFJgFcO4D4r+STKjbk/n+03X+VFIETfrNunIUhvhu1+pT8WwtxleeXtCJ2NaLpYtpWsIh6ubq0MueDjJrq7KdUn+dAulfPG4u7eMv7E5KVIo7M8cdxZYVqEP11Ee373IeKwh+gzy3Nef61wZhjotyBm6+M1xnnYVv3gW7Gys3ME3OSkzDYg9gM9UA7el0engalxLhTTgV2+XnGPL/KzJMAIT4Z37LSUPRNxlTpTJ1RKK2WZ90OTykzcuk+VhVakb/I6TNm16DbdpSfs74UyW5TW5BDm9qfwtsL8w8ecJLHbeL6MRS65LVVs='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 64573, 'candidates_token_count': 34, 'total_token_count': 64737, 'prompt_tokens_details': [{'modality': 1, 'token_count': 64702}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 34}], 'thoughts_token_count': 130, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2903764668632956, 'model_name': 'gemini-2.5-pro'} id='run--9bb8cf81-1920-4632-b095-8c74f8937bb4-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 500.0, 'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'end_line': 1500.0}, 'id': 'e7ccf99f-e42b-4dcb-89e8-62bd07d80137', 'type': 'tool_call'}] usage_metadata={'input_tokens': 64573, 'output_tokens': 34, 'total_tokens': 64737, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 130}}
2025-10-05 12:26:22,223 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1500.0, "relative_path": "tests/forms_tests/tests/test_formsets.py", "end_line": 2500.0}'}, '__gemini_function_call_thought_signatures__': {'0f14fab6-bfa8-40e0-8496-b66cc4cb164e': 'CrsCAR/MhbYDVexGteIQFPqatetanPpt+A6VQIb3ljzWiLoXhSlI40SmVFI0TV2ZlTouIAd9MnZn4mzaFenAGqplHEfG7PGGZxIlPVywkeqHTO98VlCL2UZdeaE739IvNcvbWumyJKfrwhZwsta30mi6Vg7XhIgk7cZqmjvArG7XxlWUjZ+kkuNu+nWxcQdnZbauoS6rNgIQDWv+DDsuWYF7jgCXtJyw7/uit2Gc581E6VR+7J9dyedg0zsehYwlH0FW9ecD9WpTffu5rTksAQi9bm+iG5XUPiUvf+0EjZ1FLedmKTjZcRJ+zvpAs+XJ38Wnx5tbZGwjfITOU7JRNGbjRvhDb6z211INpLkkAcI8MDS2stx/SJgSIWAN+xYUd3lzzrFvSCA1aM9rUlo9UtvUR+sbn8UoC7mLptf/'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 82324, 'candidates_token_count': 34, 'total_token_count': 82448, 'cached_content_token_count': 64075, 'prompt_tokens_details': [{'modality': 1, 'token_count': 82581}], 'cache_tokens_details': [{'modality': 1, 'token_count': 64075}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 34}], 'thoughts_token_count': 90}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2432732862584731, 'model_name': 'gemini-2.5-pro'} id='run--89e4c031-d0ce-47e2-8f60-d9d14aa4b75e-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1500.0, 'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'end_line': 2500.0}, 'id': '0f14fab6-bfa8-40e0-8496-b66cc4cb164e', 'type': 'tool_call'}] usage_metadata={'input_tokens': 82324, 'output_tokens': 34, 'total_tokens': 82448, 'input_token_details': {'cache_read': 64075}, 'output_token_details': {'reasoning': 90}}
2025-10-05 12:26:24,889 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1900.0, "relative_path": "tests/forms_tests/tests/test_formsets.py", "end_line": 2900.0}'}, '__gemini_function_call_thought_signatures__': {'597ed467-7703-48f3-b0b5-16df97ff5ca4': 'CsYCAR/MhbZlZWZenq9ePbQ1LM22D3eKcLW8bJ0lntUUhLMZC7eG214Vchmz6Isdc40KpzxhQ1iG8eAICgMXTpVa73SdVcdDdzrTG18mf91cLFAPalKLCQCjXkHRDAIagj6qZWdb2nJlUpCRLN/Q+0lFp4hsQHACGprNoziMLnuDkIXXhcubGwqMNPSI4S1IQ/kDT6kTgy1wmrSf1Zm/aETQSUW897h0OUO0Pj4+BSxAcG5pcHYJH0FLpjsMIwNS0rEi8HjeGUXfCugte0yaO5YVQyVcYO6TPzoLw619HGavZCpWghoxvQAB1ZHW5XerROf5Dnaotl5D5iaJk5cMWe6cdX1c+CpiAnpvTSD/Vyl8o5gfldmp6t3p1cm+GOSuonBr/18H+zy9aYQWM0pvyurKrUuF/T2RpeVFSZ20DNLzVf2g7CpXaSM='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 89030, 'candidates_token_count': 34, 'total_token_count': 89165, 'cached_content_token_count': 79965, 'prompt_tokens_details': [{'modality': 1, 'token_count': 89375}], 'cache_tokens_details': [{'modality': 1, 'token_count': 79965}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 34}], 'thoughts_token_count': 101}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0458981149336871, 'model_name': 'gemini-2.5-pro'} id='run--6bad24ab-05e7-4834-a4e9-183b318430b8-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1900.0, 'relative_path': 'tests/forms_tests/tests/test_formsets.py', 'end_line': 2900.0}, 'id': '597ed467-7703-48f3-b0b5-16df97ff5ca4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 89030, 'output_tokens': 34, 'total_tokens': 89165, 'input_token_details': {'cache_read': 79965}, 'output_token_details': {'reasoning': 101}}
2025-10-05 12:26:28,258 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have successfully retrieved the entire content of the file `tests/forms_tests/tests/test_formsets.py`. The file's content was fetched in multiple parts and has been combined to provide the complete file. I am now ready to present the full content as requested." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 89176, 'candidates_token_count': 58, 'total_token_count': 89369, 'cached_content_token_count': 87911, 'prompt_tokens_details': [{'modality': 1, 'token_count': 89620}], 'cache_tokens_details': [{'modality': 1, 'token_count': 87911}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 58}], 'thoughts_token_count': 135}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3060388236210264, 'model_name': 'gemini-2.5-pro'} id='run--16164c74-1d86-4da8-8810-c23ac9b6e002-0' usage_metadata={'input_tokens': 89176, 'output_tokens': 58, 'total_tokens': 89369, 'input_token_details': {'cache_read': 87911}, 'output_token_details': {'reasoning': 135}}
2025-10-05 12:26:28,258 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-05 12:26:28,259 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
Formsets' add_fields() method fails in some circumstances if the argument index is None.

Issue description: 
Description
	
Formsets' add_fields() method fails in some circumstances if the argument index is None.
When a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: '<' not supported between instances of 'NoneType' and 'int'. 
Code example:
MyFormSet = forms.formset_factory(
	form=MyForm,
	can_delete=True,
	can_delete_extra=False,
)
my_formset = MyFormSet(
	initial=None,
)
print(my_formset.empty_form)
The reason this happens is that in in line 493 of [django.forms.formsets](â€‹https://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:
if self.can_delete and (self.can_delete_extra or index < initial_form_count):
Checking for index not None should fix the issue:
if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
How to Reproduce
A self-contained example to reproduce this bug is as follows:
#!/usr/bin/env python3
import os
import django
from django import forms
class MyForm(forms.Form):
	my_field = forms.CharField()
if __name__ == "__main__":
	settings_file = os.path.splitext(os.path.basename(__file__))[0]
	django.conf.settings.configure(
		DEBUG=True,
		MIDDLEWARE_CLASSES=[],
		ROOT_URLCONF=settings_file,
	)
	django.setup()
	MyFormSet = forms.formset_factory(
		form=MyForm,
		can_delete=True,
		can_delete_extra=False,
	)
	my_formset = MyFormSet(
		initial=None,
	)
	print(my_formset.empty_form)

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the full content of the file `tests/forms_tests/tests/test_formsets.py`.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 1 - 500
Content:
1. import datetime
2. from collections import Counter
3. from unittest import mock
4. 
5. from django.core.exceptions import ValidationError
6. from django.forms import (
7.     BaseForm,
8.     CharField,
9.     DateField,
10.     FileField,
11.     Form,
12.     IntegerField,
13.     SplitDateTimeField,
14.     formsets,
15. )
16. from django.forms.formsets import (
17.     INITIAL_FORM_COUNT,
18.     MAX_NUM_FORM_COUNT,
19.     MIN_NUM_FORM_COUNT,
20.     TOTAL_FORM_COUNT,
21.     BaseFormSet,
22.     ManagementForm,
23.     all_valid,
24.     formset_factory,
25. )
26. from django.forms.renderers import TemplatesSetting
27. from django.forms.utils import ErrorList
28. from django.forms.widgets import HiddenInput
29. from django.test import SimpleTestCase
30. 
31. from . import jinja2_tests
32. 
33. 
34. class Choice(Form):
35.     choice = CharField()
36.     votes = IntegerField()
37. 
38. 
39. ChoiceFormSet = formset_factory(Choice)
40. 
41. 
42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):
43.     def clean(self):
44.         super().clean()
45.         raise ValidationError("non-form error")
46. 
47. 
48. class FavoriteDrinkForm(Form):
49.     name = CharField()
50. 
51. 
52. class BaseFavoriteDrinksFormSet(BaseFormSet):
53.     def clean(self):
54.         seen_drinks = []
55. 
56.         for drink in self.cleaned_data:
57.             if drink["name"] in seen_drinks:
58.                 raise ValidationError("You may only specify a drink once.")
59. 
60.             seen_drinks.append(drink["name"])
61. 
62. 
63. # A FormSet that takes a list of favorite drinks and raises an error if
64. # there are any duplicates.
65. FavoriteDrinksFormSet = formset_factory(
66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3
67. )
68. 
69. 
70. class CustomKwargForm(Form):
71.     def __init__(self, *args, custom_kwarg, **kwargs):
72.         self.custom_kwarg = custom_kwarg
73.         super().__init__(*args, **kwargs)
74. 
75. 
76. class FormsFormsetTestCase(SimpleTestCase):
77.     def make_choiceformset(
78.         self,
79.         formset_data=None,
80.         formset_class=ChoiceFormSet,
81.         total_forms=None,
82.         initial_forms=0,
83.         max_num_forms=0,
84.         min_num_forms=0,
85.         **kwargs,
86.     ):
87.         """
88.         Make a ChoiceFormset from the given formset_data.
89.         The data should be given as a list of (choice, votes) tuples.
90.         """
91.         kwargs.setdefault("prefix", "choices")
92.         kwargs.setdefault("auto_id", False)
93. 
94.         if formset_data is None:
95.             return formset_class(**kwargs)
96. 
97.         if total_forms is None:
98.             total_forms = len(formset_data)
99. 
100.         def prefixed(*args):
101.             args = (kwargs["prefix"],) + args
102.             return "-".join(args)
103. 
104.         data = {
105.             prefixed("TOTAL_FORMS"): str(total_forms),
106.             prefixed("INITIAL_FORMS"): str(initial_forms),
107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),
108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),
109.         }
110.         for i, (choice, votes) in enumerate(formset_data):
111.             data[prefixed(str(i), "choice")] = choice
112.             data[prefixed(str(i), "votes")] = votes
113. 
114.         return formset_class(data, **kwargs)
115. 
116.     def test_basic_formset(self):
117.         """
118.         A FormSet constructor takes the same arguments as Form. Create a
119.         FormSet for adding data. By default, it displays 1 blank form.
120.         """
121.         formset = self.make_choiceformset()
122.         self.assertHTMLEqual(
123.             str(formset),
124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">
125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">
126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">
127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">
128. <div>Choice:<input type="text" name="choices-0-choice"></div>
129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",
130.         )
131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()
132.         # method, and a cleaned_data or errors attribute depending on whether
133.         # all the forms passed validation. However, unlike a Form, cleaned_data
134.         # and errors will be a list of dicts rather than a single dict.
135.         formset = self.make_choiceformset([("Calexico", "100")])
136.         self.assertTrue(formset.is_valid())
137.         self.assertEqual(
138.             [form.cleaned_data for form in formset.forms],
139.             [{"votes": 100, "choice": "Calexico"}],
140.         )
141. 
142.         # If a FormSet wasn't passed any data, is_valid() and has_changed()
143.         # return False.
144.         formset = self.make_choiceformset()
145.         self.assertFalse(formset.is_valid())
146.         self.assertFalse(formset.has_changed())
147. 
148.     def test_form_kwargs_formset(self):
149.         """
150.         Custom kwargs set on the formset instance are passed to the
151.         underlying forms.
152.         """
153.         FormSet = formset_factory(CustomKwargForm, extra=2)
154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
155.         for form in formset:
156.             self.assertTrue(hasattr(form, "custom_kwarg"))
157.             self.assertEqual(form.custom_kwarg, 1)
158. 
159.     def test_form_kwargs_formset_dynamic(self):
160.         """Form kwargs can be passed dynamically in a formset."""
161. 
162.         class DynamicBaseFormSet(BaseFormSet):
163.             def get_form_kwargs(self, index):
164.                 return {"custom_kwarg": index}
165. 
166.         DynamicFormSet = formset_factory(
167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2
168.         )
169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})
170.         for i, form in enumerate(formset):
171.             self.assertTrue(hasattr(form, "custom_kwarg"))
172.             self.assertEqual(form.custom_kwarg, i)
173. 
174.     def test_form_kwargs_empty_form(self):
175.         FormSet = formset_factory(CustomKwargForm)
176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))
178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)
179. 
180.     def test_empty_permitted_ignored_empty_form(self):
181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})
182.         self.assertIs(formset.empty_form.empty_permitted, True)
183. 
184.     def test_formset_validation(self):
185.         # FormSet instances can also have an error attribute if validation failed for
186.         # any of the forms.
187.         formset = self.make_choiceformset([("Calexico", "")])
188.         self.assertFalse(formset.is_valid())
189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])
190. 
191.     def test_formset_validation_count(self):
192.         """
193.         A formset's ManagementForm is validated once per FormSet.is_valid()
194.         call and each form of the formset is cleaned once.
195.         """
196. 
197.         def make_method_counter(func):
198.             """Add a counter to func for the number of times it's called."""
199.             counter = Counter()
200.             counter.call_count = 0
201. 
202.             def mocked_func(*args, **kwargs):
203.                 counter.call_count += 1
204.                 return func(*args, **kwargs)
205. 
206.             return mocked_func, counter
207. 
208.         mocked_is_valid, is_valid_counter = make_method_counter(
209.             formsets.ManagementForm.is_valid
210.         )
211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)
212.         formset = self.make_choiceformset(
213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]
214.         )
215. 
216.         with mock.patch(
217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid
218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):
219.             self.assertTrue(formset.is_valid())
220.         self.assertEqual(is_valid_counter.call_count, 1)
221.         self.assertEqual(full_clean_counter.call_count, 4)
222. 
223.     def test_formset_has_changed(self):
224.         """
225.         FormSet.has_changed() is True if any data is passed to its forms, even
226.         if the formset didn't validate.
227.         """
228.         blank_formset = self.make_choiceformset([("", "")])
229.         self.assertFalse(blank_formset.has_changed())
230.         # invalid formset
231.         invalid_formset = self.make_choiceformset([("Calexico", "")])
232.         self.assertFalse(invalid_formset.is_valid())
233.         self.assertTrue(invalid_formset.has_changed())
234.         # valid formset
235.         valid_formset = self.make_choiceformset([("Calexico", "100")])
236.         self.assertTrue(valid_formset.is_valid())
237.         self.assertTrue(valid_formset.has_changed())
238. 
239.     def test_formset_initial_data(self):
240.         """
241.         A FormSet can be prefilled with existing data by providing a list of
242.         dicts to the `initial` argument. By default, an extra blank form is
243.         included.
244.         """
245.         formset = self.make_choiceformset(
246.             initial=[{"choice": "Calexico", "votes": 100}]
247.         )
248.         self.assertHTMLEqual(
249.             "\n".join(form.as_ul() for form in formset.forms),
250.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
251.             "</li>"
252.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
253.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
254.             '<li>Votes: <input type="number" name="choices-1-votes"></li>',
255.         )
256. 
257.     def test_blank_form_unfilled(self):
258.         """A form that's displayed as blank may be submitted as blank."""
259.         formset = self.make_choiceformset(
260.             [("Calexico", "100"), ("", "")], initial_forms=1
261.         )
262.         self.assertTrue(formset.is_valid())
263.         self.assertEqual(
264.             [form.cleaned_data for form in formset.forms],
265.             [{"votes": 100, "choice": "Calexico"}, {}],
266.         )
267. 
268.     def test_second_form_partially_filled(self):
269.         """
270.         If at least one field is filled out on a blank form, it will be
271.         validated.
272.         """
273.         formset = self.make_choiceformset(
274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1
275.         )
276.         self.assertFalse(formset.is_valid())
277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])
278. 
279.     def test_delete_prefilled_data(self):
280.         """
281.         Deleting prefilled data is an error. Removing data from form fields
282.         isn't the proper way to delete it.
283.         """
284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)
285.         self.assertFalse(formset.is_valid())
286.         self.assertEqual(
287.             formset.errors,
288.             [
289.                 {
290.                     "votes": ["This field is required."],
291.                     "choice": ["This field is required."],
292.                 },
293.                 {},
294.             ],
295.         )
296. 
297.     def test_displaying_more_than_one_blank_form(self):
298.         """
299.         More than 1 empty form can be displayed using formset_factory's
300.         `extra` argument.
301.         """
302.         ChoiceFormSet = formset_factory(Choice, extra=3)
303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
304.         self.assertHTMLEqual(
305.             "\n".join(form.as_ul() for form in formset.forms),
306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
307. <li>Votes: <input type="number" name="choices-0-votes"></li>
308. <li>Choice: <input type="text" name="choices-1-choice"></li>
309. <li>Votes: <input type="number" name="choices-1-votes"></li>
310. <li>Choice: <input type="text" name="choices-2-choice"></li>
311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
312.         )
313.         # Since every form was displayed as blank, they are also accepted as
314.         # blank. This may seem a little strange, but min_num is used to require
315.         # a minimum number of forms to be completed.
316.         data = {
317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
321.             "choices-0-choice": "",
322.             "choices-0-votes": "",
323.             "choices-1-choice": "",
324.             "choices-1-votes": "",
325.             "choices-2-choice": "",
326.             "choices-2-votes": "",
327.         }
328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
329.         self.assertTrue(formset.is_valid())
330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])
331. 
332.     def test_min_num_displaying_more_than_one_blank_form(self):
333.         """
334.         More than 1 empty form can also be displayed using formset_factory's
335.         min_num argument. It will (essentially) increment the extra argument.
336.         """
337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)
338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
339.         # Min_num forms are required; extra forms can be empty.
340.         self.assertFalse(formset.forms[0].empty_permitted)
341.         self.assertTrue(formset.forms[1].empty_permitted)
342.         self.assertHTMLEqual(
343.             "\n".join(form.as_ul() for form in formset.forms),
344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
345. <li>Votes: <input type="number" name="choices-0-votes"></li>
346. <li>Choice: <input type="text" name="choices-1-choice"></li>
347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",
348.         )
349. 
350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
351.         """More than 1 empty form can be displayed using min_num."""
352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
354.         self.assertHTMLEqual(
355.             "\n".join(form.as_ul() for form in formset.forms),
356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
357. <li>Votes: <input type="number" name="choices-0-votes"></li>
358. <li>Choice: <input type="text" name="choices-1-choice"></li>
359. <li>Votes: <input type="number" name="choices-1-votes"></li>
360. <li>Choice: <input type="text" name="choices-2-choice"></li>
361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
362.         )
363. 
364.     def test_single_form_completed(self):
365.         """Just one form may be completed."""
366.         data = {
367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
371.             "choices-0-choice": "Calexico",
372.             "choices-0-votes": "100",
373.             "choices-1-choice": "",
374.             "choices-1-votes": "",
375.             "choices-2-choice": "",
376.             "choices-2-votes": "",
377.         }
378.         ChoiceFormSet = formset_factory(Choice, extra=3)
379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
380.         self.assertTrue(formset.is_valid())
381.         self.assertEqual(
382.             [form.cleaned_data for form in formset.forms],
383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],
384.         )
385. 
386.     def test_formset_validate_max_flag(self):
387.         """
388.         If validate_max is set and max_num is less than TOTAL_FORMS in the
389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
390.         irrelevant here (it's output as a hint for the client but its value
391.         in the returned data is not checked).
392.         """
393.         data = {
394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
398.             "choices-0-choice": "Zero",
399.             "choices-0-votes": "0",
400.             "choices-1-choice": "One",
401.             "choices-1-votes": "1",
402.         }
403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
405.         self.assertFalse(formset.is_valid())
406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])
407.         self.assertEqual(
408.             str(formset.non_form_errors()),
409.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
410.         )
411. 
412.     def test_formset_validate_max_flag_custom_error(self):
413.         data = {
414.             "choices-TOTAL_FORMS": "2",
415.             "choices-INITIAL_FORMS": "0",
416.             "choices-MIN_NUM_FORMS": "0",
417.             "choices-MAX_NUM_FORMS": "2",
418.             "choices-0-choice": "Zero",
419.             "choices-0-votes": "0",
420.             "choices-1-choice": "One",
421.             "choices-1-votes": "1",
422.         }
423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
424.         formset = ChoiceFormSet(
425.             data,
426.             auto_id=False,
427.             prefix="choices",
428.             error_messages={
429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."
430.             },
431.         )
432.         self.assertFalse(formset.is_valid())
433.         self.assertEqual(
434.             formset.non_form_errors(),
435.             ["Number of submitted forms should be at most 1."],
436.         )
437.         self.assertEqual(
438.             str(formset.non_form_errors()),
439.             '<ul class="errorlist nonform">'
440.             "<li>Number of submitted forms should be at most 1.</li></ul>",
441.         )
442. 
443.     def test_formset_validate_min_flag(self):
444.         """
445.         If validate_min is set and min_num is more than TOTAL_FORMS in the
446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
447.         irrelevant here (it's output as a hint for the client but its value
448.         in the returned data is not checked).
449.         """
450.         data = {
451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored
455.             "choices-0-choice": "Zero",
456.             "choices-0-votes": "0",
457.             "choices-1-choice": "One",
458.             "choices-1-votes": "1",
459.         }
460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
462.         self.assertFalse(formset.is_valid())
463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])
464.         self.assertEqual(
465.             str(formset.non_form_errors()),
466.             '<ul class="errorlist nonform"><li>'
467.             "Please submit at least 3 forms.</li></ul>",
468.         )
469. 
470.     def test_formset_validate_min_flag_custom_formatted_error(self):
471.         data = {
472.             "choices-TOTAL_FORMS": "2",
473.             "choices-INITIAL_FORMS": "0",
474.             "choices-MIN_NUM_FORMS": "0",
475.             "choices-MAX_NUM_FORMS": "0",
476.             "choices-0-choice": "Zero",
477.             "choices-0-votes": "0",
478.             "choices-1-choice": "One",
479.             "choices-1-votes": "1",
480.         }
481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
482.         formset = ChoiceFormSet(
483.             data,
484.             auto_id=False,
485.             prefix="choices",
486.             error_messages={
487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."
488.             },
489.         )
490.         self.assertFalse(formset.is_valid())
491.         self.assertEqual(
492.             formset.non_form_errors(),
493.             ["Number of submitted forms should be at least 3."],
494.         )
495.         self.assertEqual(
496.             str(formset.non_form_errors()),
497.             '<ul class="errorlist nonform">'
498.             "<li>Number of submitted forms should be at least 3.</li></ul>",
499.         )
500.

File: tests/forms_tests/tests/test_formsets.py
Line number range: 500 - 1500
Content:
500. 
501.     def test_formset_validate_min_unchanged_forms(self):
502.         """
503.         min_num validation doesn't consider unchanged forms with initial data
504.         as "empty".
505.         """
506.         initial = [
507.             {"choice": "Zero", "votes": 0},
508.             {"choice": "One", "votes": 0},
509.         ]
510.         data = {
511.             "choices-TOTAL_FORMS": "2",
512.             "choices-INITIAL_FORMS": "2",
513.             "choices-MIN_NUM_FORMS": "0",
514.             "choices-MAX_NUM_FORMS": "2",
515.             "choices-0-choice": "Zero",
516.             "choices-0-votes": "0",
517.             "choices-1-choice": "One",
518.             "choices-1-votes": "1",  # changed from initial
519.         }
520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)
521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)
522.         self.assertFalse(formset.forms[0].has_changed())
523.         self.assertTrue(formset.forms[1].has_changed())
524.         self.assertTrue(formset.is_valid())
525. 
526.     def test_formset_validate_min_excludes_empty_forms(self):
527.         data = {
528.             "choices-TOTAL_FORMS": "2",
529.             "choices-INITIAL_FORMS": "0",
530.         }
531.         ChoiceFormSet = formset_factory(
532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True
533.         )
534.         formset = ChoiceFormSet(data, prefix="choices")
535.         self.assertFalse(formset.has_changed())
536.         self.assertFalse(formset.is_valid())
537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])
538. 
539.     def test_second_form_partially_filled_2(self):
540.         """A partially completed form is invalid."""
541.         data = {
542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
546.             "choices-0-choice": "Calexico",
547.             "choices-0-votes": "100",
548.             "choices-1-choice": "The Decemberists",
549.             "choices-1-votes": "",  # missing value
550.             "choices-2-choice": "",
551.             "choices-2-votes": "",
552.         }
553.         ChoiceFormSet = formset_factory(Choice, extra=3)
554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
555.         self.assertFalse(formset.is_valid())
556.         self.assertEqual(
557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]
558.         )
559. 
560.     def test_more_initial_data(self):
561.         """
562.         The extra argument works when the formset is pre-filled with initial
563.         data.
564.         """
565.         initial = [{"choice": "Calexico", "votes": 100}]
566.         ChoiceFormSet = formset_factory(Choice, extra=3)
567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
568.         self.assertHTMLEqual(
569.             "\n".join(form.as_ul() for form in formset.forms),
570.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
571.             "</li>"
572.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
573.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
574.             '<li>Votes: <input type="number" name="choices-1-votes"></li>'
575.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
576.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
577.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
578.             '<li>Votes: <input type="number" name="choices-3-votes"></li>',
579.         )
580.         # Retrieving an empty form works. Tt shows up in the form list.
581.         self.assertTrue(formset.empty_form.empty_permitted)
582.         self.assertHTMLEqual(
583.             formset.empty_form.as_ul(),
584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",
586.         )
587. 
588.     def test_formset_with_deletion(self):
589.         """
590.         formset_factory's can_delete argument adds a boolean "delete" field to
591.         each form. When that boolean field is True, the form will be in
592.         formset.deleted_forms.
593.         """
594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
595.         initial = [
596.             {"choice": "Calexico", "votes": 100},
597.             {"choice": "Fergie", "votes": 900},
598.         ]
599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
600.         self.assertHTMLEqual(
601.             "\n".join(form.as_ul() for form in formset.forms),
602.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
603.             "</li>"
604.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
605.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
606.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
607.             "</li>"
608.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
609.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
610.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
611.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
612.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>',
613.         )
614.         # To delete something, set that form's special delete field to 'on'.
615.         # Let's go ahead and delete Fergie.
616.         data = {
617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
621.             "choices-0-choice": "Calexico",
622.             "choices-0-votes": "100",
623.             "choices-0-DELETE": "",
624.             "choices-1-choice": "Fergie",
625.             "choices-1-votes": "900",
626.             "choices-1-DELETE": "on",
627.             "choices-2-choice": "",
628.             "choices-2-votes": "",
629.             "choices-2-DELETE": "",
630.         }
631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
632.         self.assertTrue(formset.is_valid())
633.         self.assertEqual(
634.             [form.cleaned_data for form in formset.forms],
635.             [
636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},
637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},
638.                 {},
639.             ],
640.         )
641.         self.assertEqual(
642.             [form.cleaned_data for form in formset.deleted_forms],
643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],
644.         )
645. 
646.     def test_formset_with_deletion_remove_deletion_flag(self):
647.         """
648.         If a form is filled with something and can_delete is also checked, that
649.         form's errors shouldn't make the entire formset invalid since it's
650.         going to be deleted.
651.         """
652. 
653.         class CheckForm(Form):
654.             field = IntegerField(min_value=100)
655. 
656.         data = {
657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered
658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data
659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
660.             "check-MAX_NUM_FORMS": "0",  # max number of forms
661.             "check-0-field": "200",
662.             "check-0-DELETE": "",
663.             "check-1-field": "50",
664.             "check-1-DELETE": "on",
665.             "check-2-field": "",
666.             "check-2-DELETE": "",
667.         }
668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)
669.         formset = CheckFormSet(data, prefix="check")
670.         self.assertTrue(formset.is_valid())
671.         # If the deletion flag is removed, validation is enabled.
672.         data["check-1-DELETE"] = ""
673.         formset = CheckFormSet(data, prefix="check")
674.         self.assertFalse(formset.is_valid())
675. 
676.     def test_formset_with_deletion_invalid_deleted_form(self):
677.         """
678.         deleted_forms works on a valid formset even if a deleted form would
679.         have been invalid.
680.         """
681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
682.         formset = FavoriteDrinkFormset(
683.             {
684.                 "form-0-name": "",
685.                 "form-0-DELETE": "on",  # no name!
686.                 "form-TOTAL_FORMS": 1,
687.                 "form-INITIAL_FORMS": 1,
688.                 "form-MIN_NUM_FORMS": 0,
689.                 "form-MAX_NUM_FORMS": 1,
690.             }
691.         )
692.         self.assertTrue(formset.is_valid())
693.         self.assertEqual(formset._errors, [])
694.         self.assertEqual(len(formset.deleted_forms), 1)
695. 
696.     def test_formset_with_deletion_custom_widget(self):
697.         class DeletionAttributeFormSet(BaseFormSet):
698.             deletion_widget = HiddenInput
699. 
700.         class DeletionMethodFormSet(BaseFormSet):
701.             def get_deletion_widget(self):
702.                 return HiddenInput(attrs={"class": "deletion"})
703. 
704.         tests = [
705.             (DeletionAttributeFormSet, '<input type="hidden" name="form-0-DELETE">'),
706.             (
707.                 DeletionMethodFormSet,
708.                 '<input class="deletion" type="hidden" name="form-0-DELETE">',
709.             ),
710.         ]
711.         for formset_class, delete_html in tests:
712.             with self.subTest(formset_class=formset_class.__name__):
713.                 ArticleFormSet = formset_factory(
714.                     ArticleForm,
715.                     formset=formset_class,
716.                     can_delete=True,
717.                 )
718.                 formset = ArticleFormSet(auto_id=False)
719.                 self.assertHTMLEqual(
720.                     "\n".join([form.as_ul() for form in formset.forms]),
721.                     (
722.                         f'<li>Title: <input type="text" name="form-0-title"></li>'
723.                         f'<li>Pub date: <input type="text" name="form-0-pub_date">'
724.                         f"{delete_html}</li>"
725.                     ),
726.                 )
727. 
728.     def test_formsets_with_ordering(self):
729.         """
730.         formset_factory's can_order argument adds an integer field to each
731.         form. When form validation succeeds,
732.             [form.cleaned_data for form in formset.forms]
733.         will have the data in the correct order specified by the ordering
734.         fields. If a number is duplicated in the set of ordering fields, for
735.         instance form 0 and form 3 are both marked as 1, then the form index
736.         used as a secondary ordering criteria. In order to put something at the
737.         front of the list, you'd need to set its order to 0.
738.         """
739.         ChoiceFormSet = formset_factory(Choice, can_order=True)
740.         initial = [
741.             {"choice": "Calexico", "votes": 100},
742.             {"choice": "Fergie", "votes": 900},
743.         ]
744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
745.         self.assertHTMLEqual(
746.             "\n".join(form.as_ul() for form in formset.forms),
747.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
748.             "</li>"
749.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
750.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
751.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
752.             "</li>"
753.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
754.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
755.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
756.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
757.             '<li>Order: <input type="number" name="choices-2-ORDER"></li>',
758.         )
759.         data = {
760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
764.             "choices-0-choice": "Calexico",
765.             "choices-0-votes": "100",
766.             "choices-0-ORDER": "1",
767.             "choices-1-choice": "Fergie",
768.             "choices-1-votes": "900",
769.             "choices-1-ORDER": "2",
770.             "choices-2-choice": "The Decemberists",
771.             "choices-2-votes": "500",
772.             "choices-2-ORDER": "0",
773.         }
774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
775.         self.assertTrue(formset.is_valid())
776.         self.assertEqual(
777.             [form.cleaned_data for form in formset.ordered_forms],
778.             [
779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},
780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
782.             ],
783.         )
784. 
785.     def test_formsets_with_ordering_custom_widget(self):
786.         class OrderingAttributeFormSet(BaseFormSet):
787.             ordering_widget = HiddenInput
788. 
789.         class OrderingMethodFormSet(BaseFormSet):
790.             def get_ordering_widget(self):
791.                 return HiddenInput(attrs={"class": "ordering"})
792. 
793.         tests = (
794.             (OrderingAttributeFormSet, '<input type="hidden" name="form-0-ORDER">'),
795.             (
796.                 OrderingMethodFormSet,
797.                 '<input class="ordering" type="hidden" name="form-0-ORDER">',
798.             ),
799.         )
800.         for formset_class, order_html in tests:
801.             with self.subTest(formset_class=formset_class.__name__):
802.                 ArticleFormSet = formset_factory(
803.                     ArticleForm, formset=formset_class, can_order=True
804.                 )
805.                 formset = ArticleFormSet(auto_id=False)
806.                 self.assertHTMLEqual(
807.                     "\n".join(form.as_ul() for form in formset.forms),
808.                     (
809.                         '<li>Title: <input type="text" name="form-0-title"></li>'
810.                         '<li>Pub date: <input type="text" name="form-0-pub_date">'
811.                         "%s</li>" % order_html
812.                     ),
813.                 )
814. 
815.     def test_empty_ordered_fields(self):
816.         """
817.         Ordering fields are allowed to be left blank. If they are left blank,
818.         they'll be sorted below everything else.
819.         """
820.         data = {
821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
825.             "choices-0-choice": "Calexico",
826.             "choices-0-votes": "100",
827.             "choices-0-ORDER": "1",
828.             "choices-1-choice": "Fergie",
829.             "choices-1-votes": "900",
830.             "choices-1-ORDER": "2",
831.             "choices-2-choice": "The Decemberists",
832.             "choices-2-votes": "500",
833.             "choices-2-ORDER": "",
834.             "choices-3-choice": "Basia Bulat",
835.             "choices-3-votes": "50",
836.             "choices-3-ORDER": "",
837.         }
838.         ChoiceFormSet = formset_factory(Choice, can_order=True)
839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
840.         self.assertTrue(formset.is_valid())
841.         self.assertEqual(
842.             [form.cleaned_data for form in formset.ordered_forms],
843.             [
844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},
847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},
848.             ],
849.         )
850. 
851.     def test_ordering_blank_fieldsets(self):
852.         """Ordering works with blank fieldsets."""
853.         data = {
854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
858.         }
859.         ChoiceFormSet = formset_factory(Choice, can_order=True)
860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
861.         self.assertTrue(formset.is_valid())
862.         self.assertEqual(formset.ordered_forms, [])
863. 
864.     def test_formset_with_ordering_and_deletion(self):
865.         """FormSets with ordering + deletion."""
866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)
867.         initial = [
868.             {"choice": "Calexico", "votes": 100},
869.             {"choice": "Fergie", "votes": 900},
870.             {"choice": "The Decemberists", "votes": 500},
871.         ]
872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
873.         self.assertHTMLEqual(
874.             "\n".join(form.as_ul() for form in formset.forms),
875.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
876.             "</li>"
877.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
878.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
879.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
880.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
881.             "</li>"
882.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
883.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
884.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
885.             '<li>Choice: <input type="text" name="choices-2-choice" '
886.             'value="The Decemberists"></li>'
887.             '<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>'
888.             '<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>'
889.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>'
890.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
891.             '<li>Votes: <input type="number" name="choices-3-votes"></li>'
892.             '<li>Order: <input type="number" name="choices-3-ORDER"></li>'
893.             '<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>',
894.         )
895.         # Let's delete Fergie, and put The Decemberists ahead of Calexico.
896.         data = {
897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
901.             "choices-0-choice": "Calexico",
902.             "choices-0-votes": "100",
903.             "choices-0-ORDER": "1",
904.             "choices-0-DELETE": "",
905.             "choices-1-choice": "Fergie",
906.             "choices-1-votes": "900",
907.             "choices-1-ORDER": "2",
908.             "choices-1-DELETE": "on",
909.             "choices-2-choice": "The Decemberists",
910.             "choices-2-votes": "500",
911.             "choices-2-ORDER": "0",
912.             "choices-2-DELETE": "",
913.             "choices-3-choice": "",
914.             "choices-3-votes": "",
915.             "choices-3-ORDER": "",
916.             "choices-3-DELETE": "",
917.         }
918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
919.         self.assertTrue(formset.is_valid())
920.         self.assertEqual(
921.             [form.cleaned_data for form in formset.ordered_forms],
922.             [
923.                 {
924.                     "votes": 500,
925.                     "DELETE": False,
926.                     "ORDER": 0,
927.                     "choice": "The Decemberists",
928.                 },
929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},
930.             ],
931.         )
932.         self.assertEqual(
933.             [form.cleaned_data for form in formset.deleted_forms],
934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],
935.         )
936. 
937.     def test_invalid_deleted_form_with_ordering(self):
938.         """
939.         Can get ordered_forms from a valid formset even if a deleted form
940.         would have been invalid.
941.         """
942.         FavoriteDrinkFormset = formset_factory(
943.             form=FavoriteDrinkForm, can_delete=True, can_order=True
944.         )
945.         formset = FavoriteDrinkFormset(
946.             {
947.                 "form-0-name": "",
948.                 "form-0-DELETE": "on",  # no name!
949.                 "form-TOTAL_FORMS": 1,
950.                 "form-INITIAL_FORMS": 1,
951.                 "form-MIN_NUM_FORMS": 0,
952.                 "form-MAX_NUM_FORMS": 1,
953.             }
954.         )
955.         self.assertTrue(formset.is_valid())
956.         self.assertEqual(formset.ordered_forms, [])
957. 
958.     def test_clean_hook(self):
959.         """
960.         FormSets have a clean() hook for doing extra validation that isn't tied
961.         to any form. It follows the same pattern as the clean() hook on Forms.
962.         """
963.         # Start out with a some duplicate data.
964.         data = {
965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
969.             "drinks-0-name": "Gin and Tonic",
970.             "drinks-1-name": "Gin and Tonic",
971.         }
972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
973.         self.assertFalse(formset.is_valid())
974.         # Any errors raised by formset.clean() are available via the
975.         # formset.non_form_errors() method.
976.         for error in formset.non_form_errors():
977.             self.assertEqual(str(error), "You may only specify a drink once.")
978.         # The valid case still works.
979.         data["drinks-1-name"] = "Bloody Mary"
980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
981.         self.assertTrue(formset.is_valid())
982.         self.assertEqual(formset.non_form_errors(), [])
983. 
984.     def test_limiting_max_forms(self):
985.         """Limiting the maximum number of forms with max_num."""
986.         # When not passed, max_num will take a high default value, leaving the
987.         # number of forms only controlled by the value of the extra parameter.
988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)
989.         formset = LimitedFavoriteDrinkFormSet()
990.         self.assertHTMLEqual(
991.             "\n".join(str(form) for form in formset.forms),
992.             """<div><label for="id_form-0-name">Name:</label>
993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>
994. <div><label for="id_form-1-name">Name:</label>
995. <input type="text" name="form-1-name" id="id_form-1-name"></div>
996. <div><label for="id_form-2-name">Name:</label>
997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",
998.         )
999.         # If max_num is 0 then no form is rendered at all.
1000.         LimitedFavoriteDrinkFormSet = formset_factory(
1001.             FavoriteDrinkForm, extra=3, max_num=0
1002.         )
1003.         formset = LimitedFavoriteDrinkFormSet()
1004.         self.assertEqual(formset.forms, [])
1005. 
1006.     def test_limited_max_forms_two(self):
1007.         LimitedFavoriteDrinkFormSet = formset_factory(
1008.             FavoriteDrinkForm, extra=5, max_num=2
1009.         )
1010.         formset = LimitedFavoriteDrinkFormSet()
1011.         self.assertHTMLEqual(
1012.             "\n".join(str(form) for form in formset.forms),
1013.             """<div><label for="id_form-0-name">Name:</label>
1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>
1015. <div><label for="id_form-1-name">Name:</label>
1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1017.         )
1018. 
1019.     def test_limiting_extra_lest_than_max_num(self):
1020.         """max_num has no effect when extra is less than max_num."""
1021.         LimitedFavoriteDrinkFormSet = formset_factory(
1022.             FavoriteDrinkForm, extra=1, max_num=2
1023.         )
1024.         formset = LimitedFavoriteDrinkFormSet()
1025.         self.assertHTMLEqual(
1026.             "\n".join(str(form) for form in formset.forms),
1027.             """<div><label for="id_form-0-name">Name:</label>
1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",
1029.         )
1030. 
1031.     def test_max_num_with_initial_data(self):
1032.         # When not passed, max_num will take a high default value, leaving the
1033.         # number of forms only controlled by the value of the initial and extra
1034.         # parameters.
1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)
1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])
1037.         self.assertHTMLEqual(
1038.             "\n".join(str(form) for form in formset.forms),
1039.             """
1040.             <div><label for="id_form-0-name">Name:</label>
1041.             <input type="text" name="form-0-name" value="Fernet and Coke"
1042.                 id="id_form-0-name"></div>
1043.             <div><label for="id_form-1-name">Name:</label>
1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>
1045.             """,
1046.         )
1047. 
1048.     def test_max_num_zero(self):
1049.         """
1050.         If max_num is 0 then no form is rendered at all, regardless of extra,
1051.         unless initial data is present.
1052.         """
1053.         LimitedFavoriteDrinkFormSet = formset_factory(
1054.             FavoriteDrinkForm, extra=1, max_num=0
1055.         )
1056.         formset = LimitedFavoriteDrinkFormSet()
1057.         self.assertEqual(formset.forms, [])
1058. 
1059.     def test_max_num_zero_with_initial(self):
1060.         # initial trumps max_num
1061.         initial = [
1062.             {"name": "Fernet and Coke"},
1063.             {"name": "Bloody Mary"},
1064.         ]
1065.         LimitedFavoriteDrinkFormSet = formset_factory(
1066.             FavoriteDrinkForm, extra=1, max_num=0
1067.         )
1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1069.         self.assertHTMLEqual(
1070.             "\n".join(str(form) for form in formset.forms),
1071.             """
1072.             <div><label for="id_form-0-name">Name:</label>
1073.             <input id="id_form-0-name" name="form-0-name" type="text"
1074.                 value="Fernet and Coke"></div>
1075.             <div><label for="id_form-1-name">Name:</label>
1076.             <input id="id_form-1-name" name="form-1-name" type="text"
1077.                 value="Bloody Mary"></div>
1078.             """,
1079.         )
1080. 
1081.     def test_more_initial_than_max_num(self):
1082.         """
1083.         More initial forms than max_num results in all initial forms being
1084.         displayed (but no extra forms).
1085.         """
1086.         initial = [
1087.             {"name": "Gin Tonic"},
1088.             {"name": "Bloody Mary"},
1089.             {"name": "Jack and Coke"},
1090.         ]
1091.         LimitedFavoriteDrinkFormSet = formset_factory(
1092.             FavoriteDrinkForm, extra=1, max_num=2
1093.         )
1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1095.         self.assertHTMLEqual(
1096.             "\n".join(str(form) for form in formset.forms),
1097.             """
1098.             <div><label for="id_form-0-name">Name:</label>
1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">
1100.             </div>
1101.             <div><label for="id_form-1-name">Name:</label>
1102.             <input id="id_form-1-name" name="form-1-name" type="text"
1103.                 value="Bloody Mary"></div>
1104.             <div><label for="id_form-2-name">Name:</label>
1105.             <input id="id_form-2-name" name="form-2-name" type="text"
1106.                 value="Jack and Coke"></div>
1107.             """,
1108.         )
1109. 
1110.     def test_default_absolute_max(self):
1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.
1112.         data = {
1113.             "form-TOTAL_FORMS": 2001,
1114.             "form-INITIAL_FORMS": "0",
1115.             "form-MAX_NUM_FORMS": "0",
1116.         }
1117.         formset = FavoriteDrinksFormSet(data=data)
1118.         self.assertIs(formset.is_valid(), False)
1119.         self.assertEqual(
1120.             formset.non_form_errors(),
1121.             ["Please submit at most 1000 forms."],
1122.         )
1123.         self.assertEqual(formset.absolute_max, 2000)
1124. 
1125.     def test_absolute_max(self):
1126.         data = {
1127.             "form-TOTAL_FORMS": "2001",
1128.             "form-INITIAL_FORMS": "0",
1129.             "form-MAX_NUM_FORMS": "0",
1130.         }
1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(
1132.             FavoriteDrinkForm,
1133.             absolute_max=3000,
1134.         )
1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1136.         self.assertIs(formset.is_valid(), True)
1137.         self.assertEqual(len(formset.forms), 2001)
1138.         # absolute_max provides a hard limit.
1139.         data["form-TOTAL_FORMS"] = "3001"
1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1141.         self.assertIs(formset.is_valid(), False)
1142.         self.assertEqual(len(formset.forms), 3000)
1143.         self.assertEqual(
1144.             formset.non_form_errors(),
1145.             ["Please submit at most 1000 forms."],
1146.         )
1147. 
1148.     def test_absolute_max_with_max_num(self):
1149.         data = {
1150.             "form-TOTAL_FORMS": "1001",
1151.             "form-INITIAL_FORMS": "0",
1152.             "form-MAX_NUM_FORMS": "0",
1153.         }
1154.         LimitedFavoriteDrinksFormSet = formset_factory(
1155.             FavoriteDrinkForm,
1156.             max_num=30,
1157.             absolute_max=1000,
1158.         )
1159.         formset = LimitedFavoriteDrinksFormSet(data=data)
1160.         self.assertIs(formset.is_valid(), False)
1161.         self.assertEqual(len(formset.forms), 1000)
1162.         self.assertEqual(
1163.             formset.non_form_errors(),
1164.             ["Please submit at most 30 forms."],
1165.         )
1166. 
1167.     def test_absolute_max_invalid(self):
1168.         msg = "'absolute_max' must be greater or equal to 'max_num'."
1169.         for max_num in [None, 31]:
1170.             with self.subTest(max_num=max_num):
1171.                 with self.assertRaisesMessage(ValueError, msg):
1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)
1173. 
1174.     def test_more_initial_form_result_in_one(self):
1175.         """
1176.         One form from initial and extra=3 with max_num=2 results in the one
1177.         initial form and one extra.
1178.         """
1179.         LimitedFavoriteDrinkFormSet = formset_factory(
1180.             FavoriteDrinkForm, extra=3, max_num=2
1181.         )
1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])
1183.         self.assertHTMLEqual(
1184.             "\n".join(str(form) for form in formset.forms),
1185.             """
1186.             <div><label for="id_form-0-name">Name:</label>
1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">
1188.             </div>
1189.             <div><label for="id_form-1-name">Name:</label>
1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1191.         )
1192. 
1193.     def test_management_form_field_names(self):
1194.         """The management form class has field names matching the constants."""
1195.         self.assertCountEqual(
1196.             ManagementForm.base_fields,
1197.             [
1198.                 TOTAL_FORM_COUNT,
1199.                 INITIAL_FORM_COUNT,
1200.                 MIN_NUM_FORM_COUNT,
1201.                 MAX_NUM_FORM_COUNT,
1202.             ],
1203.         )
1204. 
1205.     def test_management_form_prefix(self):
1206.         """The management form has the correct prefix."""
1207.         formset = FavoriteDrinksFormSet()
1208.         self.assertEqual(formset.management_form.prefix, "form")
1209.         data = {
1210.             "form-TOTAL_FORMS": "2",
1211.             "form-INITIAL_FORMS": "0",
1212.             "form-MIN_NUM_FORMS": "0",
1213.             "form-MAX_NUM_FORMS": "0",
1214.         }
1215.         formset = FavoriteDrinksFormSet(data=data)
1216.         self.assertEqual(formset.management_form.prefix, "form")
1217.         formset = FavoriteDrinksFormSet(initial={})
1218.         self.assertEqual(formset.management_form.prefix, "form")
1219. 
1220.     def test_non_form_errors(self):
1221.         data = {
1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
1226.             "drinks-0-name": "Gin and Tonic",
1227.             "drinks-1-name": "Gin and Tonic",
1228.         }
1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
1230.         self.assertFalse(formset.is_valid())
1231.         self.assertEqual(
1232.             formset.non_form_errors(), ["You may only specify a drink once."]
1233.         )
1234.         self.assertEqual(
1235.             str(formset.non_form_errors()),
1236.             '<ul class="errorlist nonform"><li>'
1237.             "You may only specify a drink once.</li></ul>",
1238.         )
1239. 
1240.     def test_formset_iteration(self):
1241.         """Formset instances are iterable."""
1242.         ChoiceFormset = formset_factory(Choice, extra=3)
1243.         formset = ChoiceFormset()
1244.         # An iterated formset yields formset.forms.
1245.         forms = list(formset)
1246.         self.assertEqual(forms, formset.forms)
1247.         self.assertEqual(len(formset), len(forms))
1248.         # A formset may be indexed to retrieve its forms.
1249.         self.assertEqual(formset[0], forms[0])
1250.         with self.assertRaises(IndexError):
1251.             formset[3]
1252. 
1253.         # Formsets can override the default iteration order
1254.         class BaseReverseFormSet(BaseFormSet):
1255.             def __iter__(self):
1256.                 return reversed(self.forms)
1257. 
1258.             def __getitem__(self, idx):
1259.                 return super().__getitem__(len(self) - idx - 1)
1260. 
1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)
1262.         reverse_formset = ReverseChoiceFormset()
1263.         # __iter__() modifies the rendering order.
1264.         # Compare forms from "reverse" formset with forms from original formset
1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))
1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))
1267.         self.assertEqual(len(reverse_formset), len(forms))
1268. 
1269.     def test_formset_nonzero(self):
1270.         """A formsets without any forms evaluates as True."""
1271.         ChoiceFormset = formset_factory(Choice, extra=0)
1272.         formset = ChoiceFormset()
1273.         self.assertEqual(len(formset.forms), 0)
1274.         self.assertTrue(formset)
1275. 
1276.     def test_formset_splitdatetimefield(self):
1277.         """
1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).
1279.         """
1280. 
1281.         class SplitDateTimeForm(Form):
1282.             when = SplitDateTimeField(initial=datetime.datetime.now)
1283. 
1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)
1285.         data = {
1286.             "form-TOTAL_FORMS": "1",
1287.             "form-INITIAL_FORMS": "0",
1288.             "form-0-when_0": "1904-06-16",
1289.             "form-0-when_1": "15:51:33",
1290.         }
1291.         formset = SplitDateTimeFormSet(data)
1292.         self.assertTrue(formset.is_valid())
1293. 
1294.     def test_formset_error_class(self):
1295.         """Formset's forms use the formset's error_class."""
1296. 
1297.         class CustomErrorList(ErrorList):
1298.             pass
1299. 
1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)
1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)
1302. 
1303.     def test_formset_calls_forms_is_valid(self):
1304.         """Formsets call is_valid() on each form."""
1305. 
1306.         class AnotherChoice(Choice):
1307.             def is_valid(self):
1308.                 self.is_valid_called = True
1309.                 return super().is_valid()
1310. 
1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)
1312.         data = {
1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered
1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data
1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
1317.             "choices-0-choice": "Calexico",
1318.             "choices-0-votes": "100",
1319.         }
1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")
1321.         self.assertTrue(formset.is_valid())
1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))
1323. 
1324.     def test_hard_limit_on_instantiated_forms(self):
1325.         """A formset has a hard limit on the number of forms instantiated."""
1326.         # reduce the default limit of 1000 temporarily for testing
1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1328.         try:
1329.             formsets.DEFAULT_MAX_NUM = 2
1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)
1331.             # someone fiddles with the mgmt form data...
1332.             formset = ChoiceFormSet(
1333.                 {
1334.                     "choices-TOTAL_FORMS": "4",
1335.                     "choices-INITIAL_FORMS": "0",
1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1337.                     "choices-MAX_NUM_FORMS": "4",
1338.                     "choices-0-choice": "Zero",
1339.                     "choices-0-votes": "0",
1340.                     "choices-1-choice": "One",
1341.                     "choices-1-votes": "1",
1342.                     "choices-2-choice": "Two",
1343.                     "choices-2-votes": "2",
1344.                     "choices-3-choice": "Three",
1345.                     "choices-3-votes": "3",
1346.                 },
1347.                 prefix="choices",
1348.             )
1349.             # But we still only instantiate 3 forms
1350.             self.assertEqual(len(formset.forms), 3)
1351.             # and the formset isn't valid
1352.             self.assertFalse(formset.is_valid())
1353.         finally:
1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1355. 
1356.     def test_increase_hard_limit(self):
1357.         """Can increase the built-in forms limit via a higher max_num."""
1358.         # reduce the default limit of 1000 temporarily for testing
1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1360.         try:
1361.             formsets.DEFAULT_MAX_NUM = 3
1362.             # for this form, we want a limit of 4
1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)
1364.             formset = ChoiceFormSet(
1365.                 {
1366.                     "choices-TOTAL_FORMS": "4",
1367.                     "choices-INITIAL_FORMS": "0",
1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1369.                     "choices-MAX_NUM_FORMS": "4",
1370.                     "choices-0-choice": "Zero",
1371.                     "choices-0-votes": "0",
1372.                     "choices-1-choice": "One",
1373.                     "choices-1-votes": "1",
1374.                     "choices-2-choice": "Two",
1375.                     "choices-2-votes": "2",
1376.                     "choices-3-choice": "Three",
1377.                     "choices-3-votes": "3",
1378.                 },
1379.                 prefix="choices",
1380.             )
1381.             # Four forms are instantiated and no exception is raised
1382.             self.assertEqual(len(formset.forms), 4)
1383.         finally:
1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1385. 
1386.     def test_non_form_errors_run_full_clean(self):
1387.         """
1388.         If non_form_errors() is called without calling is_valid() first,
1389.         it should ensure that full_clean() is called.
1390.         """
1391. 
1392.         class BaseCustomFormSet(BaseFormSet):
1393.             def clean(self):
1394.                 raise ValidationError("This is a non-form error")
1395. 
1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)
1397.         data = {
1398.             "choices-TOTAL_FORMS": "1",
1399.             "choices-INITIAL_FORMS": "0",
1400.         }
1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)
1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])
1404. 
1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):
1406.         class CheckForm(Form):
1407.             field = IntegerField()
1408. 
1409.         data = {
1410.             "check-TOTAL_FORMS": "2",
1411.             "check-INITIAL_FORMS": "0",
1412.             "check-MAX_NUM_FORMS": "1",
1413.             "check-0-field": "200",
1414.             "check-0-DELETE": "",
1415.             "check-1-field": "50",
1416.             "check-1-DELETE": "on",
1417.         }
1418.         CheckFormSet = formset_factory(
1419.             CheckForm, max_num=1, validate_max=True, can_delete=True
1420.         )
1421.         formset = CheckFormSet(data, prefix="check")
1422.         self.assertTrue(formset.is_valid())
1423. 
1424.     def test_formset_total_error_count(self):
1425.         """A valid formset should have 0 total errors."""
1426.         data = [  # formset_data, expected error count
1427.             ([("Calexico", "100")], 0),
1428.             ([("Calexico", "")], 1),
1429.             ([("", "invalid")], 2),
1430.             ([("Calexico", "100"), ("Calexico", "")], 1),
1431.             ([("Calexico", ""), ("Calexico", "")], 2),
1432.         ]
1433.         for formset_data, expected_error_count in data:
1434.             formset = self.make_choiceformset(formset_data)
1435.             self.assertEqual(formset.total_error_count(), expected_error_count)
1436. 
1437.     def test_formset_total_error_count_with_non_form_errors(self):
1438.         data = {
1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
1442.             "choices-0-choice": "Zero",
1443.             "choices-0-votes": "0",
1444.             "choices-1-choice": "One",
1445.             "choices-1-votes": "1",
1446.         }
1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1449.         self.assertEqual(formset.total_error_count(), 1)
1450.         data["choices-1-votes"] = ""
1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1452.         self.assertEqual(formset.total_error_count(), 2)
1453. 
1454.     def test_html_safe(self):
1455.         formset = self.make_choiceformset()
1456.         self.assertTrue(hasattr(formset, "__html__"))
1457.         self.assertEqual(str(formset), formset.__html__())
1458. 
1459.     def test_can_delete_extra_formset_forms(self):
1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)
1461.         formset = ChoiceFormFormset()
1462.         self.assertEqual(len(formset), 2)
1463.         self.assertIn("DELETE", formset.forms[0].fields)
1464.         self.assertIn("DELETE", formset.forms[1].fields)
1465. 
1466.     def test_disable_delete_extra_formset_forms(self):
1467.         ChoiceFormFormset = formset_factory(
1468.             form=Choice,
1469.             can_delete=True,
1470.             can_delete_extra=False,
1471.             extra=2,
1472.         )
1473.         formset = ChoiceFormFormset()
1474.         self.assertEqual(len(formset), 2)
1475.         self.assertNotIn("DELETE", formset.forms[0].fields)
1476.         self.assertNotIn("DELETE", formset.forms[1].fields)
1477. 
1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])
1479.         self.assertEqual(len(formset), 3)
1480.         self.assertIn("DELETE", formset.forms[0].fields)
1481.         self.assertNotIn("DELETE", formset.forms[1].fields)
1482.         self.assertNotIn("DELETE", formset.forms[2].fields)
1483. 
1484.         formset = ChoiceFormFormset(
1485.             data={
1486.                 "form-0-choice": "Zero",
1487.                 "form-0-votes": "0",
1488.                 "form-0-DELETE": "on",
1489.                 "form-1-choice": "One",
1490.                 "form-1-votes": "1",
1491.                 "form-2-choice": "",
1492.                 "form-2-votes": "",
1493.                 "form-TOTAL_FORMS": "3",
1494.                 "form-INITIAL_FORMS": "1",
1495.             },
1496.             initial=[{"choice": "Zero", "votes": "1"}],
1497.         )
1498.         self.assertEqual(
1499.             formset.cleaned_data,
1500.             [

File: tests/forms_tests/tests/test_formsets.py
Line number range: 1500 - 2500
Content:
1500.             [
1501.                 {"choice": "Zero", "votes": 0, "DELETE": True},
1502.                 {"choice": "One", "votes": 1},
1503.                 {},
1504.             ],
1505.         )
1506.         self.assertIs(formset._should_delete_form(formset.forms[0]), True)
1507.         self.assertIs(formset._should_delete_form(formset.forms[1]), False)
1508.         self.assertIs(formset._should_delete_form(formset.forms[2]), False)
1509. 
1510.     def test_template_name_uses_renderer_value(self):
1511.         class CustomRenderer(TemplatesSetting):
1512.             formset_template_name = "a/custom/formset/template.html"
1513. 
1514.         ChoiceFormSet = formset_factory(Choice, renderer=CustomRenderer)
1515. 
1516.         self.assertEqual(
1517.             ChoiceFormSet().template_name, "a/custom/formset/template.html"
1518.         )
1519. 
1520.     def test_template_name_can_be_overridden(self):
1521.         class CustomFormSet(BaseFormSet):
1522.             template_name = "a/custom/formset/template.html"
1523. 
1524.         ChoiceFormSet = formset_factory(Choice, formset=CustomFormSet)
1525. 
1526.         self.assertEqual(
1527.             ChoiceFormSet().template_name, "a/custom/formset/template.html"
1528.         )
1529. 
1530.     def test_custom_renderer(self):
1531.         """
1532.         A custom renderer passed to a formset_factory() is passed to all forms
1533.         and ErrorList.
1534.         """
1535.         from django.forms.renderers import Jinja2
1536. 
1537.         renderer = Jinja2()
1538.         data = {
1539.             "choices-TOTAL_FORMS": "2",
1540.             "choices-INITIAL_FORMS": "0",
1541.             "choices-MIN_NUM_FORMS": "0",
1542.             "choices-0-choice": "Zero",
1543.             "choices-0-votes": "",
1544.             "choices-1-choice": "One",
1545.             "choices-1-votes": "",
1546.         }
1547.         ChoiceFormSet = formset_factory(Choice, renderer=renderer)
1548.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1549.         self.assertEqual(formset.renderer, renderer)
1550.         self.assertEqual(formset.forms[0].renderer, renderer)
1551.         self.assertEqual(formset.management_form.renderer, renderer)
1552.         self.assertEqual(formset.non_form_errors().renderer, renderer)
1553.         self.assertEqual(formset.empty_form.renderer, renderer)
1554. 
1555.     def test_repr(self):
1556.         valid_formset = self.make_choiceformset([("test", 1)])
1557.         valid_formset.full_clean()
1558.         invalid_formset = self.make_choiceformset([("test", "")])
1559.         invalid_formset.full_clean()
1560.         partially_invalid_formset = self.make_choiceformset(
1561.             [("test", "1"), ("test", "")],
1562.         )
1563.         partially_invalid_formset.full_clean()
1564.         invalid_formset_non_form_errors_only = self.make_choiceformset(
1565.             [("test", "")],
1566.             formset_class=ChoiceFormsetWithNonFormError,
1567.         )
1568.         invalid_formset_non_form_errors_only.full_clean()
1569. 
1570.         cases = [
1571.             (
1572.                 self.make_choiceformset(),
1573.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=1>",
1574.             ),
1575.             (
1576.                 self.make_choiceformset(
1577.                     formset_class=formset_factory(Choice, extra=10),
1578.                 ),
1579.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=10>",
1580.             ),
1581.             (
1582.                 self.make_choiceformset([]),
1583.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=0>",
1584.             ),
1585.             (
1586.                 self.make_choiceformset([("test", 1)]),
1587.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=1>",
1588.             ),
1589.             (valid_formset, "<ChoiceFormSet: bound=True valid=True total_forms=1>"),
1590.             (invalid_formset, "<ChoiceFormSet: bound=True valid=False total_forms=1>"),
1591.             (
1592.                 partially_invalid_formset,
1593.                 "<ChoiceFormSet: bound=True valid=False total_forms=2>",
1594.             ),
1595.             (
1596.                 invalid_formset_non_form_errors_only,
1597.                 "<ChoiceFormsetWithNonFormError: bound=True valid=False total_forms=1>",
1598.             ),
1599.         ]
1600.         for formset, expected_repr in cases:
1601.             with self.subTest(expected_repr=expected_repr):
1602.                 self.assertEqual(repr(formset), expected_repr)
1603. 
1604.     def test_repr_do_not_trigger_validation(self):
1605.         formset = self.make_choiceformset([("test", 1)])
1606.         with mock.patch.object(formset, "full_clean") as mocked_full_clean:
1607.             repr(formset)
1608.             mocked_full_clean.assert_not_called()
1609.             formset.is_valid()
1610.             mocked_full_clean.assert_called()
1611. 
1612. 
1613. @jinja2_tests
1614. class Jinja2FormsFormsetTestCase(FormsFormsetTestCase):
1615.     pass
1616. 
1617. 
1618. class FormsetAsTagTests(SimpleTestCase):
1619.     def setUp(self):
1620.         data = {
1621.             "choices-TOTAL_FORMS": "1",
1622.             "choices-INITIAL_FORMS": "0",
1623.             "choices-MIN_NUM_FORMS": "0",
1624.             "choices-MAX_NUM_FORMS": "0",
1625.             "choices-0-choice": "Calexico",
1626.             "choices-0-votes": "100",
1627.         }
1628.         self.formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1629.         self.management_form_html = (
1630.             '<input type="hidden" name="choices-TOTAL_FORMS" value="1">'
1631.             '<input type="hidden" name="choices-INITIAL_FORMS" value="0">'
1632.             '<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">'
1633.             '<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">'
1634.         )
1635. 
1636.     def test_as_table(self):
1637.         self.assertHTMLEqual(
1638.             self.formset.as_table(),
1639.             self.management_form_html
1640.             + (
1641.                 "<tr><th>Choice:</th><td>"
1642.                 '<input type="text" name="choices-0-choice" value="Calexico"></td></tr>'
1643.                 "<tr><th>Votes:</th><td>"
1644.                 '<input type="number" name="choices-0-votes" value="100"></td></tr>'
1645.             ),
1646.         )
1647. 
1648.     def test_as_p(self):
1649.         self.assertHTMLEqual(
1650.             self.formset.as_p(),
1651.             self.management_form_html
1652.             + (
1653.                 "<p>Choice: "
1654.                 '<input type="text" name="choices-0-choice" value="Calexico"></p>'
1655.                 '<p>Votes: <input type="number" name="choices-0-votes" value="100"></p>'
1656.             ),
1657.         )
1658. 
1659.     def test_as_ul(self):
1660.         self.assertHTMLEqual(
1661.             self.formset.as_ul(),
1662.             self.management_form_html
1663.             + (
1664.                 "<li>Choice: "
1665.                 '<input type="text" name="choices-0-choice" value="Calexico"></li>'
1666.                 "<li>Votes: "
1667.                 '<input type="number" name="choices-0-votes" value="100"></li>'
1668.             ),
1669.         )
1670. 
1671.     def test_as_div(self):
1672.         self.assertHTMLEqual(
1673.             self.formset.as_div(),
1674.             self.management_form_html
1675.             + (
1676.                 "<div>Choice: "
1677.                 '<input type="text" name="choices-0-choice" value="Calexico"></div>'
1678.                 '<div>Votes: <input type="number" name="choices-0-votes" value="100">'
1679.                 "</div>"
1680.             ),
1681.         )
1682. 
1683. 
1684. @jinja2_tests
1685. class Jinja2FormsetAsTagTests(FormsetAsTagTests):
1686.     pass
1687. 
1688. 
1689. class ArticleForm(Form):
1690.     title = CharField()
1691.     pub_date = DateField()
1692. 
1693. 
1694. ArticleFormSet = formset_factory(ArticleForm)
1695. 
1696. 
1697. class TestIsBoundBehavior(SimpleTestCase):
1698.     def test_no_data_error(self):
1699.         formset = ArticleFormSet({})
1700.         self.assertIs(formset.is_valid(), False)
1701.         self.assertEqual(
1702.             formset.non_form_errors(),
1703.             [
1704.                 "ManagementForm data is missing or has been tampered with. "
1705.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "
1706.                 "You may need to file a bug report if the issue persists.",
1707.             ],
1708.         )
1709.         self.assertEqual(formset.errors, [])
1710.         # Can still render the formset.
1711.         self.assertHTMLEqual(
1712.             str(formset),
1713.             '<ul class="errorlist nonfield">'
1714.             "<li>(Hidden field TOTAL_FORMS) This field is required.</li>"
1715.             "<li>(Hidden field INITIAL_FORMS) This field is required.</li>"
1716.             "</ul>"
1717.             "<div>"
1718.             '<input type="hidden" name="form-TOTAL_FORMS" id="id_form-TOTAL_FORMS">'
1719.             '<input type="hidden" name="form-INITIAL_FORMS" id="id_form-INITIAL_FORMS">'
1720.             '<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">'
1721.             '<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">'
1722.             "</div>\n",
1723.         )
1724. 
1725.     def test_management_form_invalid_data(self):
1726.         data = {
1727.             "form-TOTAL_FORMS": "two",
1728.             "form-INITIAL_FORMS": "one",
1729.         }
1730.         formset = ArticleFormSet(data)
1731.         self.assertIs(formset.is_valid(), False)
1732.         self.assertEqual(
1733.             formset.non_form_errors(),
1734.             [
1735.                 "ManagementForm data is missing or has been tampered with. "
1736.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "
1737.                 "You may need to file a bug report if the issue persists.",
1738.             ],
1739.         )
1740.         self.assertEqual(formset.errors, [])
1741.         # Can still render the formset.
1742.         self.assertHTMLEqual(
1743.             str(formset),
1744.             '<ul class="errorlist nonfield">'
1745.             "<li>(Hidden field TOTAL_FORMS) Enter a whole number.</li>"
1746.             "<li>(Hidden field INITIAL_FORMS) Enter a whole number.</li>"
1747.             "</ul>"
1748.             "<div>"
1749.             '<input type="hidden" name="form-TOTAL_FORMS" value="two" '
1750.             'id="id_form-TOTAL_FORMS">'
1751.             '<input type="hidden" name="form-INITIAL_FORMS" value="one" '
1752.             'id="id_form-INITIAL_FORMS">'
1753.             '<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">'
1754.             '<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">'
1755.             "</div>\n",
1756.         )
1757. 
1758.     def test_customize_management_form_error(self):
1759.         formset = ArticleFormSet(
1760.             {}, error_messages={"missing_management_form": "customized"}
1761.         )
1762.         self.assertIs(formset.is_valid(), False)
1763.         self.assertEqual(formset.non_form_errors(), ["customized"])
1764.         self.assertEqual(formset.errors, [])
1765. 
1766.     def test_with_management_data_attrs_work_fine(self):
1767.         data = {
1768.             "form-TOTAL_FORMS": "1",
1769.             "form-INITIAL_FORMS": "0",
1770.         }
1771.         formset = ArticleFormSet(data)
1772.         self.assertEqual(0, formset.initial_form_count())
1773.         self.assertEqual(1, formset.total_form_count())
1774.         self.assertTrue(formset.is_bound)
1775.         self.assertTrue(formset.forms[0].is_bound)
1776.         self.assertTrue(formset.is_valid())
1777.         self.assertTrue(formset.forms[0].is_valid())
1778.         self.assertEqual([{}], formset.cleaned_data)
1779. 
1780.     def test_form_errors_are_caught_by_formset(self):
1781.         data = {
1782.             "form-TOTAL_FORMS": "2",
1783.             "form-INITIAL_FORMS": "0",
1784.             "form-0-title": "Test",
1785.             "form-0-pub_date": "1904-06-16",
1786.             "form-1-title": "Test",
1787.             "form-1-pub_date": "",  # <-- this date is missing but required
1788.         }
1789.         formset = ArticleFormSet(data)
1790.         self.assertFalse(formset.is_valid())
1791.         self.assertEqual(
1792.             [{}, {"pub_date": ["This field is required."]}], formset.errors
1793.         )
1794. 
1795.     def test_empty_forms_are_unbound(self):
1796.         data = {
1797.             "form-TOTAL_FORMS": "1",
1798.             "form-INITIAL_FORMS": "0",
1799.             "form-0-title": "Test",
1800.             "form-0-pub_date": "1904-06-16",
1801.         }
1802.         unbound_formset = ArticleFormSet()
1803.         bound_formset = ArticleFormSet(data)
1804.         empty_forms = [unbound_formset.empty_form, bound_formset.empty_form]
1805.         # Empty forms should be unbound
1806.         self.assertFalse(empty_forms[0].is_bound)
1807.         self.assertFalse(empty_forms[1].is_bound)
1808.         # The empty forms should be equal.
1809.         self.assertHTMLEqual(empty_forms[0].as_p(), empty_forms[1].as_p())
1810. 
1811. 
1812. @jinja2_tests
1813. class TestIsBoundBehavior(TestIsBoundBehavior):
1814.     pass
1815. 
1816. 
1817. class TestEmptyFormSet(SimpleTestCase):
1818.     def test_empty_formset_is_valid(self):
1819.         """An empty formset still calls clean()"""
1820. 
1821.         class EmptyFsetWontValidate(BaseFormSet):
1822.             def clean(self):
1823.                 raise ValidationError("Clean method called")
1824. 
1825.         EmptyFsetWontValidateFormset = formset_factory(
1826.             FavoriteDrinkForm, extra=0, formset=EmptyFsetWontValidate
1827.         )
1828.         formset = EmptyFsetWontValidateFormset(
1829.             data={"form-INITIAL_FORMS": "0", "form-TOTAL_FORMS": "0"},
1830.             prefix="form",
1831.         )
1832.         formset2 = EmptyFsetWontValidateFormset(
1833.             data={
1834.                 "form-INITIAL_FORMS": "0",
1835.                 "form-TOTAL_FORMS": "1",
1836.                 "form-0-name": "bah",
1837.             },
1838.             prefix="form",
1839.         )
1840.         self.assertFalse(formset.is_valid())
1841.         self.assertFalse(formset2.is_valid())
1842. 
1843.     def test_empty_formset_media(self):
1844.         """Media is available on empty formset."""
1845. 
1846.         class MediaForm(Form):
1847.             class Media:
1848.                 js = ("some-file.js",)
1849. 
1850.         self.assertIn("some-file.js", str(formset_factory(MediaForm, extra=0)().media))
1851. 
1852.     def test_empty_formset_is_multipart(self):
1853.         """is_multipart() works with an empty formset."""
1854. 
1855.         class FileForm(Form):
1856.             file = FileField()
1857. 
1858.         self.assertTrue(formset_factory(FileForm, extra=0)().is_multipart())
1859. 
1860. 
1861. class AllValidTests(SimpleTestCase):
1862.     def test_valid(self):
1863.         data = {
1864.             "choices-TOTAL_FORMS": "2",
1865.             "choices-INITIAL_FORMS": "0",
1866.             "choices-MIN_NUM_FORMS": "0",
1867.             "choices-0-choice": "Zero",
1868.             "choices-0-votes": "0",
1869.             "choices-1-choice": "One",
1870.             "choices-1-votes": "1",
1871.         }
1872.         ChoiceFormSet = formset_factory(Choice)
1873.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1874.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1875.         self.assertIs(all_valid((formset1, formset2)), True)
1876.         expected_errors = [{}, {}]
1877.         self.assertEqual(formset1._errors, expected_errors)
1878.         self.assertEqual(formset2._errors, expected_errors)
1879. 
1880.     def test_invalid(self):
1881.         """all_valid() validates all forms, even when some are invalid."""
1882.         data = {
1883.             "choices-TOTAL_FORMS": "2",
1884.             "choices-INITIAL_FORMS": "0",
1885.             "choices-MIN_NUM_FORMS": "0",
1886.             "choices-0-choice": "Zero",
1887.             "choices-0-votes": "",
1888.             "choices-1-choice": "One",
1889.             "choices-1-votes": "",
1890.         }
1891.         ChoiceFormSet = formset_factory(Choice)
1892.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1893.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1894.         self.assertIs(all_valid((formset1, formset2)), False)
1895.         expected_errors = [
1896.             {"votes": ["This field is required."]},
1897.             {"votes": ["This field is required."]},
1898.         ]
1899.         self.assertEqual(formset1._errors, expected_errors)
1900.         self.assertEqual(formset2._errors, expected_errors)


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-05 12:26:33,805 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user's refinement query asks for the full content of the file `tests/forms_tests/tests/test_formsets.py`. The provided context contains the entire content of this file, which is directly relevant to the user's request.", relative_path='tests/forms_tests/tests/test_formsets.py', start_line=1, end_line=1900)]
2025-10-05 12:26:33,806 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='1. import datetime\n2. from collections import Counter\n3. from unittest import mock\n4. \n5. from django.core.exceptions import ValidationError\n6. from django.forms import (\n7.     BaseForm,\n8.     CharField,\n9.     DateField,\n10.     FileField,\n11.     Form,\n12.     IntegerField,\n13.     SplitDateTimeField,\n14.     formsets,\n15. )\n16. from django.forms.formsets import (\n17.     INITIAL_FORM_COUNT,\n18.     MAX_NUM_FORM_COUNT,\n19.     MIN_NUM_FORM_COUNT,\n20.     TOTAL_FORM_COUNT,\n21.     BaseFormSet,\n22.     ManagementForm,\n23.     all_valid,\n24.     formset_factory,\n25. )\n26. from django.forms.renderers import TemplatesSetting\n27. from django.forms.utils import ErrorList\n28. from django.forms.widgets import HiddenInput\n29. from django.test import SimpleTestCase\n30. \n31. from . import jinja2_tests\n32. \n33. \n34. class Choice(Form):\n35.     choice = CharField()\n36.     votes = IntegerField()\n37. \n38. \n39. ChoiceFormSet = formset_factory(Choice)\n40. \n41. \n42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):\n43.     def clean(self):\n44.         super().clean()\n45.         raise ValidationError("non-form error")\n46. \n47. \n48. class FavoriteDrinkForm(Form):\n49.     name = CharField()\n50. \n51. \n52. class BaseFavoriteDrinksFormSet(BaseFormSet):\n53.     def clean(self):\n54.         seen_drinks = []\n55. \n56.         for drink in self.cleaned_data:\n57.             if drink["name"] in seen_drinks:\n58.                 raise ValidationError("You may only specify a drink once.")\n59. \n60.             seen_drinks.append(drink["name"])\n61. \n62. \n63. # A FormSet that takes a list of favorite drinks and raises an error if\n64. # there are any duplicates.\n65. FavoriteDrinksFormSet = formset_factory(\n66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3\n67. )\n68. \n69. \n70. class CustomKwargForm(Form):\n71.     def __init__(self, *args, custom_kwarg, **kwargs):\n72.         self.custom_kwarg = custom_kwarg\n73.         super().__init__(*args, **kwargs)\n74. \n75. \n76. class FormsFormsetTestCase(SimpleTestCase):\n77.     def make_choiceformset(\n78.         self,\n79.         formset_data=None,\n80.         formset_class=ChoiceFormSet,\n81.         total_forms=None,\n82.         initial_forms=0,\n83.         max_num_forms=0,\n84.         min_num_forms=0,\n85.         **kwargs,\n86.     ):\n87.         """\n88.         Make a ChoiceFormset from the given formset_data.\n89.         The data should be given as a list of (choice, votes) tuples.\n90.         """\n91.         kwargs.setdefault("prefix", "choices")\n92.         kwargs.setdefault("auto_id", False)\n93. \n94.         if formset_data is None:\n95.             return formset_class(**kwargs)\n96. \n97.         if total_forms is None:\n98.             total_forms = len(formset_data)\n99. \n100.         def prefixed(*args):\n101.             args = (kwargs["prefix"],) + args\n102.             return "-".join(args)\n103. \n104.         data = {\n105.             prefixed("TOTAL_FORMS"): str(total_forms),\n106.             prefixed("INITIAL_FORMS"): str(initial_forms),\n107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),\n108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),\n109.         }\n110.         for i, (choice, votes) in enumerate(formset_data):\n111.             data[prefixed(str(i), "choice")] = choice\n112.             data[prefixed(str(i), "votes")] = votes\n113. \n114.         return formset_class(data, **kwargs)\n115. \n116.     def test_basic_formset(self):\n117.         """\n118.         A FormSet constructor takes the same arguments as Form. Create a\n119.         FormSet for adding data. By default, it displays 1 blank form.\n120.         """\n121.         formset = self.make_choiceformset()\n122.         self.assertHTMLEqual(\n123.             str(formset),\n124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">\n125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">\n126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\n127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">\n128. <div>Choice:<input type="text" name="choices-0-choice"></div>\n129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",\n130.         )\n131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()\n132.         # method, and a cleaned_data or errors attribute depending on whether\n133.         # all the forms passed validation. However, unlike a Form, cleaned_data\n134.         # and errors will be a list of dicts rather than a single dict.\n135.         formset = self.make_choiceformset([("Calexico", "100")])\n136.         self.assertTrue(formset.is_valid())\n137.         self.assertEqual(\n138.             [form.cleaned_data for form in formset.forms],\n139.             [{"votes": 100, "choice": "Calexico"}],\n140.         )\n141. \n142.         # If a FormSet wasn\'t passed any data, is_valid() and has_changed()\n143.         # return False.\n144.         formset = self.make_choiceformset()\n145.         self.assertFalse(formset.is_valid())\n146.         self.assertFalse(formset.has_changed())\n147. \n148.     def test_form_kwargs_formset(self):\n149.         """\n150.         Custom kwargs set on the formset instance are passed to the\n151.         underlying forms.\n152.         """\n153.         FormSet = formset_factory(CustomKwargForm, extra=2)\n154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n155.         for form in formset:\n156.             self.assertTrue(hasattr(form, "custom_kwarg"))\n157.             self.assertEqual(form.custom_kwarg, 1)\n158. \n159.     def test_form_kwargs_formset_dynamic(self):\n160.         """Form kwargs can be passed dynamically in a formset."""\n161. \n162.         class DynamicBaseFormSet(BaseFormSet):\n163.             def get_form_kwargs(self, index):\n164.                 return {"custom_kwarg": index}\n165. \n166.         DynamicFormSet = formset_factory(\n167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2\n168.         )\n169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})\n170.         for i, form in enumerate(formset):\n171.             self.assertTrue(hasattr(form, "custom_kwarg"))\n172.             self.assertEqual(form.custom_kwarg, i)\n173. \n174.     def test_form_kwargs_empty_form(self):\n175.         FormSet = formset_factory(CustomKwargForm)\n176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))\n178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)\n179. \n180.     def test_empty_permitted_ignored_empty_form(self):\n181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})\n182.         self.assertIs(formset.empty_form.empty_permitted, True)\n183. \n184.     def test_formset_validation(self):\n185.         # FormSet instances can also have an error attribute if validation failed for\n186.         # any of the forms.\n187.         formset = self.make_choiceformset([("Calexico", "")])\n188.         self.assertFalse(formset.is_valid())\n189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])\n190. \n191.     def test_formset_validation_count(self):\n192.         """\n193.         A formset\'s ManagementForm is validated once per FormSet.is_valid()\n194.         call and each form of the formset is cleaned once.\n195.         """\n196. \n197.         def make_method_counter(func):\n198.             """Add a counter to func for the number of times it\'s called."""\n199.             counter = Counter()\n200.             counter.call_count = 0\n201. \n202.             def mocked_func(*args, **kwargs):\n203.                 counter.call_count += 1\n204.                 return func(*args, **kwargs)\n205. \n206.             return mocked_func, counter\n207. \n208.         mocked_is_valid, is_valid_counter = make_method_counter(\n209.             formsets.ManagementForm.is_valid\n210.         )\n211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)\n212.         formset = self.make_choiceformset(\n213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]\n214.         )\n215. \n216.         with mock.patch(\n217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid\n218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):\n219.             self.assertTrue(formset.is_valid())\n220.         self.assertEqual(is_valid_counter.call_count, 1)\n221.         self.assertEqual(full_clean_counter.call_count, 4)\n222. \n223.     def test_formset_has_changed(self):\n224.         """\n225.         FormSet.has_changed() is True if any data is passed to its forms, even\n226.         if the formset didn\'t validate.\n227.         """\n228.         blank_formset = self.make_choiceformset([("", "")])\n229.         self.assertFalse(blank_formset.has_changed())\n230.         # invalid formset\n231.         invalid_formset = self.make_choiceformset([("Calexico", "")])\n232.         self.assertFalse(invalid_formset.is_valid())\n233.         self.assertTrue(invalid_formset.has_changed())\n234.         # valid formset\n235.         valid_formset = self.make_choiceformset([("Calexico", "100")])\n236.         self.assertTrue(valid_formset.is_valid())\n237.         self.assertTrue(valid_formset.has_changed())\n238. \n239.     def test_formset_initial_data(self):\n240.         """\n241.         A FormSet can be prefilled with existing data by providing a list of\n242.         dicts to the `initial` argument. By default, an extra blank form is\n243.         included.\n244.         """\n245.         formset = self.make_choiceformset(\n246.             initial=[{"choice": "Calexico", "votes": 100}]\n247.         )\n248.         self.assertHTMLEqual(\n249.             "\\n".join(form.as_ul() for form in formset.forms),\n250.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n251.             "</li>"\n252.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n253.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n254.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\',\n255.         )\n256. \n257.     def test_blank_form_unfilled(self):\n258.         """A form that\'s displayed as blank may be submitted as blank."""\n259.         formset = self.make_choiceformset(\n260.             [("Calexico", "100"), ("", "")], initial_forms=1\n261.         )\n262.         self.assertTrue(formset.is_valid())\n263.         self.assertEqual(\n264.             [form.cleaned_data for form in formset.forms],\n265.             [{"votes": 100, "choice": "Calexico"}, {}],\n266.         )\n267. \n268.     def test_second_form_partially_filled(self):\n269.         """\n270.         If at least one field is filled out on a blank form, it will be\n271.         validated.\n272.         """\n273.         formset = self.make_choiceformset(\n274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1\n275.         )\n276.         self.assertFalse(formset.is_valid())\n277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])\n278. \n279.     def test_delete_prefilled_data(self):\n280.         """\n281.         Deleting prefilled data is an error. Removing data from form fields\n282.         isn\'t the proper way to delete it.\n283.         """\n284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)\n285.         self.assertFalse(formset.is_valid())\n286.         self.assertEqual(\n287.             formset.errors,\n288.             [\n289.                 {\n290.                     "votes": ["This field is required."],\n291.                     "choice": ["This field is required."],\n292.                 },\n293.                 {},\n294.             ],\n295.         )\n296. \n297.     def test_displaying_more_than_one_blank_form(self):\n298.         """\n299.         More than 1 empty form can be displayed using formset_factory\'s\n300.         `extra` argument.\n301.         """\n302.         ChoiceFormSet = formset_factory(Choice, extra=3)\n303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n304.         self.assertHTMLEqual(\n305.             "\\n".join(form.as_ul() for form in formset.forms),\n306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n307. <li>Votes: <input type="number" name="choices-0-votes"></li>\n308. <li>Choice: <input type="text" name="choices-1-choice"></li>\n309. <li>Votes: <input type="number" name="choices-1-votes"></li>\n310. <li>Choice: <input type="text" name="choices-2-choice"></li>\n311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n312.         )\n313.         # Since every form was displayed as blank, they are also accepted as\n314.         # blank. This may seem a little strange, but min_num is used to require\n315.         # a minimum number of forms to be completed.\n316.         data = {\n317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n321.             "choices-0-choice": "",\n322.             "choices-0-votes": "",\n323.             "choices-1-choice": "",\n324.             "choices-1-votes": "",\n325.             "choices-2-choice": "",\n326.             "choices-2-votes": "",\n327.         }\n328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n329.         self.assertTrue(formset.is_valid())\n330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n331. \n332.     def test_min_num_displaying_more_than_one_blank_form(self):\n333.         """\n334.         More than 1 empty form can also be displayed using formset_factory\'s\n335.         min_num argument. It will (essentially) increment the extra argument.\n336.         """\n337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)\n338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n339.         # Min_num forms are required; extra forms can be empty.\n340.         self.assertFalse(formset.forms[0].empty_permitted)\n341.         self.assertTrue(formset.forms[1].empty_permitted)\n342.         self.assertHTMLEqual(\n343.             "\\n".join(form.as_ul() for form in formset.forms),\n344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n345. <li>Votes: <input type="number" name="choices-0-votes"></li>\n346. <li>Choice: <input type="text" name="choices-1-choice"></li>\n347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",\n348.         )\n349. \n350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n351.         """More than 1 empty form can be displayed using min_num."""\n352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n354.         self.assertHTMLEqual(\n355.             "\\n".join(form.as_ul() for form in formset.forms),\n356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n357. <li>Votes: <input type="number" name="choices-0-votes"></li>\n358. <li>Choice: <input type="text" name="choices-1-choice"></li>\n359. <li>Votes: <input type="number" name="choices-1-votes"></li>\n360. <li>Choice: <input type="text" name="choices-2-choice"></li>\n361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n362.         )\n363. \n364.     def test_single_form_completed(self):\n365.         """Just one form may be completed."""\n366.         data = {\n367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n371.             "choices-0-choice": "Calexico",\n372.             "choices-0-votes": "100",\n373.             "choices-1-choice": "",\n374.             "choices-1-votes": "",\n375.             "choices-2-choice": "",\n376.             "choices-2-votes": "",\n377.         }\n378.         ChoiceFormSet = formset_factory(Choice, extra=3)\n379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n380.         self.assertTrue(formset.is_valid())\n381.         self.assertEqual(\n382.             [form.cleaned_data for form in formset.forms],\n383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],\n384.         )\n385. \n386.     def test_formset_validate_max_flag(self):\n387.         """\n388.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n390.         irrelevant here (it\'s output as a hint for the client but its value\n391.         in the returned data is not checked).\n392.         """\n393.         data = {\n394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n398.             "choices-0-choice": "Zero",\n399.             "choices-0-votes": "0",\n400.             "choices-1-choice": "One",\n401.             "choices-1-votes": "1",\n402.         }\n403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n405.         self.assertFalse(formset.is_valid())\n406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])\n407.         self.assertEqual(\n408.             str(formset.non_form_errors()),\n409.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n410.         )\n411. \n412.     def test_formset_validate_max_flag_custom_error(self):\n413.         data = {\n414.             "choices-TOTAL_FORMS": "2",\n415.             "choices-INITIAL_FORMS": "0",\n416.             "choices-MIN_NUM_FORMS": "0",\n417.             "choices-MAX_NUM_FORMS": "2",\n418.             "choices-0-choice": "Zero",\n419.             "choices-0-votes": "0",\n420.             "choices-1-choice": "One",\n421.             "choices-1-votes": "1",\n422.         }\n423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n424.         formset = ChoiceFormSet(\n425.             data,\n426.             auto_id=False,\n427.             prefix="choices",\n428.             error_messages={\n429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."\n430.             },\n431.         )\n432.         self.assertFalse(formset.is_valid())\n433.         self.assertEqual(\n434.             formset.non_form_errors(),\n435.             ["Number of submitted forms should be at most 1."],\n436.         )\n437.         self.assertEqual(\n438.             str(formset.non_form_errors()),\n439.             \'<ul class="errorlist nonform">\'\n440.             "<li>Number of submitted forms should be at most 1.</li></ul>",\n441.         )\n442. \n443.     def test_formset_validate_min_flag(self):\n444.         """\n445.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n447.         irrelevant here (it\'s output as a hint for the client but its value\n448.         in the returned data is not checked).\n449.         """\n450.         data = {\n451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored\n455.             "choices-0-choice": "Zero",\n456.             "choices-0-votes": "0",\n457.             "choices-1-choice": "One",\n458.             "choices-1-votes": "1",\n459.         }\n460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n462.         self.assertFalse(formset.is_valid())\n463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])\n464.         self.assertEqual(\n465.             str(formset.non_form_errors()),\n466.             \'<ul class="errorlist nonform"><li>\'\n467.             "Please submit at least 3 forms.</li></ul>",\n468.         )\n469. \n470.     def test_formset_validate_min_flag_custom_formatted_error(self):\n471.         data = {\n472.             "choices-TOTAL_FORMS": "2",\n473.             "choices-INITIAL_FORMS": "0",\n474.             "choices-MIN_NUM_FORMS": "0",\n475.             "choices-MAX_NUM_FORMS": "0",\n476.             "choices-0-choice": "Zero",\n477.             "choices-0-votes": "0",\n478.             "choices-1-choice": "One",\n479.             "choices-1-votes": "1",\n480.         }\n481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n482.         formset = ChoiceFormSet(\n483.             data,\n484.             auto_id=False,\n485.             prefix="choices",\n486.             error_messages={\n487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."\n488.             },\n489.         )\n490.         self.assertFalse(formset.is_valid())\n491.         self.assertEqual(\n492.             formset.non_form_errors(),\n493.             ["Number of submitted forms should be at least 3."],\n494.         )\n495.         self.assertEqual(\n496.             str(formset.non_form_errors()),\n497.             \'<ul class="errorlist nonform">\'\n498.             "<li>Number of submitted forms should be at least 3.</li></ul>",\n499.         )\n500. \n501.     def test_formset_validate_min_unchanged_forms(self):\n502.         """\n503.         min_num validation doesn\'t consider unchanged forms with initial data\n504.         as "empty".\n505.         """\n506.         initial = [\n507.             {"choice": "Zero", "votes": 0},\n508.             {"choice": "One", "votes": 0},\n509.         ]\n510.         data = {\n511.             "choices-TOTAL_FORMS": "2",\n512.             "choices-INITIAL_FORMS": "2",\n513.             "choices-MIN_NUM_FORMS": "0",\n514.             "choices-MAX_NUM_FORMS": "2",\n515.             "choices-0-choice": "Zero",\n516.             "choices-0-votes": "0",\n517.             "choices-1-choice": "One",\n518.             "choices-1-votes": "1",  # changed from initial\n519.         }\n520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)\n521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)\n522.         self.assertFalse(formset.forms[0].has_changed())\n523.         self.assertTrue(formset.forms[1].has_changed())\n524.         self.assertTrue(formset.is_valid())\n525. \n526.     def test_formset_validate_min_excludes_empty_forms(self):\n527.         data = {\n528.             "choices-TOTAL_FORMS": "2",\n529.             "choices-INITIAL_FORMS": "0",\n530.         }\n531.         ChoiceFormSet = formset_factory(\n532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True\n533.         )\n534.         formset = ChoiceFormSet(data, prefix="choices")\n535.         self.assertFalse(formset.has_changed())\n536.         self.assertFalse(formset.is_valid())\n537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])\n538. \n539.     def test_second_form_partially_filled_2(self):\n540.         """A partially completed form is invalid."""\n541.         data = {\n542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n546.             "choices-0-choice": "Calexico",\n547.             "choices-0-votes": "100",\n548.             "choices-1-choice": "The Decemberists",\n549.             "choices-1-votes": "",  # missing value\n550.             "choices-2-choice": "",\n551.             "choices-2-votes": "",\n552.         }\n553.         ChoiceFormSet = formset_factory(Choice, extra=3)\n554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n555.         self.assertFalse(formset.is_valid())\n556.         self.assertEqual(\n557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]\n558.         )\n559. \n560.     def test_more_initial_data(self):\n561.         """\n562.         The extra argument works when the formset is pre-filled with initial\n563.         data.\n564.         """\n565.         initial = [{"choice": "Calexico", "votes": 100}]\n566.         ChoiceFormSet = formset_factory(Choice, extra=3)\n567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n568.         self.assertHTMLEqual(\n569.             "\\n".join(form.as_ul() for form in formset.forms),\n570.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n571.             "</li>"\n572.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n573.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n574.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\'\n575.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n576.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n577.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n578.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\',\n579.         )\n580.         # Retrieving an empty form works. Tt shows up in the form list.\n581.         self.assertTrue(formset.empty_form.empty_permitted)\n582.         self.assertHTMLEqual(\n583.             formset.empty_form.as_ul(),\n584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>\n585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",\n586.         )\n587. \n588.     def test_formset_with_deletion(self):\n589.         """\n590.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n591.         each form. When that boolean field is True, the form will be in\n592.         formset.deleted_forms.\n593.         """\n594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n595.         initial = [\n596.             {"choice": "Calexico", "votes": 100},\n597.             {"choice": "Fergie", "votes": 900},\n598.         ]\n599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n600.         self.assertHTMLEqual(\n601.             "\\n".join(form.as_ul() for form in formset.forms),\n602.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n603.             "</li>"\n604.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n605.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n606.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n607.             "</li>"\n608.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n609.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n610.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n611.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n612.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\',\n613.         )\n614.         # To delete something, set that form\'s special delete field to \'on\'.\n615.         # Let\'s go ahead and delete Fergie.\n616.         data = {\n617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n621.             "choices-0-choice": "Calexico",\n622.             "choices-0-votes": "100",\n623.             "choices-0-DELETE": "",\n624.             "choices-1-choice": "Fergie",\n625.             "choices-1-votes": "900",\n626.             "choices-1-DELETE": "on",\n627.             "choices-2-choice": "",\n628.             "choices-2-votes": "",\n629.             "choices-2-DELETE": "",\n630.         }\n631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n632.         self.assertTrue(formset.is_valid())\n633.         self.assertEqual(\n634.             [form.cleaned_data for form in formset.forms],\n635.             [\n636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},\n637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},\n638.                 {},\n639.             ],\n640.         )\n641.         self.assertEqual(\n642.             [form.cleaned_data for form in formset.deleted_forms],\n643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],\n644.         )\n645. \n646.     def test_formset_with_deletion_remove_deletion_flag(self):\n647.         """\n648.         If a form is filled with something and can_delete is also checked, that\n649.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n650.         going to be deleted.\n651.         """\n652. \n653.         class CheckForm(Form):\n654.             field = IntegerField(min_value=100)\n655. \n656.         data = {\n657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered\n658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data\n659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n660.             "check-MAX_NUM_FORMS": "0",  # max number of forms\n661.             "check-0-field": "200",\n662.             "check-0-DELETE": "",\n663.             "check-1-field": "50",\n664.             "check-1-DELETE": "on",\n665.             "check-2-field": "",\n666.             "check-2-DELETE": "",\n667.         }\n668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)\n669.         formset = CheckFormSet(data, prefix="check")\n670.         self.assertTrue(formset.is_valid())\n671.         # If the deletion flag is removed, validation is enabled.\n672.         data["check-1-DELETE"] = ""\n673.         formset = CheckFormSet(data, prefix="check")\n674.         self.assertFalse(formset.is_valid())\n675. \n676.     def test_formset_with_deletion_invalid_deleted_form(self):\n677.         """\n678.         deleted_forms works on a valid formset even if a deleted form would\n679.         have been invalid.\n680.         """\n681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n682.         formset = FavoriteDrinkFormset(\n683.             {\n684.                 "form-0-name": "",\n685.                 "form-0-DELETE": "on",  # no name!\n686.                 "form-TOTAL_FORMS": 1,\n687.                 "form-INITIAL_FORMS": 1,\n688.                 "form-MIN_NUM_FORMS": 0,\n689.                 "form-MAX_NUM_FORMS": 1,\n690.             }\n691.         )\n692.         self.assertTrue(formset.is_valid())\n693.         self.assertEqual(formset._errors, [])\n694.         self.assertEqual(len(formset.deleted_forms), 1)\n695. \n696.     def test_formset_with_deletion_custom_widget(self):\n697.         class DeletionAttributeFormSet(BaseFormSet):\n698.             deletion_widget = HiddenInput\n699. \n700.         class DeletionMethodFormSet(BaseFormSet):\n701.             def get_deletion_widget(self):\n702.                 return HiddenInput(attrs={"class": "deletion"})\n703. \n704.         tests = [\n705.             (DeletionAttributeFormSet, \'<input type="hidden" name="form-0-DELETE">\'),\n706.             (\n707.                 DeletionMethodFormSet,\n708.                 \'<input class="deletion" type="hidden" name="form-0-DELETE">\',\n709.             ),\n710.         ]\n711.         for formset_class, delete_html in tests:\n712.             with self.subTest(formset_class=formset_class.__name__):\n713.                 ArticleFormSet = formset_factory(\n714.                     ArticleForm,\n715.                     formset=formset_class,\n716.                     can_delete=True,\n717.                 )\n718.                 formset = ArticleFormSet(auto_id=False)\n719.                 self.assertHTMLEqual(\n720.                     "\\n".join([form.as_ul() for form in formset.forms]),\n721.                     (\n722.                         f\'<li>Title: <input type="text" name="form-0-title"></li>\'\n723.                         f\'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n724.                         f"{delete_html}</li>"\n725.                     ),\n726.                 )\n727. \n728.     def test_formsets_with_ordering(self):\n729.         """\n730.         formset_factory\'s can_order argument adds an integer field to each\n731.         form. When form validation succeeds,\n732.             [form.cleaned_data for form in formset.forms]\n733.         will have the data in the correct order specified by the ordering\n734.         fields. If a number is duplicated in the set of ordering fields, for\n735.         instance form 0 and form 3 are both marked as 1, then the form index\n736.         used as a secondary ordering criteria. In order to put something at the\n737.         front of the list, you\'d need to set its order to 0.\n738.         """\n739.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n740.         initial = [\n741.             {"choice": "Calexico", "votes": 100},\n742.             {"choice": "Fergie", "votes": 900},\n743.         ]\n744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n745.         self.assertHTMLEqual(\n746.             "\\n".join(form.as_ul() for form in formset.forms),\n747.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n748.             "</li>"\n749.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n750.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n751.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n752.             "</li>"\n753.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n754.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n755.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n756.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n757.             \'<li>Order: <input type="number" name="choices-2-ORDER"></li>\',\n758.         )\n759.         data = {\n760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n764.             "choices-0-choice": "Calexico",\n765.             "choices-0-votes": "100",\n766.             "choices-0-ORDER": "1",\n767.             "choices-1-choice": "Fergie",\n768.             "choices-1-votes": "900",\n769.             "choices-1-ORDER": "2",\n770.             "choices-2-choice": "The Decemberists",\n771.             "choices-2-votes": "500",\n772.             "choices-2-ORDER": "0",\n773.         }\n774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n775.         self.assertTrue(formset.is_valid())\n776.         self.assertEqual(\n777.             [form.cleaned_data for form in formset.ordered_forms],\n778.             [\n779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},\n780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n782.             ],\n783.         )\n784. \n785.     def test_formsets_with_ordering_custom_widget(self):\n786.         class OrderingAttributeFormSet(BaseFormSet):\n787.             ordering_widget = HiddenInput\n788. \n789.         class OrderingMethodFormSet(BaseFormSet):\n790.             def get_ordering_widget(self):\n791.                 return HiddenInput(attrs={"class": "ordering"})\n792. \n793.         tests = (\n794.             (OrderingAttributeFormSet, \'<input type="hidden" name="form-0-ORDER">\'),\n795.             (\n796.                 OrderingMethodFormSet,\n797.                 \'<input class="ordering" type="hidden" name="form-0-ORDER">\',\n798.             ),\n799.         )\n800.         for formset_class, order_html in tests:\n801.             with self.subTest(formset_class=formset_class.__name__):\n802.                 ArticleFormSet = formset_factory(\n803.                     ArticleForm, formset=formset_class, can_order=True\n804.                 )\n805.                 formset = ArticleFormSet(auto_id=False)\n806.                 self.assertHTMLEqual(\n807.                     "\\n".join(form.as_ul() for form in formset.forms),\n808.                     (\n809.                         \'<li>Title: <input type="text" name="form-0-title"></li>\'\n810.                         \'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n811.                         "%s</li>" % order_html\n812.                     ),\n813.                 )\n814. \n815.     def test_empty_ordered_fields(self):\n816.         """\n817.         Ordering fields are allowed to be left blank. If they are left blank,\n818.         they\'ll be sorted below everything else.\n819.         """\n820.         data = {\n821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n825.             "choices-0-choice": "Calexico",\n826.             "choices-0-votes": "100",\n827.             "choices-0-ORDER": "1",\n828.             "choices-1-choice": "Fergie",\n829.             "choices-1-votes": "900",\n830.             "choices-1-ORDER": "2",\n831.             "choices-2-choice": "The Decemberists",\n832.             "choices-2-votes": "500",\n833.             "choices-2-ORDER": "",\n834.             "choices-3-choice": "Basia Bulat",\n835.             "choices-3-votes": "50",\n836.             "choices-3-ORDER": "",\n837.         }\n838.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n840.         self.assertTrue(formset.is_valid())\n841.         self.assertEqual(\n842.             [form.cleaned_data for form in formset.ordered_forms],\n843.             [\n844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},\n847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},\n848.             ],\n849.         )\n850. \n851.     def test_ordering_blank_fieldsets(self):\n852.         """Ordering works with blank fieldsets."""\n853.         data = {\n854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n858.         }\n859.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n861.         self.assertTrue(formset.is_valid())\n862.         self.assertEqual(formset.ordered_forms, [])\n863. \n864.     def test_formset_with_ordering_and_deletion(self):\n865.         """FormSets with ordering + deletion."""\n866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)\n867.         initial = [\n868.             {"choice": "Calexico", "votes": 100},\n869.             {"choice": "Fergie", "votes": 900},\n870.             {"choice": "The Decemberists", "votes": 500},\n871.         ]\n872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n873.         self.assertHTMLEqual(\n874.             "\\n".join(form.as_ul() for form in formset.forms),\n875.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n876.             "</li>"\n877.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n878.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n879.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n880.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n881.             "</li>"\n882.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n883.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n884.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n885.             \'<li>Choice: <input type="text" name="choices-2-choice" \'\n886.             \'value="The Decemberists"></li>\'\n887.             \'<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>\'\n888.             \'<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>\'\n889.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\'\n890.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n891.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\'\n892.             \'<li>Order: <input type="number" name="choices-3-ORDER"></li>\'\n893.             \'<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>\',\n894.         )\n895.         # Let\'s delete Fergie, and put The Decemberists ahead of Calexico.\n896.         data = {\n897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n901.             "choices-0-choice": "Calexico",\n902.             "choices-0-votes": "100",\n903.             "choices-0-ORDER": "1",\n904.             "choices-0-DELETE": "",\n905.             "choices-1-choice": "Fergie",\n906.             "choices-1-votes": "900",\n907.             "choices-1-ORDER": "2",\n908.             "choices-1-DELETE": "on",\n909.             "choices-2-choice": "The Decemberists",\n910.             "choices-2-votes": "500",\n911.             "choices-2-ORDER": "0",\n912.             "choices-2-DELETE": "",\n913.             "choices-3-choice": "",\n914.             "choices-3-votes": "",\n915.             "choices-3-ORDER": "",\n916.             "choices-3-DELETE": "",\n917.         }\n918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n919.         self.assertTrue(formset.is_valid())\n920.         self.assertEqual(\n921.             [form.cleaned_data for form in formset.ordered_forms],\n922.             [\n923.                 {\n924.                     "votes": 500,\n925.                     "DELETE": False,\n926.                     "ORDER": 0,\n927.                     "choice": "The Decemberists",\n928.                 },\n929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},\n930.             ],\n931.         )\n932.         self.assertEqual(\n933.             [form.cleaned_data for form in formset.deleted_forms],\n934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],\n935.         )\n936. \n937.     def test_invalid_deleted_form_with_ordering(self):\n938.         """\n939.         Can get ordered_forms from a valid formset even if a deleted form\n940.         would have been invalid.\n941.         """\n942.         FavoriteDrinkFormset = formset_factory(\n943.             form=FavoriteDrinkForm, can_delete=True, can_order=True\n944.         )\n945.         formset = FavoriteDrinkFormset(\n946.             {\n947.                 "form-0-name": "",\n948.                 "form-0-DELETE": "on",  # no name!\n949.                 "form-TOTAL_FORMS": 1,\n950.                 "form-INITIAL_FORMS": 1,\n951.                 "form-MIN_NUM_FORMS": 0,\n952.                 "form-MAX_NUM_FORMS": 1,\n953.             }\n954.         )\n955.         self.assertTrue(formset.is_valid())\n956.         self.assertEqual(formset.ordered_forms, [])\n957. \n958.     def test_clean_hook(self):\n959.         """\n960.         FormSets have a clean() hook for doing extra validation that isn\'t tied\n961.         to any form. It follows the same pattern as the clean() hook on Forms.\n962.         """\n963.         # Start out with a some duplicate data.\n964.         data = {\n965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n969.             "drinks-0-name": "Gin and Tonic",\n970.             "drinks-1-name": "Gin and Tonic",\n971.         }\n972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n973.         self.assertFalse(formset.is_valid())\n974.         # Any errors raised by formset.clean() are available via the\n975.         # formset.non_form_errors() method.\n976.         for error in formset.non_form_errors():\n977.             self.assertEqual(str(error), "You may only specify a drink once.")\n978.         # The valid case still works.\n979.         data["drinks-1-name"] = "Bloody Mary"\n980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n981.         self.assertTrue(formset.is_valid())\n982.         self.assertEqual(formset.non_form_errors(), [])\n983. \n984.     def test_limiting_max_forms(self):\n985.         """Limiting the maximum number of forms with max_num."""\n986.         # When not passed, max_num will take a high default value, leaving the\n987.         # number of forms only controlled by the value of the extra parameter.\n988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)\n989.         formset = LimitedFavoriteDrinkFormSet()\n990.         self.assertHTMLEqual(\n991.             "\\n".join(str(form) for form in formset.forms),\n992.             """<div><label for="id_form-0-name">Name:</label>\n993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>\n994. <div><label for="id_form-1-name">Name:</label>\n995. <input type="text" name="form-1-name" id="id_form-1-name"></div>\n996. <div><label for="id_form-2-name">Name:</label>\n997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",\n998.         )\n999.         # If max_num is 0 then no form is rendered at all.\n1000.         LimitedFavoriteDrinkFormSet = formset_factory(\n1001.             FavoriteDrinkForm, extra=3, max_num=0\n1002.         )\n1003.         formset = LimitedFavoriteDrinkFormSet()\n1004.         self.assertEqual(formset.forms, [])\n1005. \n1006.     def test_limited_max_forms_two(self):\n1007.         LimitedFavoriteDrinkFormSet = formset_factory(\n1008.             FavoriteDrinkForm, extra=5, max_num=2\n1009.         )\n1010.         formset = LimitedFavoriteDrinkFormSet()\n1011.         self.assertHTMLEqual(\n1012.             "\\n".join(str(form) for form in formset.forms),\n1013.             """<div><label for="id_form-0-name">Name:</label>\n1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>\n1015. <div><label for="id_form-1-name">Name:</label>\n1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1017.         )\n1018. \n1019.     def test_limiting_extra_lest_than_max_num(self):\n1020.         """max_num has no effect when extra is less than max_num."""\n1021.         LimitedFavoriteDrinkFormSet = formset_factory(\n1022.             FavoriteDrinkForm, extra=1, max_num=2\n1023.         )\n1024.         formset = LimitedFavoriteDrinkFormSet()\n1025.         self.assertHTMLEqual(\n1026.             "\\n".join(str(form) for form in formset.forms),\n1027.             """<div><label for="id_form-0-name">Name:</label>\n1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",\n1029.         )\n1030. \n1031.     def test_max_num_with_initial_data(self):\n1032.         # When not passed, max_num will take a high default value, leaving the\n1033.         # number of forms only controlled by the value of the initial and extra\n1034.         # parameters.\n1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)\n1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])\n1037.         self.assertHTMLEqual(\n1038.             "\\n".join(str(form) for form in formset.forms),\n1039.             """\n1040.             <div><label for="id_form-0-name">Name:</label>\n1041.             <input type="text" name="form-0-name" value="Fernet and Coke"\n1042.                 id="id_form-0-name"></div>\n1043.             <div><label for="id_form-1-name">Name:</label>\n1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>\n1045.             """,\n1046.         )\n1047. \n1048.     def test_max_num_zero(self):\n1049.         """\n1050.         If max_num is 0 then no form is rendered at all, regardless of extra,\n1051.         unless initial data is present.\n1052.         """\n1053.         LimitedFavoriteDrinkFormSet = formset_factory(\n1054.             FavoriteDrinkForm, extra=1, max_num=0\n1055.         )\n1056.         formset = LimitedFavoriteDrinkFormSet()\n1057.         self.assertEqual(formset.forms, [])\n1058. \n1059.     def test_max_num_zero_with_initial(self):\n1060.         # initial trumps max_num\n1061.         initial = [\n1062.             {"name": "Fernet and Coke"},\n1063.             {"name": "Bloody Mary"},\n1064.         ]\n1065.         LimitedFavoriteDrinkFormSet = formset_factory(\n1066.             FavoriteDrinkForm, extra=1, max_num=0\n1067.         )\n1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1069.         self.assertHTMLEqual(\n1070.             "\\n".join(str(form) for form in formset.forms),\n1071.             """\n1072.             <div><label for="id_form-0-name">Name:</label>\n1073.             <input id="id_form-0-name" name="form-0-name" type="text"\n1074.                 value="Fernet and Coke"></div>\n1075.             <div><label for="id_form-1-name">Name:</label>\n1076.             <input id="id_form-1-name" name="form-1-name" type="text"\n1077.                 value="Bloody Mary"></div>\n1078.             """,\n1079.         )\n1080. \n1081.     def test_more_initial_than_max_num(self):\n1082.         """\n1083.         More initial forms than max_num results in all initial forms being\n1084.         displayed (but no extra forms).\n1085.         """\n1086.         initial = [\n1087.             {"name": "Gin Tonic"},\n1088.             {"name": "Bloody Mary"},\n1089.             {"name": "Jack and Coke"},\n1090.         ]\n1091.         LimitedFavoriteDrinkFormSet = formset_factory(\n1092.             FavoriteDrinkForm, extra=1, max_num=2\n1093.         )\n1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1095.         self.assertHTMLEqual(\n1096.             "\\n".join(str(form) for form in formset.forms),\n1097.             """\n1098.             <div><label for="id_form-0-name">Name:</label>\n1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">\n1100.             </div>\n1101.             <div><label for="id_form-1-name">Name:</label>\n1102.             <input id="id_form-1-name" name="form-1-name" type="text"\n1103.                 value="Bloody Mary"></div>\n1104.             <div><label for="id_form-2-name">Name:</label>\n1105.             <input id="id_form-2-name" name="form-2-name" type="text"\n1106.                 value="Jack and Coke"></div>\n1107.             """,\n1108.         )\n1109. \n1110.     def test_default_absolute_max(self):\n1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.\n1112.         data = {\n1113.             "form-TOTAL_FORMS": 2001,\n1114.             "form-INITIAL_FORMS": "0",\n1115.             "form-MAX_NUM_FORMS": "0",\n1116.         }\n1117.         formset = FavoriteDrinksFormSet(data=data)\n1118.         self.assertIs(formset.is_valid(), False)\n1119.         self.assertEqual(\n1120.             formset.non_form_errors(),\n1121.             ["Please submit at most 1000 forms."],\n1122.         )\n1123.         self.assertEqual(formset.absolute_max, 2000)\n1124. \n1125.     def test_absolute_max(self):\n1126.         data = {\n1127.             "form-TOTAL_FORMS": "2001",\n1128.             "form-INITIAL_FORMS": "0",\n1129.             "form-MAX_NUM_FORMS": "0",\n1130.         }\n1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(\n1132.             FavoriteDrinkForm,\n1133.             absolute_max=3000,\n1134.         )\n1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1136.         self.assertIs(formset.is_valid(), True)\n1137.         self.assertEqual(len(formset.forms), 2001)\n1138.         # absolute_max provides a hard limit.\n1139.         data["form-TOTAL_FORMS"] = "3001"\n1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1141.         self.assertIs(formset.is_valid(), False)\n1142.         self.assertEqual(len(formset.forms), 3000)\n1143.         self.assertEqual(\n1144.             formset.non_form_errors(),\n1145.             ["Please submit at most 1000 forms."],\n1146.         )\n1147. \n1148.     def test_absolute_max_with_max_num(self):\n1149.         data = {\n1150.             "form-TOTAL_FORMS": "1001",\n1151.             "form-INITIAL_FORMS": "0",\n1152.             "form-MAX_NUM_FORMS": "0",\n1153.         }\n1154.         LimitedFavoriteDrinksFormSet = formset_factory(\n1155.             FavoriteDrinkForm,\n1156.             max_num=30,\n1157.             absolute_max=1000,\n1158.         )\n1159.         formset = LimitedFavoriteDrinksFormSet(data=data)\n1160.         self.assertIs(formset.is_valid(), False)\n1161.         self.assertEqual(len(formset.forms), 1000)\n1162.         self.assertEqual(\n1163.             formset.non_form_errors(),\n1164.             ["Please submit at most 30 forms."],\n1165.         )\n1166. \n1167.     def test_absolute_max_invalid(self):\n1168.         msg = "\'absolute_max\' must be greater or equal to \'max_num\'."\n1169.         for max_num in [None, 31]:\n1170.             with self.subTest(max_num=max_num):\n1171.                 with self.assertRaisesMessage(ValueError, msg):\n1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)\n1173. \n1174.     def test_more_initial_form_result_in_one(self):\n1175.         """\n1176.         One form from initial and extra=3 with max_num=2 results in the one\n1177.         initial form and one extra.\n1178.         """\n1179.         LimitedFavoriteDrinkFormSet = formset_factory(\n1180.             FavoriteDrinkForm, extra=3, max_num=2\n1181.         )\n1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])\n1183.         self.assertHTMLEqual(\n1184.             "\\n".join(str(form) for form in formset.forms),\n1185.             """\n1186.             <div><label for="id_form-0-name">Name:</label>\n1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">\n1188.             </div>\n1189.             <div><label for="id_form-1-name">Name:</label>\n1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1191.         )\n1192. \n1193.     def test_management_form_field_names(self):\n1194.         """The management form class has field names matching the constants."""\n1195.         self.assertCountEqual(\n1196.             ManagementForm.base_fields,\n1197.             [\n1198.                 TOTAL_FORM_COUNT,\n1199.                 INITIAL_FORM_COUNT,\n1200.                 MIN_NUM_FORM_COUNT,\n1201.                 MAX_NUM_FORM_COUNT,\n1202.             ],\n1203.         )\n1204. \n1205.     def test_management_form_prefix(self):\n1206.         """The management form has the correct prefix."""\n1207.         formset = FavoriteDrinksFormSet()\n1208.         self.assertEqual(formset.management_form.prefix, "form")\n1209.         data = {\n1210.             "form-TOTAL_FORMS": "2",\n1211.             "form-INITIAL_FORMS": "0",\n1212.             "form-MIN_NUM_FORMS": "0",\n1213.             "form-MAX_NUM_FORMS": "0",\n1214.         }\n1215.         formset = FavoriteDrinksFormSet(data=data)\n1216.         self.assertEqual(formset.management_form.prefix, "form")\n1217.         formset = FavoriteDrinksFormSet(initial={})\n1218.         self.assertEqual(formset.management_form.prefix, "form")\n1219. \n1220.     def test_non_form_errors(self):\n1221.         data = {\n1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n1226.             "drinks-0-name": "Gin and Tonic",\n1227.             "drinks-1-name": "Gin and Tonic",\n1228.         }\n1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n1230.         self.assertFalse(formset.is_valid())\n1231.         self.assertEqual(\n1232.             formset.non_form_errors(), ["You may only specify a drink once."]\n1233.         )\n1234.         self.assertEqual(\n1235.             str(formset.non_form_errors()),\n1236.             \'<ul class="errorlist nonform"><li>\'\n1237.             "You may only specify a drink once.</li></ul>",\n1238.         )\n1239. \n1240.     def test_formset_iteration(self):\n1241.         """Formset instances are iterable."""\n1242.         ChoiceFormset = formset_factory(Choice, extra=3)\n1243.         formset = ChoiceFormset()\n1244.         # An iterated formset yields formset.forms.\n1245.         forms = list(formset)\n1246.         self.assertEqual(forms, formset.forms)\n1247.         self.assertEqual(len(formset), len(forms))\n1248.         # A formset may be indexed to retrieve its forms.\n1249.         self.assertEqual(formset[0], forms[0])\n1250.         with self.assertRaises(IndexError):\n1251.             formset[3]\n1252. \n1253.         # Formsets can override the default iteration order\n1254.         class BaseReverseFormSet(BaseFormSet):\n1255.             def __iter__(self):\n1256.                 return reversed(self.forms)\n1257. \n1258.             def __getitem__(self, idx):\n1259.                 return super().__getitem__(len(self) - idx - 1)\n1260. \n1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)\n1262.         reverse_formset = ReverseChoiceFormset()\n1263.         # __iter__() modifies the rendering order.\n1264.         # Compare forms from "reverse" formset with forms from original formset\n1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))\n1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))\n1267.         self.assertEqual(len(reverse_formset), len(forms))\n1268. \n1269.     def test_formset_nonzero(self):\n1270.         """A formsets without any forms evaluates as True."""\n1271.         ChoiceFormset = formset_factory(Choice, extra=0)\n1272.         formset = ChoiceFormset()\n1273.         self.assertEqual(len(formset.forms), 0)\n1274.         self.assertTrue(formset)\n1275. \n1276.     def test_formset_splitdatetimefield(self):\n1277.         """\n1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).\n1279.         """\n1280. \n1281.         class SplitDateTimeForm(Form):\n1282.             when = SplitDateTimeField(initial=datetime.datetime.now)\n1283. \n1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)\n1285.         data = {\n1286.             "form-TOTAL_FORMS": "1",\n1287.             "form-INITIAL_FORMS": "0",\n1288.             "form-0-when_0": "1904-06-16",\n1289.             "form-0-when_1": "15:51:33",\n1290.         }\n1291.         formset = SplitDateTimeFormSet(data)\n1292.         self.assertTrue(formset.is_valid())\n1293. \n1294.     def test_formset_error_class(self):\n1295.         """Formset\'s forms use the formset\'s error_class."""\n1296. \n1297.         class CustomErrorList(ErrorList):\n1298.             pass\n1299. \n1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)\n1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)\n1302. \n1303.     def test_formset_calls_forms_is_valid(self):\n1304.         """Formsets call is_valid() on each form."""\n1305. \n1306.         class AnotherChoice(Choice):\n1307.             def is_valid(self):\n1308.                 self.is_valid_called = True\n1309.                 return super().is_valid()\n1310. \n1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)\n1312.         data = {\n1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered\n1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data\n1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n1317.             "choices-0-choice": "Calexico",\n1318.             "choices-0-votes": "100",\n1319.         }\n1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")\n1321.         self.assertTrue(formset.is_valid())\n1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))\n1323. \n1324.     def test_hard_limit_on_instantiated_forms(self):\n1325.         """A formset has a hard limit on the number of forms instantiated."""\n1326.         # reduce the default limit of 1000 temporarily for testing\n1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1328.         try:\n1329.             formsets.DEFAULT_MAX_NUM = 2\n1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)\n1331.             # someone fiddles with the mgmt form data...\n1332.             formset = ChoiceFormSet(\n1333.                 {\n1334.                     "choices-TOTAL_FORMS": "4",\n1335.                     "choices-INITIAL_FORMS": "0",\n1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1337.                     "choices-MAX_NUM_FORMS": "4",\n1338.                     "choices-0-choice": "Zero",\n1339.                     "choices-0-votes": "0",\n1340.                     "choices-1-choice": "One",\n1341.                     "choices-1-votes": "1",\n1342.                     "choices-2-choice": "Two",\n1343.                     "choices-2-votes": "2",\n1344.                     "choices-3-choice": "Three",\n1345.                     "choices-3-votes": "3",\n1346.                 },\n1347.                 prefix="choices",\n1348.             )\n1349.             # But we still only instantiate 3 forms\n1350.             self.assertEqual(len(formset.forms), 3)\n1351.             # and the formset isn\'t valid\n1352.             self.assertFalse(formset.is_valid())\n1353.         finally:\n1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1355. \n1356.     def test_increase_hard_limit(self):\n1357.         """Can increase the built-in forms limit via a higher max_num."""\n1358.         # reduce the default limit of 1000 temporarily for testing\n1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1360.         try:\n1361.             formsets.DEFAULT_MAX_NUM = 3\n1362.             # for this form, we want a limit of 4\n1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)\n1364.             formset = ChoiceFormSet(\n1365.                 {\n1366.                     "choices-TOTAL_FORMS": "4",\n1367.                     "choices-INITIAL_FORMS": "0",\n1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1369.                     "choices-MAX_NUM_FORMS": "4",\n1370.                     "choices-0-choice": "Zero",\n1371.                     "choices-0-votes": "0",\n1372.                     "choices-1-choice": "One",\n1373.                     "choices-1-votes": "1",\n1374.                     "choices-2-choice": "Two",\n1375.                     "choices-2-votes": "2",\n1376.                     "choices-3-choice": "Three",\n1377.                     "choices-3-votes": "3",\n1378.                 },\n1379.                 prefix="choices",\n1380.             )\n1381.             # Four forms are instantiated and no exception is raised\n1382.             self.assertEqual(len(formset.forms), 4)\n1383.         finally:\n1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1385. \n1386.     def test_non_form_errors_run_full_clean(self):\n1387.         """\n1388.         If non_form_errors() is called without calling is_valid() first,\n1389.         it should ensure that full_clean() is called.\n1390.         """\n1391. \n1392.         class BaseCustomFormSet(BaseFormSet):\n1393.             def clean(self):\n1394.                 raise ValidationError("This is a non-form error")\n1395. \n1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)\n1397.         data = {\n1398.             "choices-TOTAL_FORMS": "1",\n1399.             "choices-INITIAL_FORMS": "0",\n1400.         }\n1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)\n1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])\n1404. \n1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):\n1406.         class CheckForm(Form):\n1407.             field = IntegerField()\n1408. \n1409.         data = {\n1410.             "check-TOTAL_FORMS": "2",\n1411.             "check-INITIAL_FORMS": "0",\n1412.             "check-MAX_NUM_FORMS": "1",\n1413.             "check-0-field": "200",\n1414.             "check-0-DELETE": "",\n1415.             "check-1-field": "50",\n1416.             "check-1-DELETE": "on",\n1417.         }\n1418.         CheckFormSet = formset_factory(\n1419.             CheckForm, max_num=1, validate_max=True, can_delete=True\n1420.         )\n1421.         formset = CheckFormSet(data, prefix="check")\n1422.         self.assertTrue(formset.is_valid())\n1423. \n1424.     def test_formset_total_error_count(self):\n1425.         """A valid formset should have 0 total errors."""\n1426.         data = [  # formset_data, expected error count\n1427.             ([("Calexico", "100")], 0),\n1428.             ([("Calexico", "")], 1),\n1429.             ([("", "invalid")], 2),\n1430.             ([("Calexico", "100"), ("Calexico", "")], 1),\n1431.             ([("Calexico", ""), ("Calexico", "")], 2),\n1432.         ]\n1433.         for formset_data, expected_error_count in data:\n1434.             formset = self.make_choiceformset(formset_data)\n1435.             self.assertEqual(formset.total_error_count(), expected_error_count)\n1436. \n1437.     def test_formset_total_error_count_with_non_form_errors(self):\n1438.         data = {\n1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n1442.             "choices-0-choice": "Zero",\n1443.             "choices-0-votes": "0",\n1444.             "choices-1-choice": "One",\n1445.             "choices-1-votes": "1",\n1446.         }\n1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1449.         self.assertEqual(formset.total_error_count(), 1)\n1450.         data["choices-1-votes"] = ""\n1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1452.         self.assertEqual(formset.total_error_count(), 2)\n1453. \n1454.     def test_html_safe(self):\n1455.         formset = self.make_choiceformset()\n1456.         self.assertTrue(hasattr(formset, "__html__"))\n1457.         self.assertEqual(str(formset), formset.__html__())\n1458. \n1459.     def test_can_delete_extra_formset_forms(self):\n1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)\n1461.         formset = ChoiceFormFormset()\n1462.         self.assertEqual(len(formset), 2)\n1463.         self.assertIn("DELETE", formset.forms[0].fields)\n1464.         self.assertIn("DELETE", formset.forms[1].fields)\n1465. \n1466.     def test_disable_delete_extra_formset_forms(self):\n1467.         ChoiceFormFormset = formset_factory(\n1468.             form=Choice,\n1469.             can_delete=True,\n1470.             can_delete_extra=False,\n1471.             extra=2,\n1472.         )\n1473.         formset = ChoiceFormFormset()\n1474.         self.assertEqual(len(formset), 2)\n1475.         self.assertNotIn("DELETE", formset.forms[0].fields)\n1476.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1477. \n1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])\n1479.         self.assertEqual(len(formset), 3)\n1480.         self.assertIn("DELETE", formset.forms[0].fields)\n1481.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1482.         self.assertNotIn("DELETE", formset.forms[2].fields)\n1483. \n1484.         formset = ChoiceFormFormset(\n1485.             data={\n1486.                 "form-0-choice": "Zero",\n1487.                 "form-0-votes": "0",\n1488.                 "form-0-DELETE": "on",\n1489.                 "form-1-choice": "One",\n1490.                 "form-1-votes": "1",\n1491.                 "form-2-choice": "",\n1492.                 "form-2-votes": "",\n1493.                 "form-TOTAL_FORMS": "3",\n1494.                 "form-INITIAL_FORMS": "1",\n1495.             },\n1496.             initial=[{"choice": "Zero", "votes": "1"}],\n1497.         )\n1498.         self.assertEqual(\n1499.             formset.cleaned_data,\n1500.             [\n1501.                 {"choice": "Zero", "votes": 0, "DELETE": True},\n1502.                 {"choice": "One", "votes": 1},\n1503.                 {},\n1504.             ],\n1505.         )\n1506.         self.assertIs(formset._should_delete_form(formset.forms[0]), True)\n1507.         self.assertIs(formset._should_delete_form(formset.forms[1]), False)\n1508.         self.assertIs(formset._should_delete_form(formset.forms[2]), False)\n1509. \n1510.     def test_template_name_uses_renderer_value(self):\n1511.         class CustomRenderer(TemplatesSetting):\n1512.             formset_template_name = "a/custom/formset/template.html"\n1513. \n1514.         ChoiceFormSet = formset_factory(Choice, renderer=CustomRenderer)\n1515. \n1516.         self.assertEqual(\n1517.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1518.         )\n1519. \n1520.     def test_template_name_can_be_overridden(self):\n1521.         class CustomFormSet(BaseFormSet):\n1522.             template_name = "a/custom/formset/template.html"\n1523. \n1524.         ChoiceFormSet = formset_factory(Choice, formset=CustomFormSet)\n1525. \n1526.         self.assertEqual(\n1527.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1528.         )\n1529. \n1530.     def test_custom_renderer(self):\n1531.         """\n1532.         A custom renderer passed to a formset_factory() is passed to all forms\n1533.         and ErrorList.\n1534.         """\n1535.         from django.forms.renderers import Jinja2\n1536. \n1537.         renderer = Jinja2()\n1538.         data = {\n1539.             "choices-TOTAL_FORMS": "2",\n1540.             "choices-INITIAL_FORMS": "0",\n1541.             "choices-MIN_NUM_FORMS": "0",\n1542.             "choices-0-choice": "Zero",\n1543.             "choices-0-votes": "",\n1544.             "choices-1-choice": "One",\n1545.             "choices-1-votes": "",\n1546.         }\n1547.         ChoiceFormSet = formset_factory(Choice, renderer=renderer)\n1548.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1549.         self.assertEqual(formset.renderer, renderer)\n1550.         self.assertEqual(formset.forms[0].renderer, renderer)\n1551.         self.assertEqual(formset.management_form.renderer, renderer)\n1552.         self.assertEqual(formset.non_form_errors().renderer, renderer)\n1553.         self.assertEqual(formset.empty_form.renderer, renderer)\n1554. \n1555.     def test_repr(self):\n1556.         valid_formset = self.make_choiceformset([("test", 1)])\n1557.         valid_formset.full_clean()\n1558.         invalid_formset = self.make_choiceformset([("test", "")])\n1559.         invalid_formset.full_clean()\n1560.         partially_invalid_formset = self.make_choiceformset(\n1561.             [("test", "1"), ("test", "")],\n1562.         )\n1563.         partially_invalid_formset.full_clean()\n1564.         invalid_formset_non_form_errors_only = self.make_choiceformset(\n1565.             [("test", "")],\n1566.             formset_class=ChoiceFormsetWithNonFormError,\n1567.         )\n1568.         invalid_formset_non_form_errors_only.full_clean()\n1569. \n1570.         cases = [\n1571.             (\n1572.                 self.make_choiceformset(),\n1573.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=1>",\n1574.             ),\n1575.             (\n1576.                 self.make_choiceformset(\n1577.                     formset_class=formset_factory(Choice, extra=10),\n1578.                 ),\n1579.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=10>",\n1580.             ),\n1581.             (\n1582.                 self.make_choiceformset([]),\n1583.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=0>",\n1584.             ),\n1585.             (\n1586.                 self.make_choiceformset([("test", 1)]),\n1587.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=1>",\n1588.             ),\n1589.             (valid_formset, "<ChoiceFormSet: bound=True valid=True total_forms=1>"),\n1590.             (invalid_formset, "<ChoiceFormSet: bound=True valid=False total_forms=1>"),\n1591.             (\n1592.                 partially_invalid_formset,\n1593.                 "<ChoiceFormSet: bound=True valid=False total_forms=2>",\n1594.             ),\n1595.             (\n1596.                 invalid_formset_non_form_errors_only,\n1597.                 "<ChoiceFormsetWithNonFormError: bound=True valid=False total_forms=1>",\n1598.             ),\n1599.         ]\n1600.         for formset, expected_repr in cases:\n1601.             with self.subTest(expected_repr=expected_repr):\n1602.                 self.assertEqual(repr(formset), expected_repr)\n1603. \n1604.     def test_repr_do_not_trigger_validation(self):\n1605.         formset = self.make_choiceformset([("test", 1)])\n1606.         with mock.patch.object(formset, "full_clean") as mocked_full_clean:\n1607.             repr(formset)\n1608.             mocked_full_clean.assert_not_called()\n1609.             formset.is_valid()\n1610.             mocked_full_clean.assert_called()\n1611. \n1612. \n1613. @jinja2_tests\n1614. class Jinja2FormsFormsetTestCase(FormsFormsetTestCase):\n1615.     pass\n1616. \n1617. \n1618. class FormsetAsTagTests(SimpleTestCase):\n1619.     def setUp(self):\n1620.         data = {\n1621.             "choices-TOTAL_FORMS": "1",\n1622.             "choices-INITIAL_FORMS": "0",\n1623.             "choices-MIN_NUM_FORMS": "0",\n1624.             "choices-MAX_NUM_FORMS": "0",\n1625.             "choices-0-choice": "Calexico",\n1626.             "choices-0-votes": "100",\n1627.         }\n1628.         self.formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1629.         self.management_form_html = (\n1630.             \'<input type="hidden" name="choices-TOTAL_FORMS" value="1">\'\n1631.             \'<input type="hidden" name="choices-INITIAL_FORMS" value="0">\'\n1632.             \'<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\'\n1633.             \'<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">\'\n1634.         )\n1635. \n1636.     def test_as_table(self):\n1637.         self.assertHTMLEqual(\n1638.             self.formset.as_table(),\n1639.             self.management_form_html\n1640.             + (\n1641.                 "<tr><th>Choice:</th><td>"\n1642.                 \'<input type="text" name="choices-0-choice" value="Calexico"></td></tr>\'\n1643.                 "<tr><th>Votes:</th><td>"\n1644.                 \'<input type="number" name="choices-0-votes" value="100"></td></tr>\'\n1645.             ),\n1646.         )\n1647. \n1648.     def test_as_p(self):\n1649.         self.assertHTMLEqual(\n1650.             self.formset.as_p(),\n1651.             self.management_form_html\n1652.             + (\n1653.                 "<p>Choice: "\n1654.                 \'<input type="text" name="choices-0-choice" value="Calexico"></p>\'\n1655.                 \'<p>Votes: <input type="number" name="choices-0-votes" value="100"></p>\'\n1656.             ),\n1657.         )\n1658. \n1659.     def test_as_ul(self):\n1660.         self.assertHTMLEqual(\n1661.             self.formset.as_ul(),\n1662.             self.management_form_html\n1663.             + (\n1664.                 "<li>Choice: "\n1665.                 \'<input type="text" name="choices-0-choice" value="Calexico"></li>\'\n1666.                 "<li>Votes: "\n1667.                 \'<input type="number" name="choices-0-votes" value="100"></li>\'\n1668.             ),\n1669.         )\n1670. \n1671.     def test_as_div(self):\n1672.         self.assertHTMLEqual(\n1673.             self.formset.as_div(),\n1674.             self.management_form_html\n1675.             + (\n1676.                 "<div>Choice: "\n1677.                 \'<input type="text" name="choices-0-choice" value="Calexico"></div>\'\n1678.                 \'<div>Votes: <input type="number" name="choices-0-votes" value="100">\'\n1679.                 "</div>"\n1680.             ),\n1681.         )\n1682. \n1683. \n1684. @jinja2_tests\n1685. class Jinja2FormsetAsTagTests(FormsetAsTagTests):\n1686.     pass\n1687. \n1688. \n1689. class ArticleForm(Form):\n1690.     title = CharField()\n1691.     pub_date = DateField()\n1692. \n1693. \n1694. ArticleFormSet = formset_factory(ArticleForm)\n1695. \n1696. \n1697. class TestIsBoundBehavior(SimpleTestCase):\n1698.     def test_no_data_error(self):\n1699.         formset = ArticleFormSet({})\n1700.         self.assertIs(formset.is_valid(), False)\n1701.         self.assertEqual(\n1702.             formset.non_form_errors(),\n1703.             [\n1704.                 "ManagementForm data is missing or has been tampered with. "\n1705.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1706.                 "You may need to file a bug report if the issue persists.",\n1707.             ],\n1708.         )\n1709.         self.assertEqual(formset.errors, [])\n1710.         # Can still render the formset.\n1711.         self.assertHTMLEqual(\n1712.             str(formset),\n1713.             \'<ul class="errorlist nonfield">\'\n1714.             "<li>(Hidden field TOTAL_FORMS) This field is required.</li>"\n1715.             "<li>(Hidden field INITIAL_FORMS) This field is required.</li>"\n1716.             "</ul>"\n1717.             "<div>"\n1718.             \'<input type="hidden" name="form-TOTAL_FORMS" id="id_form-TOTAL_FORMS">\'\n1719.             \'<input type="hidden" name="form-INITIAL_FORMS" id="id_form-INITIAL_FORMS">\'\n1720.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1721.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1722.             "</div>\\n",\n1723.         )\n1724. \n1725.     def test_management_form_invalid_data(self):\n1726.         data = {\n1727.             "form-TOTAL_FORMS": "two",\n1728.             "form-INITIAL_FORMS": "one",\n1729.         }\n1730.         formset = ArticleFormSet(data)\n1731.         self.assertIs(formset.is_valid(), False)\n1732.         self.assertEqual(\n1733.             formset.non_form_errors(),\n1734.             [\n1735.                 "ManagementForm data is missing or has been tampered with. "\n1736.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1737.                 "You may need to file a bug report if the issue persists.",\n1738.             ],\n1739.         )\n1740.         self.assertEqual(formset.errors, [])\n1741.         # Can still render the formset.\n1742.         self.assertHTMLEqual(\n1743.             str(formset),\n1744.             \'<ul class="errorlist nonfield">\'\n1745.             "<li>(Hidden field TOTAL_FORMS) Enter a whole number.</li>"\n1746.             "<li>(Hidden field INITIAL_FORMS) Enter a whole number.</li>"\n1747.             "</ul>"\n1748.             "<div>"\n1749.             \'<input type="hidden" name="form-TOTAL_FORMS" value="two" \'\n1750.             \'id="id_form-TOTAL_FORMS">\'\n1751.             \'<input type="hidden" name="form-INITIAL_FORMS" value="one" \'\n1752.             \'id="id_form-INITIAL_FORMS">\'\n1753.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1754.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1755.             "</div>\\n",\n1756.         )\n1757. \n1758.     def test_customize_management_form_error(self):\n1759.         formset = ArticleFormSet(\n1760.             {}, error_messages={"missing_management_form": "customized"}\n1761.         )\n1762.         self.assertIs(formset.is_valid(), False)\n1763.         self.assertEqual(formset.non_form_errors(), ["customized"])\n1764.         self.assertEqual(formset.errors, [])\n1765. \n1766.     def test_with_management_data_attrs_work_fine(self):\n1767.         data = {\n1768.             "form-TOTAL_FORMS": "1",\n1769.             "form-INITIAL_FORMS": "0",\n1770.         }\n1771.         formset = ArticleFormSet(data)\n1772.         self.assertEqual(0, formset.initial_form_count())\n1773.         self.assertEqual(1, formset.total_form_count())\n1774.         self.assertTrue(formset.is_bound)\n1775.         self.assertTrue(formset.forms[0].is_bound)\n1776.         self.assertTrue(formset.is_valid())\n1777.         self.assertTrue(formset.forms[0].is_valid())\n1778.         self.assertEqual([{}], formset.cleaned_data)\n1779. \n1780.     def test_form_errors_are_caught_by_formset(self):\n1781.         data = {\n1782.             "form-TOTAL_FORMS": "2",\n1783.             "form-INITIAL_FORMS": "0",\n1784.             "form-0-title": "Test",\n1785.             "form-0-pub_date": "1904-06-16",\n1786.             "form-1-title": "Test",\n1787.             "form-1-pub_date": "",  # <-- this date is missing but required\n1788.         }\n1789.         formset = ArticleFormSet(data)\n1790.         self.assertFalse(formset.is_valid())\n1791.         self.assertEqual(\n1792.             [{}, {"pub_date": ["This field is required."]}], formset.errors\n1793.         )\n1794. \n1795.     def test_empty_forms_are_unbound(self):\n1796.         data = {\n1797.             "form-TOTAL_FORMS": "1",\n1798.             "form-INITIAL_FORMS": "0",\n1799.             "form-0-title": "Test",\n1800.             "form-0-pub_date": "1904-06-16",\n1801.         }\n1802.         unbound_formset = ArticleFormSet()\n1803.         bound_formset = ArticleFormSet(data)\n1804.         empty_forms = [unbound_formset.empty_form, bound_formset.empty_form]\n1805.         # Empty forms should be unbound\n1806.         self.assertFalse(empty_forms[0].is_bound)\n1807.         self.assertFalse(empty_forms[1].is_bound)\n1808.         # The empty forms should be equal.\n1809.         self.assertHTMLEqual(empty_forms[0].as_p(), empty_forms[1].as_p())\n1810. \n1811. \n1812. @jinja2_tests\n1813. class TestIsBoundBehavior(TestIsBoundBehavior):\n1814.     pass\n1815. \n1816. \n1817. class TestEmptyFormSet(SimpleTestCase):\n1818.     def test_empty_formset_is_valid(self):\n1819.         """An empty formset still calls clean()"""\n1820. \n1821.         class EmptyFsetWontValidate(BaseFormSet):\n1822.             def clean(self):\n1823.                 raise ValidationError("Clean method called")\n1824. \n1825.         EmptyFsetWontValidateFormset = formset_factory(\n1826.             FavoriteDrinkForm, extra=0, formset=EmptyFsetWontValidate\n1827.         )\n1828.         formset = EmptyFsetWontValidateFormset(\n1829.             data={"form-INITIAL_FORMS": "0", "form-TOTAL_FORMS": "0"},\n1830.             prefix="form",\n1831.         )\n1832.         formset2 = EmptyFsetWontValidateFormset(\n1833.             data={\n1834.                 "form-INITIAL_FORMS": "0",\n1835.                 "form-TOTAL_FORMS": "1",\n1836.                 "form-0-name": "bah",\n1837.             },\n1838.             prefix="form",\n1839.         )\n1840.         self.assertFalse(formset.is_valid())\n1841.         self.assertFalse(formset2.is_valid())\n1842. \n1843.     def test_empty_formset_media(self):\n1844.         """Media is available on empty formset."""\n1845. \n1846.         class MediaForm(Form):\n1847.             class Media:\n1848.                 js = ("some-file.js",)\n1849. \n1850.         self.assertIn("some-file.js", str(formset_factory(MediaForm, extra=0)().media))\n1851. \n1852.     def test_empty_formset_is_multipart(self):\n1853.         """is_multipart() works with an empty formset."""\n1854. \n1855.         class FileForm(Form):\n1856.             file = FileField()\n1857. \n1858.         self.assertTrue(formset_factory(FileForm, extra=0)().is_multipart())\n1859. \n1860. \n1861. class AllValidTests(SimpleTestCase):\n1862.     def test_valid(self):\n1863.         data = {\n1864.             "choices-TOTAL_FORMS": "2",\n1865.             "choices-INITIAL_FORMS": "0",\n1866.             "choices-MIN_NUM_FORMS": "0",\n1867.             "choices-0-choice": "Zero",\n1868.             "choices-0-votes": "0",\n1869.             "choices-1-choice": "One",\n1870.             "choices-1-votes": "1",\n1871.         }\n1872.         ChoiceFormSet = formset_factory(Choice)\n1873.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1874.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1875.         self.assertIs(all_valid((formset1, formset2)), True)\n1876.         expected_errors = [{}, {}]\n1877.         self.assertEqual(formset1._errors, expected_errors)\n1878.         self.assertEqual(formset2._errors, expected_errors)\n1879. \n1880.     def test_invalid(self):\n1881.         """all_valid() validates all forms, even when some are invalid."""\n1882.         data = {\n1883.             "choices-TOTAL_FORMS": "2",\n1884.             "choices-INITIAL_FORMS": "0",\n1885.             "choices-MIN_NUM_FORMS": "0",\n1886.             "choices-0-choice": "Zero",\n1887.             "choices-0-votes": "",\n1888.             "choices-1-choice": "One",\n1889.             "choices-1-votes": "",\n1890.         }\n1891.         ChoiceFormSet = formset_factory(Choice)\n1892.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1893.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1894.         self.assertIs(all_valid((formset1, formset2)), False)\n1895.         expected_errors = [\n1896.             {"votes": ["This field is required."]},\n1897.             {"votes": ["This field is required."]},\n1898.         ]\n1899.         self.assertEqual(formset1._errors, expected_errors)\n1900.         self.assertEqual(formset2._errors, expected_errors)', start_line_number=1, end_line_number=1900)]
2025-10-05 12:26:33,807 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-05 12:26:33,807 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
â”œâ”€â”€ .github
|   â”œâ”€â”€ CODE_OF_CONDUCT.md
|   â”œâ”€â”€ FUNDING.yml
|   â”œâ”€â”€ SECURITY.md
|   â””â”€â”€ workflows
|       â”œâ”€â”€ benchmark.yml
|       â”œâ”€â”€ docs.yml
|       â”œâ”€â”€ linters.yml
|       â”œâ”€â”€ new_contributor_pr.yml
|       â”œâ”€â”€ schedule_tests.yml
|       â”œâ”€â”€ schedules.yml
|       â””â”€â”€ tests.yml
â”œâ”€â”€ .pre-commit-config.yaml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ .tx
â”œâ”€â”€ CONTRIBUTING.rst
â”œâ”€â”€ Gruntfile.js
â”œâ”€â”€ README.rst
â”œâ”€â”€ django
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ __main__.py
|   â”œâ”€â”€ apps
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ config.py
|   |   â””â”€â”€ registry.py
|   â”œâ”€â”€ conf
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ app_template
|   |   |   â””â”€â”€ migrations
|   |   â”œâ”€â”€ global_settings.py
|   |   â”œâ”€â”€ locale
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ af
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ast
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ be
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ br
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ckb
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ de_CH
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ dsb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_NI
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_PR
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hsb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ hy
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ia
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ig
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ io
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ kab
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ kk
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ lb
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ mr
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ my
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ne
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ os
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ pa
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ sw
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ tt
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ udm
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ ur
|   |   |   |   â””â”€â”€ LC_MESSAGES
|   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â”œâ”€â”€ LC_MESSAGES
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ formats.py
|   |   |   â””â”€â”€ zh_Hant
|   |   |       â”œâ”€â”€ LC_MESSAGES
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ formats.py
|   |   â”œâ”€â”€ project_template
|   |   |   â””â”€â”€ project_name
|   |   â””â”€â”€ urls
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ i18n.py
|   |       â””â”€â”€ static.py
|   â”œâ”€â”€ contrib
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ admin
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ actions.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ decorators.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ filters.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ helpers.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ am
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_logentry_remove_auto_add.py
|   |   |   |   â”œâ”€â”€ 0003_logentry_add_action_flag_choices.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ options.py
|   |   |   â”œâ”€â”€ sites.py
|   |   |   â”œâ”€â”€ static
|   |   |   |   â””â”€â”€ admin
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â”œâ”€â”€ admin
|   |   |   |   â””â”€â”€ registration
|   |   |   â”œâ”€â”€ templatetags
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ admin_list.py
|   |   |   |   â”œâ”€â”€ admin_modify.py
|   |   |   |   â”œâ”€â”€ admin_urls.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ log.py
|   |   |   â”œâ”€â”€ tests.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â”œâ”€â”€ views
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ autocomplete.py
|   |   |   |   â”œâ”€â”€ decorators.py
|   |   |   |   â””â”€â”€ main.py
|   |   |   â””â”€â”€ widgets.py
|   |   â”œâ”€â”€ admindocs
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ admin_doc
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ auth
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ backends.py
|   |   |   â”œâ”€â”€ base_user.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ context_processors.py
|   |   |   â”œâ”€â”€ decorators.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ handlers
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ modwsgi.py
|   |   |   â”œâ”€â”€ hashers.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_permission_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0003_alter_user_email_max_length.py
|   |   |   |   â”œâ”€â”€ 0004_alter_user_username_opts.py
|   |   |   |   â”œâ”€â”€ 0005_alter_user_last_login_null.py
|   |   |   |   â”œâ”€â”€ 0006_require_contenttypes_0002.py
|   |   |   |   â”œâ”€â”€ 0007_alter_validators_add_error_messages.py
|   |   |   |   â”œâ”€â”€ 0008_alter_user_username_max_length.py
|   |   |   |   â”œâ”€â”€ 0009_alter_user_last_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0010_alter_group_name_max_length.py
|   |   |   |   â”œâ”€â”€ 0011_update_proxy_permissions.py
|   |   |   |   â”œâ”€â”€ 0012_alter_user_first_name_max_length.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ mixins.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ password_validation.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â”œâ”€â”€ auth
|   |   |   |   â””â”€â”€ registration
|   |   |   â”œâ”€â”€ tokens.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ validators.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ contenttypes
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ fields.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_remove_content_type_name.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ flatpages
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ forms.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ sitemaps.py
|   |   |   â”œâ”€â”€ templatetags
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ flatpages.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ gis
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ options.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ db
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ backends
|   |   |   |   â””â”€â”€ models
|   |   |   â”œâ”€â”€ feeds.py
|   |   |   â”œâ”€â”€ forms
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ fields.py
|   |   |   |   â””â”€â”€ widgets.py
|   |   |   â”œâ”€â”€ gdal
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ datasource.py
|   |   |   |   â”œâ”€â”€ driver.py
|   |   |   |   â”œâ”€â”€ envelope.py
|   |   |   |   â”œâ”€â”€ error.py
|   |   |   |   â”œâ”€â”€ feature.py
|   |   |   |   â”œâ”€â”€ field.py
|   |   |   |   â”œâ”€â”€ geometries.py
|   |   |   |   â”œâ”€â”€ geomtype.py
|   |   |   |   â”œâ”€â”€ layer.py
|   |   |   |   â”œâ”€â”€ libgdal.py
|   |   |   |   â”œâ”€â”€ prototypes
|   |   |   |   â”œâ”€â”€ raster
|   |   |   |   â””â”€â”€ srs.py
|   |   |   â”œâ”€â”€ geoip2
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ resources.py
|   |   |   â”œâ”€â”€ geometry.py
|   |   |   â”œâ”€â”€ geos
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ collections.py
|   |   |   |   â”œâ”€â”€ coordseq.py
|   |   |   |   â”œâ”€â”€ error.py
|   |   |   |   â”œâ”€â”€ factory.py
|   |   |   |   â”œâ”€â”€ geometry.py
|   |   |   |   â”œâ”€â”€ io.py
|   |   |   |   â”œâ”€â”€ libgeos.py
|   |   |   |   â”œâ”€â”€ linestring.py
|   |   |   |   â”œâ”€â”€ mutable_list.py
|   |   |   |   â”œâ”€â”€ point.py
|   |   |   |   â”œâ”€â”€ polygon.py
|   |   |   |   â”œâ”€â”€ prepared.py
|   |   |   |   â””â”€â”€ prototypes
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ measure.py
|   |   |   â”œâ”€â”€ ptr.py
|   |   |   â”œâ”€â”€ serializers
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ geojson.py
|   |   |   â”œâ”€â”€ shortcuts.py
|   |   |   â”œâ”€â”€ sitemaps
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ kml.py
|   |   |   |   â””â”€â”€ views.py
|   |   |   â”œâ”€â”€ static
|   |   |   |   â””â”€â”€ gis
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ gis
|   |   |   â”œâ”€â”€ utils
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ layermapping.py
|   |   |   |   â”œâ”€â”€ ogrinfo.py
|   |   |   |   â”œâ”€â”€ ogrinspect.py
|   |   |   |   â””â”€â”€ srs.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ humanize
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â””â”€â”€ templatetags
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ humanize.py
|   |   â”œâ”€â”€ messages
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ api.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ context_processors.py
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ storage
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ cookie.py
|   |   |   |   â”œâ”€â”€ fallback.py
|   |   |   |   â””â”€â”€ session.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ postgres
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ aggregates
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ general.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â””â”€â”€ statistics.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ constraints.py
|   |   |   â”œâ”€â”€ expressions.py
|   |   |   â”œâ”€â”€ fields
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ array.py
|   |   |   |   â”œâ”€â”€ citext.py
|   |   |   |   â”œâ”€â”€ hstore.py
|   |   |   |   â”œâ”€â”€ jsonb.py
|   |   |   |   â”œâ”€â”€ ranges.py
|   |   |   |   â””â”€â”€ utils.py
|   |   |   â”œâ”€â”€ forms
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ array.py
|   |   |   |   â”œâ”€â”€ hstore.py
|   |   |   |   â””â”€â”€ ranges.py
|   |   |   â”œâ”€â”€ functions.py
|   |   |   â”œâ”€â”€ indexes.py
|   |   |   â”œâ”€â”€ jinja2
|   |   |   |   â””â”€â”€ postgres
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ lookups.py
|   |   |   â”œâ”€â”€ operations.py
|   |   |   â”œâ”€â”€ search.py
|   |   |   â”œâ”€â”€ serializers.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ templates
|   |   |   |   â””â”€â”€ postgres
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ validators.py
|   |   â”œâ”€â”€ redirects
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_redirect_new_path_help_text.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â””â”€â”€ models.py
|   |   â”œâ”€â”€ sessions
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ cache.py
|   |   |   |   â”œâ”€â”€ cached_db.py
|   |   |   |   â”œâ”€â”€ db.py
|   |   |   |   â”œâ”€â”€ file.py
|   |   |   |   â””â”€â”€ signed_cookies.py
|   |   |   â”œâ”€â”€ base_session.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â””â”€â”€ serializers.py
|   |   â”œâ”€â”€ sitemaps
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ templates
|   |   |   â””â”€â”€ views.py
|   |   â”œâ”€â”€ sites
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ admin.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ locale
|   |   |   |   â”œâ”€â”€ af
|   |   |   |   â”œâ”€â”€ ar
|   |   |   |   â”œâ”€â”€ ar_DZ
|   |   |   |   â”œâ”€â”€ ast
|   |   |   |   â”œâ”€â”€ az
|   |   |   |   â”œâ”€â”€ be
|   |   |   |   â”œâ”€â”€ bg
|   |   |   |   â”œâ”€â”€ bn
|   |   |   |   â”œâ”€â”€ br
|   |   |   |   â”œâ”€â”€ bs
|   |   |   |   â”œâ”€â”€ ca
|   |   |   |   â”œâ”€â”€ cs
|   |   |   |   â”œâ”€â”€ cy
|   |   |   |   â”œâ”€â”€ da
|   |   |   |   â”œâ”€â”€ de
|   |   |   |   â”œâ”€â”€ dsb
|   |   |   |   â”œâ”€â”€ el
|   |   |   |   â”œâ”€â”€ en
|   |   |   |   â”œâ”€â”€ en_AU
|   |   |   |   â”œâ”€â”€ en_GB
|   |   |   |   â”œâ”€â”€ eo
|   |   |   |   â”œâ”€â”€ es
|   |   |   |   â”œâ”€â”€ es_AR
|   |   |   |   â”œâ”€â”€ es_CO
|   |   |   |   â”œâ”€â”€ es_MX
|   |   |   |   â”œâ”€â”€ es_VE
|   |   |   |   â”œâ”€â”€ et
|   |   |   |   â”œâ”€â”€ eu
|   |   |   |   â”œâ”€â”€ fa
|   |   |   |   â”œâ”€â”€ fi
|   |   |   |   â”œâ”€â”€ fr
|   |   |   |   â”œâ”€â”€ fy
|   |   |   |   â”œâ”€â”€ ga
|   |   |   |   â”œâ”€â”€ gd
|   |   |   |   â”œâ”€â”€ gl
|   |   |   |   â”œâ”€â”€ he
|   |   |   |   â”œâ”€â”€ hi
|   |   |   |   â”œâ”€â”€ hr
|   |   |   |   â”œâ”€â”€ hsb
|   |   |   |   â”œâ”€â”€ hu
|   |   |   |   â”œâ”€â”€ hy
|   |   |   |   â”œâ”€â”€ ia
|   |   |   |   â”œâ”€â”€ id
|   |   |   |   â”œâ”€â”€ io
|   |   |   |   â”œâ”€â”€ is
|   |   |   |   â”œâ”€â”€ it
|   |   |   |   â”œâ”€â”€ ja
|   |   |   |   â”œâ”€â”€ ka
|   |   |   |   â”œâ”€â”€ kab
|   |   |   |   â”œâ”€â”€ kk
|   |   |   |   â”œâ”€â”€ km
|   |   |   |   â”œâ”€â”€ kn
|   |   |   |   â”œâ”€â”€ ko
|   |   |   |   â”œâ”€â”€ ky
|   |   |   |   â”œâ”€â”€ lb
|   |   |   |   â”œâ”€â”€ lt
|   |   |   |   â”œâ”€â”€ lv
|   |   |   |   â”œâ”€â”€ mk
|   |   |   |   â”œâ”€â”€ ml
|   |   |   |   â”œâ”€â”€ mn
|   |   |   |   â”œâ”€â”€ mr
|   |   |   |   â”œâ”€â”€ ms
|   |   |   |   â”œâ”€â”€ my
|   |   |   |   â”œâ”€â”€ nb
|   |   |   |   â”œâ”€â”€ ne
|   |   |   |   â”œâ”€â”€ nl
|   |   |   |   â”œâ”€â”€ nn
|   |   |   |   â”œâ”€â”€ os
|   |   |   |   â”œâ”€â”€ pa
|   |   |   |   â”œâ”€â”€ pl
|   |   |   |   â”œâ”€â”€ pt
|   |   |   |   â”œâ”€â”€ pt_BR
|   |   |   |   â”œâ”€â”€ ro
|   |   |   |   â”œâ”€â”€ ru
|   |   |   |   â”œâ”€â”€ sk
|   |   |   |   â”œâ”€â”€ sl
|   |   |   |   â”œâ”€â”€ sq
|   |   |   |   â”œâ”€â”€ sr
|   |   |   |   â”œâ”€â”€ sr_Latn
|   |   |   |   â”œâ”€â”€ sv
|   |   |   |   â”œâ”€â”€ sw
|   |   |   |   â”œâ”€â”€ ta
|   |   |   |   â”œâ”€â”€ te
|   |   |   |   â”œâ”€â”€ tg
|   |   |   |   â”œâ”€â”€ th
|   |   |   |   â”œâ”€â”€ tk
|   |   |   |   â”œâ”€â”€ tr
|   |   |   |   â”œâ”€â”€ tt
|   |   |   |   â”œâ”€â”€ udm
|   |   |   |   â”œâ”€â”€ uk
|   |   |   |   â”œâ”€â”€ ur
|   |   |   |   â”œâ”€â”€ uz
|   |   |   |   â”œâ”€â”€ vi
|   |   |   |   â”œâ”€â”€ zh_Hans
|   |   |   |   â””â”€â”€ zh_Hant
|   |   |   â”œâ”€â”€ management.py
|   |   |   â”œâ”€â”€ managers.py
|   |   |   â”œâ”€â”€ middleware.py
|   |   |   â”œâ”€â”€ migrations
|   |   |   |   â”œâ”€â”€ 0001_initial.py
|   |   |   |   â”œâ”€â”€ 0002_alter_domain_unique.py
|   |   |   |   â””â”€â”€ __init__.py
|   |   |   â”œâ”€â”€ models.py
|   |   |   â”œâ”€â”€ requests.py
|   |   |   â””â”€â”€ shortcuts.py
|   |   â”œâ”€â”€ staticfiles
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ apps.py
|   |   |   â”œâ”€â”€ checks.py
|   |   |   â”œâ”€â”€ finders.py
|   |   |   â”œâ”€â”€ handlers.py
|   |   |   â”œâ”€â”€ management
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ commands
|   |   |   â”œâ”€â”€ storage.py
|   |   |   â”œâ”€â”€ testing.py
|   |   |   â”œâ”€â”€ urls.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ views.py
|   |   â””â”€â”€ syndication
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ apps.py
|   |       â””â”€â”€ views.py
|   â”œâ”€â”€ core
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ asgi.py
|   |   â”œâ”€â”€ cache
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ db.py
|   |   |   |   â”œâ”€â”€ dummy.py
|   |   |   |   â”œâ”€â”€ filebased.py
|   |   |   |   â”œâ”€â”€ locmem.py
|   |   |   |   â”œâ”€â”€ memcached.py
|   |   |   |   â””â”€â”€ redis.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ checks
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ async_checks.py
|   |   |   â”œâ”€â”€ caches.py
|   |   |   â”œâ”€â”€ compatibility
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ django_4_0.py
|   |   |   â”œâ”€â”€ database.py
|   |   |   â”œâ”€â”€ files.py
|   |   |   â”œâ”€â”€ messages.py
|   |   |   â”œâ”€â”€ model_checks.py
|   |   |   â”œâ”€â”€ registry.py
|   |   |   â”œâ”€â”€ security
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ csrf.py
|   |   |   |   â””â”€â”€ sessions.py
|   |   |   â”œâ”€â”€ templates.py
|   |   |   â”œâ”€â”€ translation.py
|   |   |   â””â”€â”€ urls.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ files
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ images.py
|   |   |   â”œâ”€â”€ locks.py
|   |   |   â”œâ”€â”€ move.py
|   |   |   â”œâ”€â”€ storage
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ filesystem.py
|   |   |   |   â”œâ”€â”€ handler.py
|   |   |   |   â”œâ”€â”€ memory.py
|   |   |   |   â””â”€â”€ mixins.py
|   |   |   â”œâ”€â”€ temp.py
|   |   |   â”œâ”€â”€ uploadedfile.py
|   |   |   â”œâ”€â”€ uploadhandler.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ handlers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ asgi.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ exception.py
|   |   |   â””â”€â”€ wsgi.py
|   |   â”œâ”€â”€ mail
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ backends
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ console.py
|   |   |   |   â”œâ”€â”€ dummy.py
|   |   |   |   â”œâ”€â”€ filebased.py
|   |   |   |   â”œâ”€â”€ locmem.py
|   |   |   |   â””â”€â”€ smtp.py
|   |   |   â”œâ”€â”€ message.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ management
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ color.py
|   |   |   â”œâ”€â”€ commands
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ check.py
|   |   |   |   â”œâ”€â”€ compilemessages.py
|   |   |   |   â”œâ”€â”€ createcachetable.py
|   |   |   |   â”œâ”€â”€ dbshell.py
|   |   |   |   â”œâ”€â”€ diffsettings.py
|   |   |   |   â”œâ”€â”€ dumpdata.py
|   |   |   |   â”œâ”€â”€ flush.py
|   |   |   |   â”œâ”€â”€ inspectdb.py
|   |   |   |   â”œâ”€â”€ loaddata.py
|   |   |   |   â”œâ”€â”€ makemessages.py
|   |   |   |   â”œâ”€â”€ makemigrations.py
|   |   |   |   â”œâ”€â”€ migrate.py
|   |   |   |   â”œâ”€â”€ optimizemigration.py
|   |   |   |   â”œâ”€â”€ runserver.py
|   |   |   |   â”œâ”€â”€ sendtestemail.py
|   |   |   |   â”œâ”€â”€ shell.py
|   |   |   |   â”œâ”€â”€ showmigrations.py
|   |   |   |   â”œâ”€â”€ sqlflush.py
|   |   |   |   â”œâ”€â”€ sqlmigrate.py
|   |   |   |   â”œâ”€â”€ sqlsequencereset.py
|   |   |   |   â”œâ”€â”€ squashmigrations.py
|   |   |   |   â”œâ”€â”€ startapp.py
|   |   |   |   â”œâ”€â”€ startproject.py
|   |   |   |   â”œâ”€â”€ test.py
|   |   |   |   â””â”€â”€ testserver.py
|   |   |   â”œâ”€â”€ sql.py
|   |   |   â”œâ”€â”€ templates.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ paginator.py
|   |   â”œâ”€â”€ serializers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ json.py
|   |   |   â”œâ”€â”€ jsonl.py
|   |   |   â”œâ”€â”€ python.py
|   |   |   â”œâ”€â”€ pyyaml.py
|   |   |   â””â”€â”€ xml_serializer.py
|   |   â”œâ”€â”€ servers
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ basehttp.py
|   |   â”œâ”€â”€ signals.py
|   |   â”œâ”€â”€ signing.py
|   |   â”œâ”€â”€ validators.py
|   |   â””â”€â”€ wsgi.py
|   â”œâ”€â”€ db
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ backends
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ ddl_references.py
|   |   |   â”œâ”€â”€ dummy
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â””â”€â”€ features.py
|   |   |   â”œâ”€â”€ mysql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ compiler.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ oracle
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ functions.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ schema.py
|   |   |   |   â”œâ”€â”€ utils.py
|   |   |   |   â””â”€â”€ validation.py
|   |   |   â”œâ”€â”€ postgresql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â”œâ”€â”€ psycopg_any.py
|   |   |   |   â””â”€â”€ schema.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ sqlite3
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ _functions.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ client.py
|   |   |   |   â”œâ”€â”€ creation.py
|   |   |   |   â”œâ”€â”€ features.py
|   |   |   |   â”œâ”€â”€ introspection.py
|   |   |   |   â”œâ”€â”€ operations.py
|   |   |   |   â””â”€â”€ schema.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ migrations
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ autodetector.py
|   |   |   â”œâ”€â”€ exceptions.py
|   |   |   â”œâ”€â”€ executor.py
|   |   |   â”œâ”€â”€ graph.py
|   |   |   â”œâ”€â”€ loader.py
|   |   |   â”œâ”€â”€ migration.py
|   |   |   â”œâ”€â”€ operations
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ base.py
|   |   |   |   â”œâ”€â”€ fields.py
|   |   |   |   â”œâ”€â”€ models.py
|   |   |   |   â””â”€â”€ special.py
|   |   |   â”œâ”€â”€ optimizer.py
|   |   |   â”œâ”€â”€ questioner.py
|   |   |   â”œâ”€â”€ recorder.py
|   |   |   â”œâ”€â”€ serializer.py
|   |   |   â”œâ”€â”€ state.py
|   |   |   â”œâ”€â”€ utils.py
|   |   |   â””â”€â”€ writer.py
|   |   â”œâ”€â”€ models
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ aggregates.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ constraints.py
|   |   |   â”œâ”€â”€ deletion.py
|   |   |   â”œâ”€â”€ enums.py
|   |   |   â”œâ”€â”€ expressions.py
|   |   |   â”œâ”€â”€ fields
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ files.py
|   |   |   |   â”œâ”€â”€ json.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â”œâ”€â”€ proxy.py
|   |   |   |   â”œâ”€â”€ related.py
|   |   |   |   â”œâ”€â”€ related_descriptors.py
|   |   |   |   â”œâ”€â”€ related_lookups.py
|   |   |   |   â””â”€â”€ reverse_related.py
|   |   |   â”œâ”€â”€ functions
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ comparison.py
|   |   |   |   â”œâ”€â”€ datetime.py
|   |   |   |   â”œâ”€â”€ math.py
|   |   |   |   â”œâ”€â”€ mixins.py
|   |   |   |   â”œâ”€â”€ text.py
|   |   |   |   â””â”€â”€ window.py
|   |   |   â”œâ”€â”€ indexes.py
|   |   |   â”œâ”€â”€ lookups.py
|   |   |   â”œâ”€â”€ manager.py
|   |   |   â”œâ”€â”€ options.py
|   |   |   â”œâ”€â”€ query.py
|   |   |   â”œâ”€â”€ query_utils.py
|   |   |   â”œâ”€â”€ signals.py
|   |   |   â”œâ”€â”€ sql
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ compiler.py
|   |   |   |   â”œâ”€â”€ constants.py
|   |   |   |   â”œâ”€â”€ datastructures.py
|   |   |   |   â”œâ”€â”€ query.py
|   |   |   |   â”œâ”€â”€ subqueries.py
|   |   |   |   â””â”€â”€ where.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ transaction.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ dispatch
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ dispatcher.py
|   |   â””â”€â”€ license.txt
|   â”œâ”€â”€ forms
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ boundfield.py
|   |   â”œâ”€â”€ fields.py
|   |   â”œâ”€â”€ forms.py
|   |   â”œâ”€â”€ formsets.py
|   |   â”œâ”€â”€ jinja2
|   |   |   â””â”€â”€ django
|   |   |       â””â”€â”€ forms
|   |   â”œâ”€â”€ models.py
|   |   â”œâ”€â”€ renderers.py
|   |   â”œâ”€â”€ templates
|   |   |   â””â”€â”€ django
|   |   |       â””â”€â”€ forms
|   |   â”œâ”€â”€ utils.py
|   |   â””â”€â”€ widgets.py
|   â”œâ”€â”€ http
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cookie.py
|   |   â”œâ”€â”€ multipartparser.py
|   |   â”œâ”€â”€ request.py
|   |   â””â”€â”€ response.py
|   â”œâ”€â”€ middleware
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ clickjacking.py
|   |   â”œâ”€â”€ common.py
|   |   â”œâ”€â”€ csrf.py
|   |   â”œâ”€â”€ gzip.py
|   |   â”œâ”€â”€ http.py
|   |   â”œâ”€â”€ locale.py
|   |   â””â”€â”€ security.py
|   â”œâ”€â”€ shortcuts.py
|   â”œâ”€â”€ template
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ autoreload.py
|   |   â”œâ”€â”€ backends
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ django.py
|   |   |   â”œâ”€â”€ dummy.py
|   |   |   â”œâ”€â”€ jinja2.py
|   |   |   â””â”€â”€ utils.py
|   |   â”œâ”€â”€ base.py
|   |   â”œâ”€â”€ context.py
|   |   â”œâ”€â”€ context_processors.py
|   |   â”œâ”€â”€ defaultfilters.py
|   |   â”œâ”€â”€ defaulttags.py
|   |   â”œâ”€â”€ engine.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ library.py
|   |   â”œâ”€â”€ loader.py
|   |   â”œâ”€â”€ loader_tags.py
|   |   â”œâ”€â”€ loaders
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ app_directories.py
|   |   |   â”œâ”€â”€ base.py
|   |   |   â”œâ”€â”€ cached.py
|   |   |   â”œâ”€â”€ filesystem.py
|   |   |   â””â”€â”€ locmem.py
|   |   â”œâ”€â”€ response.py
|   |   â”œâ”€â”€ smartif.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ templatetags
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ l10n.py
|   |   â”œâ”€â”€ static.py
|   |   â””â”€â”€ tz.py
|   â”œâ”€â”€ test
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ client.py
|   |   â”œâ”€â”€ html.py
|   |   â”œâ”€â”€ runner.py
|   |   â”œâ”€â”€ selenium.py
|   |   â”œâ”€â”€ signals.py
|   |   â”œâ”€â”€ testcases.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ urls
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ base.py
|   |   â”œâ”€â”€ conf.py
|   |   â”œâ”€â”€ converters.py
|   |   â”œâ”€â”€ exceptions.py
|   |   â”œâ”€â”€ resolvers.py
|   |   â””â”€â”€ utils.py
|   â”œâ”€â”€ utils
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ _os.py
|   |   â”œâ”€â”€ archive.py
|   |   â”œâ”€â”€ asyncio.py
|   |   â”œâ”€â”€ autoreload.py
|   |   â”œâ”€â”€ cache.py
|   |   â”œâ”€â”€ connection.py
|   |   â”œâ”€â”€ crypto.py
|   |   â”œâ”€â”€ datastructures.py
|   |   â”œâ”€â”€ dateformat.py
|   |   â”œâ”€â”€ dateparse.py
|   |   â”œâ”€â”€ dates.py
|   |   â”œâ”€â”€ deconstruct.py
|   |   â”œâ”€â”€ decorators.py
|   |   â”œâ”€â”€ deprecation.py
|   |   â”œâ”€â”€ duration.py
|   |   â”œâ”€â”€ encoding.py
|   |   â”œâ”€â”€ feedgenerator.py
|   |   â”œâ”€â”€ formats.py
|   |   â”œâ”€â”€ functional.py
|   |   â”œâ”€â”€ hashable.py
|   |   â”œâ”€â”€ html.py
|   |   â”œâ”€â”€ http.py
|   |   â”œâ”€â”€ inspect.py
|   |   â”œâ”€â”€ ipv6.py
|   |   â”œâ”€â”€ itercompat.py
|   |   â”œâ”€â”€ jslex.py
|   |   â”œâ”€â”€ log.py
|   |   â”œâ”€â”€ lorem_ipsum.py
|   |   â”œâ”€â”€ module_loading.py
|   |   â”œâ”€â”€ numberformat.py
|   |   â”œâ”€â”€ regex_helper.py
|   |   â”œâ”€â”€ safestring.py
|   |   â”œâ”€â”€ termcolors.py
|   |   â”œâ”€â”€ text.py
|   |   â”œâ”€â”€ timesince.py
|   |   â”œâ”€â”€ timezone.py
|   |   â”œâ”€â”€ translation
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ reloader.py
|   |   |   â”œâ”€â”€ template.py
|   |   |   â”œâ”€â”€ trans_null.py
|   |   |   â””â”€â”€ trans_real.py
|   |   â”œâ”€â”€ tree.py
|   |   â”œâ”€â”€ version.py
|   |   â””â”€â”€ xmlutils.py
|   â””â”€â”€ views
|       â”œâ”€â”€ __init__.py
|       â”œâ”€â”€ csrf.py
|       â”œâ”€â”€ debug.py
|       â”œâ”€â”€ decorators
|       |   â”œâ”€â”€ __init__.py
|       |   â”œâ”€â”€ cache.py
|       |   â”œâ”€â”€ clickjacking.py
|       |   â”œâ”€â”€ common.py
|       |   â”œâ”€â”€ csrf.py
|       |   â”œâ”€â”€ debug.py
|       |   â”œâ”€â”€ gzip.py
|       |   â”œâ”€â”€ http.py
|       |   â””â”€â”€ vary.py
|       â”œâ”€â”€ defaults.py
|       â”œâ”€â”€ generic
|       |   â”œâ”€â”€ __init__.py
|       |   â”œâ”€â”€ base.py
|       |   â”œâ”€â”€ dates.py
|       |   â”œâ”€â”€ detail.py
|       |   â”œâ”€â”€ edit.py
|       |   â””â”€â”€ list.py
|       â”œâ”€â”€ i18n.py
|       â”œâ”€â”€ static.py
|       â””â”€â”€ templates
|           â”œâ”€â”€ i18n_catalog.js
|           â””â”€â”€ technical_500.txt
â”œâ”€â”€ docs
|   â”œâ”€â”€ README.rst
|   â”œâ”€â”€ _ext
|   |   â””â”€â”€ djangodocs.py
|   â”œâ”€â”€ _theme
|   |   â”œâ”€â”€ djangodocs
|   |   |   â””â”€â”€ static
|   |   |       â””â”€â”€ fontawesome
|   |   â””â”€â”€ djangodocs-epub
|   |       â””â”€â”€ static
|   â”œâ”€â”€ conf.py
|   â”œâ”€â”€ contents.txt
|   â”œâ”€â”€ faq
|   |   â”œâ”€â”€ admin.txt
|   |   â”œâ”€â”€ contributing.txt
|   |   â”œâ”€â”€ general.txt
|   |   â”œâ”€â”€ help.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ install.txt
|   |   â”œâ”€â”€ models.txt
|   |   â”œâ”€â”€ troubleshooting.txt
|   |   â””â”€â”€ usage.txt
|   â”œâ”€â”€ glossary.txt
|   â”œâ”€â”€ howto
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ auth-remote-user.txt
|   |   â”œâ”€â”€ csrf.txt
|   |   â”œâ”€â”€ custom-file-storage.txt
|   |   â”œâ”€â”€ custom-lookups.txt
|   |   â”œâ”€â”€ custom-management-commands.txt
|   |   â”œâ”€â”€ custom-model-fields.txt
|   |   â”œâ”€â”€ custom-template-backend.txt
|   |   â”œâ”€â”€ custom-template-tags.txt
|   |   â”œâ”€â”€ deployment
|   |   |   â”œâ”€â”€ asgi
|   |   |   |   â”œâ”€â”€ daphne.txt
|   |   |   |   â”œâ”€â”€ hypercorn.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â””â”€â”€ uvicorn.txt
|   |   |   â”œâ”€â”€ checklist.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â””â”€â”€ wsgi
|   |   |       â”œâ”€â”€ apache-auth.txt
|   |   |       â”œâ”€â”€ gunicorn.txt
|   |   |       â”œâ”€â”€ index.txt
|   |   |       â”œâ”€â”€ modwsgi.txt
|   |   |       â””â”€â”€ uwsgi.txt
|   |   â”œâ”€â”€ error-reporting.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ initial-data.txt
|   |   â”œâ”€â”€ legacy-databases.txt
|   |   â”œâ”€â”€ logging.txt
|   |   â”œâ”€â”€ outputting-csv.txt
|   |   â”œâ”€â”€ outputting-pdf.txt
|   |   â”œâ”€â”€ overriding-templates.txt
|   |   â”œâ”€â”€ static-files
|   |   |   â”œâ”€â”€ deployment.txt
|   |   |   â””â”€â”€ index.txt
|   |   â”œâ”€â”€ upgrade-version.txt
|   |   â”œâ”€â”€ windows.txt
|   |   â””â”€â”€ writing-migrations.txt
|   â”œâ”€â”€ index.txt
|   â”œâ”€â”€ internals
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ contributing
|   |   |   â”œâ”€â”€ bugs-and-features.txt
|   |   |   â”œâ”€â”€ committing-code.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ localizing.txt
|   |   |   â”œâ”€â”€ new-contributors.txt
|   |   |   â”œâ”€â”€ triaging-tickets.txt
|   |   |   â”œâ”€â”€ writing-code
|   |   |   |   â”œâ”€â”€ coding-style.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ javascript.txt
|   |   |   |   â”œâ”€â”€ submitting-patches.txt
|   |   |   |   â”œâ”€â”€ unit-tests.txt
|   |   |   |   â””â”€â”€ working-with-git.txt
|   |   |   â””â”€â”€ writing-documentation.txt
|   |   â”œâ”€â”€ deprecation.txt
|   |   â”œâ”€â”€ git.txt
|   |   â”œâ”€â”€ howto-release-django.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ mailing-lists.txt
|   |   â”œâ”€â”€ organization.txt
|   |   â”œâ”€â”€ release-process.txt
|   |   â””â”€â”€ security.txt
|   â”œâ”€â”€ intro
|   |   â”œâ”€â”€ _images
|   |   â”œâ”€â”€ contributing.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ install.txt
|   |   â”œâ”€â”€ overview.txt
|   |   â”œâ”€â”€ reusable-apps.txt
|   |   â”œâ”€â”€ tutorial01.txt
|   |   â”œâ”€â”€ tutorial02.txt
|   |   â”œâ”€â”€ tutorial03.txt
|   |   â”œâ”€â”€ tutorial04.txt
|   |   â”œâ”€â”€ tutorial05.txt
|   |   â”œâ”€â”€ tutorial06.txt
|   |   â”œâ”€â”€ tutorial07.txt
|   |   â”œâ”€â”€ tutorial08.txt
|   |   â””â”€â”€ whatsnext.txt
|   â”œâ”€â”€ man
|   â”œâ”€â”€ misc
|   |   â”œâ”€â”€ api-stability.txt
|   |   â”œâ”€â”€ design-philosophies.txt
|   |   â”œâ”€â”€ distributions.txt
|   |   â””â”€â”€ index.txt
|   â”œâ”€â”€ ref
|   |   â”œâ”€â”€ applications.txt
|   |   â”œâ”€â”€ checks.txt
|   |   â”œâ”€â”€ class-based-views
|   |   |   â”œâ”€â”€ base.txt
|   |   |   â”œâ”€â”€ flattened-index.txt
|   |   |   â”œâ”€â”€ generic-date-based.txt
|   |   |   â”œâ”€â”€ generic-display.txt
|   |   |   â”œâ”€â”€ generic-editing.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ mixins-date-based.txt
|   |   |   â”œâ”€â”€ mixins-editing.txt
|   |   |   â”œâ”€â”€ mixins-multiple-object.txt
|   |   |   â”œâ”€â”€ mixins-simple.txt
|   |   |   â”œâ”€â”€ mixins-single-object.txt
|   |   |   â””â”€â”€ mixins.txt
|   |   â”œâ”€â”€ clickjacking.txt
|   |   â”œâ”€â”€ contrib
|   |   |   â”œâ”€â”€ admin
|   |   |   |   â”œâ”€â”€ _images
|   |   |   |   â”œâ”€â”€ actions.txt
|   |   |   |   â”œâ”€â”€ admindocs.txt
|   |   |   |   â”œâ”€â”€ filters.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â””â”€â”€ javascript.txt
|   |   |   â”œâ”€â”€ auth.txt
|   |   |   â”œâ”€â”€ contenttypes.txt
|   |   |   â”œâ”€â”€ flatpages.txt
|   |   |   â”œâ”€â”€ gis
|   |   |   |   â”œâ”€â”€ admin.txt
|   |   |   |   â”œâ”€â”€ commands.txt
|   |   |   |   â”œâ”€â”€ db-api.txt
|   |   |   |   â”œâ”€â”€ deployment.txt
|   |   |   |   â”œâ”€â”€ feeds.txt
|   |   |   |   â”œâ”€â”€ forms-api.txt
|   |   |   |   â”œâ”€â”€ functions.txt
|   |   |   |   â”œâ”€â”€ gdal.txt
|   |   |   |   â”œâ”€â”€ geoip2.txt
|   |   |   |   â”œâ”€â”€ geoquerysets.txt
|   |   |   |   â”œâ”€â”€ geos.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ install
|   |   |   |   â”œâ”€â”€ layermapping.txt
|   |   |   |   â”œâ”€â”€ measure.txt
|   |   |   |   â”œâ”€â”€ model-api.txt
|   |   |   |   â”œâ”€â”€ ogrinspect.txt
|   |   |   |   â”œâ”€â”€ serializers.txt
|   |   |   |   â”œâ”€â”€ sitemaps.txt
|   |   |   |   â”œâ”€â”€ testing.txt
|   |   |   |   â”œâ”€â”€ tutorial.txt
|   |   |   |   â””â”€â”€ utils.txt
|   |   |   â”œâ”€â”€ humanize.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ messages.txt
|   |   |   â”œâ”€â”€ postgres
|   |   |   |   â”œâ”€â”€ aggregates.txt
|   |   |   |   â”œâ”€â”€ constraints.txt
|   |   |   |   â”œâ”€â”€ expressions.txt
|   |   |   |   â”œâ”€â”€ fields.txt
|   |   |   |   â”œâ”€â”€ forms.txt
|   |   |   |   â”œâ”€â”€ functions.txt
|   |   |   |   â”œâ”€â”€ index.txt
|   |   |   |   â”œâ”€â”€ indexes.txt
|   |   |   |   â”œâ”€â”€ lookups.txt
|   |   |   |   â”œâ”€â”€ operations.txt
|   |   |   |   â”œâ”€â”€ search.txt
|   |   |   |   â””â”€â”€ validators.txt
|   |   |   â”œâ”€â”€ redirects.txt
|   |   |   â”œâ”€â”€ sitemaps.txt
|   |   |   â”œâ”€â”€ sites.txt
|   |   |   â”œâ”€â”€ staticfiles.txt
|   |   |   â””â”€â”€ syndication.txt
|   |   â”œâ”€â”€ csrf.txt
|   |   â”œâ”€â”€ databases.txt
|   |   â”œâ”€â”€ django-admin.txt
|   |   â”œâ”€â”€ exceptions.txt
|   |   â”œâ”€â”€ files
|   |   |   â”œâ”€â”€ file.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ storage.txt
|   |   |   â””â”€â”€ uploads.txt
|   |   â”œâ”€â”€ forms
|   |   |   â”œâ”€â”€ api.txt
|   |   |   â”œâ”€â”€ fields.txt
|   |   |   â”œâ”€â”€ formsets.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ models.txt
|   |   |   â”œâ”€â”€ renderers.txt
|   |   |   â”œâ”€â”€ validation.txt
|   |   |   â””â”€â”€ widgets.txt
|   |   â”œâ”€â”€ index.txt
|   |   â”œâ”€â”€ logging.txt
|   |   â”œâ”€â”€ middleware.txt
|   |   â”œâ”€â”€ migration-operations.txt
|   |   â”œâ”€â”€ models
|   |   |   â”œâ”€â”€ class.txt
|   |   |   â”œâ”€â”€ conditional-expressions.txt
|   |   |   â”œâ”€â”€ constraints.txt
|   |   |   â”œâ”€â”€ database-functions.txt
|   |   |   â”œâ”€â”€ expressions.txt
|   |   |   â”œâ”€â”€ fields.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ indexes.txt
|   |   |   â”œâ”€â”€ instances.txt
|   |   |   â”œâ”€â”€ lookups.txt
|   |   |   â”œâ”€â”€ meta.txt
|   |   |   â”œâ”€â”€ options.txt
|   |   |   â”œâ”€â”€ querysets.txt
|   |   |   â””â”€â”€ relations.txt
|   |   â”œâ”€â”€ paginator.txt
|   |   â”œâ”€â”€ request-response.txt
|   |   â”œâ”€â”€ schema-editor.txt
|   |   â”œâ”€â”€ settings.txt
|   |   â”œâ”€â”€ signals.txt
|   |   â”œâ”€â”€ template-response.txt
|   |   â”œâ”€â”€ templates
|   |   |   â”œâ”€â”€ api.txt
|   |   |   â”œâ”€â”€ builtins.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â””â”€â”€ language.txt
|   |   â”œâ”€â”€ unicode.txt
|   |   â”œâ”€â”€ urlresolvers.txt
|   |   â”œâ”€â”€ urls.txt
|   |   â”œâ”€â”€ utils.txt
|   |   â”œâ”€â”€ validators.txt
|   |   â””â”€â”€ views.txt
|   â”œâ”€â”€ releases
|   |   â”œâ”€â”€ 0.95.txt
|   |   â”œâ”€â”€ 0.96.txt
|   |   â”œâ”€â”€ 1.0-porting-guide.txt
|   |   â”œâ”€â”€ 1.0.1.txt
|   |   â”œâ”€â”€ 1.0.2.txt
|   |   â”œâ”€â”€ 1.0.txt
|   |   â”œâ”€â”€ 1.1.2.txt
|   |   â”œâ”€â”€ 1.1.3.txt
|   |   â”œâ”€â”€ 1.1.4.txt
|   |   â”œâ”€â”€ 1.1.txt
|   |   â”œâ”€â”€ 1.10.1.txt
|   |   â”œâ”€â”€ 1.10.2.txt
|   |   â”œâ”€â”€ 1.10.3.txt
|   |   â”œâ”€â”€ 1.10.4.txt
|   |   â”œâ”€â”€ 1.10.5.txt
|   |   â”œâ”€â”€ 1.10.6.txt
|   |   â”œâ”€â”€ 1.10.7.txt
|   |   â”œâ”€â”€ 1.10.8.txt
|   |   â”œâ”€â”€ 1.10.txt
|   |   â”œâ”€â”€ 1.11.1.txt
|   |   â”œâ”€â”€ 1.11.10.txt
|   |   â”œâ”€â”€ 1.11.11.txt
|   |   â”œâ”€â”€ 1.11.12.txt
|   |   â”œâ”€â”€ 1.11.13.txt
|   |   â”œâ”€â”€ 1.11.14.txt
|   |   â”œâ”€â”€ 1.11.15.txt
|   |   â”œâ”€â”€ 1.11.16.txt
|   |   â”œâ”€â”€ 1.11.17.txt
|   |   â”œâ”€â”€ 1.11.18.txt
|   |   â”œâ”€â”€ 1.11.19.txt
|   |   â”œâ”€â”€ 1.11.2.txt
|   |   â”œâ”€â”€ 1.11.20.txt
|   |   â”œâ”€â”€ 1.11.21.txt
|   |   â”œâ”€â”€ 1.11.22.txt
|   |   â”œâ”€â”€ 1.11.23.txt
|   |   â”œâ”€â”€ 1.11.24.txt
|   |   â”œâ”€â”€ 1.11.25.txt
|   |   â”œâ”€â”€ 1.11.26.txt
|   |   â”œâ”€â”€ 1.11.27.txt
|   |   â”œâ”€â”€ 1.11.28.txt
|   |   â”œâ”€â”€ 1.11.29.txt
|   |   â”œâ”€â”€ 1.11.3.txt
|   |   â”œâ”€â”€ 1.11.4.txt
|   |   â”œâ”€â”€ 1.11.5.txt
|   |   â”œâ”€â”€ 1.11.6.txt
|   |   â”œâ”€â”€ 1.11.7.txt
|   |   â”œâ”€â”€ 1.11.8.txt
|   |   â”œâ”€â”€ 1.11.9.txt
|   |   â”œâ”€â”€ 1.11.txt
|   |   â”œâ”€â”€ 1.2.1.txt
|   |   â”œâ”€â”€ 1.2.2.txt
|   |   â”œâ”€â”€ 1.2.3.txt
|   |   â”œâ”€â”€ 1.2.4.txt
|   |   â”œâ”€â”€ 1.2.5.txt
|   |   â”œâ”€â”€ 1.2.6.txt
|   |   â”œâ”€â”€ 1.2.7.txt
|   |   â”œâ”€â”€ 1.2.txt
|   |   â”œâ”€â”€ 1.3.1.txt
|   |   â”œâ”€â”€ 1.3.2.txt
|   |   â”œâ”€â”€ 1.3.3.txt
|   |   â”œâ”€â”€ 1.3.4.txt
|   |   â”œâ”€â”€ 1.3.5.txt
|   |   â”œâ”€â”€ 1.3.6.txt
|   |   â”œâ”€â”€ 1.3.7.txt
|   |   â”œâ”€â”€ 1.3.txt
|   |   â”œâ”€â”€ 1.4.1.txt
|   |   â”œâ”€â”€ 1.4.10.txt
|   |   â”œâ”€â”€ 1.4.11.txt
|   |   â”œâ”€â”€ 1.4.12.txt
|   |   â”œâ”€â”€ 1.4.13.txt
|   |   â”œâ”€â”€ 1.4.14.txt
|   |   â”œâ”€â”€ 1.4.15.txt
|   |   â”œâ”€â”€ 1.4.16.txt
|   |   â”œâ”€â”€ 1.4.17.txt
|   |   â”œâ”€â”€ 1.4.18.txt
|   |   â”œâ”€â”€ 1.4.19.txt
|   |   â”œâ”€â”€ 1.4.2.txt
|   |   â”œâ”€â”€ 1.4.20.txt
|   |   â”œâ”€â”€ 1.4.21.txt
|   |   â”œâ”€â”€ 1.4.22.txt
|   |   â”œâ”€â”€ 1.4.3.txt
|   |   â”œâ”€â”€ 1.4.4.txt
|   |   â”œâ”€â”€ 1.4.5.txt
|   |   â”œâ”€â”€ 1.4.6.txt
|   |   â”œâ”€â”€ 1.4.7.txt
|   |   â”œâ”€â”€ 1.4.8.txt
|   |   â”œâ”€â”€ 1.4.9.txt
|   |   â”œâ”€â”€ 1.4.txt
|   |   â”œâ”€â”€ 1.5.1.txt
|   |   â”œâ”€â”€ 1.5.10.txt
|   |   â”œâ”€â”€ 1.5.11.txt
|   |   â”œâ”€â”€ 1.5.12.txt
|   |   â”œâ”€â”€ 1.5.2.txt
|   |   â”œâ”€â”€ 1.5.3.txt
|   |   â”œâ”€â”€ 1.5.4.txt
|   |   â”œâ”€â”€ 1.5.5.txt
|   |   â”œâ”€â”€ 1.5.6.txt
|   |   â”œâ”€â”€ 1.5.7.txt
|   |   â”œâ”€â”€ 1.5.8.txt
|   |   â”œâ”€â”€ 1.5.9.txt
|   |   â”œâ”€â”€ 1.5.txt
|   |   â”œâ”€â”€ 1.6.1.txt
|   |   â”œâ”€â”€ 1.6.10.txt
|   |   â”œâ”€â”€ 1.6.11.txt
|   |   â”œâ”€â”€ 1.6.2.txt
|   |   â”œâ”€â”€ 1.6.3.txt
|   |   â”œâ”€â”€ 1.6.4.txt
|   |   â”œâ”€â”€ 1.6.5.txt
|   |   â”œâ”€â”€ 1.6.6.txt
|   |   â”œâ”€â”€ 1.6.7.txt
|   |   â”œâ”€â”€ 1.6.8.txt
|   |   â”œâ”€â”€ 1.6.9.txt
|   |   â”œâ”€â”€ 1.6.txt
|   |   â”œâ”€â”€ 1.7.1.txt
|   |   â”œâ”€â”€ 1.7.10.txt
|   |   â”œâ”€â”€ 1.7.11.txt
|   |   â”œâ”€â”€ 1.7.2.txt
|   |   â”œâ”€â”€ 1.7.3.txt
|   |   â”œâ”€â”€ 1.7.4.txt
|   |   â”œâ”€â”€ 1.7.5.txt
|   |   â”œâ”€â”€ 1.7.6.txt
|   |   â”œâ”€â”€ 1.7.7.txt
|   |   â”œâ”€â”€ 1.7.8.txt
|   |   â”œâ”€â”€ 1.7.9.txt
|   |   â”œâ”€â”€ 1.7.txt
|   |   â”œâ”€â”€ 1.8.1.txt
|   |   â”œâ”€â”€ 1.8.10.txt
|   |   â”œâ”€â”€ 1.8.11.txt
|   |   â”œâ”€â”€ 1.8.12.txt
|   |   â”œâ”€â”€ 1.8.13.txt
|   |   â”œâ”€â”€ 1.8.14.txt
|   |   â”œâ”€â”€ 1.8.15.txt
|   |   â”œâ”€â”€ 1.8.16.txt
|   |   â”œâ”€â”€ 1.8.17.txt
|   |   â”œâ”€â”€ 1.8.18.txt
|   |   â”œâ”€â”€ 1.8.19.txt
|   |   â”œâ”€â”€ 1.8.2.txt
|   |   â”œâ”€â”€ 1.8.3.txt
|   |   â”œâ”€â”€ 1.8.4.txt
|   |   â”œâ”€â”€ 1.8.5.txt
|   |   â”œâ”€â”€ 1.8.6.txt
|   |   â”œâ”€â”€ 1.8.7.txt
|   |   â”œâ”€â”€ 1.8.8.txt
|   |   â”œâ”€â”€ 1.8.9.txt
|   |   â”œâ”€â”€ 1.8.txt
|   |   â”œâ”€â”€ 1.9.1.txt
|   |   â”œâ”€â”€ 1.9.10.txt
|   |   â”œâ”€â”€ 1.9.11.txt
|   |   â”œâ”€â”€ 1.9.12.txt
|   |   â”œâ”€â”€ 1.9.13.txt
|   |   â”œâ”€â”€ 1.9.2.txt
|   |   â”œâ”€â”€ 1.9.3.txt
|   |   â”œâ”€â”€ 1.9.4.txt
|   |   â”œâ”€â”€ 1.9.5.txt
|   |   â”œâ”€â”€ 1.9.6.txt
|   |   â”œâ”€â”€ 1.9.7.txt
|   |   â”œâ”€â”€ 1.9.8.txt
|   |   â”œâ”€â”€ 1.9.9.txt
|   |   â”œâ”€â”€ 1.9.txt
|   |   â”œâ”€â”€ 2.0.1.txt
|   |   â”œâ”€â”€ 2.0.10.txt
|   |   â”œâ”€â”€ 2.0.11.txt
|   |   â”œâ”€â”€ 2.0.12.txt
|   |   â”œâ”€â”€ 2.0.13.txt
|   |   â”œâ”€â”€ 2.0.2.txt
|   |   â”œâ”€â”€ 2.0.3.txt
|   |   â”œâ”€â”€ 2.0.4.txt
|   |   â”œâ”€â”€ 2.0.5.txt
|   |   â”œâ”€â”€ 2.0.6.txt
|   |   â”œâ”€â”€ 2.0.7.txt
|   |   â”œâ”€â”€ 2.0.8.txt
|   |   â”œâ”€â”€ 2.0.9.txt
|   |   â”œâ”€â”€ 2.0.txt
|   |   â”œâ”€â”€ 2.1.1.txt
|   |   â”œâ”€â”€ 2.1.10.txt
|   |   â”œâ”€â”€ 2.1.11.txt
|   |   â”œâ”€â”€ 2.1.12.txt
|   |   â”œâ”€â”€ 2.1.13.txt
|   |   â”œâ”€â”€ 2.1.14.txt
|   |   â”œâ”€â”€ 2.1.15.txt
|   |   â”œâ”€â”€ 2.1.2.txt
|   |   â”œâ”€â”€ 2.1.3.txt
|   |   â”œâ”€â”€ 2.1.4.txt
|   |   â”œâ”€â”€ 2.1.5.txt
|   |   â”œâ”€â”€ 2.1.6.txt
|   |   â”œâ”€â”€ 2.1.7.txt
|   |   â”œâ”€â”€ 2.1.8.txt
|   |   â”œâ”€â”€ 2.1.9.txt
|   |   â”œâ”€â”€ 2.1.txt
|   |   â”œâ”€â”€ 2.2.1.txt
|   |   â”œâ”€â”€ 2.2.10.txt
|   |   â”œâ”€â”€ 2.2.11.txt
|   |   â”œâ”€â”€ 2.2.12.txt
|   |   â”œâ”€â”€ 2.2.13.txt
|   |   â”œâ”€â”€ 2.2.14.txt
|   |   â”œâ”€â”€ 2.2.15.txt
|   |   â”œâ”€â”€ 2.2.16.txt
|   |   â”œâ”€â”€ 2.2.17.txt
|   |   â”œâ”€â”€ 2.2.18.txt
|   |   â”œâ”€â”€ 2.2.19.txt
|   |   â”œâ”€â”€ 2.2.2.txt
|   |   â”œâ”€â”€ 2.2.20.txt
|   |   â”œâ”€â”€ 2.2.21.txt
|   |   â”œâ”€â”€ 2.2.22.txt
|   |   â”œâ”€â”€ 2.2.23.txt
|   |   â”œâ”€â”€ 2.2.24.txt
|   |   â”œâ”€â”€ 2.2.25.txt
|   |   â”œâ”€â”€ 2.2.26.txt
|   |   â”œâ”€â”€ 2.2.27.txt
|   |   â”œâ”€â”€ 2.2.28.txt
|   |   â”œâ”€â”€ 2.2.3.txt
|   |   â”œâ”€â”€ 2.2.4.txt
|   |   â”œâ”€â”€ 2.2.5.txt
|   |   â”œâ”€â”€ 2.2.6.txt
|   |   â”œâ”€â”€ 2.2.7.txt
|   |   â”œâ”€â”€ 2.2.8.txt
|   |   â”œâ”€â”€ 2.2.9.txt
|   |   â”œâ”€â”€ 2.2.txt
|   |   â”œâ”€â”€ 3.0.1.txt
|   |   â”œâ”€â”€ 3.0.10.txt
|   |   â”œâ”€â”€ 3.0.11.txt
|   |   â”œâ”€â”€ 3.0.12.txt
|   |   â”œâ”€â”€ 3.0.13.txt
|   |   â”œâ”€â”€ 3.0.14.txt
|   |   â”œâ”€â”€ 3.0.2.txt
|   |   â”œâ”€â”€ 3.0.3.txt
|   |   â”œâ”€â”€ 3.0.4.txt
|   |   â”œâ”€â”€ 3.0.5.txt
|   |   â”œâ”€â”€ 3.0.6.txt
|   |   â”œâ”€â”€ 3.0.7.txt
|   |   â”œâ”€â”€ 3.0.8.txt
|   |   â”œâ”€â”€ 3.0.9.txt
|   |   â”œâ”€â”€ 3.0.txt
|   |   â”œâ”€â”€ 3.1.1.txt
|   |   â”œâ”€â”€ 3.1.10.txt
|   |   â”œâ”€â”€ 3.1.11.txt
|   |   â”œâ”€â”€ 3.1.12.txt
|   |   â”œâ”€â”€ 3.1.13.txt
|   |   â”œâ”€â”€ 3.1.14.txt
|   |   â”œâ”€â”€ 3.1.2.txt
|   |   â”œâ”€â”€ 3.1.3.txt
|   |   â”œâ”€â”€ 3.1.4.txt
|   |   â”œâ”€â”€ 3.1.5.txt
|   |   â”œâ”€â”€ 3.1.6.txt
|   |   â”œâ”€â”€ 3.1.7.txt
|   |   â”œâ”€â”€ 3.1.8.txt
|   |   â”œâ”€â”€ 3.1.9.txt
|   |   â”œâ”€â”€ 3.1.txt
|   |   â”œâ”€â”€ 3.2.1.txt
|   |   â”œâ”€â”€ 3.2.10.txt
|   |   â”œâ”€â”€ 3.2.11.txt
|   |   â”œâ”€â”€ 3.2.12.txt
|   |   â”œâ”€â”€ 3.2.13.txt
|   |   â”œâ”€â”€ 3.2.14.txt
|   |   â”œâ”€â”€ 3.2.15.txt
|   |   â”œâ”€â”€ 3.2.16.txt
|   |   â”œâ”€â”€ 3.2.17.txt
|   |   â”œâ”€â”€ 3.2.18.txt
|   |   â”œâ”€â”€ 3.2.2.txt
|   |   â”œâ”€â”€ 3.2.3.txt
|   |   â”œâ”€â”€ 3.2.4.txt
|   |   â”œâ”€â”€ 3.2.5.txt
|   |   â”œâ”€â”€ 3.2.6.txt
|   |   â”œâ”€â”€ 3.2.7.txt
|   |   â”œâ”€â”€ 3.2.8.txt
|   |   â”œâ”€â”€ 3.2.9.txt
|   |   â”œâ”€â”€ 3.2.txt
|   |   â”œâ”€â”€ 4.0.1.txt
|   |   â”œâ”€â”€ 4.0.10.txt
|   |   â”œâ”€â”€ 4.0.2.txt
|   |   â”œâ”€â”€ 4.0.3.txt
|   |   â”œâ”€â”€ 4.0.4.txt
|   |   â”œâ”€â”€ 4.0.5.txt
|   |   â”œâ”€â”€ 4.0.6.txt
|   |   â”œâ”€â”€ 4.0.7.txt
|   |   â”œâ”€â”€ 4.0.8.txt
|   |   â”œâ”€â”€ 4.0.9.txt
|   |   â”œâ”€â”€ 4.0.txt
|   |   â”œâ”€â”€ 4.1.1.txt
|   |   â”œâ”€â”€ 4.1.2.txt
|   |   â”œâ”€â”€ 4.1.3.txt
|   |   â”œâ”€â”€ 4.1.4.txt
|   |   â”œâ”€â”€ 4.1.5.txt
|   |   â”œâ”€â”€ 4.1.6.txt
|   |   â”œâ”€â”€ 4.1.7.txt
|   |   â”œâ”€â”€ 4.1.txt
|   |   â”œâ”€â”€ 4.2.txt
|   |   â”œâ”€â”€ 5.0.txt
|   |   â”œâ”€â”€ index.txt
|   |   â””â”€â”€ security.txt
|   â”œâ”€â”€ requirements.txt
|   â””â”€â”€ topics
|       â”œâ”€â”€ async.txt
|       â”œâ”€â”€ auth
|       |   â”œâ”€â”€ customizing.txt
|       |   â”œâ”€â”€ default.txt
|       |   â”œâ”€â”€ index.txt
|       |   â””â”€â”€ passwords.txt
|       â”œâ”€â”€ cache.txt
|       â”œâ”€â”€ checks.txt
|       â”œâ”€â”€ class-based-views
|       |   â”œâ”€â”€ generic-display.txt
|       |   â”œâ”€â”€ generic-editing.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ intro.txt
|       |   â””â”€â”€ mixins.txt
|       â”œâ”€â”€ conditional-view-processing.txt
|       â”œâ”€â”€ db
|       |   â”œâ”€â”€ aggregation.txt
|       |   â”œâ”€â”€ examples
|       |   |   â”œâ”€â”€ index.txt
|       |   |   â”œâ”€â”€ many_to_many.txt
|       |   |   â”œâ”€â”€ many_to_one.txt
|       |   |   â””â”€â”€ one_to_one.txt
|       |   â”œâ”€â”€ fixtures.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ instrumentation.txt
|       |   â”œâ”€â”€ managers.txt
|       |   â”œâ”€â”€ models.txt
|       |   â”œâ”€â”€ multi-db.txt
|       |   â”œâ”€â”€ optimization.txt
|       |   â”œâ”€â”€ queries.txt
|       |   â”œâ”€â”€ search.txt
|       |   â”œâ”€â”€ sql.txt
|       |   â”œâ”€â”€ tablespaces.txt
|       |   â””â”€â”€ transactions.txt
|       â”œâ”€â”€ email.txt
|       â”œâ”€â”€ external-packages.txt
|       â”œâ”€â”€ files.txt
|       â”œâ”€â”€ forms
|       |   â”œâ”€â”€ formsets.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ media.txt
|       |   â””â”€â”€ modelforms.txt
|       â”œâ”€â”€ http
|       |   â”œâ”€â”€ _images
|       |   â”œâ”€â”€ decorators.txt
|       |   â”œâ”€â”€ file-uploads.txt
|       |   â”œâ”€â”€ generic-views.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ middleware.txt
|       |   â”œâ”€â”€ sessions.txt
|       |   â”œâ”€â”€ shortcuts.txt
|       |   â”œâ”€â”€ urls.txt
|       |   â””â”€â”€ views.txt
|       â”œâ”€â”€ i18n
|       |   â”œâ”€â”€ formatting.txt
|       |   â”œâ”€â”€ index.txt
|       |   â”œâ”€â”€ timezones.txt
|       |   â””â”€â”€ translation.txt
|       â”œâ”€â”€ index.txt
|       â”œâ”€â”€ install.txt
|       â”œâ”€â”€ logging.txt
|       â”œâ”€â”€ migrations.txt
|       â”œâ”€â”€ pagination.txt
|       â”œâ”€â”€ performance.txt
|       â”œâ”€â”€ security.txt
|       â”œâ”€â”€ serialization.txt
|       â”œâ”€â”€ settings.txt
|       â”œâ”€â”€ signals.txt
|       â”œâ”€â”€ signing.txt
|       â”œâ”€â”€ templates.txt
|       â””â”€â”€ testing
|           â”œâ”€â”€ _images
|           â”œâ”€â”€ advanced.txt
|           â”œâ”€â”€ index.txt
|           â”œâ”€â”€ overview.txt
|           â””â”€â”€ tools.txt
â”œâ”€â”€ extras
â”œâ”€â”€ js_tests
|   â”œâ”€â”€ admin
|   |   â”œâ”€â”€ DateTimeShortcuts.test.js
|   |   â”œâ”€â”€ SelectBox.test.js
|   |   â”œâ”€â”€ SelectFilter2.test.js
|   |   â”œâ”€â”€ URLify.test.js
|   |   â”œâ”€â”€ actions.test.js
|   |   â”œâ”€â”€ core.test.js
|   |   â”œâ”€â”€ inlines.test.js
|   |   â”œâ”€â”€ jsi18n-mocks.test.js
|   |   â””â”€â”€ navigation.test.js
|   â””â”€â”€ gis
|       â””â”€â”€ mapwidget.test.js
â”œâ”€â”€ scripts
|   â”œâ”€â”€ manage_translations.py
|   â””â”€â”€ rpm-install.sh
â”œâ”€â”€ setup.py
â””â”€â”€ tests
    â”œâ”€â”€ README.rst
    â”œâ”€â”€ absolute_url_overrides
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_autodiscover
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_changelist
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_date_hierarchy.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_checks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_custom_urls
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_default_site
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ sites.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_docs
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ evilfile.txt
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ namespace_urls.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_utils.py
    |   â”œâ”€â”€ test_views.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ admin_filters
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_inlines
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_registration
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ admin_scripts
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ another_app_waiting_migration
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_raising_messages
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_raising_warning
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_waiting_migration
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app_with_import
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ broken_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ complex_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ admin
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ foo.py
    |   |   â”œâ”€â”€ management
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ commands
    |   |   â””â”€â”€ models
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ bar.py
    |   |       â””â”€â”€ foo.py
    |   â”œâ”€â”€ configured_dynamic_settings_manage.py
    |   â”œâ”€â”€ configured_settings_manage.py
    |   â”œâ”€â”€ custom_templates
    |   |   â”œâ”€â”€ app_template
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ api.py
    |   |   â””â”€â”€ project_template
    |   |       â”œâ”€â”€ .hidden
    |   |       â”œâ”€â”€ additional_dir
    |   |       â”œâ”€â”€ project_name
    |   |       â””â”€â”€ ticket-18091-non-ascii-template.txt
    |   â”œâ”€â”€ management
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ commands
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ app_command.py
    |   |       â”œâ”€â”€ base_command.py
    |   |       â”œâ”€â”€ custom_startproject.py
    |   |       â”œâ”€â”€ label_command.py
    |   |       â”œâ”€â”€ noargs_command.py
    |   |       â””â”€â”€ suppress_base_options_command.py
    |   â”œâ”€â”€ simple_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ management
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ commands
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_utils
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_logentry.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ admin_views
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ custom_has_permission_admin.py
    |   â”œâ”€â”€ customadmin.py
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ admin
    |   |       â””â”€â”€ admin_views
    |   â”œâ”€â”€ test_actions.py
    |   â”œâ”€â”€ test_adminsite.py
    |   â”œâ”€â”€ test_autocomplete_view.py
    |   â”œâ”€â”€ test_breadcrumbs.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_history_view.py
    |   â”œâ”€â”€ test_multidb.py
    |   â”œâ”€â”€ test_nav_sidebar.py
    |   â”œâ”€â”€ test_skip_link_to_content.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ admin_widgets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_autocomplete_widget.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ widgetadmin.py
    â”œâ”€â”€ aggregation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_filter_argument.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ aggregation_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ annotations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ app_loading
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ eggs
    |   â”œâ”€â”€ not_installed
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ apps
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ namespace_package_base
    |   |   â””â”€â”€ nsapp
    |   |       â””â”€â”€ apps.py
    |   â”œâ”€â”€ namespace_package_other_base
    |   |   â””â”€â”€ nsapp
    |   â”œâ”€â”€ no_config_app
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ one_config_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ two_configs_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â”œâ”€â”€ two_configs_one_default_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ apps.py
    |   â””â”€â”€ two_default_configs_app
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ apps.py
    â”œâ”€â”€ asgi
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ project
    |   |   â””â”€â”€ static
    |   |       â””â”€â”€ file.txt
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ async
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_async_model_methods.py
    |   â”œâ”€â”€ test_async_queryset.py
    |   â”œâ”€â”€ test_async_related_managers.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ auth_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ backend_alias.py
    |   â”œâ”€â”€ client.py
    |   â”œâ”€â”€ common-passwords-custom.txt
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ custom_permissions.py
    |   |   â”œâ”€â”€ custom_user.py
    |   |   â”œâ”€â”€ invalid_models.py
    |   |   â”œâ”€â”€ is_active.py
    |   |   â”œâ”€â”€ minimal.py
    |   |   â”œâ”€â”€ no_password.py
    |   |   â”œâ”€â”€ proxy.py
    |   |   â”œâ”€â”€ uuid_pk.py
    |   |   â”œâ”€â”€ with_custom_email_field.py
    |   |   â”œâ”€â”€ with_foreign_key.py
    |   |   â”œâ”€â”€ with_integer_username.py
    |   |   â”œâ”€â”€ with_last_login_attr.py
    |   |   â”œâ”€â”€ with_many_to_many.py
    |   |   â””â”€â”€ with_unique_constraint.py
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ context_processors
    |   |   â””â”€â”€ registration
    |   |       â””â”€â”€ password_reset_subject.txt
    |   â”œâ”€â”€ test_admin_multidb.py
    |   â”œâ”€â”€ test_auth_backends.py
    |   â”œâ”€â”€ test_basic.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_context_processors.py
    |   â”œâ”€â”€ test_decorators.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_handlers.py
    |   â”œâ”€â”€ test_hashers.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_migrations.py
    |   â”œâ”€â”€ test_mixins.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_remote_user.py
    |   â”œâ”€â”€ test_signals.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ test_tokens.py
    |   â”œâ”€â”€ test_validators.py
    |   â”œâ”€â”€ test_views.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_admin.py
    |   â””â”€â”€ urls_custom_user_admin.py
    â”œâ”€â”€ backends
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_unmigrated
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ test_base.py
    |   |   â”œâ”€â”€ test_client.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ test_schema.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ mysql
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_schema.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ oracle
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ postgresql
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â”œâ”€â”€ test_server_side_cursors.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ sqlite
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_creation.py
    |   |   â”œâ”€â”€ test_features.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_introspection.py
    |   |   â”œâ”€â”€ test_operations.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ test_ddl_references.py
    |   â”œâ”€â”€ test_utils.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ base
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ models.py
    â”œâ”€â”€ bash_completion
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ management
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ commands
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ test_command.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ basic
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ builtin_server
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ bulk_create
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ cache
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ closeable_cache.py
    |   â”œâ”€â”€ liberal_backend.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ tests_async.py
    â”œâ”€â”€ check_framework
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ template_test_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ different_tags_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ apps.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â”œâ”€â”€ same_tags_app_1
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ apps.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â””â”€â”€ same_tags_app_2
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ apps.py
    |   |       â””â”€â”€ templatetags
    |   â”œâ”€â”€ test_4_0_compatibility.py
    |   â”œâ”€â”€ test_async_checks.py
    |   â”œâ”€â”€ test_caches.py
    |   â”œâ”€â”€ test_database.py
    |   â”œâ”€â”€ test_files.py
    |   â”œâ”€â”€ test_model_checks.py
    |   â”œâ”€â”€ test_model_field_deprecation.py
    |   â”œâ”€â”€ test_multi_db.py
    |   â”œâ”€â”€ test_security.py
    |   â”œâ”€â”€ test_templates.py
    |   â”œâ”€â”€ test_translation.py
    |   â”œâ”€â”€ test_urls.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ bad_class_based_error_handlers.py
    |       â”œâ”€â”€ bad_error_handlers_invalid_path.py
    |       â”œâ”€â”€ bad_function_based_error_handlers.py
    |       â”œâ”€â”€ beginning_with_slash.py
    |       â”œâ”€â”€ cbv_as_view.py
    |       â”œâ”€â”€ contains_tuple.py
    |       â”œâ”€â”€ good_class_based_error_handlers.py
    |       â”œâ”€â”€ good_function_based_error_handlers.py
    |       â”œâ”€â”€ include_contains_tuple.py
    |       â”œâ”€â”€ include_with_dollar.py
    |       â”œâ”€â”€ name_with_colon.py
    |       â”œâ”€â”€ no_warnings.py
    |       â”œâ”€â”€ no_warnings_i18n.py
    |       â”œâ”€â”€ non_unique_namespaces.py
    |       â”œâ”€â”€ path_compatibility
    |       |   â”œâ”€â”€ __init__.py
    |       |   â”œâ”€â”€ beginning_with_caret.py
    |       |   â”œâ”€â”€ contains_re_named_group.py
    |       |   â””â”€â”€ ending_with_dollar.py
    |       â”œâ”€â”€ unique_namespaces.py
    |       â””â”€â”€ warning_in_include.py
    â”œâ”€â”€ conditional_processing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ constraints
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ contenttypes_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ operations_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_rename_foo.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_fields.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_migrations.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_order_with_respect_to.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ context_processors
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ context_processors
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ csrf_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ csrf_token_error_handler_urls.py
    |   â”œâ”€â”€ test_context_processor.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ custom_columns
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_lookups
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_managers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_methods
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ custom_migration_operations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ more_operations.py
    |   â””â”€â”€ operations.py
    â”œâ”€â”€ custom_pk
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ datatypes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dates
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ datetimes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ db_functions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ comparison
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_cast.py
    |   |   â”œâ”€â”€ test_coalesce.py
    |   |   â”œâ”€â”€ test_collate.py
    |   |   â”œâ”€â”€ test_greatest.py
    |   |   â”œâ”€â”€ test_json_object.py
    |   |   â”œâ”€â”€ test_least.py
    |   |   â””â”€â”€ test_nullif.py
    |   â”œâ”€â”€ datetime
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_extract_trunc.py
    |   |   â””â”€â”€ test_now.py
    |   â”œâ”€â”€ math
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_abs.py
    |   |   â”œâ”€â”€ test_acos.py
    |   |   â”œâ”€â”€ test_asin.py
    |   |   â”œâ”€â”€ test_atan.py
    |   |   â”œâ”€â”€ test_atan2.py
    |   |   â”œâ”€â”€ test_ceil.py
    |   |   â”œâ”€â”€ test_cos.py
    |   |   â”œâ”€â”€ test_cot.py
    |   |   â”œâ”€â”€ test_degrees.py
    |   |   â”œâ”€â”€ test_exp.py
    |   |   â”œâ”€â”€ test_floor.py
    |   |   â”œâ”€â”€ test_ln.py
    |   |   â”œâ”€â”€ test_log.py
    |   |   â”œâ”€â”€ test_mod.py
    |   |   â”œâ”€â”€ test_pi.py
    |   |   â”œâ”€â”€ test_power.py
    |   |   â”œâ”€â”€ test_radians.py
    |   |   â”œâ”€â”€ test_random.py
    |   |   â”œâ”€â”€ test_round.py
    |   |   â”œâ”€â”€ test_sign.py
    |   |   â”œâ”€â”€ test_sin.py
    |   |   â”œâ”€â”€ test_sqrt.py
    |   |   â””â”€â”€ test_tan.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   â”œâ”€â”€ 0002_create_test_models.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ text
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_chr.py
    |   |   â”œâ”€â”€ test_concat.py
    |   |   â”œâ”€â”€ test_left.py
    |   |   â”œâ”€â”€ test_length.py
    |   |   â”œâ”€â”€ test_lower.py
    |   |   â”œâ”€â”€ test_md5.py
    |   |   â”œâ”€â”€ test_ord.py
    |   |   â”œâ”€â”€ test_pad.py
    |   |   â”œâ”€â”€ test_repeat.py
    |   |   â”œâ”€â”€ test_replace.py
    |   |   â”œâ”€â”€ test_reverse.py
    |   |   â”œâ”€â”€ test_right.py
    |   |   â”œâ”€â”€ test_sha1.py
    |   |   â”œâ”€â”€ test_sha224.py
    |   |   â”œâ”€â”€ test_sha256.py
    |   |   â”œâ”€â”€ test_sha384.py
    |   |   â”œâ”€â”€ test_sha512.py
    |   |   â”œâ”€â”€ test_strindex.py
    |   |   â”œâ”€â”€ test_substr.py
    |   |   â”œâ”€â”€ test_trim.py
    |   |   â””â”€â”€ test_upper.py
    |   â””â”€â”€ window
    |       â”œâ”€â”€ __init__.py
    |       â””â”€â”€ test_validation.py
    â”œâ”€â”€ db_typecasts
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ db_utils
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dbshell
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fake_client.py
    |   â”œâ”€â”€ test_mysql.py
    |   â”œâ”€â”€ test_oracle.py
    |   â”œâ”€â”€ test_postgresql.py
    |   â”œâ”€â”€ test_sqlite.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ decorators
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ defer
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ defer_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ delete
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ delete_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ deprecation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_middleware_mixin.py
    |   â”œâ”€â”€ test_storages.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ dispatch
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ distinct_on_fields
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ empty
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ no_models
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ empty_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ test_commands.py
    â”œâ”€â”€ expressions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_queryset_values.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ expressions_case
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ expressions_window
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ extra_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_deconstruction
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_defaults
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ field_subclassing
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ file_storage
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_generate_filename.py
    |   â”œâ”€â”€ test_inmemory_storage.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ file_uploads
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ uploadhandler.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ files
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ filtered_relation
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures_model_package
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ fixtures_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ fixtures_1
    |   |   â””â”€â”€ inner
    |   â”œâ”€â”€ fixtures_2
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ flatpages_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ absolute_urls.py
    |   â”œâ”€â”€ no_slash_urls.py
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ flatpages
    |   |   â””â”€â”€ registration
    |   â”œâ”€â”€ test_csrf.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_sitemaps.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ force_insert_update
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ foreign_object
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ article.py
    |   |   â”œâ”€â”€ customers.py
    |   |   â”œâ”€â”€ empty_join.py
    |   |   â””â”€â”€ person.py
    |   â”œâ”€â”€ test_agnostic_order_trimjoin.py
    |   â”œâ”€â”€ test_empty_join.py
    |   â”œâ”€â”€ test_forms.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ forms_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ field_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ filepathfield_test_dir
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ a.py
    |   |   |   â”œâ”€â”€ ab.py
    |   |   |   â”œâ”€â”€ b.py
    |   |   |   â”œâ”€â”€ c
    |   |   |   â”œâ”€â”€ h
    |   |   |   â””â”€â”€ j
    |   |   â”œâ”€â”€ test_base.py
    |   |   â”œâ”€â”€ test_booleanfield.py
    |   |   â”œâ”€â”€ test_charfield.py
    |   |   â”œâ”€â”€ test_choicefield.py
    |   |   â”œâ”€â”€ test_combofield.py
    |   |   â”œâ”€â”€ test_datefield.py
    |   |   â”œâ”€â”€ test_datetimefield.py
    |   |   â”œâ”€â”€ test_decimalfield.py
    |   |   â”œâ”€â”€ test_durationfield.py
    |   |   â”œâ”€â”€ test_emailfield.py
    |   |   â”œâ”€â”€ test_filefield.py
    |   |   â”œâ”€â”€ test_filepathfield.py
    |   |   â”œâ”€â”€ test_floatfield.py
    |   |   â”œâ”€â”€ test_genericipaddressfield.py
    |   |   â”œâ”€â”€ test_imagefield.py
    |   |   â”œâ”€â”€ test_integerfield.py
    |   |   â”œâ”€â”€ test_jsonfield.py
    |   |   â”œâ”€â”€ test_multiplechoicefield.py
    |   |   â”œâ”€â”€ test_multivaluefield.py
    |   |   â”œâ”€â”€ test_nullbooleanfield.py
    |   |   â”œâ”€â”€ test_regexfield.py
    |   |   â”œâ”€â”€ test_slugfield.py
    |   |   â”œâ”€â”€ test_splitdatetimefield.py
    |   |   â”œâ”€â”€ test_timefield.py
    |   |   â”œâ”€â”€ test_typedchoicefield.py
    |   |   â”œâ”€â”€ test_typedmultiplechoicefield.py
    |   |   â”œâ”€â”€ test_urlfield.py
    |   |   â””â”€â”€ test_uuidfield.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ forms_tests
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ forms_tests
    |   â”œâ”€â”€ templatetags
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tags.py
    |   â”œâ”€â”€ tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ filepath_test_files
    |   |   |   â”œâ”€â”€ directory
    |   |   |   â””â”€â”€ real-text-file.txt
    |   |   â”œâ”€â”€ test_error_messages.py
    |   |   â”œâ”€â”€ test_forms.py
    |   |   â”œâ”€â”€ test_formsets.py
    |   |   â”œâ”€â”€ test_i18n.py
    |   |   â”œâ”€â”€ test_input_formats.py
    |   |   â”œâ”€â”€ test_media.py
    |   |   â”œâ”€â”€ test_renderers.py
    |   |   â”œâ”€â”€ test_utils.py
    |   |   â”œâ”€â”€ test_validators.py
    |   |   â”œâ”€â”€ test_widgets.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ views.py
    |   â””â”€â”€ widget_tests
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ base.py
    |       â”œâ”€â”€ test_checkboxinput.py
    |       â”œâ”€â”€ test_checkboxselectmultiple.py
    |       â”œâ”€â”€ test_clearablefileinput.py
    |       â”œâ”€â”€ test_dateinput.py
    |       â”œâ”€â”€ test_datetimeinput.py
    |       â”œâ”€â”€ test_fileinput.py
    |       â”œâ”€â”€ test_hiddeninput.py
    |       â”œâ”€â”€ test_input.py
    |       â”œâ”€â”€ test_multiplehiddeninput.py
    |       â”œâ”€â”€ test_multiwidget.py
    |       â”œâ”€â”€ test_nullbooleanselect.py
    |       â”œâ”€â”€ test_numberinput.py
    |       â”œâ”€â”€ test_passwordinput.py
    |       â”œâ”€â”€ test_radioselect.py
    |       â”œâ”€â”€ test_select.py
    |       â”œâ”€â”€ test_selectdatewidget.py
    |       â”œâ”€â”€ test_selectmultiple.py
    |       â”œâ”€â”€ test_splitdatetimewidget.py
    |       â”œâ”€â”€ test_splithiddendatetimewidget.py
    |       â”œâ”€â”€ test_textarea.py
    |       â”œâ”€â”€ test_textinput.py
    |       â”œâ”€â”€ test_timeinput.py
    |       â””â”€â”€ test_widget.py
    â”œâ”€â”€ from_db_value
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_inline_admin
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ generic_relations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_forms.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_relations_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ generic_views
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ generic_views
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ generic_views
    |   |   |   â””â”€â”€ robots.txt
    |   |   â””â”€â”€ registration
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_dates.py
    |   â”œâ”€â”€ test_detail.py
    |   â”œâ”€â”€ test_edit.py
    |   â”œâ”€â”€ test_list.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ get_earliest_or_latest
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ get_object_or_404
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ get_or_create
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ gis_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ data
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ ch-city
    |   |   â”œâ”€â”€ cities
    |   |   â”œâ”€â”€ counties
    |   |   â”œâ”€â”€ gas_lines
    |   |   â”œâ”€â”€ has_nulls
    |   |   â”œâ”€â”€ interstates
    |   |   â”œâ”€â”€ invalid
    |   |   â”œâ”€â”€ rasters
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ raster.numpy.txt
    |   |   |   â””â”€â”€ textrasters.py
    |   |   â”œâ”€â”€ test_point
    |   |   â”œâ”€â”€ test_poly
    |   |   â””â”€â”€ test_vrt
    |   â”œâ”€â”€ distapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ gdal_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_driver.py
    |   |   â”œâ”€â”€ test_ds.py
    |   |   â”œâ”€â”€ test_envelope.py
    |   |   â”œâ”€â”€ test_geom.py
    |   |   â”œâ”€â”€ test_raster.py
    |   |   â”œâ”€â”€ test_srs.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ geo3d
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ views.py
    |   â”œâ”€â”€ geoadmin
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls.py
    |   â”œâ”€â”€ geoapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ feeds.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â”œâ”€â”€ sitemaps.py
    |   |   â”œâ”€â”€ test_expressions.py
    |   |   â”œâ”€â”€ test_feeds.py
    |   |   â”œâ”€â”€ test_functions.py
    |   |   â”œâ”€â”€ test_indexes.py
    |   |   â”œâ”€â”€ test_regress.py
    |   |   â”œâ”€â”€ test_serializers.py
    |   |   â”œâ”€â”€ test_sitemaps.py
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls.py
    |   â”œâ”€â”€ geogapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ geos_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_coordseq.py
    |   |   â”œâ”€â”€ test_geos.py
    |   |   â”œâ”€â”€ test_geos_mutation.py
    |   |   â”œâ”€â”€ test_io.py
    |   |   â””â”€â”€ test_mutable_list.py
    |   â”œâ”€â”€ gis_migrations
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   |   â”œâ”€â”€ 0002_create_models.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_commands.py
    |   |   â””â”€â”€ test_operations.py
    |   â”œâ”€â”€ inspectapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ layermap
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ rasterapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ migrations
    |   |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   |   â”œâ”€â”€ 0002_rastermodels.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ test_rasterfield.py
    |   â”œâ”€â”€ relatedapp
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ fixtures
    |   |   â”œâ”€â”€ models.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ test_data.py
    |   â”œâ”€â”€ test_fields.py
    |   â”œâ”€â”€ test_geoforms.py
    |   â”œâ”€â”€ test_geoip2.py
    |   â”œâ”€â”€ test_gis_tests_utils.py
    |   â”œâ”€â”€ test_measure.py
    |   â”œâ”€â”€ test_ptr.py
    |   â”œâ”€â”€ test_spatialrefsys.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ handlers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ test_exception.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ tests_custom_error_handlers.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ httpwrappers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ abc.txt
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ humanize_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ i18n
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ commands
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_with_locale
    |   |   |   â””â”€â”€ locale
    |   |   â”œâ”€â”€ ignore_dir
    |   |   â”œâ”€â”€ javascript.js
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â”œâ”€â”€ es_AR
    |   |   |   â”œâ”€â”€ fr
    |   |   |   â”œâ”€â”€ hr
    |   |   |   â”œâ”€â”€ ja
    |   |   |   â”œâ”€â”€ ko
    |   |   |   â”œâ”€â”€ pt_BR
    |   |   |   â”œâ”€â”€ ru
    |   |   |   â””â”€â”€ xxx
    |   |   â”œâ”€â”€ media_root
    |   |   â”œâ”€â”€ someapp
    |   |   |   â””â”€â”€ static
    |   |   â”œâ”€â”€ static
    |   |   |   â””â”€â”€ javascript_ignored.js
    |   |   â””â”€â”€ templates
    |   |       â””â”€â”€ subdir
    |   â”œâ”€â”€ contenttypes
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â””â”€â”€ fr
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ exclude
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ canned_locale
    |   |       â”œâ”€â”€ en
    |   |       â”œâ”€â”€ fr
    |   |       â””â”€â”€ it
    |   â”œâ”€â”€ forms.py
    |   â”œâ”€â”€ loading
    |   |   â”œâ”€â”€ en
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â”œâ”€â”€ en_AU
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â”œâ”€â”€ en_CA
    |   |   |   â””â”€â”€ LC_MESSAGES
    |   |   â””â”€â”€ en_NZ
    |   |       â””â”€â”€ LC_MESSAGES
    |   â”œâ”€â”€ loading_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ apps.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ en
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ other
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ de
    |   |       â””â”€â”€ fr
    |   â”œâ”€â”€ other2
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ patterns
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ locale
    |   |   |   â”œâ”€â”€ en
    |   |   |   â”œâ”€â”€ nl
    |   |   |   â””â”€â”€ pt_BR
    |   |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ tests.py
    |   |   â””â”€â”€ urls
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ default.py
    |   |       â”œâ”€â”€ disabled.py
    |   |       â”œâ”€â”€ included.py
    |   |       â”œâ”€â”€ namespace.py
    |   |       â”œâ”€â”€ path_unused.py
    |   |       â”œâ”€â”€ wrong.py
    |   |       â””â”€â”€ wrong_namespace.py
    |   â”œâ”€â”€ project_dir
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app_no_locale
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ app_with_locale
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ locale
    |   |   |   â””â”€â”€ models.py
    |   |   â””â”€â”€ project_locale
    |   â”œâ”€â”€ resolution
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ sampleproject
    |   |   â”œâ”€â”€ locale
    |   |   |   â””â”€â”€ fr
    |   |   â”œâ”€â”€ manage.py
    |   |   â”œâ”€â”€ sampleproject
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ settings.py
    |   |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ update_catalogs.py
    |   â”œâ”€â”€ territorial_fallback
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â”œâ”€â”€ de
    |   |       â””â”€â”€ de_DE
    |   â”œâ”€â”€ test_compilation.py
    |   â”œâ”€â”€ test_extraction.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_percents.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ unchanged
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ locale
    |   |       â””â”€â”€ de
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_default_unprefixed.py
    |   â””â”€â”€ utils.py
    â”œâ”€â”€ import_error_package
    |   â””â”€â”€ __init__.py
    â”œâ”€â”€ indexes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ inline_formsets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ inspectdb
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ introspection
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ invalid_models_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_backend_specific.py
    |   â”œâ”€â”€ test_custom_fields.py
    |   â”œâ”€â”€ test_deprecated_fields.py
    |   â”œâ”€â”€ test_models.py
    |   â”œâ”€â”€ test_ordinary_fields.py
    |   â””â”€â”€ test_relative_fields.py
    â”œâ”€â”€ known_related_objects
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ logging_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ logconfig.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_i18n.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_decimalfield.py
    |   â”œâ”€â”€ test_lookups.py
    |   â”œâ”€â”€ test_timefield.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_and_m2o
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_intermediary
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_multiple
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_recursive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_through
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2m_through_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_multitable.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ m2o_recursive
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ mail
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ attachments
    |   |   â”œâ”€â”€ file.txt
    |   |   â””â”€â”€ file_png.txt
    |   â”œâ”€â”€ custombackend.py
    |   â”œâ”€â”€ test_sendtestemail.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ managers_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_many
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_one
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ many_to_one_null
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ max_lengths
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ messages_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_api.py
    |   â”œâ”€â”€ test_cookie.py
    |   â”œâ”€â”€ test_fallback.py
    |   â”œâ”€â”€ test_middleware.py
    |   â”œâ”€â”€ test_mixins.py
    |   â”œâ”€â”€ test_session.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ middleware
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ cond_get_urls.py
    |   â”œâ”€â”€ extra_urls.py
    |   â”œâ”€â”€ test_security.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ middleware_exceptions
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ middleware.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ migrate_signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ custom_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ migration_test_data_persistence
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_add_book.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ migrations
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ deprecated_field_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_remove_ipaddressfield_ip.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ faulty_migrations
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ file.py
    |   |   â””â”€â”€ namespace
    |   |       â””â”€â”€ foo
    |   â”œâ”€â”€ migrations_test_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ alter_fk
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ author_app
    |   |   |   â””â”€â”€ book_app
    |   |   â”œâ”€â”€ conflicting_app_with_dependencies
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ lookuperror_a
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ lookuperror_b
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ lookuperror_c
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ migrated_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ migrated_unapplied_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ mutate_state_a
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ mutate_state_b
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ migrations
    |   |   â”œâ”€â”€ normal
    |   |   |   â””â”€â”€ __init__.py
    |   |   â”œâ”€â”€ unmigrated_app
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unmigrated_app_simple
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unmigrated_app_syncdb
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ unspecified_app_with_conflict
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ migrations
    |   |   |   â””â”€â”€ models.py
    |   |   â”œâ”€â”€ with_package_model
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ models
    |   |   â””â”€â”€ without_init_file
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ migrations
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ related_models_app
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ routers.py
    |   â”œâ”€â”€ test_add_many_to_many_field_initial
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_auto_now_add
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_autodetector.py
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_commands.py
    |   â”œâ”€â”€ test_deprecated_fields.py
    |   â”œâ”€â”€ test_exceptions.py
    |   â”œâ”€â”€ test_executor.py
    |   â”œâ”€â”€ test_fake_initial_case_insensitive
    |   |   â”œâ”€â”€ fake_initial
    |   |   |   â”œâ”€â”€ 0001_initial.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ initial
    |   |       â”œâ”€â”€ 0001_initial.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_graph.py
    |   â”œâ”€â”€ test_loader.py
    |   â”œâ”€â”€ test_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_atomic_operation
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_backwards_deps_1
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ 0002_second.py
    |   â”œâ”€â”€ test_migrations_bad_pyc
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_clashing_prefix
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ a.py
    |   |   â””â”€â”€ ab.py
    |   â”œâ”€â”€ test_migrations_conflict
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_conflict_long_name
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second_migration_with_long_name.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_custom_user
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_empty
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_fake_split_initial
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_first
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ second.py
    |   |   â””â”€â”€ thefirst.py
    |   â”œâ”€â”€ test_migrations_initial_false
    |   |   â”œâ”€â”€ 0001_not_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_manual_porting
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â”œâ”€â”€ 0004_fourth.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_namespace_package
    |   |   â””â”€â”€ 0001_initial.py
    |   â”œâ”€â”€ test_migrations_no_ancestor
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_conflicting_second.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_changes
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_default
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_no_init
    |   â”œâ”€â”€ test_migrations_no_operations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_non_atomic
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_noop
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_order
    |   |   â”œâ”€â”€ 0001.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_plan
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â”œâ”€â”€ 0004_fourth.py
    |   |   â”œâ”€â”€ 0005_fifth.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_private
    |   |   â”œâ”€â”€ .util.py
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ _util.py
    |   |   â””â”€â”€ ~util.py
    |   â”œâ”€â”€ test_migrations_run_before
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_complex
    |   |   â”œâ”€â”€ 1_auto.py
    |   |   â”œâ”€â”€ 2_auto.py
    |   |   â”œâ”€â”€ 3_auto.py
    |   |   â”œâ”€â”€ 3_squashed_5.py
    |   |   â”œâ”€â”€ 4_auto.py
    |   |   â”œâ”€â”€ 5_auto.py
    |   |   â”œâ”€â”€ 6_auto.py
    |   |   â”œâ”€â”€ 7_auto.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_complex_multi_apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app1
    |   |   |   â”œâ”€â”€ 1_auto.py
    |   |   |   â”œâ”€â”€ 2_auto.py
    |   |   |   â”œâ”€â”€ 2_squashed_3.py
    |   |   |   â”œâ”€â”€ 3_auto.py
    |   |   |   â”œâ”€â”€ 4_auto.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ app2
    |   |       â”œâ”€â”€ 1_auto.py
    |   |       â”œâ”€â”€ 1_squashed_2.py
    |   |       â”œâ”€â”€ 2_auto.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_erroneous
    |   |   â”œâ”€â”€ 1_auto.py
    |   |   â”œâ”€â”€ 2_auto.py
    |   |   â”œâ”€â”€ 3_squashed_5.py
    |   |   â”œâ”€â”€ 6_auto.py
    |   |   â”œâ”€â”€ 7_auto.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_extra
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â”œâ”€â”€ 0003_third.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_no_replaces
    |   |   â”œâ”€â”€ 0001_squashed_0002.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_squashed_ref_squashed
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ app1
    |   |   |   â”œâ”€â”€ 1_auto.py
    |   |   |   â”œâ”€â”€ 2_auto.py
    |   |   |   â”œâ”€â”€ 2_squashed_3.py
    |   |   |   â”œâ”€â”€ 3_auto.py
    |   |   |   â”œâ”€â”€ 4_auto.py
    |   |   |   â””â”€â”€ __init__.py
    |   |   â””â”€â”€ app2
    |   |       â”œâ”€â”€ 1_auto.py
    |   |       â”œâ”€â”€ 1_squashed_2.py
    |   |       â”œâ”€â”€ 2_auto.py
    |   |       â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_unmigdep
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_multidb.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_optimizer.py
    |   â”œâ”€â”€ test_questioner.py
    |   â”œâ”€â”€ test_state.py
    |   â””â”€â”€ test_writer.py
    â”œâ”€â”€ migrations2
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_migrations_2
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ test_migrations_2_first
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_second.py
    |   |   â””â”€â”€ __init__.py
    |   â””â”€â”€ test_migrations_2_no_deps
    |       â”œâ”€â”€ 0001_initial.py
    |       â””â”€â”€ __init__.py
    â”œâ”€â”€ model_enums
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_fields
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_autofield.py
    |   â”œâ”€â”€ test_binaryfield.py
    |   â”œâ”€â”€ test_booleanfield.py
    |   â”œâ”€â”€ test_charfield.py
    |   â”œâ”€â”€ test_datetimefield.py
    |   â”œâ”€â”€ test_decimalfield.py
    |   â”œâ”€â”€ test_durationfield.py
    |   â”œâ”€â”€ test_field_flags.py
    |   â”œâ”€â”€ test_filefield.py
    |   â”œâ”€â”€ test_filepathfield.py
    |   â”œâ”€â”€ test_floatfield.py
    |   â”œâ”€â”€ test_foreignkey.py
    |   â”œâ”€â”€ test_genericipaddressfield.py
    |   â”œâ”€â”€ test_imagefield.py
    |   â”œâ”€â”€ test_integerfield.py
    |   â”œâ”€â”€ test_jsonfield.py
    |   â”œâ”€â”€ test_manytomanyfield.py
    |   â”œâ”€â”€ test_promises.py
    |   â”œâ”€â”€ test_slugfield.py
    |   â”œâ”€â”€ test_textfield.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_forms
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_modelchoicefield.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_formsets
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_formsets_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_indexes
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_inheritance
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_abstract_inheritance.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_inheritance_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_meta
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ results.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_options
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ default_related_name.py
    |   |   â””â”€â”€ tablespaces.py
    |   â”œâ”€â”€ test_default_pk.py
    |   â”œâ”€â”€ test_default_related_name.py
    |   â””â”€â”€ test_tablespaces.py
    â”œâ”€â”€ model_package
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ article.py
    |   |   â””â”€â”€ publication.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_pickle.py
    |   â”œâ”€â”€ test_state.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ model_utils
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ modeladmin
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_actions.py
    |   â”œâ”€â”€ test_checks.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ multiple_database
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ routers.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ mutually_referential
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ nested_foreign_keys
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ no_models
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_fk
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_fk_ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ null_queries
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ one_to_one
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ or_lookups
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ order_with_respect_to
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base_tests.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ ordering
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ pagination
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ custom.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ postgres_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ array_default_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â”œâ”€â”€ 0002_integerarraymodel_field_2.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ array_index_migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ integration_settings.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_setup_extensions.py
    |   |   â”œâ”€â”€ 0002_create_test_models.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_aggregates.py
    |   â”œâ”€â”€ test_apps.py
    |   â”œâ”€â”€ test_array.py
    |   â”œâ”€â”€ test_bulk_update.py
    |   â”œâ”€â”€ test_citext.py
    |   â”œâ”€â”€ test_constraints.py
    |   â”œâ”€â”€ test_functions.py
    |   â”œâ”€â”€ test_hstore.py
    |   â”œâ”€â”€ test_indexes.py
    |   â”œâ”€â”€ test_integration.py
    |   â”œâ”€â”€ test_introspection.py
    |   â”œâ”€â”€ test_operations.py
    |   â”œâ”€â”€ test_ranges.py
    |   â”œâ”€â”€ test_search.py
    |   â”œâ”€â”€ test_signals.py
    |   â”œâ”€â”€ test_trigram.py
    |   â””â”€â”€ test_unaccent.py
    â”œâ”€â”€ prefetch_related
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_prefetch_related_objects.py
    |   â”œâ”€â”€ test_uuid.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ project_template
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_settings.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ properties
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ proxy_model_inheritance
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ app1
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ app2
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ models.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ proxy_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ admin.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ queries
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_bulk_update.py
    |   â”œâ”€â”€ test_contains.py
    |   â”œâ”€â”€ test_db_returning.py
    |   â”œâ”€â”€ test_explain.py
    |   â”œâ”€â”€ test_iterator.py
    |   â”œâ”€â”€ test_q.py
    |   â”œâ”€â”€ test_qs_combinators.py
    |   â”œâ”€â”€ test_query.py
    |   â”œâ”€â”€ test_sqlcompiler.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ queryset_pickle
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ raw_query
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ redirects_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ requests_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_accept_header.py
    |   â”œâ”€â”€ test_data_upload_settings.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ requirements
    |   â”œâ”€â”€ mysql.txt
    |   â”œâ”€â”€ oracle.txt
    |   â”œâ”€â”€ postgres.txt
    |   â””â”€â”€ py3.txt
    â”œâ”€â”€ reserved_names
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ resolve_url
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ responses
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ test_cookie.py
    |   â”œâ”€â”€ test_fileresponse.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ reverse_lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ runtests.py
    â”œâ”€â”€ save_delete_hooks
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ schema
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fields.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ test_logging.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_for_update
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related_onetoone
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ select_related_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ serializers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ base.py
    |   |   â”œâ”€â”€ data.py
    |   |   â”œâ”€â”€ multi_table.py
    |   |   â””â”€â”€ natural.py
    |   â”œâ”€â”€ test_data.py
    |   â”œâ”€â”€ test_deserializedobject.py
    |   â”œâ”€â”€ test_json.py
    |   â”œâ”€â”€ test_jsonl.py
    |   â”œâ”€â”€ test_natural.py
    |   â”œâ”€â”€ test_xml.py
    |   â”œâ”€â”€ test_yaml.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ servers
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ another_app
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ static
    |   |       â””â”€â”€ another_app
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ media
    |   |   â””â”€â”€ example_media_file.txt
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ static
    |   |   â””â”€â”€ example_static_file.txt
    |   â”œâ”€â”€ test_basehttp.py
    |   â”œâ”€â”€ test_liveserverthread.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ sessions_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ no_clear_expired.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ settings_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ shell
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ shortcuts
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ shortcuts
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ shortcuts
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ signals
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ signed_cookies_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ signing
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ sitemaps_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ base.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ test_generic.py
    |   â”œâ”€â”€ test_http.py
    |   â”œâ”€â”€ test_https.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_utils.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ empty.py
    |       â”œâ”€â”€ http.py
    |       â”œâ”€â”€ https.py
    |       â”œâ”€â”€ index_only.py
    |       â””â”€â”€ sitemap_only.py
    â”œâ”€â”€ sites_framework
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ migrations
    |   |   â”œâ”€â”€ 0001_initial.py
    |   |   â””â”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ sites_tests
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ staticfiles_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ no_label
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ static
    |   |   â”œâ”€â”€ staticfiles_config.py
    |   |   â””â”€â”€ test
    |   |       â”œâ”€â”€ __init__.py
    |   |       â”œâ”€â”€ otherdir
    |   |       â””â”€â”€ static
    |   â”œâ”€â”€ cases.py
    |   â”œâ”€â”€ project
    |   |   â”œâ”€â”€ documents
    |   |   |   â”œâ”€â”€ absolute_root.js
    |   |   |   â”œâ”€â”€ cached
    |   |   |   â”œâ”€â”€ nested
    |   |   |   â”œâ”€â”€ subdir
    |   |   |   â”œâ”€â”€ test
    |   |   |   â””â”€â”€ test.txt
    |   |   â”œâ”€â”€ faulty
    |   |   â”œâ”€â”€ loop
    |   |   â”œâ”€â”€ pathlib
    |   |   |   â””â”€â”€ pathlib.txt
    |   |   â”œâ”€â”€ prefixed
    |   |   |   â””â”€â”€ test.txt
    |   |   â””â”€â”€ site_media
    |   |       â”œâ”€â”€ media
    |   |       â””â”€â”€ static
    |   â”œâ”€â”€ settings.py
    |   â”œâ”€â”€ storage.py
    |   â”œâ”€â”€ test_checks.py
    |   â”œâ”€â”€ test_finders.py
    |   â”œâ”€â”€ test_forms.py
    |   â”œâ”€â”€ test_handlers.py
    |   â”œâ”€â”€ test_liveserver.py
    |   â”œâ”€â”€ test_management.py
    |   â”œâ”€â”€ test_storage.py
    |   â”œâ”€â”€ test_templatetags.py
    |   â”œâ”€â”€ test_utils.py
    |   â”œâ”€â”€ test_views.py
    |   â””â”€â”€ urls
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ default.py
    |       â””â”€â”€ helper.py
    â”œâ”€â”€ str
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ string_lookup
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ swappable_models
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ syndication_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ feeds.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ syndication
    |   â”œâ”€â”€ tests.py
    |   â””â”€â”€ urls.py
    â”œâ”€â”€ template_backends
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ apps
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ good
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ templatetags
    |   |   â””â”€â”€ importerror
    |   |       â”œâ”€â”€ __init__.py
    |   |       â””â”€â”€ templatetags
    |   â”œâ”€â”€ forbidden
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ template_strings
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_backends
    |   â”œâ”€â”€ test_django.py
    |   â”œâ”€â”€ test_dummy.py
    |   â”œâ”€â”€ test_jinja2.py
    |   â””â”€â”€ test_utils.py
    â”œâ”€â”€ template_loader
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ template_strings
    |   |   â””â”€â”€ template_loader
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_loader
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ template_tests
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ alternate_urls.py
    |   â”œâ”€â”€ annotated_tag_function.py
    |   â”œâ”€â”€ broken_tag.py
    |   â”œâ”€â”€ eggs
    |   â”œâ”€â”€ filter_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ test_add.py
    |   |   â”œâ”€â”€ test_addslashes.py
    |   |   â”œâ”€â”€ test_autoescape.py
    |   |   â”œâ”€â”€ test_capfirst.py
    |   |   â”œâ”€â”€ test_center.py
    |   |   â”œâ”€â”€ test_chaining.py
    |   |   â”œâ”€â”€ test_cut.py
    |   |   â”œâ”€â”€ test_date.py
    |   |   â”œâ”€â”€ test_default.py
    |   |   â”œâ”€â”€ test_default_if_none.py
    |   |   â”œâ”€â”€ test_dictsort.py
    |   |   â”œâ”€â”€ test_dictsortreversed.py
    |   |   â”œâ”€â”€ test_divisibleby.py
    |   |   â”œâ”€â”€ test_escape.py
    |   |   â”œâ”€â”€ test_escapejs.py
    |   |   â”œâ”€â”€ test_filesizeformat.py
    |   |   â”œâ”€â”€ test_first.py
    |   |   â”œâ”€â”€ test_floatformat.py
    |   |   â”œâ”€â”€ test_force_escape.py
    |   |   â”œâ”€â”€ test_get_digit.py
    |   |   â”œâ”€â”€ test_iriencode.py
    |   |   â”œâ”€â”€ test_join.py
    |   |   â”œâ”€â”€ test_json_script.py
    |   |   â”œâ”€â”€ test_last.py
    |   |   â”œâ”€â”€ test_length.py
    |   |   â”œâ”€â”€ test_length_is.py
    |   |   â”œâ”€â”€ test_linebreaks.py
    |   |   â”œâ”€â”€ test_linebreaksbr.py
    |   |   â”œâ”€â”€ test_linenumbers.py
    |   |   â”œâ”€â”€ test_ljust.py
    |   |   â”œâ”€â”€ test_lower.py
    |   |   â”œâ”€â”€ test_make_list.py
    |   |   â”œâ”€â”€ test_phone2numeric.py
    |   |   â”œâ”€â”€ test_pluralize.py
    |   |   â”œâ”€â”€ test_random.py
    |   |   â”œâ”€â”€ test_rjust.py
    |   |   â”œâ”€â”€ test_safe.py
    |   |   â”œâ”€â”€ test_safeseq.py
    |   |   â”œâ”€â”€ test_slice.py
    |   |   â”œâ”€â”€ test_slugify.py
    |   |   â”œâ”€â”€ test_stringformat.py
    |   |   â”œâ”€â”€ test_striptags.py
    |   |   â”œâ”€â”€ test_time.py
    |   |   â”œâ”€â”€ test_timesince.py
    |   |   â”œâ”€â”€ test_timeuntil.py
    |   |   â”œâ”€â”€ test_title.py
    |   |   â”œâ”€â”€ test_truncatechars.py
    |   |   â”œâ”€â”€ test_truncatechars_html.py
    |   |   â”œâ”€â”€ test_truncatewords.py
    |   |   â”œâ”€â”€ test_truncatewords_html.py
    |   |   â”œâ”€â”€ test_unordered_list.py
    |   |   â”œâ”€â”€ test_upper.py
    |   |   â”œâ”€â”€ test_urlencode.py
    |   |   â”œâ”€â”€ test_urlize.py
    |   |   â”œâ”€â”€ test_urlizetrunc.py
    |   |   â”œâ”€â”€ test_wordcount.py
    |   |   â”œâ”€â”€ test_wordwrap.py
    |   |   â”œâ”€â”€ test_yesno.py
    |   |   â””â”€â”€ timezone_utils.py
    |   â”œâ”€â”€ jinja2
    |   |   â””â”€â”€ template_tests
    |   â”œâ”€â”€ other_templates
    |   |   â””â”€â”€ priority
    |   â”œâ”€â”€ recursive_templates
    |   |   â”œâ”€â”€ fs
    |   |   â”œâ”€â”€ fs2
    |   |   â””â”€â”€ fs3
    |   â”œâ”€â”€ relative_templates
    |   |   â””â”€â”€ dir1
    |   |       â””â”€â”€ dir2
    |   â”œâ”€â”€ syntax_tests
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ i18n
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â”œâ”€â”€ base.py
    |   |   |   â”œâ”€â”€ test_blocktranslate.py
    |   |   |   â”œâ”€â”€ test_filters.py
    |   |   |   â”œâ”€â”€ test_get_available_languages.py
    |   |   |   â”œâ”€â”€ test_get_current_language.py
    |   |   |   â”œâ”€â”€ test_get_current_language_bidi.py
    |   |   |   â”œâ”€â”€ test_get_language_info.py
    |   |   |   â”œâ”€â”€ test_get_language_info_list.py
    |   |   |   â”œâ”€â”€ test_language.py
    |   |   |   â”œâ”€â”€ test_translate.py
    |   |   |   â””â”€â”€ test_underscore_syntax.py
    |   |   â”œâ”€â”€ test_autoescape.py
    |   |   â”œâ”€â”€ test_basic.py
    |   |   â”œâ”€â”€ test_builtins.py
    |   |   â”œâ”€â”€ test_cache.py
    |   |   â”œâ”€â”€ test_comment.py
    |   |   â”œâ”€â”€ test_cycle.py
    |   |   â”œâ”€â”€ test_debug.py
    |   |   â”œâ”€â”€ test_exceptions.py
    |   |   â”œâ”€â”€ test_extends.py
    |   |   â”œâ”€â”€ test_filter_syntax.py
    |   |   â”œâ”€â”€ test_filter_tag.py
    |   |   â”œâ”€â”€ test_firstof.py
    |   |   â”œâ”€â”€ test_for.py
    |   |   â”œâ”€â”€ test_if.py
    |   |   â”œâ”€â”€ test_if_changed.py
    |   |   â”œâ”€â”€ test_include.py
    |   |   â”œâ”€â”€ test_invalid_string.py
    |   |   â”œâ”€â”€ test_list_index.py
    |   |   â”œâ”€â”€ test_load.py
    |   |   â”œâ”€â”€ test_lorem.py
    |   |   â”œâ”€â”€ test_multiline.py
    |   |   â”œâ”€â”€ test_named_endblock.py
    |   |   â”œâ”€â”€ test_now.py
    |   |   â”œâ”€â”€ test_numpy.py
    |   |   â”œâ”€â”€ test_regroup.py
    |   |   â”œâ”€â”€ test_resetcycle.py
    |   |   â”œâ”€â”€ test_setup.py
    |   |   â”œâ”€â”€ test_simple_tag.py
    |   |   â”œâ”€â”€ test_spaceless.py
    |   |   â”œâ”€â”€ test_static.py
    |   |   â”œâ”€â”€ test_template_tag.py
    |   |   â”œâ”€â”€ test_url.py
    |   |   â”œâ”€â”€ test_verbatim.py
    |   |   â”œâ”€â”€ test_width_ratio.py
    |   |   â””â”€â”€ test_with.py
    |   â”œâ”€â”€ templates
    |   |   â”œâ”€â”€ first
    |   |   â”œâ”€â”€ priority
    |   |   â”œâ”€â”€ second
    |   |   â””â”€â”€ template_tests
    |   â”œâ”€â”€ templatetags
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ bad_tag.py
    |   |   â”œâ”€â”€ custom.py
    |   |   â”œâ”€â”€ inclusion.py
    |   |   â”œâ”€â”€ subpackage
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ echo.py
    |   |   â”œâ”€â”€ tag_27584.py
    |   |   â””â”€â”€ testtags.py
    |   â”œâ”€â”€ test_autoreloader.py
    |   â”œâ”€â”€ test_base.py
    |   â”œâ”€â”€ test_callables.py
    |   â”œâ”€â”€ test_context.py
    |   â”œâ”€â”€ test_custom.py
    |   â”œâ”€â”€ test_engine.py
    |   â”œâ”€â”€ test_extends.py
    |   â”œâ”€â”€ test_extends_relative.py
    |   â”œâ”€â”€ test_library.py
    |   â”œâ”€â”€ test_loaders.py
    |   â”œâ”€â”€ test_logging.py
    |   â”œâ”€â”€ test_nodelist.py
    |   â”œâ”€â”€ test_origin.py
    |   â”œâ”€â”€ test_parser.py
    |   â”œâ”€â”€ test_response.py
    |   â”œâ”€â”€ test_smartif.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ utils.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ templates
    |   â”œâ”€â”€ comments
    |   |   â””â”€â”€ comment_notification_email.txt
    |   â”œâ”€â”€ custom_admin
    |   â””â”€â”€ views
    â”œâ”€â”€ test_client
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ auth_backends.py
    |   â”œâ”€â”€ test_conditional_content_removal.py
    |   â”œâ”€â”€ test_fakepayload.py
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â”œâ”€â”€ urls_middleware_urlconf.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ test_client_regress
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ auth_backends.py
    |   â”œâ”€â”€ bad_templates
    |   â”œâ”€â”€ context_processors.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ session.py
    |   â”œâ”€â”€ templates
    |   â”œâ”€â”€ tests.py
    |   â”œâ”€â”€ urls.py
    |   â””â”€â”€ views.py
    â”œâ”€â”€ test_exceptions
    |   â”œâ”€â”€ __init__.py
    |   â””â”€â”€ test_validation_error.py
    â”œâ”€â”€ test_runner
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ runner.py
    |   â”œâ”€â”€ test_debug_sql.py
    |   â”œâ”€â”€ test_discover_runner.py
    |   â”œâ”€â”€ test_parallel.py
    |   â”œâ”€â”€ test_shuffler.py
    |   â””â”€â”€ tests.py
    â”œâ”€â”€ test_runner_apps
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ buffer
    |   |   â””â”€â”€ tests_buffer.py
    |   â”œâ”€â”€ databases
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests.py
    |   â”œâ”€â”€ failures
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests_failures.py
    |   â”œâ”€â”€ sample
    |   |   â”œâ”€â”€ __init__.py
    |   |   â”œâ”€â”€ doctests.py
    |   |   â”œâ”€â”€ empty.py
    |   |   â”œâ”€â”€ pattern_tests.py
    |   |   â”œâ”€â”€ tests
    |   |   |   â”œâ”€â”€ __init__.py
    |   |   |   â””â”€â”€ tests.py
    |   |   â””â”€â”€ tests_sample.py
    |   â”œâ”€â”€ simple
    |   |   â”œâ”€â”€ __init__.py
    |   |   â””â”€â”€ tests.py
    |   â””â”€â”€ tagged
    |       â”œâ”€â”€ __init__.py
    |       â”œâ”€â”€ tests.py
    |       â”œâ”€â”€ tests_inheritance.py
    |       â””â”€â”€ tests_syntax_error.py
    â”œâ”€â”€ test_sqlite.py
    â”œâ”€â”€ test_utils
    |   â”œâ”€â”€ __init__.py
    |   â”œâ”€â”€ fixtures
    |   â”œâ”€â”€ models.py
    |   â”œâ”€â”€ templates
    |   |   â””â”€â”€ template_used
    |   â”œâ”€â”€ test_serializemixin.py
    |   â”œâ”€â”€ test_simpletestcase.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
Formsets' add_fields() method fails in some circumstances if the argument index is None.

Issue description: 
Description
	
Formsets' add_fields() method fails in some circumstances if the argument index is None.
When a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: '<' not supported between instances of 'NoneType' and 'int'. 
Code example:
MyFormSet = forms.formset_factory(
	form=MyForm,
	can_delete=True,
	can_delete_extra=False,
)
my_formset = MyFormSet(
	initial=None,
)
print(my_formset.empty_form)
The reason this happens is that in in line 493 of [django.forms.formsets](â€‹https://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:
if self.can_delete and (self.can_delete_extra or index < initial_form_count):
Checking for index not None should fix the issue:
if self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):
How to Reproduce
A self-contained example to reproduce this bug is as follows:
#!/usr/bin/env python3
import os
import django
from django import forms
class MyForm(forms.Form):
	my_field = forms.CharField()
if __name__ == "__main__":
	settings_file = os.path.splitext(os.path.basename(__file__))[0]
	django.conf.settings.configure(
		DEBUG=True,
		MIDDLEWARE_CLASSES=[],
		ROOT_URLCONF=settings_file,
	)
	django.setup()
	MyFormSet = forms.formset_factory(
		form=MyForm,
		can_delete=True,
		can_delete_extra=False,
	)
	my_formset = MyFormSet(
		initial=None,
	)
	print(my_formset.empty_form)

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/forms_tests/tests/test_formsets.py
Line number range: 1 - 1900
Content:
1. import datetime
2. from collections import Counter
3. from unittest import mock
4. 
5. from django.core.exceptions import ValidationError
6. from django.forms import (
7.     BaseForm,
8.     CharField,
9.     DateField,
10.     FileField,
11.     Form,
12.     IntegerField,
13.     SplitDateTimeField,
14.     formsets,
15. )
16. from django.forms.formsets import (
17.     INITIAL_FORM_COUNT,
18.     MAX_NUM_FORM_COUNT,
19.     MIN_NUM_FORM_COUNT,
20.     TOTAL_FORM_COUNT,
21.     BaseFormSet,
22.     ManagementForm,
23.     all_valid,
24.     formset_factory,
25. )
26. from django.forms.renderers import TemplatesSetting
27. from django.forms.utils import ErrorList
28. from django.forms.widgets import HiddenInput
29. from django.test import SimpleTestCase
30. 
31. from . import jinja2_tests
32. 
33. 
34. class Choice(Form):
35.     choice = CharField()
36.     votes = IntegerField()
37. 
38. 
39. ChoiceFormSet = formset_factory(Choice)
40. 
41. 
42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):
43.     def clean(self):
44.         super().clean()
45.         raise ValidationError("non-form error")
46. 
47. 
48. class FavoriteDrinkForm(Form):
49.     name = CharField()
50. 
51. 
52. class BaseFavoriteDrinksFormSet(BaseFormSet):
53.     def clean(self):
54.         seen_drinks = []
55. 
56.         for drink in self.cleaned_data:
57.             if drink["name"] in seen_drinks:
58.                 raise ValidationError("You may only specify a drink once.")
59. 
60.             seen_drinks.append(drink["name"])
61. 
62. 
63. # A FormSet that takes a list of favorite drinks and raises an error if
64. # there are any duplicates.
65. FavoriteDrinksFormSet = formset_factory(
66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3
67. )
68. 
69. 
70. class CustomKwargForm(Form):
71.     def __init__(self, *args, custom_kwarg, **kwargs):
72.         self.custom_kwarg = custom_kwarg
73.         super().__init__(*args, **kwargs)
74. 
75. 
76. class FormsFormsetTestCase(SimpleTestCase):
77.     def make_choiceformset(
78.         self,
79.         formset_data=None,
80.         formset_class=ChoiceFormSet,
81.         total_forms=None,
82.         initial_forms=0,
83.         max_num_forms=0,
84.         min_num_forms=0,
85.         **kwargs,
86.     ):
87.         """
88.         Make a ChoiceFormset from the given formset_data.
89.         The data should be given as a list of (choice, votes) tuples.
90.         """
91.         kwargs.setdefault("prefix", "choices")
92.         kwargs.setdefault("auto_id", False)
93. 
94.         if formset_data is None:
95.             return formset_class(**kwargs)
96. 
97.         if total_forms is None:
98.             total_forms = len(formset_data)
99. 
100.         def prefixed(*args):
101.             args = (kwargs["prefix"],) + args
102.             return "-".join(args)
103. 
104.         data = {
105.             prefixed("TOTAL_FORMS"): str(total_forms),
106.             prefixed("INITIAL_FORMS"): str(initial_forms),
107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),
108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),
109.         }
110.         for i, (choice, votes) in enumerate(formset_data):
111.             data[prefixed(str(i), "choice")] = choice
112.             data[prefixed(str(i), "votes")] = votes
113. 
114.         return formset_class(data, **kwargs)
115. 
116.     def test_basic_formset(self):
117.         """
118.         A FormSet constructor takes the same arguments as Form. Create a
119.         FormSet for adding data. By default, it displays 1 blank form.
120.         """
121.         formset = self.make_choiceformset()
122.         self.assertHTMLEqual(
123.             str(formset),
124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">
125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">
126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">
127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">
128. <div>Choice:<input type="text" name="choices-0-choice"></div>
129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",
130.         )
131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()
132.         # method, and a cleaned_data or errors attribute depending on whether
133.         # all the forms passed validation. However, unlike a Form, cleaned_data
134.         # and errors will be a list of dicts rather than a single dict.
135.         formset = self.make_choiceformset([("Calexico", "100")])
136.         self.assertTrue(formset.is_valid())
137.         self.assertEqual(
138.             [form.cleaned_data for form in formset.forms],
139.             [{"votes": 100, "choice": "Calexico"}],
140.         )
141. 
142.         # If a FormSet wasn't passed any data, is_valid() and has_changed()
143.         # return False.
144.         formset = self.make_choiceformset()
145.         self.assertFalse(formset.is_valid())
146.         self.assertFalse(formset.has_changed())
147. 
148.     def test_form_kwargs_formset(self):
149.         """
150.         Custom kwargs set on the formset instance are passed to the
151.         underlying forms.
152.         """
153.         FormSet = formset_factory(CustomKwargForm, extra=2)
154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
155.         for form in formset:
156.             self.assertTrue(hasattr(form, "custom_kwarg"))
157.             self.assertEqual(form.custom_kwarg, 1)
158. 
159.     def test_form_kwargs_formset_dynamic(self):
160.         """Form kwargs can be passed dynamically in a formset."""
161. 
162.         class DynamicBaseFormSet(BaseFormSet):
163.             def get_form_kwargs(self, index):
164.                 return {"custom_kwarg": index}
165. 
166.         DynamicFormSet = formset_factory(
167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2
168.         )
169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})
170.         for i, form in enumerate(formset):
171.             self.assertTrue(hasattr(form, "custom_kwarg"))
172.             self.assertEqual(form.custom_kwarg, i)
173. 
174.     def test_form_kwargs_empty_form(self):
175.         FormSet = formset_factory(CustomKwargForm)
176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})
177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))
178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)
179. 
180.     def test_empty_permitted_ignored_empty_form(self):
181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})
182.         self.assertIs(formset.empty_form.empty_permitted, True)
183. 
184.     def test_formset_validation(self):
185.         # FormSet instances can also have an error attribute if validation failed for
186.         # any of the forms.
187.         formset = self.make_choiceformset([("Calexico", "")])
188.         self.assertFalse(formset.is_valid())
189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])
190. 
191.     def test_formset_validation_count(self):
192.         """
193.         A formset's ManagementForm is validated once per FormSet.is_valid()
194.         call and each form of the formset is cleaned once.
195.         """
196. 
197.         def make_method_counter(func):
198.             """Add a counter to func for the number of times it's called."""
199.             counter = Counter()
200.             counter.call_count = 0
201. 
202.             def mocked_func(*args, **kwargs):
203.                 counter.call_count += 1
204.                 return func(*args, **kwargs)
205. 
206.             return mocked_func, counter
207. 
208.         mocked_is_valid, is_valid_counter = make_method_counter(
209.             formsets.ManagementForm.is_valid
210.         )
211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)
212.         formset = self.make_choiceformset(
213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]
214.         )
215. 
216.         with mock.patch(
217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid
218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):
219.             self.assertTrue(formset.is_valid())
220.         self.assertEqual(is_valid_counter.call_count, 1)
221.         self.assertEqual(full_clean_counter.call_count, 4)
222. 
223.     def test_formset_has_changed(self):
224.         """
225.         FormSet.has_changed() is True if any data is passed to its forms, even
226.         if the formset didn't validate.
227.         """
228.         blank_formset = self.make_choiceformset([("", "")])
229.         self.assertFalse(blank_formset.has_changed())
230.         # invalid formset
231.         invalid_formset = self.make_choiceformset([("Calexico", "")])
232.         self.assertFalse(invalid_formset.is_valid())
233.         self.assertTrue(invalid_formset.has_changed())
234.         # valid formset
235.         valid_formset = self.make_choiceformset([("Calexico", "100")])
236.         self.assertTrue(valid_formset.is_valid())
237.         self.assertTrue(valid_formset.has_changed())
238. 
239.     def test_formset_initial_data(self):
240.         """
241.         A FormSet can be prefilled with existing data by providing a list of
242.         dicts to the `initial` argument. By default, an extra blank form is
243.         included.
244.         """
245.         formset = self.make_choiceformset(
246.             initial=[{"choice": "Calexico", "votes": 100}]
247.         )
248.         self.assertHTMLEqual(
249.             "\n".join(form.as_ul() for form in formset.forms),
250.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
251.             "</li>"
252.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
253.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
254.             '<li>Votes: <input type="number" name="choices-1-votes"></li>',
255.         )
256. 
257.     def test_blank_form_unfilled(self):
258.         """A form that's displayed as blank may be submitted as blank."""
259.         formset = self.make_choiceformset(
260.             [("Calexico", "100"), ("", "")], initial_forms=1
261.         )
262.         self.assertTrue(formset.is_valid())
263.         self.assertEqual(
264.             [form.cleaned_data for form in formset.forms],
265.             [{"votes": 100, "choice": "Calexico"}, {}],
266.         )
267. 
268.     def test_second_form_partially_filled(self):
269.         """
270.         If at least one field is filled out on a blank form, it will be
271.         validated.
272.         """
273.         formset = self.make_choiceformset(
274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1
275.         )
276.         self.assertFalse(formset.is_valid())
277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])
278. 
279.     def test_delete_prefilled_data(self):
280.         """
281.         Deleting prefilled data is an error. Removing data from form fields
282.         isn't the proper way to delete it.
283.         """
284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)
285.         self.assertFalse(formset.is_valid())
286.         self.assertEqual(
287.             formset.errors,
288.             [
289.                 {
290.                     "votes": ["This field is required."],
291.                     "choice": ["This field is required."],
292.                 },
293.                 {},
294.             ],
295.         )
296. 
297.     def test_displaying_more_than_one_blank_form(self):
298.         """
299.         More than 1 empty form can be displayed using formset_factory's
300.         `extra` argument.
301.         """
302.         ChoiceFormSet = formset_factory(Choice, extra=3)
303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
304.         self.assertHTMLEqual(
305.             "\n".join(form.as_ul() for form in formset.forms),
306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
307. <li>Votes: <input type="number" name="choices-0-votes"></li>
308. <li>Choice: <input type="text" name="choices-1-choice"></li>
309. <li>Votes: <input type="number" name="choices-1-votes"></li>
310. <li>Choice: <input type="text" name="choices-2-choice"></li>
311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
312.         )
313.         # Since every form was displayed as blank, they are also accepted as
314.         # blank. This may seem a little strange, but min_num is used to require
315.         # a minimum number of forms to be completed.
316.         data = {
317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
321.             "choices-0-choice": "",
322.             "choices-0-votes": "",
323.             "choices-1-choice": "",
324.             "choices-1-votes": "",
325.             "choices-2-choice": "",
326.             "choices-2-votes": "",
327.         }
328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
329.         self.assertTrue(formset.is_valid())
330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])
331. 
332.     def test_min_num_displaying_more_than_one_blank_form(self):
333.         """
334.         More than 1 empty form can also be displayed using formset_factory's
335.         min_num argument. It will (essentially) increment the extra argument.
336.         """
337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)
338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
339.         # Min_num forms are required; extra forms can be empty.
340.         self.assertFalse(formset.forms[0].empty_permitted)
341.         self.assertTrue(formset.forms[1].empty_permitted)
342.         self.assertHTMLEqual(
343.             "\n".join(form.as_ul() for form in formset.forms),
344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
345. <li>Votes: <input type="number" name="choices-0-votes"></li>
346. <li>Choice: <input type="text" name="choices-1-choice"></li>
347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",
348.         )
349. 
350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):
351.         """More than 1 empty form can be displayed using min_num."""
352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)
353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")
354.         self.assertHTMLEqual(
355.             "\n".join(form.as_ul() for form in formset.forms),
356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>
357. <li>Votes: <input type="number" name="choices-0-votes"></li>
358. <li>Choice: <input type="text" name="choices-1-choice"></li>
359. <li>Votes: <input type="number" name="choices-1-votes"></li>
360. <li>Choice: <input type="text" name="choices-2-choice"></li>
361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",
362.         )
363. 
364.     def test_single_form_completed(self):
365.         """Just one form may be completed."""
366.         data = {
367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
371.             "choices-0-choice": "Calexico",
372.             "choices-0-votes": "100",
373.             "choices-1-choice": "",
374.             "choices-1-votes": "",
375.             "choices-2-choice": "",
376.             "choices-2-votes": "",
377.         }
378.         ChoiceFormSet = formset_factory(Choice, extra=3)
379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
380.         self.assertTrue(formset.is_valid())
381.         self.assertEqual(
382.             [form.cleaned_data for form in formset.forms],
383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],
384.         )
385. 
386.     def test_formset_validate_max_flag(self):
387.         """
388.         If validate_max is set and max_num is less than TOTAL_FORMS in the
389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is
390.         irrelevant here (it's output as a hint for the client but its value
391.         in the returned data is not checked).
392.         """
393.         data = {
394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
398.             "choices-0-choice": "Zero",
399.             "choices-0-votes": "0",
400.             "choices-1-choice": "One",
401.             "choices-1-votes": "1",
402.         }
403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
405.         self.assertFalse(formset.is_valid())
406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])
407.         self.assertEqual(
408.             str(formset.non_form_errors()),
409.             '<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>',
410.         )
411. 
412.     def test_formset_validate_max_flag_custom_error(self):
413.         data = {
414.             "choices-TOTAL_FORMS": "2",
415.             "choices-INITIAL_FORMS": "0",
416.             "choices-MIN_NUM_FORMS": "0",
417.             "choices-MAX_NUM_FORMS": "2",
418.             "choices-0-choice": "Zero",
419.             "choices-0-votes": "0",
420.             "choices-1-choice": "One",
421.             "choices-1-votes": "1",
422.         }
423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
424.         formset = ChoiceFormSet(
425.             data,
426.             auto_id=False,
427.             prefix="choices",
428.             error_messages={
429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."
430.             },
431.         )
432.         self.assertFalse(formset.is_valid())
433.         self.assertEqual(
434.             formset.non_form_errors(),
435.             ["Number of submitted forms should be at most 1."],
436.         )
437.         self.assertEqual(
438.             str(formset.non_form_errors()),
439.             '<ul class="errorlist nonform">'
440.             "<li>Number of submitted forms should be at most 1.</li></ul>",
441.         )
442. 
443.     def test_formset_validate_min_flag(self):
444.         """
445.         If validate_min is set and min_num is more than TOTAL_FORMS in the
446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is
447.         irrelevant here (it's output as a hint for the client but its value
448.         in the returned data is not checked).
449.         """
450.         data = {
451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored
455.             "choices-0-choice": "Zero",
456.             "choices-0-votes": "0",
457.             "choices-1-choice": "One",
458.             "choices-1-votes": "1",
459.         }
460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
462.         self.assertFalse(formset.is_valid())
463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])
464.         self.assertEqual(
465.             str(formset.non_form_errors()),
466.             '<ul class="errorlist nonform"><li>'
467.             "Please submit at least 3 forms.</li></ul>",
468.         )
469. 
470.     def test_formset_validate_min_flag_custom_formatted_error(self):
471.         data = {
472.             "choices-TOTAL_FORMS": "2",
473.             "choices-INITIAL_FORMS": "0",
474.             "choices-MIN_NUM_FORMS": "0",
475.             "choices-MAX_NUM_FORMS": "0",
476.             "choices-0-choice": "Zero",
477.             "choices-0-votes": "0",
478.             "choices-1-choice": "One",
479.             "choices-1-votes": "1",
480.         }
481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)
482.         formset = ChoiceFormSet(
483.             data,
484.             auto_id=False,
485.             prefix="choices",
486.             error_messages={
487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."
488.             },
489.         )
490.         self.assertFalse(formset.is_valid())
491.         self.assertEqual(
492.             formset.non_form_errors(),
493.             ["Number of submitted forms should be at least 3."],
494.         )
495.         self.assertEqual(
496.             str(formset.non_form_errors()),
497.             '<ul class="errorlist nonform">'
498.             "<li>Number of submitted forms should be at least 3.</li></ul>",
499.         )
500. 
501.     def test_formset_validate_min_unchanged_forms(self):
502.         """
503.         min_num validation doesn't consider unchanged forms with initial data
504.         as "empty".
505.         """
506.         initial = [
507.             {"choice": "Zero", "votes": 0},
508.             {"choice": "One", "votes": 0},
509.         ]
510.         data = {
511.             "choices-TOTAL_FORMS": "2",
512.             "choices-INITIAL_FORMS": "2",
513.             "choices-MIN_NUM_FORMS": "0",
514.             "choices-MAX_NUM_FORMS": "2",
515.             "choices-0-choice": "Zero",
516.             "choices-0-votes": "0",
517.             "choices-1-choice": "One",
518.             "choices-1-votes": "1",  # changed from initial
519.         }
520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)
521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)
522.         self.assertFalse(formset.forms[0].has_changed())
523.         self.assertTrue(formset.forms[1].has_changed())
524.         self.assertTrue(formset.is_valid())
525. 
526.     def test_formset_validate_min_excludes_empty_forms(self):
527.         data = {
528.             "choices-TOTAL_FORMS": "2",
529.             "choices-INITIAL_FORMS": "0",
530.         }
531.         ChoiceFormSet = formset_factory(
532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True
533.         )
534.         formset = ChoiceFormSet(data, prefix="choices")
535.         self.assertFalse(formset.has_changed())
536.         self.assertFalse(formset.is_valid())
537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])
538. 
539.     def test_second_form_partially_filled_2(self):
540.         """A partially completed form is invalid."""
541.         data = {
542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
546.             "choices-0-choice": "Calexico",
547.             "choices-0-votes": "100",
548.             "choices-1-choice": "The Decemberists",
549.             "choices-1-votes": "",  # missing value
550.             "choices-2-choice": "",
551.             "choices-2-votes": "",
552.         }
553.         ChoiceFormSet = formset_factory(Choice, extra=3)
554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
555.         self.assertFalse(formset.is_valid())
556.         self.assertEqual(
557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]
558.         )
559. 
560.     def test_more_initial_data(self):
561.         """
562.         The extra argument works when the formset is pre-filled with initial
563.         data.
564.         """
565.         initial = [{"choice": "Calexico", "votes": 100}]
566.         ChoiceFormSet = formset_factory(Choice, extra=3)
567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
568.         self.assertHTMLEqual(
569.             "\n".join(form.as_ul() for form in formset.forms),
570.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
571.             "</li>"
572.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
573.             '<li>Choice: <input type="text" name="choices-1-choice"></li>'
574.             '<li>Votes: <input type="number" name="choices-1-votes"></li>'
575.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
576.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
577.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
578.             '<li>Votes: <input type="number" name="choices-3-votes"></li>',
579.         )
580.         # Retrieving an empty form works. Tt shows up in the form list.
581.         self.assertTrue(formset.empty_form.empty_permitted)
582.         self.assertHTMLEqual(
583.             formset.empty_form.as_ul(),
584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>
585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",
586.         )
587. 
588.     def test_formset_with_deletion(self):
589.         """
590.         formset_factory's can_delete argument adds a boolean "delete" field to
591.         each form. When that boolean field is True, the form will be in
592.         formset.deleted_forms.
593.         """
594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)
595.         initial = [
596.             {"choice": "Calexico", "votes": 100},
597.             {"choice": "Fergie", "votes": 900},
598.         ]
599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
600.         self.assertHTMLEqual(
601.             "\n".join(form.as_ul() for form in formset.forms),
602.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
603.             "</li>"
604.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
605.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
606.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
607.             "</li>"
608.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
609.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
610.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
611.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
612.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>',
613.         )
614.         # To delete something, set that form's special delete field to 'on'.
615.         # Let's go ahead and delete Fergie.
616.         data = {
617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
621.             "choices-0-choice": "Calexico",
622.             "choices-0-votes": "100",
623.             "choices-0-DELETE": "",
624.             "choices-1-choice": "Fergie",
625.             "choices-1-votes": "900",
626.             "choices-1-DELETE": "on",
627.             "choices-2-choice": "",
628.             "choices-2-votes": "",
629.             "choices-2-DELETE": "",
630.         }
631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
632.         self.assertTrue(formset.is_valid())
633.         self.assertEqual(
634.             [form.cleaned_data for form in formset.forms],
635.             [
636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},
637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},
638.                 {},
639.             ],
640.         )
641.         self.assertEqual(
642.             [form.cleaned_data for form in formset.deleted_forms],
643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],
644.         )
645. 
646.     def test_formset_with_deletion_remove_deletion_flag(self):
647.         """
648.         If a form is filled with something and can_delete is also checked, that
649.         form's errors shouldn't make the entire formset invalid since it's
650.         going to be deleted.
651.         """
652. 
653.         class CheckForm(Form):
654.             field = IntegerField(min_value=100)
655. 
656.         data = {
657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered
658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data
659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
660.             "check-MAX_NUM_FORMS": "0",  # max number of forms
661.             "check-0-field": "200",
662.             "check-0-DELETE": "",
663.             "check-1-field": "50",
664.             "check-1-DELETE": "on",
665.             "check-2-field": "",
666.             "check-2-DELETE": "",
667.         }
668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)
669.         formset = CheckFormSet(data, prefix="check")
670.         self.assertTrue(formset.is_valid())
671.         # If the deletion flag is removed, validation is enabled.
672.         data["check-1-DELETE"] = ""
673.         formset = CheckFormSet(data, prefix="check")
674.         self.assertFalse(formset.is_valid())
675. 
676.     def test_formset_with_deletion_invalid_deleted_form(self):
677.         """
678.         deleted_forms works on a valid formset even if a deleted form would
679.         have been invalid.
680.         """
681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)
682.         formset = FavoriteDrinkFormset(
683.             {
684.                 "form-0-name": "",
685.                 "form-0-DELETE": "on",  # no name!
686.                 "form-TOTAL_FORMS": 1,
687.                 "form-INITIAL_FORMS": 1,
688.                 "form-MIN_NUM_FORMS": 0,
689.                 "form-MAX_NUM_FORMS": 1,
690.             }
691.         )
692.         self.assertTrue(formset.is_valid())
693.         self.assertEqual(formset._errors, [])
694.         self.assertEqual(len(formset.deleted_forms), 1)
695. 
696.     def test_formset_with_deletion_custom_widget(self):
697.         class DeletionAttributeFormSet(BaseFormSet):
698.             deletion_widget = HiddenInput
699. 
700.         class DeletionMethodFormSet(BaseFormSet):
701.             def get_deletion_widget(self):
702.                 return HiddenInput(attrs={"class": "deletion"})
703. 
704.         tests = [
705.             (DeletionAttributeFormSet, '<input type="hidden" name="form-0-DELETE">'),
706.             (
707.                 DeletionMethodFormSet,
708.                 '<input class="deletion" type="hidden" name="form-0-DELETE">',
709.             ),
710.         ]
711.         for formset_class, delete_html in tests:
712.             with self.subTest(formset_class=formset_class.__name__):
713.                 ArticleFormSet = formset_factory(
714.                     ArticleForm,
715.                     formset=formset_class,
716.                     can_delete=True,
717.                 )
718.                 formset = ArticleFormSet(auto_id=False)
719.                 self.assertHTMLEqual(
720.                     "\n".join([form.as_ul() for form in formset.forms]),
721.                     (
722.                         f'<li>Title: <input type="text" name="form-0-title"></li>'
723.                         f'<li>Pub date: <input type="text" name="form-0-pub_date">'
724.                         f"{delete_html}</li>"
725.                     ),
726.                 )
727. 
728.     def test_formsets_with_ordering(self):
729.         """
730.         formset_factory's can_order argument adds an integer field to each
731.         form. When form validation succeeds,
732.             [form.cleaned_data for form in formset.forms]
733.         will have the data in the correct order specified by the ordering
734.         fields. If a number is duplicated in the set of ordering fields, for
735.         instance form 0 and form 3 are both marked as 1, then the form index
736.         used as a secondary ordering criteria. In order to put something at the
737.         front of the list, you'd need to set its order to 0.
738.         """
739.         ChoiceFormSet = formset_factory(Choice, can_order=True)
740.         initial = [
741.             {"choice": "Calexico", "votes": 100},
742.             {"choice": "Fergie", "votes": 900},
743.         ]
744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
745.         self.assertHTMLEqual(
746.             "\n".join(form.as_ul() for form in formset.forms),
747.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
748.             "</li>"
749.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
750.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
751.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
752.             "</li>"
753.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
754.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
755.             '<li>Choice: <input type="text" name="choices-2-choice"></li>'
756.             '<li>Votes: <input type="number" name="choices-2-votes"></li>'
757.             '<li>Order: <input type="number" name="choices-2-ORDER"></li>',
758.         )
759.         data = {
760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data
762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
764.             "choices-0-choice": "Calexico",
765.             "choices-0-votes": "100",
766.             "choices-0-ORDER": "1",
767.             "choices-1-choice": "Fergie",
768.             "choices-1-votes": "900",
769.             "choices-1-ORDER": "2",
770.             "choices-2-choice": "The Decemberists",
771.             "choices-2-votes": "500",
772.             "choices-2-ORDER": "0",
773.         }
774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
775.         self.assertTrue(formset.is_valid())
776.         self.assertEqual(
777.             [form.cleaned_data for form in formset.ordered_forms],
778.             [
779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},
780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
782.             ],
783.         )
784. 
785.     def test_formsets_with_ordering_custom_widget(self):
786.         class OrderingAttributeFormSet(BaseFormSet):
787.             ordering_widget = HiddenInput
788. 
789.         class OrderingMethodFormSet(BaseFormSet):
790.             def get_ordering_widget(self):
791.                 return HiddenInput(attrs={"class": "ordering"})
792. 
793.         tests = (
794.             (OrderingAttributeFormSet, '<input type="hidden" name="form-0-ORDER">'),
795.             (
796.                 OrderingMethodFormSet,
797.                 '<input class="ordering" type="hidden" name="form-0-ORDER">',
798.             ),
799.         )
800.         for formset_class, order_html in tests:
801.             with self.subTest(formset_class=formset_class.__name__):
802.                 ArticleFormSet = formset_factory(
803.                     ArticleForm, formset=formset_class, can_order=True
804.                 )
805.                 formset = ArticleFormSet(auto_id=False)
806.                 self.assertHTMLEqual(
807.                     "\n".join(form.as_ul() for form in formset.forms),
808.                     (
809.                         '<li>Title: <input type="text" name="form-0-title"></li>'
810.                         '<li>Pub date: <input type="text" name="form-0-pub_date">'
811.                         "%s</li>" % order_html
812.                     ),
813.                 )
814. 
815.     def test_empty_ordered_fields(self):
816.         """
817.         Ordering fields are allowed to be left blank. If they are left blank,
818.         they'll be sorted below everything else.
819.         """
820.         data = {
821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
825.             "choices-0-choice": "Calexico",
826.             "choices-0-votes": "100",
827.             "choices-0-ORDER": "1",
828.             "choices-1-choice": "Fergie",
829.             "choices-1-votes": "900",
830.             "choices-1-ORDER": "2",
831.             "choices-2-choice": "The Decemberists",
832.             "choices-2-votes": "500",
833.             "choices-2-ORDER": "",
834.             "choices-3-choice": "Basia Bulat",
835.             "choices-3-votes": "50",
836.             "choices-3-ORDER": "",
837.         }
838.         ChoiceFormSet = formset_factory(Choice, can_order=True)
839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
840.         self.assertTrue(formset.is_valid())
841.         self.assertEqual(
842.             [form.cleaned_data for form in formset.ordered_forms],
843.             [
844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},
845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},
846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},
847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},
848.             ],
849.         )
850. 
851.     def test_ordering_blank_fieldsets(self):
852.         """Ordering works with blank fieldsets."""
853.         data = {
854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered
855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
858.         }
859.         ChoiceFormSet = formset_factory(Choice, can_order=True)
860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
861.         self.assertTrue(formset.is_valid())
862.         self.assertEqual(formset.ordered_forms, [])
863. 
864.     def test_formset_with_ordering_and_deletion(self):
865.         """FormSets with ordering + deletion."""
866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)
867.         initial = [
868.             {"choice": "Calexico", "votes": 100},
869.             {"choice": "Fergie", "votes": 900},
870.             {"choice": "The Decemberists", "votes": 500},
871.         ]
872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")
873.         self.assertHTMLEqual(
874.             "\n".join(form.as_ul() for form in formset.forms),
875.             '<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">'
876.             "</li>"
877.             '<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>'
878.             '<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>'
879.             '<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>'
880.             '<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">'
881.             "</li>"
882.             '<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>'
883.             '<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>'
884.             '<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>'
885.             '<li>Choice: <input type="text" name="choices-2-choice" '
886.             'value="The Decemberists"></li>'
887.             '<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>'
888.             '<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>'
889.             '<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>'
890.             '<li>Choice: <input type="text" name="choices-3-choice"></li>'
891.             '<li>Votes: <input type="number" name="choices-3-votes"></li>'
892.             '<li>Order: <input type="number" name="choices-3-ORDER"></li>'
893.             '<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>',
894.         )
895.         # Let's delete Fergie, and put The Decemberists ahead of Calexico.
896.         data = {
897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered
898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data
899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
901.             "choices-0-choice": "Calexico",
902.             "choices-0-votes": "100",
903.             "choices-0-ORDER": "1",
904.             "choices-0-DELETE": "",
905.             "choices-1-choice": "Fergie",
906.             "choices-1-votes": "900",
907.             "choices-1-ORDER": "2",
908.             "choices-1-DELETE": "on",
909.             "choices-2-choice": "The Decemberists",
910.             "choices-2-votes": "500",
911.             "choices-2-ORDER": "0",
912.             "choices-2-DELETE": "",
913.             "choices-3-choice": "",
914.             "choices-3-votes": "",
915.             "choices-3-ORDER": "",
916.             "choices-3-DELETE": "",
917.         }
918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
919.         self.assertTrue(formset.is_valid())
920.         self.assertEqual(
921.             [form.cleaned_data for form in formset.ordered_forms],
922.             [
923.                 {
924.                     "votes": 500,
925.                     "DELETE": False,
926.                     "ORDER": 0,
927.                     "choice": "The Decemberists",
928.                 },
929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},
930.             ],
931.         )
932.         self.assertEqual(
933.             [form.cleaned_data for form in formset.deleted_forms],
934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],
935.         )
936. 
937.     def test_invalid_deleted_form_with_ordering(self):
938.         """
939.         Can get ordered_forms from a valid formset even if a deleted form
940.         would have been invalid.
941.         """
942.         FavoriteDrinkFormset = formset_factory(
943.             form=FavoriteDrinkForm, can_delete=True, can_order=True
944.         )
945.         formset = FavoriteDrinkFormset(
946.             {
947.                 "form-0-name": "",
948.                 "form-0-DELETE": "on",  # no name!
949.                 "form-TOTAL_FORMS": 1,
950.                 "form-INITIAL_FORMS": 1,
951.                 "form-MIN_NUM_FORMS": 0,
952.                 "form-MAX_NUM_FORMS": 1,
953.             }
954.         )
955.         self.assertTrue(formset.is_valid())
956.         self.assertEqual(formset.ordered_forms, [])
957. 
958.     def test_clean_hook(self):
959.         """
960.         FormSets have a clean() hook for doing extra validation that isn't tied
961.         to any form. It follows the same pattern as the clean() hook on Forms.
962.         """
963.         # Start out with a some duplicate data.
964.         data = {
965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
969.             "drinks-0-name": "Gin and Tonic",
970.             "drinks-1-name": "Gin and Tonic",
971.         }
972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
973.         self.assertFalse(formset.is_valid())
974.         # Any errors raised by formset.clean() are available via the
975.         # formset.non_form_errors() method.
976.         for error in formset.non_form_errors():
977.             self.assertEqual(str(error), "You may only specify a drink once.")
978.         # The valid case still works.
979.         data["drinks-1-name"] = "Bloody Mary"
980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
981.         self.assertTrue(formset.is_valid())
982.         self.assertEqual(formset.non_form_errors(), [])
983. 
984.     def test_limiting_max_forms(self):
985.         """Limiting the maximum number of forms with max_num."""
986.         # When not passed, max_num will take a high default value, leaving the
987.         # number of forms only controlled by the value of the extra parameter.
988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)
989.         formset = LimitedFavoriteDrinkFormSet()
990.         self.assertHTMLEqual(
991.             "\n".join(str(form) for form in formset.forms),
992.             """<div><label for="id_form-0-name">Name:</label>
993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>
994. <div><label for="id_form-1-name">Name:</label>
995. <input type="text" name="form-1-name" id="id_form-1-name"></div>
996. <div><label for="id_form-2-name">Name:</label>
997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",
998.         )
999.         # If max_num is 0 then no form is rendered at all.
1000.         LimitedFavoriteDrinkFormSet = formset_factory(
1001.             FavoriteDrinkForm, extra=3, max_num=0
1002.         )
1003.         formset = LimitedFavoriteDrinkFormSet()
1004.         self.assertEqual(formset.forms, [])
1005. 
1006.     def test_limited_max_forms_two(self):
1007.         LimitedFavoriteDrinkFormSet = formset_factory(
1008.             FavoriteDrinkForm, extra=5, max_num=2
1009.         )
1010.         formset = LimitedFavoriteDrinkFormSet()
1011.         self.assertHTMLEqual(
1012.             "\n".join(str(form) for form in formset.forms),
1013.             """<div><label for="id_form-0-name">Name:</label>
1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>
1015. <div><label for="id_form-1-name">Name:</label>
1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1017.         )
1018. 
1019.     def test_limiting_extra_lest_than_max_num(self):
1020.         """max_num has no effect when extra is less than max_num."""
1021.         LimitedFavoriteDrinkFormSet = formset_factory(
1022.             FavoriteDrinkForm, extra=1, max_num=2
1023.         )
1024.         formset = LimitedFavoriteDrinkFormSet()
1025.         self.assertHTMLEqual(
1026.             "\n".join(str(form) for form in formset.forms),
1027.             """<div><label for="id_form-0-name">Name:</label>
1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",
1029.         )
1030. 
1031.     def test_max_num_with_initial_data(self):
1032.         # When not passed, max_num will take a high default value, leaving the
1033.         # number of forms only controlled by the value of the initial and extra
1034.         # parameters.
1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)
1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])
1037.         self.assertHTMLEqual(
1038.             "\n".join(str(form) for form in formset.forms),
1039.             """
1040.             <div><label for="id_form-0-name">Name:</label>
1041.             <input type="text" name="form-0-name" value="Fernet and Coke"
1042.                 id="id_form-0-name"></div>
1043.             <div><label for="id_form-1-name">Name:</label>
1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>
1045.             """,
1046.         )
1047. 
1048.     def test_max_num_zero(self):
1049.         """
1050.         If max_num is 0 then no form is rendered at all, regardless of extra,
1051.         unless initial data is present.
1052.         """
1053.         LimitedFavoriteDrinkFormSet = formset_factory(
1054.             FavoriteDrinkForm, extra=1, max_num=0
1055.         )
1056.         formset = LimitedFavoriteDrinkFormSet()
1057.         self.assertEqual(formset.forms, [])
1058. 
1059.     def test_max_num_zero_with_initial(self):
1060.         # initial trumps max_num
1061.         initial = [
1062.             {"name": "Fernet and Coke"},
1063.             {"name": "Bloody Mary"},
1064.         ]
1065.         LimitedFavoriteDrinkFormSet = formset_factory(
1066.             FavoriteDrinkForm, extra=1, max_num=0
1067.         )
1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1069.         self.assertHTMLEqual(
1070.             "\n".join(str(form) for form in formset.forms),
1071.             """
1072.             <div><label for="id_form-0-name">Name:</label>
1073.             <input id="id_form-0-name" name="form-0-name" type="text"
1074.                 value="Fernet and Coke"></div>
1075.             <div><label for="id_form-1-name">Name:</label>
1076.             <input id="id_form-1-name" name="form-1-name" type="text"
1077.                 value="Bloody Mary"></div>
1078.             """,
1079.         )
1080. 
1081.     def test_more_initial_than_max_num(self):
1082.         """
1083.         More initial forms than max_num results in all initial forms being
1084.         displayed (but no extra forms).
1085.         """
1086.         initial = [
1087.             {"name": "Gin Tonic"},
1088.             {"name": "Bloody Mary"},
1089.             {"name": "Jack and Coke"},
1090.         ]
1091.         LimitedFavoriteDrinkFormSet = formset_factory(
1092.             FavoriteDrinkForm, extra=1, max_num=2
1093.         )
1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)
1095.         self.assertHTMLEqual(
1096.             "\n".join(str(form) for form in formset.forms),
1097.             """
1098.             <div><label for="id_form-0-name">Name:</label>
1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">
1100.             </div>
1101.             <div><label for="id_form-1-name">Name:</label>
1102.             <input id="id_form-1-name" name="form-1-name" type="text"
1103.                 value="Bloody Mary"></div>
1104.             <div><label for="id_form-2-name">Name:</label>
1105.             <input id="id_form-2-name" name="form-2-name" type="text"
1106.                 value="Jack and Coke"></div>
1107.             """,
1108.         )
1109. 
1110.     def test_default_absolute_max(self):
1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.
1112.         data = {
1113.             "form-TOTAL_FORMS": 2001,
1114.             "form-INITIAL_FORMS": "0",
1115.             "form-MAX_NUM_FORMS": "0",
1116.         }
1117.         formset = FavoriteDrinksFormSet(data=data)
1118.         self.assertIs(formset.is_valid(), False)
1119.         self.assertEqual(
1120.             formset.non_form_errors(),
1121.             ["Please submit at most 1000 forms."],
1122.         )
1123.         self.assertEqual(formset.absolute_max, 2000)
1124. 
1125.     def test_absolute_max(self):
1126.         data = {
1127.             "form-TOTAL_FORMS": "2001",
1128.             "form-INITIAL_FORMS": "0",
1129.             "form-MAX_NUM_FORMS": "0",
1130.         }
1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(
1132.             FavoriteDrinkForm,
1133.             absolute_max=3000,
1134.         )
1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1136.         self.assertIs(formset.is_valid(), True)
1137.         self.assertEqual(len(formset.forms), 2001)
1138.         # absolute_max provides a hard limit.
1139.         data["form-TOTAL_FORMS"] = "3001"
1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)
1141.         self.assertIs(formset.is_valid(), False)
1142.         self.assertEqual(len(formset.forms), 3000)
1143.         self.assertEqual(
1144.             formset.non_form_errors(),
1145.             ["Please submit at most 1000 forms."],
1146.         )
1147. 
1148.     def test_absolute_max_with_max_num(self):
1149.         data = {
1150.             "form-TOTAL_FORMS": "1001",
1151.             "form-INITIAL_FORMS": "0",
1152.             "form-MAX_NUM_FORMS": "0",
1153.         }
1154.         LimitedFavoriteDrinksFormSet = formset_factory(
1155.             FavoriteDrinkForm,
1156.             max_num=30,
1157.             absolute_max=1000,
1158.         )
1159.         formset = LimitedFavoriteDrinksFormSet(data=data)
1160.         self.assertIs(formset.is_valid(), False)
1161.         self.assertEqual(len(formset.forms), 1000)
1162.         self.assertEqual(
1163.             formset.non_form_errors(),
1164.             ["Please submit at most 30 forms."],
1165.         )
1166. 
1167.     def test_absolute_max_invalid(self):
1168.         msg = "'absolute_max' must be greater or equal to 'max_num'."
1169.         for max_num in [None, 31]:
1170.             with self.subTest(max_num=max_num):
1171.                 with self.assertRaisesMessage(ValueError, msg):
1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)
1173. 
1174.     def test_more_initial_form_result_in_one(self):
1175.         """
1176.         One form from initial and extra=3 with max_num=2 results in the one
1177.         initial form and one extra.
1178.         """
1179.         LimitedFavoriteDrinkFormSet = formset_factory(
1180.             FavoriteDrinkForm, extra=3, max_num=2
1181.         )
1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])
1183.         self.assertHTMLEqual(
1184.             "\n".join(str(form) for form in formset.forms),
1185.             """
1186.             <div><label for="id_form-0-name">Name:</label>
1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">
1188.             </div>
1189.             <div><label for="id_form-1-name">Name:</label>
1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",
1191.         )
1192. 
1193.     def test_management_form_field_names(self):
1194.         """The management form class has field names matching the constants."""
1195.         self.assertCountEqual(
1196.             ManagementForm.base_fields,
1197.             [
1198.                 TOTAL_FORM_COUNT,
1199.                 INITIAL_FORM_COUNT,
1200.                 MIN_NUM_FORM_COUNT,
1201.                 MAX_NUM_FORM_COUNT,
1202.             ],
1203.         )
1204. 
1205.     def test_management_form_prefix(self):
1206.         """The management form has the correct prefix."""
1207.         formset = FavoriteDrinksFormSet()
1208.         self.assertEqual(formset.management_form.prefix, "form")
1209.         data = {
1210.             "form-TOTAL_FORMS": "2",
1211.             "form-INITIAL_FORMS": "0",
1212.             "form-MIN_NUM_FORMS": "0",
1213.             "form-MAX_NUM_FORMS": "0",
1214.         }
1215.         formset = FavoriteDrinksFormSet(data=data)
1216.         self.assertEqual(formset.management_form.prefix, "form")
1217.         formset = FavoriteDrinksFormSet(initial={})
1218.         self.assertEqual(formset.management_form.prefix, "form")
1219. 
1220.     def test_non_form_errors(self):
1221.         data = {
1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered
1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data
1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms
1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms
1226.             "drinks-0-name": "Gin and Tonic",
1227.             "drinks-1-name": "Gin and Tonic",
1228.         }
1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")
1230.         self.assertFalse(formset.is_valid())
1231.         self.assertEqual(
1232.             formset.non_form_errors(), ["You may only specify a drink once."]
1233.         )
1234.         self.assertEqual(
1235.             str(formset.non_form_errors()),
1236.             '<ul class="errorlist nonform"><li>'
1237.             "You may only specify a drink once.</li></ul>",
1238.         )
1239. 
1240.     def test_formset_iteration(self):
1241.         """Formset instances are iterable."""
1242.         ChoiceFormset = formset_factory(Choice, extra=3)
1243.         formset = ChoiceFormset()
1244.         # An iterated formset yields formset.forms.
1245.         forms = list(formset)
1246.         self.assertEqual(forms, formset.forms)
1247.         self.assertEqual(len(formset), len(forms))
1248.         # A formset may be indexed to retrieve its forms.
1249.         self.assertEqual(formset[0], forms[0])
1250.         with self.assertRaises(IndexError):
1251.             formset[3]
1252. 
1253.         # Formsets can override the default iteration order
1254.         class BaseReverseFormSet(BaseFormSet):
1255.             def __iter__(self):
1256.                 return reversed(self.forms)
1257. 
1258.             def __getitem__(self, idx):
1259.                 return super().__getitem__(len(self) - idx - 1)
1260. 
1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)
1262.         reverse_formset = ReverseChoiceFormset()
1263.         # __iter__() modifies the rendering order.
1264.         # Compare forms from "reverse" formset with forms from original formset
1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))
1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))
1267.         self.assertEqual(len(reverse_formset), len(forms))
1268. 
1269.     def test_formset_nonzero(self):
1270.         """A formsets without any forms evaluates as True."""
1271.         ChoiceFormset = formset_factory(Choice, extra=0)
1272.         formset = ChoiceFormset()
1273.         self.assertEqual(len(formset.forms), 0)
1274.         self.assertTrue(formset)
1275. 
1276.     def test_formset_splitdatetimefield(self):
1277.         """
1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).
1279.         """
1280. 
1281.         class SplitDateTimeForm(Form):
1282.             when = SplitDateTimeField(initial=datetime.datetime.now)
1283. 
1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)
1285.         data = {
1286.             "form-TOTAL_FORMS": "1",
1287.             "form-INITIAL_FORMS": "0",
1288.             "form-0-when_0": "1904-06-16",
1289.             "form-0-when_1": "15:51:33",
1290.         }
1291.         formset = SplitDateTimeFormSet(data)
1292.         self.assertTrue(formset.is_valid())
1293. 
1294.     def test_formset_error_class(self):
1295.         """Formset's forms use the formset's error_class."""
1296. 
1297.         class CustomErrorList(ErrorList):
1298.             pass
1299. 
1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)
1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)
1302. 
1303.     def test_formset_calls_forms_is_valid(self):
1304.         """Formsets call is_valid() on each form."""
1305. 
1306.         class AnotherChoice(Choice):
1307.             def is_valid(self):
1308.                 self.is_valid_called = True
1309.                 return super().is_valid()
1310. 
1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)
1312.         data = {
1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered
1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data
1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms
1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms
1317.             "choices-0-choice": "Calexico",
1318.             "choices-0-votes": "100",
1319.         }
1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")
1321.         self.assertTrue(formset.is_valid())
1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))
1323. 
1324.     def test_hard_limit_on_instantiated_forms(self):
1325.         """A formset has a hard limit on the number of forms instantiated."""
1326.         # reduce the default limit of 1000 temporarily for testing
1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1328.         try:
1329.             formsets.DEFAULT_MAX_NUM = 2
1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)
1331.             # someone fiddles with the mgmt form data...
1332.             formset = ChoiceFormSet(
1333.                 {
1334.                     "choices-TOTAL_FORMS": "4",
1335.                     "choices-INITIAL_FORMS": "0",
1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1337.                     "choices-MAX_NUM_FORMS": "4",
1338.                     "choices-0-choice": "Zero",
1339.                     "choices-0-votes": "0",
1340.                     "choices-1-choice": "One",
1341.                     "choices-1-votes": "1",
1342.                     "choices-2-choice": "Two",
1343.                     "choices-2-votes": "2",
1344.                     "choices-3-choice": "Three",
1345.                     "choices-3-votes": "3",
1346.                 },
1347.                 prefix="choices",
1348.             )
1349.             # But we still only instantiate 3 forms
1350.             self.assertEqual(len(formset.forms), 3)
1351.             # and the formset isn't valid
1352.             self.assertFalse(formset.is_valid())
1353.         finally:
1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1355. 
1356.     def test_increase_hard_limit(self):
1357.         """Can increase the built-in forms limit via a higher max_num."""
1358.         # reduce the default limit of 1000 temporarily for testing
1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM
1360.         try:
1361.             formsets.DEFAULT_MAX_NUM = 3
1362.             # for this form, we want a limit of 4
1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)
1364.             formset = ChoiceFormSet(
1365.                 {
1366.                     "choices-TOTAL_FORMS": "4",
1367.                     "choices-INITIAL_FORMS": "0",
1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms
1369.                     "choices-MAX_NUM_FORMS": "4",
1370.                     "choices-0-choice": "Zero",
1371.                     "choices-0-votes": "0",
1372.                     "choices-1-choice": "One",
1373.                     "choices-1-votes": "1",
1374.                     "choices-2-choice": "Two",
1375.                     "choices-2-votes": "2",
1376.                     "choices-3-choice": "Three",
1377.                     "choices-3-votes": "3",
1378.                 },
1379.                 prefix="choices",
1380.             )
1381.             # Four forms are instantiated and no exception is raised
1382.             self.assertEqual(len(formset.forms), 4)
1383.         finally:
1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM
1385. 
1386.     def test_non_form_errors_run_full_clean(self):
1387.         """
1388.         If non_form_errors() is called without calling is_valid() first,
1389.         it should ensure that full_clean() is called.
1390.         """
1391. 
1392.         class BaseCustomFormSet(BaseFormSet):
1393.             def clean(self):
1394.                 raise ValidationError("This is a non-form error")
1395. 
1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)
1397.         data = {
1398.             "choices-TOTAL_FORMS": "1",
1399.             "choices-INITIAL_FORMS": "0",
1400.         }
1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)
1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])
1404. 
1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):
1406.         class CheckForm(Form):
1407.             field = IntegerField()
1408. 
1409.         data = {
1410.             "check-TOTAL_FORMS": "2",
1411.             "check-INITIAL_FORMS": "0",
1412.             "check-MAX_NUM_FORMS": "1",
1413.             "check-0-field": "200",
1414.             "check-0-DELETE": "",
1415.             "check-1-field": "50",
1416.             "check-1-DELETE": "on",
1417.         }
1418.         CheckFormSet = formset_factory(
1419.             CheckForm, max_num=1, validate_max=True, can_delete=True
1420.         )
1421.         formset = CheckFormSet(data, prefix="check")
1422.         self.assertTrue(formset.is_valid())
1423. 
1424.     def test_formset_total_error_count(self):
1425.         """A valid formset should have 0 total errors."""
1426.         data = [  # formset_data, expected error count
1427.             ([("Calexico", "100")], 0),
1428.             ([("Calexico", "")], 1),
1429.             ([("", "invalid")], 2),
1430.             ([("Calexico", "100"), ("Calexico", "")], 1),
1431.             ([("Calexico", ""), ("Calexico", "")], 2),
1432.         ]
1433.         for formset_data, expected_error_count in data:
1434.             formset = self.make_choiceformset(formset_data)
1435.             self.assertEqual(formset.total_error_count(), expected_error_count)
1436. 
1437.     def test_formset_total_error_count_with_non_form_errors(self):
1438.         data = {
1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered
1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data
1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored
1442.             "choices-0-choice": "Zero",
1443.             "choices-0-votes": "0",
1444.             "choices-1-choice": "One",
1445.             "choices-1-votes": "1",
1446.         }
1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)
1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1449.         self.assertEqual(formset.total_error_count(), 1)
1450.         data["choices-1-votes"] = ""
1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1452.         self.assertEqual(formset.total_error_count(), 2)
1453. 
1454.     def test_html_safe(self):
1455.         formset = self.make_choiceformset()
1456.         self.assertTrue(hasattr(formset, "__html__"))
1457.         self.assertEqual(str(formset), formset.__html__())
1458. 
1459.     def test_can_delete_extra_formset_forms(self):
1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)
1461.         formset = ChoiceFormFormset()
1462.         self.assertEqual(len(formset), 2)
1463.         self.assertIn("DELETE", formset.forms[0].fields)
1464.         self.assertIn("DELETE", formset.forms[1].fields)
1465. 
1466.     def test_disable_delete_extra_formset_forms(self):
1467.         ChoiceFormFormset = formset_factory(
1468.             form=Choice,
1469.             can_delete=True,
1470.             can_delete_extra=False,
1471.             extra=2,
1472.         )
1473.         formset = ChoiceFormFormset()
1474.         self.assertEqual(len(formset), 2)
1475.         self.assertNotIn("DELETE", formset.forms[0].fields)
1476.         self.assertNotIn("DELETE", formset.forms[1].fields)
1477. 
1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])
1479.         self.assertEqual(len(formset), 3)
1480.         self.assertIn("DELETE", formset.forms[0].fields)
1481.         self.assertNotIn("DELETE", formset.forms[1].fields)
1482.         self.assertNotIn("DELETE", formset.forms[2].fields)
1483. 
1484.         formset = ChoiceFormFormset(
1485.             data={
1486.                 "form-0-choice": "Zero",
1487.                 "form-0-votes": "0",
1488.                 "form-0-DELETE": "on",
1489.                 "form-1-choice": "One",
1490.                 "form-1-votes": "1",
1491.                 "form-2-choice": "",
1492.                 "form-2-votes": "",
1493.                 "form-TOTAL_FORMS": "3",
1494.                 "form-INITIAL_FORMS": "1",
1495.             },
1496.             initial=[{"choice": "Zero", "votes": "1"}],
1497.         )
1498.         self.assertEqual(
1499.             formset.cleaned_data,
1500.             [
1501.                 {"choice": "Zero", "votes": 0, "DELETE": True},
1502.                 {"choice": "One", "votes": 1},
1503.                 {},
1504.             ],
1505.         )
1506.         self.assertIs(formset._should_delete_form(formset.forms[0]), True)
1507.         self.assertIs(formset._should_delete_form(formset.forms[1]), False)
1508.         self.assertIs(formset._should_delete_form(formset.forms[2]), False)
1509. 
1510.     def test_template_name_uses_renderer_value(self):
1511.         class CustomRenderer(TemplatesSetting):
1512.             formset_template_name = "a/custom/formset/template.html"
1513. 
1514.         ChoiceFormSet = formset_factory(Choice, renderer=CustomRenderer)
1515. 
1516.         self.assertEqual(
1517.             ChoiceFormSet().template_name, "a/custom/formset/template.html"
1518.         )
1519. 
1520.     def test_template_name_can_be_overridden(self):
1521.         class CustomFormSet(BaseFormSet):
1522.             template_name = "a/custom/formset/template.html"
1523. 
1524.         ChoiceFormSet = formset_factory(Choice, formset=CustomFormSet)
1525. 
1526.         self.assertEqual(
1527.             ChoiceFormSet().template_name, "a/custom/formset/template.html"
1528.         )
1529. 
1530.     def test_custom_renderer(self):
1531.         """
1532.         A custom renderer passed to a formset_factory() is passed to all forms
1533.         and ErrorList.
1534.         """
1535.         from django.forms.renderers import Jinja2
1536. 
1537.         renderer = Jinja2()
1538.         data = {
1539.             "choices-TOTAL_FORMS": "2",
1540.             "choices-INITIAL_FORMS": "0",
1541.             "choices-MIN_NUM_FORMS": "0",
1542.             "choices-0-choice": "Zero",
1543.             "choices-0-votes": "",
1544.             "choices-1-choice": "One",
1545.             "choices-1-votes": "",
1546.         }
1547.         ChoiceFormSet = formset_factory(Choice, renderer=renderer)
1548.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1549.         self.assertEqual(formset.renderer, renderer)
1550.         self.assertEqual(formset.forms[0].renderer, renderer)
1551.         self.assertEqual(formset.management_form.renderer, renderer)
1552.         self.assertEqual(formset.non_form_errors().renderer, renderer)
1553.         self.assertEqual(formset.empty_form.renderer, renderer)
1554. 
1555.     def test_repr(self):
1556.         valid_formset = self.make_choiceformset([("test", 1)])
1557.         valid_formset.full_clean()
1558.         invalid_formset = self.make_choiceformset([("test", "")])
1559.         invalid_formset.full_clean()
1560.         partially_invalid_formset = self.make_choiceformset(
1561.             [("test", "1"), ("test", "")],
1562.         )
1563.         partially_invalid_formset.full_clean()
1564.         invalid_formset_non_form_errors_only = self.make_choiceformset(
1565.             [("test", "")],
1566.             formset_class=ChoiceFormsetWithNonFormError,
1567.         )
1568.         invalid_formset_non_form_errors_only.full_clean()
1569. 
1570.         cases = [
1571.             (
1572.                 self.make_choiceformset(),
1573.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=1>",
1574.             ),
1575.             (
1576.                 self.make_choiceformset(
1577.                     formset_class=formset_factory(Choice, extra=10),
1578.                 ),
1579.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=10>",
1580.             ),
1581.             (
1582.                 self.make_choiceformset([]),
1583.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=0>",
1584.             ),
1585.             (
1586.                 self.make_choiceformset([("test", 1)]),
1587.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=1>",
1588.             ),
1589.             (valid_formset, "<ChoiceFormSet: bound=True valid=True total_forms=1>"),
1590.             (invalid_formset, "<ChoiceFormSet: bound=True valid=False total_forms=1>"),
1591.             (
1592.                 partially_invalid_formset,
1593.                 "<ChoiceFormSet: bound=True valid=False total_forms=2>",
1594.             ),
1595.             (
1596.                 invalid_formset_non_form_errors_only,
1597.                 "<ChoiceFormsetWithNonFormError: bound=True valid=False total_forms=1>",
1598.             ),
1599.         ]
1600.         for formset, expected_repr in cases:
1601.             with self.subTest(expected_repr=expected_repr):
1602.                 self.assertEqual(repr(formset), expected_repr)
1603. 
1604.     def test_repr_do_not_trigger_validation(self):
1605.         formset = self.make_choiceformset([("test", 1)])
1606.         with mock.patch.object(formset, "full_clean") as mocked_full_clean:
1607.             repr(formset)
1608.             mocked_full_clean.assert_not_called()
1609.             formset.is_valid()
1610.             mocked_full_clean.assert_called()
1611. 
1612. 
1613. @jinja2_tests
1614. class Jinja2FormsFormsetTestCase(FormsFormsetTestCase):
1615.     pass
1616. 
1617. 
1618. class FormsetAsTagTests(SimpleTestCase):
1619.     def setUp(self):
1620.         data = {
1621.             "choices-TOTAL_FORMS": "1",
1622.             "choices-INITIAL_FORMS": "0",
1623.             "choices-MIN_NUM_FORMS": "0",
1624.             "choices-MAX_NUM_FORMS": "0",
1625.             "choices-0-choice": "Calexico",
1626.             "choices-0-votes": "100",
1627.         }
1628.         self.formset = ChoiceFormSet(data, auto_id=False, prefix="choices")
1629.         self.management_form_html = (
1630.             '<input type="hidden" name="choices-TOTAL_FORMS" value="1">'
1631.             '<input type="hidden" name="choices-INITIAL_FORMS" value="0">'
1632.             '<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">'
1633.             '<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">'
1634.         )
1635. 
1636.     def test_as_table(self):
1637.         self.assertHTMLEqual(
1638.             self.formset.as_table(),
1639.             self.management_form_html
1640.             + (
1641.                 "<tr><th>Choice:</th><td>"
1642.                 '<input type="text" name="choices-0-choice" value="Calexico"></td></tr>'
1643.                 "<tr><th>Votes:</th><td>"
1644.                 '<input type="number" name="choices-0-votes" value="100"></td></tr>'
1645.             ),
1646.         )
1647. 
1648.     def test_as_p(self):
1649.         self.assertHTMLEqual(
1650.             self.formset.as_p(),
1651.             self.management_form_html
1652.             + (
1653.                 "<p>Choice: "
1654.                 '<input type="text" name="choices-0-choice" value="Calexico"></p>'
1655.                 '<p>Votes: <input type="number" name="choices-0-votes" value="100"></p>'
1656.             ),
1657.         )
1658. 
1659.     def test_as_ul(self):
1660.         self.assertHTMLEqual(
1661.             self.formset.as_ul(),
1662.             self.management_form_html
1663.             + (
1664.                 "<li>Choice: "
1665.                 '<input type="text" name="choices-0-choice" value="Calexico"></li>'
1666.                 "<li>Votes: "
1667.                 '<input type="number" name="choices-0-votes" value="100"></li>'
1668.             ),
1669.         )
1670. 
1671.     def test_as_div(self):
1672.         self.assertHTMLEqual(
1673.             self.formset.as_div(),
1674.             self.management_form_html
1675.             + (
1676.                 "<div>Choice: "
1677.                 '<input type="text" name="choices-0-choice" value="Calexico"></div>'
1678.                 '<div>Votes: <input type="number" name="choices-0-votes" value="100">'
1679.                 "</div>"
1680.             ),
1681.         )
1682. 
1683. 
1684. @jinja2_tests
1685. class Jinja2FormsetAsTagTests(FormsetAsTagTests):
1686.     pass
1687. 
1688. 
1689. class ArticleForm(Form):
1690.     title = CharField()
1691.     pub_date = DateField()
1692. 
1693. 
1694. ArticleFormSet = formset_factory(ArticleForm)
1695. 
1696. 
1697. class TestIsBoundBehavior(SimpleTestCase):
1698.     def test_no_data_error(self):
1699.         formset = ArticleFormSet({})
1700.         self.assertIs(formset.is_valid(), False)
1701.         self.assertEqual(
1702.             formset.non_form_errors(),
1703.             [
1704.                 "ManagementForm data is missing or has been tampered with. "
1705.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "
1706.                 "You may need to file a bug report if the issue persists.",
1707.             ],
1708.         )
1709.         self.assertEqual(formset.errors, [])
1710.         # Can still render the formset.
1711.         self.assertHTMLEqual(
1712.             str(formset),
1713.             '<ul class="errorlist nonfield">'
1714.             "<li>(Hidden field TOTAL_FORMS) This field is required.</li>"
1715.             "<li>(Hidden field INITIAL_FORMS) This field is required.</li>"
1716.             "</ul>"
1717.             "<div>"
1718.             '<input type="hidden" name="form-TOTAL_FORMS" id="id_form-TOTAL_FORMS">'
1719.             '<input type="hidden" name="form-INITIAL_FORMS" id="id_form-INITIAL_FORMS">'
1720.             '<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">'
1721.             '<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">'
1722.             "</div>\n",
1723.         )
1724. 
1725.     def test_management_form_invalid_data(self):
1726.         data = {
1727.             "form-TOTAL_FORMS": "two",
1728.             "form-INITIAL_FORMS": "one",
1729.         }
1730.         formset = ArticleFormSet(data)
1731.         self.assertIs(formset.is_valid(), False)
1732.         self.assertEqual(
1733.             formset.non_form_errors(),
1734.             [
1735.                 "ManagementForm data is missing or has been tampered with. "
1736.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "
1737.                 "You may need to file a bug report if the issue persists.",
1738.             ],
1739.         )
1740.         self.assertEqual(formset.errors, [])
1741.         # Can still render the formset.
1742.         self.assertHTMLEqual(
1743.             str(formset),
1744.             '<ul class="errorlist nonfield">'
1745.             "<li>(Hidden field TOTAL_FORMS) Enter a whole number.</li>"
1746.             "<li>(Hidden field INITIAL_FORMS) Enter a whole number.</li>"
1747.             "</ul>"
1748.             "<div>"
1749.             '<input type="hidden" name="form-TOTAL_FORMS" value="two" '
1750.             'id="id_form-TOTAL_FORMS">'
1751.             '<input type="hidden" name="form-INITIAL_FORMS" value="one" '
1752.             'id="id_form-INITIAL_FORMS">'
1753.             '<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">'
1754.             '<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">'
1755.             "</div>\n",
1756.         )
1757. 
1758.     def test_customize_management_form_error(self):
1759.         formset = ArticleFormSet(
1760.             {}, error_messages={"missing_management_form": "customized"}
1761.         )
1762.         self.assertIs(formset.is_valid(), False)
1763.         self.assertEqual(formset.non_form_errors(), ["customized"])
1764.         self.assertEqual(formset.errors, [])
1765. 
1766.     def test_with_management_data_attrs_work_fine(self):
1767.         data = {
1768.             "form-TOTAL_FORMS": "1",
1769.             "form-INITIAL_FORMS": "0",
1770.         }
1771.         formset = ArticleFormSet(data)
1772.         self.assertEqual(0, formset.initial_form_count())
1773.         self.assertEqual(1, formset.total_form_count())
1774.         self.assertTrue(formset.is_bound)
1775.         self.assertTrue(formset.forms[0].is_bound)
1776.         self.assertTrue(formset.is_valid())
1777.         self.assertTrue(formset.forms[0].is_valid())
1778.         self.assertEqual([{}], formset.cleaned_data)
1779. 
1780.     def test_form_errors_are_caught_by_formset(self):
1781.         data = {
1782.             "form-TOTAL_FORMS": "2",
1783.             "form-INITIAL_FORMS": "0",
1784.             "form-0-title": "Test",
1785.             "form-0-pub_date": "1904-06-16",
1786.             "form-1-title": "Test",
1787.             "form-1-pub_date": "",  # <-- this date is missing but required
1788.         }
1789.         formset = ArticleFormSet(data)
1790.         self.assertFalse(formset.is_valid())
1791.         self.assertEqual(
1792.             [{}, {"pub_date": ["This field is required."]}], formset.errors
1793.         )
1794. 
1795.     def test_empty_forms_are_unbound(self):
1796.         data = {
1797.             "form-TOTAL_FORMS": "1",
1798.             "form-INITIAL_FORMS": "0",
1799.             "form-0-title": "Test",
1800.             "form-0-pub_date": "1904-06-16",
1801.         }
1802.         unbound_formset = ArticleFormSet()
1803.         bound_formset = ArticleFormSet(data)
1804.         empty_forms = [unbound_formset.empty_form, bound_formset.empty_form]
1805.         # Empty forms should be unbound
1806.         self.assertFalse(empty_forms[0].is_bound)
1807.         self.assertFalse(empty_forms[1].is_bound)
1808.         # The empty forms should be equal.
1809.         self.assertHTMLEqual(empty_forms[0].as_p(), empty_forms[1].as_p())
1810. 
1811. 
1812. @jinja2_tests
1813. class TestIsBoundBehavior(TestIsBoundBehavior):
1814.     pass
1815. 
1816. 
1817. class TestEmptyFormSet(SimpleTestCase):
1818.     def test_empty_formset_is_valid(self):
1819.         """An empty formset still calls clean()"""
1820. 
1821.         class EmptyFsetWontValidate(BaseFormSet):
1822.             def clean(self):
1823.                 raise ValidationError("Clean method called")
1824. 
1825.         EmptyFsetWontValidateFormset = formset_factory(
1826.             FavoriteDrinkForm, extra=0, formset=EmptyFsetWontValidate
1827.         )
1828.         formset = EmptyFsetWontValidateFormset(
1829.             data={"form-INITIAL_FORMS": "0", "form-TOTAL_FORMS": "0"},
1830.             prefix="form",
1831.         )
1832.         formset2 = EmptyFsetWontValidateFormset(
1833.             data={
1834.                 "form-INITIAL_FORMS": "0",
1835.                 "form-TOTAL_FORMS": "1",
1836.                 "form-0-name": "bah",
1837.             },
1838.             prefix="form",
1839.         )
1840.         self.assertFalse(formset.is_valid())
1841.         self.assertFalse(formset2.is_valid())
1842. 
1843.     def test_empty_formset_media(self):
1844.         """Media is available on empty formset."""
1845. 
1846.         class MediaForm(Form):
1847.             class Media:
1848.                 js = ("some-file.js",)
1849. 
1850.         self.assertIn("some-file.js", str(formset_factory(MediaForm, extra=0)().media))
1851. 
1852.     def test_empty_formset_is_multipart(self):
1853.         """is_multipart() works with an empty formset."""
1854. 
1855.         class FileForm(Form):
1856.             file = FileField()
1857. 
1858.         self.assertTrue(formset_factory(FileForm, extra=0)().is_multipart())
1859. 
1860. 
1861. class AllValidTests(SimpleTestCase):
1862.     def test_valid(self):
1863.         data = {
1864.             "choices-TOTAL_FORMS": "2",
1865.             "choices-INITIAL_FORMS": "0",
1866.             "choices-MIN_NUM_FORMS": "0",
1867.             "choices-0-choice": "Zero",
1868.             "choices-0-votes": "0",
1869.             "choices-1-choice": "One",
1870.             "choices-1-votes": "1",
1871.         }
1872.         ChoiceFormSet = formset_factory(Choice)
1873.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1874.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1875.         self.assertIs(all_valid((formset1, formset2)), True)
1876.         expected_errors = [{}, {}]
1877.         self.assertEqual(formset1._errors, expected_errors)
1878.         self.assertEqual(formset2._errors, expected_errors)
1879. 
1880.     def test_invalid(self):
1881.         """all_valid() validates all forms, even when some are invalid."""
1882.         data = {
1883.             "choices-TOTAL_FORMS": "2",
1884.             "choices-INITIAL_FORMS": "0",
1885.             "choices-MIN_NUM_FORMS": "0",
1886.             "choices-0-choice": "Zero",
1887.             "choices-0-votes": "",
1888.             "choices-1-choice": "One",
1889.             "choices-1-votes": "",
1890.         }
1891.         ChoiceFormSet = formset_factory(Choice)
1892.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1893.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")
1894.         self.assertIs(all_valid((formset1, formset2)), False)
1895.         expected_errors = [
1896.             {"votes": ["This field is required."]},
1897.             {"votes": ["This field is required."]},
1898.         ]
1899.         self.assertEqual(formset1._errors, expected_errors)
1900.         self.assertEqual(formset2._errors, expected_errors)

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-05 12:27:27,794 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find 5 relevant test cases for a bug in `django.forms.formsets.BaseFormSet.add_fields`. The provided context is `tests/forms_tests/tests/test_formsets.py`, which is the test file for the module containing the bug. This file is sufficient because it contains various tests for formset functionalities, including the ones mentioned in the bug report: `can_delete`, `can_delete_extra`, and `empty_form`. I can find enough test cases that cover these features to satisfy the user's request. The file includes all necessary imports and helper classes." refined_query=''
2025-10-05 12:27:27,795 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/forms_tests/tests/test_formsets.py', content='1. import datetime\n2. from collections import Counter\n3. from unittest import mock\n4. \n5. from django.core.exceptions import ValidationError\n6. from django.forms import (\n7.     BaseForm,\n8.     CharField,\n9.     DateField,\n10.     FileField,\n11.     Form,\n12.     IntegerField,\n13.     SplitDateTimeField,\n14.     formsets,\n15. )\n16. from django.forms.formsets import (\n17.     INITIAL_FORM_COUNT,\n18.     MAX_NUM_FORM_COUNT,\n19.     MIN_NUM_FORM_COUNT,\n20.     TOTAL_FORM_COUNT,\n21.     BaseFormSet,\n22.     ManagementForm,\n23.     all_valid,\n24.     formset_factory,\n25. )\n26. from django.forms.renderers import TemplatesSetting\n27. from django.forms.utils import ErrorList\n28. from django.forms.widgets import HiddenInput\n29. from django.test import SimpleTestCase\n30. \n31. from . import jinja2_tests\n32. \n33. \n34. class Choice(Form):\n35.     choice = CharField()\n36.     votes = IntegerField()\n37. \n38. \n39. ChoiceFormSet = formset_factory(Choice)\n40. \n41. \n42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):\n43.     def clean(self):\n44.         super().clean()\n45.         raise ValidationError("non-form error")\n46. \n47. \n48. class FavoriteDrinkForm(Form):\n49.     name = CharField()\n50. \n51. \n52. class BaseFavoriteDrinksFormSet(BaseFormSet):\n53.     def clean(self):\n54.         seen_drinks = []\n55. \n56.         for drink in self.cleaned_data:\n57.             if drink["name"] in seen_drinks:\n58.                 raise ValidationError("You may only specify a drink once.")\n59. \n60.             seen_drinks.append(drink["name"])\n61. \n62. \n63. # A FormSet that takes a list of favorite drinks and raises an error if\n64. # there are any duplicates.\n65. FavoriteDrinksFormSet = formset_factory(\n66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3\n67. )\n68. \n69. \n70. class CustomKwargForm(Form):\n71.     def __init__(self, *args, custom_kwarg, **kwargs):\n72.         self.custom_kwarg = custom_kwarg\n73.         super().__init__(*args, **kwargs)\n74. \n75. \n76. class FormsFormsetTestCase(SimpleTestCase):\n77.     def make_choiceformset(\n78.         self,\n79.         formset_data=None,\n80.         formset_class=ChoiceFormSet,\n81.         total_forms=None,\n82.         initial_forms=0,\n83.         max_num_forms=0,\n84.         min_num_forms=0,\n85.         **kwargs,\n86.     ):\n87.         """\n88.         Make a ChoiceFormset from the given formset_data.\n89.         The data should be given as a list of (choice, votes) tuples.\n90.         """\n91.         kwargs.setdefault("prefix", "choices")\n92.         kwargs.setdefault("auto_id", False)\n93. \n94.         if formset_data is None:\n95.             return formset_class(**kwargs)\n96. \n97.         if total_forms is None:\n98.             total_forms = len(formset_data)\n99. \n100.         def prefixed(*args):\n101.             args = (kwargs["prefix"],) + args\n102.             return "-".join(args)\n103. \n104.         data = {\n105.             prefixed("TOTAL_FORMS"): str(total_forms),\n106.             prefixed("INITIAL_FORMS"): str(initial_forms),\n107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),\n108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),\n109.         }\n110.         for i, (choice, votes) in enumerate(formset_data):\n111.             data[prefixed(str(i), "choice")] = choice\n112.             data[prefixed(str(i), "votes")] = votes\n113. \n114.         return formset_class(data, **kwargs)\n115. \n116.     def test_basic_formset(self):\n117.         """\n118.         A FormSet constructor takes the same arguments as Form. Create a\n119.         FormSet for adding data. By default, it displays 1 blank form.\n120.         """\n121.         formset = self.make_choiceformset()\n122.         self.assertHTMLEqual(\n123.             str(formset),\n124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">\n125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">\n126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\n127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">\n128. <div>Choice:<input type="text" name="choices-0-choice"></div>\n129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",\n130.         )\n131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()\n132.         # method, and a cleaned_data or errors attribute depending on whether\n133.         # all the forms passed validation. However, unlike a Form, cleaned_data\n134.         # and errors will be a list of dicts rather than a single dict.\n135.         formset = self.make_choiceformset([("Calexico", "100")])\n136.         self.assertTrue(formset.is_valid())\n137.         self.assertEqual(\n138.             [form.cleaned_data for form in formset.forms],\n139.             [{"votes": 100, "choice": "Calexico"}],\n140.         )\n141. \n142.         # If a FormSet wasn\'t passed any data, is_valid() and has_changed()\n143.         # return False.\n144.         formset = self.make_choiceformset()\n145.         self.assertFalse(formset.is_valid())\n146.         self.assertFalse(formset.has_changed())\n147. \n148.     def test_form_kwargs_formset(self):\n149.         """\n150.         Custom kwargs set on the formset instance are passed to the\n151.         underlying forms.\n152.         """\n153.         FormSet = formset_factory(CustomKwargForm, extra=2)\n154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n155.         for form in formset:\n156.             self.assertTrue(hasattr(form, "custom_kwarg"))\n157.             self.assertEqual(form.custom_kwarg, 1)\n158. \n159.     def test_form_kwargs_formset_dynamic(self):\n160.         """Form kwargs can be passed dynamically in a formset."""\n161. \n162.         class DynamicBaseFormSet(BaseFormSet):\n163.             def get_form_kwargs(self, index):\n164.                 return {"custom_kwarg": index}\n165. \n166.         DynamicFormSet = formset_factory(\n167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2\n168.         )\n169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})\n170.         for i, form in enumerate(formset):\n171.             self.assertTrue(hasattr(form, "custom_kwarg"))\n172.             self.assertEqual(form.custom_kwarg, i)\n173. \n174.     def test_form_kwargs_empty_form(self):\n175.         FormSet = formset_factory(CustomKwargForm)\n176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))\n178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)\n179. \n180.     def test_empty_permitted_ignored_empty_form(self):\n181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})\n182.         self.assertIs(formset.empty_form.empty_permitted, True)\n183. \n184.     def test_formset_validation(self):\n185.         # FormSet instances can also have an error attribute if validation failed for\n186.         # any of the forms.\n187.         formset = self.make_choiceformset([("Calexico", "")])\n188.         self.assertFalse(formset.is_valid())\n189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])\n190. \n191.     def test_formset_validation_count(self):\n192.         """\n193.         A formset\'s ManagementForm is validated once per FormSet.is_valid()\n194.         call and each form of the formset is cleaned once.\n195.         """\n196. \n197.         def make_method_counter(func):\n198.             """Add a counter to func for the number of times it\'s called."""\n199.             counter = Counter()\n200.             counter.call_count = 0\n201. \n202.             def mocked_func(*args, **kwargs):\n203.                 counter.call_count += 1\n204.                 return func(*args, **kwargs)\n205. \n206.             return mocked_func, counter\n207. \n208.         mocked_is_valid, is_valid_counter = make_method_counter(\n209.             formsets.ManagementForm.is_valid\n210.         )\n211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)\n212.         formset = self.make_choiceformset(\n213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]\n214.         )\n215. \n216.         with mock.patch(\n217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid\n218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):\n219.             self.assertTrue(formset.is_valid())\n220.         self.assertEqual(is_valid_counter.call_count, 1)\n221.         self.assertEqual(full_clean_counter.call_count, 4)\n222. \n223.     def test_formset_has_changed(self):\n224.         """\n225.         FormSet.has_changed() is True if any data is passed to its forms, even\n226.         if the formset didn\'t validate.\n227.         """\n228.         blank_formset = self.make_choiceformset([("", "")])\n229.         self.assertFalse(blank_formset.has_changed())\n230.         # invalid formset\n231.         invalid_formset = self.make_choiceformset([("Calexico", "")])\n232.         self.assertFalse(invalid_formset.is_valid())\n233.         self.assertTrue(invalid_formset.has_changed())\n234.         # valid formset\n235.         valid_formset = self.make_choiceformset([("Calexico", "100")])\n236.         self.assertTrue(valid_formset.is_valid())\n237.         self.assertTrue(valid_formset.has_changed())\n238. \n239.     def test_formset_initial_data(self):\n240.         """\n241.         A FormSet can be prefilled with existing data by providing a list of\n242.         dicts to the `initial` argument. By default, an extra blank form is\n243.         included.\n244.         """\n245.         formset = self.make_choiceformset(\n246.             initial=[{"choice": "Calexico", "votes": 100}]\n247.         )\n248.         self.assertHTMLEqual(\n249.             "\\n".join(form.as_ul() for form in formset.forms),\n250.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n251.             "</li>"\n252.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n253.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n254.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\',\n255.         )\n256. \n257.     def test_blank_form_unfilled(self):\n258.         """A form that\'s displayed as blank may be submitted as blank."""\n259.         formset = self.make_choiceformset(\n260.             [("Calexico", "100"), ("", "")], initial_forms=1\n261.         )\n262.         self.assertTrue(formset.is_valid())\n263.         self.assertEqual(\n264.             [form.cleaned_data for form in formset.forms],\n265.             [{"votes": 100, "choice": "Calexico"}, {}],\n266.         )\n267. \n268.     def test_second_form_partially_filled(self):\n269.         """\n270.         If at least one field is filled out on a blank form, it will be\n271.         validated.\n272.         """\n273.         formset = self.make_choiceformset(\n274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1\n275.         )\n276.         self.assertFalse(formset.is_valid())\n277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])\n278. \n279.     def test_delete_prefilled_data(self):\n280.         """\n281.         Deleting prefilled data is an error. Removing data from form fields\n282.         isn\'t the proper way to delete it.\n283.         """\n284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)\n285.         self.assertFalse(formset.is_valid())\n286.         self.assertEqual(\n287.             formset.errors,\n288.             [\n289.                 {\n290.                     "votes": ["This field is required."],\n291.                     "choice": ["This field is required."],\n292.                 },\n293.                 {},\n294.             ],\n295.         )\n296. \n297.     def test_displaying_more_than_one_blank_form(self):\n298.         """\n299.         More than 1 empty form can be displayed using formset_factory\'s\n300.         `extra` argument.\n301.         """\n302.         ChoiceFormSet = formset_factory(Choice, extra=3)\n303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n304.         self.assertHTMLEqual(\n305.             "\\n".join(form.as_ul() for form in formset.forms),\n306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n307. <li>Votes: <input type="number" name="choices-0-votes"></li>\n308. <li>Choice: <input type="text" name="choices-1-choice"></li>\n309. <li>Votes: <input type="number" name="choices-1-votes"></li>\n310. <li>Choice: <input type="text" name="choices-2-choice"></li>\n311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n312.         )\n313.         # Since every form was displayed as blank, they are also accepted as\n314.         # blank. This may seem a little strange, but min_num is used to require\n315.         # a minimum number of forms to be completed.\n316.         data = {\n317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n321.             "choices-0-choice": "",\n322.             "choices-0-votes": "",\n323.             "choices-1-choice": "",\n324.             "choices-1-votes": "",\n325.             "choices-2-choice": "",\n326.             "choices-2-votes": "",\n327.         }\n328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n329.         self.assertTrue(formset.is_valid())\n330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n331. \n332.     def test_min_num_displaying_more_than_one_blank_form(self):\n333.         """\n334.         More than 1 empty form can also be displayed using formset_factory\'s\n335.         min_num argument. It will (essentially) increment the extra argument.\n336.         """\n337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)\n338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n339.         # Min_num forms are required; extra forms can be empty.\n340.         self.assertFalse(formset.forms[0].empty_permitted)\n341.         self.assertTrue(formset.forms[1].empty_permitted)\n342.         self.assertHTMLEqual(\n343.             "\\n".join(form.as_ul() for form in formset.forms),\n344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n345. <li>Votes: <input type="number" name="choices-0-votes"></li>\n346. <li>Choice: <input type="text" name="choices-1-choice"></li>\n347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",\n348.         )\n349. \n350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n351.         """More than 1 empty form can be displayed using min_num."""\n352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n354.         self.assertHTMLEqual(\n355.             "\\n".join(form.as_ul() for form in formset.forms),\n356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n357. <li>Votes: <input type="number" name="choices-0-votes"></li>\n358. <li>Choice: <input type="text" name="choices-1-choice"></li>\n359. <li>Votes: <input type="number" name="choices-1-votes"></li>\n360. <li>Choice: <input type="text" name="choices-2-choice"></li>\n361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n362.         )\n363. \n364.     def test_single_form_completed(self):\n365.         """Just one form may be completed."""\n366.         data = {\n367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n371.             "choices-0-choice": "Calexico",\n372.             "choices-0-votes": "100",\n373.             "choices-1-choice": "",\n374.             "choices-1-votes": "",\n375.             "choices-2-choice": "",\n376.             "choices-2-votes": "",\n377.         }\n378.         ChoiceFormSet = formset_factory(Choice, extra=3)\n379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n380.         self.assertTrue(formset.is_valid())\n381.         self.assertEqual(\n382.             [form.cleaned_data for form in formset.forms],\n383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],\n384.         )\n385. \n386.     def test_formset_validate_max_flag(self):\n387.         """\n388.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n390.         irrelevant here (it\'s output as a hint for the client but its value\n391.         in the returned data is not checked).\n392.         """\n393.         data = {\n394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n398.             "choices-0-choice": "Zero",\n399.             "choices-0-votes": "0",\n400.             "choices-1-choice": "One",\n401.             "choices-1-votes": "1",\n402.         }\n403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n405.         self.assertFalse(formset.is_valid())\n406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])\n407.         self.assertEqual(\n408.             str(formset.non_form_errors()),\n409.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n410.         )\n411. \n412.     def test_formset_validate_max_flag_custom_error(self):\n413.         data = {\n414.             "choices-TOTAL_FORMS": "2",\n415.             "choices-INITIAL_FORMS": "0",\n416.             "choices-MIN_NUM_FORMS": "0",\n417.             "choices-MAX_NUM_FORMS": "2",\n418.             "choices-0-choice": "Zero",\n419.             "choices-0-votes": "0",\n420.             "choices-1-choice": "One",\n421.             "choices-1-votes": "1",\n422.         }\n423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n424.         formset = ChoiceFormSet(\n425.             data,\n426.             auto_id=False,\n427.             prefix="choices",\n428.             error_messages={\n429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."\n430.             },\n431.         )\n432.         self.assertFalse(formset.is_valid())\n433.         self.assertEqual(\n434.             formset.non_form_errors(),\n435.             ["Number of submitted forms should be at most 1."],\n436.         )\n437.         self.assertEqual(\n438.             str(formset.non_form_errors()),\n439.             \'<ul class="errorlist nonform">\'\n440.             "<li>Number of submitted forms should be at most 1.</li></ul>",\n441.         )\n442. \n443.     def test_formset_validate_min_flag(self):\n444.         """\n445.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n447.         irrelevant here (it\'s output as a hint for the client but its value\n448.         in the returned data is not checked).\n449.         """\n450.         data = {\n451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored\n455.             "choices-0-choice": "Zero",\n456.             "choices-0-votes": "0",\n457.             "choices-1-choice": "One",\n458.             "choices-1-votes": "1",\n459.         }\n460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n462.         self.assertFalse(formset.is_valid())\n463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])\n464.         self.assertEqual(\n465.             str(formset.non_form_errors()),\n466.             \'<ul class="errorlist nonform"><li>\'\n467.             "Please submit at least 3 forms.</li></ul>",\n468.         )\n469. \n470.     def test_formset_validate_min_flag_custom_formatted_error(self):\n471.         data = {\n472.             "choices-TOTAL_FORMS": "2",\n473.             "choices-INITIAL_FORMS": "0",\n474.             "choices-MIN_NUM_FORMS": "0",\n475.             "choices-MAX_NUM_FORMS": "0",\n476.             "choices-0-choice": "Zero",\n477.             "choices-0-votes": "0",\n478.             "choices-1-choice": "One",\n479.             "choices-1-votes": "1",\n480.         }\n481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n482.         formset = ChoiceFormSet(\n483.             data,\n484.             auto_id=False,\n485.             prefix="choices",\n486.             error_messages={\n487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."\n488.             },\n489.         )\n490.         self.assertFalse(formset.is_valid())\n491.         self.assertEqual(\n492.             formset.non_form_errors(),\n493.             ["Number of submitted forms should be at least 3."],\n494.         )\n495.         self.assertEqual(\n496.             str(formset.non_form_errors()),\n497.             \'<ul class="errorlist nonform">\'\n498.             "<li>Number of submitted forms should be at least 3.</li></ul>",\n499.         )\n500. \n501.     def test_formset_validate_min_unchanged_forms(self):\n502.         """\n503.         min_num validation doesn\'t consider unchanged forms with initial data\n504.         as "empty".\n505.         """\n506.         initial = [\n507.             {"choice": "Zero", "votes": 0},\n508.             {"choice": "One", "votes": 0},\n509.         ]\n510.         data = {\n511.             "choices-TOTAL_FORMS": "2",\n512.             "choices-INITIAL_FORMS": "2",\n513.             "choices-MIN_NUM_FORMS": "0",\n514.             "choices-MAX_NUM_FORMS": "2",\n515.             "choices-0-choice": "Zero",\n516.             "choices-0-votes": "0",\n517.             "choices-1-choice": "One",\n518.             "choices-1-votes": "1",  # changed from initial\n519.         }\n520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)\n521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)\n522.         self.assertFalse(formset.forms[0].has_changed())\n523.         self.assertTrue(formset.forms[1].has_changed())\n524.         self.assertTrue(formset.is_valid())\n525. \n526.     def test_formset_validate_min_excludes_empty_forms(self):\n527.         data = {\n528.             "choices-TOTAL_FORMS": "2",\n529.             "choices-INITIAL_FORMS": "0",\n530.         }\n531.         ChoiceFormSet = formset_factory(\n532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True\n533.         )\n534.         formset = ChoiceFormSet(data, prefix="choices")\n535.         self.assertFalse(formset.has_changed())\n536.         self.assertFalse(formset.is_valid())\n537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])\n538. \n539.     def test_second_form_partially_filled_2(self):\n540.         """A partially completed form is invalid."""\n541.         data = {\n542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n546.             "choices-0-choice": "Calexico",\n547.             "choices-0-votes": "100",\n548.             "choices-1-choice": "The Decemberists",\n549.             "choices-1-votes": "",  # missing value\n550.             "choices-2-choice": "",\n551.             "choices-2-votes": "",\n552.         }\n553.         ChoiceFormSet = formset_factory(Choice, extra=3)\n554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n555.         self.assertFalse(formset.is_valid())\n556.         self.assertEqual(\n557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]\n558.         )\n559. \n560.     def test_more_initial_data(self):\n561.         """\n562.         The extra argument works when the formset is pre-filled with initial\n563.         data.\n564.         """\n565.         initial = [{"choice": "Calexico", "votes": 100}]\n566.         ChoiceFormSet = formset_factory(Choice, extra=3)\n567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n568.         self.assertHTMLEqual(\n569.             "\\n".join(form.as_ul() for form in formset.forms),\n570.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n571.             "</li>"\n572.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n573.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n574.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\'\n575.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n576.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n577.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n578.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\',\n579.         )\n580.         # Retrieving an empty form works. Tt shows up in the form list.\n581.         self.assertTrue(formset.empty_form.empty_permitted)\n582.         self.assertHTMLEqual(\n583.             formset.empty_form.as_ul(),\n584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>\n585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",\n586.         )\n587. \n588.     def test_formset_with_deletion(self):\n589.         """\n590.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n591.         each form. When that boolean field is True, the form will be in\n592.         formset.deleted_forms.\n593.         """\n594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n595.         initial = [\n596.             {"choice": "Calexico", "votes": 100},\n597.             {"choice": "Fergie", "votes": 900},\n598.         ]\n599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n600.         self.assertHTMLEqual(\n601.             "\\n".join(form.as_ul() for form in formset.forms),\n602.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n603.             "</li>"\n604.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n605.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n606.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n607.             "</li>"\n608.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n609.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n610.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n611.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n612.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\',\n613.         )\n614.         # To delete something, set that form\'s special delete field to \'on\'.\n615.         # Let\'s go ahead and delete Fergie.\n616.         data = {\n617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n621.             "choices-0-choice": "Calexico",\n622.             "choices-0-votes": "100",\n623.             "choices-0-DELETE": "",\n624.             "choices-1-choice": "Fergie",\n625.             "choices-1-votes": "900",\n626.             "choices-1-DELETE": "on",\n627.             "choices-2-choice": "",\n628.             "choices-2-votes": "",\n629.             "choices-2-DELETE": "",\n630.         }\n631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n632.         self.assertTrue(formset.is_valid())\n633.         self.assertEqual(\n634.             [form.cleaned_data for form in formset.forms],\n635.             [\n636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},\n637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},\n638.                 {},\n639.             ],\n640.         )\n641.         self.assertEqual(\n642.             [form.cleaned_data for form in formset.deleted_forms],\n643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],\n644.         )\n645. \n646.     def test_formset_with_deletion_remove_deletion_flag(self):\n647.         """\n648.         If a form is filled with something and can_delete is also checked, that\n649.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n650.         going to be deleted.\n651.         """\n652. \n653.         class CheckForm(Form):\n654.             field = IntegerField(min_value=100)\n655. \n656.         data = {\n657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered\n658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data\n659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n660.             "check-MAX_NUM_FORMS": "0",  # max number of forms\n661.             "check-0-field": "200",\n662.             "check-0-DELETE": "",\n663.             "check-1-field": "50",\n664.             "check-1-DELETE": "on",\n665.             "check-2-field": "",\n666.             "check-2-DELETE": "",\n667.         }\n668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)\n669.         formset = CheckFormSet(data, prefix="check")\n670.         self.assertTrue(formset.is_valid())\n671.         # If the deletion flag is removed, validation is enabled.\n672.         data["check-1-DELETE"] = ""\n673.         formset = CheckFormSet(data, prefix="check")\n674.         self.assertFalse(formset.is_valid())\n675. \n676.     def test_formset_with_deletion_invalid_deleted_form(self):\n677.         """\n678.         deleted_forms works on a valid formset even if a deleted form would\n679.         have been invalid.\n680.         """\n681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n682.         formset = FavoriteDrinkFormset(\n683.             {\n684.                 "form-0-name": "",\n685.                 "form-0-DELETE": "on",  # no name!\n686.                 "form-TOTAL_FORMS": 1,\n687.                 "form-INITIAL_FORMS": 1,\n688.                 "form-MIN_NUM_FORMS": 0,\n689.                 "form-MAX_NUM_FORMS": 1,\n690.             }\n691.         )\n692.         self.assertTrue(formset.is_valid())\n693.         self.assertEqual(formset._errors, [])\n694.         self.assertEqual(len(formset.deleted_forms), 1)\n695. \n696.     def test_formset_with_deletion_custom_widget(self):\n697.         class DeletionAttributeFormSet(BaseFormSet):\n698.             deletion_widget = HiddenInput\n699. \n700.         class DeletionMethodFormSet(BaseFormSet):\n701.             def get_deletion_widget(self):\n702.                 return HiddenInput(attrs={"class": "deletion"})\n703. \n704.         tests = [\n705.             (DeletionAttributeFormSet, \'<input type="hidden" name="form-0-DELETE">\'),\n706.             (\n707.                 DeletionMethodFormSet,\n708.                 \'<input class="deletion" type="hidden" name="form-0-DELETE">\',\n709.             ),\n710.         ]\n711.         for formset_class, delete_html in tests:\n712.             with self.subTest(formset_class=formset_class.__name__):\n713.                 ArticleFormSet = formset_factory(\n714.                     ArticleForm,\n715.                     formset=formset_class,\n716.                     can_delete=True,\n717.                 )\n718.                 formset = ArticleFormSet(auto_id=False)\n719.                 self.assertHTMLEqual(\n720.                     "\\n".join([form.as_ul() for form in formset.forms]),\n721.                     (\n722.                         f\'<li>Title: <input type="text" name="form-0-title"></li>\'\n723.                         f\'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n724.                         f"{delete_html}</li>"\n725.                     ),\n726.                 )\n727. \n728.     def test_formsets_with_ordering(self):\n729.         """\n730.         formset_factory\'s can_order argument adds an integer field to each\n731.         form. When form validation succeeds,\n732.             [form.cleaned_data for form in formset.forms]\n733.         will have the data in the correct order specified by the ordering\n734.         fields. If a number is duplicated in the set of ordering fields, for\n735.         instance form 0 and form 3 are both marked as 1, then the form index\n736.         used as a secondary ordering criteria. In order to put something at the\n737.         front of the list, you\'d need to set its order to 0.\n738.         """\n739.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n740.         initial = [\n741.             {"choice": "Calexico", "votes": 100},\n742.             {"choice": "Fergie", "votes": 900},\n743.         ]\n744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n745.         self.assertHTMLEqual(\n746.             "\\n".join(form.as_ul() for form in formset.forms),\n747.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n748.             "</li>"\n749.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n750.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n751.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n752.             "</li>"\n753.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n754.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n755.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n756.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n757.             \'<li>Order: <input type="number" name="choices-2-ORDER"></li>\',\n758.         )\n759.         data = {\n760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n764.             "choices-0-choice": "Calexico",\n765.             "choices-0-votes": "100",\n766.             "choices-0-ORDER": "1",\n767.             "choices-1-choice": "Fergie",\n768.             "choices-1-votes": "900",\n769.             "choices-1-ORDER": "2",\n770.             "choices-2-choice": "The Decemberists",\n771.             "choices-2-votes": "500",\n772.             "choices-2-ORDER": "0",\n773.         }\n774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n775.         self.assertTrue(formset.is_valid())\n776.         self.assertEqual(\n777.             [form.cleaned_data for form in formset.ordered_forms],\n778.             [\n779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},\n780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n782.             ],\n783.         )\n784. \n785.     def test_formsets_with_ordering_custom_widget(self):\n786.         class OrderingAttributeFormSet(BaseFormSet):\n787.             ordering_widget = HiddenInput\n788. \n789.         class OrderingMethodFormSet(BaseFormSet):\n790.             def get_ordering_widget(self):\n791.                 return HiddenInput(attrs={"class": "ordering"})\n792. \n793.         tests = (\n794.             (OrderingAttributeFormSet, \'<input type="hidden" name="form-0-ORDER">\'),\n795.             (\n796.                 OrderingMethodFormSet,\n797.                 \'<input class="ordering" type="hidden" name="form-0-ORDER">\',\n798.             ),\n799.         )\n800.         for formset_class, order_html in tests:\n801.             with self.subTest(formset_class=formset_class.__name__):\n802.                 ArticleFormSet = formset_factory(\n803.                     ArticleForm, formset=formset_class, can_order=True\n804.                 )\n805.                 formset = ArticleFormSet(auto_id=False)\n806.                 self.assertHTMLEqual(\n807.                     "\\n".join(form.as_ul() for form in formset.forms),\n808.                     (\n809.                         \'<li>Title: <input type="text" name="form-0-title"></li>\'\n810.                         \'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n811.                         "%s</li>" % order_html\n812.                     ),\n813.                 )\n814. \n815.     def test_empty_ordered_fields(self):\n816.         """\n817.         Ordering fields are allowed to be left blank. If they are left blank,\n818.         they\'ll be sorted below everything else.\n819.         """\n820.         data = {\n821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n825.             "choices-0-choice": "Calexico",\n826.             "choices-0-votes": "100",\n827.             "choices-0-ORDER": "1",\n828.             "choices-1-choice": "Fergie",\n829.             "choices-1-votes": "900",\n830.             "choices-1-ORDER": "2",\n831.             "choices-2-choice": "The Decemberists",\n832.             "choices-2-votes": "500",\n833.             "choices-2-ORDER": "",\n834.             "choices-3-choice": "Basia Bulat",\n835.             "choices-3-votes": "50",\n836.             "choices-3-ORDER": "",\n837.         }\n838.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n840.         self.assertTrue(formset.is_valid())\n841.         self.assertEqual(\n842.             [form.cleaned_data for form in formset.ordered_forms],\n843.             [\n844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},\n847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},\n848.             ],\n849.         )\n850. \n851.     def test_ordering_blank_fieldsets(self):\n852.         """Ordering works with blank fieldsets."""\n853.         data = {\n854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n858.         }\n859.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n861.         self.assertTrue(formset.is_valid())\n862.         self.assertEqual(formset.ordered_forms, [])\n863. \n864.     def test_formset_with_ordering_and_deletion(self):\n865.         """FormSets with ordering + deletion."""\n866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)\n867.         initial = [\n868.             {"choice": "Calexico", "votes": 100},\n869.             {"choice": "Fergie", "votes": 900},\n870.             {"choice": "The Decemberists", "votes": 500},\n871.         ]\n872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n873.         self.assertHTMLEqual(\n874.             "\\n".join(form.as_ul() for form in formset.forms),\n875.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n876.             "</li>"\n877.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n878.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n879.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n880.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n881.             "</li>"\n882.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n883.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n884.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n885.             \'<li>Choice: <input type="text" name="choices-2-choice" \'\n886.             \'value="The Decemberists"></li>\'\n887.             \'<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>\'\n888.             \'<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>\'\n889.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\'\n890.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n891.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\'\n892.             \'<li>Order: <input type="number" name="choices-3-ORDER"></li>\'\n893.             \'<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>\',\n894.         )\n895.         # Let\'s delete Fergie, and put The Decemberists ahead of Calexico.\n896.         data = {\n897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n901.             "choices-0-choice": "Calexico",\n902.             "choices-0-votes": "100",\n903.             "choices-0-ORDER": "1",\n904.             "choices-0-DELETE": "",\n905.             "choices-1-choice": "Fergie",\n906.             "choices-1-votes": "900",\n907.             "choices-1-ORDER": "2",\n908.             "choices-1-DELETE": "on",\n909.             "choices-2-choice": "The Decemberists",\n910.             "choices-2-votes": "500",\n911.             "choices-2-ORDER": "0",\n912.             "choices-2-DELETE": "",\n913.             "choices-3-choice": "",\n914.             "choices-3-votes": "",\n915.             "choices-3-ORDER": "",\n916.             "choices-3-DELETE": "",\n917.         }\n918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n919.         self.assertTrue(formset.is_valid())\n920.         self.assertEqual(\n921.             [form.cleaned_data for form in formset.ordered_forms],\n922.             [\n923.                 {\n924.                     "votes": 500,\n925.                     "DELETE": False,\n926.                     "ORDER": 0,\n927.                     "choice": "The Decemberists",\n928.                 },\n929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},\n930.             ],\n931.         )\n932.         self.assertEqual(\n933.             [form.cleaned_data for form in formset.deleted_forms],\n934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],\n935.         )\n936. \n937.     def test_invalid_deleted_form_with_ordering(self):\n938.         """\n939.         Can get ordered_forms from a valid formset even if a deleted form\n940.         would have been invalid.\n941.         """\n942.         FavoriteDrinkFormset = formset_factory(\n943.             form=FavoriteDrinkForm, can_delete=True, can_order=True\n944.         )\n945.         formset = FavoriteDrinkFormset(\n946.             {\n947.                 "form-0-name": "",\n948.                 "form-0-DELETE": "on",  # no name!\n949.                 "form-TOTAL_FORMS": 1,\n950.                 "form-INITIAL_FORMS": 1,\n951.                 "form-MIN_NUM_FORMS": 0,\n952.                 "form-MAX_NUM_FORMS": 1,\n953.             }\n954.         )\n955.         self.assertTrue(formset.is_valid())\n956.         self.assertEqual(formset.ordered_forms, [])\n957. \n958.     def test_clean_hook(self):\n959.         """\n960.         FormSets have a clean() hook for doing extra validation that isn\'t tied\n961.         to any form. It follows the same pattern as the clean() hook on Forms.\n962.         """\n963.         # Start out with a some duplicate data.\n964.         data = {\n965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n969.             "drinks-0-name": "Gin and Tonic",\n970.             "drinks-1-name": "Gin and Tonic",\n971.         }\n972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n973.         self.assertFalse(formset.is_valid())\n974.         # Any errors raised by formset.clean() are available via the\n975.         # formset.non_form_errors() method.\n976.         for error in formset.non_form_errors():\n977.             self.assertEqual(str(error), "You may only specify a drink once.")\n978.         # The valid case still works.\n979.         data["drinks-1-name"] = "Bloody Mary"\n980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n981.         self.assertTrue(formset.is_valid())\n982.         self.assertEqual(formset.non_form_errors(), [])\n983. \n984.     def test_limiting_max_forms(self):\n985.         """Limiting the maximum number of forms with max_num."""\n986.         # When not passed, max_num will take a high default value, leaving the\n987.         # number of forms only controlled by the value of the extra parameter.\n988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)\n989.         formset = LimitedFavoriteDrinkFormSet()\n990.         self.assertHTMLEqual(\n991.             "\\n".join(str(form) for form in formset.forms),\n992.             """<div><label for="id_form-0-name">Name:</label>\n993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>\n994. <div><label for="id_form-1-name">Name:</label>\n995. <input type="text" name="form-1-name" id="id_form-1-name"></div>\n996. <div><label for="id_form-2-name">Name:</label>\n997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",\n998.         )\n999.         # If max_num is 0 then no form is rendered at all.\n1000.         LimitedFavoriteDrinkFormSet = formset_factory(\n1001.             FavoriteDrinkForm, extra=3, max_num=0\n1002.         )\n1003.         formset = LimitedFavoriteDrinkFormSet()\n1004.         self.assertEqual(formset.forms, [])\n1005. \n1006.     def test_limited_max_forms_two(self):\n1007.         LimitedFavoriteDrinkFormSet = formset_factory(\n1008.             FavoriteDrinkForm, extra=5, max_num=2\n1009.         )\n1010.         formset = LimitedFavoriteDrinkFormSet()\n1011.         self.assertHTMLEqual(\n1012.             "\\n".join(str(form) for form in formset.forms),\n1013.             """<div><label for="id_form-0-name">Name:</label>\n1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>\n1015. <div><label for="id_form-1-name">Name:</label>\n1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1017.         )\n1018. \n1019.     def test_limiting_extra_lest_than_max_num(self):\n1020.         """max_num has no effect when extra is less than max_num."""\n1021.         LimitedFavoriteDrinkFormSet = formset_factory(\n1022.             FavoriteDrinkForm, extra=1, max_num=2\n1023.         )\n1024.         formset = LimitedFavoriteDrinkFormSet()\n1025.         self.assertHTMLEqual(\n1026.             "\\n".join(str(form) for form in formset.forms),\n1027.             """<div><label for="id_form-0-name">Name:</label>\n1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",\n1029.         )\n1030. \n1031.     def test_max_num_with_initial_data(self):\n1032.         # When not passed, max_num will take a high default value, leaving the\n1033.         # number of forms only controlled by the value of the initial and extra\n1034.         # parameters.\n1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)\n1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])\n1037.         self.assertHTMLEqual(\n1038.             "\\n".join(str(form) for form in formset.forms),\n1039.             """\n1040.             <div><label for="id_form-0-name">Name:</label>\n1041.             <input type="text" name="form-0-name" value="Fernet and Coke"\n1042.                 id="id_form-0-name"></div>\n1043.             <div><label for="id_form-1-name">Name:</label>\n1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>\n1045.             """,\n1046.         )\n1047. \n1048.     def test_max_num_zero(self):\n1049.         """\n1050.         If max_num is 0 then no form is rendered at all, regardless of extra,\n1051.         unless initial data is present.\n1052.         """\n1053.         LimitedFavoriteDrinkFormSet = formset_factory(\n1054.             FavoriteDrinkForm, extra=1, max_num=0\n1055.         )\n1056.         formset = LimitedFavoriteDrinkFormSet()\n1057.         self.assertEqual(formset.forms, [])\n1058. \n1059.     def test_max_num_zero_with_initial(self):\n1060.         # initial trumps max_num\n1061.         initial = [\n1062.             {"name": "Fernet and Coke"},\n1063.             {"name": "Bloody Mary"},\n1064.         ]\n1065.         LimitedFavoriteDrinkFormSet = formset_factory(\n1066.             FavoriteDrinkForm, extra=1, max_num=0\n1067.         )\n1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1069.         self.assertHTMLEqual(\n1070.             "\\n".join(str(form) for form in formset.forms),\n1071.             """\n1072.             <div><label for="id_form-0-name">Name:</label>\n1073.             <input id="id_form-0-name" name="form-0-name" type="text"\n1074.                 value="Fernet and Coke"></div>\n1075.             <div><label for="id_form-1-name">Name:</label>\n1076.             <input id="id_form-1-name" name="form-1-name" type="text"\n1077.                 value="Bloody Mary"></div>\n1078.             """,\n1079.         )\n1080. \n1081.     def test_more_initial_than_max_num(self):\n1082.         """\n1083.         More initial forms than max_num results in all initial forms being\n1084.         displayed (but no extra forms).\n1085.         """\n1086.         initial = [\n1087.             {"name": "Gin Tonic"},\n1088.             {"name": "Bloody Mary"},\n1089.             {"name": "Jack and Coke"},\n1090.         ]\n1091.         LimitedFavoriteDrinkFormSet = formset_factory(\n1092.             FavoriteDrinkForm, extra=1, max_num=2\n1093.         )\n1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1095.         self.assertHTMLEqual(\n1096.             "\\n".join(str(form) for form in formset.forms),\n1097.             """\n1098.             <div><label for="id_form-0-name">Name:</label>\n1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">\n1100.             </div>\n1101.             <div><label for="id_form-1-name">Name:</label>\n1102.             <input id="id_form-1-name" name="form-1-name" type="text"\n1103.                 value="Bloody Mary"></div>\n1104.             <div><label for="id_form-2-name">Name:</label>\n1105.             <input id="id_form-2-name" name="form-2-name" type="text"\n1106.                 value="Jack and Coke"></div>\n1107.             """,\n1108.         )\n1109. \n1110.     def test_default_absolute_max(self):\n1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.\n1112.         data = {\n1113.             "form-TOTAL_FORMS": 2001,\n1114.             "form-INITIAL_FORMS": "0",\n1115.             "form-MAX_NUM_FORMS": "0",\n1116.         }\n1117.         formset = FavoriteDrinksFormSet(data=data)\n1118.         self.assertIs(formset.is_valid(), False)\n1119.         self.assertEqual(\n1120.             formset.non_form_errors(),\n1121.             ["Please submit at most 1000 forms."],\n1122.         )\n1123.         self.assertEqual(formset.absolute_max, 2000)\n1124. \n1125.     def test_absolute_max(self):\n1126.         data = {\n1127.             "form-TOTAL_FORMS": "2001",\n1128.             "form-INITIAL_FORMS": "0",\n1129.             "form-MAX_NUM_FORMS": "0",\n1130.         }\n1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(\n1132.             FavoriteDrinkForm,\n1133.             absolute_max=3000,\n1134.         )\n1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1136.         self.assertIs(formset.is_valid(), True)\n1137.         self.assertEqual(len(formset.forms), 2001)\n1138.         # absolute_max provides a hard limit.\n1139.         data["form-TOTAL_FORMS"] = "3001"\n1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1141.         self.assertIs(formset.is_valid(), False)\n1142.         self.assertEqual(len(formset.forms), 3000)\n1143.         self.assertEqual(\n1144.             formset.non_form_errors(),\n1145.             ["Please submit at most 1000 forms."],\n1146.         )\n1147. \n1148.     def test_absolute_max_with_max_num(self):\n1149.         data = {\n1150.             "form-TOTAL_FORMS": "1001",\n1151.             "form-INITIAL_FORMS": "0",\n1152.             "form-MAX_NUM_FORMS": "0",\n1153.         }\n1154.         LimitedFavoriteDrinksFormSet = formset_factory(\n1155.             FavoriteDrinkForm,\n1156.             max_num=30,\n1157.             absolute_max=1000,\n1158.         )\n1159.         formset = LimitedFavoriteDrinksFormSet(data=data)\n1160.         self.assertIs(formset.is_valid(), False)\n1161.         self.assertEqual(len(formset.forms), 1000)\n1162.         self.assertEqual(\n1163.             formset.non_form_errors(),\n1164.             ["Please submit at most 30 forms."],\n1165.         )\n1166. \n1167.     def test_absolute_max_invalid(self):\n1168.         msg = "\'absolute_max\' must be greater or equal to \'max_num\'."\n1169.         for max_num in [None, 31]:\n1170.             with self.subTest(max_num=max_num):\n1171.                 with self.assertRaisesMessage(ValueError, msg):\n1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)\n1173. \n1174.     def test_more_initial_form_result_in_one(self):\n1175.         """\n1176.         One form from initial and extra=3 with max_num=2 results in the one\n1177.         initial form and one extra.\n1178.         """\n1179.         LimitedFavoriteDrinkFormSet = formset_factory(\n1180.             FavoriteDrinkForm, extra=3, max_num=2\n1181.         )\n1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])\n1183.         self.assertHTMLEqual(\n1184.             "\\n".join(str(form) for form in formset.forms),\n1185.             """\n1186.             <div><label for="id_form-0-name">Name:</label>\n1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">\n1188.             </div>\n1189.             <div><label for="id_form-1-name">Name:</label>\n1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1191.         )\n1192. \n1193.     def test_management_form_field_names(self):\n1194.         """The management form class has field names matching the constants."""\n1195.         self.assertCountEqual(\n1196.             ManagementForm.base_fields,\n1197.             [\n1198.                 TOTAL_FORM_COUNT,\n1199.                 INITIAL_FORM_COUNT,\n1200.                 MIN_NUM_FORM_COUNT,\n1201.                 MAX_NUM_FORM_COUNT,\n1202.             ],\n1203.         )\n1204. \n1205.     def test_management_form_prefix(self):\n1206.         """The management form has the correct prefix."""\n1207.         formset = FavoriteDrinksFormSet()\n1208.         self.assertEqual(formset.management_form.prefix, "form")\n1209.         data = {\n1210.             "form-TOTAL_FORMS": "2",\n1211.             "form-INITIAL_FORMS": "0",\n1212.             "form-MIN_NUM_FORMS": "0",\n1213.             "form-MAX_NUM_FORMS": "0",\n1214.         }\n1215.         formset = FavoriteDrinksFormSet(data=data)\n1216.         self.assertEqual(formset.management_form.prefix, "form")\n1217.         formset = FavoriteDrinksFormSet(initial={})\n1218.         self.assertEqual(formset.management_form.prefix, "form")\n1219. \n1220.     def test_non_form_errors(self):\n1221.         data = {\n1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n1226.             "drinks-0-name": "Gin and Tonic",\n1227.             "drinks-1-name": "Gin and Tonic",\n1228.         }\n1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n1230.         self.assertFalse(formset.is_valid())\n1231.         self.assertEqual(\n1232.             formset.non_form_errors(), ["You may only specify a drink once."]\n1233.         )\n1234.         self.assertEqual(\n1235.             str(formset.non_form_errors()),\n1236.             \'<ul class="errorlist nonform"><li>\'\n1237.             "You may only specify a drink once.</li></ul>",\n1238.         )\n1239. \n1240.     def test_formset_iteration(self):\n1241.         """Formset instances are iterable."""\n1242.         ChoiceFormset = formset_factory(Choice, extra=3)\n1243.         formset = ChoiceFormset()\n1244.         # An iterated formset yields formset.forms.\n1245.         forms = list(formset)\n1246.         self.assertEqual(forms, formset.forms)\n1247.         self.assertEqual(len(formset), len(forms))\n1248.         # A formset may be indexed to retrieve its forms.\n1249.         self.assertEqual(formset[0], forms[0])\n1250.         with self.assertRaises(IndexError):\n1251.             formset[3]\n1252. \n1253.         # Formsets can override the default iteration order\n1254.         class BaseReverseFormSet(BaseFormSet):\n1255.             def __iter__(self):\n1256.                 return reversed(self.forms)\n1257. \n1258.             def __getitem__(self, idx):\n1259.                 return super().__getitem__(len(self) - idx - 1)\n1260. \n1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)\n1262.         reverse_formset = ReverseChoiceFormset()\n1263.         # __iter__() modifies the rendering order.\n1264.         # Compare forms from "reverse" formset with forms from original formset\n1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))\n1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))\n1267.         self.assertEqual(len(reverse_formset), len(forms))\n1268. \n1269.     def test_formset_nonzero(self):\n1270.         """A formsets without any forms evaluates as True."""\n1271.         ChoiceFormset = formset_factory(Choice, extra=0)\n1272.         formset = ChoiceFormset()\n1273.         self.assertEqual(len(formset.forms), 0)\n1274.         self.assertTrue(formset)\n1275. \n1276.     def test_formset_splitdatetimefield(self):\n1277.         """\n1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).\n1279.         """\n1280. \n1281.         class SplitDateTimeForm(Form):\n1282.             when = SplitDateTimeField(initial=datetime.datetime.now)\n1283. \n1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)\n1285.         data = {\n1286.             "form-TOTAL_FORMS": "1",\n1287.             "form-INITIAL_FORMS": "0",\n1288.             "form-0-when_0": "1904-06-16",\n1289.             "form-0-when_1": "15:51:33",\n1290.         }\n1291.         formset = SplitDateTimeFormSet(data)\n1292.         self.assertTrue(formset.is_valid())\n1293. \n1294.     def test_formset_error_class(self):\n1295.         """Formset\'s forms use the formset\'s error_class."""\n1296. \n1297.         class CustomErrorList(ErrorList):\n1298.             pass\n1299. \n1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)\n1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)\n1302. \n1303.     def test_formset_calls_forms_is_valid(self):\n1304.         """Formsets call is_valid() on each form."""\n1305. \n1306.         class AnotherChoice(Choice):\n1307.             def is_valid(self):\n1308.                 self.is_valid_called = True\n1309.                 return super().is_valid()\n1310. \n1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)\n1312.         data = {\n1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered\n1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data\n1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n1317.             "choices-0-choice": "Calexico",\n1318.             "choices-0-votes": "100",\n1319.         }\n1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")\n1321.         self.assertTrue(formset.is_valid())\n1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))\n1323. \n1324.     def test_hard_limit_on_instantiated_forms(self):\n1325.         """A formset has a hard limit on the number of forms instantiated."""\n1326.         # reduce the default limit of 1000 temporarily for testing\n1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1328.         try:\n1329.             formsets.DEFAULT_MAX_NUM = 2\n1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)\n1331.             # someone fiddles with the mgmt form data...\n1332.             formset = ChoiceFormSet(\n1333.                 {\n1334.                     "choices-TOTAL_FORMS": "4",\n1335.                     "choices-INITIAL_FORMS": "0",\n1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1337.                     "choices-MAX_NUM_FORMS": "4",\n1338.                     "choices-0-choice": "Zero",\n1339.                     "choices-0-votes": "0",\n1340.                     "choices-1-choice": "One",\n1341.                     "choices-1-votes": "1",\n1342.                     "choices-2-choice": "Two",\n1343.                     "choices-2-votes": "2",\n1344.                     "choices-3-choice": "Three",\n1345.                     "choices-3-votes": "3",\n1346.                 },\n1347.                 prefix="choices",\n1348.             )\n1349.             # But we still only instantiate 3 forms\n1350.             self.assertEqual(len(formset.forms), 3)\n1351.             # and the formset isn\'t valid\n1352.             self.assertFalse(formset.is_valid())\n1353.         finally:\n1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1355. \n1356.     def test_increase_hard_limit(self):\n1357.         """Can increase the built-in forms limit via a higher max_num."""\n1358.         # reduce the default limit of 1000 temporarily for testing\n1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1360.         try:\n1361.             formsets.DEFAULT_MAX_NUM = 3\n1362.             # for this form, we want a limit of 4\n1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)\n1364.             formset = ChoiceFormSet(\n1365.                 {\n1366.                     "choices-TOTAL_FORMS": "4",\n1367.                     "choices-INITIAL_FORMS": "0",\n1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1369.                     "choices-MAX_NUM_FORMS": "4",\n1370.                     "choices-0-choice": "Zero",\n1371.                     "choices-0-votes": "0",\n1372.                     "choices-1-choice": "One",\n1373.                     "choices-1-votes": "1",\n1374.                     "choices-2-choice": "Two",\n1375.                     "choices-2-votes": "2",\n1376.                     "choices-3-choice": "Three",\n1377.                     "choices-3-votes": "3",\n1378.                 },\n1379.                 prefix="choices",\n1380.             )\n1381.             # Four forms are instantiated and no exception is raised\n1382.             self.assertEqual(len(formset.forms), 4)\n1383.         finally:\n1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1385. \n1386.     def test_non_form_errors_run_full_clean(self):\n1387.         """\n1388.         If non_form_errors() is called without calling is_valid() first,\n1389.         it should ensure that full_clean() is called.\n1390.         """\n1391. \n1392.         class BaseCustomFormSet(BaseFormSet):\n1393.             def clean(self):\n1394.                 raise ValidationError("This is a non-form error")\n1395. \n1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)\n1397.         data = {\n1398.             "choices-TOTAL_FORMS": "1",\n1399.             "choices-INITIAL_FORMS": "0",\n1400.         }\n1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)\n1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])\n1404. \n1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):\n1406.         class CheckForm(Form):\n1407.             field = IntegerField()\n1408. \n1409.         data = {\n1410.             "check-TOTAL_FORMS": "2",\n1411.             "check-INITIAL_FORMS": "0",\n1412.             "check-MAX_NUM_FORMS": "1",\n1413.             "check-0-field": "200",\n1414.             "check-0-DELETE": "",\n1415.             "check-1-field": "50",\n1416.             "check-1-DELETE": "on",\n1417.         }\n1418.         CheckFormSet = formset_factory(\n1419.             CheckForm, max_num=1, validate_max=True, can_delete=True\n1420.         )\n1421.         formset = CheckFormSet(data, prefix="check")\n1422.         self.assertTrue(formset.is_valid())\n1423. \n1424.     def test_formset_total_error_count(self):\n1425.         """A valid formset should have 0 total errors."""\n1426.         data = [  # formset_data, expected error count\n1427.             ([("Calexico", "100")], 0),\n1428.             ([("Calexico", "")], 1),\n1429.             ([("", "invalid")], 2),\n1430.             ([("Calexico", "100"), ("Calexico", "")], 1),\n1431.             ([("Calexico", ""), ("Calexico", "")], 2),\n1432.         ]\n1433.         for formset_data, expected_error_count in data:\n1434.             formset = self.make_choiceformset(formset_data)\n1435.             self.assertEqual(formset.total_error_count(), expected_error_count)\n1436. \n1437.     def test_formset_total_error_count_with_non_form_errors(self):\n1438.         data = {\n1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n1442.             "choices-0-choice": "Zero",\n1443.             "choices-0-votes": "0",\n1444.             "choices-1-choice": "One",\n1445.             "choices-1-votes": "1",\n1446.         }\n1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1449.         self.assertEqual(formset.total_error_count(), 1)\n1450.         data["choices-1-votes"] = ""\n1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1452.         self.assertEqual(formset.total_error_count(), 2)\n1453. \n1454.     def test_html_safe(self):\n1455.         formset = self.make_choiceformset()\n1456.         self.assertTrue(hasattr(formset, "__html__"))\n1457.         self.assertEqual(str(formset), formset.__html__())\n1458. \n1459.     def test_can_delete_extra_formset_forms(self):\n1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)\n1461.         formset = ChoiceFormFormset()\n1462.         self.assertEqual(len(formset), 2)\n1463.         self.assertIn("DELETE", formset.forms[0].fields)\n1464.         self.assertIn("DELETE", formset.forms[1].fields)\n1465. \n1466.     def test_disable_delete_extra_formset_forms(self):\n1467.         ChoiceFormFormset = formset_factory(\n1468.             form=Choice,\n1469.             can_delete=True,\n1470.             can_delete_extra=False,\n1471.             extra=2,\n1472.         )\n1473.         formset = ChoiceFormFormset()\n1474.         self.assertEqual(len(formset), 2)\n1475.         self.assertNotIn("DELETE", formset.forms[0].fields)\n1476.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1477. \n1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])\n1479.         self.assertEqual(len(formset), 3)\n1480.         self.assertIn("DELETE", formset.forms[0].fields)\n1481.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1482.         self.assertNotIn("DELETE", formset.forms[2].fields)\n1483. \n1484.         formset = ChoiceFormFormset(\n1485.             data={\n1486.                 "form-0-choice": "Zero",\n1487.                 "form-0-votes": "0",\n1488.                 "form-0-DELETE": "on",\n1489.                 "form-1-choice": "One",\n1490.                 "form-1-votes": "1",\n1491.                 "form-2-choice": "",\n1492.                 "form-2-votes": "",\n1493.                 "form-TOTAL_FORMS": "3",\n1494.                 "form-INITIAL_FORMS": "1",\n1495.             },\n1496.             initial=[{"choice": "Zero", "votes": "1"}],\n1497.         )\n1498.         self.assertEqual(\n1499.             formset.cleaned_data,\n1500.             [\n1501.                 {"choice": "Zero", "votes": 0, "DELETE": True},\n1502.                 {"choice": "One", "votes": 1},\n1503.                 {},\n1504.             ],\n1505.         )\n1506.         self.assertIs(formset._should_delete_form(formset.forms[0]), True)\n1507.         self.assertIs(formset._should_delete_form(formset.forms[1]), False)\n1508.         self.assertIs(formset._should_delete_form(formset.forms[2]), False)\n1509. \n1510.     def test_template_name_uses_renderer_value(self):\n1511.         class CustomRenderer(TemplatesSetting):\n1512.             formset_template_name = "a/custom/formset/template.html"\n1513. \n1514.         ChoiceFormSet = formset_factory(Choice, renderer=CustomRenderer)\n1515. \n1516.         self.assertEqual(\n1517.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1518.         )\n1519. \n1520.     def test_template_name_can_be_overridden(self):\n1521.         class CustomFormSet(BaseFormSet):\n1522.             template_name = "a/custom/formset/template.html"\n1523. \n1524.         ChoiceFormSet = formset_factory(Choice, formset=CustomFormSet)\n1525. \n1526.         self.assertEqual(\n1527.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1528.         )\n1529. \n1530.     def test_custom_renderer(self):\n1531.         """\n1532.         A custom renderer passed to a formset_factory() is passed to all forms\n1533.         and ErrorList.\n1534.         """\n1535.         from django.forms.renderers import Jinja2\n1536. \n1537.         renderer = Jinja2()\n1538.         data = {\n1539.             "choices-TOTAL_FORMS": "2",\n1540.             "choices-INITIAL_FORMS": "0",\n1541.             "choices-MIN_NUM_FORMS": "0",\n1542.             "choices-0-choice": "Zero",\n1543.             "choices-0-votes": "",\n1544.             "choices-1-choice": "One",\n1545.             "choices-1-votes": "",\n1546.         }\n1547.         ChoiceFormSet = formset_factory(Choice, renderer=renderer)\n1548.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1549.         self.assertEqual(formset.renderer, renderer)\n1550.         self.assertEqual(formset.forms[0].renderer, renderer)\n1551.         self.assertEqual(formset.management_form.renderer, renderer)\n1552.         self.assertEqual(formset.non_form_errors().renderer, renderer)\n1553.         self.assertEqual(formset.empty_form.renderer, renderer)\n1554. \n1555.     def test_repr(self):\n1556.         valid_formset = self.make_choiceformset([("test", 1)])\n1557.         valid_formset.full_clean()\n1558.         invalid_formset = self.make_choiceformset([("test", "")])\n1559.         invalid_formset.full_clean()\n1560.         partially_invalid_formset = self.make_choiceformset(\n1561.             [("test", "1"), ("test", "")],\n1562.         )\n1563.         partially_invalid_formset.full_clean()\n1564.         invalid_formset_non_form_errors_only = self.make_choiceformset(\n1565.             [("test", "")],\n1566.             formset_class=ChoiceFormsetWithNonFormError,\n1567.         )\n1568.         invalid_formset_non_form_errors_only.full_clean()\n1569. \n1570.         cases = [\n1571.             (\n1572.                 self.make_choiceformset(),\n1573.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=1>",\n1574.             ),\n1575.             (\n1576.                 self.make_choiceformset(\n1577.                     formset_class=formset_factory(Choice, extra=10),\n1578.                 ),\n1579.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=10>",\n1580.             ),\n1581.             (\n1582.                 self.make_choiceformset([]),\n1583.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=0>",\n1584.             ),\n1585.             (\n1586.                 self.make_choiceformset([("test", 1)]),\n1587.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=1>",\n1588.             ),\n1589.             (valid_formset, "<ChoiceFormSet: bound=True valid=True total_forms=1>"),\n1590.             (invalid_formset, "<ChoiceFormSet: bound=True valid=False total_forms=1>"),\n1591.             (\n1592.                 partially_invalid_formset,\n1593.                 "<ChoiceFormSet: bound=True valid=False total_forms=2>",\n1594.             ),\n1595.             (\n1596.                 invalid_formset_non_form_errors_only,\n1597.                 "<ChoiceFormsetWithNonFormError: bound=True valid=False total_forms=1>",\n1598.             ),\n1599.         ]\n1600.         for formset, expected_repr in cases:\n1601.             with self.subTest(expected_repr=expected_repr):\n1602.                 self.assertEqual(repr(formset), expected_repr)\n1603. \n1604.     def test_repr_do_not_trigger_validation(self):\n1605.         formset = self.make_choiceformset([("test", 1)])\n1606.         with mock.patch.object(formset, "full_clean") as mocked_full_clean:\n1607.             repr(formset)\n1608.             mocked_full_clean.assert_not_called()\n1609.             formset.is_valid()\n1610.             mocked_full_clean.assert_called()\n1611. \n1612. \n1613. @jinja2_tests\n1614. class Jinja2FormsFormsetTestCase(FormsFormsetTestCase):\n1615.     pass\n1616. \n1617. \n1618. class FormsetAsTagTests(SimpleTestCase):\n1619.     def setUp(self):\n1620.         data = {\n1621.             "choices-TOTAL_FORMS": "1",\n1622.             "choices-INITIAL_FORMS": "0",\n1623.             "choices-MIN_NUM_FORMS": "0",\n1624.             "choices-MAX_NUM_FORMS": "0",\n1625.             "choices-0-choice": "Calexico",\n1626.             "choices-0-votes": "100",\n1627.         }\n1628.         self.formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1629.         self.management_form_html = (\n1630.             \'<input type="hidden" name="choices-TOTAL_FORMS" value="1">\'\n1631.             \'<input type="hidden" name="choices-INITIAL_FORMS" value="0">\'\n1632.             \'<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\'\n1633.             \'<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">\'\n1634.         )\n1635. \n1636.     def test_as_table(self):\n1637.         self.assertHTMLEqual(\n1638.             self.formset.as_table(),\n1639.             self.management_form_html\n1640.             + (\n1641.                 "<tr><th>Choice:</th><td>"\n1642.                 \'<input type="text" name="choices-0-choice" value="Calexico"></td></tr>\'\n1643.                 "<tr><th>Votes:</th><td>"\n1644.                 \'<input type="number" name="choices-0-votes" value="100"></td></tr>\'\n1645.             ),\n1646.         )\n1647. \n1648.     def test_as_p(self):\n1649.         self.assertHTMLEqual(\n1650.             self.formset.as_p(),\n1651.             self.management_form_html\n1652.             + (\n1653.                 "<p>Choice: "\n1654.                 \'<input type="text" name="choices-0-choice" value="Calexico"></p>\'\n1655.                 \'<p>Votes: <input type="number" name="choices-0-votes" value="100"></p>\'\n1656.             ),\n1657.         )\n1658. \n1659.     def test_as_ul(self):\n1660.         self.assertHTMLEqual(\n1661.             self.formset.as_ul(),\n1662.             self.management_form_html\n1663.             + (\n1664.                 "<li>Choice: "\n1665.                 \'<input type="text" name="choices-0-choice" value="Calexico"></li>\'\n1666.                 "<li>Votes: "\n1667.                 \'<input type="number" name="choices-0-votes" value="100"></li>\'\n1668.             ),\n1669.         )\n1670. \n1671.     def test_as_div(self):\n1672.         self.assertHTMLEqual(\n1673.             self.formset.as_div(),\n1674.             self.management_form_html\n1675.             + (\n1676.                 "<div>Choice: "\n1677.                 \'<input type="text" name="choices-0-choice" value="Calexico"></div>\'\n1678.                 \'<div>Votes: <input type="number" name="choices-0-votes" value="100">\'\n1679.                 "</div>"\n1680.             ),\n1681.         )\n1682. \n1683. \n1684. @jinja2_tests\n1685. class Jinja2FormsetAsTagTests(FormsetAsTagTests):\n1686.     pass\n1687. \n1688. \n1689. class ArticleForm(Form):\n1690.     title = CharField()\n1691.     pub_date = DateField()\n1692. \n1693. \n1694. ArticleFormSet = formset_factory(ArticleForm)\n1695. \n1696. \n1697. class TestIsBoundBehavior(SimpleTestCase):\n1698.     def test_no_data_error(self):\n1699.         formset = ArticleFormSet({})\n1700.         self.assertIs(formset.is_valid(), False)\n1701.         self.assertEqual(\n1702.             formset.non_form_errors(),\n1703.             [\n1704.                 "ManagementForm data is missing or has been tampered with. "\n1705.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1706.                 "You may need to file a bug report if the issue persists.",\n1707.             ],\n1708.         )\n1709.         self.assertEqual(formset.errors, [])\n1710.         # Can still render the formset.\n1711.         self.assertHTMLEqual(\n1712.             str(formset),\n1713.             \'<ul class="errorlist nonfield">\'\n1714.             "<li>(Hidden field TOTAL_FORMS) This field is required.</li>"\n1715.             "<li>(Hidden field INITIAL_FORMS) This field is required.</li>"\n1716.             "</ul>"\n1717.             "<div>"\n1718.             \'<input type="hidden" name="form-TOTAL_FORMS" id="id_form-TOTAL_FORMS">\'\n1719.             \'<input type="hidden" name="form-INITIAL_FORMS" id="id_form-INITIAL_FORMS">\'\n1720.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1721.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1722.             "</div>\\n",\n1723.         )\n1724. \n1725.     def test_management_form_invalid_data(self):\n1726.         data = {\n1727.             "form-TOTAL_FORMS": "two",\n1728.             "form-INITIAL_FORMS": "one",\n1729.         }\n1730.         formset = ArticleFormSet(data)\n1731.         self.assertIs(formset.is_valid(), False)\n1732.         self.assertEqual(\n1733.             formset.non_form_errors(),\n1734.             [\n1735.                 "ManagementForm data is missing or has been tampered with. "\n1736.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1737.                 "You may need to file a bug report if the issue persists.",\n1738.             ],\n1739.         )\n1740.         self.assertEqual(formset.errors, [])\n1741.         # Can still render the formset.\n1742.         self.assertHTMLEqual(\n1743.             str(formset),\n1744.             \'<ul class="errorlist nonfield">\'\n1745.             "<li>(Hidden field TOTAL_FORMS) Enter a whole number.</li>"\n1746.             "<li>(Hidden field INITIAL_FORMS) Enter a whole number.</li>"\n1747.             "</ul>"\n1748.             "<div>"\n1749.             \'<input type="hidden" name="form-TOTAL_FORMS" value="two" \'\n1750.             \'id="id_form-TOTAL_FORMS">\'\n1751.             \'<input type="hidden" name="form-INITIAL_FORMS" value="one" \'\n1752.             \'id="id_form-INITIAL_FORMS">\'\n1753.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1754.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1755.             "</div>\\n",\n1756.         )\n1757. \n1758.     def test_customize_management_form_error(self):\n1759.         formset = ArticleFormSet(\n1760.             {}, error_messages={"missing_management_form": "customized"}\n1761.         )\n1762.         self.assertIs(formset.is_valid(), False)\n1763.         self.assertEqual(formset.non_form_errors(), ["customized"])\n1764.         self.assertEqual(formset.errors, [])\n1765. \n1766.     def test_with_management_data_attrs_work_fine(self):\n1767.         data = {\n1768.             "form-TOTAL_FORMS": "1",\n1769.             "form-INITIAL_FORMS": "0",\n1770.         }\n1771.         formset = ArticleFormSet(data)\n1772.         self.assertEqual(0, formset.initial_form_count())\n1773.         self.assertEqual(1, formset.total_form_count())\n1774.         self.assertTrue(formset.is_bound)\n1775.         self.assertTrue(formset.forms[0].is_bound)\n1776.         self.assertTrue(formset.is_valid())\n1777.         self.assertTrue(formset.forms[0].is_valid())\n1778.         self.assertEqual([{}], formset.cleaned_data)\n1779. \n1780.     def test_form_errors_are_caught_by_formset(self):\n1781.         data = {\n1782.             "form-TOTAL_FORMS": "2",\n1783.             "form-INITIAL_FORMS": "0",\n1784.             "form-0-title": "Test",\n1785.             "form-0-pub_date": "1904-06-16",\n1786.             "form-1-title": "Test",\n1787.             "form-1-pub_date": "",  # <-- this date is missing but required\n1788.         }\n1789.         formset = ArticleFormSet(data)\n1790.         self.assertFalse(formset.is_valid())\n1791.         self.assertEqual(\n1792.             [{}, {"pub_date": ["This field is required."]}], formset.errors\n1793.         )\n1794. \n1795.     def test_empty_forms_are_unbound(self):\n1796.         data = {\n1797.             "form-TOTAL_FORMS": "1",\n1798.             "form-INITIAL_FORMS": "0",\n1799.             "form-0-title": "Test",\n1800.             "form-0-pub_date": "1904-06-16",\n1801.         }\n1802.         unbound_formset = ArticleFormSet()\n1803.         bound_formset = ArticleFormSet(data)\n1804.         empty_forms = [unbound_formset.empty_form, bound_formset.empty_form]\n1805.         # Empty forms should be unbound\n1806.         self.assertFalse(empty_forms[0].is_bound)\n1807.         self.assertFalse(empty_forms[1].is_bound)\n1808.         # The empty forms should be equal.\n1809.         self.assertHTMLEqual(empty_forms[0].as_p(), empty_forms[1].as_p())\n1810. \n1811. \n1812. @jinja2_tests\n1813. class TestIsBoundBehavior(TestIsBoundBehavior):\n1814.     pass\n1815. \n1816. \n1817. class TestEmptyFormSet(SimpleTestCase):\n1818.     def test_empty_formset_is_valid(self):\n1819.         """An empty formset still calls clean()"""\n1820. \n1821.         class EmptyFsetWontValidate(BaseFormSet):\n1822.             def clean(self):\n1823.                 raise ValidationError("Clean method called")\n1824. \n1825.         EmptyFsetWontValidateFormset = formset_factory(\n1826.             FavoriteDrinkForm, extra=0, formset=EmptyFsetWontValidate\n1827.         )\n1828.         formset = EmptyFsetWontValidateFormset(\n1829.             data={"form-INITIAL_FORMS": "0", "form-TOTAL_FORMS": "0"},\n1830.             prefix="form",\n1831.         )\n1832.         formset2 = EmptyFsetWontValidateFormset(\n1833.             data={\n1834.                 "form-INITIAL_FORMS": "0",\n1835.                 "form-TOTAL_FORMS": "1",\n1836.                 "form-0-name": "bah",\n1837.             },\n1838.             prefix="form",\n1839.         )\n1840.         self.assertFalse(formset.is_valid())\n1841.         self.assertFalse(formset2.is_valid())\n1842. \n1843.     def test_empty_formset_media(self):\n1844.         """Media is available on empty formset."""\n1845. \n1846.         class MediaForm(Form):\n1847.             class Media:\n1848.                 js = ("some-file.js",)\n1849. \n1850.         self.assertIn("some-file.js", str(formset_factory(MediaForm, extra=0)().media))\n1851. \n1852.     def test_empty_formset_is_multipart(self):\n1853.         """is_multipart() works with an empty formset."""\n1854. \n1855.         class FileForm(Form):\n1856.             file = FileField()\n1857. \n1858.         self.assertTrue(formset_factory(FileForm, extra=0)().is_multipart())\n1859. \n1860. \n1861. class AllValidTests(SimpleTestCase):\n1862.     def test_valid(self):\n1863.         data = {\n1864.             "choices-TOTAL_FORMS": "2",\n1865.             "choices-INITIAL_FORMS": "0",\n1866.             "choices-MIN_NUM_FORMS": "0",\n1867.             "choices-0-choice": "Zero",\n1868.             "choices-0-votes": "0",\n1869.             "choices-1-choice": "One",\n1870.             "choices-1-votes": "1",\n1871.         }\n1872.         ChoiceFormSet = formset_factory(Choice)\n1873.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1874.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1875.         self.assertIs(all_valid((formset1, formset2)), True)\n1876.         expected_errors = [{}, {}]\n1877.         self.assertEqual(formset1._errors, expected_errors)\n1878.         self.assertEqual(formset2._errors, expected_errors)\n1879. \n1880.     def test_invalid(self):\n1881.         """all_valid() validates all forms, even when some are invalid."""\n1882.         data = {\n1883.             "choices-TOTAL_FORMS": "2",\n1884.             "choices-INITIAL_FORMS": "0",\n1885.             "choices-MIN_NUM_FORMS": "0",\n1886.             "choices-0-choice": "Zero",\n1887.             "choices-0-votes": "",\n1888.             "choices-1-choice": "One",\n1889.             "choices-1-votes": "",\n1890.         }\n1891.         ChoiceFormSet = formset_factory(Choice)\n1892.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1893.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1894.         self.assertIs(all_valid((formset1, formset2)), False)\n1895.         expected_errors = [\n1896.             {"votes": ["This field is required."]},\n1897.             {"votes": ["This field is required."]},\n1898.         ]\n1899.         self.assertEqual(formset1._errors, expected_errors)\n1900.         self.assertEqual(formset2._errors, expected_errors)', start_line_number=1, end_line_number=1900)]
2025-10-05 12:27:27,796 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nFormsets\' add_fields() method fails in some circumstances if the argument index is None.\n\nIssue description: \nDescription\n\t\nFormsets\' add_fields() method fails in some circumstances if the argument index is None.\nWhen a FormSet has the attributes self.can_delete == True and self.can_delete_extra == False, calling the add_fields() method on that FormSet fails if the argument index is None. This occurs for example when calling FormSet.empty_form(). The result is that the method raises the exception TypeError: \'<\' not supported between instances of \'NoneType\' and \'int\'. \nCode example:\nMyFormSet = forms.formset_factory(\n\tform=MyForm,\n\tcan_delete=True,\n\tcan_delete_extra=False,\n)\nmy_formset = MyFormSet(\n\tinitial=None,\n)\nprint(my_formset.empty_form)\nThe reason this happens is that in in line 493 of [django.forms.formsets](\u200bhttps://github.com/django/django/blob/main/django/forms/formsets.py) index is compared to initial_form_count:\nif self.can_delete and (self.can_delete_extra or index < initial_form_count):\nChecking for index not None should fix the issue:\nif self.can_delete and (self.can_delete_extra or (index is not None and index < initial_form_count)):\nHow to Reproduce\nA self-contained example to reproduce this bug is as follows:\n#!/usr/bin/env python3\nimport os\nimport django\nfrom django import forms\nclass MyForm(forms.Form):\n\tmy_field = forms.CharField()\nif __name__ == "__main__":\n\tsettings_file = os.path.splitext(os.path.basename(__file__))[0]\n\tdjango.conf.settings.configure(\n\t\tDEBUG=True,\n\t\tMIDDLEWARE_CLASSES=[],\n\t\tROOT_URLCONF=settings_file,\n\t)\n\tdjango.setup()\n\tMyFormSet = forms.formset_factory(\n\t\tform=MyForm,\n\t\tcan_delete=True,\n\t\tcan_delete_extra=False,\n\t)\n\tmy_formset = MyFormSet(\n\t\tinitial=None,\n\t)\n\tprint(my_formset.empty_form)\n\nIssue comments:\n\n\nBug reproducing context:\nFile: tests/forms_tests/tests/test_formsets.py\nLine number range: 1 - 1900\nContent:\n1. import datetime\n2. from collections import Counter\n3. from unittest import mock\n4. \n5. from django.core.exceptions import ValidationError\n6. from django.forms import (\n7.     BaseForm,\n8.     CharField,\n9.     DateField,\n10.     FileField,\n11.     Form,\n12.     IntegerField,\n13.     SplitDateTimeField,\n14.     formsets,\n15. )\n16. from django.forms.formsets import (\n17.     INITIAL_FORM_COUNT,\n18.     MAX_NUM_FORM_COUNT,\n19.     MIN_NUM_FORM_COUNT,\n20.     TOTAL_FORM_COUNT,\n21.     BaseFormSet,\n22.     ManagementForm,\n23.     all_valid,\n24.     formset_factory,\n25. )\n26. from django.forms.renderers import TemplatesSetting\n27. from django.forms.utils import ErrorList\n28. from django.forms.widgets import HiddenInput\n29. from django.test import SimpleTestCase\n30. \n31. from . import jinja2_tests\n32. \n33. \n34. class Choice(Form):\n35.     choice = CharField()\n36.     votes = IntegerField()\n37. \n38. \n39. ChoiceFormSet = formset_factory(Choice)\n40. \n41. \n42. class ChoiceFormsetWithNonFormError(ChoiceFormSet):\n43.     def clean(self):\n44.         super().clean()\n45.         raise ValidationError("non-form error")\n46. \n47. \n48. class FavoriteDrinkForm(Form):\n49.     name = CharField()\n50. \n51. \n52. class BaseFavoriteDrinksFormSet(BaseFormSet):\n53.     def clean(self):\n54.         seen_drinks = []\n55. \n56.         for drink in self.cleaned_data:\n57.             if drink["name"] in seen_drinks:\n58.                 raise ValidationError("You may only specify a drink once.")\n59. \n60.             seen_drinks.append(drink["name"])\n61. \n62. \n63. # A FormSet that takes a list of favorite drinks and raises an error if\n64. # there are any duplicates.\n65. FavoriteDrinksFormSet = formset_factory(\n66.     FavoriteDrinkForm, formset=BaseFavoriteDrinksFormSet, extra=3\n67. )\n68. \n69. \n70. class CustomKwargForm(Form):\n71.     def __init__(self, *args, custom_kwarg, **kwargs):\n72.         self.custom_kwarg = custom_kwarg\n73.         super().__init__(*args, **kwargs)\n74. \n75. \n76. class FormsFormsetTestCase(SimpleTestCase):\n77.     def make_choiceformset(\n78.         self,\n79.         formset_data=None,\n80.         formset_class=ChoiceFormSet,\n81.         total_forms=None,\n82.         initial_forms=0,\n83.         max_num_forms=0,\n84.         min_num_forms=0,\n85.         **kwargs,\n86.     ):\n87.         """\n88.         Make a ChoiceFormset from the given formset_data.\n89.         The data should be given as a list of (choice, votes) tuples.\n90.         """\n91.         kwargs.setdefault("prefix", "choices")\n92.         kwargs.setdefault("auto_id", False)\n93. \n94.         if formset_data is None:\n95.             return formset_class(**kwargs)\n96. \n97.         if total_forms is None:\n98.             total_forms = len(formset_data)\n99. \n100.         def prefixed(*args):\n101.             args = (kwargs["prefix"],) + args\n102.             return "-".join(args)\n103. \n104.         data = {\n105.             prefixed("TOTAL_FORMS"): str(total_forms),\n106.             prefixed("INITIAL_FORMS"): str(initial_forms),\n107.             prefixed("MAX_NUM_FORMS"): str(max_num_forms),\n108.             prefixed("MIN_NUM_FORMS"): str(min_num_forms),\n109.         }\n110.         for i, (choice, votes) in enumerate(formset_data):\n111.             data[prefixed(str(i), "choice")] = choice\n112.             data[prefixed(str(i), "votes")] = votes\n113. \n114.         return formset_class(data, **kwargs)\n115. \n116.     def test_basic_formset(self):\n117.         """\n118.         A FormSet constructor takes the same arguments as Form. Create a\n119.         FormSet for adding data. By default, it displays 1 blank form.\n120.         """\n121.         formset = self.make_choiceformset()\n122.         self.assertHTMLEqual(\n123.             str(formset),\n124.             """<input type="hidden" name="choices-TOTAL_FORMS" value="1">\n125. <input type="hidden" name="choices-INITIAL_FORMS" value="0">\n126. <input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\n127. <input type="hidden" name="choices-MAX_NUM_FORMS" value="1000">\n128. <div>Choice:<input type="text" name="choices-0-choice"></div>\n129. <div>Votes:<input type="number" name="choices-0-votes"></div>""",\n130.         )\n131.         # FormSet are treated similarly to Forms. FormSet has an is_valid()\n132.         # method, and a cleaned_data or errors attribute depending on whether\n133.         # all the forms passed validation. However, unlike a Form, cleaned_data\n134.         # and errors will be a list of dicts rather than a single dict.\n135.         formset = self.make_choiceformset([("Calexico", "100")])\n136.         self.assertTrue(formset.is_valid())\n137.         self.assertEqual(\n138.             [form.cleaned_data for form in formset.forms],\n139.             [{"votes": 100, "choice": "Calexico"}],\n140.         )\n141. \n142.         # If a FormSet wasn\'t passed any data, is_valid() and has_changed()\n143.         # return False.\n144.         formset = self.make_choiceformset()\n145.         self.assertFalse(formset.is_valid())\n146.         self.assertFalse(formset.has_changed())\n147. \n148.     def test_form_kwargs_formset(self):\n149.         """\n150.         Custom kwargs set on the formset instance are passed to the\n151.         underlying forms.\n152.         """\n153.         FormSet = formset_factory(CustomKwargForm, extra=2)\n154.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n155.         for form in formset:\n156.             self.assertTrue(hasattr(form, "custom_kwarg"))\n157.             self.assertEqual(form.custom_kwarg, 1)\n158. \n159.     def test_form_kwargs_formset_dynamic(self):\n160.         """Form kwargs can be passed dynamically in a formset."""\n161. \n162.         class DynamicBaseFormSet(BaseFormSet):\n163.             def get_form_kwargs(self, index):\n164.                 return {"custom_kwarg": index}\n165. \n166.         DynamicFormSet = formset_factory(\n167.             CustomKwargForm, formset=DynamicBaseFormSet, extra=2\n168.         )\n169.         formset = DynamicFormSet(form_kwargs={"custom_kwarg": "ignored"})\n170.         for i, form in enumerate(formset):\n171.             self.assertTrue(hasattr(form, "custom_kwarg"))\n172.             self.assertEqual(form.custom_kwarg, i)\n173. \n174.     def test_form_kwargs_empty_form(self):\n175.         FormSet = formset_factory(CustomKwargForm)\n176.         formset = FormSet(form_kwargs={"custom_kwarg": 1})\n177.         self.assertTrue(hasattr(formset.empty_form, "custom_kwarg"))\n178.         self.assertEqual(formset.empty_form.custom_kwarg, 1)\n179. \n180.     def test_empty_permitted_ignored_empty_form(self):\n181.         formset = ArticleFormSet(form_kwargs={"empty_permitted": False})\n182.         self.assertIs(formset.empty_form.empty_permitted, True)\n183. \n184.     def test_formset_validation(self):\n185.         # FormSet instances can also have an error attribute if validation failed for\n186.         # any of the forms.\n187.         formset = self.make_choiceformset([("Calexico", "")])\n188.         self.assertFalse(formset.is_valid())\n189.         self.assertEqual(formset.errors, [{"votes": ["This field is required."]}])\n190. \n191.     def test_formset_validation_count(self):\n192.         """\n193.         A formset\'s ManagementForm is validated once per FormSet.is_valid()\n194.         call and each form of the formset is cleaned once.\n195.         """\n196. \n197.         def make_method_counter(func):\n198.             """Add a counter to func for the number of times it\'s called."""\n199.             counter = Counter()\n200.             counter.call_count = 0\n201. \n202.             def mocked_func(*args, **kwargs):\n203.                 counter.call_count += 1\n204.                 return func(*args, **kwargs)\n205. \n206.             return mocked_func, counter\n207. \n208.         mocked_is_valid, is_valid_counter = make_method_counter(\n209.             formsets.ManagementForm.is_valid\n210.         )\n211.         mocked_full_clean, full_clean_counter = make_method_counter(BaseForm.full_clean)\n212.         formset = self.make_choiceformset(\n213.             [("Calexico", "100"), ("Any1", "42"), ("Any2", "101")]\n214.         )\n215. \n216.         with mock.patch(\n217.             "django.forms.formsets.ManagementForm.is_valid", mocked_is_valid\n218.         ), mock.patch("django.forms.forms.BaseForm.full_clean", mocked_full_clean):\n219.             self.assertTrue(formset.is_valid())\n220.         self.assertEqual(is_valid_counter.call_count, 1)\n221.         self.assertEqual(full_clean_counter.call_count, 4)\n222. \n223.     def test_formset_has_changed(self):\n224.         """\n225.         FormSet.has_changed() is True if any data is passed to its forms, even\n226.         if the formset didn\'t validate.\n227.         """\n228.         blank_formset = self.make_choiceformset([("", "")])\n229.         self.assertFalse(blank_formset.has_changed())\n230.         # invalid formset\n231.         invalid_formset = self.make_choiceformset([("Calexico", "")])\n232.         self.assertFalse(invalid_formset.is_valid())\n233.         self.assertTrue(invalid_formset.has_changed())\n234.         # valid formset\n235.         valid_formset = self.make_choiceformset([("Calexico", "100")])\n236.         self.assertTrue(valid_formset.is_valid())\n237.         self.assertTrue(valid_formset.has_changed())\n238. \n239.     def test_formset_initial_data(self):\n240.         """\n241.         A FormSet can be prefilled with existing data by providing a list of\n242.         dicts to the `initial` argument. By default, an extra blank form is\n243.         included.\n244.         """\n245.         formset = self.make_choiceformset(\n246.             initial=[{"choice": "Calexico", "votes": 100}]\n247.         )\n248.         self.assertHTMLEqual(\n249.             "\\n".join(form.as_ul() for form in formset.forms),\n250.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n251.             "</li>"\n252.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n253.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n254.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\',\n255.         )\n256. \n257.     def test_blank_form_unfilled(self):\n258.         """A form that\'s displayed as blank may be submitted as blank."""\n259.         formset = self.make_choiceformset(\n260.             [("Calexico", "100"), ("", "")], initial_forms=1\n261.         )\n262.         self.assertTrue(formset.is_valid())\n263.         self.assertEqual(\n264.             [form.cleaned_data for form in formset.forms],\n265.             [{"votes": 100, "choice": "Calexico"}, {}],\n266.         )\n267. \n268.     def test_second_form_partially_filled(self):\n269.         """\n270.         If at least one field is filled out on a blank form, it will be\n271.         validated.\n272.         """\n273.         formset = self.make_choiceformset(\n274.             [("Calexico", "100"), ("The Decemberists", "")], initial_forms=1\n275.         )\n276.         self.assertFalse(formset.is_valid())\n277.         self.assertEqual(formset.errors, [{}, {"votes": ["This field is required."]}])\n278. \n279.     def test_delete_prefilled_data(self):\n280.         """\n281.         Deleting prefilled data is an error. Removing data from form fields\n282.         isn\'t the proper way to delete it.\n283.         """\n284.         formset = self.make_choiceformset([("", ""), ("", "")], initial_forms=1)\n285.         self.assertFalse(formset.is_valid())\n286.         self.assertEqual(\n287.             formset.errors,\n288.             [\n289.                 {\n290.                     "votes": ["This field is required."],\n291.                     "choice": ["This field is required."],\n292.                 },\n293.                 {},\n294.             ],\n295.         )\n296. \n297.     def test_displaying_more_than_one_blank_form(self):\n298.         """\n299.         More than 1 empty form can be displayed using formset_factory\'s\n300.         `extra` argument.\n301.         """\n302.         ChoiceFormSet = formset_factory(Choice, extra=3)\n303.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n304.         self.assertHTMLEqual(\n305.             "\\n".join(form.as_ul() for form in formset.forms),\n306.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n307. <li>Votes: <input type="number" name="choices-0-votes"></li>\n308. <li>Choice: <input type="text" name="choices-1-choice"></li>\n309. <li>Votes: <input type="number" name="choices-1-votes"></li>\n310. <li>Choice: <input type="text" name="choices-2-choice"></li>\n311. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n312.         )\n313.         # Since every form was displayed as blank, they are also accepted as\n314.         # blank. This may seem a little strange, but min_num is used to require\n315.         # a minimum number of forms to be completed.\n316.         data = {\n317.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n318.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n319.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n320.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n321.             "choices-0-choice": "",\n322.             "choices-0-votes": "",\n323.             "choices-1-choice": "",\n324.             "choices-1-votes": "",\n325.             "choices-2-choice": "",\n326.             "choices-2-votes": "",\n327.         }\n328.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n329.         self.assertTrue(formset.is_valid())\n330.         self.assertEqual([form.cleaned_data for form in formset.forms], [{}, {}, {}])\n331. \n332.     def test_min_num_displaying_more_than_one_blank_form(self):\n333.         """\n334.         More than 1 empty form can also be displayed using formset_factory\'s\n335.         min_num argument. It will (essentially) increment the extra argument.\n336.         """\n337.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=1)\n338.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n339.         # Min_num forms are required; extra forms can be empty.\n340.         self.assertFalse(formset.forms[0].empty_permitted)\n341.         self.assertTrue(formset.forms[1].empty_permitted)\n342.         self.assertHTMLEqual(\n343.             "\\n".join(form.as_ul() for form in formset.forms),\n344.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n345. <li>Votes: <input type="number" name="choices-0-votes"></li>\n346. <li>Choice: <input type="text" name="choices-1-choice"></li>\n347. <li>Votes: <input type="number" name="choices-1-votes"></li>""",\n348.         )\n349. \n350.     def test_min_num_displaying_more_than_one_blank_form_with_zero_extra(self):\n351.         """More than 1 empty form can be displayed using min_num."""\n352.         ChoiceFormSet = formset_factory(Choice, extra=0, min_num=3)\n353.         formset = ChoiceFormSet(auto_id=False, prefix="choices")\n354.         self.assertHTMLEqual(\n355.             "\\n".join(form.as_ul() for form in formset.forms),\n356.             """<li>Choice: <input type="text" name="choices-0-choice"></li>\n357. <li>Votes: <input type="number" name="choices-0-votes"></li>\n358. <li>Choice: <input type="text" name="choices-1-choice"></li>\n359. <li>Votes: <input type="number" name="choices-1-votes"></li>\n360. <li>Choice: <input type="text" name="choices-2-choice"></li>\n361. <li>Votes: <input type="number" name="choices-2-votes"></li>""",\n362.         )\n363. \n364.     def test_single_form_completed(self):\n365.         """Just one form may be completed."""\n366.         data = {\n367.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n368.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n369.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n370.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n371.             "choices-0-choice": "Calexico",\n372.             "choices-0-votes": "100",\n373.             "choices-1-choice": "",\n374.             "choices-1-votes": "",\n375.             "choices-2-choice": "",\n376.             "choices-2-votes": "",\n377.         }\n378.         ChoiceFormSet = formset_factory(Choice, extra=3)\n379.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n380.         self.assertTrue(formset.is_valid())\n381.         self.assertEqual(\n382.             [form.cleaned_data for form in formset.forms],\n383.             [{"votes": 100, "choice": "Calexico"}, {}, {}],\n384.         )\n385. \n386.     def test_formset_validate_max_flag(self):\n387.         """\n388.         If validate_max is set and max_num is less than TOTAL_FORMS in the\n389.         data, a ValidationError is raised. MAX_NUM_FORMS in the data is\n390.         irrelevant here (it\'s output as a hint for the client but its value\n391.         in the returned data is not checked).\n392.         """\n393.         data = {\n394.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n395.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n396.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n397.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n398.             "choices-0-choice": "Zero",\n399.             "choices-0-votes": "0",\n400.             "choices-1-choice": "One",\n401.             "choices-1-votes": "1",\n402.         }\n403.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n404.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n405.         self.assertFalse(formset.is_valid())\n406.         self.assertEqual(formset.non_form_errors(), ["Please submit at most 1 form."])\n407.         self.assertEqual(\n408.             str(formset.non_form_errors()),\n409.             \'<ul class="errorlist nonform"><li>Please submit at most 1 form.</li></ul>\',\n410.         )\n411. \n412.     def test_formset_validate_max_flag_custom_error(self):\n413.         data = {\n414.             "choices-TOTAL_FORMS": "2",\n415.             "choices-INITIAL_FORMS": "0",\n416.             "choices-MIN_NUM_FORMS": "0",\n417.             "choices-MAX_NUM_FORMS": "2",\n418.             "choices-0-choice": "Zero",\n419.             "choices-0-votes": "0",\n420.             "choices-1-choice": "One",\n421.             "choices-1-votes": "1",\n422.         }\n423.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n424.         formset = ChoiceFormSet(\n425.             data,\n426.             auto_id=False,\n427.             prefix="choices",\n428.             error_messages={\n429.                 "too_many_forms": "Number of submitted forms should be at most %(num)d."\n430.             },\n431.         )\n432.         self.assertFalse(formset.is_valid())\n433.         self.assertEqual(\n434.             formset.non_form_errors(),\n435.             ["Number of submitted forms should be at most 1."],\n436.         )\n437.         self.assertEqual(\n438.             str(formset.non_form_errors()),\n439.             \'<ul class="errorlist nonform">\'\n440.             "<li>Number of submitted forms should be at most 1.</li></ul>",\n441.         )\n442. \n443.     def test_formset_validate_min_flag(self):\n444.         """\n445.         If validate_min is set and min_num is more than TOTAL_FORMS in the\n446.         data, a ValidationError is raised. MIN_NUM_FORMS in the data is\n447.         irrelevant here (it\'s output as a hint for the client but its value\n448.         in the returned data is not checked).\n449.         """\n450.         data = {\n451.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n452.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n453.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n454.             "choices-MAX_NUM_FORMS": "0",  # max number of forms - should be ignored\n455.             "choices-0-choice": "Zero",\n456.             "choices-0-votes": "0",\n457.             "choices-1-choice": "One",\n458.             "choices-1-votes": "1",\n459.         }\n460.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n461.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n462.         self.assertFalse(formset.is_valid())\n463.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 3 forms."])\n464.         self.assertEqual(\n465.             str(formset.non_form_errors()),\n466.             \'<ul class="errorlist nonform"><li>\'\n467.             "Please submit at least 3 forms.</li></ul>",\n468.         )\n469. \n470.     def test_formset_validate_min_flag_custom_formatted_error(self):\n471.         data = {\n472.             "choices-TOTAL_FORMS": "2",\n473.             "choices-INITIAL_FORMS": "0",\n474.             "choices-MIN_NUM_FORMS": "0",\n475.             "choices-MAX_NUM_FORMS": "0",\n476.             "choices-0-choice": "Zero",\n477.             "choices-0-votes": "0",\n478.             "choices-1-choice": "One",\n479.             "choices-1-votes": "1",\n480.         }\n481.         ChoiceFormSet = formset_factory(Choice, extra=1, min_num=3, validate_min=True)\n482.         formset = ChoiceFormSet(\n483.             data,\n484.             auto_id=False,\n485.             prefix="choices",\n486.             error_messages={\n487.                 "too_few_forms": "Number of submitted forms should be at least %(num)d."\n488.             },\n489.         )\n490.         self.assertFalse(formset.is_valid())\n491.         self.assertEqual(\n492.             formset.non_form_errors(),\n493.             ["Number of submitted forms should be at least 3."],\n494.         )\n495.         self.assertEqual(\n496.             str(formset.non_form_errors()),\n497.             \'<ul class="errorlist nonform">\'\n498.             "<li>Number of submitted forms should be at least 3.</li></ul>",\n499.         )\n500. \n501.     def test_formset_validate_min_unchanged_forms(self):\n502.         """\n503.         min_num validation doesn\'t consider unchanged forms with initial data\n504.         as "empty".\n505.         """\n506.         initial = [\n507.             {"choice": "Zero", "votes": 0},\n508.             {"choice": "One", "votes": 0},\n509.         ]\n510.         data = {\n511.             "choices-TOTAL_FORMS": "2",\n512.             "choices-INITIAL_FORMS": "2",\n513.             "choices-MIN_NUM_FORMS": "0",\n514.             "choices-MAX_NUM_FORMS": "2",\n515.             "choices-0-choice": "Zero",\n516.             "choices-0-votes": "0",\n517.             "choices-1-choice": "One",\n518.             "choices-1-votes": "1",  # changed from initial\n519.         }\n520.         ChoiceFormSet = formset_factory(Choice, min_num=2, validate_min=True)\n521.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices", initial=initial)\n522.         self.assertFalse(formset.forms[0].has_changed())\n523.         self.assertTrue(formset.forms[1].has_changed())\n524.         self.assertTrue(formset.is_valid())\n525. \n526.     def test_formset_validate_min_excludes_empty_forms(self):\n527.         data = {\n528.             "choices-TOTAL_FORMS": "2",\n529.             "choices-INITIAL_FORMS": "0",\n530.         }\n531.         ChoiceFormSet = formset_factory(\n532.             Choice, extra=2, min_num=1, validate_min=True, can_delete=True\n533.         )\n534.         formset = ChoiceFormSet(data, prefix="choices")\n535.         self.assertFalse(formset.has_changed())\n536.         self.assertFalse(formset.is_valid())\n537.         self.assertEqual(formset.non_form_errors(), ["Please submit at least 1 form."])\n538. \n539.     def test_second_form_partially_filled_2(self):\n540.         """A partially completed form is invalid."""\n541.         data = {\n542.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n543.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n544.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n545.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n546.             "choices-0-choice": "Calexico",\n547.             "choices-0-votes": "100",\n548.             "choices-1-choice": "The Decemberists",\n549.             "choices-1-votes": "",  # missing value\n550.             "choices-2-choice": "",\n551.             "choices-2-votes": "",\n552.         }\n553.         ChoiceFormSet = formset_factory(Choice, extra=3)\n554.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n555.         self.assertFalse(formset.is_valid())\n556.         self.assertEqual(\n557.             formset.errors, [{}, {"votes": ["This field is required."]}, {}]\n558.         )\n559. \n560.     def test_more_initial_data(self):\n561.         """\n562.         The extra argument works when the formset is pre-filled with initial\n563.         data.\n564.         """\n565.         initial = [{"choice": "Calexico", "votes": 100}]\n566.         ChoiceFormSet = formset_factory(Choice, extra=3)\n567.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n568.         self.assertHTMLEqual(\n569.             "\\n".join(form.as_ul() for form in formset.forms),\n570.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n571.             "</li>"\n572.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n573.             \'<li>Choice: <input type="text" name="choices-1-choice"></li>\'\n574.             \'<li>Votes: <input type="number" name="choices-1-votes"></li>\'\n575.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n576.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n577.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n578.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\',\n579.         )\n580.         # Retrieving an empty form works. Tt shows up in the form list.\n581.         self.assertTrue(formset.empty_form.empty_permitted)\n582.         self.assertHTMLEqual(\n583.             formset.empty_form.as_ul(),\n584.             """<li>Choice: <input type="text" name="choices-__prefix__-choice"></li>\n585. <li>Votes: <input type="number" name="choices-__prefix__-votes"></li>""",\n586.         )\n587. \n588.     def test_formset_with_deletion(self):\n589.         """\n590.         formset_factory\'s can_delete argument adds a boolean "delete" field to\n591.         each form. When that boolean field is True, the form will be in\n592.         formset.deleted_forms.\n593.         """\n594.         ChoiceFormSet = formset_factory(Choice, can_delete=True)\n595.         initial = [\n596.             {"choice": "Calexico", "votes": 100},\n597.             {"choice": "Fergie", "votes": 900},\n598.         ]\n599.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n600.         self.assertHTMLEqual(\n601.             "\\n".join(form.as_ul() for form in formset.forms),\n602.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n603.             "</li>"\n604.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n605.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n606.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n607.             "</li>"\n608.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n609.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n610.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n611.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n612.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\',\n613.         )\n614.         # To delete something, set that form\'s special delete field to \'on\'.\n615.         # Let\'s go ahead and delete Fergie.\n616.         data = {\n617.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n618.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n619.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n620.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n621.             "choices-0-choice": "Calexico",\n622.             "choices-0-votes": "100",\n623.             "choices-0-DELETE": "",\n624.             "choices-1-choice": "Fergie",\n625.             "choices-1-votes": "900",\n626.             "choices-1-DELETE": "on",\n627.             "choices-2-choice": "",\n628.             "choices-2-votes": "",\n629.             "choices-2-DELETE": "",\n630.         }\n631.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n632.         self.assertTrue(formset.is_valid())\n633.         self.assertEqual(\n634.             [form.cleaned_data for form in formset.forms],\n635.             [\n636.                 {"votes": 100, "DELETE": False, "choice": "Calexico"},\n637.                 {"votes": 900, "DELETE": True, "choice": "Fergie"},\n638.                 {},\n639.             ],\n640.         )\n641.         self.assertEqual(\n642.             [form.cleaned_data for form in formset.deleted_forms],\n643.             [{"votes": 900, "DELETE": True, "choice": "Fergie"}],\n644.         )\n645. \n646.     def test_formset_with_deletion_remove_deletion_flag(self):\n647.         """\n648.         If a form is filled with something and can_delete is also checked, that\n649.         form\'s errors shouldn\'t make the entire formset invalid since it\'s\n650.         going to be deleted.\n651.         """\n652. \n653.         class CheckForm(Form):\n654.             field = IntegerField(min_value=100)\n655. \n656.         data = {\n657.             "check-TOTAL_FORMS": "3",  # the number of forms rendered\n658.             "check-INITIAL_FORMS": "2",  # the number of forms with initial data\n659.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n660.             "check-MAX_NUM_FORMS": "0",  # max number of forms\n661.             "check-0-field": "200",\n662.             "check-0-DELETE": "",\n663.             "check-1-field": "50",\n664.             "check-1-DELETE": "on",\n665.             "check-2-field": "",\n666.             "check-2-DELETE": "",\n667.         }\n668.         CheckFormSet = formset_factory(CheckForm, can_delete=True)\n669.         formset = CheckFormSet(data, prefix="check")\n670.         self.assertTrue(formset.is_valid())\n671.         # If the deletion flag is removed, validation is enabled.\n672.         data["check-1-DELETE"] = ""\n673.         formset = CheckFormSet(data, prefix="check")\n674.         self.assertFalse(formset.is_valid())\n675. \n676.     def test_formset_with_deletion_invalid_deleted_form(self):\n677.         """\n678.         deleted_forms works on a valid formset even if a deleted form would\n679.         have been invalid.\n680.         """\n681.         FavoriteDrinkFormset = formset_factory(form=FavoriteDrinkForm, can_delete=True)\n682.         formset = FavoriteDrinkFormset(\n683.             {\n684.                 "form-0-name": "",\n685.                 "form-0-DELETE": "on",  # no name!\n686.                 "form-TOTAL_FORMS": 1,\n687.                 "form-INITIAL_FORMS": 1,\n688.                 "form-MIN_NUM_FORMS": 0,\n689.                 "form-MAX_NUM_FORMS": 1,\n690.             }\n691.         )\n692.         self.assertTrue(formset.is_valid())\n693.         self.assertEqual(formset._errors, [])\n694.         self.assertEqual(len(formset.deleted_forms), 1)\n695. \n696.     def test_formset_with_deletion_custom_widget(self):\n697.         class DeletionAttributeFormSet(BaseFormSet):\n698.             deletion_widget = HiddenInput\n699. \n700.         class DeletionMethodFormSet(BaseFormSet):\n701.             def get_deletion_widget(self):\n702.                 return HiddenInput(attrs={"class": "deletion"})\n703. \n704.         tests = [\n705.             (DeletionAttributeFormSet, \'<input type="hidden" name="form-0-DELETE">\'),\n706.             (\n707.                 DeletionMethodFormSet,\n708.                 \'<input class="deletion" type="hidden" name="form-0-DELETE">\',\n709.             ),\n710.         ]\n711.         for formset_class, delete_html in tests:\n712.             with self.subTest(formset_class=formset_class.__name__):\n713.                 ArticleFormSet = formset_factory(\n714.                     ArticleForm,\n715.                     formset=formset_class,\n716.                     can_delete=True,\n717.                 )\n718.                 formset = ArticleFormSet(auto_id=False)\n719.                 self.assertHTMLEqual(\n720.                     "\\n".join([form.as_ul() for form in formset.forms]),\n721.                     (\n722.                         f\'<li>Title: <input type="text" name="form-0-title"></li>\'\n723.                         f\'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n724.                         f"{delete_html}</li>"\n725.                     ),\n726.                 )\n727. \n728.     def test_formsets_with_ordering(self):\n729.         """\n730.         formset_factory\'s can_order argument adds an integer field to each\n731.         form. When form validation succeeds,\n732.             [form.cleaned_data for form in formset.forms]\n733.         will have the data in the correct order specified by the ordering\n734.         fields. If a number is duplicated in the set of ordering fields, for\n735.         instance form 0 and form 3 are both marked as 1, then the form index\n736.         used as a secondary ordering criteria. In order to put something at the\n737.         front of the list, you\'d need to set its order to 0.\n738.         """\n739.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n740.         initial = [\n741.             {"choice": "Calexico", "votes": 100},\n742.             {"choice": "Fergie", "votes": 900},\n743.         ]\n744.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n745.         self.assertHTMLEqual(\n746.             "\\n".join(form.as_ul() for form in formset.forms),\n747.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n748.             "</li>"\n749.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n750.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n751.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n752.             "</li>"\n753.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n754.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n755.             \'<li>Choice: <input type="text" name="choices-2-choice"></li>\'\n756.             \'<li>Votes: <input type="number" name="choices-2-votes"></li>\'\n757.             \'<li>Order: <input type="number" name="choices-2-ORDER"></li>\',\n758.         )\n759.         data = {\n760.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n761.             "choices-INITIAL_FORMS": "2",  # the number of forms with initial data\n762.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n763.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n764.             "choices-0-choice": "Calexico",\n765.             "choices-0-votes": "100",\n766.             "choices-0-ORDER": "1",\n767.             "choices-1-choice": "Fergie",\n768.             "choices-1-votes": "900",\n769.             "choices-1-ORDER": "2",\n770.             "choices-2-choice": "The Decemberists",\n771.             "choices-2-votes": "500",\n772.             "choices-2-ORDER": "0",\n773.         }\n774.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n775.         self.assertTrue(formset.is_valid())\n776.         self.assertEqual(\n777.             [form.cleaned_data for form in formset.ordered_forms],\n778.             [\n779.                 {"votes": 500, "ORDER": 0, "choice": "The Decemberists"},\n780.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n781.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n782.             ],\n783.         )\n784. \n785.     def test_formsets_with_ordering_custom_widget(self):\n786.         class OrderingAttributeFormSet(BaseFormSet):\n787.             ordering_widget = HiddenInput\n788. \n789.         class OrderingMethodFormSet(BaseFormSet):\n790.             def get_ordering_widget(self):\n791.                 return HiddenInput(attrs={"class": "ordering"})\n792. \n793.         tests = (\n794.             (OrderingAttributeFormSet, \'<input type="hidden" name="form-0-ORDER">\'),\n795.             (\n796.                 OrderingMethodFormSet,\n797.                 \'<input class="ordering" type="hidden" name="form-0-ORDER">\',\n798.             ),\n799.         )\n800.         for formset_class, order_html in tests:\n801.             with self.subTest(formset_class=formset_class.__name__):\n802.                 ArticleFormSet = formset_factory(\n803.                     ArticleForm, formset=formset_class, can_order=True\n804.                 )\n805.                 formset = ArticleFormSet(auto_id=False)\n806.                 self.assertHTMLEqual(\n807.                     "\\n".join(form.as_ul() for form in formset.forms),\n808.                     (\n809.                         \'<li>Title: <input type="text" name="form-0-title"></li>\'\n810.                         \'<li>Pub date: <input type="text" name="form-0-pub_date">\'\n811.                         "%s</li>" % order_html\n812.                     ),\n813.                 )\n814. \n815.     def test_empty_ordered_fields(self):\n816.         """\n817.         Ordering fields are allowed to be left blank. If they are left blank,\n818.         they\'ll be sorted below everything else.\n819.         """\n820.         data = {\n821.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n822.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n823.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n824.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n825.             "choices-0-choice": "Calexico",\n826.             "choices-0-votes": "100",\n827.             "choices-0-ORDER": "1",\n828.             "choices-1-choice": "Fergie",\n829.             "choices-1-votes": "900",\n830.             "choices-1-ORDER": "2",\n831.             "choices-2-choice": "The Decemberists",\n832.             "choices-2-votes": "500",\n833.             "choices-2-ORDER": "",\n834.             "choices-3-choice": "Basia Bulat",\n835.             "choices-3-votes": "50",\n836.             "choices-3-ORDER": "",\n837.         }\n838.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n839.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n840.         self.assertTrue(formset.is_valid())\n841.         self.assertEqual(\n842.             [form.cleaned_data for form in formset.ordered_forms],\n843.             [\n844.                 {"votes": 100, "ORDER": 1, "choice": "Calexico"},\n845.                 {"votes": 900, "ORDER": 2, "choice": "Fergie"},\n846.                 {"votes": 500, "ORDER": None, "choice": "The Decemberists"},\n847.                 {"votes": 50, "ORDER": None, "choice": "Basia Bulat"},\n848.             ],\n849.         )\n850. \n851.     def test_ordering_blank_fieldsets(self):\n852.         """Ordering works with blank fieldsets."""\n853.         data = {\n854.             "choices-TOTAL_FORMS": "3",  # the number of forms rendered\n855.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n856.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n857.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n858.         }\n859.         ChoiceFormSet = formset_factory(Choice, can_order=True)\n860.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n861.         self.assertTrue(formset.is_valid())\n862.         self.assertEqual(formset.ordered_forms, [])\n863. \n864.     def test_formset_with_ordering_and_deletion(self):\n865.         """FormSets with ordering + deletion."""\n866.         ChoiceFormSet = formset_factory(Choice, can_order=True, can_delete=True)\n867.         initial = [\n868.             {"choice": "Calexico", "votes": 100},\n869.             {"choice": "Fergie", "votes": 900},\n870.             {"choice": "The Decemberists", "votes": 500},\n871.         ]\n872.         formset = ChoiceFormSet(initial=initial, auto_id=False, prefix="choices")\n873.         self.assertHTMLEqual(\n874.             "\\n".join(form.as_ul() for form in formset.forms),\n875.             \'<li>Choice: <input type="text" name="choices-0-choice" value="Calexico">\'\n876.             "</li>"\n877.             \'<li>Votes: <input type="number" name="choices-0-votes" value="100"></li>\'\n878.             \'<li>Order: <input type="number" name="choices-0-ORDER" value="1"></li>\'\n879.             \'<li>Delete: <input type="checkbox" name="choices-0-DELETE"></li>\'\n880.             \'<li>Choice: <input type="text" name="choices-1-choice" value="Fergie">\'\n881.             "</li>"\n882.             \'<li>Votes: <input type="number" name="choices-1-votes" value="900"></li>\'\n883.             \'<li>Order: <input type="number" name="choices-1-ORDER" value="2"></li>\'\n884.             \'<li>Delete: <input type="checkbox" name="choices-1-DELETE"></li>\'\n885.             \'<li>Choice: <input type="text" name="choices-2-choice" \'\n886.             \'value="The Decemberists"></li>\'\n887.             \'<li>Votes: <input type="number" name="choices-2-votes" value="500"></li>\'\n888.             \'<li>Order: <input type="number" name="choices-2-ORDER" value="3"></li>\'\n889.             \'<li>Delete: <input type="checkbox" name="choices-2-DELETE"></li>\'\n890.             \'<li>Choice: <input type="text" name="choices-3-choice"></li>\'\n891.             \'<li>Votes: <input type="number" name="choices-3-votes"></li>\'\n892.             \'<li>Order: <input type="number" name="choices-3-ORDER"></li>\'\n893.             \'<li>Delete: <input type="checkbox" name="choices-3-DELETE"></li>\',\n894.         )\n895.         # Let\'s delete Fergie, and put The Decemberists ahead of Calexico.\n896.         data = {\n897.             "choices-TOTAL_FORMS": "4",  # the number of forms rendered\n898.             "choices-INITIAL_FORMS": "3",  # the number of forms with initial data\n899.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n900.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n901.             "choices-0-choice": "Calexico",\n902.             "choices-0-votes": "100",\n903.             "choices-0-ORDER": "1",\n904.             "choices-0-DELETE": "",\n905.             "choices-1-choice": "Fergie",\n906.             "choices-1-votes": "900",\n907.             "choices-1-ORDER": "2",\n908.             "choices-1-DELETE": "on",\n909.             "choices-2-choice": "The Decemberists",\n910.             "choices-2-votes": "500",\n911.             "choices-2-ORDER": "0",\n912.             "choices-2-DELETE": "",\n913.             "choices-3-choice": "",\n914.             "choices-3-votes": "",\n915.             "choices-3-ORDER": "",\n916.             "choices-3-DELETE": "",\n917.         }\n918.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n919.         self.assertTrue(formset.is_valid())\n920.         self.assertEqual(\n921.             [form.cleaned_data for form in formset.ordered_forms],\n922.             [\n923.                 {\n924.                     "votes": 500,\n925.                     "DELETE": False,\n926.                     "ORDER": 0,\n927.                     "choice": "The Decemberists",\n928.                 },\n929.                 {"votes": 100, "DELETE": False, "ORDER": 1, "choice": "Calexico"},\n930.             ],\n931.         )\n932.         self.assertEqual(\n933.             [form.cleaned_data for form in formset.deleted_forms],\n934.             [{"votes": 900, "DELETE": True, "ORDER": 2, "choice": "Fergie"}],\n935.         )\n936. \n937.     def test_invalid_deleted_form_with_ordering(self):\n938.         """\n939.         Can get ordered_forms from a valid formset even if a deleted form\n940.         would have been invalid.\n941.         """\n942.         FavoriteDrinkFormset = formset_factory(\n943.             form=FavoriteDrinkForm, can_delete=True, can_order=True\n944.         )\n945.         formset = FavoriteDrinkFormset(\n946.             {\n947.                 "form-0-name": "",\n948.                 "form-0-DELETE": "on",  # no name!\n949.                 "form-TOTAL_FORMS": 1,\n950.                 "form-INITIAL_FORMS": 1,\n951.                 "form-MIN_NUM_FORMS": 0,\n952.                 "form-MAX_NUM_FORMS": 1,\n953.             }\n954.         )\n955.         self.assertTrue(formset.is_valid())\n956.         self.assertEqual(formset.ordered_forms, [])\n957. \n958.     def test_clean_hook(self):\n959.         """\n960.         FormSets have a clean() hook for doing extra validation that isn\'t tied\n961.         to any form. It follows the same pattern as the clean() hook on Forms.\n962.         """\n963.         # Start out with a some duplicate data.\n964.         data = {\n965.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n966.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n967.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n968.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n969.             "drinks-0-name": "Gin and Tonic",\n970.             "drinks-1-name": "Gin and Tonic",\n971.         }\n972.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n973.         self.assertFalse(formset.is_valid())\n974.         # Any errors raised by formset.clean() are available via the\n975.         # formset.non_form_errors() method.\n976.         for error in formset.non_form_errors():\n977.             self.assertEqual(str(error), "You may only specify a drink once.")\n978.         # The valid case still works.\n979.         data["drinks-1-name"] = "Bloody Mary"\n980.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n981.         self.assertTrue(formset.is_valid())\n982.         self.assertEqual(formset.non_form_errors(), [])\n983. \n984.     def test_limiting_max_forms(self):\n985.         """Limiting the maximum number of forms with max_num."""\n986.         # When not passed, max_num will take a high default value, leaving the\n987.         # number of forms only controlled by the value of the extra parameter.\n988.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=3)\n989.         formset = LimitedFavoriteDrinkFormSet()\n990.         self.assertHTMLEqual(\n991.             "\\n".join(str(form) for form in formset.forms),\n992.             """<div><label for="id_form-0-name">Name:</label>\n993.             <input type="text" name="form-0-name" id="id_form-0-name"></div>\n994. <div><label for="id_form-1-name">Name:</label>\n995. <input type="text" name="form-1-name" id="id_form-1-name"></div>\n996. <div><label for="id_form-2-name">Name:</label>\n997. <input type="text" name="form-2-name" id="id_form-2-name"></div>""",\n998.         )\n999.         # If max_num is 0 then no form is rendered at all.\n1000.         LimitedFavoriteDrinkFormSet = formset_factory(\n1001.             FavoriteDrinkForm, extra=3, max_num=0\n1002.         )\n1003.         formset = LimitedFavoriteDrinkFormSet()\n1004.         self.assertEqual(formset.forms, [])\n1005. \n1006.     def test_limited_max_forms_two(self):\n1007.         LimitedFavoriteDrinkFormSet = formset_factory(\n1008.             FavoriteDrinkForm, extra=5, max_num=2\n1009.         )\n1010.         formset = LimitedFavoriteDrinkFormSet()\n1011.         self.assertHTMLEqual(\n1012.             "\\n".join(str(form) for form in formset.forms),\n1013.             """<div><label for="id_form-0-name">Name:</label>\n1014. <input type="text" name="form-0-name" id="id_form-0-name"></div>\n1015. <div><label for="id_form-1-name">Name:</label>\n1016. <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1017.         )\n1018. \n1019.     def test_limiting_extra_lest_than_max_num(self):\n1020.         """max_num has no effect when extra is less than max_num."""\n1021.         LimitedFavoriteDrinkFormSet = formset_factory(\n1022.             FavoriteDrinkForm, extra=1, max_num=2\n1023.         )\n1024.         formset = LimitedFavoriteDrinkFormSet()\n1025.         self.assertHTMLEqual(\n1026.             "\\n".join(str(form) for form in formset.forms),\n1027.             """<div><label for="id_form-0-name">Name:</label>\n1028. <input type="text" name="form-0-name" id="id_form-0-name"></div>""",\n1029.         )\n1030. \n1031.     def test_max_num_with_initial_data(self):\n1032.         # When not passed, max_num will take a high default value, leaving the\n1033.         # number of forms only controlled by the value of the initial and extra\n1034.         # parameters.\n1035.         LimitedFavoriteDrinkFormSet = formset_factory(FavoriteDrinkForm, extra=1)\n1036.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Fernet and Coke"}])\n1037.         self.assertHTMLEqual(\n1038.             "\\n".join(str(form) for form in formset.forms),\n1039.             """\n1040.             <div><label for="id_form-0-name">Name:</label>\n1041.             <input type="text" name="form-0-name" value="Fernet and Coke"\n1042.                 id="id_form-0-name"></div>\n1043.             <div><label for="id_form-1-name">Name:</label>\n1044.             <input type="text" name="form-1-name" id="id_form-1-name"></div>\n1045.             """,\n1046.         )\n1047. \n1048.     def test_max_num_zero(self):\n1049.         """\n1050.         If max_num is 0 then no form is rendered at all, regardless of extra,\n1051.         unless initial data is present.\n1052.         """\n1053.         LimitedFavoriteDrinkFormSet = formset_factory(\n1054.             FavoriteDrinkForm, extra=1, max_num=0\n1055.         )\n1056.         formset = LimitedFavoriteDrinkFormSet()\n1057.         self.assertEqual(formset.forms, [])\n1058. \n1059.     def test_max_num_zero_with_initial(self):\n1060.         # initial trumps max_num\n1061.         initial = [\n1062.             {"name": "Fernet and Coke"},\n1063.             {"name": "Bloody Mary"},\n1064.         ]\n1065.         LimitedFavoriteDrinkFormSet = formset_factory(\n1066.             FavoriteDrinkForm, extra=1, max_num=0\n1067.         )\n1068.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1069.         self.assertHTMLEqual(\n1070.             "\\n".join(str(form) for form in formset.forms),\n1071.             """\n1072.             <div><label for="id_form-0-name">Name:</label>\n1073.             <input id="id_form-0-name" name="form-0-name" type="text"\n1074.                 value="Fernet and Coke"></div>\n1075.             <div><label for="id_form-1-name">Name:</label>\n1076.             <input id="id_form-1-name" name="form-1-name" type="text"\n1077.                 value="Bloody Mary"></div>\n1078.             """,\n1079.         )\n1080. \n1081.     def test_more_initial_than_max_num(self):\n1082.         """\n1083.         More initial forms than max_num results in all initial forms being\n1084.         displayed (but no extra forms).\n1085.         """\n1086.         initial = [\n1087.             {"name": "Gin Tonic"},\n1088.             {"name": "Bloody Mary"},\n1089.             {"name": "Jack and Coke"},\n1090.         ]\n1091.         LimitedFavoriteDrinkFormSet = formset_factory(\n1092.             FavoriteDrinkForm, extra=1, max_num=2\n1093.         )\n1094.         formset = LimitedFavoriteDrinkFormSet(initial=initial)\n1095.         self.assertHTMLEqual(\n1096.             "\\n".join(str(form) for form in formset.forms),\n1097.             """\n1098.             <div><label for="id_form-0-name">Name:</label>\n1099.             <input id="id_form-0-name" name="form-0-name" type="text" value="Gin Tonic">\n1100.             </div>\n1101.             <div><label for="id_form-1-name">Name:</label>\n1102.             <input id="id_form-1-name" name="form-1-name" type="text"\n1103.                 value="Bloody Mary"></div>\n1104.             <div><label for="id_form-2-name">Name:</label>\n1105.             <input id="id_form-2-name" name="form-2-name" type="text"\n1106.                 value="Jack and Coke"></div>\n1107.             """,\n1108.         )\n1109. \n1110.     def test_default_absolute_max(self):\n1111.         # absolute_max defaults to 2 * DEFAULT_MAX_NUM if max_num is None.\n1112.         data = {\n1113.             "form-TOTAL_FORMS": 2001,\n1114.             "form-INITIAL_FORMS": "0",\n1115.             "form-MAX_NUM_FORMS": "0",\n1116.         }\n1117.         formset = FavoriteDrinksFormSet(data=data)\n1118.         self.assertIs(formset.is_valid(), False)\n1119.         self.assertEqual(\n1120.             formset.non_form_errors(),\n1121.             ["Please submit at most 1000 forms."],\n1122.         )\n1123.         self.assertEqual(formset.absolute_max, 2000)\n1124. \n1125.     def test_absolute_max(self):\n1126.         data = {\n1127.             "form-TOTAL_FORMS": "2001",\n1128.             "form-INITIAL_FORMS": "0",\n1129.             "form-MAX_NUM_FORMS": "0",\n1130.         }\n1131.         AbsoluteMaxFavoriteDrinksFormSet = formset_factory(\n1132.             FavoriteDrinkForm,\n1133.             absolute_max=3000,\n1134.         )\n1135.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1136.         self.assertIs(formset.is_valid(), True)\n1137.         self.assertEqual(len(formset.forms), 2001)\n1138.         # absolute_max provides a hard limit.\n1139.         data["form-TOTAL_FORMS"] = "3001"\n1140.         formset = AbsoluteMaxFavoriteDrinksFormSet(data=data)\n1141.         self.assertIs(formset.is_valid(), False)\n1142.         self.assertEqual(len(formset.forms), 3000)\n1143.         self.assertEqual(\n1144.             formset.non_form_errors(),\n1145.             ["Please submit at most 1000 forms."],\n1146.         )\n1147. \n1148.     def test_absolute_max_with_max_num(self):\n1149.         data = {\n1150.             "form-TOTAL_FORMS": "1001",\n1151.             "form-INITIAL_FORMS": "0",\n1152.             "form-MAX_NUM_FORMS": "0",\n1153.         }\n1154.         LimitedFavoriteDrinksFormSet = formset_factory(\n1155.             FavoriteDrinkForm,\n1156.             max_num=30,\n1157.             absolute_max=1000,\n1158.         )\n1159.         formset = LimitedFavoriteDrinksFormSet(data=data)\n1160.         self.assertIs(formset.is_valid(), False)\n1161.         self.assertEqual(len(formset.forms), 1000)\n1162.         self.assertEqual(\n1163.             formset.non_form_errors(),\n1164.             ["Please submit at most 30 forms."],\n1165.         )\n1166. \n1167.     def test_absolute_max_invalid(self):\n1168.         msg = "\'absolute_max\' must be greater or equal to \'max_num\'."\n1169.         for max_num in [None, 31]:\n1170.             with self.subTest(max_num=max_num):\n1171.                 with self.assertRaisesMessage(ValueError, msg):\n1172.                     formset_factory(FavoriteDrinkForm, max_num=max_num, absolute_max=30)\n1173. \n1174.     def test_more_initial_form_result_in_one(self):\n1175.         """\n1176.         One form from initial and extra=3 with max_num=2 results in the one\n1177.         initial form and one extra.\n1178.         """\n1179.         LimitedFavoriteDrinkFormSet = formset_factory(\n1180.             FavoriteDrinkForm, extra=3, max_num=2\n1181.         )\n1182.         formset = LimitedFavoriteDrinkFormSet(initial=[{"name": "Gin Tonic"}])\n1183.         self.assertHTMLEqual(\n1184.             "\\n".join(str(form) for form in formset.forms),\n1185.             """\n1186.             <div><label for="id_form-0-name">Name:</label>\n1187.             <input type="text" name="form-0-name" value="Gin Tonic" id="id_form-0-name">\n1188.             </div>\n1189.             <div><label for="id_form-1-name">Name:</label>\n1190.             <input type="text" name="form-1-name" id="id_form-1-name"></div>""",\n1191.         )\n1192. \n1193.     def test_management_form_field_names(self):\n1194.         """The management form class has field names matching the constants."""\n1195.         self.assertCountEqual(\n1196.             ManagementForm.base_fields,\n1197.             [\n1198.                 TOTAL_FORM_COUNT,\n1199.                 INITIAL_FORM_COUNT,\n1200.                 MIN_NUM_FORM_COUNT,\n1201.                 MAX_NUM_FORM_COUNT,\n1202.             ],\n1203.         )\n1204. \n1205.     def test_management_form_prefix(self):\n1206.         """The management form has the correct prefix."""\n1207.         formset = FavoriteDrinksFormSet()\n1208.         self.assertEqual(formset.management_form.prefix, "form")\n1209.         data = {\n1210.             "form-TOTAL_FORMS": "2",\n1211.             "form-INITIAL_FORMS": "0",\n1212.             "form-MIN_NUM_FORMS": "0",\n1213.             "form-MAX_NUM_FORMS": "0",\n1214.         }\n1215.         formset = FavoriteDrinksFormSet(data=data)\n1216.         self.assertEqual(formset.management_form.prefix, "form")\n1217.         formset = FavoriteDrinksFormSet(initial={})\n1218.         self.assertEqual(formset.management_form.prefix, "form")\n1219. \n1220.     def test_non_form_errors(self):\n1221.         data = {\n1222.             "drinks-TOTAL_FORMS": "2",  # the number of forms rendered\n1223.             "drinks-INITIAL_FORMS": "0",  # the number of forms with initial data\n1224.             "drinks-MIN_NUM_FORMS": "0",  # min number of forms\n1225.             "drinks-MAX_NUM_FORMS": "0",  # max number of forms\n1226.             "drinks-0-name": "Gin and Tonic",\n1227.             "drinks-1-name": "Gin and Tonic",\n1228.         }\n1229.         formset = FavoriteDrinksFormSet(data, prefix="drinks")\n1230.         self.assertFalse(formset.is_valid())\n1231.         self.assertEqual(\n1232.             formset.non_form_errors(), ["You may only specify a drink once."]\n1233.         )\n1234.         self.assertEqual(\n1235.             str(formset.non_form_errors()),\n1236.             \'<ul class="errorlist nonform"><li>\'\n1237.             "You may only specify a drink once.</li></ul>",\n1238.         )\n1239. \n1240.     def test_formset_iteration(self):\n1241.         """Formset instances are iterable."""\n1242.         ChoiceFormset = formset_factory(Choice, extra=3)\n1243.         formset = ChoiceFormset()\n1244.         # An iterated formset yields formset.forms.\n1245.         forms = list(formset)\n1246.         self.assertEqual(forms, formset.forms)\n1247.         self.assertEqual(len(formset), len(forms))\n1248.         # A formset may be indexed to retrieve its forms.\n1249.         self.assertEqual(formset[0], forms[0])\n1250.         with self.assertRaises(IndexError):\n1251.             formset[3]\n1252. \n1253.         # Formsets can override the default iteration order\n1254.         class BaseReverseFormSet(BaseFormSet):\n1255.             def __iter__(self):\n1256.                 return reversed(self.forms)\n1257. \n1258.             def __getitem__(self, idx):\n1259.                 return super().__getitem__(len(self) - idx - 1)\n1260. \n1261.         ReverseChoiceFormset = formset_factory(Choice, BaseReverseFormSet, extra=3)\n1262.         reverse_formset = ReverseChoiceFormset()\n1263.         # __iter__() modifies the rendering order.\n1264.         # Compare forms from "reverse" formset with forms from original formset\n1265.         self.assertEqual(str(reverse_formset[0]), str(forms[-1]))\n1266.         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))\n1267.         self.assertEqual(len(reverse_formset), len(forms))\n1268. \n1269.     def test_formset_nonzero(self):\n1270.         """A formsets without any forms evaluates as True."""\n1271.         ChoiceFormset = formset_factory(Choice, extra=0)\n1272.         formset = ChoiceFormset()\n1273.         self.assertEqual(len(formset.forms), 0)\n1274.         self.assertTrue(formset)\n1275. \n1276.     def test_formset_splitdatetimefield(self):\n1277.         """\n1278.         Formset works with SplitDateTimeField(initial=datetime.datetime.now).\n1279.         """\n1280. \n1281.         class SplitDateTimeForm(Form):\n1282.             when = SplitDateTimeField(initial=datetime.datetime.now)\n1283. \n1284.         SplitDateTimeFormSet = formset_factory(SplitDateTimeForm)\n1285.         data = {\n1286.             "form-TOTAL_FORMS": "1",\n1287.             "form-INITIAL_FORMS": "0",\n1288.             "form-0-when_0": "1904-06-16",\n1289.             "form-0-when_1": "15:51:33",\n1290.         }\n1291.         formset = SplitDateTimeFormSet(data)\n1292.         self.assertTrue(formset.is_valid())\n1293. \n1294.     def test_formset_error_class(self):\n1295.         """Formset\'s forms use the formset\'s error_class."""\n1296. \n1297.         class CustomErrorList(ErrorList):\n1298.             pass\n1299. \n1300.         formset = FavoriteDrinksFormSet(error_class=CustomErrorList)\n1301.         self.assertEqual(formset.forms[0].error_class, CustomErrorList)\n1302. \n1303.     def test_formset_calls_forms_is_valid(self):\n1304.         """Formsets call is_valid() on each form."""\n1305. \n1306.         class AnotherChoice(Choice):\n1307.             def is_valid(self):\n1308.                 self.is_valid_called = True\n1309.                 return super().is_valid()\n1310. \n1311.         AnotherChoiceFormSet = formset_factory(AnotherChoice)\n1312.         data = {\n1313.             "choices-TOTAL_FORMS": "1",  # number of forms rendered\n1314.             "choices-INITIAL_FORMS": "0",  # number of forms with initial data\n1315.             "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1316.             "choices-MAX_NUM_FORMS": "0",  # max number of forms\n1317.             "choices-0-choice": "Calexico",\n1318.             "choices-0-votes": "100",\n1319.         }\n1320.         formset = AnotherChoiceFormSet(data, auto_id=False, prefix="choices")\n1321.         self.assertTrue(formset.is_valid())\n1322.         self.assertTrue(all(form.is_valid_called for form in formset.forms))\n1323. \n1324.     def test_hard_limit_on_instantiated_forms(self):\n1325.         """A formset has a hard limit on the number of forms instantiated."""\n1326.         # reduce the default limit of 1000 temporarily for testing\n1327.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1328.         try:\n1329.             formsets.DEFAULT_MAX_NUM = 2\n1330.             ChoiceFormSet = formset_factory(Choice, max_num=1)\n1331.             # someone fiddles with the mgmt form data...\n1332.             formset = ChoiceFormSet(\n1333.                 {\n1334.                     "choices-TOTAL_FORMS": "4",\n1335.                     "choices-INITIAL_FORMS": "0",\n1336.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1337.                     "choices-MAX_NUM_FORMS": "4",\n1338.                     "choices-0-choice": "Zero",\n1339.                     "choices-0-votes": "0",\n1340.                     "choices-1-choice": "One",\n1341.                     "choices-1-votes": "1",\n1342.                     "choices-2-choice": "Two",\n1343.                     "choices-2-votes": "2",\n1344.                     "choices-3-choice": "Three",\n1345.                     "choices-3-votes": "3",\n1346.                 },\n1347.                 prefix="choices",\n1348.             )\n1349.             # But we still only instantiate 3 forms\n1350.             self.assertEqual(len(formset.forms), 3)\n1351.             # and the formset isn\'t valid\n1352.             self.assertFalse(formset.is_valid())\n1353.         finally:\n1354.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1355. \n1356.     def test_increase_hard_limit(self):\n1357.         """Can increase the built-in forms limit via a higher max_num."""\n1358.         # reduce the default limit of 1000 temporarily for testing\n1359.         _old_DEFAULT_MAX_NUM = formsets.DEFAULT_MAX_NUM\n1360.         try:\n1361.             formsets.DEFAULT_MAX_NUM = 3\n1362.             # for this form, we want a limit of 4\n1363.             ChoiceFormSet = formset_factory(Choice, max_num=4)\n1364.             formset = ChoiceFormSet(\n1365.                 {\n1366.                     "choices-TOTAL_FORMS": "4",\n1367.                     "choices-INITIAL_FORMS": "0",\n1368.                     "choices-MIN_NUM_FORMS": "0",  # min number of forms\n1369.                     "choices-MAX_NUM_FORMS": "4",\n1370.                     "choices-0-choice": "Zero",\n1371.                     "choices-0-votes": "0",\n1372.                     "choices-1-choice": "One",\n1373.                     "choices-1-votes": "1",\n1374.                     "choices-2-choice": "Two",\n1375.                     "choices-2-votes": "2",\n1376.                     "choices-3-choice": "Three",\n1377.                     "choices-3-votes": "3",\n1378.                 },\n1379.                 prefix="choices",\n1380.             )\n1381.             # Four forms are instantiated and no exception is raised\n1382.             self.assertEqual(len(formset.forms), 4)\n1383.         finally:\n1384.             formsets.DEFAULT_MAX_NUM = _old_DEFAULT_MAX_NUM\n1385. \n1386.     def test_non_form_errors_run_full_clean(self):\n1387.         """\n1388.         If non_form_errors() is called without calling is_valid() first,\n1389.         it should ensure that full_clean() is called.\n1390.         """\n1391. \n1392.         class BaseCustomFormSet(BaseFormSet):\n1393.             def clean(self):\n1394.                 raise ValidationError("This is a non-form error")\n1395. \n1396.         ChoiceFormSet = formset_factory(Choice, formset=BaseCustomFormSet)\n1397.         data = {\n1398.             "choices-TOTAL_FORMS": "1",\n1399.             "choices-INITIAL_FORMS": "0",\n1400.         }\n1401.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1402.         self.assertIsInstance(formset.non_form_errors(), ErrorList)\n1403.         self.assertEqual(list(formset.non_form_errors()), ["This is a non-form error"])\n1404. \n1405.     def test_validate_max_ignores_forms_marked_for_deletion(self):\n1406.         class CheckForm(Form):\n1407.             field = IntegerField()\n1408. \n1409.         data = {\n1410.             "check-TOTAL_FORMS": "2",\n1411.             "check-INITIAL_FORMS": "0",\n1412.             "check-MAX_NUM_FORMS": "1",\n1413.             "check-0-field": "200",\n1414.             "check-0-DELETE": "",\n1415.             "check-1-field": "50",\n1416.             "check-1-DELETE": "on",\n1417.         }\n1418.         CheckFormSet = formset_factory(\n1419.             CheckForm, max_num=1, validate_max=True, can_delete=True\n1420.         )\n1421.         formset = CheckFormSet(data, prefix="check")\n1422.         self.assertTrue(formset.is_valid())\n1423. \n1424.     def test_formset_total_error_count(self):\n1425.         """A valid formset should have 0 total errors."""\n1426.         data = [  # formset_data, expected error count\n1427.             ([("Calexico", "100")], 0),\n1428.             ([("Calexico", "")], 1),\n1429.             ([("", "invalid")], 2),\n1430.             ([("Calexico", "100"), ("Calexico", "")], 1),\n1431.             ([("Calexico", ""), ("Calexico", "")], 2),\n1432.         ]\n1433.         for formset_data, expected_error_count in data:\n1434.             formset = self.make_choiceformset(formset_data)\n1435.             self.assertEqual(formset.total_error_count(), expected_error_count)\n1436. \n1437.     def test_formset_total_error_count_with_non_form_errors(self):\n1438.         data = {\n1439.             "choices-TOTAL_FORMS": "2",  # the number of forms rendered\n1440.             "choices-INITIAL_FORMS": "0",  # the number of forms with initial data\n1441.             "choices-MAX_NUM_FORMS": "2",  # max number of forms - should be ignored\n1442.             "choices-0-choice": "Zero",\n1443.             "choices-0-votes": "0",\n1444.             "choices-1-choice": "One",\n1445.             "choices-1-votes": "1",\n1446.         }\n1447.         ChoiceFormSet = formset_factory(Choice, extra=1, max_num=1, validate_max=True)\n1448.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1449.         self.assertEqual(formset.total_error_count(), 1)\n1450.         data["choices-1-votes"] = ""\n1451.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1452.         self.assertEqual(formset.total_error_count(), 2)\n1453. \n1454.     def test_html_safe(self):\n1455.         formset = self.make_choiceformset()\n1456.         self.assertTrue(hasattr(formset, "__html__"))\n1457.         self.assertEqual(str(formset), formset.__html__())\n1458. \n1459.     def test_can_delete_extra_formset_forms(self):\n1460.         ChoiceFormFormset = formset_factory(form=Choice, can_delete=True, extra=2)\n1461.         formset = ChoiceFormFormset()\n1462.         self.assertEqual(len(formset), 2)\n1463.         self.assertIn("DELETE", formset.forms[0].fields)\n1464.         self.assertIn("DELETE", formset.forms[1].fields)\n1465. \n1466.     def test_disable_delete_extra_formset_forms(self):\n1467.         ChoiceFormFormset = formset_factory(\n1468.             form=Choice,\n1469.             can_delete=True,\n1470.             can_delete_extra=False,\n1471.             extra=2,\n1472.         )\n1473.         formset = ChoiceFormFormset()\n1474.         self.assertEqual(len(formset), 2)\n1475.         self.assertNotIn("DELETE", formset.forms[0].fields)\n1476.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1477. \n1478.         formset = ChoiceFormFormset(initial=[{"choice": "Zero", "votes": "1"}])\n1479.         self.assertEqual(len(formset), 3)\n1480.         self.assertIn("DELETE", formset.forms[0].fields)\n1481.         self.assertNotIn("DELETE", formset.forms[1].fields)\n1482.         self.assertNotIn("DELETE", formset.forms[2].fields)\n1483. \n1484.         formset = ChoiceFormFormset(\n1485.             data={\n1486.                 "form-0-choice": "Zero",\n1487.                 "form-0-votes": "0",\n1488.                 "form-0-DELETE": "on",\n1489.                 "form-1-choice": "One",\n1490.                 "form-1-votes": "1",\n1491.                 "form-2-choice": "",\n1492.                 "form-2-votes": "",\n1493.                 "form-TOTAL_FORMS": "3",\n1494.                 "form-INITIAL_FORMS": "1",\n1495.             },\n1496.             initial=[{"choice": "Zero", "votes": "1"}],\n1497.         )\n1498.         self.assertEqual(\n1499.             formset.cleaned_data,\n1500.             [\n1501.                 {"choice": "Zero", "votes": 0, "DELETE": True},\n1502.                 {"choice": "One", "votes": 1},\n1503.                 {},\n1504.             ],\n1505.         )\n1506.         self.assertIs(formset._should_delete_form(formset.forms[0]), True)\n1507.         self.assertIs(formset._should_delete_form(formset.forms[1]), False)\n1508.         self.assertIs(formset._should_delete_form(formset.forms[2]), False)\n1509. \n1510.     def test_template_name_uses_renderer_value(self):\n1511.         class CustomRenderer(TemplatesSetting):\n1512.             formset_template_name = "a/custom/formset/template.html"\n1513. \n1514.         ChoiceFormSet = formset_factory(Choice, renderer=CustomRenderer)\n1515. \n1516.         self.assertEqual(\n1517.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1518.         )\n1519. \n1520.     def test_template_name_can_be_overridden(self):\n1521.         class CustomFormSet(BaseFormSet):\n1522.             template_name = "a/custom/formset/template.html"\n1523. \n1524.         ChoiceFormSet = formset_factory(Choice, formset=CustomFormSet)\n1525. \n1526.         self.assertEqual(\n1527.             ChoiceFormSet().template_name, "a/custom/formset/template.html"\n1528.         )\n1529. \n1530.     def test_custom_renderer(self):\n1531.         """\n1532.         A custom renderer passed to a formset_factory() is passed to all forms\n1533.         and ErrorList.\n1534.         """\n1535.         from django.forms.renderers import Jinja2\n1536. \n1537.         renderer = Jinja2()\n1538.         data = {\n1539.             "choices-TOTAL_FORMS": "2",\n1540.             "choices-INITIAL_FORMS": "0",\n1541.             "choices-MIN_NUM_FORMS": "0",\n1542.             "choices-0-choice": "Zero",\n1543.             "choices-0-votes": "",\n1544.             "choices-1-choice": "One",\n1545.             "choices-1-votes": "",\n1546.         }\n1547.         ChoiceFormSet = formset_factory(Choice, renderer=renderer)\n1548.         formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1549.         self.assertEqual(formset.renderer, renderer)\n1550.         self.assertEqual(formset.forms[0].renderer, renderer)\n1551.         self.assertEqual(formset.management_form.renderer, renderer)\n1552.         self.assertEqual(formset.non_form_errors().renderer, renderer)\n1553.         self.assertEqual(formset.empty_form.renderer, renderer)\n1554. \n1555.     def test_repr(self):\n1556.         valid_formset = self.make_choiceformset([("test", 1)])\n1557.         valid_formset.full_clean()\n1558.         invalid_formset = self.make_choiceformset([("test", "")])\n1559.         invalid_formset.full_clean()\n1560.         partially_invalid_formset = self.make_choiceformset(\n1561.             [("test", "1"), ("test", "")],\n1562.         )\n1563.         partially_invalid_formset.full_clean()\n1564.         invalid_formset_non_form_errors_only = self.make_choiceformset(\n1565.             [("test", "")],\n1566.             formset_class=ChoiceFormsetWithNonFormError,\n1567.         )\n1568.         invalid_formset_non_form_errors_only.full_clean()\n1569. \n1570.         cases = [\n1571.             (\n1572.                 self.make_choiceformset(),\n1573.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=1>",\n1574.             ),\n1575.             (\n1576.                 self.make_choiceformset(\n1577.                     formset_class=formset_factory(Choice, extra=10),\n1578.                 ),\n1579.                 "<ChoiceFormSet: bound=False valid=Unknown total_forms=10>",\n1580.             ),\n1581.             (\n1582.                 self.make_choiceformset([]),\n1583.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=0>",\n1584.             ),\n1585.             (\n1586.                 self.make_choiceformset([("test", 1)]),\n1587.                 "<ChoiceFormSet: bound=True valid=Unknown total_forms=1>",\n1588.             ),\n1589.             (valid_formset, "<ChoiceFormSet: bound=True valid=True total_forms=1>"),\n1590.             (invalid_formset, "<ChoiceFormSet: bound=True valid=False total_forms=1>"),\n1591.             (\n1592.                 partially_invalid_formset,\n1593.                 "<ChoiceFormSet: bound=True valid=False total_forms=2>",\n1594.             ),\n1595.             (\n1596.                 invalid_formset_non_form_errors_only,\n1597.                 "<ChoiceFormsetWithNonFormError: bound=True valid=False total_forms=1>",\n1598.             ),\n1599.         ]\n1600.         for formset, expected_repr in cases:\n1601.             with self.subTest(expected_repr=expected_repr):\n1602.                 self.assertEqual(repr(formset), expected_repr)\n1603. \n1604.     def test_repr_do_not_trigger_validation(self):\n1605.         formset = self.make_choiceformset([("test", 1)])\n1606.         with mock.patch.object(formset, "full_clean") as mocked_full_clean:\n1607.             repr(formset)\n1608.             mocked_full_clean.assert_not_called()\n1609.             formset.is_valid()\n1610.             mocked_full_clean.assert_called()\n1611. \n1612. \n1613. @jinja2_tests\n1614. class Jinja2FormsFormsetTestCase(FormsFormsetTestCase):\n1615.     pass\n1616. \n1617. \n1618. class FormsetAsTagTests(SimpleTestCase):\n1619.     def setUp(self):\n1620.         data = {\n1621.             "choices-TOTAL_FORMS": "1",\n1622.             "choices-INITIAL_FORMS": "0",\n1623.             "choices-MIN_NUM_FORMS": "0",\n1624.             "choices-MAX_NUM_FORMS": "0",\n1625.             "choices-0-choice": "Calexico",\n1626.             "choices-0-votes": "100",\n1627.         }\n1628.         self.formset = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1629.         self.management_form_html = (\n1630.             \'<input type="hidden" name="choices-TOTAL_FORMS" value="1">\'\n1631.             \'<input type="hidden" name="choices-INITIAL_FORMS" value="0">\'\n1632.             \'<input type="hidden" name="choices-MIN_NUM_FORMS" value="0">\'\n1633.             \'<input type="hidden" name="choices-MAX_NUM_FORMS" value="0">\'\n1634.         )\n1635. \n1636.     def test_as_table(self):\n1637.         self.assertHTMLEqual(\n1638.             self.formset.as_table(),\n1639.             self.management_form_html\n1640.             + (\n1641.                 "<tr><th>Choice:</th><td>"\n1642.                 \'<input type="text" name="choices-0-choice" value="Calexico"></td></tr>\'\n1643.                 "<tr><th>Votes:</th><td>"\n1644.                 \'<input type="number" name="choices-0-votes" value="100"></td></tr>\'\n1645.             ),\n1646.         )\n1647. \n1648.     def test_as_p(self):\n1649.         self.assertHTMLEqual(\n1650.             self.formset.as_p(),\n1651.             self.management_form_html\n1652.             + (\n1653.                 "<p>Choice: "\n1654.                 \'<input type="text" name="choices-0-choice" value="Calexico"></p>\'\n1655.                 \'<p>Votes: <input type="number" name="choices-0-votes" value="100"></p>\'\n1656.             ),\n1657.         )\n1658. \n1659.     def test_as_ul(self):\n1660.         self.assertHTMLEqual(\n1661.             self.formset.as_ul(),\n1662.             self.management_form_html\n1663.             + (\n1664.                 "<li>Choice: "\n1665.                 \'<input type="text" name="choices-0-choice" value="Calexico"></li>\'\n1666.                 "<li>Votes: "\n1667.                 \'<input type="number" name="choices-0-votes" value="100"></li>\'\n1668.             ),\n1669.         )\n1670. \n1671.     def test_as_div(self):\n1672.         self.assertHTMLEqual(\n1673.             self.formset.as_div(),\n1674.             self.management_form_html\n1675.             + (\n1676.                 "<div>Choice: "\n1677.                 \'<input type="text" name="choices-0-choice" value="Calexico"></div>\'\n1678.                 \'<div>Votes: <input type="number" name="choices-0-votes" value="100">\'\n1679.                 "</div>"\n1680.             ),\n1681.         )\n1682. \n1683. \n1684. @jinja2_tests\n1685. class Jinja2FormsetAsTagTests(FormsetAsTagTests):\n1686.     pass\n1687. \n1688. \n1689. class ArticleForm(Form):\n1690.     title = CharField()\n1691.     pub_date = DateField()\n1692. \n1693. \n1694. ArticleFormSet = formset_factory(ArticleForm)\n1695. \n1696. \n1697. class TestIsBoundBehavior(SimpleTestCase):\n1698.     def test_no_data_error(self):\n1699.         formset = ArticleFormSet({})\n1700.         self.assertIs(formset.is_valid(), False)\n1701.         self.assertEqual(\n1702.             formset.non_form_errors(),\n1703.             [\n1704.                 "ManagementForm data is missing or has been tampered with. "\n1705.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1706.                 "You may need to file a bug report if the issue persists.",\n1707.             ],\n1708.         )\n1709.         self.assertEqual(formset.errors, [])\n1710.         # Can still render the formset.\n1711.         self.assertHTMLEqual(\n1712.             str(formset),\n1713.             \'<ul class="errorlist nonfield">\'\n1714.             "<li>(Hidden field TOTAL_FORMS) This field is required.</li>"\n1715.             "<li>(Hidden field INITIAL_FORMS) This field is required.</li>"\n1716.             "</ul>"\n1717.             "<div>"\n1718.             \'<input type="hidden" name="form-TOTAL_FORMS" id="id_form-TOTAL_FORMS">\'\n1719.             \'<input type="hidden" name="form-INITIAL_FORMS" id="id_form-INITIAL_FORMS">\'\n1720.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1721.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1722.             "</div>\\n",\n1723.         )\n1724. \n1725.     def test_management_form_invalid_data(self):\n1726.         data = {\n1727.             "form-TOTAL_FORMS": "two",\n1728.             "form-INITIAL_FORMS": "one",\n1729.         }\n1730.         formset = ArticleFormSet(data)\n1731.         self.assertIs(formset.is_valid(), False)\n1732.         self.assertEqual(\n1733.             formset.non_form_errors(),\n1734.             [\n1735.                 "ManagementForm data is missing or has been tampered with. "\n1736.                 "Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. "\n1737.                 "You may need to file a bug report if the issue persists.",\n1738.             ],\n1739.         )\n1740.         self.assertEqual(formset.errors, [])\n1741.         # Can still render the formset.\n1742.         self.assertHTMLEqual(\n1743.             str(formset),\n1744.             \'<ul class="errorlist nonfield">\'\n1745.             "<li>(Hidden field TOTAL_FORMS) Enter a whole number.</li>"\n1746.             "<li>(Hidden field INITIAL_FORMS) Enter a whole number.</li>"\n1747.             "</ul>"\n1748.             "<div>"\n1749.             \'<input type="hidden" name="form-TOTAL_FORMS" value="two" \'\n1750.             \'id="id_form-TOTAL_FORMS">\'\n1751.             \'<input type="hidden" name="form-INITIAL_FORMS" value="one" \'\n1752.             \'id="id_form-INITIAL_FORMS">\'\n1753.             \'<input type="hidden" name="form-MIN_NUM_FORMS" id="id_form-MIN_NUM_FORMS">\'\n1754.             \'<input type="hidden" name="form-MAX_NUM_FORMS" id="id_form-MAX_NUM_FORMS">\'\n1755.             "</div>\\n",\n1756.         )\n1757. \n1758.     def test_customize_management_form_error(self):\n1759.         formset = ArticleFormSet(\n1760.             {}, error_messages={"missing_management_form": "customized"}\n1761.         )\n1762.         self.assertIs(formset.is_valid(), False)\n1763.         self.assertEqual(formset.non_form_errors(), ["customized"])\n1764.         self.assertEqual(formset.errors, [])\n1765. \n1766.     def test_with_management_data_attrs_work_fine(self):\n1767.         data = {\n1768.             "form-TOTAL_FORMS": "1",\n1769.             "form-INITIAL_FORMS": "0",\n1770.         }\n1771.         formset = ArticleFormSet(data)\n1772.         self.assertEqual(0, formset.initial_form_count())\n1773.         self.assertEqual(1, formset.total_form_count())\n1774.         self.assertTrue(formset.is_bound)\n1775.         self.assertTrue(formset.forms[0].is_bound)\n1776.         self.assertTrue(formset.is_valid())\n1777.         self.assertTrue(formset.forms[0].is_valid())\n1778.         self.assertEqual([{}], formset.cleaned_data)\n1779. \n1780.     def test_form_errors_are_caught_by_formset(self):\n1781.         data = {\n1782.             "form-TOTAL_FORMS": "2",\n1783.             "form-INITIAL_FORMS": "0",\n1784.             "form-0-title": "Test",\n1785.             "form-0-pub_date": "1904-06-16",\n1786.             "form-1-title": "Test",\n1787.             "form-1-pub_date": "",  # <-- this date is missing but required\n1788.         }\n1789.         formset = ArticleFormSet(data)\n1790.         self.assertFalse(formset.is_valid())\n1791.         self.assertEqual(\n1792.             [{}, {"pub_date": ["This field is required."]}], formset.errors\n1793.         )\n1794. \n1795.     def test_empty_forms_are_unbound(self):\n1796.         data = {\n1797.             "form-TOTAL_FORMS": "1",\n1798.             "form-INITIAL_FORMS": "0",\n1799.             "form-0-title": "Test",\n1800.             "form-0-pub_date": "1904-06-16",\n1801.         }\n1802.         unbound_formset = ArticleFormSet()\n1803.         bound_formset = ArticleFormSet(data)\n1804.         empty_forms = [unbound_formset.empty_form, bound_formset.empty_form]\n1805.         # Empty forms should be unbound\n1806.         self.assertFalse(empty_forms[0].is_bound)\n1807.         self.assertFalse(empty_forms[1].is_bound)\n1808.         # The empty forms should be equal.\n1809.         self.assertHTMLEqual(empty_forms[0].as_p(), empty_forms[1].as_p())\n1810. \n1811. \n1812. @jinja2_tests\n1813. class TestIsBoundBehavior(TestIsBoundBehavior):\n1814.     pass\n1815. \n1816. \n1817. class TestEmptyFormSet(SimpleTestCase):\n1818.     def test_empty_formset_is_valid(self):\n1819.         """An empty formset still calls clean()"""\n1820. \n1821.         class EmptyFsetWontValidate(BaseFormSet):\n1822.             def clean(self):\n1823.                 raise ValidationError("Clean method called")\n1824. \n1825.         EmptyFsetWontValidateFormset = formset_factory(\n1826.             FavoriteDrinkForm, extra=0, formset=EmptyFsetWontValidate\n1827.         )\n1828.         formset = EmptyFsetWontValidateFormset(\n1829.             data={"form-INITIAL_FORMS": "0", "form-TOTAL_FORMS": "0"},\n1830.             prefix="form",\n1831.         )\n1832.         formset2 = EmptyFsetWontValidateFormset(\n1833.             data={\n1834.                 "form-INITIAL_FORMS": "0",\n1835.                 "form-TOTAL_FORMS": "1",\n1836.                 "form-0-name": "bah",\n1837.             },\n1838.             prefix="form",\n1839.         )\n1840.         self.assertFalse(formset.is_valid())\n1841.         self.assertFalse(formset2.is_valid())\n1842. \n1843.     def test_empty_formset_media(self):\n1844.         """Media is available on empty formset."""\n1845. \n1846.         class MediaForm(Form):\n1847.             class Media:\n1848.                 js = ("some-file.js",)\n1849. \n1850.         self.assertIn("some-file.js", str(formset_factory(MediaForm, extra=0)().media))\n1851. \n1852.     def test_empty_formset_is_multipart(self):\n1853.         """is_multipart() works with an empty formset."""\n1854. \n1855.         class FileForm(Form):\n1856.             file = FileField()\n1857. \n1858.         self.assertTrue(formset_factory(FileForm, extra=0)().is_multipart())\n1859. \n1860. \n1861. class AllValidTests(SimpleTestCase):\n1862.     def test_valid(self):\n1863.         data = {\n1864.             "choices-TOTAL_FORMS": "2",\n1865.             "choices-INITIAL_FORMS": "0",\n1866.             "choices-MIN_NUM_FORMS": "0",\n1867.             "choices-0-choice": "Zero",\n1868.             "choices-0-votes": "0",\n1869.             "choices-1-choice": "One",\n1870.             "choices-1-votes": "1",\n1871.         }\n1872.         ChoiceFormSet = formset_factory(Choice)\n1873.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1874.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1875.         self.assertIs(all_valid((formset1, formset2)), True)\n1876.         expected_errors = [{}, {}]\n1877.         self.assertEqual(formset1._errors, expected_errors)\n1878.         self.assertEqual(formset2._errors, expected_errors)\n1879. \n1880.     def test_invalid(self):\n1881.         """all_valid() validates all forms, even when some are invalid."""\n1882.         data = {\n1883.             "choices-TOTAL_FORMS": "2",\n1884.             "choices-INITIAL_FORMS": "0",\n1885.             "choices-MIN_NUM_FORMS": "0",\n1886.             "choices-0-choice": "Zero",\n1887.             "choices-0-votes": "",\n1888.             "choices-1-choice": "One",\n1889.             "choices-1-votes": "",\n1890.         }\n1891.         ChoiceFormSet = formset_factory(Choice)\n1892.         formset1 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1893.         formset2 = ChoiceFormSet(data, auto_id=False, prefix="choices")\n1894.         self.assertIs(all_valid((formset1, formset2)), False)\n1895.         expected_errors = [\n1896.             {"votes": ["This field is required."]},\n1897.             {"votes": ["This field is required."]},\n1898.         ]\n1899.         self.assertEqual(formset1._errors, expected_errors)\n1900.         self.assertEqual(formset2._errors, expected_errors)\n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-10-05 12:27:47,053 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file', 'arguments': '{"relative_path": "tests/forms_tests/tests/test_formsets.py"}'}, '__gemini_function_call_thought_signatures__': {'bec6a1cd-3d6f-4c95-b8e7-05fe97964418': 'CsJAAR/MhbaaO0l6JxS/SBq0HdzpyAY1vg91dGoT9N3FGZQYcAnxgEbnZheFBWCpVsA3RHHPrZ9bG6sePz9nRuT++92S/3+rQFkRtNQn8YpfLXk6RhQva/0b7l8V6d9Yy9QiHfClacwKVB3X9+GQ9WX5Rb19BcH0FvTYy73xckpEyB7fbfRbwa93iGpY9r6Xy0O48j45ISBvAka4U/fsGT3ByRuRe+jUmXdEYNTd8MxHqSFIcA0ZM7EZKx5B20elRSXASMp1WYAAzCmCKJ8XRjg2lomOnwaHdGlLjZPY/HevilUTFpgiNSJG4Tgv+pqKBFv/Vpm5VVB4Y785Ipvp1MRhHJZHyfzMsugm6ENAgDyiS87lChL4BfN9b2utI17BXYKGV/Ys16uJjSNs8T8oJC9z0IpDd9Zpk7S0UP8ZlPP3RW/lB/lV9niT8YtNDlnvPisN3c4c9XlcfpXx9YH/DzcaWgSuldV3wHELAmkR8i94y1snFKHvv35qI3WWXBHsFDhjfuc6KhEaykqZOL60LJp+WLBWVQVj/YDgfAYJyssnDyNLxk9dL+TT4X47gLyidps/sO+QdRkqgIG1fyc9GGln0tI75hWme9J5jRAfxBXHBMQrgTGt5e9iJyfUKus6CgCCLAeb182HQfOCRcrK4ZSJiMfvSRbbleFzfTTyUZvr+CUSzCgglGDvBb/Q0BhhDb73Rc14cUWfQv8hr6VJfLdxVp2o6JfiLwA+u5gveFyx6Skjq/UP8V0sRjYzYQCLhBEV7qYunsrTNxPoOLlfo8l9pd/JiT21mtAaB/A0pvT8V5kfixZulmALDJZWMw4X9z/5Zu2aU0Zud0gDVqKVinDbKAzP0PkCXr7qgwzoyA5JpoeL+sTrb2xSvFlb+3XmbnfqA0bMSYetWRm4yjnxDnCuViGJmbF0dOBrwfuR7h/wRa8NexP7oZUn4VNDh9rKTXq5NHTESQjgrY6M93DZtWNzeYgai4xUPx8vi/WP849sRzvPovoSNXECYNPBUOCP/OxfAmR//l6nZCI/SHKoqBhEzW3OTz1o1yFaofPe8OrZBSLurv3T/wmtBbTnyrgh5pisdaJvZyEqGtrr7/BITowS7hwOQ6zXCJvUlFi9HQGTp03oDkM4PasWVDhYD4KlZiFIICmPBUexmPPHY+iZ/S0eAV+6eWN3CiuL+wQJjgyYC8PaIeODpHaO3+z5afo/6wtNiBvUrGB3EIN1oFP4M5xSTJ2byP9ej2XaH9oYci2WFWv6gZUGUd9ZWZsaZGbbg1xnnPvDlgZ7PSjwL36dB3bgX43sE8F716TwwRyVCBkoApL14bZApwil+OluyDvzpFzGrxFBS4pP30/mNTOKv1PZ6/08qOpsqj2SJChR1jxfFgxq7wwF6k/3nAuSnXu8MYIj8JI98xpFFnOCZ9jbIT+wuTuGpTXtemel/Q8Jtm2D/Ohi5P9FehIioJkFrpbV7U2JtVjg0MtSijJQaQgdgok0EKIlc1OUGL2cl0d67ar7Id/vG1skqE68RrMCGlVLa7i1DOBKrA5uE+EdUirfAZvGxu4rEPviHwvTPNa33UOPot6qLLxU0sCGiRv9IMRWxRq+ohEeHd6aqkNfn+dZjapuPcytYXknBSDweWksda8K996ZQaljvV8vJmmxZ5mp73YrG8MODog78sbS2KFRbE1qch2Pju5+zryMK0f8T4mkcyol+rezssen0hd1UVEloMdXVFZLH1s7N+FD5Jbu1hAWAKgtGdGTZmmJ+eLOF8qQMpE2ruf1+P1AiE/zxrwzNvkPwaoKRjoOHw2HVOuqQiBeZGIBBQO6/TFaM0WrqirKTzqrExaKkrOIE8TMB+87gEZcEcTgCJI9/fV3naXEmzsX6cH+/Pck/gFNXcrjY9RWdTmSVSVW67VLlm66UR+xhCUptNK0usfDngxpxvE3nhK5DmSY011Snw41aj5upHnA6KSA1F9NHaY8N0oo801guhyG2Z/wBhQWmFZCdjN6KwSOopoJNUOTbUgUr4fMEnv7E7uRuTSvE6oKU6WCdaxqvB6F24N3sBsLjRgXp46wLYoeqlGoYjebOCrPVZsAdZ5mik6KHRDBtEHKacMob/3dnxzy231ZTTYWLa82bqo0IusDXRd0wWlpkvT8dhBndx+muHzQ+//mFSAVL9lvYdLmoqOiEyAOjElVv4KMekZYFXu93oYy0eDIC4QVno9fEOTp52U7mhpS/3gbzyVr9fvq7zRC+XD5EgZMQz7nFW/0kOm60dWlsET226TESrSYdi1BkcYFjDOSIWPfprqp6TuXAkXQq40ECSN1vGtm7q/rUxLUk+0+eZMNsRu+2YaCAf86rfUuxM4ZUJLzb6cECqgQUtT4eBJw7gfw/nBUveykTtLLZ5rxeSrcDJsS6e04ZxUqY2BO+5V75tZSEsMPC+ie9vHdyFahQDYVbGKiU/poh/JPCOEwRAmyzcdVAqKRq3ulDGEyS68DwXFt9t0yAg97Z2kO667cyYVQKLAVL8X9coaFy0UirwvbIuWbej9AyOqn1P5k46cmLSwQg0zJv1nquBifjl5GqbzVV8VQROVnnlV/kVHnMQWb1cmjuqkj/Ale1B58lqHaG5+y1Adslr0MF3umencSZyQ/O+ZhN02hoFyxMj/h0Sw+zKh6ukc14gaR1ErTuqiHp11ohg0OsLEqT/XSzWihw2ILchrFkcye7k8q7w7RnpLuyUfQ67K+jlUmLeknzHmASlGKKAqBwh22s0eCOzc2U/X6mMpwJVIr//ZCQQ6qmq8YH9Uwpvrj2C9YKGlwJAUr+ks0wpYU7dX10YkyBfnox3suaXYwTmyQSmi/uZk53iYo7IpLk4rWBKoobPafarvcFL0oPodwkhJt0BVAIMa+ClTxRKzIQk8iK7wzTEJB9cdocrtm85vvgSmiCAgYrGRjV6ZKlq7HmLXI9DRLdRveEK9psf4JqOIeQWXvDMNAdAATaQ1bqLNglut9zXKDO8ZK6oNmr2k+7+XrfwlHGbeJekQvDqd4U3wF2inOKkvMULeCmKV/NaavTo6+SIzkGTPOf9aHuuWJEmuYjNmEZEL9C9oBEMywkaApz3q+DnPp66J2i86gIPjaN8z9SO7WCwIJKx4jwximcilqq8orkpJ6Mq3CjoOWcxVf82dG3UjyevQWyu4On2Sv1s8YIcc2sh08VC5KLgIWj55NvtmF77xse0FDtmk/UH78uau+8FDGj4H6IzvtDAVwSPQirCvshLIF2kfsCsDN7W/OspV27rf2E6+3J/FQvSEb1iVsnu9EmYa4lJJbfm4tsM3lFXtJJFpKjsG0DBBzee4S0pTSz/FnMPYZuBpQI4LTpX3ZVkW4b0jgiFjgP6y1a/V2YbQq4mSDmE/2BfUrNTM7qC5a4WgcOsvnU/0tpXBgS5l5VfUPy8MQo7X3hnPe6/3Nn8Id8jb8GQY0XaDBLvNZdZk+yq08BoNuDzmG2Ap8ZSh9fL2t56jvkzi0bWMVwFSO3QsgB3fBDj2n/I5UbnQfESwIYkIbBBCf3ki0PHLwzWHI+nAFcvmjFWpEN4pKAnCR8mDZ7BxqCWRevXZ/VfT0ATj1u/KIou1zJH9rSdAGdG8m3gkEPz/3nsxFJ69Q1/Y2AxCKZQ+7Q9g1weh8KkiIvqFsNRjO9x9P6GqUAT9VPVMWgjtjoVhX0WRC1fk5o4o3fo5Xm0wvo+7U/PrEID3HApJdhHYOEVb2r0Ya5XfZl3nYUuEToEtAwkk2dacWMR0EnHGydpSLoGBYJY5eDjqr7+j7KtOX5vkgWOEiG8dEsoYjwETdXc8Qg/PXFy8TZk5xBGbWmTSkPDS4f42usxLe3wLtB9mJGJ0FMzvlnFOLyk/6wzSi7KwsgeOdg9rzaqoTHDoYLdEZTafWv7MS2xhyTo9eu2yvvIMPd+NEYkSn4JS6wzX3vIlrnLMBnk4/slOB7Xa7D4rK3z5V+ALEy/zmmlpohs84fDAOY6gCs3L7E3lMFO3kkCGJwW6anTTebY6TFvgwGKD4qtCN49x25bfHGWAVFVfqaldJErr9g8Y1l+5618r0qwyFIWTu+aixzpnHwbFw/eK+q+uAM+zSejZ0/UMdmqQ046z40ES9wRN3tNLPIK56dj0oBGAfRYLAI6K1lWUG/OBGGUEkbR7AdAglWpwg+991tpVwHbri3f3UY4nuYzAwF878mFHF1DIwQKat1zI8eBaIcMIKhhOtK46J06zcZkIAPNJ7hfh/Fb3n0Zy68VfT6u8JBA/7XAm1yKMRkd9DZaPaGx0gg70uR1Udbun182Ed8eV9WN876uSoNjvlJS58xDHcf0RsTVQGyFcJUmbiuKCZtlCXuORP5tIbNSzuYzMgmVLXiuxqOwl4RJhXsJCnRQN2Q9WH4DvJ2wZ0/ql0zTEVlHBc0SoBSIntpyav6Q+q5p49a5pY0r+F0zDN5sIjZnJzMCjPpgs6YGL0EYegjiSBDMHvWCFqHer0fIswwWqfiZ3QJNcfiZvuex93YBAtpadlo7ZYqwlFleIB/DBSbhTdVCuXYIWcX2zsYwebWkjU78eehKAkAv0skxxBBZqxjoOQzP90feSmhcR4kfMqwtEjYHmRzCsT+5fjd+vxXNVe/tYnPvHsXAzGrnYs4NEsyfp2ZNmrJT0r9leqS3/SqM1tFyGoE68pUggZNIsneZ4dPZcgYgnUcaVsrTcQGlx2ipbfzQcay40o3kLiSm8RF71lgOKyHrYHgs6Qqu1xpdNv33T4r9PKHpePwEd+rR3/h0IAmJygMJygUs8mETfzb/UGUUwkRSTpdmnEMmvrmb3Wf2kaiYgUcdLOjo6SArGyWRcdZ5Y0dmvWxyhfKTfEiQzftoRNnAm2wUAnDP5EEODOxaI4BtQf3zwGECYRM9tRh9gwaDhzOrR56zm6/Mq5jEET4riI9V506g3rl2aejCL00NH3GiF1FHQK3NyF/soaxSn0qihPNhXXCVbEAZoUjcK08sCNo+WncxzqWsdp7RJssaaGXe21M5cbM1W/x6pVajHDGxUIa8EvOFUbTQpyINvNm8i90+MPFycCLcCifAGM7TtfTEWJcxvc2ljRpvWqkOTwaR+TEZognI1tccL+tcippFz50xtB52r9Rf6t5BBo/9npEWwhdSogMpMGA706yd/uugMQYUTGprv8/UR+IrqrtJcwPJPGdo58kcno+xRoIdynBK4MT3yqKjP5uivQnjgEMDV5z2aPS93wS1/nZz2FgcaDo5++xDrOEPR5CxV9/BTJYggSV4on5vDFLYO7Wik32AtVMRsRYnmaSJUe5Trd/G+D847+6xuhg58OyjrFZmKj6DqdAswRRVHKKmBeTBcAWwF1Dz6FQtxD5zhZo0bdscfCsFWlg1owAMr7KxLcsF4W8vP9olav+bXg5bSZnBQKSPNin3egrZwHiQ0b/m1aEZ5soUwk5ml85R4d7ptLfjc4j0NxemcGdAvS8Zoud8qMUgeofgkoebwSEY4kSGMK8O0QKA+c7QKGIVKXHcfFGr+YZf6oYXIlZvhPHnVEh82Z9qRcRIpWPoYHzGTD/ixwWn68G7G+i+AUVeHnpBp9L1YcxT3Vf1XG3QBhimova46DLnpxqzAy5+vYJlHmOGzP8HebwfbkeFjviR1F7gqqEUDNKTZJdVrnmhhO20YNqCVCVSzAg6XVa3gDMp5456FrhCy7YCTVjzeTxaAqRXP/qB2UBomhvDgTpdPrXULiVEKKpf7Y1/EW4ADhn1n3hr5AIMuknfptziVZaOoFi2vlEZo3+x1isljrC6y0WJ76U9gFphmWPZn+7BVFakLnu9+tI8rqHlYNBdwLE+mn/2i8p4MYELgFZHFPGl3bapxmG5/B9mXkBFfIVXuHWxbNA6voMkhzzdMsi2te54Fq0UjyYZU2mvlQEY/6Q6KgvDn2WtJVks21Nq1szceIEQxnmgUIzL9/6A4gbUrvdHDVYzXvZuWgURFqReYRW6VK0E5zE2bRNaBLG3d1QagBcHrw8CJIC8FHei5K+4ShiDPLT9gZoHx5gBOvzjngDOcPByOuM/Bc3WQ4H9t5vazyamagHmHgaZEeFXogLGO5dCwkLL+OM26MiQHNLQw4bshGDLE+HWjijuVkAfcVwp0M+Up39tMudvnvBZFHbSSd7VDpgq1r/aPnLCRI1DdyD3qXuvZ6iSNoIY8XoDKwUdMX+mV7MvoRJy0JCpZ57J3WXqMFexbNXQRmRWtSQl10bsGvy03pQudfYDFNdfvFXy5PcQ94y4t8mObVY9a2AwR00Qy9MUYdTs4DHOkn0xuK1jOSOcNF6f57A3XRky//r1s+bA9tDDFrqTaS0YOe/VmSXkWY3gnUB2s7ZeOu6LWKvJpIYuX+XZ0XOQDZf2S1wyHYu2xnY0CLho0LGAFNxLRuDzn8QJ66H3jovqTOEyL7ppZubZBncpfpPCue4FesWG5hj73GATGtpHyfZGddozGOXWWtcKC6B1pMN7RTVzvvwGLCIbg73oAjLxVCvYH3ym0p0qKA5KEWc0kvXCSOZVvc2g5ThacujOx7Rk18nuF1aANDoiXnqppCGxoh5muxWfq1xpTeSlMkF3w1VxAerktiwukHEczEepxLDciKNdJeLaEZ3zN3B79WQM5dXmI6HNhWPitxYnxvHuritfAOWGVZCXNx//cKOtwrciOcQbHdD0pFKFXAxTrU87x1741182brAKnNvVoV2BWJ1shSUKP8AKNRo9qSoepZg1ci/zRjNCn66SmZDFt4gfQyam/OyPsHVokcbmzKn4uvwMOkshqRQJL7O2N9rC/sNEFXvXzUQrssheMqvls9zqWySsZZuMCYBN7ZiNjiuSQpaNzzjLwlUtjjeVGOwgL45nYx4tTbTssboVM2WKZh7nluT0zhMqC1vqIZRoxf+pkpxtU3HEp6KeAmTIN2oEZCRcJNXwYGLw/B9pLqdI8dhN7BkAjnQqp31T+el0lyMMW+gLEOUy2oyny32DSNWpXzGaseGTLc6Rjy5QQ+UVBDL8k5b1589PBIfAO88fc0mILvfD7XuSDQ2ij2xdv7SjnpIdEg8Lzq4omN4O6TN2byOXDASbR+fykleTRaNBnM/3Ar+oKkX7UoGemXRIp8xXshDcDmm240kT+0X0wjIquU0AqTmun9IECuLS3eP5vznaDRjscUV/1z+qg9iX58YE7nw4dvU9NEEA7jk3jnY3LJkQHhGlFTfCzGd9NtKVp4Z+45/XCORFtfMsRApKUJzoAuLigdMtszuxi8kDZFiSjR9qDbyo54qbdcKj8g7MAc6YBHA7CK6mdzwsMyVYbZsbAZKCEIXE8tdC/KGA+qyJ2PkPMP7Xf77wwE7XhGpqn2+lBz9MaUxuXZdfOTrngXhdQFrPFA59gvQHupptGl2S+KL58viGVI3w/jsHEM+yUA4ef+qdumAeOR32fPxviAUXZiPh6TZwap+DHdXFzoRGLrj+g43uXBtPEk9tv7bShitiD8Qvmz5L4+wFEeuNR96e/OI7SNcVENKCtI6V+obdSvclWBcKezt8zqIYHYFkhFuUIzcXJVwzmHTFczihILvPzVlbc/pshvz53zfz2NlXdt7fT1gdrKfgvVWPlvgcGy0jDNh/FAaq9P3SmXQwo+RD+GpzKNnSPv/yRZWwt+COyHjxJU9VZRNvIV5I8SqaJ2yOKYW31rZXA82yWTvqfSZ7rK37504UzEJNTym0slL9DQuqGLzpc862tCuvmZ1LOO1PXDK5Xr9j5Rkr3eAikqvxLVxFjXIStdWbiLrXG2SJyp8SzD+frZXROiVJ20ah6c7FbObZhpDl/HbMfPdL2FxL9qCXncgUL5HwBqRlmJ/oS9qi1IJ6e5xoEAhdNCrBrNfRplLXVs+TWC0POO4KmWJwlDkgBghfLIu0T77QHiNK9Rj6XPVxj3KDVgTHchosFf6hrjCVu74AsQXwdzfou5/3CnkzYGjQgb2eK/DoN3L2N9zwPFlZYplBC1N3N+RNivoHdsTvrKiguuDOlEk5H9PGw0v6fagDzJnX3RSc7G+iN0sTcIP69wsuNDzWWzFd9xNfGENE7CJLPSmYqP9hT8aUus1FLWZcEfQElhCWL63iFKk2RHfYFpPU6Nvx6Xr/EuUy8WQHz78VWw5g9mx4QxsoAPw9ZgsbMmTa/p70jPyoT/w5oA97PjU44Razy7baa9VOJcs63v20C2m2Vlrs/Ex/uJtBC89Y24mpenIYlbfcIiIANMGLP6Hspm/qyG5pnYlNym3Jb32Nu2VfLake2Xg3tWOqWGI2AbnojfrFhZteTbcHVK0C6oyMboePBaU2plg/DZ9+DoyCLulFhiSsisf6M255eL7iHNbewL13tCHD/pK9oyIYxgShNt8aEaZC67FYJRCb5ILpOwnuphq4LX61TujFH4YrGpaiNUh1C4WiWjP4KJQkNAMltAOZu5Uu9Qiy/rbE5DbB17Mkp+HCoHLrSOWFm/4t8/ulAvakb33sfqzAfzGb8ZfWoN26uDw+JOJwq5LrJlYCc9+MFtBzbgBOoPkRoa/+MOS1wafhhhsl5hxL2OOzydxIzXwgLcx59Esm0J4v+cDoaLsSvRds3DPR5o9c7K6rp19xSLT38EL8b9PhOfauy7NM5z2wIwRhEwAE2B+Tr8vMET4cF9bs0z/p/KI6IK6mqMxe0L9MXA2DxZzR73hSPmMRs6Ew1ErYB22zyAheFQ/OFIRCVPKIPzfqLccrg1R/HWtUJB7cJkfGUuBA+/SXqWDPR9yk4rg8GC/R+2p9h9KWEh/Mm9JbfefUq8BcRIwc8AhBStAwtsKzDUtAGm3nEhweuYu2gcW88pZgejFcAko+iuyxn6du5CxvwdT1XCjd0sWxLwspFUg8M/tZOLQZSGspYE2R8+L4OnQ40EQPdmH8Z03jH0PawAuAWvJwwgJr5n0FRIABcNkTi3PsNfgS68uUkTeNVZw+DY46dd/BdgZCDKkCUICfcRvJ0ZBgJILrvy09rbOYay/xSYjsWgQYOuVjaMRoPBkliLnU8mrjRVaDpjBYgFGy7BuvDA2OYVW+5VKH9hGP7UjeHU76i3c3sh/hQYKLVpnJKaEq09HB4fd+8hrrZXVlbQgEqiogQ0MpF6CebkF/Wa4JPi2FIoaGpq7PAMOfJBOALMM9O68YV8wyLmI3ZndziGe07WKtMBDdDYFvm8dIm9tORac0IUv18EJ4vwBJ8xkmiG2AdLfGwnDl3P608PiuYmSekbWRDigfTyg3KM2G0sVsZo1h2POcZqeQ5PksImTqybQVxuyqE78yjOUs/qg+gW4gPRdSXLtG3Uq7ETWHSNATn4ezYEBRfNRzp7GZetGtsK0J6uze8D9+Id+M/7/W9WT5E/P5pE9jrEV9BQ+dWkQo75rRb6zbHGDeSIAT5/71ju6SY/5xnF3uAsKhjQuM7IdaNlggPkLARPRlYIbD4OdGMg9R/9AQtmZZ1yRH4mSLaWgbM+J3xXl/6g4G/Zec/WGgr8dpqOM44p2/1hW/pv9NoihnoLcl1gWXe3VSN8ub/KlmVUI4r0kfhkbjclJxE/Jo/cfw2m3YVztyAoJggAx8wV4mJiChhgizLpaoIsNALCw6Cmc3AK3v3FShrfyUjjEWvrrYTVFT62oMlGH0l3NeRnXFT2G2vwLPrqnG3IEMr1oSpruS9DA0CzHmexm1ib/w5PhudhDkQYlb+ibcA6hLfzcPycD0p1aH7ytfFGhBPGhuPXCyrs7dwGtdppk3a4KW+4JMt4ecBYggbGS1CfnxtSRedb/Jx4JBAc8iwUuYLl5AMMnS+HdE8CR0Wec1IcfO+GppyIJJhG1yBysn95r6Z8ki837Vp5DX+MuYVBZnsRsszzvFF2bpMf4Zzc1fl6fw5fpqer8v6j8am4+70JZMmrttePaEwLJzqSJeGrp9XGSpLHqS82jrnwJFQsL99OipwXg389+6U3LpoY91T31NkCt0GPzDzIc9dFllmMs98xTl6ky/may2+/cCnqhF/Ela3lkN63kevmAHKQLqFkoaXNoy9eRb/RYtIReHAuT6JSNWS9MUg8K2e/e1GCI0/osXBSvUhqbgW1MQ5Bicd+FRMdNlujr9IqWEz32isq6JAntmcwfYKKqTeI8UKGgcaP+b6XNTdyrvYvYx0Q5Jz7SKS+gafwL7FwkVxF/u45YJC4xpu4AazDEF3IG8/H55X+cG5nkd6Qv1iOVBjPML0vCSWA5sY/EMTuc2FjvUC8WZZXBrPGdAZu+GyjDt/Xa49OH8ICUfDEyfKpeBBcaLvry+Ahyfodsx1dYb4tuUnf1A0xsriu5xV64zV0wY0z/Lcxs2ae+dolR/Bx/dzHRfj6M28ahoRKWq3j3G/mRva8M42797dBe1QxnNeu/+dnxOWpyrjdWVoo2WkoTtpLYxAEG1ajASQxBn1YOg6T01OJemrJPzGY7gAXQpZq/w1MlUVgIcek+ASxOpTv+BKMwBH+3ea+ObK8skwfIEqsd91rXKjpTvLEMPrmM3wMZeCOLy9xT7ylSL/Ace1icEnx47LHzYLcJAJySRYUR45deuajG7X1MCCCf/S/GH0vx2KjrPlFh/teyQ+u2H3SS5zgUjb/o+YDhgWxiDyedoSRpqqYfRwJYY0ZASDQxZ3v207HnTPUyilA9Np1bV4oMs1DFLJc/deFFE5SV7lxTVRDPtK/dpZsyaIsRk+PmyhC9uEHpdyT8pdoG7JFgNYcSNu1BxqaPb7luWH1jrzYEfVEn6f7ul0G9tT5ohNcmUBcONInOMSle7y9/pLHS3QuSixS65lpscfIRMcy6E3Fl3xfI2wE2tOuTs8FK7OYuWny7c+J/bzDH+OupW1uaxKUjBNU9G4mcROxgY02chncNulUtA+AaZW3vZ1AjDS6SqIlKARlEs3VMRk1b9RTTnEqLCFLcqphEyGCQwhaDAfbmlyyYca2cjdapvLHK/FmWfR6XLSnqAWcGCH+NIYejQd+GUwtPyElGqCwuaN5qqZW6GLVdplUsUzAJ+8zhNkESWZ1sQzVI4U='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 742, 'end_index': 1414, 'uri': 'https://code.djangoproject.com/ticket/34349', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 32509, 'candidates_token_count': 20, 'total_token_count': 34728, 'prompt_tokens_details': [{'modality': 1, 'token_count': 32509}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 20}], 'thoughts_token_count': 2199, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -14.378569030761719, 'model_name': 'gemini-2.5-pro'} id='run--197ea43b-b95a-4f15-908c-52ef7e58df84-0' tool_calls=[{'name': 'read_file', 'args': {'relative_path': 'tests/forms_tests/tests/test_formsets.py'}, 'id': 'bec6a1cd-3d6f-4c95-b8e7-05fe97964418', 'type': 'tool_call'}] usage_metadata={'input_tokens': 32509, 'output_tokens': 20, 'total_tokens': 34728, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 2199}}
2025-10-05 12:27:49,118 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nclass MyFieldForm(Form):\n    my_field = CharField()\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_add_fields_index_none(self):\n        """\n        add_fields() shouldn\'t fail when index is None, can_delete=True, and\n        can_delete_extra=False.\n        """\n        MyFormSet = formset_factory(\n            form=MyFieldForm,\n            can_delete=True,\n            can_delete_extra=False,\n        )\n        my_formset = MyFormSet(initial=None)\n        # Accessing empty_form shouldn\'t raise a TypeError.\n        empty_form = my_formset.empty_form\n        self.assertNotIn("DELETE", empty_form.fields)\n\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 40173, 'candidates_token_count': 183, 'total_token_count': 40356, 'cached_content_token_count': 32063, 'prompt_tokens_details': [{'modality': 1, 'token_count': 42370}], 'cache_tokens_details': [{'modality': 1, 'token_count': 32063}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 183}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.005124940246832175, 'model_name': 'gemini-2.5-pro'} id='run--b1220cec-e605-42fe-9550-544e35e5bbf8-0' usage_metadata={'input_tokens': 40173, 'output_tokens': 183, 'total_tokens': 40356, 'input_token_details': {'cache_read': 32063}}
2025-10-05 12:28:09,014 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "from django.forms import CharField, Form, formset_factory\\nfrom django.test import SimpleTestCase\\n\\n\\nclass MyFieldForm(Form):\\n    my_field = CharField()\\n\\n\\nclass FormsFormsetTestCase(SimpleTestCase):\\n    def test_add_fields_index_none(self):\\n        \\"\\"\\"\\n        add_fields() shouldn\'t fail when index is None, can_delete=True, and\\n        can_delete_extra=False.\\n        \\"\\"\\"\\n        MyFormSet = formset_factory(\\n            form=MyFieldForm,\\n            can_delete=True,\\n            can_delete_extra=False,\\n        )\\n        my_formset = MyFormSet(initial=None)\\n        # Accessing empty_form shouldn\'t raise a TypeError.\\n        empty_form = my_formset.empty_form\\n        self.assertNotIn(\\"DELETE\\", empty_form.fields)\\n", "relative_path": "tests/forms_tests/tests/test_formset_add_fields.py"}'}, '__gemini_function_call_thought_signatures__': {'247f5f73-bf89-43ba-ae7c-728c1b2a6eca': 'CpM2AR/MhbbSV1SOK0DXFSbOGgiPYQnzfF/NmHftNIA6fNatWcIVYONBJ7cYImynHg5bI5vhfAW10WKlkmPBd6bQr5Ht92mOGxOhLAvOtXHh0ZMNKAv2i+RK0cKd17GGZ4+hnifpjjv+S/8/Y7MhUgCyiqDkYgMkU3E0W36qFztnvTIhg3XPyKy9DXaFj84rNb2DO80PV28sqqB5HOeKGV8YA6o0jjFfNXE5sb2YuRb7tMoVmgNwgm2Ds7ed7zWlDluzcr1ix2M8teSOYI3kcCajeJ+RMfEDdCd1vGBRVkkZro6jAuxuf3jCL3tiUIOZwJ9sQbGWSQ+wmQBqjwutA7T4iY9/qizRbQiKgUG096pz16SwmbTNdbdijeFeoRaBzre4eR83CzVX2Z2LOH6IhLUBeTTgpcUSg8jaoXCMf/IUhdLFvoel5hXn2BkrQgtNR1yjzVr4YsOZGjLgkXDFlGLtyz+VevKGSeIfEUbix66Gk5oQFD2reR34FxXabiUW60DgDL5tFwdQbcmDM68Tcxpwr2zJ5XMdeyzx0AWdsQVk2r6wiH0ciUCROY5HgdVKIvpRmOEMm4T/beoXbPGcBvdhp8E4iWEVZiU681J7Qeb7iFj2J8oxxi9ZvQ49GG+v2bYh+wQTOHK3IRTXEb1GKWdJXO2k+uHs+36g3zwHF9/LwYib6GCBYVjt0XBlClH3pqB2XxHrCYVeYHC5D7qj7PVWYw4NvWio6GD/vW/owm0Le9macwXGiGi9zK1T0DBXKIrnCZeb0dw3kGE32SlNaH9hdW6tsAa3wwNn2iXA+lqRQNSUqOTE4iphwtRiKMl8rwtvduaCjD3hQaWkSx2Uyz2KLgifYZzDF3oGUO2iWd+MsVFwkXjmXXCN9GwheOdWeEvMU1AI/uDSW1H0R2Dbxz23M6+4LPKOaj9KQbvODQbXBjDnuj3qbXkixwe+t6OBGVYbvPaq5Bcz4Yx9IZzn4F9PcnaN48PNJlNIDm+ymdbfZjeFqkCplCf/hfM4+xGnjZ3g5B0+ZX7TBsEKXsw8+/NiGKwoM2kyqQWaf3XGi692NRvc4QaXkWClAsHAA9qVaU9hZiYzDWXsKvjDsmtggLe6vihVQ8qrrC0KF/RBRDan/zBNYbJJO1v3y38SoYJvcLuYoniziuhw6pWjUCgxl0/tOeck/SI2vVaq9FAQBu/el9j/eYXgWm/ckFoRsCJ5gYkPFlQjCHqYWD+PgElk5KX2arW5Ic4p0GDDv4Y322scty10eh6BY2Z2ERFJCHrQgOJu6I1/xdOE2iLdZwjGjU7KTGSb9c0y9MwPDuXE+cFfP9QBZx54GOtAzkNGD84nvpjZUq2hvrkfxbBAanm+KhUUukkRTZKZvzRJ8lOIe5o04oea2QOtl9T7ug2Yut2Gg2rPrk0L1yY7q1MLKpq8/KypwPuQ7ZCQh0VybKObKITUvwYTWKbEsAxiy0mYq+oR5pPYwRpKv3ii2DHPGbj/Ot8gLW2xUPBFMYw7boxHcM9sGm7fQkfgxy/Z3Zw9RV5tTaNHNBR58P8wop8n20I3Ho02N4fwJd1vnTjAkk4iqaSEg+Rg6QLeGBDID4xtRGuEx91zbu4oBpvdvdMyokwE3BF/aRv5aaz3rZXfvSqP41TZ4IozxXw5g2fVXrbMm+eYQXzxq4ogYIeF5yFcEJqMfy5+saS4I9OJzXvgZB+mpi7yq9WVr8zebhrghRoAyzbbVnvqRjcPvrxahrsIWxeUOxACYULDfzRa61oxBS2+NbVdcJ1ZEz+Jp90T/9PDndR4FPs7S2c8vV7jAkF1j6aBwT9ivDEj2KClA8NKVGXr/ppIalfYhTk5FyikRJdNy8lSBz4j1Qjm+y3bDFh1mO8HGKPDcDE+7N4Ax/pfjC9WnDUAIiA3TfvJjmy9togoPqMoece6B+ZWVFUv+82/3pMhYHFAvgFKDoxn3XNrEEFePSrKBSdfWy+dASm5LI0yDmT0oM78oEqr4jLISEpp2uUjROMh1T5gnVrXl/IMJum1isxKOJxz8xP2TyXYwa2dTNuv0JcILyIKg5xdvcUeqf0iHUMepNlHJ4QdvX7tpJ2mru7OuyO2nuBhlKfepRKoVWEUx6++Zi+aGchy1XIo4ec8/2duI5r+xs6V1W3W0QmURIZKAuVJHwNuTvr5Bn+VfejZ/MzbVRUDlSYu7c+4M3SISKKhmB+mutVovD/5OmTiDOU338cCkB22Uv13DUfrJSvKAS4toqunloGdbw/KxjTrFaDt9nfOC2NpOylhq6HjiV3BEEyD76tSj1iRg3jT2YRJbexUA3hzmadnBku8safc03Vq64BHhkuMAYvJnOezPnklYVYV3pO5D1s5z9VtP5B7AAuHWTVuXXMaCaXh+xuRg9KXKL4H5dIH3KHTUaigfy4vxZK53IB0IJKE8WzPWwgCbW/ZKQuobY2/5EL7RNGCWqh8dWRHxELFsEH9f8fOTw8hLwFoA0NlAeO4nzbcwgCcifYYsfk98kf3deYKCZr8FyQuqeXlp9QZpfJ+TNI/Y45BnLdwyI1yoc2s8IYs3CwLLRNJ3TTP6ZvdLkFKb9FKDvRtLqsxfh27/EVdgmwdeK7xstoGrfodQ/Vso4mat0Y62Lq1GwFAFlIsI3pDkUETj3A8H9iOaoG3iXwn5t6nSwdnemgI+W+VKdbg5sfUEUiNaY+nxuskhb+jQL56Tki8aI9c7FGp98JRWOgJwYf7mug7vjuvLLABJKqS2UWGCb2JSwiuszpVjgcEZHJmLzbQIB6YQ1Bb8bSD5lP3i003i3XvZuaYpppVorCzgFSN1uL0K7v+alWCGbMcKazA1oM+womPBb37jYgWup0D1N63Gh+NWymytQBuU6AnewitnO4V2l679b4+Q2l4OLsjoNV06zw0Kc9LW+0HCXKJP1IsDIljQ9CdRt77jW3UKMhhrek8zQw8xhC6+i4F/elfAkMx57j+BGSKK4Ijd9RwBdUeQ1tFb8Q9n1CWpJtL3sPvpSp85KnK5UUPAJzuIkOFfvbIDgbn8es22rEESS26meVWis5E2hdFIsfaUWUHBwyJq7vsQ3CjTRh+831dlqf6aMOzZRGOCDbcBN7MX6kc5fkkHTFL+RRHOFo0P5kL82aFT1+x6W10sk0k+jCO2dtnpoCfgu3rehVXChBVVaV84A6auNxGru3bzi4dkKxrJn4quU3m/37m5XjkzMldkBGfjxI3icESlEi80qtKpVYKbsB2tIq9A1MeWAJ+FqFoZKAvl6eAkgYmae3fYbvE05Mj/In/iYTTDBHWuYc9cEAtn/6VP4JsBsA+Pz1jEt/ugMsaV25pXO3/CvlSXjRxa45IXOEVCgS7PIoGjRqgwLsisetfWAkTP7vmenjv3uqJjHeUBVHqWCWg6XD0WV0cHi9V6g/XdDLKVqiSsU+LrtPVWCy+c3VqqCLxswWXJDb9wsUvWZjmKYCd04lzKyzjieivV8d8EwUzy8exglFKh8f1ughT3zzq4fSNz3dkeUKzf16j+o2xBJazB7LPMbFbBVgIwtIWURjDAHqgrxNVfu31JLcYlihZ9fbY9BWkjgojblKD0gU79/Nxk9pqtr8REElBr0sj64XJVwAshg8QEA+yoAc/0GN6q2m6axfh/Yxe2CxvthCfke1l2ukYXiHhq9pyjFX1o9ugCyJ7J8vZcXIlMpMMangyBQK0RI2D6qu9pTVpI+xMJKYwjVDTUeEzXpjBMYoJjXyes9KMSNRENUvMc2rYNE2qwD+MzB1DrFWW8tJ3w8ZWeUs57FsGr1EL/KiG7sA3K5r+Pjq4i0v0BSbRT+vAQPvoLLH0U/2HqgsBOqliTj1tevqQpzs9bsQioiqMu+p3x/pJSFLWHyt5bx75RSvzK1bE2Xt0GrE6FYXD4j6CbN2jX+fultLDtbk8wg7oTykKIJ98S2GU1k6zI85QWBT41MTebKoFKeGNRYuwLGPT23uzPTPhNuXhMRQeI40ZfUG/TkSy73Z7i6W7htvhR3fwbTnr2Qxjy2JDYZlEjTzebnWMfC3LUX6PBbcYDoKgGO7XGEdK4QzLhbJ70Ju1iNw4JL0AW5QjkuuaD+KAimnf3huqGcR4NaQbLCgidDx9YMHckaS1VyHz7Upf8P79vDJBGd4sL6uyTv74DlSeTnJDEGNhJW6FdGNDu1vVpH3dDK+UOIhrb7XTqB90Uvw0aMCI3LsN+GiynFCzNWjNNbLvmLjFPex86YkEgrOZGjudbv+unM2aURY7DOdFaxX1X6cgIlAffWSL5HK+CwUWfDI+NzwcrIzBK/BANXYNLH660MtiWi4omsMP0hEwPIupa9ZD9rQiTeHOD/gFdV9DeAv4JUjJTZym1VwnUaXW23Ke9mpOxeAQ0nJkgdvCzLlskKHHCYEhdVY7Ff9KoonywyM5JzkR7G4srF6zIeMqq6CeFWNdgMfjgCvLTvgNbxidiL7GKYW3JMtEqyGqPSHkG22HMCg+lq+6SwQ2T4C/8laPuXAgSYVVRLDXHZ6RMsVMOHTsDKQ9b+IgYaWtDnNdaVb7OZQsD0E/y9JqeGu3cNEp1JkVXtC/35yvLsair+a4yenjHbACf5zU3AJkZkcy1eRuy1xRIeRO8J7ZzZujHzfpIe/06oo8XXE1XI3pClApWQ+zXJBCcAC6AwChV8iDxtuPV61SILD7Mi0zLQyIITfZLTkL/XwaO020XTwUmHwWZ7OZaIRuVPh23s0BaW+610TjXJ1mDroPNFdoH9Kojl1/34K/vJJE+BEL1ZtDvnufDKa+4HM6zg4PUROCffotWqhWjQbbj3/JZNfzhnyNKV1CewW9ao5839tAxo7PCbi5jd1QX9RTROyxXTSwoltnBOm9ymvDKN4nHYZ/QRV0VELmQAV9yZk133CAalhQVx72kVo175/aNR5uYCNz310qhPgbRrL+VGQOTyfRYTt4Bxxw3zJL8qFN60C8NT0TT9W0ONslFWYw12HUlspKLyiDOCdqMMcnO0lEmsMRWzNxcA3Qu6Gi+IzVoRhCU7Y+o4ZWb/wDK3OGLYBLlMxTlMhEJgSMdas0edYNXwDhIh+GREgEGcs6s4gHmz36Rkjk9ujbcJ86rki8HYHTDmzPQq+ZCxdoQcOTj5ViTmD3z92PI1T5ZNyYh1PkUXJYBFgnTRr++lGEgio1EA4re9aZtkiOGMuOr3fHiMYuXz2CPTcPoOKaGLJ7Oq3QqnOmixi8qnmyAmdDcBEtl6xpX8gInNgozu0evDaroJ0OmYDNcUh93v/Iq5vBw8mt5Si/uY/gdYuiEc/76q0iGHI6Me76DasJewpSYu012j/J2VWwdGU5OjBL42jzgHOLTa6zjPcQEvFJqtO3gcbL7Ro+NOAESc63qLTCqRqzrbKXBC7mRYr0qJYhiVf0q/WCgT7QX3CZUjeEZG5gq9DfmD4aW82VpFuZogAT72mfOW+BbeqaZ6kyHmd8a1Sjw/WkOgYV2+Wuqw+zcX2K40CScmlewS38XXJd0Gqvpz5Kxd67uaBQzhc0RDYQZlMfzfGxhfu2JaZ0iVGBU6iph0djPTMcqgZuGCX8nlMi1g33IiaDHdr/srENZSOOW+4dgCakiw4w4VI7cNqUmrbD++9gvYW8xQDEtYhok9MDFcXb+4BJ86E0fkUcUyhgmJIXUooTipncdGSOD7DPUFL5WX7g8FaNGQDVnh4sIQwkn5WDuDgC/RTeAg2Klc8U0IW+uMzX48lBsQ1FYuA+CYTPnAv4esaO/FOR/VVUr2IkPW8Un96WiNzDEXY5Cy5veHdgAiWmwMkHhPmaoENupNGtLVyacJLTVmpoxEsWc5kJdiiw6EkzvOzeKkYDV7oDA0xWXaiBagbDa3H/GzebYqlcK9RC0xeqRjY/rjvmfqeIvkfeNGwcrCIKPqcRMhGkOTfdoSqc929snFI3VFLJKL9oFJtd7Odn3GIJA6rNgefxg3UYxXK66JZxHaQ3CnJ+E7XyWs+cZ3nHep4y2Iwxb3mq3PtFFpgLlefwYqOFlM28MS6rkVC+RQwXc2ou2oRoaxt2JFVatkwSbXHgxQfAaiTh/qFLWFcoJGdKNNXWENdfYQomSnqEYHYlBpLTGBd9OIf9hI9bfaz64S7utub9VLE8TahaNHB2QqhwD5G6h24c7v32lMwHNQEhBPDo/H0oMDWQ3sqDqSC1V3Nniz3WdNphAZqX+dd03bfXNkN3kj9ns4abClX0YaKcX6Y/iwZl+iwxoteBu4hK4kYm7ssExtQUKD0W8LpFIasXYVc3VNF6px1guEPrnp6lTtmNi2U05scKwCuE+7KiRZdNCQoIPl0aegg/7d5X+iy9vhBjIbYh/XYhKNfgeHx5J1Wbaqdlq0X3aarIlVuNfW6onB0wGCvx3t6+erMjhZavzQnBd5wcsGR14zH1gk4kqcE75251fW69cIgay1thviQP9RRuWC9FfYxMAb05oA1TjTmIdkdS9g78u9AWujbyTPv+hSP/xW/IVPWyIrqAfGDQ1GjE3zgQaK1RiX5Wc+FMstzxbqx5pH3rgM4SB2oXNTdjAo17T03z35PDRz0trCh01zpb9m6MfomFBjJ5bC4OzMOowSx7IHMSRoYNuHoh42VJhv4PJ5fsHo6Ark1ZQrdVIB638Rw3AmH5SZq+tVRQ3N42i4plSlAoVU0APTPYd4mPuPyYVyfgBJ7hXsBXKeksdcWzhDoqXa0Hkxw42tY7b3jKzXG7k02Pi38Pvvc/xJc1DUB1ZmaJ+x+kStKcl+omRf4ea4jbwGHE6Utp/pfrFP0YBIOGPs4PdRKflfkx1M7bbhbGNDpraRnQO7cHBTpIH1huAVfs2z+8g8RXbjAnTfLuxM8BGEweLldpmnMxOA4EX83rG8CKsSm8Ym7+Q4Wy29nj/SyAkuozfAeYFiN3k6vzRSYRqIDb0terna2dFAX+djTTCsZ3WOMBHpZlLFA39OAAWQiX718HAdtJsvSXlpzA93iyYOg4omHgTYghRr6itYosWoVDdCkbTX7wYZnb1zDdx5VD4g/JrrZzvES7Tu9q2JHoH/5I1vp3eFRRLcwT/1N64uErcO/Ixuqo5dZmrn3XNMR7bsmY7/u+VoAp7vaqUuQYlLEn6JB7H94HVAgUg36GWBApV+kVPEZAyFOlZ3uIYU1WOIce1pI6qEk5x09LEJEiRoeZluD8R8N9ZfhlnifCQ12IHcrpi5d5OlqL/wcsE3n8CfLutgMn8iOx9DW8Vu8mS1B0DPrUzVrLEtq5jtzbnmG28x3mdEAeqmnA+naQj6/lOEfHKUVleqqFpS5gvOdnD9+uB2OSR2CObDAjbCqEhQPqpib1kB+TBvGZSRgSGhykobWCWwceY5Hqyfk0ByGyItYIqaX+gt0HLgzc2nfMD2sTWG5NjtiKTd50EErmBLfNZi4RktqVnRWJ4LsfV4fErsYjlNN1fUba2rVsBezSIbzB5ObZBujMrc/JM5+osKoSM4gvCWljRuskEAK+NbtxyPhMQmpyJJSox0ZibC5qFqV0gXdRoOesElQyCEsPXo+H2vz64Bds0U9vsmX7hV+LMvcjUhV7rsUIMRywcz7QWrLs9wBroOXzHuxBI4gCVhKOXm+fp+nDNTzvd4lY4OJW2xl6mDXVh2MrFQfxUEyPl0aryQyZ8TOnJVT4N2Trgp74Lj4dvPX+DMy7lWGFMlLF2KEqDZb82kjPjn7XyX4AQW+Y5EsRvk1atFID4zBgP5Sx99peFE64bvVzS1pArXRFK/yFMyUxW5yBEt5q8jzeMGC5uOQ2wOHmJcWxDVKBJsaSlxrLHa49k3rQUCY/WR/EnbGGvkTUm1TeoZ/FM3zhTPPcAz+bU+XJi3NxxL4b5Db9lTX3vw8zuid90yFiLzPeHDlppnl5wOBoK6CKpT7RllamggbKg93Jc5fwwobbUue2kFmGCKvqt47AkxoxVlJ4OT55ku08s1fKzbsJ9b5Z+CXqXep9yxIMl6+l8O9FJBK7+hoR02Kl35HjJj/oPMSafH3MEiy/2ECWgY1bz5qvrtB7aTEQ3sWtUpXA7yLUWKeWyPO5+I3UjkiTSKTVXHMIPRAfkBUjNAnjNkmbXCDdaenbB0QYkEl+tLM7EfvjAk8wIqJXD/p2HqSOVdyZghvlYWsmtN4OZkpbl1OvFq/8lUQtMrb3C+sKxGK+TJzUneKZmFM3F1DhRbqJ9HI4mRvJ8qlvYvNi8mTYAqg1BILdPrfRsdHSFzxMMKB1kJI/DI6pCUvaeOswI8xYOFJNb8JWshoLfwm2MNXmPeg8BwghrtPBN97gd3+TnXK+riThy6iByhuqx5n16UNi64BIchB9GZDPub4FiQ1Wpqi4TDNIT6mKdXALRzHIlMdZuLmcK/8GdPm+ICfAIP+Pme3Hio2bKW6JorqOTkNqPCA6JUpQrBqXxogJTBYdQ4+ZU8CZdoQ3TY6SIJOUu/rFevBI1FrD5iV31SiKv1RtwGPJrgWDN7qRjmHrCTv5nc8B8+kMIn87tweqEc4AR9+ReShkHWxyWvTwFqLpQkTyW/HzboE50dDCoknQXdTkbNsgsYG4TWRMoWrNNReoZI5jL1sUsn0FJDD7h5IBXhmUI1AyTp7SVDZi75LPRZy3ut8iVxwbAx4/AALaW5h7YZ74JL4Md2IQhh9QrW5zHn9S3KdPidhF0nqQCoNklxdTtCv845/qi5RrKfWXMXpocUDEjOD7kidHvd35M5swEPgVORhUb+GaAov6s6Kdl4a/yDfBMlQV1b8RGjFCXvo9m+udO5QjxODQmgjG0BinJMbHznodt4U2FWpLwbIN7nB4MxslJk/1UtfAGlCSNzhioppKQiTlzGDSf6zFvenLikLgMiDT7B4kxhgw2RYs21KYVyJyCIiwkkMS4aiWxeFQMmBNNWoD88TbI6eNsqOPuUBSsAnkY5mSJGbnCoR77M19xMGR2kgOeBqQuM5r35EFDX5WvPmjBbf/hcmF3oM22dQksnOBiewOGrK7PdSGc7ODY5R/45RFYNq8Kl1v97ryzHHY/aXjdfeRiFEvwZ0LcFUEgZ+Uzbookt26f689qJwwY6zR60fZcfLYPcdSV55dE5eFEslvrWVRtPRr7QMkgR7j1uZjiJKaEB+hGw+BAWrs4rE+QGhnGFWJDxWpbc8fX8GZK52MvPAPlsKg9XMzcSOlb+KqCoZcM1UItMDqOzjNlukiRN1nowr4qF6+OVOhfhvQcj0NP0bxF0EwgSUe9tTUNn/1TapoKJBHdEdUoJr3GQ=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 55027, 'candidates_token_count': 227, 'total_token_count': 57215, 'prompt_tokens_details': [{'modality': 1, 'token_count': 55027}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 227}], 'thoughts_token_count': 1961, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.134151778032076, 'model_name': 'gemini-2.5-pro'} id='run--d895d4cc-a56c-472c-8758-7d7fb443931b-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'from django.forms import CharField, Form, formset_factory\nfrom django.test import SimpleTestCase\n\n\nclass MyFieldForm(Form):\n    my_field = CharField()\n\n\nclass FormsFormsetTestCase(SimpleTestCase):\n    def test_add_fields_index_none(self):\n        """\n        add_fields() shouldn\'t fail when index is None, can_delete=True, and\n        can_delete_extra=False.\n        """\n        MyFormSet = formset_factory(\n            form=MyFieldForm,\n            can_delete=True,\n            can_delete_extra=False,\n        )\n        my_formset = MyFormSet(initial=None)\n        # Accessing empty_form shouldn\'t raise a TypeError.\n        empty_form = my_formset.empty_form\n        self.assertNotIn("DELETE", empty_form.fields)\n', 'relative_path': 'tests/forms_tests/tests/test_formset_add_fields.py'}, 'id': '247f5f73-bf89-43ba-ae7c-728c1b2a6eca', 'type': 'tool_call'}] usage_metadata={'input_tokens': 55027, 'output_tokens': 227, 'total_tokens': 57215, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1961}}
2025-10-05 12:28:10,516 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/forms_tests/tests/test_formset_add_fields.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 55282, 'candidates_token_count': 18, 'total_token_count': 55300, 'cached_content_token_count': 54542, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57241}], 'cache_tokens_details': [{'modality': 1, 'token_count': 54542}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 18}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -1.285923644900322e-05, 'model_name': 'gemini-2.5-pro'} id='run--df23f48a-2985-441b-877c-61276b004765-0' usage_metadata={'input_tokens': 55282, 'output_tokens': 18, 'total_tokens': 55300, 'input_token_details': {'cache_read': 54542}}
2025-10-05 12:28:10,668 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/forms_tests/tests/test_formset_add_fields.py b/tests/forms_tests/tests/test_formset_add_fields.py
new file mode 100644
index 0000000000..c8d38f49a2
--- /dev/null
+++ b/tests/forms_tests/tests/test_formset_add_fields.py
@@ -0,0 +1,23 @@
+from django.forms import CharField, Form, formset_factory
+from django.test import SimpleTestCase
+
+
+class MyFieldForm(Form):
+    my_field = CharField()
+
+
+class FormsFormsetTestCase(SimpleTestCase):
+    def test_add_fields_index_none(self):
+        """
+        add_fields() shouldn't fail when index is None, can_delete=True, and
+        can_delete_extra=False.
+        """
+        MyFormSet = formset_factory(
+            form=MyFieldForm,
+            can_delete=True,
+            can_delete_extra=False,
+        )
+        my_formset = MyFormSet(initial=None)
+        # Accessing empty_form shouldn't raise a TypeError.
+        empty_form = my_formset.empty_form
+        self.assertNotIn("DELETE", empty_form.fields)

2025-10-05 12:28:10,668 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-05 12:28:10,714 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-05 12:28:10,714 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-05 12:28:11,228 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:11,229 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at 278881e376 Fixed #34346 -- Ordered selected expressions by position.

2025-10-05 12:28:11,229 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-05 12:28:11,329 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:11,329 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-05 12:28:11,329 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-05 12:28:11,330 - thread-139660780025408.app.docker.base_container - INFO - Creating directory tests/forms_tests/tests in the container
2025-10-05 12:28:11,330 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p tests/forms_tests/tests
2025-10-05 12:28:11,430 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:11,430 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
s


2025-10-05 12:28:11,431 - thread-139660780025408.app.docker.base_container - INFO - Updating tests/forms_tests/tests/test_formset_add_fields.py in the container
2025-10-05 12:28:11,433 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-05 12:28:25,037 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/forms_tests/tests/test_formset_add_fields.py"}'}, '__gemini_function_call_thought_signatures__': {'7c54ab75-bbd6-463c-8c2d-eb05d6858ba3': 'Cp8iAR/MhbYRkyaGuL61Lwqa1VtRcLEeTSpwEQbVOQAB0/izl4K2ELEjDV5fhU9MPoifxb+clbMv0hiRNcYuzJmbEQQlJD46R6mbE1gXX3OiZAW6QoL2OoXxyrVvTLphrZ2VTkStf47Bg9lgERnBnc97jvuRjJowH9kpHNrl/CLNVeauuOkJPYCs3kfA8bFP2nAV8XCuww2KFKDK35CMv3e18eKodmq2cdvql7TsJoVowR+nwDPf2MEaGRolL/wd2QzlWWVzobc6tEWGU6QTa91K9d5Z8NGccPsJnZ4VBbVyMIdJuen4/JSwYHKS7VtaAuKx2Fktl30Of3RSi16Yy4NsojeCEcYSS+I9CoER646Bwr/QgqIFfd0xQ/SpVI9IguVDETnitYUS5Lgiq2hiczoUNgRqClgRuTjujmtb2nHflJdWABDTU6aTXVik5xXIKKSru1ZcxTChr4/yx7hbqvpbT9jfk9UjLmp7HrDhsoBd8WTSdaP+6/PrGG1Qvbs38Bl5AAjDyY+ta1qaC35oOINemtrULdidXX5AxtPaEi7EF97uE7cVnt5ReDP6jNpwb0VBJMi3aFdgaDGqy68gNI+qNfSbvVLkzdD9thwBgHjqUjs0N6PYkisZvDmPa7Rk5JUczD/EzGfjayRd7PNZRdwbEMMr58FJ0QoC94UHlVTPB7rf8LvwbzPdswAjwdWorGfg2P4tJqKC7hDqnjnT0waWsHEJ7jsteA2UwsTnGPPB4cJUI79ltN/q/RIfRPvwb7A/8R2XmjzE77tL33n3TRU9XzJ6JH2UInbZIVOqrg3FbBMChmJtvGcuo4d1xvniyyBDVmlY2VBSbpxSQUV41bEyqGJxds0lipsgTu9RqWRNRG1CPVTHNEWOe2IqdJ2Q+sCs4Jd/w3Ohrtos/rPWR+GrlALFIyyRn5VUgP/k6q0W7qyk3wvYcL2Mnj8UG9wVWFiWgwWJUKBZhsB0JJUgXrir3tVH8z5CyqtUCC8SEW2mU/SmzlzwWg4YLxcrfdnIilbGrJpRiUIhhzhMIByT/tNks7bpuxiJmXgWbj3MSk6ZC15w3L0gIr6BwjVdCahBQVJYhfi6bSoHDWlosUtUEVOb8pcLIgqCES34dNjhTLjR2XCepwSMTuNCboNas6xTMyuBxbTZcuUa8sCGoYWQyFtWla+41afRJJIBRZ1ETGPk/QroHdXL7s4lLEbkV8SerhGQdhLtImfOuyppWpTzgDpgKlFOcTi5HorgaOfeXDVhZZeQJGVX5W9tUWDK8HA8wq48P5pxmpAmscLOzqS4isZUmRvHar013/yT/xKZx74egYGD5gZXdrQ27KKPCJ5Fs1aMODA08L71fXw3QyrSeFFjnI80SvUrr0UZyKQN1wqTkfMckiK5TySPNQgdjpIy7zHEdRAUjRFkeCkucz6LKjaaMKUH2njmhYB4MvVxNw32+z2qgtt+RNGnNXD5PLyfJpPu9z3sRss3HeiW8ReW6Rxf95UOkjztqf0AcPfV7CLpyTDdI+CsVsg3gt/Wzbd5d0QfEILtLjfAbJHT1j3tcp9DUWoy74zEVW/nUNFmfQExWR1B7uFvjDVUce/LJB/JznSGR8AC5rfSfFrkdEG9LW47R7Dt/SYcB9mLcvYjDo+1KMD9Mu29S6U/bEQdjqbQk1gJocyxjlqjgWXT6Q4p3h5+GyRZIvoWdW/IRhl//d9+/+l+ciEQ2X4gOFXKYtgA8ViPBhLITTdcP+I9+5dLt3CEauOwojno3fjpRamemLp2yX2JRrjvfd9AXyDBh3vISpM7XZIt+X0lLJjaLWfTIL14EqUPCKshHjqUm2cyCoFu8PQnSut7ujl7jh5gICCiAcHi2t/GOxk5Bt+Nl15U4AIq6dQ+cMuRSED63JdKzJKdVFrSHWjnmxwbsYJI6v+Tv0p3L7HIFRNceYUFHcrKGkuvib5OgcEyy5KyjtPhRa8E9p0Ai6Bh51h7B8dWOq3NDryY9iD+stk7+GYyZUuhCTGiehQwT/oCU/L6zys7/9ykp7V9fnYHALg8cxgkyHMFnbEUpbWD1SETxpOLjkQ+9Nh0oyd0j/lvGGeWw2p5fbeIEwxuczUHqyNxFw1w1gCd+PbhekIKCC6suauTHlyKn4d1qvXIim4sg21ru5erKYKuThT/aW5vgCCQSqjDxcAi9+j6E9zu5SeibO/DJn25neZL/wdgGS14uisRb9PbERaPVR5msn6aDQ0vOJegK4kqiV4qi7gKtGkEM3qeQDLchRljeXvNCBhO4ufKSUdTJ8rb0Tz/Yb9YJUI7/Yzbig1ZzDXYUihOSvZ30xbJ+IbZK8JGDIcYn4Xf3cn+BTSSkx3850DH92hLExm7SG4lJzX6Q8MC7YPT+oM7KkaiW2N0OgBGmHO9i99Ob++JMdyNA60EHulTZYnBBGQYk3/b0CQm6MR++Gc9L/K/9ovLuyPKP0Pg8ZOA7UHsAOuDa3Q2uYCXVudmTuQX0GD1UpsEmQjWveJMSLvGOj6I8pNT/So07hSa1usfWfLKsoIjzXkye5GyP34dJ9qOK8cGPiHtlR9owaDAXS7JKP5J9tTrmJMPzDwnQobo+lET9CbWWpEL5nAjAZKdUOH7uJEcsFAC1Ueex6T489ZnaCJqKQgYpAsiktwczGjgQOqpAX4MfiIHgBrdVYwpn8OFX01osY4vxFK1uKzx4t8drLLimHZLmAzcxVFHHgWyXn+vVRb2L/gk5LRlvjEMO9djRTyDZOak6Oijr6yFDx8TxhC/pV2Y4kuA35D41hSoagQD48c/19eLpkwc+4PwJab8R6sKDvnj4VsH6LWvujNOHWsv1BFrpGHMrEMF64zyi3/mpPcqys1byXCOrk095fKK6VXRQ+VWnMQlIo1a8mHRr2osCxpey3oulAA4anuDKnjlSS7+aO/6AKHRBrIIPNNjv00wf45GyID+WC267AfXW8bTu3EahqTS4OItnUr3A3ihG98qMQdob31MmC4HXHgxOAEG1hJubRaDNjmMWSGryI1o5YqChO7WVMFKsrqOVvIcKzWi4xYw06YNwTpSc+tqqVu0kwg/rKv17pvXg3FiH+kJ51VGpdTWfDHF8BuTzP38rTaKq4/kaWNqTrLvb1B/D1HJBrjaPqBtWs7WNSpZoE5KMg/osrL3ZS7xJRqqXbV93OoirzEQqxnQJj12IMnoPxfx+44eLUxvaayd8t9OT/iExjKNyL1QQySapGRhXhMMq2uoogSdGAfJQt5KfbpdxhP05EUzUtlrb+FkAPk2Q5i7sxwdE6P/6AYfYF6CtXqLsEK/4iZhGLMf2FAQR7UwkGoyY4Nz9RRqg2ig9+dvEXDzHDvhxnwfPDS7dz160wKjEmItFoiNypRipLYPWUS//S0ypmutACxR5P3N2zI1iZbq7htkYwwFVwNLK58dyNYj+Q6nDeTEm99f8bFzDyfhdvUkUEBqCyHv5u33VzJcC/CGv9i+aQIrAHEEuGI8eH7c984F50nrJLSWyR2V79G9jawDZ/moOmEjVW/PUfxJrLcLZPFLGJSEWhv9pk8BT3bTyYD/tiUVlWNvfyVeEHzsr59TnAFKJxPYSMjC0BpO8gtlAdA6qXA/T+aim8Ja6vcfgjnGf+ud5UoVmX8ZrQvtho/bw6aUQo3BUlmwUghXZ7rhgze9mQKVQV0R9y7Rq8TIgqAcCeTa6j2P1CP0NsSu2XpKSPHx2kvdcU8VvuaaMIUoTWczA/05IvqRfU0Xvkh7t/rVs1KHZNXNxoqd0QT2PkeFhmsw31a8kSfiUfRIFAJejm8DGmSoxicHJRwKzpY4p9IS27zDuoKdV4TyludVZTO58f82CMkLbF/VnltH7twFONSlJk7xK80mFgluCQmXcACPpysLViBzS6k/Hz3mTR5nPPwCWL+sEBVms1he4WEsRB3joGoTDcUt3kEEizrJj/tRn2Kz4lb6mto9Rf1WbRLDo3f4fKEx6yXiQZtwK9jZ5GyzILszhWOn33xI8FeG6QLtXzr/vxHWzQzb0XDdCOGZv4DXCZL0g9MHuaPK0IzVHaXZtwjsCroYlUEp8bPtn8YgnNSo9zs2DVz8gTHBWNfgXDNJHWHN8SsbLJjmYEncdLPJ31W0dPoyzeQd3cr9fI2AA35j71toYirnEuqw0Po8btEQQxCzkHmKpHDt4xRKjQYpsKS1fhC2pXIPvee+/lzuBmL1Nj1D4RoJ4KhA3lNeFjZo6uoNsoTrHshMpIPXgUazENIE+mNTi6F6rec0KIv2XZ5F7p8xzs2K6u0ZR6e/LMBBUkpmbEqk/bocfvbcF6Re5zwkXOZpvFhhOR1Kh4c6RHgWZtoQTvDca9ofXIdSp0sr9ijZ4bAq9kK239Z3td8HvQvfoc9bGz860pLgNtSEJ+6On2zldV0V10Rpz3vYegRxRCbbneurV6ZeIdrpf5o+vFmurJXHyhESAJtge2jYkPs1IS7ktuMeB/kbXyPc7gmG1PwEIBKX+QBNueSltDPV7ouPO7vBH3L7Sct6yX1c9OuJ7vNOcGCsUckGTFvLd17OWI9nuFaOnJ+Ke+9Y7U6fu9z5H/ZiuDeLVG4QWrXa2WVT42XVGDp3FarlBW2QbLId62s55pQQQ4jdb1F/f7bvRM2VLGHofIFHY0JIVsTRrIjb79sMubUdHD4d/gXVNoMjSn7s3z2xxZMsZpd2caJzAf236rnwlSzg3owrKMz0Ls39tRYHDOZD/odjijufGKOAfAuxwDQHeI4eRsdeG9rxykZaLCO5RjT+/QcaWCk+FIxZ2oFv9JQjZBIvG76TP2iqrMcpiFNx0c6J1FWr8bOUTayO7+b/MGHk68M4RZEz+bogGQkyJC5LXNZ1jB/jpt737PDur2C773CdSpwZ/du9DCG//J1tGuWGmpmFMDl5Wu03/lJENaNPw96VajHY1ISWoMpMeVzbYaFN0doQN+94JQurW7ssIVD9T7fIuo7ChIdeAA4SfuqIAQyeQ/0ZM5TQUm+KQHGc6BixY6+YPhZAYnwTwFw3dkPX43h3YXQCA67FcGq+yf1rdkD5JNk4gaOIeko6Fw+Au1YUQNzYg2PWL1SAwdZTwoc15dRzFBimE7nDSYS9tZ3XYeXp4ZiLyopZbGOtkwzxGWkRdYbD2nnzvelSmuJTPw9p+b/2Owa9Dob3mi2sGqYm8gASrWzKXaASut69hoe+0TbTti0IzcxPPPQNJawFlA8c3e3pqeQovueaxa/erxyJEaBoBRolmm6kC91OR1sOwl+ksUplIykD55nlSmV1+nWla9K8xB3+wPDUv5Cc3d3Gqwqydx4ChtPmYGTbbF3aHP9ZJAelqiHK3WP9hGBhl5NBSewphDI0ZPnKUQnHOQvsJgNBF5uNe3jgttTWakInKxz6prHCnxdJhCwFwAKj74Zi3Z954wXK0L2VthBp3GIYaEGTHMfQz+JcVotUdJ9pU2+J2Zg8UK98GvFo+3yfPEelTsya74t21RZ2RaQXrgDLr0vX618Xal5nO5ygCGYG3wwHAuohQ1pEe5Adrc3cQrM3GCZZX6FfQK1JET6hx468rZXJjekj1SbE7w1rQx0FcMJlLGdEHUcbRq4q9sAh2WaMHj4/eyNdpm+7Gw1fCfx513a9moLS9ykHY2rnbkzREULgyCWgFl34fKIU42NT2wDYUFhnFmp0pbswXWPR9aSDVe2jWQMt06n/igarn+T6YJ80PV2I7QnaVgcBZv8y1Yt1CawzeLoUyYhvfDKNXj+pNbfcI62rwfm1yMGfhMS9oHSigC3Lng4a33s1Nz0dIsaE2Cd3jDEvFlLa++C2ocNolfiJZsAbLAjHbRbuvF/6X/YKRxVzpTv+hk/TnwSX'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 760, 'candidates_token_count': 23, 'total_token_count': 2021, 'prompt_tokens_details': [{'modality': 1, 'token_count': 760}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 1238, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -10.590333358101223, 'model_name': 'gemini-2.5-pro'} id='run--86a5e36e-623e-417a-9938-7d91ace2b892-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/forms_tests/tests/test_formset_add_fields.py'}, 'id': '7c54ab75-bbd6-463c-8c2d-eb05d6858ba3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 760, 'output_tokens': 23, 'total_tokens': 2021, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1238}}
2025-10-05 12:28:25,039 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/forms_tests/tests/test_formset_add_fields.py
2025-10-05 12:28:25,466 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:25,466 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/forms_tests/tests/t
test_formset_add_fields.py


2025-10-05 12:28:28,608 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python -m django test forms_tests.tests.test_formset_add_fields"}'}, '__gemini_function_call_thought_signatures__': {'38e5fe2c-ce62-4d74-b8cb-6a07f41126f9': 'Ct4GAR/MhbYp7Iccj+DEJuKXCtMOYd70PsXW37fR19tbKh5ayeYlf2xQYAJaxQGw4hivPE6EsaHzTaqyDltVjxRDZg3ppblH8tjpHCZLgHxwmv8U38oMSUFALd/KLDErIm8ijDORuGNvBdjPreUG20dLHbTqrg9mukL5nPJD5EMkXTdguT755zTwuP8u8IoJpFCJWUZbeTvb9mxHf18NRvrAt1tS9c/fi9SAuqCHbtFYwsKIXOPYqrQsq1/iOJOPKwCX1nA80XfenhG0XJn/3hbt+pF/nohTIxkTff/GOqrc+OyC68Bh7rvfQ7FY63vzSjLi+ABjkek79XkHLNvP/UEKMeAR7xaQFSR6NC6WHzoDFvM3SNg0FwSxbn/tCROMP6fpTNP/GIZTWosLkhI/U7a1brzVb8ZbZhVAu6dCEsUretCVGCKcPwwsgplbkwHBW940PN+HrlpGBkFXY9wprksl+Yv5bxifDdxVC7YmYTLt9b/ZFp4wJrTb3FXLVsfhULlWwNdR1rXkgsF23gKz3OkczaXnP9aeHHHWwLmRCAgXR//Tr2CkJW3qzbtU6KKWa+YECSgthDd96EMMZVXxded338VqziHTJemE/42OWNVRHRUQ/tsEPWqNER7NA6KY9LYQ8k5bt+hNibkU9lkgnMDe2raCKnU/s4Lf9zs6xplkSNzwrJuGHtYIJUzDpEte5q8MNplaQ7qzoyiLYy1tIgZ1NeXAuGy78dlAqJ9ILtFXA0sfL+PmE1Z4Didfs8+HpqYQ5eHnqGFBKSUlkNxx6kIg6CwgbreX3nNAy/rhYdPT6NTHPkO3LD9cbE3XxXmTMFzry/MIZR+hc77mABq8QUbF8L3pTZ99nFxoJ+e0CClF4zAu1P4yrmHrtxMAhCGIta/QHDYTYttlmaNFNrJuxISRJyggKEjoIESOQhqzRpPBTAEhxZ3P0H94AmQ/3LoCuORWBnlsUssdTh8sZHxGLoBRhEiOh4APoBrP/27Dl1pl1I1K8X2UB6uzKq0Kfuj9ibdVjfzyih1MYsa29AzOXJ/BTU6vg39LA+xOti6mEYHEYGRMyJVmiyVTfmtvDGDdyMEonAWglCH2OpjZQUqqEdB1GdJRLPxr6ZRbirpYjut+Ynt7BP+te830DHu+yeRG7g=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 809, 'candidates_token_count': 23, 'total_token_count': 1052, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2045}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 220, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.359970590342646, 'model_name': 'gemini-2.5-pro'} id='run--7f4b24c7-9db3-4c87-944c-1d2d02305e9b-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python -m django test forms_tests.tests.test_formset_add_fields'}, 'id': '38e5fe2c-ce62-4d74-b8cb-6a07f41126f9', 'type': 'tool_call'}] usage_metadata={'input_tokens': 809, 'output_tokens': 23, 'total_tokens': 1052, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 220}}
2025-10-05 12:28:28,610 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m django test forms_tests.tests.test_formset_add_fields
2025-10-05 12:28:28,836 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 12:28:28,836 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python -m django test forms_test
ts.tests.test_formset_add_fields

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/testbed/django/__main__.py", line 9, in <module>
    management.execute_from_command_line()
  File "/testbed/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/testbed/django/core/management/__init__.py", line 436, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/testbed/django/core/management/commands/test.py", line 24, in run_from_argv
    super().run_from_argv(argv)
  File "/testbed/django/core/management/base.py", line 404, in run_from_argv
    parser = self.create_parser(argv[0], argv[1])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/testbed/django/core/management/base.py", line 367, in create_parser
    self.add_arguments(parser)
  File "/testbed/django/core/management/commands/test.py", line 54, in add_arguments
    test_runner_class = get_runner(settings, self.test_runner)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/testbed/django/test/utils.py", line 370, in get_runner
    test_runner_class = test_runner_class or settings.TEST_RUNNER
                                             ^^^^^^^^^^^^^^^^^^^^
  File "/testbed/django/conf/__init__.py", line 84, in __getattr__
    self._setup(name)
  File "/testbed/django/conf/__init__.py", line 64, in _setup
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Requested setting TEST_RUNNER, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.

2025-10-05 12:28:35,646 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/forms_tests/tests/test_formset_add_fields.py"}'}, '__gemini_function_call_thought_signatures__': {'2198766c-42fa-44be-b984-60963e5420db': 'CvoUAR/MhbZWxxq7UXvYEEaJ53uTiohHcP9JnMzxYMzGb8BSZqjGtoKQ0ReKXGo0G0DDMgsBPlTEg1cbh/hxQ/UK5K421ujMjOoN5G9p7uTlIFTTDP/ZJDlMpKWHx+Iz1Tixwxwvg/F3at7pYL3bDpMDDdSm7UM65gbmrwWsAHVzcBr03rxgVplc3LjyJcl4fvDIM/wq2MkRW7f9zhIYnVejbxZ1K2b884zNpVIZ4oI5IR/3SrhsBN/EtDOBkgztly16P5R6mgKMnl9G9hmY+3KuvuuUwG18+MGoh6ei51i9ZAuoehXFlJ2uUqXrBvWcpCVHoRr0cnYhIinNhFBenlsqmsr+Vv4RVvUNt2Q8bj/ivqzKSsHULYdi7kAI3rosWZww5xvH1HmRqCy0CAg0lbHPqPo8M4ELVfqn69mZ6H6zd9tsWAgAftE6yG/GLt9ILIOXkZ7JqaQ8PaPnF2m6In+jsHD4qKTmzPTXff1yYPhWzGTC/neRSwKm1OoB7bEc9TERjPG4UnXkgRfagiWI2QUvBuPqx15AYuVin/fhasGCvz3O21PAyL7cshUjQD6HUrmYYJqrFq86u6Gug6kbn6/+fq2zG4PY875OR3kGGFVS+oVNdFiCOxyj7enxwFWX2zLjMBcEWpnQpmbKyM0UKMMyK5LWTudOrNbgw2XkXd+0k8rnZ3gUitReIE5FYclxjTWRno+JBwNWyhfQuUlaEmdrOUULt6y92PrrLnQbFqFXWmS6MGiYAE8SM3bUhs6ypUKKO00CDNRRhWnVfO6KGK512vk25pXlAgKJ7pMhEoJAYetSfRGlXsi4X/W/OXCFeNEzEe4kgxeE88z9/GfWqspoF4WcX1/jAgwequqtGoD3xF1rHG+2UdRC52jGn+EZQzsSuk/PSs0+zoU8FJHXWKY8Wf+VlIwo/2NQ/1/OJKcW0nEkm0xxlLMDvqRSxKEsbch5zYAWt9eInlsTl8AuIDXLMFRTHwx4xi9/y0Ks4H2xf8TIT68vot+zGaisT/R7hhUOIk+LEmHY47p0fLs60mq21cGslb0lUGG3/qq92dc5DAEP8mQLz6RY8JhSgoGEa/zP9ovV1gsYtvvY4eaaHKbC1clcuD6YZEx1Rm2FUbwrRtzsN/pyTsQ5d5GVylvNDm5qYKVgzdfyc+nod4bOJMioSyAMLyr8YKt/pZNywWfOMwkNz5zUn54LDnSdbW1KdywEbFoRm/vr4E2aQmKnNwyT6jr9R8oNSBfqAxaZ24SlRvgIoOcE4yIdXwrrdjNLrchPRaLRY2SyPEQlreQ2uL/g/vmmUJTTxZiHvvuvzVAXIFhoXIa9Gh1T3L2H/2e3EzbILIWPfH5m9j6h3kPyexx248uVKSfwpHzdviva83nGexQ5XL9FvpZHkC1I3oE2MK9sDK6Z3JADbLnyxCHlLqbYBQI4YENtXjXA0z0i/y5uOfygGQGAq4TEcS70sKc5sc4JpSZuoG8O3l/G8lFi3PrdsVo0HqiN3Lg/yd1JZSs0bLfN9DMr9xFGu/gUzq+X986dJNe32R1/wnnOrst9TTf6dxIfrjPZjUVvnLrEXmSK2q0sMUY0lw3JhQ2o2Ld0HXIb+t63uBtePn8itBc91irezqb9uojvVrlDNYUXBYMtj53n6CehcIdPpQqzhTzUUQUujKYuoRTfq81bdqvzpOU6bQMKW2bE2LpYoVHX1o7/JXwJyc83phtVoWP1kiM8P1w4plDbSTaajt8zy90xFwUOQn0DakIxHzzDO5t8GrVsjif/x+Ghlhcmlu/XNTuzz36+rlc3m658ASEMIH8F2FgkdIj2pmqqYKZgnGrV0Hn24lIKeCqcbSpMon+xJaUDHw+XMM6yN8yadCuoMV3mRZFyVIYQCLhysu+tP03hfvLu4Z4/lzBw+E8DurZyb6+uIyvOZGa8Vrbkrq6/xcWYTQ6M8gaocayhJ6sfUuMzDbrriEgDJ5a4vSoCfDbKLbTI62QNh2J2r2WtJhMbhCBKyuMfwPXABjJiLgTjkutyb0nPvlaQ0WAGE49tevqzZQVABMXfNbUh5D+MQNf8w6NfvIvsNGTaYVe+u5Ulpw+jKl03l3dYBRjX1bZDDhzLcNXfq4dNxWHpWR5GP67oZ+tlt9EO6CuAi5MSRPllYtaTBPHyHCRZc9HMa6gxxh1THRl2t8Stbhb4MAoEbg5HSc1mBjolyyDiADLE+OlzqdpAxced/MzPmplf2MGJwKyylPyi9atWVtzlIKjzCF8gl+r83nmEsGYwETg9Nl/5kkFZsW0WE6J7kUUZf46uHJ0mkTZp8tr9vHyvrEnqevpZpt7Sc9b0uvzaEVCBrgmPun3mZU8vq6+FKmGhA2I+gmH5D1Xb85Pxgvj11usPtNo4H7J1jU5jbLJAZwVXviTe1Doas4VNX22LmbVo95WamwOfrRQAAbqxh6OR6pCl1NZf8LZQR+ZjbBBsL891im1Q6IfnxffzFyh02jxi9tmlAaQEg/WjBHIFPjcrfU9yE5vycBW0qlrJznNAnE92z9wI0iDk+YZvG4G0B5NbirBfZg0Fqbv/zSjYXrX6MBr8CFXqnCPbZ6H+F2Rzug+7of8XBe15JOvj521E3IAipH5llbRVNMa9SGzsU4d7/JVVt11usHqupQ7FzCewK3EP0AFzWVATJz/RUYQ9ejj3ay+vJB0XwKWlhfc27lYo4Fs3+vaE0dbt+u2y6bRJo4IU1FrjS3Qx2yhQ/K+TrmXvCtFpdNDS62VR19z44CVI7NoQHjtj6LoZw1jJF8mofYUyy/ik66WKnYOF6pSsm0FktDbprVdFyVp0s4bg86TTVUTJNfpyek5dijrk92c+8QNNCTJQ5UTl8/j2AQ5nT4fQSNBzNWVFW5p/eDE9M8Co8J2HkWEEPjKS/hprgXmPN44pQFO0Isyvb70kGsXj7vt+aQwq5Y9ziiWVqQUsIpyJUQ8qzPbTCHw00HwyIMBCX8/J9X8RTntVIKk6Yy9fIiLNvzYbuZ97IojP+2BRRqzEqTYxG5Re/Vp1PqTf4OcxNDojDuQD4LqFAqWymR1K7fhG/8gx5C5Z1oOY6XoODmPNb/DOW1IefLLXdlsbpwqxUjdthEJ8GmSx13SUrSQFpygiXhvSEB7qmoW5q22DDZmm444ZxkCq98jxdhNC9azVtPwP8070Np3E3DbTXvLLGz4yJeXZPssxV5xT73tE5gp6Y5h7GCBRvRPYtPHbnkD+hYr58aPEq+mCC8gH0XGMLyu1XpA5H+6sYLoCSbqoGkLBQFvBqzDIAbGJufoadmtk+9m+eClKVm7ry/s3b1H14Rz5I6cTyedb9D0f4scCJO8amgTfEDSyAs61fV1HxltX1LiA+hsL8dORiDIZnX1IDGuiCaES7tIsSXzmNHu3gays5lIDcAWFYkdUI9Ct1fbCk0SwRae62R8ElMbDpnmrsVF2zNnN7Kv8crF81rBYsxc15SOMbNH1IfQs26hC9/341pxC+ys+kgMmosPaeNXGAcXS1k40TVFRM+lewwJk1ug8RCemsyf2An/+NXMyPXQ9BHJJbC3aiWZeK4XX9jBgBOBoPHTH15YZ'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1373, 'candidates_token_count': 23, 'total_token_count': 2059, 'cached_content_token_count': 1701, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2827}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1701}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 663}, 'finish_reason': 'STOP', 'avg_logprobs': -3.559635659922724, 'model_name': 'gemini-2.5-pro'} id='run--b4288503-78bf-4fa3-bb08-e29d4be9c93d-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/forms_tests/tests/test_formset_add_fields.py'}, 'id': '2198766c-42fa-44be-b984-60963e5420db', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1373, 'output_tokens': 23, 'total_tokens': 2059, 'input_token_details': {'cache_read': 1701}, 'output_token_details': {'reasoning': 663}}
2025-10-05 12:28:35,648 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: pytest tests/forms_tests/tests/test_formset_add_fields.py
2025-10-05 12:28:35,749 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 127
2025-10-05 12:28:35,749 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
pytest tests/forms_tests/tests/t
test_formset_add_fields.py

bash: pytest: command not found

2025-10-05 12:28:40,800 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/forms_tests/tests/test_formset_add_fields.py 2>&1"}'}, '__gemini_function_call_thought_signatures__': {'1ecf1c99-dedd-4195-a19a-a5024f0b2a09': 'CpQNAR/MhbZRzxRU8EJPTFTmb5Nz/kSNQ5qXtnI3CcwhGZIT9CSl9RtR7u529Qh4J84XIiim/d9xKemIjo52S3UZGTCFc3QWuoBAs692zj6UJH83I1/Dq4mDCkGWBS87aYTDR31j7odNoeMhKcnwU+nIYMQCt9fHFJkSs/TxBRolqkDUR25vCc5JPRUMAlF8UGnJhV4BjFsPFen4ORlcmSd3Phn9Cz5glB87T1CmsPaqdcZFu7JMZyYVG9OY3neU32LNqBufW+R2V9nogOVxKb8ZxXQBdqI2Z4QQv2J33bjRWunWOObU6MY1ZtAY21oWildy/t3vwIXgiYTM7pf6Yno8tr4JRM8zjrMEPUqqbsEplSDmz9TzaEYM6QT4wKQfmmGd+aE4O+SDd+TfYpQ8JVeGfWDYsDAtA/RYjSx6RPM5gZhFrl6ADq2Rhlg8ve0Z0FKTH0gA/Iuo+jQZyZig2Sh+Da1lXzIzaooJomJoJsr+np5Zep/KsSm7RvSIquEYrfiOsZ5y5PvW4JYoI+kMEQ6JOubNaY/uUQ6DvMKYruKWe6pMZk+kDoUsjF8mTpj4n6/6NYzuxq17jaPUULPv+UsvKtUouzx84qzSW+ZNKG4GHtd8K5mz1bDbrD57bVsN9zQPKpJnOlhZ27BpiWSciIU+O5xDq1wYquIuhvRooBSexQSv7FF0kKvxFntQp3rj95bXgkHPIUIC8ME+NZCKAizY0EitDHbt6Dw2DHcNjr9RIBZeEiq4muoLO25XbNAW7ynqud92xzCiK7X+apM9x+8FbsVjp/2gHinwE30XfXCldUd9Kr7pzo8IP2SrwMzyptY7sVa/kI0DhLrFI46GsdrVm1xAdLAxF0fyH+9ARnRG6t/AyNJzcDfZDPRCbocEufiu+36JvPY/9Ckt4VjQZCRSTwzuYDF+LC7zsrCEfyQYSjYm1nSZPro85tVKqS/PdQrBxmZGP22v+EWQYyftbUNu6m21ckhmHD4PkZurSqC3Tm0jCJRTAB/1WcF2kigK2guR+t/EF4bohesq8ZaPfVlD+qcAM+sicB1QVfM56UY93Ot+9F/PvKoEHYAm1npeuDVv3RX55jacLfjDlZvbbmKkvFuVJck3q29BscTbsaXZl2h4ejIS1yFcCbFKlfKgUDHQD+dRH0Oz+kT0g8umkby0B2Cx8TOe0En30xPUbZYuvuFCIcKf1o3XtdV5SV9cU6zAWF3beh3zIP/OtPGbEkIfxWG8PUEOvfP5AfZnj4enpHmAHl/b/WfnYcHOO7XDLeai6kr+6nbur//c9HPXWt1k2gRUQD3NsUy4Lgsd5t0/T3DdBrIt+qjvIqStqiIAjZJ30ntVsuc1gWGhoS/qAY9srZ0hd5eZGeldph7jQbBJqaSpzOoLLbFtk/U3ENkjNfsqQxi1lZnM+aGRmDb6l5VttCS3LqqDVfnJy4R7GZQflJsZRnjfwGV6PjFXBRV1cv2BpS30RN+bigClP2WGOQVivlVMxqctgMz2ULOm1Npk+Pje+gVBQdb8H7GxKa5DFIikojk2qJSzxi/MbgoLqYtRecL8MM2G4GYFyj5cDC58cIKplGLOIY2ygL7rzrDiJ2Hb4p0EUg27h4EOVu46I+onUKhU1G7VXENk+g9lgk3EeCkU5koraNHas4EBkmnuqM/+f6+6cshCstuKqaOtgtGVCpt5Manbim3uzeEOHTYfobn0YK2Vy3lw2KBbZn3mLHhmKc0PheHLomiikJ05qUd/CChFhTGnrvB9ckoFRbyy8+/unHF6UgIsq8gI/Ib6du+tg4DlLmhhy6SiWR/jPTotL/m2W3tlSZ3Pwm0M6b3wxF3zJYxACPVxphNqZZanS5Dv0hgDyjlE73sCcpqzuva0uW6rVfpnPvWI/n7r2HcMO+yjWnEgN3/Ts1kWp/O6qgYCRgAsU5DY6TiEJo6kd2E3KFdMUibp2I73w4FaCkrFtHL0Cfnh/T0Xp2+R+wCV096Y02sbVx5cYQvd+YZZeBa+ZOWf9skDItLDVxu9cT6e+cHgBZT0LSAhdVFozKC8e+R8pMiA/qSFlI4JDjYRGh5Hx9EYaLlGlPUwXn3Zn31cNyw1QpEm2yNjPFHM1hEsdREZKW9p++0P1lvzSjl9G5Xpae/fnEamTQVJCbVmpEqzeoG+CIogsm/IJjUqWU1H0aFFYBibvB0DyMeNIZPBbL0AmrHEWEya8R0wvCmTzUFfQVq3+w65rIF4jEhgJMfj9/KrtHubvw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1430, 'candidates_token_count': 27, 'total_token_count': 1885, 'cached_content_token_count': 1744, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3545}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1744}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 27}], 'thoughts_token_count': 428}, 'finish_reason': 'STOP', 'avg_logprobs': -1.8490202162000868, 'model_name': 'gemini-2.5-pro'} id='run--43c28d86-99c7-420f-af65-6e8d7df3fc06-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/forms_tests/tests/test_formset_add_fields.py 2>&1'}, 'id': '1ecf1c99-dedd-4195-a19a-a5024f0b2a09', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1430, 'output_tokens': 27, 'total_tokens': 1885, 'input_token_details': {'cache_read': 1744}, 'output_token_details': {'reasoning': 428}}
2025-10-05 12:28:40,802 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/forms_tests/tests/test_formset_add_fields.py 2>&1
2025-10-05 12:28:41,008 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:41,008 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/forms_tests/tests/t
test_formset_add_fields.py 2>&1


2025-10-05 12:28:48,385 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F tests/"}'}, '__gemini_function_call_thought_signatures__': {'1832a6eb-30cc-4881-a5a6-61cc9c61e5f6': 'CtYTAR/MhbazEy4suLEoFb0BoJF/LHs+iNcnqpM35A3iccQX0zM+62kZSBIaWgyoEh9sM9EdiMaIIcrqQpMkjOncqLeepuutZ9F2VXIoDtqcGPx6ZgK9tpAhAg1B26RMZ7ettKEyUq2pGF72Eq/cuykxgL0E5ENL3xjJhG/GFouPca1i4QrTd6ExlZZ+YigEr1YNlpGpHKTsDTg+SgfnQuQAN1874S/kV0/mYw7y4g9q5k4isM90y3un5YxBM2IGWy6NWvUaxl730AyOUMV8P4BlvW9Hbc6+mibeBN1EWR6fb36LL4068aDXB20vD5leaZNHnJfsAz3P1mFEqQLNl0v9XM+YnC10Pj324TLfysLzFj7Ntrequ0AU/RD+/iz9GYtTOxnQD9qD5hHRdc3bEN980ykP/w+ve+MlBz0hEVexS6RsNXGSIJyzbYazxvPnb8I+ipCb5Z9BMbEvWN9SbmxvINAltmvbn/Pr3U7L0LJQ1uESOIDTgH1XjQNI9LHJSMiGL9GyQEH8kXRUXg+xesy87dCM3DmL0x23+qt5bSQXno7BcfkoyL0lFS/tYVEGoV9/GOPy62ENL8ImQ7tzpFbpyj5fJYociLuI+4KQuqWusQfYUcPSmS5cSXRqy3gSamSs/Q8F+Tejt5lxxadJ7Q261WYk8x9uxgHmL4wF/Pfx1AakgAlph8r7fvFH+2GGIQnav3kj/w4YMTRLdVw9OEUlSq8X53p/wT3DP2u+0n1aGA8MhRZnNK6I/IfFR65SUCl/ZXyFz0Oet2Vcx81xu/svGoZdU358rxMFq5GFsuDsrP57s/GfVEMT2Z3korDk0kJwgbOhP9WpcmCEwINnW8CpaChhqS/afrNOaQVJOmquutCIK/6KQ8AqPnQv18AMSpcadB58ba4o0IyGZASmvabjvLN5sLKr2ePnDN/RwWfVhEQM4KgENl3xDAYErFWR0FhHgqH0ZE+HloL3dnxT8QPXYoPrY1HeBtmP0SHOFA0BY19Zh6GIhyW8tnhJANmgajxVgxITUsu7IMw+Gc+sIrUCKwgFM1mXN0wM+mTFMkh52we6QmylskW+R9/6hCc50ZQgEkTboWHr7XMDi0IsyvXPxqf+YHdKufNBCL1wq30dZ2MAVd7QMNZKMcxj2UP+dIUHm8+09gXw0gLWQ5Owqwg2Rz4yo0CE2XV5CZfYrZIGn/lU7M2sALhm2XxPbptz76wdHk57BuYkFFa3Rl9hD3VO7PWZOMIP+7SKti9zBXBvBU9kBwH/7KpfrBLz6A/tavCmE7o2idnTHnzykQT9xLU7ArmnyOQPZjgP/WI2GznItgA7tK1FBrQLNolvXwxNvAWojst9RQ9dB1CtE7hXLj82aCyhqFi6S168NdQHQstj+P4UHteKbFb0wqq5/QTjRo6fkOs8GTEB5lSxAxbnCDVw9G/aviY9z6D0uiiKWlayu/dZ2DyGz/kM6612TzVQEQUesxuKtlQKd8M1vKY/+wkvPQYtAxR8Q1+pXy/zlviwfDNh4ccubwHXdeQULKOypStdItyWzFRieuDl2Hu8aLqln+YJLlBHuXC33h7GR7FrcoX92/q47BARAOna8q9mShfxtSGYYMnhQjfShVt8s/rjEE4gzPmFgwLPSagGvpiMQfGTGSmkXVFDg0dzzN8y4R5LUPHVBQUPl1ThyHw2UaOxxOI0K1dUEgcj8hrBvfPhav7oBljRC0KQMqKJcKvBQBkq176HvNVVI5DAC9slRrugTf2SCOnKOeUIfqzH+hHD4YlSMgKM9MdSVdAzDtlGZVF0iXtQKG80WBnYRYe6IVNbAdNHNljy4CAX+Pl/bav1gcE73SIl5mQhox2DN0gD6UOjMX4TOZcJmj0y8kOliA075ASohbZV0CWp5sFtKVJ92VviUdckD+AdknTLtAnJwblHwKZ9qQokYQVlZ4l43lq6N7TDrmvJOWON7Tsw0Gh9FSoKWOHwDZN8M+VEHLTxj4ceW+k/IWKsU9hGvGiqp6YGn/AJQ4QUy7ZdC9DDgs9gOPbC98uuDuVmkJQH3uvub6geh0+hkIuT+D50MPXNNOLLgfQayuACPHbqCXZ3natRgLVNq6ZfdXpQiR01DN4lG7LVoNGZ/qBPAT3h37q+3d1F3P5CkU9S6t+OsM0JubdwmMdYZ3JCRH1TnytVGWphntlsHUSfseWwuhZe5JdEbcnCxM4l0naY2iK0o+V+SDO1fd1x5yQMK/ssZEPWQ61wZKm51M/I/2edvC7PuR3Ou4hZyAQ9wyCgO71Edc7PV2qHLLW0jssZNsljcs1LhOziYol8llf1oN+/Y5NegT338oG0re3Zd3SFGik+EQ0fYLzoYDzK3TwEAOsy/Pt8eEnaY9gLTwTBae3ikhyC6UZLB3pEMfxBBbMTrVMuEv1XrYnDCy8KsTE+Bdt6hDPQkpuw1CTXTaR2VoK0/JzGoZI+cJk8f9lJMVGrh5J+INE1DHzudMq/U0eq+rTfgf8FzTg02gjRNJ5Ovw1sQT6fDK2hnnaMBbeWc2dqRThSh98Kjn2vSd/yomD/zyJbxU6rU6rvdgkRPC9nUCVBYEfkTwx22vxFtXd++GWAE3DZzklNxhjr4OIs3Lak+vcvcsseDT2TEvdF0tA62SsAFuu0H1eke7l3Kd3MztJXkAR7Ch2meP/f+wYc/st42wubEW8vE/Xlrtt6v5jZf9eCpMJlrakPq2JTFCPfR1YSsldPq4aWq7uxmTm/PrefZIdleaE1jPDwdAJuOlZWyDlrPZmUAVEEQyIkxQZgsMMMQ4VeAmIH4kO+EpXVip1OJGh4+uDQBHJYIN5vF3fKusKUtVLiWmc5U65dxNO0jIrFS6d/Vu4dQsY56XBLxkalVxmvA4pQwg88FG4BIdxl2suN7BD9JQOyVHo3AVtSAUbJB3W4HozFA641oMxxsGYX0I8WeRJvkzRQvkX9huV78gTSpPBa++DlBytufVu+27HCn95jScejHD7roeQMRY7mKI6juVsHoo4KENb3OKQLRxWD37gSDR2WCmWD/sxvSBiJyhIoeq6csKkWoG0xR60Gu1V0WTjeV+strueGf2qPQugakOTAXcaZ8e0TB8/xQ9zHH4XSpHrHiJYthvcT/5sj3aXofVVC3nwx11yytAUU8ZuDL35qDTvqGCpMDsDPQTUQQk0HmRXBag68SsAChXorflRaHYZJITNtnRCLO4HBuSOzVYWk2YM9pD81lPc34P6Ek+F7p60QCOcC77IYIlnmBUGmA0dij0Tt2YEeZ0oQmvi8Uzwm1kt3uHml9hQZPfmSb2vMvs63DaATaHu7HrkIfd8Zg2O32DRrsqtqi0psAmfASnAdf6/L9ghaUcsAyomOFA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1487, 'candidates_token_count': 9, 'total_token_count': 2171, 'cached_content_token_count': 3522, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4028}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3522}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 9}], 'thoughts_token_count': 675}, 'finish_reason': 'STOP', 'avg_logprobs': -13.282495286729601, 'model_name': 'gemini-2.5-pro'} id='run--8e09156a-fda4-47eb-bb50-bc9c498d489f-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F tests/'}, 'id': '1832a6eb-30cc-4881-a5a6-61cc9c61e5f6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1487, 'output_tokens': 9, 'total_tokens': 2171, 'input_token_details': {'cache_read': 3522}, 'output_token_details': {'reasoning': 675}}
2025-10-05 12:28:48,387 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls -F tests/
2025-10-05 12:28:48,488 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-05 12:28:48,488 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

README.rst		      m2o_recursive/
absolute_url_overrides/       mail/
admin_autodiscover/	      managers_regress/
admin_changelist/	      many_to_many/
admin_checks/		      many_to_one/
admin_custom_urls/	      many_to_one_null/
admin_default_site/	      max_lengths/
admin_docs/		      messages_tests/
admin_filters/		      middleware/
admin_inlines/		      middleware_exceptions/
admin_ordering/		      migrate_signals/
admin_registration/	      migration_test_data_persistence/
admin_scripts/		      migrations/
admin_utils/		      migrations2/
admin_views/		      model_enums/
admin_widgets/		      model_fields/
aggregation/		      model_forms/
aggregation_regress/	      model_formsets/
annotations/		      model_formsets_regress/
app_loading/		      model_indexes/
apps/			      model_inheritance/
asgi/			      model_inheritance_regress/
async/			      model_meta/
auth_tests/		      model_options/
backends/		      model_package/
base/			      model_regress/
bash_completion/	      model_utils/
basic/			      modeladmin/
builtin_server/		      multiple_database/
bulk_create/		      mutually_referential/
cache/			      nested_foreign_keys/
check_framework/	      no_models/
conditional_processing/       null_fk/
constraints/		      null_fk_ordering/
contenttypes_tests/	      null_queries/
context_processors/	      one_to_one/
csrf_tests/		      or_lookups/
custom_columns/		      order_with_respect_to/
custom_lookups/		      ordering/
custom_managers/	      pagination/
custom_methods/		      postgres_tests/
custom_migration_operations/  prefetch_related/
custom_pk/		      project_template/
datatypes/		      properties/
dates/			      proxy_model_inheritance/
datetimes/		      proxy_models/
db_functions/		      queries/
db_typecasts/		      queryset_pickle/
db_utils/		      raw_query/
dbshell/		      redirects_tests/
decorators/		      requests_tests/
defer/			      requirements/
defer_regress/		      reserved_names/
delete/			      resolve_url/
delete_regress/		      responses/
deprecation/		      reverse_lookup/
dispatch/		      runtests.py*
distinct_on_fields/	      save_delete_hooks/
empty/			      schema/
empty_models/		      select_for_update/
expressions/		      select_related/
expressions_case/	      select_related_onetoone/
expressions_window/	      select_related_regress/
extra_regress/		      serializers/
field_deconstruction/	      servers/
field_defaults/		      sessions_tests/
field_subclassing/	      settings_tests/
file_storage/		      shell/
file_uploads/		      shortcuts/
files/			      signals/
filtered_relation/	      signed_cookies_tests/
fixtures/		      signing/
fixtures_model_package/       sitemaps_tests/
fixtures_regress/	      sites_framework/
flatpages_tests/	      sites_tests/
force_insert_update/	      staticfiles_tests/
foreign_object/		      str/
forms_tests/		      string_lookup/
from_db_value/		      swappable_models/
generic_inline_admin/	      syndication_tests/
generic_relations/	      template_backends/
generic_relations_regress/    template_loader/
generic_views/		      template_tests/
get_earliest_or_latest/       templates/
get_object_or_404/	      test_client/
get_or_create/		      test_client_regress/
gis_tests/		      test_exceptions/
handlers/		      test_runner/
httpwrappers/		      test_runner_apps/
humanize_tests/		      test_sqlite.py
i18n/			      test_utils/
import_error_package/	      timezones/
indexes/		      transaction_hooks/
inline_formsets/	      transactions/
inspectdb/		      unmanaged_models/
introspection/		      update/
invalid_models_tests/	      update_only_fields/
known_related_objects/	      urlpatterns/
logging_tests/		      urlpatterns_reverse/
lookup/			      urls.py
m2m_and_m2o/		      user_commands/
m2m_intermediary/	      utils_tests/
m2m_multiple/		      validation/
m2m_recursive/		      validators/
m2m_regress/		      version/
m2m_signals/		      view_tests/
m2m_through/		      wsgi/
m2m_through_regress/	      xor_lookups/

2025-10-05 12:28:52,560 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py forms_tests.tests.test_formset_add_fields"}'}, '__gemini_function_call_thought_signatures__': {'36a77370-ea75-42ad-a45c-ac13c5b86218': 'CqEJAR/MhbZswtgv1nNanAcXe4y64m3+rmx2UzHj7fdTJ/j//KkMZ+y43jUJHjrO7fZYqogJex1r1XFS1l3p08+XmHqrKNmEDnWxombNT3erv27vy32Nbd+FLnyinfUmXoiiJ5f9zT1uVy2gSrTEgjUKUuigW271gBOpBtx74ddF6D2y5Za4yCV2AuwBaq0iBRS1b8aiadabCOF/I534pLWtL028Z2k2Mv1wx4X1JW9Dgw+nV6/GbCUNPNVL4P6tdaRQ4hObF0KQp1ZDN8xyc6UZthpyw9O1HWgqD2i5V5HWxleLP1xuW9BP2Qg06hbBt+fgbp4knX0b5E4+/QWz5Cf9XDlQvC7n9MvNIPmeojScnlaJ22SJCk+16K6STUkECyRzl7WrbJGueBwHhJjiinjGX+951rOjSxnXmuMiMFaH4EbhUwdrlBRVhZiuKDY0VIYIaT9/0DIs2Qj1PAcLQVmEPhALRKb9ER7RuSJjwDYde/38rQHON44SDey1dZXUKAbmDTM4tomYh54ljdV+F2aFQkmMxO+81Nl9IjTXAabH+mPwSQh1OFgr76crjrbTp7iuyPCMsTCemDT8WXzYaY4dLdXHnYNNRUhE+/2b/D4+EL6x1vmEtHlkzyXhmYWyPOfOzOVP1k9A3eqwbrEsFe52fdM9jDsipSt8ugGLpbT3dEwFd3YBrWZ1n5kNpvkzy7XmkmTyXWtu3NJ+fkI1Q1Qby+77Z2jB4MCGTMDJov2LT1CWTSnpetRmZIErRFGXQsYOqR8xeYoXVimvo+p7nlB2FuNwP7xCxxbb870YpUVNPoKILmnkCGpssX6lxe2J4WtI4EjrsojtV60Qy65yPBvFVZRlYMnT23wnb5CZX4ltvGDuvC/RaM+Qt44f/F0OqrtVwh4LEH5GPVyhRmPKXIoPCgCwaxPRc5Nu9t/50WJ2pSiTbOzUtlCZM463yRrLnHNR1TTDasbq1lj6H5/k1vIaGFP74UlpF+2sG1t8CT0rk0nqLp8D72Mp5DoU5HhW9ap7xvyQWuV2FnSxYwyzV0NkvVq6YaG+soqrYizSLxepWQ+2W5qW7lYH3Im0V0sJEjXQ/sj+iHMn5vqwKVQB6pKy8I2GlXatxjZkW8JHvP7tLe/D1RF55lq2p1o9rQhGikyy0wAwyqwUYHMwx4T1WJYvMY34VwyML29wE3U38ITd1F0vcHyayPcFrzz1kJZRkDs9jyVJQb4/bfA25am3cxvHGw2/5e/Az8jA5thUOeVPDLVP1VzuO8dM7w0dNh+D2MiTCL4BdT93xqndfEAsHv3C5N8iAL+anmroUCvyVmTa/Z2nIitRzc1QDzV/QV0xGkoHdcwK8fq7NTiFyBgVWoyYu+l9OVSR6x5ffu+PXnq+Zd4cmlxJ/1chUXISN+ZqbVsCm7hVhDN0WvHw+ijxOVeRNcChM/lgBIKFUWigy0BGCuBswZS0o57Bf6D63BRxckDMk8K7rC7/Sfd3ym3yNbtj4mqxCttn8n7HxqBjHbPgFYXCJyK48IrND4OmRMH/t/jbsuiX0fO+ZFtpkoletxyjD6W/QgGdzOESIoPo3BxA3GhI'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2727, 'candidates_token_count': 25, 'total_token_count': 3096, 'cached_content_token_count': 3571, 'prompt_tokens_details': [{'modality': 1, 'token_count': 5940}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3571}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 25}], 'thoughts_token_count': 344}, 'finish_reason': 'STOP', 'avg_logprobs': -1.371121826171875, 'model_name': 'gemini-2.5-pro'} id='run--54a68852-6175-480e-a8ec-1020d39dbf9c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py forms_tests.tests.test_formset_add_fields'}, 'id': '36a77370-ea75-42ad-a45c-ac13c5b86218', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2727, 'output_tokens': 25, 'total_tokens': 3096, 'input_token_details': {'cache_read': 3571}, 'output_token_details': {'reasoning': 344}}
2025-10-05 12:28:52,561 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py forms_tests.tests.test_formset_add_fields
2025-10-05 12:28:52,933 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-05 12:28:52,933 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/runtests.py forms_t
tests.tests.test_formset_add_fields

Testing against Django installed in '/testbed/django' with up to 8 processes
Found 1 test(s).
System check identified no issues (0 silenced).
E
======================================================================
ERROR: test_add_fields_index_none (forms_tests.tests.test_formset_add_fields.FormsFormsetTestCase.test_add_fields_index_none)
add_fields() shouldn't fail when index is None, can_delete=True, and
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/forms_tests/tests/test_formset_add_fields.py", line 22, in test_add_fields_index_none
    empty_form = my_formset.empty_form
                 ^^^^^^^^^^^^^^^^^^^^^
  File "/testbed/django/forms/formsets.py", line 267, in empty_form
    self.add_fields(form, None)
  File "/testbed/django/forms/formsets.py", line 493, in add_fields
    if self.can_delete and (self.can_delete_extra or index < initial_form_count):
                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'int'

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)

2025-10-05 12:28:57,212 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='python tests/runtests.py forms_tests.tests.test_formset_add_fields\n\nTesting against Django installed in \'/testbed/django\' with up to 8 processes\nFound 1 test(s).\nSystem check identified no issues (0 silenced).\nE\n======================================================================\nERROR: test_add_fields_index_none (forms_tests.tests.test_formset_add_fields.FormsFormsetTestCase.test_add_fields_index_none)\nadd_fields() shouldn\'t fail when index is None, can_delete=True, and\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/tests/forms_tests/tests/test_formset_add_fields.py", line 22, in test_add_fields_index_none\n    empty_form = my_formset.empty_form\n                 ^^^^^^^^^^^^^^^^^^^^^\n  File "/testbed/django/forms/formsets.py", line 267, in empty_form\n    self.add_fields(form, None)\n  File "/testbed/django/forms/formsets.py", line 493, in add_fields\n    if self.can_delete and (self.can_delete_extra or index < initial_form_count):\n                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'int\'\n\n----------------------------------------------------------------------\nRan 1 test in 0.001s\n\nFAILED (errors=1)' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3104, 'candidates_token_count': 345, 'total_token_count': 3530, 'cached_content_token_count': 5383, 'prompt_tokens_details': [{'modality': 1, 'token_count': 6659}], 'cache_tokens_details': [{'modality': 1, 'token_count': 5383}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 345}], 'thoughts_token_count': 81}, 'finish_reason': 'STOP', 'avg_logprobs': -0.03928433017454286, 'model_name': 'gemini-2.5-pro'} id='run--25566b3c-5493-4b9d-ac1f-3e77417a8552-0' usage_metadata={'input_tokens': 3104, 'output_tokens': 345, 'total_tokens': 3530, 'input_token_details': {'cache_read': 5383}, 'output_token_details': {'reasoning': 81}}
2025-10-05 12:29:07,489 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='FAILED (errors=1)\n\n======================================================================\nERROR: test_add_fields_index_none (forms_tests.tests.test_formset_add_fields.FormsFormsetTestCase.test_add_fields_index_none)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/tests/forms_tests/tests/test_formset_add_fields.py", line 22, in test_add_fields_index_none\n    empty_form = my_formset.empty_form\n                 ^^^^^^^^^^^^^^^^^^^^^\n  File "/testbed/django/forms/formsets.py", line 267, in empty_form\n    self.add_fields(form, None)\n  File "/testbed/django/forms/formsets.py", line 493, in add_fields\n    if self.can_delete and (self.can_delete_extra or index < initial_form_count):\n                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'int\'' reproduced_bug_commands=['python tests/runtests.py forms_tests.tests.test_formset_add_fields']
2025-10-05 12:29:07,490 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-05 12:29:07,490 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-05 12:29:07,590 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
