2025-10-04 12:31:09,237 - thread-139911184823872.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpfq08sfri/sphinx
2025-10-04 12:31:09,238 - thread-139911184823872.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-04 12:31:09,238 - thread-139911184823872.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.sphinx-doc_1776_sphinx-10435:v1
2025-10-04 12:31:23,598 - thread-139911184823872.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_04fa881663
2025-10-04 12:31:23,602 - thread-139911184823872.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_04fa881663
2025-10-04 12:31:24,759 - thread-139911184823872.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-04 12:31:24,895 - thread-139911184823872.app.docker.base_container - INFO - Persistent shell is ready
2025-10-04 12:31:24,895 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-04 12:31:25,018 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:31:25,018 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:


2025-10-04 12:31:25,018 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-04 12:31:25,140 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:31:25,140 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:


2025-10-04 12:31:25,140 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .[test]
2025-10-04 12:31:26,113 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:31:26,113 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
]

Obtaining file:///testbed
  Preparing metadata (setup.py) ... [?25l- done
[?25hRequirement already satisfied: sphinxcontrib-applehelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-devhelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-jsmath in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.0.1)
Requirement already satisfied: sphinxcontrib-htmlhelp>=2.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.1.0)
Requirement already satisfied: sphinxcontrib-serializinghtml>=1.1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-qthelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: Jinja2>=2.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (3.1.4)
Requirement already satisfied: Pygments>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.18.0)
Requirement already satisfied: docutils<0.19,>=0.14 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (0.18.1)
Requirement already satisfied: snowballstemmer>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.2.0)
Requirement already satisfied: babel>=1.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.16.0)
Requirement already satisfied: alabaster<0.8,>=0.7 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (0.7.16)
Requirement already satisfied: imagesize in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.4.1)
Requirement already satisfied: requests>=2.5.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.32.3)
Requirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (24.1)
Requirement already satisfied: importlib-metadata>=4.4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (8.5.0)
Requirement already satisfied: pytest>=4.6 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (8.3.3)
Requirement already satisfied: html5lib in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.1)
Requirement already satisfied: cython in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (3.0.11)
Requirement already satisfied: zipp>=3.20 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from importlib-metadata>=4.4->Sphinx==5.0.0.dev20251004) (3.20.2)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Jinja2>=2.3->Sphinx==5.0.0.dev20251004) (3.0.2)
Requirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: pluggy<2,>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (1.5.0)
Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (1.2.2)
Requirement already satisfied: tomli>=1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (2.0.2)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (3.4.0)
Requirement already satisfied: idna<4,>=2.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (2.2.3)
Requirement already satisfied: certifi>=2017.4.17 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (2024.8.30)
Requirement already satisfied: six>=1.9 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.0.0.dev20251004) (1.16.0)
Requirement already satisfied: webencodings in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.0.0.dev20251004) (0.5.1)
Installing collected packages: Sphinx
  Attempting uninstall: Sphinx
    Found existing installation: Sphinx 5.0.0.dev20241024
    Uninstalling Sphinx-5.0.0.dev20241024:
      Successfully uninstalled Sphinx-5.0.0.dev20241024
[33m  DEPRECATION: Legacy editable install of Sphinx[test]==5.0.0.dev20251004 from file:///testbed (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457[0m[33m
[0m  Running setup.py develop for Sphinx
Successfully installed Sphinx
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-04 12:31:26,151 - thread-139911184823872.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
LaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output

Issue description: 
### Describe the bug

The #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.

Example
```
Inline \sphinxcode{\sphinxupquote{ <--- this produces a space in output
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass} <-- here also
}} code block

```

a priori, mark-up should be:
```
Inline \sphinxcode{\sphinxupquote{%
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass}%
}} code block
```

But I have no no strong opinion if good or bad. See screenshots.

### How to Reproduce

```
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block

.. code-block:: python

   def foo(1 + 2 + None + "abc"): pass
```

in `index.rst` and `make latexpdf`.

### Expected behavior

_No response_

### Your project

extracted from test_build_latex.py

### Screenshots

with current:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)

if space characters removed from `.tex` file produced by LaTeX writer:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)

For comparison prior to #10251 merge:
![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)

### OS

Mac

### Python version

3.9

### Sphinx version

5.x

### Sphinx extensions

_No response_

### Extra tools

_No response_

### Additional context

Relates #10251

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-04 12:31:26,152 - thread-139911184823872.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-04 12:31:26,152 - thread-139911184823872.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nLaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output\n\nIssue description: \n### Describe the bug\n\nThe #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.\n\nExample\n```\nInline \\sphinxcode{\\sphinxupquote{ <--- this produces a space in output\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass} <-- here also\n}} code block\n\n```\n\na priori, mark-up should be:\n```\nInline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n}} code block\n```\n\nBut I have no no strong opinion if good or bad. See screenshots.\n\n### How to Reproduce\n\n```\n.. role:: python(code)\n   :language: python\n   :class: highlight\n\nInline :python:`def foo(1 + 2 + None + "abc"): pass` code block\n\n.. code-block:: python\n\n   def foo(1 + 2 + None + "abc"): pass\n```\n\nin `index.rst` and `make latexpdf`.\n\n### Expected behavior\n\n_No response_\n\n### Your project\n\nextracted from test_build_latex.py\n\n### Screenshots\n\nwith current:\n\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)\n\nif space characters removed from `.tex` file produced by LaTeX writer:\n\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)\n\nFor comparison prior to #10251 merge:\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)\n\n### OS\n\nMac\n\n### Python version\n\n3.9\n\n### Sphinx version\n\n5.x\n\n### Sphinx extensions\n\n_No response_\n\n### Extra tools\n\n_No response_\n\n### Additional context\n\nRelates #10251\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-04 12:31:30,419 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19937, 'total_token_count': 20265, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19937}], 'thoughts_token_count': 328, 'candidates_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': [], 'candidates_tokens_details': []}, 'finish_reason': 'STOP', 'model_name': 'gemini-2.5-pro'} id='run--37ad422f-9c83-4adf-854b-ea63b9f2d5ed-0' usage_metadata={'input_tokens': 19937, 'output_tokens': 0, 'total_tokens': 20265, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 328}}
2025-10-04 12:31:30,420 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-04 12:31:30,420 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - DEBUG - No context available from tool messages, returning existing context
2025-10-04 12:31:30,420 - thread-139911184823872.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-04 12:31:30,421 - thread-139911184823872.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
â”œâ”€â”€ .circleci
|   â””â”€â”€ config.yml
â”œâ”€â”€ .codecov.yml
â”œâ”€â”€ .github
|   â”œâ”€â”€ ISSUE_TEMPLATE
|   |   â”œâ”€â”€ bug-report.yml
|   |   â”œâ”€â”€ config.yml
|   |   â””â”€â”€ feature_request.md
|   â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
|   â””â”€â”€ workflows
|       â”œâ”€â”€ builddoc.yml
|       â”œâ”€â”€ create-release.yml
|       â”œâ”€â”€ docutils-latest.yml
|       â”œâ”€â”€ lint.yml
|       â”œâ”€â”€ lock.yml
|       â”œâ”€â”€ main.yml
|       â”œâ”€â”€ nodejs.yml
|       â””â”€â”€ transifex.yml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ CONTRIBUTING.rst
â”œâ”€â”€ README.rst
â”œâ”€â”€ bindep.txt
â”œâ”€â”€ doc
|   â”œâ”€â”€ _static
|   |   â”œâ”€â”€ conf.py.txt
|   |   â”œâ”€â”€ themes
|   |   |   â””â”€â”€ fullsize
|   |   â””â”€â”€ tutorial
|   â”œâ”€â”€ _templates
|   â”œâ”€â”€ _themes
|   |   â””â”€â”€ sphinx13
|   |       â””â”€â”€ static
|   â”œâ”€â”€ changes.rst
|   â”œâ”€â”€ conf.py
|   â”œâ”€â”€ contents.rst
|   â”œâ”€â”€ development
|   |   â”œâ”€â”€ builders.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ overview.rst
|   |   â”œâ”€â”€ theming.rst
|   |   â””â”€â”€ tutorials
|   |       â”œâ”€â”€ autodoc_ext.rst
|   |       â”œâ”€â”€ examples
|   |       |   â”œâ”€â”€ README.rst
|   |       |   â”œâ”€â”€ autodoc_intenum.py
|   |       |   â”œâ”€â”€ helloworld.py
|   |       |   â”œâ”€â”€ recipe.py
|   |       |   â””â”€â”€ todo.py
|   |       â”œâ”€â”€ helloworld.rst
|   |       â”œâ”€â”€ index.rst
|   |       â”œâ”€â”€ recipe.rst
|   |       â””â”€â”€ todo.rst
|   â”œâ”€â”€ examples.rst
|   â”œâ”€â”€ extdev
|   |   â”œâ”€â”€ appapi.rst
|   |   â”œâ”€â”€ builderapi.rst
|   |   â”œâ”€â”€ collectorapi.rst
|   |   â”œâ”€â”€ deprecated.rst
|   |   â”œâ”€â”€ domainapi.rst
|   |   â”œâ”€â”€ envapi.rst
|   |   â”œâ”€â”€ i18n.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ logging.rst
|   |   â”œâ”€â”€ markupapi.rst
|   |   â”œâ”€â”€ nodes.rst
|   |   â”œâ”€â”€ parserapi.rst
|   |   â”œâ”€â”€ projectapi.rst
|   |   â””â”€â”€ utils.rst
|   â”œâ”€â”€ faq.rst
|   â”œâ”€â”€ glossary.rst
|   â”œâ”€â”€ internals
|   |   â”œâ”€â”€ authors.rst
|   |   â”œâ”€â”€ code-of-conduct.rst
|   |   â”œâ”€â”€ contributing.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ organization.rst
|   |   â””â”€â”€ release-process.rst
|   â”œâ”€â”€ latex.rst
|   â”œâ”€â”€ man
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ sphinx-apidoc.rst
|   |   â”œâ”€â”€ sphinx-autogen.rst
|   |   â”œâ”€â”€ sphinx-build.rst
|   |   â””â”€â”€ sphinx-quickstart.rst
|   â”œâ”€â”€ templating.rst
|   â”œâ”€â”€ tutorial
|   |   â”œâ”€â”€ automatic-doc-generation.rst
|   |   â”œâ”€â”€ deploying.rst
|   |   â”œâ”€â”€ describing-code.rst
|   |   â”œâ”€â”€ end.rst
|   |   â”œâ”€â”€ first-steps.rst
|   |   â”œâ”€â”€ getting-started.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ more-sphinx-customization.rst
|   |   â””â”€â”€ narrative-documentation.rst
|   â””â”€â”€ usage
|       â”œâ”€â”€ advanced
|       |   â”œâ”€â”€ intl.rst
|       |   â”œâ”€â”€ setuptools.rst
|       |   â””â”€â”€ websupport
|       |       â”œâ”€â”€ api.rst
|       |       â”œâ”€â”€ index.rst
|       |       â”œâ”€â”€ quickstart.rst
|       |       â”œâ”€â”€ searchadapters.rst
|       |       â””â”€â”€ storagebackends.rst
|       â”œâ”€â”€ builders
|       |   â””â”€â”€ index.rst
|       â”œâ”€â”€ configuration.rst
|       â”œâ”€â”€ extensions
|       |   â”œâ”€â”€ autodoc.rst
|       |   â”œâ”€â”€ autosectionlabel.rst
|       |   â”œâ”€â”€ autosummary.rst
|       |   â”œâ”€â”€ coverage.rst
|       |   â”œâ”€â”€ doctest.rst
|       |   â”œâ”€â”€ duration.rst
|       |   â”œâ”€â”€ example_google.py
|       |   â”œâ”€â”€ example_google.rst
|       |   â”œâ”€â”€ example_numpy.py
|       |   â”œâ”€â”€ example_numpy.rst
|       |   â”œâ”€â”€ extlinks.rst
|       |   â”œâ”€â”€ githubpages.rst
|       |   â”œâ”€â”€ graphviz.rst
|       |   â”œâ”€â”€ ifconfig.rst
|       |   â”œâ”€â”€ imgconverter.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ inheritance.rst
|       |   â”œâ”€â”€ intersphinx.rst
|       |   â”œâ”€â”€ linkcode.rst
|       |   â”œâ”€â”€ math.rst
|       |   â”œâ”€â”€ napoleon.rst
|       |   â”œâ”€â”€ todo.rst
|       |   â””â”€â”€ viewcode.rst
|       â”œâ”€â”€ index.rst
|       â”œâ”€â”€ installation.rst
|       â”œâ”€â”€ markdown.rst
|       â”œâ”€â”€ quickstart.rst
|       â”œâ”€â”€ restructuredtext
|       |   â”œâ”€â”€ basics.rst
|       |   â”œâ”€â”€ directives.rst
|       |   â”œâ”€â”€ domains.rst
|       |   â”œâ”€â”€ field-lists.rst
|       |   â”œâ”€â”€ index.rst
|       |   â””â”€â”€ roles.rst
|       â””â”€â”€ theming.rst
â”œâ”€â”€ karma.conf.js
â”œâ”€â”€ setup.py
â”œâ”€â”€ sphinx
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ __main__.py
|   â”œâ”€â”€ addnodes.py
|   â”œâ”€â”€ application.py
|   â”œâ”€â”€ builders
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ _epub_base.py
|   |   â”œâ”€â”€ changes.py
|   |   â”œâ”€â”€ dirhtml.py
|   |   â”œâ”€â”€ dummy.py
|   |   â”œâ”€â”€ epub3.py
|   |   â”œâ”€â”€ gettext.py
|   |   â”œâ”€â”€ html
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ transforms.py
|   |   â”œâ”€â”€ latex
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ nodes.py
|   |   |   â”œâ”€â”€ theming.py
|   |   |   â”œâ”€â”€ transforms.py
|   |   |   â””â”€â”€ util.py
|   |   â”œâ”€â”€ linkcheck.py
|   |   â”œâ”€â”€ manpage.py
|   |   â”œâ”€â”€ singlehtml.py
|   |   â”œâ”€â”€ texinfo.py
|   |   â”œâ”€â”€ text.py
|   |   â””â”€â”€ xml.py
|   â”œâ”€â”€ cmd
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ build.py
|   |   â”œâ”€â”€ make_mode.py
|   |   â””â”€â”€ quickstart.py
|   â”œâ”€â”€ config.py
|   â”œâ”€â”€ deprecation.py
|   â”œâ”€â”€ directives
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ code.py
|   |   â”œâ”€â”€ other.py
|   |   â””â”€â”€ patches.py
|   â”œâ”€â”€ domains
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ c.py
|   |   â”œâ”€â”€ changeset.py
|   |   â”œâ”€â”€ citation.py
|   |   â”œâ”€â”€ cpp.py
|   |   â”œâ”€â”€ index.py
|   |   â”œâ”€â”€ javascript.py
|   |   â”œâ”€â”€ math.py
|   |   â”œâ”€â”€ python.py
|   |   â”œâ”€â”€ rst.py
|   |   â””â”€â”€ std.py
|   â”œâ”€â”€ environment
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ adapters
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ asset.py
|   |   |   â”œâ”€â”€ indexentries.py
|   |   |   â””â”€â”€ toctree.py
|   |   â””â”€â”€ collectors
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ asset.py
|   |       â”œâ”€â”€ dependencies.py
|   |       â”œâ”€â”€ metadata.py
|   |       â”œâ”€â”€ title.py
|   |       â””â”€â”€ toctree.py
|   â”œâ”€â”€ errors.py
|   â”œâ”€â”€ events.py
|   â”œâ”€â”€ ext
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ apidoc.py
|   |   â”œâ”€â”€ autodoc
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ directive.py
|   |   |   â”œâ”€â”€ importer.py
|   |   |   â”œâ”€â”€ mock.py
|   |   |   â”œâ”€â”€ preserve_defaults.py
|   |   |   â”œâ”€â”€ type_comment.py
|   |   |   â””â”€â”€ typehints.py
|   |   â”œâ”€â”€ autosectionlabel.py
|   |   â”œâ”€â”€ autosummary
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ generate.py
|   |   |   â””â”€â”€ templates
|   |   |       â””â”€â”€ autosummary
|   |   â”œâ”€â”€ coverage.py
|   |   â”œâ”€â”€ doctest.py
|   |   â”œâ”€â”€ duration.py
|   |   â”œâ”€â”€ extlinks.py
|   |   â”œâ”€â”€ githubpages.py
|   |   â”œâ”€â”€ graphviz.py
|   |   â”œâ”€â”€ ifconfig.py
|   |   â”œâ”€â”€ imgconverter.py
|   |   â”œâ”€â”€ imgmath.py
|   |   â”œâ”€â”€ inheritance_diagram.py
|   |   â”œâ”€â”€ intersphinx.py
|   |   â”œâ”€â”€ linkcode.py
|   |   â”œâ”€â”€ mathjax.py
|   |   â”œâ”€â”€ napoleon
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ docstring.py
|   |   |   â””â”€â”€ iterators.py
|   |   â”œâ”€â”€ todo.py
|   |   â””â”€â”€ viewcode.py
|   â”œâ”€â”€ extension.py
|   â”œâ”€â”€ highlighting.py
|   â”œâ”€â”€ io.py
|   â”œâ”€â”€ jinja2glue.py
|   â”œâ”€â”€ locale
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ ar
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ bg
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ bn
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ca
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cak
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cs
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cy
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ da
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ de
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ el
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_FR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_GB
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_HK
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ eo
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ es
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ et
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ eu
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fa
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fr_FR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ he
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hi_IN
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hu
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ id
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ is
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ it
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ja
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ko
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ lt
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ lv
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ mk
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ nb_NO
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ne
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ nl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt_BR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt_PT
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ro
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ru
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ si
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sk
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sq
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr@latin
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr_RS
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sv
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ta
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ te
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ tr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ uk_UA
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ur
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ vi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ yue
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_CN
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_HK
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_TW
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â””â”€â”€ zh_TW.Big5
|   |       â””â”€â”€ LC_MESSAGES
|   |           â””â”€â”€ sphinx.js
|   â”œâ”€â”€ parsers.py
|   â”œâ”€â”€ project.py
|   â”œâ”€â”€ pycode
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ ast.py
|   |   â””â”€â”€ parser.py
|   â”œâ”€â”€ pygments_styles.py
|   â”œâ”€â”€ registry.py
|   â”œâ”€â”€ roles.py
|   â”œâ”€â”€ search
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ da.py
|   |   â”œâ”€â”€ de.py
|   |   â”œâ”€â”€ en.py
|   |   â”œâ”€â”€ es.py
|   |   â”œâ”€â”€ fi.py
|   |   â”œâ”€â”€ fr.py
|   |   â”œâ”€â”€ hu.py
|   |   â”œâ”€â”€ it.py
|   |   â”œâ”€â”€ ja.py
|   |   â”œâ”€â”€ minified-js
|   |   |   â”œâ”€â”€ base-stemmer.js
|   |   |   â”œâ”€â”€ danish-stemmer.js
|   |   |   â”œâ”€â”€ dutch-stemmer.js
|   |   |   â”œâ”€â”€ finnish-stemmer.js
|   |   |   â”œâ”€â”€ french-stemmer.js
|   |   |   â”œâ”€â”€ german-stemmer.js
|   |   |   â”œâ”€â”€ hungarian-stemmer.js
|   |   |   â”œâ”€â”€ italian-stemmer.js
|   |   |   â”œâ”€â”€ norwegian-stemmer.js
|   |   |   â”œâ”€â”€ porter-stemmer.js
|   |   |   â”œâ”€â”€ portuguese-stemmer.js
|   |   |   â”œâ”€â”€ romanian-stemmer.js
|   |   |   â”œâ”€â”€ russian-stemmer.js
|   |   |   â”œâ”€â”€ spanish-stemmer.js
|   |   |   â”œâ”€â”€ swedish-stemmer.js
|   |   |   â””â”€â”€ turkish-stemmer.js
|   |   â”œâ”€â”€ nl.py
|   |   â”œâ”€â”€ no.py
|   |   â”œâ”€â”€ non-minified-js
|   |   |   â”œâ”€â”€ base-stemmer.js
|   |   |   â”œâ”€â”€ danish-stemmer.js
|   |   |   â”œâ”€â”€ dutch-stemmer.js
|   |   |   â”œâ”€â”€ finnish-stemmer.js
|   |   |   â”œâ”€â”€ french-stemmer.js
|   |   |   â”œâ”€â”€ german-stemmer.js
|   |   |   â”œâ”€â”€ hungarian-stemmer.js
|   |   |   â”œâ”€â”€ italian-stemmer.js
|   |   |   â”œâ”€â”€ norwegian-stemmer.js
|   |   |   â”œâ”€â”€ porter-stemmer.js
|   |   |   â”œâ”€â”€ portuguese-stemmer.js
|   |   |   â”œâ”€â”€ romanian-stemmer.js
|   |   |   â”œâ”€â”€ russian-stemmer.js
|   |   |   â”œâ”€â”€ spanish-stemmer.js
|   |   |   â”œâ”€â”€ swedish-stemmer.js
|   |   |   â””â”€â”€ turkish-stemmer.js
|   |   â”œâ”€â”€ pt.py
|   |   â”œâ”€â”€ ro.py
|   |   â”œâ”€â”€ ru.py
|   |   â”œâ”€â”€ sv.py
|   |   â”œâ”€â”€ tr.py
|   |   â””â”€â”€ zh.py
|   â”œâ”€â”€ setup_command.py
|   â”œâ”€â”€ templates
|   |   â”œâ”€â”€ apidoc
|   |   â”œâ”€â”€ epub3
|   |   â”œâ”€â”€ gettext
|   |   â”œâ”€â”€ graphviz
|   |   â”œâ”€â”€ htmlhelp
|   |   â”œâ”€â”€ imgmath
|   |   â”œâ”€â”€ latex
|   |   â”œâ”€â”€ quickstart
|   |   â””â”€â”€ texinfo
|   â”œâ”€â”€ testing
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ comparer.py
|   |   â”œâ”€â”€ fixtures.py
|   |   â”œâ”€â”€ path.py
|   |   â”œâ”€â”€ restructuredtext.py
|   |   â””â”€â”€ util.py
|   â”œâ”€â”€ texinputs
|   â”œâ”€â”€ texinputs_win
|   â”œâ”€â”€ themes
|   |   â”œâ”€â”€ agogo
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ basic
|   |   |   â”œâ”€â”€ changes
|   |   |   â””â”€â”€ static
|   |   |       â”œâ”€â”€ _sphinx_javascript_frameworks_compat.js
|   |   |       â”œâ”€â”€ doctools.js
|   |   |       â”œâ”€â”€ jquery-3.5.1.js
|   |   |       â”œâ”€â”€ jquery.js
|   |   |       â”œâ”€â”€ searchtools.js
|   |   |       â”œâ”€â”€ underscore-1.13.1.js
|   |   |       â””â”€â”€ underscore.js
|   |   â”œâ”€â”€ bizstyle
|   |   |   â””â”€â”€ static
|   |   |       â”œâ”€â”€ css3-mediaqueries.js
|   |   |       â””â”€â”€ css3-mediaqueries_src.js
|   |   â”œâ”€â”€ classic
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ default
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ epub
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ haiku
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ nature
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ nonav
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ pyramid
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ scrolls
|   |   |   â”œâ”€â”€ artwork
|   |   |   â””â”€â”€ static
|   |   |       â””â”€â”€ theme_extras.js
|   |   â”œâ”€â”€ sphinxdoc
|   |   |   â””â”€â”€ static
|   |   â””â”€â”€ traditional
|   |       â””â”€â”€ static
|   â”œâ”€â”€ theming.py
|   â”œâ”€â”€ transforms
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ compact_bullet_list.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ post_transforms
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ code.py
|   |   |   â””â”€â”€ images.py
|   |   â””â”€â”€ references.py
|   â”œâ”€â”€ util
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ build_phase.py
|   |   â”œâ”€â”€ cfamily.py
|   |   â”œâ”€â”€ compat.py
|   |   â”œâ”€â”€ console.py
|   |   â”œâ”€â”€ docfields.py
|   |   â”œâ”€â”€ docstrings.py
|   |   â”œâ”€â”€ docutils.py
|   |   â”œâ”€â”€ fileutil.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ images.py
|   |   â”œâ”€â”€ inspect.py
|   |   â”œâ”€â”€ inventory.py
|   |   â”œâ”€â”€ jsdump.py
|   |   â”œâ”€â”€ logging.py
|   |   â”œâ”€â”€ matching.py
|   |   â”œâ”€â”€ math.py
|   |   â”œâ”€â”€ nodes.py
|   |   â”œâ”€â”€ osutil.py
|   |   â”œâ”€â”€ parallel.py
|   |   â”œâ”€â”€ png.py
|   |   â”œâ”€â”€ pycompat.py
|   |   â”œâ”€â”€ requests.py
|   |   â”œâ”€â”€ rst.py
|   |   â”œâ”€â”€ smartypants.py
|   |   â”œâ”€â”€ stemmer
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ porter.py
|   |   â”œâ”€â”€ tags.py
|   |   â”œâ”€â”€ template.py
|   |   â”œâ”€â”€ texescape.py
|   |   â””â”€â”€ typing.py
|   â”œâ”€â”€ versioning.py
|   â””â”€â”€ writers
|       â”œâ”€â”€ __init__.py
|       â”œâ”€â”€ html.py
|       â”œâ”€â”€ html5.py
|       â”œâ”€â”€ latex.py
|       â”œâ”€â”€ manpage.py
|       â”œâ”€â”€ texinfo.py
|       â”œâ”€â”€ text.py
|       â””â”€â”€ xml.py
â”œâ”€â”€ tests
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ certs
|   â”œâ”€â”€ conftest.py
|   â”œâ”€â”€ ext_napoleon_pep526_data_google.py
|   â”œâ”€â”€ ext_napoleon_pep526_data_numpy.py
|   â”œâ”€â”€ js
|   |   â”œâ”€â”€ doctools.js
|   |   â””â”€â”€ searchtools.js
|   â”œâ”€â”€ roots
|   |   â”œâ”€â”€ test-add_enumerable_node
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ enumerable_node.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-add_source_parser
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ source_parser.py
|   |   â”œâ”€â”€ test-add_source_parser-conflicts-with-users-setting
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ source_parser.py
|   |   â”œâ”€â”€ test-api-set-translator
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ nonext
|   |   |   |   â””â”€â”€ conf.py
|   |   |   â””â”€â”€ translator.py
|   |   â”œâ”€â”€ test-apidoc-duplicates
|   |   |   â””â”€â”€ fish_licence
|   |   â”œâ”€â”€ test-apidoc-pep420
|   |   |   â””â”€â”€ a
|   |   |       â””â”€â”€ b
|   |   â”œâ”€â”€ test-apidoc-subpackage-in-toc
|   |   |   â””â”€â”€ parent
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ child
|   |   â”œâ”€â”€ test-apidoc-toc
|   |   |   â””â”€â”€ mypackage
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ main.py
|   |   |       â”œâ”€â”€ no_init
|   |   |       â”œâ”€â”€ resource
|   |   |       â””â”€â”€ something
|   |   â”œâ”€â”€ test-apidoc-trailing-underscore
|   |   |   â””â”€â”€ package_
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ module_.py
|   |   â”œâ”€â”€ test-autosummary
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dummy_module.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ sphinx.rst
|   |   |   â””â”€â”€ underscore_module_.py
|   |   â”œâ”€â”€ test-basic
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-build-html-translator
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-build-text
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ doc1.txt
|   |   |   â”œâ”€â”€ doc2.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ lineblock.txt
|   |   |   â”œâ”€â”€ listitems.txt
|   |   |   â”œâ”€â”€ maxwidth.txt
|   |   |   â”œâ”€â”€ nonascii_maxwidth.txt
|   |   |   â”œâ”€â”€ nonascii_table.txt
|   |   |   â”œâ”€â”€ nonascii_title.txt
|   |   |   â”œâ”€â”€ table.txt
|   |   |   â”œâ”€â”€ table_colspan.txt
|   |   |   â”œâ”€â”€ table_colspan_and_rowspan.txt
|   |   |   â”œâ”€â”€ table_colspan_left.txt
|   |   |   â””â”€â”€ table_rowspan.txt
|   |   â”œâ”€â”€ test-builder-dirhtml
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo
|   |   |   |   â”œâ”€â”€ foo_1.rst
|   |   |   |   â”œâ”€â”€ foo_2.rst
|   |   |   |   â””â”€â”€ index.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-builder-gettext-dont-rebuild-mo
|   |   |   â”œâ”€â”€ bom.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ xx
|   |   |       â””â”€â”€ LC_MESSAGES
|   |   â”œâ”€â”€ test-changes
|   |   |   â”œâ”€â”€ base.rst
|   |   |   â”œâ”€â”€ c-api.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ contents.rst
|   |   |   â””â”€â”€ library
|   |   |       â””â”€â”€ utils.rst
|   |   â”œâ”€â”€ test-circular
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ sub.rst
|   |   â”œâ”€â”€ test-config
|   |   |   â””â”€â”€ conf.py
|   |   â”œâ”€â”€ test-correct-year
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-default_role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-directive-code
|   |   |   â”œâ”€â”€ caption.rst
|   |   |   â”œâ”€â”€ classes.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dedent.rst
|   |   |   â”œâ”€â”€ emphasize.rst
|   |   |   â”œâ”€â”€ force.rst
|   |   |   â”œâ”€â”€ highlight.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ linenos.rst
|   |   |   â”œâ”€â”€ linenothreshold.rst
|   |   |   â”œâ”€â”€ namedblocks.rst
|   |   |   â”œâ”€â”€ py-decorators.rst
|   |   |   â”œâ”€â”€ python.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-directive-csv-table
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ subdir
|   |   â”œâ”€â”€ test-directive-only
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ only.rst
|   |   â”œâ”€â”€ test-directives-raw
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-docutilsconf
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-c
|   |   |   â”œâ”€â”€ anon-dup-decl.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ field-role.rst
|   |   |   â”œâ”€â”€ function_param_target.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ namespace.rst
|   |   |   â””â”€â”€ ns_lookup.rst
|   |   â”œâ”€â”€ test-domain-c-intersphinx
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-cpp
|   |   |   â”œâ”€â”€ anon-dup-decl.rst
|   |   |   â”œâ”€â”€ any-role.rst
|   |   |   â”œâ”€â”€ backslash.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ field-role.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ lookup-key-overload.rst
|   |   |   â”œâ”€â”€ multi-decl-lookup.rst
|   |   |   â”œâ”€â”€ roles-targets-ok.rst
|   |   |   â”œâ”€â”€ roles-targets-warn.rst
|   |   |   â”œâ”€â”€ roles.rst
|   |   |   â”œâ”€â”€ roles2.rst
|   |   |   â”œâ”€â”€ semicolon.rst
|   |   |   â”œâ”€â”€ warn-template-param-qualified-name.rst
|   |   |   â””â”€â”€ xref_consistency.rst
|   |   â”œâ”€â”€ test-domain-cpp-intersphinx
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-js
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ module.rst
|   |   |   â””â”€â”€ roles.rst
|   |   â”œâ”€â”€ test-domain-py
|   |   |   â”œâ”€â”€ abbr.rst
|   |   |   â”œâ”€â”€ canonical.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ module.rst
|   |   |   â”œâ”€â”€ module_option.rst
|   |   |   â””â”€â”€ roles.rst
|   |   â”œâ”€â”€ test-domain-py-python_use_unqualified_type_names
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-py-xref-warning
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-double-inheriting-theme
|   |   |   â”œâ”€â”€ base_themes_dir
|   |   |   |   â”œâ”€â”€ base_theme1
|   |   |   |   â””â”€â”€ base_theme2
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-epub-anchor-id
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autodoc
|   |   |   â”œâ”€â”€ autodoc_dummy_bar.py
|   |   |   â”œâ”€â”€ autodoc_dummy_module.py
|   |   |   â”œâ”€â”€ bug2437
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ autodoc_dummy_foo.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target
|   |   |       â”œâ”€â”€ TYPE_CHECKING.py
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ abstractmethods.py
|   |   |       â”œâ”€â”€ annotated.py
|   |   |       â”œâ”€â”€ autoclass_content.py
|   |   |       â”œâ”€â”€ autodoc_type_aliases.py
|   |   |       â”œâ”€â”€ bound_method.py
|   |   |       â”œâ”€â”€ cached_property.py
|   |   |       â”œâ”€â”€ callable.py
|   |   |       â”œâ”€â”€ canonical
|   |   |       â”œâ”€â”€ classes.py
|   |   |       â”œâ”€â”€ coroutine.py
|   |   |       â”œâ”€â”€ decorator.py
|   |   |       â”œâ”€â”€ descriptor.py
|   |   |       â”œâ”€â”€ docstring_signature.py
|   |   |       â”œâ”€â”€ empty_all.py
|   |   |       â”œâ”€â”€ enums.py
|   |   |       â”œâ”€â”€ final.py
|   |   |       â”œâ”€â”€ functions.py
|   |   |       â”œâ”€â”€ generic_class.py
|   |   |       â”œâ”€â”€ genericalias.py
|   |   |       â”œâ”€â”€ hide_value.py
|   |   |       â”œâ”€â”€ imported_members.py
|   |   |       â”œâ”€â”€ inheritance.py
|   |   |       â”œâ”€â”€ instance_variable.py
|   |   |       â”œâ”€â”€ metadata.py
|   |   |       â”œâ”€â”€ methods.py
|   |   |       â”œâ”€â”€ module.py
|   |   |       â”œâ”€â”€ name_conflict
|   |   |       â”œâ”€â”€ name_mangling.py
|   |   |       â”œâ”€â”€ need_mocks.py
|   |   |       â”œâ”€â”€ overload.py
|   |   |       â”œâ”€â”€ overload2.py
|   |   |       â”œâ”€â”€ partialfunction.py
|   |   |       â”œâ”€â”€ partialmethod.py
|   |   |       â”œâ”€â”€ pep570.py
|   |   |       â”œâ”€â”€ pep604.py
|   |   |       â”œâ”€â”€ preserve_defaults.py
|   |   |       â”œâ”€â”€ private.py
|   |   |       â”œâ”€â”€ process_docstring.py
|   |   |       â”œâ”€â”€ properties.py
|   |   |       â”œâ”€â”€ singledispatch.py
|   |   |       â”œâ”€â”€ singledispatchmethod.py
|   |   |       â”œâ”€â”€ slots.py
|   |   |       â”œâ”€â”€ sort_by_all.py
|   |   |       â”œâ”€â”€ typed_vars.py
|   |   |       â”œâ”€â”€ typehints.py
|   |   |       â”œâ”€â”€ typevar.py
|   |   |       â”œâ”€â”€ uninitialized_attributes.py
|   |   |       â””â”€â”€ wrappedfunction.py
|   |   â”œâ”€â”€ test-ext-autosectionlabel
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosectionlabel-prefix-document
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary
|   |   |   â”œâ”€â”€ autosummary_class_module.py
|   |   |   â”œâ”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ autosummary_importfail.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-filename-map
|   |   |   â”œâ”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-imported_members
|   |   |   â”œâ”€â”€ autosummary_dummy_package
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-mock_imports
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-recursive
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ package
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ module.py
|   |   |   |   â”œâ”€â”€ module_importfail.py
|   |   |   |   â””â”€â”€ package
|   |   |   â””â”€â”€ package2
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ module.py
|   |   â”œâ”€â”€ test-ext-autosummary-skip-member
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-ext-autosummary-template
|   |   |   â”œâ”€â”€ _templates
|   |   |   |   â””â”€â”€ empty.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-ext-coverage
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ coverage_ignored.py
|   |   |   â”œâ”€â”€ coverage_not_ignored.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-doctest
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ doctest.txt
|   |   â”œâ”€â”€ test-ext-doctest-skipif
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ skipif.txt
|   |   â”œâ”€â”€ test-ext-doctest-with-autodoc
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dir
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ bar.py
|   |   |   |   â””â”€â”€ inner.rst
|   |   |   â”œâ”€â”€ foo.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-extlinks-hardcoded-urls
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-extlinks-hardcoded-urls-multiple-replacements
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-githubpages
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-graphviz
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-ifconfig
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-imgconverter
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-inheritance_diagram
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ example
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ sphinx.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ test.py
|   |   â”œâ”€â”€ test-ext-intersphinx-cppdomain
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-intersphinx-role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-math
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ math.rst
|   |   |   â”œâ”€â”€ nomath.rst
|   |   |   â””â”€â”€ page.rst
|   |   â”œâ”€â”€ test-ext-math-compat
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-math-simple
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-todo
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-viewcode
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ objects.rst
|   |   |   â””â”€â”€ spam
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ mod1.py
|   |   |       â”œâ”€â”€ mod2.py
|   |   |       â””â”€â”€ mod3.py
|   |   â”œâ”€â”€ test-ext-viewcode-find
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ not_a_package
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ submodule.py
|   |   â”œâ”€â”€ test-extensions
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ read_parallel.py
|   |   |   â”œâ”€â”€ read_serial.py
|   |   |   â”œâ”€â”€ write_parallel.py
|   |   |   â””â”€â”€ write_serial.py
|   |   â”œâ”€â”€ test-footnotes
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-gettext-template
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-glossary
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-highlight_options
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_assets
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ extra
|   |   |   |   â”œâ”€â”€ css
|   |   |   |   â”œâ”€â”€ index.rst
|   |   |   |   â””â”€â”€ subdir
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ static
|   |   |   |   â”œâ”€â”€ css
|   |   |   |   â”œâ”€â”€ index.rst
|   |   |   |   â”œâ”€â”€ js
|   |   |   |   â””â”€â”€ subdir
|   |   |   â””â”€â”€ subdir
|   |   |       â””â”€â”€ _build
|   |   â”œâ”€â”€ test-html_entity
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_scaled_image_link
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_signaturereturn_icon
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_style
|   |   |   â”œâ”€â”€ _static
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-image-in-parsed-literal
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-image-in-section
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-images
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ subdir
|   |   |       â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-index_on_title
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ contents.rst
|   |   â”œâ”€â”€ test-inheritance
|   |   |   â”œâ”€â”€ basic_diagram.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ diagram_module_w_2_top_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_1_top_class.rst
|   |   |   â”œâ”€â”€ diagram_w_2_top_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_nested_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_parts.rst
|   |   |   â”œâ”€â”€ dummy
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ test.py
|   |   |   |   â””â”€â”€ test_nested.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-intl
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ admonitions.txt
|   |   |   â”œâ”€â”€ bom.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ definition_terms.txt
|   |   |   â”œâ”€â”€ docfields.txt
|   |   |   â”œâ”€â”€ external_links.txt
|   |   |   â”œâ”€â”€ figure.txt
|   |   |   â”œâ”€â”€ footnote.txt
|   |   |   â”œâ”€â”€ glossary_terms.txt
|   |   |   â”œâ”€â”€ glossary_terms_inconsistency.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ index_entries.txt
|   |   |   â”œâ”€â”€ label_target.txt
|   |   |   â”œâ”€â”€ literalblock.txt
|   |   |   â”œâ”€â”€ noqa.txt
|   |   |   â”œâ”€â”€ only.txt
|   |   |   â”œâ”€â”€ raw.txt
|   |   |   â”œâ”€â”€ refs.txt
|   |   |   â”œâ”€â”€ refs_inconsistency.txt
|   |   |   â”œâ”€â”€ refs_python_domain.txt
|   |   |   â”œâ”€â”€ role_xref.txt
|   |   |   â”œâ”€â”€ rubric.txt
|   |   |   â”œâ”€â”€ section.txt
|   |   |   â”œâ”€â”€ seealso.txt
|   |   |   â”œâ”€â”€ subdir
|   |   |   |   â””â”€â”€ index.txt
|   |   |   â”œâ”€â”€ table.txt
|   |   |   â”œâ”€â”€ toctree.txt
|   |   |   â”œâ”€â”€ topic.txt
|   |   |   â”œâ”€â”€ versionchange.txt
|   |   |   â”œâ”€â”€ warnings.txt
|   |   |   â””â”€â”€ xx
|   |   |       â””â”€â”€ LC_MESSAGES
|   |   â”œâ”€â”€ test-keep_warnings
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-babel
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-container
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-equations
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ equations.rst
|   |   |   â””â”€â”€ expects
|   |   â”œâ”€â”€ test-latex-figure-in-admonition
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-includegraphics
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-index
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-labels
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ otherdoc.rst
|   |   â”œâ”€â”€ test-latex-numfig
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ indexhowto.rst
|   |   |   â””â”€â”€ indexmanual.rst
|   |   â”œâ”€â”€ test-latex-table
|   |   |   â”œâ”€â”€ _mytemplates
|   |   |   |   â””â”€â”€ latex
|   |   |   â”œâ”€â”€ complex.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ expects
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ longtable.rst
|   |   |   â””â”€â”€ tabular.rst
|   |   â”œâ”€â”€ test-latex-theme
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ theme
|   |   |       â””â”€â”€ custom
|   |   â”œâ”€â”€ test-latex-title
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-unicode
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ links.txt
|   |   â”œâ”€â”€ test-linkcheck-documents_exclude
|   |   |   â”œâ”€â”€ br0ken_link.rst
|   |   |   â”œâ”€â”€ broken_link.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-anchor
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-https
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-warn-redirects
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-local-logo
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ images
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-locale
|   |   |   â”œâ”€â”€ locale1
|   |   |   |   â””â”€â”€ en
|   |   |   â””â”€â”€ locale2
|   |   |       â””â”€â”€ en
|   |   â”œâ”€â”€ test-manpage_url
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-markup-citation
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-markup-rubric
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-maxlistdepth
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-metadata
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-need-escaped
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â””â”€â”€ qux.rst
|   |   â”œâ”€â”€ test-nested-enumerated-list
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-nested-tables
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-nitpicky-warnings
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-numbered-circular
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ sub.rst
|   |   â”œâ”€â”€ test-numfig
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-productionlist
|   |   |   â”œâ”€â”€ Bare.rst
|   |   |   â”œâ”€â”€ Dup1.rst
|   |   |   â”œâ”€â”€ Dup2.rst
|   |   |   â”œâ”€â”€ LineContinuation.rst
|   |   |   â”œâ”€â”€ P1.rst
|   |   |   â”œâ”€â”€ P2.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ firstLineRule.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-prolog
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ markdown.md
|   |   |   â”œâ”€â”€ prolog_markdown_parser.py
|   |   |   â””â”€â”€ restructuredtext.rst
|   |   â”œâ”€â”€ test-pycode
|   |   |   â””â”€â”€ cp_1251_coded.py
|   |   â”œâ”€â”€ test-pycode-egg
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ src
|   |   |       â”œâ”€â”€ sample.py
|   |   |       â””â”€â”€ setup.py
|   |   â”œâ”€â”€ test-reST-code-block
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-reST-code-role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-refonly_bullet_list
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-remote-logo
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-roles-download
|   |   |   â”œâ”€â”€ another
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-root
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ autodoc.txt
|   |   |   â”œâ”€â”€ autodoc_target.py
|   |   |   â”œâ”€â”€ bom.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ extapi.txt
|   |   |   â”œâ”€â”€ extensions.txt
|   |   |   â”œâ”€â”€ footnote.txt
|   |   |   â”œâ”€â”€ images.txt
|   |   |   â”œâ”€â”€ includes.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ lists.txt
|   |   |   â”œâ”€â”€ markup.txt
|   |   |   â”œâ”€â”€ math.txt
|   |   |   â”œâ”€â”€ objects.txt
|   |   |   â”œâ”€â”€ parsermod.py
|   |   |   â”œâ”€â”€ special
|   |   |   |   â””â”€â”€ code.py
|   |   |   â””â”€â”€ subdir
|   |   |       â”œâ”€â”€ excluded.txt
|   |   |       â”œâ”€â”€ images.txt
|   |   |       â””â”€â”€ includes.txt
|   |   â”œâ”€â”€ test-search
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ nosearch.rst
|   |   |   â””â”€â”€ tocitem.rst
|   |   â”œâ”€â”€ test-setup
|   |   |   â”œâ”€â”€ doc
|   |   |   |   â”œâ”€â”€ conf.py
|   |   |   |   â””â”€â”€ index.txt
|   |   |   â””â”€â”€ setup.py
|   |   â”œâ”€â”€ test-smartquotes
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ literals.rst
|   |   â”œâ”€â”€ test-stylesheets
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-templating
|   |   |   â”œâ”€â”€ _templates
|   |   |   |   â””â”€â”€ autosummary
|   |   |   â”œâ”€â”€ autosummary_templating.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.txt
|   |   â”œâ”€â”€ test-theming
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ setup.py
|   |   |   â””â”€â”€ test_theme
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ staticfiles
|   |   |       â””â”€â”€ test-theme
|   |   â”œâ”€â”€ test-tocdepth
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â”œâ”€â”€ qux.rst
|   |   |   â””â”€â”€ tocdepth.rst
|   |   â”œâ”€â”€ test-toctree-duplicated
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree-empty
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree-glob
|   |   |   â”œâ”€â”€ bar
|   |   |   |   â”œâ”€â”€ bar_1.rst
|   |   |   |   â”œâ”€â”€ bar_2.rst
|   |   |   |   â”œâ”€â”€ bar_3.rst
|   |   |   |   â”œâ”€â”€ bar_4
|   |   |   |   â””â”€â”€ index.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â””â”€â”€ qux
|   |   |       â”œâ”€â”€ index.rst
|   |   |       â”œâ”€â”€ qux_1.rst
|   |   |       â””â”€â”€ qux_2.rst
|   |   â”œâ”€â”€ test-toctree-maxdepth
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ qux.rst
|   |   â”œâ”€â”€ test-transforms-post_transforms-missing-reference
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-trim_doctest_flags
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-versioning
|   |   |   â”œâ”€â”€ added.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ deleted.txt
|   |   |   â”œâ”€â”€ deleted_end.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ insert.txt
|   |   |   â”œâ”€â”€ insert_beginning.txt
|   |   |   â”œâ”€â”€ insert_similar.txt
|   |   |   â”œâ”€â”€ modified.txt
|   |   |   â””â”€â”€ original.txt
|   |   â””â”€â”€ test-warnings
|   |       â”œâ”€â”€ autodoc_fodder.py
|   |       â”œâ”€â”€ conf.py
|   |       â”œâ”€â”€ index.rst
|   |       â””â”€â”€ undecodable.rst
|   â”œâ”€â”€ test_api_translator.py
|   â”œâ”€â”€ test_application.py
|   â”œâ”€â”€ test_build.py
|   â”œâ”€â”€ test_build_changes.py
|   â”œâ”€â”€ test_build_dirhtml.py
|   â”œâ”€â”€ test_build_epub.py
|   â”œâ”€â”€ test_build_gettext.py
|   â”œâ”€â”€ test_build_html.py
|   â”œâ”€â”€ test_build_latex.py
|   â”œâ”€â”€ test_build_linkcheck.py
|   â”œâ”€â”€ test_build_manpage.py
|   â”œâ”€â”€ test_build_texinfo.py
|   â”œâ”€â”€ test_build_text.py
|   â”œâ”€â”€ test_builder.py
|   â”œâ”€â”€ test_catalogs.py
|   â”œâ”€â”€ test_config.py
|   â”œâ”€â”€ test_correct_year.py
|   â”œâ”€â”€ test_directive_code.py
|   â”œâ”€â”€ test_directive_only.py
|   â”œâ”€â”€ test_directive_other.py
|   â”œâ”€â”€ test_directive_patch.py
|   â”œâ”€â”€ test_docutilsconf.py
|   â”œâ”€â”€ test_domain_c.py
|   â”œâ”€â”€ test_domain_cpp.py
|   â”œâ”€â”€ test_domain_js.py
|   â”œâ”€â”€ test_domain_py.py
|   â”œâ”€â”€ test_domain_rst.py
|   â”œâ”€â”€ test_domain_std.py
|   â”œâ”€â”€ test_environment.py
|   â”œâ”€â”€ test_environment_indexentries.py
|   â”œâ”€â”€ test_environment_toctree.py
|   â”œâ”€â”€ test_errors.py
|   â”œâ”€â”€ test_events.py
|   â”œâ”€â”€ test_ext_apidoc.py
|   â”œâ”€â”€ test_ext_autodoc.py
|   â”œâ”€â”€ test_ext_autodoc_autoattribute.py
|   â”œâ”€â”€ test_ext_autodoc_autoclass.py
|   â”œâ”€â”€ test_ext_autodoc_autodata.py
|   â”œâ”€â”€ test_ext_autodoc_autofunction.py
|   â”œâ”€â”€ test_ext_autodoc_automodule.py
|   â”œâ”€â”€ test_ext_autodoc_autoproperty.py
|   â”œâ”€â”€ test_ext_autodoc_configs.py
|   â”œâ”€â”€ test_ext_autodoc_events.py
|   â”œâ”€â”€ test_ext_autodoc_mock.py
|   â”œâ”€â”€ test_ext_autodoc_preserve_defaults.py
|   â”œâ”€â”€ test_ext_autodoc_private_members.py
|   â”œâ”€â”€ test_ext_autosectionlabel.py
|   â”œâ”€â”€ test_ext_autosummary.py
|   â”œâ”€â”€ test_ext_coverage.py
|   â”œâ”€â”€ test_ext_doctest.py
|   â”œâ”€â”€ test_ext_duration.py
|   â”œâ”€â”€ test_ext_extlinks.py
|   â”œâ”€â”€ test_ext_githubpages.py
|   â”œâ”€â”€ test_ext_graphviz.py
|   â”œâ”€â”€ test_ext_ifconfig.py
|   â”œâ”€â”€ test_ext_imgconverter.py
|   â”œâ”€â”€ test_ext_inheritance_diagram.py
|   â”œâ”€â”€ test_ext_intersphinx.py
|   â”œâ”€â”€ test_ext_math.py
|   â”œâ”€â”€ test_ext_napoleon.py
|   â”œâ”€â”€ test_ext_napoleon_docstring.py
|   â”œâ”€â”€ test_ext_napoleon_iterators.py
|   â”œâ”€â”€ test_ext_todo.py
|   â”œâ”€â”€ test_ext_viewcode.py
|   â”œâ”€â”€ test_extension.py
|   â”œâ”€â”€ test_highlighting.py
|   â”œâ”€â”€ test_intl.py
|   â”œâ”€â”€ test_locale.py
|   â”œâ”€â”€ test_markup.py
|   â”œâ”€â”€ test_metadata.py
|   â”œâ”€â”€ test_parser.py
|   â”œâ”€â”€ test_project.py
|   â”œâ”€â”€ test_pycode.py
|   â”œâ”€â”€ test_pycode_ast.py
|   â”œâ”€â”€ test_pycode_parser.py
|   â”œâ”€â”€ test_quickstart.py
|   â”œâ”€â”€ test_roles.py
|   â”œâ”€â”€ test_search.py
|   â”œâ”€â”€ test_setup_command.py
|   â”œâ”€â”€ test_smartquotes.py
|   â”œâ”€â”€ test_templating.py
|   â”œâ”€â”€ test_theming.py
|   â”œâ”€â”€ test_toctree.py
|   â”œâ”€â”€ test_transforms_post_transforms.py
|   â”œâ”€â”€ test_transforms_post_transforms_code.py
|   â”œâ”€â”€ test_util.py
|   â”œâ”€â”€ test_util_docstrings.py
|   â”œâ”€â”€ test_util_docutils.py
|   â”œâ”€â”€ test_util_fileutil.py
|   â”œâ”€â”€ test_util_i18n.py
|   â”œâ”€â”€ test_util_images.py
|   â”œâ”€â”€ test_util_inspect.py
|   â”œâ”€â”€ test_util_inventory.py
|   â”œâ”€â”€ test_util_jsdump.py
|   â”œâ”€â”€ test_util_logging.py
|   â”œâ”€â”€ test_util_matching.py
|   â”œâ”€â”€ test_util_nodes.py
|   â”œâ”€â”€ test_util_rst.py
|   â”œâ”€â”€ test_util_template.py
|   â”œâ”€â”€ test_util_typing.py
|   â”œâ”€â”€ test_versioning.py
|   â”œâ”€â”€ test_writer_latex.py
|   â”œâ”€â”€ typing_test_data.py
|   â””â”€â”€ utils.py
â””â”€â”€ utils
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ babel_runner.py
    â”œâ”€â”€ bump_docker.sh
    â”œâ”€â”€ bump_version.py
    â””â”€â”€ doclinter.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
LaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output

Issue description: 
### Describe the bug

The #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.

Example
```
Inline \sphinxcode{\sphinxupquote{ <--- this produces a space in output
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass} <-- here also
}} code block

```

a priori, mark-up should be:
```
Inline \sphinxcode{\sphinxupquote{%
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass}%
}} code block
```

But I have no no strong opinion if good or bad. See screenshots.

### How to Reproduce

```
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block

.. code-block:: python

   def foo(1 + 2 + None + "abc"): pass
```

in `index.rst` and `make latexpdf`.

### Expected behavior

_No response_

### Your project

extracted from test_build_latex.py

### Screenshots

with current:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)

if space characters removed from `.tex` file produced by LaTeX writer:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)

For comparison prior to #10251 merge:
![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)

### OS

Mac

### Python version

3.9

### Sphinx version

5.x

### Sphinx extensions

_No response_

### Extra tools

_No response_

### Additional context

Relates #10251

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-04 12:31:50,402 - thread-139911184823872.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='1. The user wants me to find 5 relevant test cases that demonstrate a specific bug related to LaTeX output and inline code highlighting.\n2. The provided context only contains the file tree of the project, with no actual code content.\n3. To fulfill the request, I need to access the content of the test files to analyze them and identify the most relevant examples that match the bug description.\n4. Based on the bug report and the file tree, the most promising files to find these test cases are `tests/test_build_latex.py`, `tests/test_writer_latex.py`, and `tests/test_directive_code.py`.\n5. Therefore, I need to request the content of these files to locate and provide the required test cases.' refined_query='Please provide the content of the files `tests/test_build_latex.py`, `tests/test_writer_latex.py`, and `tests/test_directive_code.py`.'
2025-10-04 12:31:55,285 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/test_directive_code.py"}'}, '__gemini_function_call_thought_signatures__': {'3543b4ab-5e13-4a3d-af0e-68eb15785a3e': 'CtYGAR/MhbZrHpOA1ILNGu7w32EpFKO5sEo9NHeOJrjmbwLuTPJn7ScuBpvbdxV7EHjVon3ZqNONoRRdIbLGJtdB5DZsSfz5DU1FbzToPFUqIMXQ8TgTYnCQAcINF6gkgDR0vFeRaM2m48RsNrftOm0WAGhNM50QhnWIGeQL2Od3GZ2kxwQ+I6ugxzdaSbu0LJ+yUIH9gHaM7XkT/nD1JW+4SkLIYZfh/hdnk6J893jr3OQXWh8FDBBgpE0GL/iIV1CHtDALh1KWBqNvTGo7/e478cV6d1Lab2PBbbxFtQRaYuCIPRioFKulVrWC1aAGbNq2ggboIoIlQZxSph9dayG4lRg2YL3sseVO57aTFkvIPbH7UCk4dmqqspp/SNxOkvh8CT2Ut4JTDN1iUcvtThw5nLbtX6rn/kuYeIjCRGBdHds2E7+6nwhdV/4TDvBiaKsSjuyP9pq7Bs2NHMYTDg+9J1oxQ3UxibtnX1Mz1Dd1bLfhNqt1bKy4Q98rFNCsVYRvIw3ZYtkgnaY15zQlK9OJgz83bNLlhiXuyoWWW2+ld64+lHNxQrxQDr3h0D92puzT9Nw2k+Z9EvVD9H0nZ68dygr5hthyKdGOiVvmgdTRG6kAs9QIKLRtq1vR+aEkRHlHvrVVMfy41US/1jrW3cfB+QZvSn+X9ffpzk0Di6J3mF3RYXWp9KyI9f53yj9muRmC0UdyD3Dce/hs/IyD6MOXmPikwJCj6FmvR8lU48chj/ZTimbXazQlsAgK81hG34d1a0J1qqebf9IyINaqPGgSGrbmEy0sfj+pxu/hLzymmxG5+GDswX3oiD9+fzacQbbmexW9Xv2LHXj9Vj0El+tIDRaw6MNP22ncqs5/j9D+8A0zIoheKnnIp6Ey84wdqcyI9zDo5sxvHJDQf0y+itSBQfrPlpyBZBRrfs7tEx5MNTxGC1heRoUduixzd4j4Fts67JyYnO5Uv/SWrtI1amM+S2fkoEezb6QbHooACHzF6qywDWhQTxq+V4Ib/v0g9F1d74MkPaJtya/qeY2pBXwK9msC/6iO9sFAfGU6JSdGTKay0MpQSn8jlViv1itI2L39P0RCjItDFuzai6Yp/5/Uh/wR8STDSHHlSgW0R/rRiuMopAkSVac='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 18344, 'candidates_token_count': 69, 'total_token_count': 18656, 'prompt_tokens_details': [{'modality': 1, 'token_count': 18344}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 69}], 'thoughts_token_count': 243, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0880278227985769, 'model_name': 'gemini-2.5-pro'} id='run--05b881e8-5d52-49ed-8bed-a18db04d153a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_build_latex.py'}, 'id': '3543b4ab-5e13-4a3d-af0e-68eb15785a3e', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_writer_latex.py'}, 'id': '7e2d05f4-5bc2-4d60-8b00-b352448e6e17', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_directive_code.py'}, 'id': 'c8948012-e15f-488e-9817-3933e21f26c5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18344, 'output_tokens': 69, 'total_tokens': 18656, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 243}}
2025-10-04 12:31:59,351 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of the three requested files: `tests/test_build_latex.py`, `tests/test_writer_latex.py`, and `tests/test_directive_code.py`. The first two files contain tests related to LaTeX output generation in Sphinx, covering the builder and writer functionalities. The last file, `tests/test_directive_code.py`, includes tests for handling code-related directives.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 37084, 'candidates_token_count': 90, 'total_token_count': 37336, 'cached_content_token_count': 17209, 'prompt_tokens_details': [{'modality': 1, 'token_count': 37325}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17209}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 90}], 'thoughts_token_count': 162}, 'finish_reason': 'STOP', 'avg_logprobs': -0.20726004706488715, 'model_name': 'gemini-2.5-pro'} id='run--1e104404-e5be-4313-99c6-ca6f7b3d3748-0' usage_metadata={'input_tokens': 37084, 'output_tokens': 90, 'total_tokens': 37336, 'input_token_details': {'cache_read': 17209}, 'output_token_details': {'reasoning': 162}}
2025-10-04 12:31:59,351 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-04 12:31:59,352 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
LaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output

Issue description: 
### Describe the bug

The #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.

Example
```
Inline \sphinxcode{\sphinxupquote{ <--- this produces a space in output
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass} <-- here also
}} code block

```

a priori, mark-up should be:
```
Inline \sphinxcode{\sphinxupquote{%
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass}%
}} code block
```

But I have no no strong opinion if good or bad. See screenshots.

### How to Reproduce

```
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block

.. code-block:: python

   def foo(1 + 2 + None + "abc"): pass
```

in `index.rst` and `make latexpdf`.

### Expected behavior

_No response_

### Your project

extracted from test_build_latex.py

### Screenshots

with current:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)

if space characters removed from `.tex` file produced by LaTeX writer:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)

For comparison prior to #10251 merge:
![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)

### OS

Mac

### Python version

3.9

### Sphinx version

5.x

### Sphinx extensions

_No response_

### Extra tools

_No response_

### Additional context

Relates #10251

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the content of the files `tests/test_build_latex.py`, `tests/test_writer_latex.py`, and `tests/test_directive_code.py`.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/test_build_latex.py
Line number range: 1 - 500
Content:
1. """Test the build process with LaTeX builder with the test root."""
2. 
3. import os
4. import re
5. import subprocess
6. from itertools import product
7. from shutil import copyfile
8. from subprocess import PIPE, CalledProcessError
9. 
10. import pytest
11. 
12. from sphinx.builders.latex import default_latex_documents
13. from sphinx.config import Config
14. from sphinx.errors import SphinxError
15. from sphinx.testing.util import strip_escseq
16. from sphinx.util.osutil import cd, ensuredir
17. from sphinx.writers.latex import LaTeXTranslator
18. 
19. from .test_build_html import ENV_WARNINGS
20. 
21. LATEX_ENGINES = ['pdflatex', 'lualatex', 'xelatex']
22. DOCCLASSES = ['howto', 'manual']
23. STYLEFILES = ['article.cls', 'fancyhdr.sty', 'titlesec.sty', 'amsmath.sty',
24.               'framed.sty', 'color.sty', 'fancyvrb.sty',
25.               'fncychap.sty', 'geometry.sty', 'kvoptions.sty', 'hyperref.sty']
26. 
27. LATEX_WARNINGS = ENV_WARNINGS + """\
28. %(root)s/index.rst:\\d+: WARNING: unknown option: &option
29. %(root)s/index.rst:\\d+: WARNING: citation not found: missing
30. %(root)s/index.rst:\\d+: WARNING: a suitable image for latex builder not found: foo.\\*
31. %(root)s/index.rst:\\d+: WARNING: Could not lex literal_block as "c". Highlighting skipped.
32. """
33. 
34. 
35. # only run latex if all needed packages are there
36. def kpsetest(*filenames):
37.     try:
38.         subprocess.run(['kpsewhich'] + list(filenames), stdout=PIPE, stderr=PIPE, check=True)
39.         return True
40.     except (OSError, CalledProcessError):
41.         return False  # command not found or exit with non-zero
42. 
43. 
44. # compile latex document with app.config.latex_engine
45. def compile_latex_document(app, filename='python.tex'):
46.     # now, try to run latex over it
47.     try:
48.         with cd(app.outdir):
49.             ensuredir(app.config.latex_engine)
50.             # keep a copy of latex file for this engine in case test fails
51.             copyfile(filename, app.config.latex_engine + '/' + filename)
52.             args = [app.config.latex_engine,
53.                     '--halt-on-error',
54.                     '--interaction=nonstopmode',
55.                     '-output-directory=%s' % app.config.latex_engine,
56.                     filename]
57.             subprocess.run(args, stdout=PIPE, stderr=PIPE, check=True)
58.     except OSError as exc:  # most likely the latex executable was not found
59.         raise pytest.skip.Exception from exc
60.     except CalledProcessError as exc:
61.         print(exc.stdout)
62.         print(exc.stderr)
63.         assert False, '%s exited with return code %s' % (app.config.latex_engine,
64.                                                          exc.returncode)
65. 
66. 
67. def skip_if_requested(testfunc):
68.     if 'SKIP_LATEX_BUILD' in os.environ:
69.         msg = 'Skip LaTeX builds because SKIP_LATEX_BUILD is set'
70.         return pytest.mark.skipif(True, reason=msg)(testfunc)
71.     else:
72.         return testfunc
73. 
74. 
75. def skip_if_stylefiles_notfound(testfunc):
76.     if kpsetest(*STYLEFILES) is False:
77.         msg = 'not running latex, the required styles do not seem to be installed'
78.         return pytest.mark.skipif(True, reason=msg)(testfunc)
79.     else:
80.         return testfunc
81. 
82. 
83. @skip_if_requested
84. @skip_if_stylefiles_notfound
85. @pytest.mark.parametrize(
86.     "engine,docclass",
87.     product(LATEX_ENGINES, DOCCLASSES),
88. )
89. @pytest.mark.sphinx('latex')
90. def test_build_latex_doc(app, status, warning, engine, docclass):
91.     app.config.latex_engine = engine
92.     app.config.latex_documents = [app.config.latex_documents[0][:4] + (docclass,)]
93.     app.builder.init()
94. 
95.     LaTeXTranslator.ignore_missing_images = True
96.     app.builder.build_all()
97. 
98.     # file from latex_additional_files
99.     assert (app.outdir / 'svgimg.svg').isfile()
100. 
101.     compile_latex_document(app, 'sphinxtests.tex')
102. 
103. 
104. @pytest.mark.sphinx('latex')
105. def test_writer(app, status, warning):
106.     app.builder.build_all()
107.     result = (app.outdir / 'sphinxtests.tex').read_text(encoding='utf8')
108. 
109.     assert ('\\begin{sphinxfigure-in-table}\n\\centering\n\\capstart\n'
110.             '\\noindent\\sphinxincludegraphics{{img}.png}\n'
111.             '\\sphinxfigcaption{figure in table}\\label{\\detokenize{markup:id8}}'
112.             '\\end{sphinxfigure-in-table}\\relax' in result)
113. 
114.     assert ('\\begin{wrapfigure}{r}{0pt}\n\\centering\n'
115.             '\\noindent\\sphinxincludegraphics{{rimg}.png}\n'
116.             '\\caption{figure with align option}\\label{\\detokenize{markup:id9}}'
117.             '\\end{wrapfigure}' in result)
118. 
119.     assert ('\\begin{wrapfigure}{r}{0.500\\linewidth}\n\\centering\n'
120.             '\\noindent\\sphinxincludegraphics{{rimg}.png}\n'
121.             '\\caption{figure with align \\& figwidth option}'
122.             '\\label{\\detokenize{markup:id10}}'
123.             '\\end{wrapfigure}' in result)
124. 
125.     assert ('\\begin{wrapfigure}{r}{3cm}\n\\centering\n'
126.             '\\noindent\\sphinxincludegraphics[width=3cm]{{rimg}.png}\n'
127.             '\\caption{figure with align \\& width option}'
128.             '\\label{\\detokenize{markup:id11}}'
129.             '\\end{wrapfigure}' in result)
130. 
131.     assert 'Footnotes' not in result
132. 
133. 
134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)
135. def test_latex_warnings(app, status, warning):
136.     app.builder.build_all()
137. 
138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))
139.     warnings_exp = LATEX_WARNINGS % {
140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}
141.     assert re.match(warnings_exp + '$', warnings), \
142.         'Warnings don\'t match:\n' + \
143.         '--- Expected (regex):\n' + warnings_exp + \
144.         '--- Got:\n' + warnings
145. 
146. 
147. @pytest.mark.sphinx('latex', testroot='basic')
148. def test_latex_basic(app, status, warning):
149.     app.builder.build_all()
150.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
151.     print(result)
152.     print(status.getvalue())
153.     print(warning.getvalue())
154.     assert r'\title{The basic Sphinx documentation for testing}' in result
155.     assert r'\release{}' in result
156.     assert r'\renewcommand{\releasename}{}' in result
157. 
158. 
159. @pytest.mark.sphinx('latex', testroot='basic',
160.                     confoverrides={
161.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'manual')]
162.                     })
163. def test_latex_basic_manual(app, status, warning):
164.     app.builder.build_all()
165.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
166.     print(result)
167.     assert r'\def\sphinxdocclass{report}' in result
168.     assert r'\documentclass[letterpaper,10pt,english]{sphinxmanual}' in result
169. 
170. 
171. @pytest.mark.sphinx('latex', testroot='basic',
172.                     confoverrides={
173.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'howto')]
174.                     })
175. def test_latex_basic_howto(app, status, warning):
176.     app.builder.build_all()
177.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
178.     print(result)
179.     assert r'\def\sphinxdocclass{article}' in result
180.     assert r'\documentclass[letterpaper,10pt,english]{sphinxhowto}' in result
181. 
182. 
183. @pytest.mark.sphinx('latex', testroot='basic',
184.                     confoverrides={
185.                         'language': 'ja',
186.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'manual')]
187.                     })
188. def test_latex_basic_manual_ja(app, status, warning):
189.     app.builder.build_all()
190.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
191.     print(result)
192.     assert r'\def\sphinxdocclass{ujbook}' in result
193.     assert r'\documentclass[letterpaper,10pt,dvipdfmx]{sphinxmanual}' in result
194. 
195. 
196. @pytest.mark.sphinx('latex', testroot='basic',
197.                     confoverrides={
198.                         'language': 'ja',
199.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'howto')]
200.                     })
201. def test_latex_basic_howto_ja(app, status, warning):
202.     app.builder.build_all()
203.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
204.     print(result)
205.     assert r'\def\sphinxdocclass{ujreport}' in result
206.     assert r'\documentclass[letterpaper,10pt,dvipdfmx]{sphinxhowto}' in result
207. 
208. 
209. @pytest.mark.sphinx('latex', testroot='latex-theme')
210. def test_latex_theme(app, status, warning):
211.     app.builder.build_all()
212.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
213.     print(result)
214.     assert r'\def\sphinxdocclass{book}' in result
215.     assert r'\documentclass[a4paper,12pt,english]{sphinxbook}' in result
216. 
217. 
218. @pytest.mark.sphinx('latex', testroot='latex-theme',
219.                     confoverrides={'latex_elements': {'papersize': 'b5paper',
220.                                                       'pointsize': '9pt'}})
221. def test_latex_theme_papersize(app, status, warning):
222.     app.builder.build_all()
223.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
224.     print(result)
225.     assert r'\def\sphinxdocclass{book}' in result
226.     assert r'\documentclass[b5paper,9pt,english]{sphinxbook}' in result
227. 
228. 
229. @pytest.mark.sphinx('latex', testroot='latex-theme',
230.                     confoverrides={'latex_theme_options': {'papersize': 'b5paper',
231.                                                            'pointsize': '9pt'}})
232. def test_latex_theme_options(app, status, warning):
233.     app.builder.build_all()
234.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
235.     print(result)
236.     assert r'\def\sphinxdocclass{book}' in result
237.     assert r'\documentclass[b5paper,9pt,english]{sphinxbook}' in result
238. 
239. 
240. @pytest.mark.sphinx('latex', testroot='basic', confoverrides={'language': 'zh'})
241. def test_latex_additional_settings_for_language_code(app, status, warning):
242.     app.builder.build_all()
243.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
244.     print(result)
245.     print(status.getvalue())
246.     print(warning.getvalue())
247.     assert r'\usepackage{xeCJK}' in result
248. 
249. 
250. @pytest.mark.sphinx('latex', testroot='basic', confoverrides={'language': 'el'})
251. def test_latex_additional_settings_for_greek(app, status, warning):
252.     app.builder.build_all()
253.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
254.     print(result)
255.     print(status.getvalue())
256.     print(warning.getvalue())
257.     assert '\\usepackage{polyglossia}\n\\setmainlanguage{greek}' in result
258.     assert '\\newfontfamily\\greekfonttt{FreeMono}' in result
259. 
260. 
261. @pytest.mark.sphinx('latex', testroot='latex-title')
262. def test_latex_title_after_admonitions(app, status, warning):
263.     app.builder.build_all()
264.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
265.     print(result)
266.     print(status.getvalue())
267.     print(warning.getvalue())
268.     assert '\\title{test\\sphinxhyphen{}latex\\sphinxhyphen{}title}' in result
269. 
270. 
271. @pytest.mark.sphinx('latex', testroot='basic',
272.                     confoverrides={'release': '1.0_0'})
273. def test_latex_release(app, status, warning):
274.     app.builder.build_all()
275.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
276.     print(result)
277.     print(status.getvalue())
278.     print(warning.getvalue())
279.     assert r'\release{1.0\_0}' in result
280.     assert r'\renewcommand{\releasename}{Release}' in result
281. 
282. 
283. @pytest.mark.sphinx('latex', testroot='numfig',
284.                     confoverrides={'numfig': True})
285. def test_numref(app, status, warning):
286.     app.builder.build_all()
287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
288.     print(result)
289.     print(status.getvalue())
290.     print(warning.getvalue())
291.     assert ('\\hyperref[\\detokenize{index:fig1}]'
292.             '{Fig.\\@ \\ref{\\detokenize{index:fig1}}}') in result
293.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
294.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
295.     assert ('\\hyperref[\\detokenize{index:table-1}]'
296.             '{Table \\ref{\\detokenize{index:table-1}}}') in result
297.     assert ('\\hyperref[\\detokenize{baz:table22}]'
298.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
299.     assert ('\\hyperref[\\detokenize{index:code-1}]'
300.             '{Listing \\ref{\\detokenize{index:code-1}}}') in result
301.     assert ('\\hyperref[\\detokenize{baz:code22}]'
302.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
303.     assert ('\\hyperref[\\detokenize{foo:foo}]'
304.             '{Section \\ref{\\detokenize{foo:foo}}}') in result
305.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
306.             '{Section \\ref{\\detokenize{bar:bar-a}}}') in result
307.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
308.             '\\nameref{\\detokenize{index:fig1}}}') in result
309.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
310.             '\\nameref{\\detokenize{foo:foo}}}') in result
311. 
312.     # sphinxmessages.sty
313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
314.     print(result)
315.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@{} }}' in result
316.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Table }}' in result
317.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}' in result
318. 
319. 
320. @pytest.mark.sphinx(
321.     'latex', testroot='numfig',
322.     confoverrides={'numfig': True,
323.                    'numfig_format': {'figure': 'Figure:%s',
324.                                      'table': 'Tab_%s',
325.                                      'code-block': 'Code-%s',
326.                                      'section': 'SECTION-%s'}})
327. def test_numref_with_prefix1(app, status, warning):
328.     app.builder.build_all()
329.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
330.     print(result)
331.     print(status.getvalue())
332.     print(warning.getvalue())
333.     assert '\\ref{\\detokenize{index:fig1}}' in result
334.     assert '\\ref{\\detokenize{baz:fig22}}' in result
335.     assert '\\ref{\\detokenize{index:table-1}}' in result
336.     assert '\\ref{\\detokenize{baz:table22}}' in result
337.     assert '\\ref{\\detokenize{index:code-1}}' in result
338.     assert '\\ref{\\detokenize{baz:code22}}' in result
339.     assert ('\\hyperref[\\detokenize{index:fig1}]'
340.             '{Figure:\\ref{\\detokenize{index:fig1}}}') in result
341.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
342.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
343.     assert ('\\hyperref[\\detokenize{index:table-1}]'
344.             '{Tab\\_\\ref{\\detokenize{index:table-1}}}') in result
345.     assert ('\\hyperref[\\detokenize{baz:table22}]'
346.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
347.     assert ('\\hyperref[\\detokenize{index:code-1}]'
348.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{index:code-1}}}') in result
349.     assert ('\\hyperref[\\detokenize{baz:code22}]'
350.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
351.     assert ('\\hyperref[\\detokenize{foo:foo}]'
352.             '{SECTION\\sphinxhyphen{}\\ref{\\detokenize{foo:foo}}}') in result
353.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
354.             '{SECTION\\sphinxhyphen{}\\ref{\\detokenize{bar:bar-a}}}') in result
355.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
356.             '\\nameref{\\detokenize{index:fig1}}}') in result
357.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
358.             '\\nameref{\\detokenize{foo:foo}}}') in result
359. 
360.     # sphinxmessages.sty
361.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
362.     print(result)
363.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Figure:}}' in result
364.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Tab\_}}' in result
365.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Code-}}' in result
366. 
367. 
368. @pytest.mark.sphinx(
369.     'latex', testroot='numfig',
370.     confoverrides={'numfig': True,
371.                    'numfig_format': {'figure': 'Figure:%s.',
372.                                      'table': 'Tab_%s:',
373.                                      'code-block': 'Code-%s | ',
374.                                      'section': 'SECTION_%s_'}})
375. def test_numref_with_prefix2(app, status, warning):
376.     app.builder.build_all()
377.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
378.     print(result)
379.     print(status.getvalue())
380.     print(warning.getvalue())
381.     assert ('\\hyperref[\\detokenize{index:fig1}]'
382.             '{Figure:\\ref{\\detokenize{index:fig1}}.\\@}') in result
383.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
384.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
385.     assert ('\\hyperref[\\detokenize{index:table-1}]'
386.             '{Tab\\_\\ref{\\detokenize{index:table-1}}:}') in result
387.     assert ('\\hyperref[\\detokenize{baz:table22}]'
388.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
389.     assert ('\\hyperref[\\detokenize{index:code-1}]{Code\\sphinxhyphen{}\\ref{\\detokenize{index:code-1}} '
390.             '| }') in result
391.     assert ('\\hyperref[\\detokenize{baz:code22}]'
392.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
393.     assert ('\\hyperref[\\detokenize{foo:foo}]'
394.             '{SECTION\\_\\ref{\\detokenize{foo:foo}}\\_}') in result
395.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
396.             '{SECTION\\_\\ref{\\detokenize{bar:bar-a}}\\_}') in result
397.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
398.             '\\nameref{\\detokenize{index:fig1}}}') in result
399.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
400.             '\\nameref{\\detokenize{foo:foo}}}') in result
401. 
402.     # sphinxmessages.sty
403.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
404.     print(result)
405.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Figure:}}' in result
406.     assert r'\def\fnum@figure{\figurename\thefigure{}.}' in result
407.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Tab\_}}' in result
408.     assert r'\def\fnum@table{\tablename\thetable{}:}' in result
409.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Code-}}' in result
410. 
411. 
412. @pytest.mark.sphinx(
413.     'latex', testroot='numfig',
414.     confoverrides={'numfig': True, 'language': 'ja'})
415. def test_numref_with_language_ja(app, status, warning):
416.     app.builder.build_all()
417.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
418.     print(result)
419.     print(status.getvalue())
420.     print(warning.getvalue())
421.     assert ('\\hyperref[\\detokenize{index:fig1}]'
422.             '{\u56f3 \\ref{\\detokenize{index:fig1}}}') in result
423.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
424.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
425.     assert ('\\hyperref[\\detokenize{index:table-1}]'
426.             '{\u8868 \\ref{\\detokenize{index:table-1}}}') in result
427.     assert ('\\hyperref[\\detokenize{baz:table22}]'
428.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
429.     assert ('\\hyperref[\\detokenize{index:code-1}]'
430.             '{\u30ea\u30b9\u30c8 \\ref{\\detokenize{index:code-1}}}') in result
431.     assert ('\\hyperref[\\detokenize{baz:code22}]'
432.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
433.     assert ('\\hyperref[\\detokenize{foo:foo}]'
434.             '{\\ref{\\detokenize{foo:foo}} \u7ae0}') in result
435.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
436.             '{\\ref{\\detokenize{bar:bar-a}} \u7ae0}') in result
437.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
438.             '\\nameref{\\detokenize{index:fig1}}}') in result
439.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
440.             '\\nameref{\\detokenize{foo:foo}}}') in result
441. 
442.     # sphinxmessages.sty
443.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
444.     print(result)
445.     assert '\\@iden{\\renewcommand{\\figurename}{å›³ }}' in result
446.     assert '\\@iden{\\renewcommand{\\tablename}{è¡¨ }}' in result
447.     assert '\\@iden{\\renewcommand{\\literalblockname}{ãƒªã‚¹ãƒˆ}}' in result
448. 
449. 
450. @pytest.mark.sphinx('latex', testroot='latex-numfig')
451. def test_latex_obey_numfig_is_false(app, status, warning):
452.     app.builder.build_all()
453. 
454.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
455.     assert '\\usepackage{sphinx}' in result
456. 
457.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
458.     assert '\\usepackage{sphinx}' in result
459. 
460. 
461. @pytest.mark.sphinx(
462.     'latex', testroot='latex-numfig',
463.     confoverrides={'numfig': True, 'numfig_secnum_depth': 0})
464. def test_latex_obey_numfig_secnum_depth_is_zero(app, status, warning):
465.     app.builder.build_all()
466. 
467.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
468.     assert '\\usepackage[,nonumfigreset,mathnumfig]{sphinx}' in result
469. 
470.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
471.     assert '\\usepackage[,nonumfigreset,mathnumfig]{sphinx}' in result
472. 
473. 
474. @pytest.mark.sphinx(
475.     'latex', testroot='latex-numfig',
476.     confoverrides={'numfig': True, 'numfig_secnum_depth': 2})
477. def test_latex_obey_numfig_secnum_depth_is_two(app, status, warning):
478.     app.builder.build_all()
479. 
480.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
481.     assert '\\usepackage[,numfigreset=2,mathnumfig]{sphinx}' in result
482. 
483.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
484.     assert '\\usepackage[,numfigreset=3,mathnumfig]{sphinx}' in result
485. 
486. 
487. @pytest.mark.sphinx(
488.     'latex', testroot='latex-numfig',
489.     confoverrides={'numfig': True, 'math_numfig': False})
490. def test_latex_obey_numfig_but_math_numfig_false(app, status, warning):
491.     app.builder.build_all()
492. 
493.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
494.     assert '\\usepackage[,numfigreset=1]{sphinx}' in result
495. 
496.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
497.     assert '\\usepackage[,numfigreset=2]{sphinx}' in result
498. 
499. 
500. @pytest.mark.sphinx('latex', testroot='basic')

File: tests/test_writer_latex.py
Line number range: 1 - 28
Content:
1. """Test the LaTeX writer"""
2. 
3. import pytest
4. 
5. from sphinx.writers.latex import rstdim_to_latexdim
6. 
7. 
8. def test_rstdim_to_latexdim():
9.     # Length units docutils supported
10.     # https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#length-units
11.     assert rstdim_to_latexdim('160em') == '160em'
12.     assert rstdim_to_latexdim('160px') == '160\\sphinxpxdimen'
13.     assert rstdim_to_latexdim('160in') == '160in'
14.     assert rstdim_to_latexdim('160cm') == '160cm'
15.     assert rstdim_to_latexdim('160mm') == '160mm'
16.     assert rstdim_to_latexdim('160pt') == '160bp'
17.     assert rstdim_to_latexdim('160pc') == '160pc'
18.     assert rstdim_to_latexdim('30%') == '0.300\\linewidth'
19.     assert rstdim_to_latexdim('160') == '160\\sphinxpxdimen'
20. 
21.     # float values
22.     assert rstdim_to_latexdim('160.0em') == '160.0em'
23.     assert rstdim_to_latexdim('.5em') == '.5em'
24. 
25.     # unknown values (it might be generated by 3rd party extension)
26.     with pytest.raises(ValueError):
27.         rstdim_to_latexdim('unknown')
28.     assert rstdim_to_latexdim('160.0unknown') == '160.0unknown'

File: tests/test_directive_code.py
Line number range: 1 - 500
Content:
1. """Test the code-block directive."""
2. 
3. import os
4. 
5. import pytest
6. from docutils import nodes
7. 
8. from sphinx.config import Config
9. from sphinx.directives.code import LiteralIncludeReader
10. from sphinx.testing.util import etree_parse
11. 
12. DUMMY_CONFIG = Config({}, {})
13. 
14. 
15. @pytest.fixture(scope='module')
16. def testroot(rootdir):
17.     testroot_path = rootdir / 'test-directive-code'
18.     return testroot_path
19. 
20. 
21. @pytest.fixture(scope='module')
22. def literal_inc_path(testroot):
23.     return testroot / 'literal.inc'
24. 
25. 
26. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
27. def test_LiteralIncludeReader(literal_inc_path):
28.     options = {'lineno-match': True}
29.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
30.     content, lines = reader.read()
31.     assert content == literal_inc_path.read_text(encoding='utf8')
32.     assert lines == 13
33.     assert reader.lineno_start == 1
34. 
35. 
36. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
37. def test_LiteralIncludeReader_lineno_start(literal_inc_path):
38.     options = {'lineno-start': 4}
39.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
40.     content, lines = reader.read()
41.     assert content == literal_inc_path.read_text(encoding='utf8')
42.     assert lines == 13
43.     assert reader.lineno_start == 4
44. 
45. 
46. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
47. def test_LiteralIncludeReader_pyobject1(literal_inc_path):
48.     options = {'lineno-match': True, 'pyobject': 'Foo'}
49.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
50.     content, lines = reader.read()
51.     assert content == ("class Foo:\n"
52.                        "    pass\n")
53.     assert reader.lineno_start == 5
54. 
55. 
56. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
57. def test_LiteralIncludeReader_pyobject2(literal_inc_path):
58.     options = {'pyobject': 'Bar'}
59.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
60.     content, lines = reader.read()
61.     assert content == ("class Bar:\n"
62.                        "    def baz():\n"
63.                        "        pass\n")
64.     assert reader.lineno_start == 1  # no lineno-match
65. 
66. 
67. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
68. def test_LiteralIncludeReader_pyobject3(literal_inc_path):
69.     options = {'pyobject': 'Bar.baz'}
70.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
71.     content, lines = reader.read()
72.     assert content == ("    def baz():\n"
73.                        "        pass\n")
74. 
75. 
76. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
77. def test_LiteralIncludeReader_pyobject_and_lines(literal_inc_path):
78.     options = {'pyobject': 'Bar', 'lines': '2-'}
79.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
80.     content, lines = reader.read()
81.     assert content == ("    def baz():\n"
82.                        "        pass\n")
83. 
84. 
85. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
86. def test_LiteralIncludeReader_lines1(literal_inc_path):
87.     options = {'lines': '1-3'}
88.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
89.     content, lines = reader.read()
90.     assert content == ("# Literally included file using Python highlighting\n"
91.                        "\n"
92.                        "foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n")
93. 
94. 
95. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
96. def test_LiteralIncludeReader_lines2(literal_inc_path):
97.     options = {'lines': '1,3,5'}
98.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
99.     content, lines = reader.read()
100.     assert content == ("# Literally included file using Python highlighting\n"
101.                        "foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n"
102.                        "class Foo:\n")
103. 
104. 
105. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
106. def test_LiteralIncludeReader_lines_and_lineno_match1(literal_inc_path):
107.     options = {'lines': '3-5', 'lineno-match': True}
108.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
109.     content, lines = reader.read()
110.     assert content == ("foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n"
111.                        "\n"
112.                        "class Foo:\n")
113.     assert reader.lineno_start == 3
114. 
115. 
116. @pytest.mark.sphinx()  # init locale for errors
117. def test_LiteralIncludeReader_lines_and_lineno_match2(literal_inc_path, app, status, warning):
118.     options = {'lines': '0,3,5', 'lineno-match': True}
119.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
120.     with pytest.raises(ValueError):
121.         content, lines = reader.read()
122. 
123. 
124. @pytest.mark.sphinx()  # init locale for errors
125. def test_LiteralIncludeReader_lines_and_lineno_match3(literal_inc_path, app, status, warning):
126.     options = {'lines': '100-', 'lineno-match': True}
127.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
128.     with pytest.raises(ValueError):
129.         content, lines = reader.read()
130. 
131. 
132. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
133. def test_LiteralIncludeReader_start_at(literal_inc_path):
134.     options = {'lineno-match': True, 'start-at': 'Foo', 'end-at': 'Bar'}
135.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
136.     content, lines = reader.read()
137.     assert content == ("class Foo:\n"
138.                        "    pass\n"
139.                        "\n"
140.                        "class Bar:\n")
141.     assert reader.lineno_start == 5
142. 
143. 
144. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
145. def test_LiteralIncludeReader_start_after(literal_inc_path):
146.     options = {'lineno-match': True, 'start-after': 'Foo', 'end-before': 'Bar'}
147.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
148.     content, lines = reader.read()
149.     assert content == ("    pass\n"
150.                        "\n")
151.     assert reader.lineno_start == 6
152. 
153. 
154. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
155. def test_LiteralIncludeReader_start_after_and_lines(literal_inc_path):
156.     options = {'lineno-match': True, 'lines': '6-',
157.                'start-after': 'Literally', 'end-before': 'comment'}
158.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
159.     content, lines = reader.read()
160.     assert content == ("\n"
161.                        "class Bar:\n"
162.                        "    def baz():\n"
163.                        "        pass\n"
164.                        "\n")
165.     assert reader.lineno_start == 7
166. 
167. 
168. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
169. def test_LiteralIncludeReader_start_at_and_lines(literal_inc_path):
170.     options = {'lines': '2, 3, 5', 'start-at': 'foo', 'end-before': '#'}
171.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
172.     content, lines = reader.read()
173.     assert content == ("\n"
174.                        "class Foo:\n"
175.                        "\n")
176.     assert reader.lineno_start == 1
177. 
178. 
179. def test_LiteralIncludeReader_missing_start_and_end(literal_inc_path):
180.     options = {'start-at': 'NOTHING'}
181.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
182.     with pytest.raises(ValueError):
183.         content, lines = reader.read()
184. 
185.     options = {'end-at': 'NOTHING'}
186.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
187.     with pytest.raises(ValueError):
188.         content, lines = reader.read()
189. 
190.     options = {'start-after': 'NOTHING'}
191.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
192.     with pytest.raises(ValueError):
193.         content, lines = reader.read()
194. 
195.     options = {'end-before': 'NOTHING'}
196.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
197.     with pytest.raises(ValueError):
198.         content, lines = reader.read()
199. 
200. 
201. def test_LiteralIncludeReader_end_before(literal_inc_path):
202.     options = {'end-before': 'nclud'}  # *nclud* matches first and third lines.
203.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
204.     content, lines = reader.read()
205.     assert content == ("# Literally included file using Python highlighting\n"
206.                        "\n")
207. 
208. 
209. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
210. def test_LiteralIncludeReader_prepend(literal_inc_path):
211.     options = {'lines': '1', 'prepend': 'Hello', 'append': 'Sphinx'}
212.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
213.     content, lines = reader.read()
214.     assert content == ("Hello\n"
215.                        "# Literally included file using Python highlighting\n"
216.                        "Sphinx\n")
217. 
218. 
219. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
220. def test_LiteralIncludeReader_dedent(literal_inc_path):
221.     # dedent: 2
222.     options = {'lines': '9-11', 'dedent': 2}
223.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
224.     content, lines = reader.read()
225.     assert content == ("  def baz():\n"
226.                        "      pass\n"
227.                        "\n")
228. 
229.     # dedent: 4
230.     options = {'lines': '9-11', 'dedent': 4}
231.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
232.     content, lines = reader.read()
233.     assert content == ("def baz():\n"
234.                        "    pass\n"
235.                        "\n")
236. 
237.     # dedent: 6
238.     options = {'lines': '9-11', 'dedent': 6}
239.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
240.     content, lines = reader.read()
241.     assert content == ("f baz():\n"
242.                        "  pass\n"
243.                        "\n")
244. 
245.     # dedent: None
246.     options = {'lines': '9-11', 'dedent': None}
247.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
248.     content, lines = reader.read()
249.     assert content == ("def baz():\n"
250.                        "    pass\n"
251.                        "\n")
252. 
253. 
254. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
255. def test_LiteralIncludeReader_dedent_and_append_and_prepend(literal_inc_path):
256.     # dedent: 2
257.     options = {'lines': '9-11', 'dedent': 2, 'prepend': 'class Foo:', 'append': '# comment'}
258.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
259.     content, lines = reader.read()
260.     assert content == ("class Foo:\n"
261.                        "  def baz():\n"
262.                        "      pass\n"
263.                        "\n"
264.                        "# comment\n")
265. 
266. 
267. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
268. def test_LiteralIncludeReader_tabwidth(testroot):
269.     # tab-width: 4
270.     options = {'tab-width': 4, 'pyobject': 'Qux'}
271.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
272.     content, lines = reader.read()
273.     assert content == ("class Qux:\n"
274.                        "    def quux(self):\n"
275.                        "        pass\n")
276. 
277.     # tab-width: 8
278.     options = {'tab-width': 8, 'pyobject': 'Qux'}
279.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
280.     content, lines = reader.read()
281.     assert content == ("class Qux:\n"
282.                        "        def quux(self):\n"
283.                        "                pass\n")
284. 
285. 
286. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
287. def test_LiteralIncludeReader_tabwidth_dedent(testroot):
288.     options = {'tab-width': 4, 'dedent': 4, 'pyobject': 'Qux.quux'}
289.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
290.     content, lines = reader.read()
291.     assert content == ("def quux(self):\n"
292.                        "    pass\n")
293. 
294. 
295. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
296. def test_LiteralIncludeReader_diff(testroot, literal_inc_path):
297.     options = {'diff': testroot / 'literal-diff.inc'}
298.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
299.     content, lines = reader.read()
300.     assert content == ("--- " + testroot + "/literal-diff.inc\n"
301.                        "+++ " + testroot + "/literal.inc\n"
302.                        "@@ -6,8 +6,8 @@\n"
303.                        "     pass\n"
304.                        " \n"
305.                        " class Bar:\n"
306.                        "-    def baz(self):\n"
307.                        "+    def baz():\n"
308.                        "         pass\n"
309.                        " \n"
310.                        "-# comment after Bar class\n"
311.                        "+# comment after Bar class definition\n"
312.                        " def bar(): pass\n")
313. 
314. 
315. @pytest.mark.sphinx('xml', testroot='directive-code')
316. def test_code_block(app, status, warning):
317.     app.builder.build('index')
318.     et = etree_parse(app.outdir / 'index.xml')
319.     secs = et.findall('./section/section')
320.     code_block = secs[0].findall('literal_block')
321.     assert len(code_block) > 0
322.     actual = code_block[0].text
323.     expect = (
324.         "    def ruby?\n" +
325.         "        false\n" +
326.         "    end"
327.     )
328.     assert actual == expect
329. 
330. 
331. @pytest.mark.sphinx('html', testroot='directive-code')
332. def test_force_option(app, status, warning):
333.     app.builder.build(['force'])
334.     assert 'force.rst' not in warning.getvalue()
335. 
336. 
337. @pytest.mark.sphinx('html', testroot='directive-code')
338. def test_code_block_caption_html(app, status, warning):
339.     app.builder.build(['caption'])
340.     html = (app.outdir / 'caption.html').read_text(encoding='utf8')
341.     caption = ('<div class="code-block-caption">'
342.                '<span class="caption-number">Listing 1 </span>'
343.                '<span class="caption-text">caption <em>test</em> rb'
344.                '</span><a class="headerlink" href="#id1" '
345.                'title="Permalink to this code">\xb6</a></div>')
346.     assert caption in html
347. 
348. 
349. @pytest.mark.sphinx('latex', testroot='directive-code')
350. def test_code_block_caption_latex(app, status, warning):
351.     app.builder.build_all()
352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
353.     caption = '\\sphinxSetupCaptionForVerbatim{caption \\sphinxstyleemphasis{test} rb}'
354.     label = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:id1}}}'
355.     link = '\\hyperref[\\detokenize{caption:name-test-rb}]' \
356.            '{Listing \\ref{\\detokenize{caption:name-test-rb}}}'
357.     assert caption in latex
358.     assert label in latex
359.     assert link in latex
360. 
361. 
362. @pytest.mark.sphinx('latex', testroot='directive-code')
363. def test_code_block_namedlink_latex(app, status, warning):
364.     app.builder.build_all()
365.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
366.     label1 = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:name-test-rb}}}'
367.     link1 = '\\hyperref[\\detokenize{caption:name-test-rb}]'\
368.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{Ruby}}'
369.     label2 = ('\\def\\sphinxLiteralBlockLabel'
370.               '{\\label{\\detokenize{namedblocks:some-ruby-code}}}')
371.     link2 = '\\hyperref[\\detokenize{namedblocks:some-ruby-code}]'\
372.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{the ruby code}}}'
373.     assert label1 in latex
374.     assert link1 in latex
375.     assert label2 in latex
376.     assert link2 in latex
377. 
378. 
379. @pytest.mark.sphinx('latex', testroot='directive-code')
380. def test_code_block_emphasize_latex(app, status, warning):
381.     app.builder.build(['emphasize'])
382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
383.     includes = '\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\n'
384.     assert includes in latex
385.     includes = '\\end{sphinxVerbatim}\n\\sphinxresetverbatimhllines\n'
386.     assert includes in latex
387. 
388. 
389. @pytest.mark.sphinx('xml', testroot='directive-code')
390. def test_literal_include(app, status, warning):
391.     app.builder.build(['index'])
392.     et = etree_parse(app.outdir / 'index.xml')
393.     secs = et.findall('./section/section')
394.     literal_include = secs[1].findall('literal_block')
395.     literal_src = (app.srcdir / 'literal.inc').read_text(encoding='utf8')
396.     assert len(literal_include) > 0
397.     actual = literal_include[0].text
398.     assert actual == literal_src
399. 
400. 
401. @pytest.mark.sphinx('xml', testroot='directive-code')
402. def test_literal_include_block_start_with_comment_or_brank(app, status, warning):
403.     app.builder.build(['python'])
404.     et = etree_parse(app.outdir / 'python.xml')
405.     secs = et.findall('./section/section')
406.     literal_include = secs[0].findall('literal_block')
407.     assert len(literal_include) > 0
408.     actual = literal_include[0].text
409.     expect = (
410.         'def block_start_with_comment():\n'
411.         '    # Comment\n'
412.         '    return 1\n'
413.     )
414.     assert actual == expect
415. 
416.     actual = literal_include[1].text
417.     expect = (
418.         'def block_start_with_blank():\n'
419.         '\n'
420.         '    return 1\n'
421.     )
422.     assert actual == expect
423. 
424. 
425. @pytest.mark.sphinx('html', testroot='directive-code')
426. def test_literal_include_linenos(app, status, warning):
427.     app.builder.build(['linenos'])
428.     html = (app.outdir / 'linenos.html').read_text(encoding='utf8')
429. 
430.     # :linenos:
431.     assert ('<span class="linenos"> 1</span><span class="c1">'
432.             '# Literally included file using Python highlighting</span>' in html)
433. 
434.     # :lineno-start:
435.     assert ('<span class="linenos">200</span><span class="c1">'
436.             '# Literally included file using Python highlighting</span>' in html)
437. 
438.     # :lines: 5-9
439.     assert ('<span class="linenos">5</span><span class="k">class</span> '
440.             '<span class="nc">Foo</span><span class="p">:</span>' in html)
441. 
442. 
443. @pytest.mark.sphinx('latex', testroot='directive-code')
444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):
445.     app.builder.build_all()
446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
447.     includes = (
448.         '\\begin{sphinxVerbatim}'
449.         '[commandchars=\\\\\\{\\},numbers=left,firstnumber=1,stepnumber=1]\n'
450.         '\n'
451.         '\n'
452.         '\n'
453.         '\\end{sphinxVerbatim}\n')
454.     assert includes in latex
455. 
456. 
457. @pytest.mark.sphinx('html', testroot='directive-code')
458. def test_literalinclude_caption_html(app, status, warning):
459.     app.builder.build('index')
460.     html = (app.outdir / 'caption.html').read_text(encoding='utf8')
461.     caption = ('<div class="code-block-caption">'
462.                '<span class="caption-number">Listing 2 </span>'
463.                '<span class="caption-text">caption <strong>test</strong> py'
464.                '</span><a class="headerlink" href="#id2" '
465.                'title="Permalink to this code">\xb6</a></div>')
466.     assert caption in html
467. 
468. 
469. @pytest.mark.sphinx('latex', testroot='directive-code')
470. def test_literalinclude_caption_latex(app, status, warning):
471.     app.builder.build('index')
472.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
473.     caption = '\\sphinxSetupCaptionForVerbatim{caption \\sphinxstylestrong{test} py}'
474.     label = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:id2}}}'
475.     link = '\\hyperref[\\detokenize{caption:name-test-py}]' \
476.            '{Listing \\ref{\\detokenize{caption:name-test-py}}}'
477.     assert caption in latex
478.     assert label in latex
479.     assert link in latex
480. 
481. 
482. @pytest.mark.sphinx('latex', testroot='directive-code')
483. def test_literalinclude_namedlink_latex(app, status, warning):
484.     app.builder.build('index')
485.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
486.     label1 = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:name-test-py}}}'
487.     link1 = '\\hyperref[\\detokenize{caption:name-test-py}]'\
488.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{Python}}'
489.     label2 = ('\\def\\sphinxLiteralBlockLabel'
490.               '{\\label{\\detokenize{namedblocks:some-python-code}}}')
491.     link2 = '\\hyperref[\\detokenize{namedblocks:some-python-code}]'\
492.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{the python code}}}'
493.     assert label1 in latex
494.     assert link1 in latex
495.     assert label2 in latex
496.     assert link2 in latex
497. 
498. 
499. @pytest.mark.sphinx('xml', testroot='directive-code')
500. def test_literalinclude_classes(app, status, warning):


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-04 12:33:08,547 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for tests related to LaTeX output of highlighted code.\n   - The bug report indicates that syntax highlighting for the `code` role introduces extra whitespace in the LaTeX output.\n   - This test, `test_code_block_emphasize_latex`, directly examines the generated LaTeX for a `code-block` with a highlighting option (`:emphasize-lines:`).\n\n2. Extended relevance:\n   - This test asserts the presence of a specific LaTeX command (`\\fvset{hllines=...}`). This is a direct parallel to the bug, where the generated LaTeX markup for highlighting is incorrect.\n   - It demonstrates the methodology for testing how code highlighting options are translated into the final `.tex` file, which is essential for verifying a fix for the reported issue.', relative_path='tests/test_directive_code.py', start_line=379, end_line=387), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's issue is with incorrect whitespace in the rendered LaTeX code blocks.\n   - This test, `test_literalinclude_file_whole_of_emptyline`, checks the precise content of a `sphinxVerbatim` environment in the output `.tex` file.\n\n2. Extended relevance:\n   - This test provides a clear example of how to assert the raw content of a code block in the generated LaTeX.\n   - A test for the reported bug would need a similar assertion to verify that the extra whitespace at the start and end of the inline code is no longer present.", relative_path='tests/test_directive_code.py', start_line=443, end_line=455), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for tests related to code rendering in LaTeX.\n   - The bug report mentions `test_build_latex.py` as a source of context.\n   - This test, `test_numref`, is from that file and tests the numbering and referencing of code blocks (`literalblockname`) in the generated LaTeX document.\n\n2. Extended relevance:\n   - It asserts the correctness of `\\hyperref` commands that link to code blocks.\n   - This demonstrates how the test suite verifies the integration of code blocks within the overall LaTeX document structure, which is important context for understanding how these blocks are rendered.', relative_path='tests/test_build_latex.py', start_line=283, end_line=318), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's issue is with the generated LaTeX for inline code.\n   - This test, `test_code_block_caption_latex`, verifies the LaTeX output for a `code-block`'s caption and its associated label and link.\n\n2. Extended relevance:\n   - The bug is about extra whitespace being added around the code. This test shows how the test suite checks the markup *surrounding* the code block itself (in this case, the caption and label).\n   - This is a relevant pattern for testing the structural integrity of generated LaTeX for code elements.", relative_path='tests/test_directive_code.py', start_line=349, end_line=360), ContextOutput(reasoning='1. Query requirement analysis:\n   - The bug was introduced by a change to the syntax highlighting system for the LaTeX builder.\n   - This test, `test_latex_warnings`, checks for warnings generated during the LaTeX build process.\n\n2. Extended relevance:\n   - Crucially, it includes a check for a warning when a `literal_block` fails to be lexed, meaning syntax highlighting has failed (`WARNING: Could not lex literal_block as "c". Highlighting skipped.`)\n   - This demonstrates how the test suite monitors the behavior of the code highlighting pipeline, which is the system responsible for the bug. It\'s a test of a related failure condition.', relative_path='tests/test_build_latex.py', start_line=134, end_line=145)]
2025-10-04 12:33:08,548 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/test_directive_code.py', content="379. @pytest.mark.sphinx('latex', testroot='directive-code')\n380. def test_code_block_emphasize_latex(app, status, warning):\n381.     app.builder.build(['emphasize'])\n382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n383.     includes = '\\\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\\n'\n384.     assert includes in latex\n385.     includes = '\\\\end{sphinxVerbatim}\\n\\\\sphinxresetverbatimhllines\\n'\n386.     assert includes in latex\n387. ", start_line_number=379, end_line_number=387), Context(relative_path='tests/test_directive_code.py', content="443. @pytest.mark.sphinx('latex', testroot='directive-code')\n444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):\n445.     app.builder.build_all()\n446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n447.     includes = (\n448.         '\\\\begin{sphinxVerbatim}'\n449.         '[commandchars=\\\\\\\\\\\\{\\\\},numbers=left,firstnumber=1,stepnumber=1]\\n'\n450.         '\\n'\n451.         '\\n'\n452.         '\\n'\n453.         '\\\\end{sphinxVerbatim}\\n')\n454.     assert includes in latex\n455. ", start_line_number=443, end_line_number=455), Context(relative_path='tests/test_build_latex.py', content="283. @pytest.mark.sphinx('latex', testroot='numfig',\n284.                     confoverrides={'numfig': True})\n285. def test_numref(app, status, warning):\n286.     app.builder.build_all()\n287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')\n288.     print(result)\n289.     print(status.getvalue())\n290.     print(warning.getvalue())\n291.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]'\n292.             '{Fig.\\\\@ \\\\ref{\\\\detokenize{index:fig1}}}') in result\n293.     assert ('\\\\hyperref[\\\\detokenize{baz:fig22}]'\n294.             '{Figure\\\\ref{\\\\detokenize{baz:fig22}}}') in result\n295.     assert ('\\\\hyperref[\\\\detokenize{index:table-1}]'\n296.             '{Table \\\\ref{\\\\detokenize{index:table-1}}}') in result\n297.     assert ('\\\\hyperref[\\\\detokenize{baz:table22}]'\n298.             '{Table:\\\\ref{\\\\detokenize{baz:table22}}}') in result\n299.     assert ('\\\\hyperref[\\\\detokenize{index:code-1}]'\n300.             '{Listing \\\\ref{\\\\detokenize{index:code-1}}}') in result\n301.     assert ('\\\\hyperref[\\\\detokenize{baz:code22}]'\n302.             '{Code\\\\sphinxhyphen{}\\\\ref{\\\\detokenize{baz:code22}}}') in result\n303.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]'\n304.             '{Section \\\\ref{\\\\detokenize{foo:foo}}}') in result\n305.     assert ('\\\\hyperref[\\\\detokenize{bar:bar-a}]'\n306.             '{Section \\\\ref{\\\\detokenize{bar:bar-a}}}') in result\n307.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]{Fig.\\\\ref{\\\\detokenize{index:fig1}} '\n308.             '\\\\nameref{\\\\detokenize{index:fig1}}}') in result\n309.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]{Sect.\\\\ref{\\\\detokenize{foo:foo}} '\n310.             '\\\\nameref{\\\\detokenize{foo:foo}}}') in result\n311. \n312.     # sphinxmessages.sty\n313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')\n314.     print(result)\n315.     assert r'\\addto\\captionsenglish{\\renewcommand{\\figurename}{Fig.\\@{} }}' in result\n316.     assert r'\\addto\\captionsenglish{\\renewcommand{\\tablename}{Table }}' in result\n317.     assert r'\\addto\\captionsenglish{\\renewcommand{\\literalblockname}{Listing}}' in result\n318. ", start_line_number=283, end_line_number=318), Context(relative_path='tests/test_directive_code.py', content="349. @pytest.mark.sphinx('latex', testroot='directive-code')\n350. def test_code_block_caption_latex(app, status, warning):\n351.     app.builder.build_all()\n352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')\n353.     caption = '\\\\sphinxSetupCaptionForVerbatim{caption \\\\sphinxstyleemphasis{test} rb}'\n354.     label = '\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:id1}}}'\n355.     link = '\\\\hyperref[\\\\detokenize{caption:name-test-rb}]' \\\n356.            '{Listing \\\\ref{\\\\detokenize{caption:name-test-rb}}}'\n357.     assert caption in latex\n358.     assert label in latex\n359.     assert link in latex\n360. ", start_line_number=349, end_line_number=360), Context(relative_path='tests/test_build_latex.py', content="134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)\n135. def test_latex_warnings(app, status, warning):\n136.     app.builder.build_all()\n137. \n138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))\n139.     warnings_exp = LATEX_WARNINGS % {\n140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}\n141.     assert re.match(warnings_exp + '$', warnings), \\\n142.         'Warnings don\\'t match:\\n' + \\\n143.         '--- Expected (regex):\\n' + warnings_exp + \\\n144.         '--- Got:\\n' + warnings\n145. ", start_line_number=134, end_line_number=145)]
2025-10-04 12:33:08,548 - thread-139911184823872.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-04 12:33:08,549 - thread-139911184823872.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
â”œâ”€â”€ .circleci
|   â””â”€â”€ config.yml
â”œâ”€â”€ .codecov.yml
â”œâ”€â”€ .github
|   â”œâ”€â”€ ISSUE_TEMPLATE
|   |   â”œâ”€â”€ bug-report.yml
|   |   â”œâ”€â”€ config.yml
|   |   â””â”€â”€ feature_request.md
|   â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
|   â””â”€â”€ workflows
|       â”œâ”€â”€ builddoc.yml
|       â”œâ”€â”€ create-release.yml
|       â”œâ”€â”€ docutils-latest.yml
|       â”œâ”€â”€ lint.yml
|       â”œâ”€â”€ lock.yml
|       â”œâ”€â”€ main.yml
|       â”œâ”€â”€ nodejs.yml
|       â””â”€â”€ transifex.yml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ CONTRIBUTING.rst
â”œâ”€â”€ README.rst
â”œâ”€â”€ bindep.txt
â”œâ”€â”€ doc
|   â”œâ”€â”€ _static
|   |   â”œâ”€â”€ conf.py.txt
|   |   â”œâ”€â”€ themes
|   |   |   â””â”€â”€ fullsize
|   |   â””â”€â”€ tutorial
|   â”œâ”€â”€ _templates
|   â”œâ”€â”€ _themes
|   |   â””â”€â”€ sphinx13
|   |       â””â”€â”€ static
|   â”œâ”€â”€ changes.rst
|   â”œâ”€â”€ conf.py
|   â”œâ”€â”€ contents.rst
|   â”œâ”€â”€ development
|   |   â”œâ”€â”€ builders.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ overview.rst
|   |   â”œâ”€â”€ theming.rst
|   |   â””â”€â”€ tutorials
|   |       â”œâ”€â”€ autodoc_ext.rst
|   |       â”œâ”€â”€ examples
|   |       |   â”œâ”€â”€ README.rst
|   |       |   â”œâ”€â”€ autodoc_intenum.py
|   |       |   â”œâ”€â”€ helloworld.py
|   |       |   â”œâ”€â”€ recipe.py
|   |       |   â””â”€â”€ todo.py
|   |       â”œâ”€â”€ helloworld.rst
|   |       â”œâ”€â”€ index.rst
|   |       â”œâ”€â”€ recipe.rst
|   |       â””â”€â”€ todo.rst
|   â”œâ”€â”€ examples.rst
|   â”œâ”€â”€ extdev
|   |   â”œâ”€â”€ appapi.rst
|   |   â”œâ”€â”€ builderapi.rst
|   |   â”œâ”€â”€ collectorapi.rst
|   |   â”œâ”€â”€ deprecated.rst
|   |   â”œâ”€â”€ domainapi.rst
|   |   â”œâ”€â”€ envapi.rst
|   |   â”œâ”€â”€ i18n.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ logging.rst
|   |   â”œâ”€â”€ markupapi.rst
|   |   â”œâ”€â”€ nodes.rst
|   |   â”œâ”€â”€ parserapi.rst
|   |   â”œâ”€â”€ projectapi.rst
|   |   â””â”€â”€ utils.rst
|   â”œâ”€â”€ faq.rst
|   â”œâ”€â”€ glossary.rst
|   â”œâ”€â”€ internals
|   |   â”œâ”€â”€ authors.rst
|   |   â”œâ”€â”€ code-of-conduct.rst
|   |   â”œâ”€â”€ contributing.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ organization.rst
|   |   â””â”€â”€ release-process.rst
|   â”œâ”€â”€ latex.rst
|   â”œâ”€â”€ man
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ sphinx-apidoc.rst
|   |   â”œâ”€â”€ sphinx-autogen.rst
|   |   â”œâ”€â”€ sphinx-build.rst
|   |   â””â”€â”€ sphinx-quickstart.rst
|   â”œâ”€â”€ templating.rst
|   â”œâ”€â”€ tutorial
|   |   â”œâ”€â”€ automatic-doc-generation.rst
|   |   â”œâ”€â”€ deploying.rst
|   |   â”œâ”€â”€ describing-code.rst
|   |   â”œâ”€â”€ end.rst
|   |   â”œâ”€â”€ first-steps.rst
|   |   â”œâ”€â”€ getting-started.rst
|   |   â”œâ”€â”€ index.rst
|   |   â”œâ”€â”€ more-sphinx-customization.rst
|   |   â””â”€â”€ narrative-documentation.rst
|   â””â”€â”€ usage
|       â”œâ”€â”€ advanced
|       |   â”œâ”€â”€ intl.rst
|       |   â”œâ”€â”€ setuptools.rst
|       |   â””â”€â”€ websupport
|       |       â”œâ”€â”€ api.rst
|       |       â”œâ”€â”€ index.rst
|       |       â”œâ”€â”€ quickstart.rst
|       |       â”œâ”€â”€ searchadapters.rst
|       |       â””â”€â”€ storagebackends.rst
|       â”œâ”€â”€ builders
|       |   â””â”€â”€ index.rst
|       â”œâ”€â”€ configuration.rst
|       â”œâ”€â”€ extensions
|       |   â”œâ”€â”€ autodoc.rst
|       |   â”œâ”€â”€ autosectionlabel.rst
|       |   â”œâ”€â”€ autosummary.rst
|       |   â”œâ”€â”€ coverage.rst
|       |   â”œâ”€â”€ doctest.rst
|       |   â”œâ”€â”€ duration.rst
|       |   â”œâ”€â”€ example_google.py
|       |   â”œâ”€â”€ example_google.rst
|       |   â”œâ”€â”€ example_numpy.py
|       |   â”œâ”€â”€ example_numpy.rst
|       |   â”œâ”€â”€ extlinks.rst
|       |   â”œâ”€â”€ githubpages.rst
|       |   â”œâ”€â”€ graphviz.rst
|       |   â”œâ”€â”€ ifconfig.rst
|       |   â”œâ”€â”€ imgconverter.rst
|       |   â”œâ”€â”€ index.rst
|       |   â”œâ”€â”€ inheritance.rst
|       |   â”œâ”€â”€ intersphinx.rst
|       |   â”œâ”€â”€ linkcode.rst
|       |   â”œâ”€â”€ math.rst
|       |   â”œâ”€â”€ napoleon.rst
|       |   â”œâ”€â”€ todo.rst
|       |   â””â”€â”€ viewcode.rst
|       â”œâ”€â”€ index.rst
|       â”œâ”€â”€ installation.rst
|       â”œâ”€â”€ markdown.rst
|       â”œâ”€â”€ quickstart.rst
|       â”œâ”€â”€ restructuredtext
|       |   â”œâ”€â”€ basics.rst
|       |   â”œâ”€â”€ directives.rst
|       |   â”œâ”€â”€ domains.rst
|       |   â”œâ”€â”€ field-lists.rst
|       |   â”œâ”€â”€ index.rst
|       |   â””â”€â”€ roles.rst
|       â””â”€â”€ theming.rst
â”œâ”€â”€ karma.conf.js
â”œâ”€â”€ setup.py
â”œâ”€â”€ sphinx
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ __main__.py
|   â”œâ”€â”€ addnodes.py
|   â”œâ”€â”€ application.py
|   â”œâ”€â”€ builders
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ _epub_base.py
|   |   â”œâ”€â”€ changes.py
|   |   â”œâ”€â”€ dirhtml.py
|   |   â”œâ”€â”€ dummy.py
|   |   â”œâ”€â”€ epub3.py
|   |   â”œâ”€â”€ gettext.py
|   |   â”œâ”€â”€ html
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ transforms.py
|   |   â”œâ”€â”€ latex
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ constants.py
|   |   |   â”œâ”€â”€ nodes.py
|   |   |   â”œâ”€â”€ theming.py
|   |   |   â”œâ”€â”€ transforms.py
|   |   |   â””â”€â”€ util.py
|   |   â”œâ”€â”€ linkcheck.py
|   |   â”œâ”€â”€ manpage.py
|   |   â”œâ”€â”€ singlehtml.py
|   |   â”œâ”€â”€ texinfo.py
|   |   â”œâ”€â”€ text.py
|   |   â””â”€â”€ xml.py
|   â”œâ”€â”€ cmd
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ build.py
|   |   â”œâ”€â”€ make_mode.py
|   |   â””â”€â”€ quickstart.py
|   â”œâ”€â”€ config.py
|   â”œâ”€â”€ deprecation.py
|   â”œâ”€â”€ directives
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ code.py
|   |   â”œâ”€â”€ other.py
|   |   â””â”€â”€ patches.py
|   â”œâ”€â”€ domains
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ c.py
|   |   â”œâ”€â”€ changeset.py
|   |   â”œâ”€â”€ citation.py
|   |   â”œâ”€â”€ cpp.py
|   |   â”œâ”€â”€ index.py
|   |   â”œâ”€â”€ javascript.py
|   |   â”œâ”€â”€ math.py
|   |   â”œâ”€â”€ python.py
|   |   â”œâ”€â”€ rst.py
|   |   â””â”€â”€ std.py
|   â”œâ”€â”€ environment
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ adapters
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ asset.py
|   |   |   â”œâ”€â”€ indexentries.py
|   |   |   â””â”€â”€ toctree.py
|   |   â””â”€â”€ collectors
|   |       â”œâ”€â”€ __init__.py
|   |       â”œâ”€â”€ asset.py
|   |       â”œâ”€â”€ dependencies.py
|   |       â”œâ”€â”€ metadata.py
|   |       â”œâ”€â”€ title.py
|   |       â””â”€â”€ toctree.py
|   â”œâ”€â”€ errors.py
|   â”œâ”€â”€ events.py
|   â”œâ”€â”€ ext
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ apidoc.py
|   |   â”œâ”€â”€ autodoc
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ directive.py
|   |   |   â”œâ”€â”€ importer.py
|   |   |   â”œâ”€â”€ mock.py
|   |   |   â”œâ”€â”€ preserve_defaults.py
|   |   |   â”œâ”€â”€ type_comment.py
|   |   |   â””â”€â”€ typehints.py
|   |   â”œâ”€â”€ autosectionlabel.py
|   |   â”œâ”€â”€ autosummary
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ generate.py
|   |   |   â””â”€â”€ templates
|   |   |       â””â”€â”€ autosummary
|   |   â”œâ”€â”€ coverage.py
|   |   â”œâ”€â”€ doctest.py
|   |   â”œâ”€â”€ duration.py
|   |   â”œâ”€â”€ extlinks.py
|   |   â”œâ”€â”€ githubpages.py
|   |   â”œâ”€â”€ graphviz.py
|   |   â”œâ”€â”€ ifconfig.py
|   |   â”œâ”€â”€ imgconverter.py
|   |   â”œâ”€â”€ imgmath.py
|   |   â”œâ”€â”€ inheritance_diagram.py
|   |   â”œâ”€â”€ intersphinx.py
|   |   â”œâ”€â”€ linkcode.py
|   |   â”œâ”€â”€ mathjax.py
|   |   â”œâ”€â”€ napoleon
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ docstring.py
|   |   |   â””â”€â”€ iterators.py
|   |   â”œâ”€â”€ todo.py
|   |   â””â”€â”€ viewcode.py
|   â”œâ”€â”€ extension.py
|   â”œâ”€â”€ highlighting.py
|   â”œâ”€â”€ io.py
|   â”œâ”€â”€ jinja2glue.py
|   â”œâ”€â”€ locale
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ ar
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ bg
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ bn
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ca
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cak
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cs
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ cy
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ da
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ de
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ el
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_FR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_GB
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ en_HK
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ eo
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ es
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ et
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ eu
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fa
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ fr_FR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ he
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hi_IN
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ hu
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ id
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ is
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ it
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ja
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ko
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ lt
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ lv
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ mk
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ nb_NO
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ne
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ nl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt_BR
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ pt_PT
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ro
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ru
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ si
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sk
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sl
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sq
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr@latin
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sr_RS
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ sv
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ta
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ te
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ tr
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ uk_UA
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ ur
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ vi
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ yue
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_CN
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_HK
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â”œâ”€â”€ zh_TW
|   |   |   â””â”€â”€ LC_MESSAGES
|   |   |       â””â”€â”€ sphinx.js
|   |   â””â”€â”€ zh_TW.Big5
|   |       â””â”€â”€ LC_MESSAGES
|   |           â””â”€â”€ sphinx.js
|   â”œâ”€â”€ parsers.py
|   â”œâ”€â”€ project.py
|   â”œâ”€â”€ pycode
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ ast.py
|   |   â””â”€â”€ parser.py
|   â”œâ”€â”€ pygments_styles.py
|   â”œâ”€â”€ registry.py
|   â”œâ”€â”€ roles.py
|   â”œâ”€â”€ search
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ da.py
|   |   â”œâ”€â”€ de.py
|   |   â”œâ”€â”€ en.py
|   |   â”œâ”€â”€ es.py
|   |   â”œâ”€â”€ fi.py
|   |   â”œâ”€â”€ fr.py
|   |   â”œâ”€â”€ hu.py
|   |   â”œâ”€â”€ it.py
|   |   â”œâ”€â”€ ja.py
|   |   â”œâ”€â”€ minified-js
|   |   |   â”œâ”€â”€ base-stemmer.js
|   |   |   â”œâ”€â”€ danish-stemmer.js
|   |   |   â”œâ”€â”€ dutch-stemmer.js
|   |   |   â”œâ”€â”€ finnish-stemmer.js
|   |   |   â”œâ”€â”€ french-stemmer.js
|   |   |   â”œâ”€â”€ german-stemmer.js
|   |   |   â”œâ”€â”€ hungarian-stemmer.js
|   |   |   â”œâ”€â”€ italian-stemmer.js
|   |   |   â”œâ”€â”€ norwegian-stemmer.js
|   |   |   â”œâ”€â”€ porter-stemmer.js
|   |   |   â”œâ”€â”€ portuguese-stemmer.js
|   |   |   â”œâ”€â”€ romanian-stemmer.js
|   |   |   â”œâ”€â”€ russian-stemmer.js
|   |   |   â”œâ”€â”€ spanish-stemmer.js
|   |   |   â”œâ”€â”€ swedish-stemmer.js
|   |   |   â””â”€â”€ turkish-stemmer.js
|   |   â”œâ”€â”€ nl.py
|   |   â”œâ”€â”€ no.py
|   |   â”œâ”€â”€ non-minified-js
|   |   |   â”œâ”€â”€ base-stemmer.js
|   |   |   â”œâ”€â”€ danish-stemmer.js
|   |   |   â”œâ”€â”€ dutch-stemmer.js
|   |   |   â”œâ”€â”€ finnish-stemmer.js
|   |   |   â”œâ”€â”€ french-stemmer.js
|   |   |   â”œâ”€â”€ german-stemmer.js
|   |   |   â”œâ”€â”€ hungarian-stemmer.js
|   |   |   â”œâ”€â”€ italian-stemmer.js
|   |   |   â”œâ”€â”€ norwegian-stemmer.js
|   |   |   â”œâ”€â”€ porter-stemmer.js
|   |   |   â”œâ”€â”€ portuguese-stemmer.js
|   |   |   â”œâ”€â”€ romanian-stemmer.js
|   |   |   â”œâ”€â”€ russian-stemmer.js
|   |   |   â”œâ”€â”€ spanish-stemmer.js
|   |   |   â”œâ”€â”€ swedish-stemmer.js
|   |   |   â””â”€â”€ turkish-stemmer.js
|   |   â”œâ”€â”€ pt.py
|   |   â”œâ”€â”€ ro.py
|   |   â”œâ”€â”€ ru.py
|   |   â”œâ”€â”€ sv.py
|   |   â”œâ”€â”€ tr.py
|   |   â””â”€â”€ zh.py
|   â”œâ”€â”€ setup_command.py
|   â”œâ”€â”€ templates
|   |   â”œâ”€â”€ apidoc
|   |   â”œâ”€â”€ epub3
|   |   â”œâ”€â”€ gettext
|   |   â”œâ”€â”€ graphviz
|   |   â”œâ”€â”€ htmlhelp
|   |   â”œâ”€â”€ imgmath
|   |   â”œâ”€â”€ latex
|   |   â”œâ”€â”€ quickstart
|   |   â””â”€â”€ texinfo
|   â”œâ”€â”€ testing
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ comparer.py
|   |   â”œâ”€â”€ fixtures.py
|   |   â”œâ”€â”€ path.py
|   |   â”œâ”€â”€ restructuredtext.py
|   |   â””â”€â”€ util.py
|   â”œâ”€â”€ texinputs
|   â”œâ”€â”€ texinputs_win
|   â”œâ”€â”€ themes
|   |   â”œâ”€â”€ agogo
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ basic
|   |   |   â”œâ”€â”€ changes
|   |   |   â””â”€â”€ static
|   |   |       â”œâ”€â”€ _sphinx_javascript_frameworks_compat.js
|   |   |       â”œâ”€â”€ doctools.js
|   |   |       â”œâ”€â”€ jquery-3.5.1.js
|   |   |       â”œâ”€â”€ jquery.js
|   |   |       â”œâ”€â”€ searchtools.js
|   |   |       â”œâ”€â”€ underscore-1.13.1.js
|   |   |       â””â”€â”€ underscore.js
|   |   â”œâ”€â”€ bizstyle
|   |   |   â””â”€â”€ static
|   |   |       â”œâ”€â”€ css3-mediaqueries.js
|   |   |       â””â”€â”€ css3-mediaqueries_src.js
|   |   â”œâ”€â”€ classic
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ default
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ epub
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ haiku
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ nature
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ nonav
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ pyramid
|   |   |   â””â”€â”€ static
|   |   â”œâ”€â”€ scrolls
|   |   |   â”œâ”€â”€ artwork
|   |   |   â””â”€â”€ static
|   |   |       â””â”€â”€ theme_extras.js
|   |   â”œâ”€â”€ sphinxdoc
|   |   |   â””â”€â”€ static
|   |   â””â”€â”€ traditional
|   |       â””â”€â”€ static
|   â”œâ”€â”€ theming.py
|   â”œâ”€â”€ transforms
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ compact_bullet_list.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ post_transforms
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â”œâ”€â”€ code.py
|   |   |   â””â”€â”€ images.py
|   |   â””â”€â”€ references.py
|   â”œâ”€â”€ util
|   |   â”œâ”€â”€ __init__.py
|   |   â”œâ”€â”€ build_phase.py
|   |   â”œâ”€â”€ cfamily.py
|   |   â”œâ”€â”€ compat.py
|   |   â”œâ”€â”€ console.py
|   |   â”œâ”€â”€ docfields.py
|   |   â”œâ”€â”€ docstrings.py
|   |   â”œâ”€â”€ docutils.py
|   |   â”œâ”€â”€ fileutil.py
|   |   â”œâ”€â”€ i18n.py
|   |   â”œâ”€â”€ images.py
|   |   â”œâ”€â”€ inspect.py
|   |   â”œâ”€â”€ inventory.py
|   |   â”œâ”€â”€ jsdump.py
|   |   â”œâ”€â”€ logging.py
|   |   â”œâ”€â”€ matching.py
|   |   â”œâ”€â”€ math.py
|   |   â”œâ”€â”€ nodes.py
|   |   â”œâ”€â”€ osutil.py
|   |   â”œâ”€â”€ parallel.py
|   |   â”œâ”€â”€ png.py
|   |   â”œâ”€â”€ pycompat.py
|   |   â”œâ”€â”€ requests.py
|   |   â”œâ”€â”€ rst.py
|   |   â”œâ”€â”€ smartypants.py
|   |   â”œâ”€â”€ stemmer
|   |   |   â”œâ”€â”€ __init__.py
|   |   |   â””â”€â”€ porter.py
|   |   â”œâ”€â”€ tags.py
|   |   â”œâ”€â”€ template.py
|   |   â”œâ”€â”€ texescape.py
|   |   â””â”€â”€ typing.py
|   â”œâ”€â”€ versioning.py
|   â””â”€â”€ writers
|       â”œâ”€â”€ __init__.py
|       â”œâ”€â”€ html.py
|       â”œâ”€â”€ html5.py
|       â”œâ”€â”€ latex.py
|       â”œâ”€â”€ manpage.py
|       â”œâ”€â”€ texinfo.py
|       â”œâ”€â”€ text.py
|       â””â”€â”€ xml.py
â”œâ”€â”€ tests
|   â”œâ”€â”€ __init__.py
|   â”œâ”€â”€ certs
|   â”œâ”€â”€ conftest.py
|   â”œâ”€â”€ ext_napoleon_pep526_data_google.py
|   â”œâ”€â”€ ext_napoleon_pep526_data_numpy.py
|   â”œâ”€â”€ js
|   |   â”œâ”€â”€ doctools.js
|   |   â””â”€â”€ searchtools.js
|   â”œâ”€â”€ roots
|   |   â”œâ”€â”€ test-add_enumerable_node
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ enumerable_node.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-add_source_parser
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ source_parser.py
|   |   â”œâ”€â”€ test-add_source_parser-conflicts-with-users-setting
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ source_parser.py
|   |   â”œâ”€â”€ test-api-set-translator
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ nonext
|   |   |   |   â””â”€â”€ conf.py
|   |   |   â””â”€â”€ translator.py
|   |   â”œâ”€â”€ test-apidoc-duplicates
|   |   |   â””â”€â”€ fish_licence
|   |   â”œâ”€â”€ test-apidoc-pep420
|   |   |   â””â”€â”€ a
|   |   |       â””â”€â”€ b
|   |   â”œâ”€â”€ test-apidoc-subpackage-in-toc
|   |   |   â””â”€â”€ parent
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ child
|   |   â”œâ”€â”€ test-apidoc-toc
|   |   |   â””â”€â”€ mypackage
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ main.py
|   |   |       â”œâ”€â”€ no_init
|   |   |       â”œâ”€â”€ resource
|   |   |       â””â”€â”€ something
|   |   â”œâ”€â”€ test-apidoc-trailing-underscore
|   |   |   â””â”€â”€ package_
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ module_.py
|   |   â”œâ”€â”€ test-autosummary
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dummy_module.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ sphinx.rst
|   |   |   â””â”€â”€ underscore_module_.py
|   |   â”œâ”€â”€ test-basic
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-build-html-translator
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-build-text
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ doc1.txt
|   |   |   â”œâ”€â”€ doc2.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ lineblock.txt
|   |   |   â”œâ”€â”€ listitems.txt
|   |   |   â”œâ”€â”€ maxwidth.txt
|   |   |   â”œâ”€â”€ nonascii_maxwidth.txt
|   |   |   â”œâ”€â”€ nonascii_table.txt
|   |   |   â”œâ”€â”€ nonascii_title.txt
|   |   |   â”œâ”€â”€ table.txt
|   |   |   â”œâ”€â”€ table_colspan.txt
|   |   |   â”œâ”€â”€ table_colspan_and_rowspan.txt
|   |   |   â”œâ”€â”€ table_colspan_left.txt
|   |   |   â””â”€â”€ table_rowspan.txt
|   |   â”œâ”€â”€ test-builder-dirhtml
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo
|   |   |   |   â”œâ”€â”€ foo_1.rst
|   |   |   |   â”œâ”€â”€ foo_2.rst
|   |   |   |   â””â”€â”€ index.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-builder-gettext-dont-rebuild-mo
|   |   |   â”œâ”€â”€ bom.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ xx
|   |   |       â””â”€â”€ LC_MESSAGES
|   |   â”œâ”€â”€ test-changes
|   |   |   â”œâ”€â”€ base.rst
|   |   |   â”œâ”€â”€ c-api.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ contents.rst
|   |   |   â””â”€â”€ library
|   |   |       â””â”€â”€ utils.rst
|   |   â”œâ”€â”€ test-circular
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ sub.rst
|   |   â”œâ”€â”€ test-config
|   |   |   â””â”€â”€ conf.py
|   |   â”œâ”€â”€ test-correct-year
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-default_role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-directive-code
|   |   |   â”œâ”€â”€ caption.rst
|   |   |   â”œâ”€â”€ classes.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dedent.rst
|   |   |   â”œâ”€â”€ emphasize.rst
|   |   |   â”œâ”€â”€ force.rst
|   |   |   â”œâ”€â”€ highlight.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ linenos.rst
|   |   |   â”œâ”€â”€ linenothreshold.rst
|   |   |   â”œâ”€â”€ namedblocks.rst
|   |   |   â”œâ”€â”€ py-decorators.rst
|   |   |   â”œâ”€â”€ python.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-directive-csv-table
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ subdir
|   |   â”œâ”€â”€ test-directive-only
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ only.rst
|   |   â”œâ”€â”€ test-directives-raw
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-docutilsconf
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-c
|   |   |   â”œâ”€â”€ anon-dup-decl.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ field-role.rst
|   |   |   â”œâ”€â”€ function_param_target.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ namespace.rst
|   |   |   â””â”€â”€ ns_lookup.rst
|   |   â”œâ”€â”€ test-domain-c-intersphinx
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-cpp
|   |   |   â”œâ”€â”€ anon-dup-decl.rst
|   |   |   â”œâ”€â”€ any-role.rst
|   |   |   â”œâ”€â”€ backslash.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ field-role.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ lookup-key-overload.rst
|   |   |   â”œâ”€â”€ multi-decl-lookup.rst
|   |   |   â”œâ”€â”€ roles-targets-ok.rst
|   |   |   â”œâ”€â”€ roles-targets-warn.rst
|   |   |   â”œâ”€â”€ roles.rst
|   |   |   â”œâ”€â”€ roles2.rst
|   |   |   â”œâ”€â”€ semicolon.rst
|   |   |   â”œâ”€â”€ warn-template-param-qualified-name.rst
|   |   |   â””â”€â”€ xref_consistency.rst
|   |   â”œâ”€â”€ test-domain-cpp-intersphinx
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-js
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ module.rst
|   |   |   â””â”€â”€ roles.rst
|   |   â”œâ”€â”€ test-domain-py
|   |   |   â”œâ”€â”€ abbr.rst
|   |   |   â”œâ”€â”€ canonical.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ module.rst
|   |   |   â”œâ”€â”€ module_option.rst
|   |   |   â””â”€â”€ roles.rst
|   |   â”œâ”€â”€ test-domain-py-python_use_unqualified_type_names
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-domain-py-xref-warning
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-double-inheriting-theme
|   |   |   â”œâ”€â”€ base_themes_dir
|   |   |   |   â”œâ”€â”€ base_theme1
|   |   |   |   â””â”€â”€ base_theme2
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-epub-anchor-id
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autodoc
|   |   |   â”œâ”€â”€ autodoc_dummy_bar.py
|   |   |   â”œâ”€â”€ autodoc_dummy_module.py
|   |   |   â”œâ”€â”€ bug2437
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ autodoc_dummy_foo.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target
|   |   |       â”œâ”€â”€ TYPE_CHECKING.py
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ abstractmethods.py
|   |   |       â”œâ”€â”€ annotated.py
|   |   |       â”œâ”€â”€ autoclass_content.py
|   |   |       â”œâ”€â”€ autodoc_type_aliases.py
|   |   |       â”œâ”€â”€ bound_method.py
|   |   |       â”œâ”€â”€ cached_property.py
|   |   |       â”œâ”€â”€ callable.py
|   |   |       â”œâ”€â”€ canonical
|   |   |       â”œâ”€â”€ classes.py
|   |   |       â”œâ”€â”€ coroutine.py
|   |   |       â”œâ”€â”€ decorator.py
|   |   |       â”œâ”€â”€ descriptor.py
|   |   |       â”œâ”€â”€ docstring_signature.py
|   |   |       â”œâ”€â”€ empty_all.py
|   |   |       â”œâ”€â”€ enums.py
|   |   |       â”œâ”€â”€ final.py
|   |   |       â”œâ”€â”€ functions.py
|   |   |       â”œâ”€â”€ generic_class.py
|   |   |       â”œâ”€â”€ genericalias.py
|   |   |       â”œâ”€â”€ hide_value.py
|   |   |       â”œâ”€â”€ imported_members.py
|   |   |       â”œâ”€â”€ inheritance.py
|   |   |       â”œâ”€â”€ instance_variable.py
|   |   |       â”œâ”€â”€ metadata.py
|   |   |       â”œâ”€â”€ methods.py
|   |   |       â”œâ”€â”€ module.py
|   |   |       â”œâ”€â”€ name_conflict
|   |   |       â”œâ”€â”€ name_mangling.py
|   |   |       â”œâ”€â”€ need_mocks.py
|   |   |       â”œâ”€â”€ overload.py
|   |   |       â”œâ”€â”€ overload2.py
|   |   |       â”œâ”€â”€ partialfunction.py
|   |   |       â”œâ”€â”€ partialmethod.py
|   |   |       â”œâ”€â”€ pep570.py
|   |   |       â”œâ”€â”€ pep604.py
|   |   |       â”œâ”€â”€ preserve_defaults.py
|   |   |       â”œâ”€â”€ private.py
|   |   |       â”œâ”€â”€ process_docstring.py
|   |   |       â”œâ”€â”€ properties.py
|   |   |       â”œâ”€â”€ singledispatch.py
|   |   |       â”œâ”€â”€ singledispatchmethod.py
|   |   |       â”œâ”€â”€ slots.py
|   |   |       â”œâ”€â”€ sort_by_all.py
|   |   |       â”œâ”€â”€ typed_vars.py
|   |   |       â”œâ”€â”€ typehints.py
|   |   |       â”œâ”€â”€ typevar.py
|   |   |       â”œâ”€â”€ uninitialized_attributes.py
|   |   |       â””â”€â”€ wrappedfunction.py
|   |   â”œâ”€â”€ test-ext-autosectionlabel
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosectionlabel-prefix-document
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary
|   |   |   â”œâ”€â”€ autosummary_class_module.py
|   |   |   â”œâ”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ autosummary_importfail.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-filename-map
|   |   |   â”œâ”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-imported_members
|   |   |   â”œâ”€â”€ autosummary_dummy_package
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ autosummary_dummy_module.py
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-mock_imports
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-autosummary-recursive
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ package
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ module.py
|   |   |   |   â”œâ”€â”€ module_importfail.py
|   |   |   |   â””â”€â”€ package
|   |   |   â””â”€â”€ package2
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ module.py
|   |   â”œâ”€â”€ test-ext-autosummary-skip-member
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-ext-autosummary-template
|   |   |   â”œâ”€â”€ _templates
|   |   |   |   â””â”€â”€ empty.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ target.py
|   |   â”œâ”€â”€ test-ext-coverage
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ coverage_ignored.py
|   |   |   â”œâ”€â”€ coverage_not_ignored.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-doctest
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ doctest.txt
|   |   â”œâ”€â”€ test-ext-doctest-skipif
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ skipif.txt
|   |   â”œâ”€â”€ test-ext-doctest-with-autodoc
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ dir
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ bar.py
|   |   |   |   â””â”€â”€ inner.rst
|   |   |   â”œâ”€â”€ foo.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-extlinks-hardcoded-urls
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-extlinks-hardcoded-urls-multiple-replacements
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-githubpages
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-graphviz
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-ifconfig
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-imgconverter
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-inheritance_diagram
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ example
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â””â”€â”€ sphinx.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ test.py
|   |   â”œâ”€â”€ test-ext-intersphinx-cppdomain
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-intersphinx-role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-math
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ math.rst
|   |   |   â”œâ”€â”€ nomath.rst
|   |   |   â””â”€â”€ page.rst
|   |   â”œâ”€â”€ test-ext-math-compat
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-math-simple
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-todo
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-ext-viewcode
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ objects.rst
|   |   |   â””â”€â”€ spam
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ mod1.py
|   |   |       â”œâ”€â”€ mod2.py
|   |   |       â””â”€â”€ mod3.py
|   |   â”œâ”€â”€ test-ext-viewcode-find
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ not_a_package
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â””â”€â”€ submodule.py
|   |   â”œâ”€â”€ test-extensions
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ read_parallel.py
|   |   |   â”œâ”€â”€ read_serial.py
|   |   |   â”œâ”€â”€ write_parallel.py
|   |   |   â””â”€â”€ write_serial.py
|   |   â”œâ”€â”€ test-footnotes
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-gettext-template
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-glossary
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-highlight_options
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_assets
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ extra
|   |   |   |   â”œâ”€â”€ css
|   |   |   |   â”œâ”€â”€ index.rst
|   |   |   |   â””â”€â”€ subdir
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ static
|   |   |   |   â”œâ”€â”€ css
|   |   |   |   â”œâ”€â”€ index.rst
|   |   |   |   â”œâ”€â”€ js
|   |   |   |   â””â”€â”€ subdir
|   |   |   â””â”€â”€ subdir
|   |   |       â””â”€â”€ _build
|   |   â”œâ”€â”€ test-html_entity
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_scaled_image_link
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_signaturereturn_icon
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-html_style
|   |   |   â”œâ”€â”€ _static
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-image-in-parsed-literal
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-image-in-section
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-images
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ subdir
|   |   |       â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-index_on_title
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ contents.rst
|   |   â”œâ”€â”€ test-inheritance
|   |   |   â”œâ”€â”€ basic_diagram.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ diagram_module_w_2_top_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_1_top_class.rst
|   |   |   â”œâ”€â”€ diagram_w_2_top_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_nested_classes.rst
|   |   |   â”œâ”€â”€ diagram_w_parts.rst
|   |   |   â”œâ”€â”€ dummy
|   |   |   |   â”œâ”€â”€ __init__.py
|   |   |   |   â”œâ”€â”€ test.py
|   |   |   |   â””â”€â”€ test_nested.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-intl
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ admonitions.txt
|   |   |   â”œâ”€â”€ bom.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ definition_terms.txt
|   |   |   â”œâ”€â”€ docfields.txt
|   |   |   â”œâ”€â”€ external_links.txt
|   |   |   â”œâ”€â”€ figure.txt
|   |   |   â”œâ”€â”€ footnote.txt
|   |   |   â”œâ”€â”€ glossary_terms.txt
|   |   |   â”œâ”€â”€ glossary_terms_inconsistency.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ index_entries.txt
|   |   |   â”œâ”€â”€ label_target.txt
|   |   |   â”œâ”€â”€ literalblock.txt
|   |   |   â”œâ”€â”€ noqa.txt
|   |   |   â”œâ”€â”€ only.txt
|   |   |   â”œâ”€â”€ raw.txt
|   |   |   â”œâ”€â”€ refs.txt
|   |   |   â”œâ”€â”€ refs_inconsistency.txt
|   |   |   â”œâ”€â”€ refs_python_domain.txt
|   |   |   â”œâ”€â”€ role_xref.txt
|   |   |   â”œâ”€â”€ rubric.txt
|   |   |   â”œâ”€â”€ section.txt
|   |   |   â”œâ”€â”€ seealso.txt
|   |   |   â”œâ”€â”€ subdir
|   |   |   |   â””â”€â”€ index.txt
|   |   |   â”œâ”€â”€ table.txt
|   |   |   â”œâ”€â”€ toctree.txt
|   |   |   â”œâ”€â”€ topic.txt
|   |   |   â”œâ”€â”€ versionchange.txt
|   |   |   â”œâ”€â”€ warnings.txt
|   |   |   â””â”€â”€ xx
|   |   |       â””â”€â”€ LC_MESSAGES
|   |   â”œâ”€â”€ test-keep_warnings
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-babel
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-container
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-equations
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ equations.rst
|   |   |   â””â”€â”€ expects
|   |   â”œâ”€â”€ test-latex-figure-in-admonition
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-includegraphics
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-index
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-labels
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ otherdoc.rst
|   |   â”œâ”€â”€ test-latex-numfig
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ indexhowto.rst
|   |   |   â””â”€â”€ indexmanual.rst
|   |   â”œâ”€â”€ test-latex-table
|   |   |   â”œâ”€â”€ _mytemplates
|   |   |   |   â””â”€â”€ latex
|   |   |   â”œâ”€â”€ complex.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ expects
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ longtable.rst
|   |   |   â””â”€â”€ tabular.rst
|   |   â”œâ”€â”€ test-latex-theme
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ theme
|   |   |       â””â”€â”€ custom
|   |   â”œâ”€â”€ test-latex-title
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-latex-unicode
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ links.txt
|   |   â”œâ”€â”€ test-linkcheck-documents_exclude
|   |   |   â”œâ”€â”€ br0ken_link.rst
|   |   |   â”œâ”€â”€ broken_link.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-anchor
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-https
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-linkcheck-localserver-warn-redirects
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-local-logo
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ images
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-locale
|   |   |   â”œâ”€â”€ locale1
|   |   |   |   â””â”€â”€ en
|   |   |   â””â”€â”€ locale2
|   |   |       â””â”€â”€ en
|   |   â”œâ”€â”€ test-manpage_url
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-markup-citation
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-markup-rubric
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-maxlistdepth
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-metadata
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-need-escaped
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â””â”€â”€ qux.rst
|   |   â”œâ”€â”€ test-nested-enumerated-list
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-nested-tables
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-nitpicky-warnings
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-numbered-circular
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ sub.rst
|   |   â”œâ”€â”€ test-numfig
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-productionlist
|   |   |   â”œâ”€â”€ Bare.rst
|   |   |   â”œâ”€â”€ Dup1.rst
|   |   |   â”œâ”€â”€ Dup2.rst
|   |   |   â”œâ”€â”€ LineContinuation.rst
|   |   |   â”œâ”€â”€ P1.rst
|   |   |   â”œâ”€â”€ P2.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ firstLineRule.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-prolog
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ markdown.md
|   |   |   â”œâ”€â”€ prolog_markdown_parser.py
|   |   |   â””â”€â”€ restructuredtext.rst
|   |   â”œâ”€â”€ test-pycode
|   |   |   â””â”€â”€ cp_1251_coded.py
|   |   â”œâ”€â”€ test-pycode-egg
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ src
|   |   |       â”œâ”€â”€ sample.py
|   |   |       â””â”€â”€ setup.py
|   |   â”œâ”€â”€ test-reST-code-block
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-reST-code-role
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-refonly_bullet_list
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-remote-logo
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-roles-download
|   |   |   â”œâ”€â”€ another
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-root
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ autodoc.txt
|   |   |   â”œâ”€â”€ autodoc_target.py
|   |   |   â”œâ”€â”€ bom.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ extapi.txt
|   |   |   â”œâ”€â”€ extensions.txt
|   |   |   â”œâ”€â”€ footnote.txt
|   |   |   â”œâ”€â”€ images.txt
|   |   |   â”œâ”€â”€ includes.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ lists.txt
|   |   |   â”œâ”€â”€ markup.txt
|   |   |   â”œâ”€â”€ math.txt
|   |   |   â”œâ”€â”€ objects.txt
|   |   |   â”œâ”€â”€ parsermod.py
|   |   |   â”œâ”€â”€ special
|   |   |   |   â””â”€â”€ code.py
|   |   |   â””â”€â”€ subdir
|   |   |       â”œâ”€â”€ excluded.txt
|   |   |       â”œâ”€â”€ images.txt
|   |   |       â””â”€â”€ includes.txt
|   |   â”œâ”€â”€ test-search
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ nosearch.rst
|   |   |   â””â”€â”€ tocitem.rst
|   |   â”œâ”€â”€ test-setup
|   |   |   â”œâ”€â”€ doc
|   |   |   |   â”œâ”€â”€ conf.py
|   |   |   |   â””â”€â”€ index.txt
|   |   |   â””â”€â”€ setup.py
|   |   â”œâ”€â”€ test-smartquotes
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ literals.rst
|   |   â”œâ”€â”€ test-stylesheets
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-templating
|   |   |   â”œâ”€â”€ _templates
|   |   |   |   â””â”€â”€ autosummary
|   |   |   â”œâ”€â”€ autosummary_templating.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.txt
|   |   â”œâ”€â”€ test-theming
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ setup.py
|   |   |   â””â”€â”€ test_theme
|   |   |       â”œâ”€â”€ __init__.py
|   |   |       â”œâ”€â”€ staticfiles
|   |   |       â””â”€â”€ test-theme
|   |   â”œâ”€â”€ test-tocdepth
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â”œâ”€â”€ qux.rst
|   |   |   â””â”€â”€ tocdepth.rst
|   |   â”œâ”€â”€ test-toctree-duplicated
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree-empty
|   |   |   â”œâ”€â”€ _templates
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-toctree-glob
|   |   |   â”œâ”€â”€ bar
|   |   |   |   â”œâ”€â”€ bar_1.rst
|   |   |   |   â”œâ”€â”€ bar_2.rst
|   |   |   |   â”œâ”€â”€ bar_3.rst
|   |   |   |   â”œâ”€â”€ bar_4
|   |   |   |   â””â”€â”€ index.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â”œâ”€â”€ quux.rst
|   |   |   â””â”€â”€ qux
|   |   |       â”œâ”€â”€ index.rst
|   |   |       â”œâ”€â”€ qux_1.rst
|   |   |       â””â”€â”€ qux_2.rst
|   |   â”œâ”€â”€ test-toctree-maxdepth
|   |   |   â”œâ”€â”€ bar.rst
|   |   |   â”œâ”€â”€ baz.rst
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ foo.rst
|   |   |   â”œâ”€â”€ index.rst
|   |   |   â””â”€â”€ qux.rst
|   |   â”œâ”€â”€ test-transforms-post_transforms-missing-reference
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-trim_doctest_flags
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â””â”€â”€ index.rst
|   |   â”œâ”€â”€ test-versioning
|   |   |   â”œâ”€â”€ added.txt
|   |   |   â”œâ”€â”€ conf.py
|   |   |   â”œâ”€â”€ deleted.txt
|   |   |   â”œâ”€â”€ deleted_end.txt
|   |   |   â”œâ”€â”€ index.txt
|   |   |   â”œâ”€â”€ insert.txt
|   |   |   â”œâ”€â”€ insert_beginning.txt
|   |   |   â”œâ”€â”€ insert_similar.txt
|   |   |   â”œâ”€â”€ modified.txt
|   |   |   â””â”€â”€ original.txt
|   |   â””â”€â”€ test-warnings
|   |       â”œâ”€â”€ autodoc_fodder.py
|   |       â”œâ”€â”€ conf.py
|   |       â”œâ”€â”€ index.rst
|   |       â””â”€â”€ undecodable.rst
|   â”œâ”€â”€ test_api_translator.py
|   â”œâ”€â”€ test_application.py
|   â”œâ”€â”€ test_build.py
|   â”œâ”€â”€ test_build_changes.py
|   â”œâ”€â”€ test_build_dirhtml.py
|   â”œâ”€â”€ test_build_epub.py
|   â”œâ”€â”€ test_build_gettext.py
|   â”œâ”€â”€ test_build_html.py
|   â”œâ”€â”€ test_build_latex.py
|   â”œâ”€â”€ test_build_linkcheck.py
|   â”œâ”€â”€ test_build_manpage.py
|   â”œâ”€â”€ test_build_texinfo.py
|   â”œâ”€â”€ test_build_text.py
|   â”œâ”€â”€ test_builder.py
|   â”œâ”€â”€ test_catalogs.py
|   â”œâ”€â”€ test_config.py
|   â”œâ”€â”€ test_correct_year.py
|   â”œâ”€â”€ test_directive_code.py
|   â”œâ”€â”€ test_directive_only.py
|   â”œâ”€â”€ test_directive_other.py
|   â”œâ”€â”€ test_directive_patch.py
|   â”œâ”€â”€ test_docutilsconf.py
|   â”œâ”€â”€ test_domain_c.py
|   â”œâ”€â”€ test_domain_cpp.py
|   â”œâ”€â”€ test_domain_js.py
|   â”œâ”€â”€ test_domain_py.py
|   â”œâ”€â”€ test_domain_rst.py
|   â”œâ”€â”€ test_domain_std.py
|   â”œâ”€â”€ test_environment.py
|   â”œâ”€â”€ test_environment_indexentries.py
|   â”œâ”€â”€ test_environment_toctree.py
|   â”œâ”€â”€ test_errors.py
|   â”œâ”€â”€ test_events.py
|   â”œâ”€â”€ test_ext_apidoc.py
|   â”œâ”€â”€ test_ext_autodoc.py
|   â”œâ”€â”€ test_ext_autodoc_autoattribute.py
|   â”œâ”€â”€ test_ext_autodoc_autoclass.py
|   â”œâ”€â”€ test_ext_autodoc_autodata.py
|   â”œâ”€â”€ test_ext_autodoc_autofunction.py
|   â”œâ”€â”€ test_ext_autodoc_automodule.py
|   â”œâ”€â”€ test_ext_autodoc_autoproperty.py
|   â”œâ”€â”€ test_ext_autodoc_configs.py
|   â”œâ”€â”€ test_ext_autodoc_events.py
|   â”œâ”€â”€ test_ext_autodoc_mock.py
|   â”œâ”€â”€ test_ext_autodoc_preserve_defaults.py
|   â”œâ”€â”€ test_ext_autodoc_private_members.py
|   â”œâ”€â”€ test_ext_autosectionlabel.py
|   â”œâ”€â”€ test_ext_autosummary.py
|   â”œâ”€â”€ test_ext_coverage.py
|   â”œâ”€â”€ test_ext_doctest.py
|   â”œâ”€â”€ test_ext_duration.py
|   â”œâ”€â”€ test_ext_extlinks.py
|   â”œâ”€â”€ test_ext_githubpages.py
|   â”œâ”€â”€ test_ext_graphviz.py
|   â”œâ”€â”€ test_ext_ifconfig.py
|   â”œâ”€â”€ test_ext_imgconverter.py
|   â”œâ”€â”€ test_ext_inheritance_diagram.py
|   â”œâ”€â”€ test_ext_intersphinx.py
|   â”œâ”€â”€ test_ext_math.py
|   â”œâ”€â”€ test_ext_napoleon.py
|   â”œâ”€â”€ test_ext_napoleon_docstring.py
|   â”œâ”€â”€ test_ext_napoleon_iterators.py
|   â”œâ”€â”€ test_ext_todo.py
|   â”œâ”€â”€ test_ext_viewcode.py
|   â”œâ”€â”€ test_extension.py
|   â”œâ”€â”€ test_highlighting.py
|   â”œâ”€â”€ test_intl.py
|   â”œâ”€â”€ test_locale.py
|   â”œâ”€â”€ test_markup.py
|   â”œâ”€â”€ test_metadata.py
|   â”œâ”€â”€ test_parser.py
|   â”œâ”€â”€ test_project.py
|   â”œâ”€â”€ test_pycode.py
|   â”œâ”€â”€ test_pycode_ast.py
|   â”œâ”€â”€ test_pycode_parser.py
|   â”œâ”€â”€ test_quickstart.py
|   â”œâ”€â”€ test_roles.py
|   â”œâ”€â”€ test_search.py
|   â”œâ”€â”€ test_setup_command.py
|   â”œâ”€â”€ test_smartquotes.py
|   â”œâ”€â”€ test_templating.py
|   â”œâ”€â”€ test_theming.py
|   â”œâ”€â”€ test_toctree.py
|   â”œâ”€â”€ test_transforms_post_transforms.py
|   â”œâ”€â”€ test_transforms_post_transforms_code.py
|   â”œâ”€â”€ test_util.py
|   â”œâ”€â”€ test_util_docstrings.py
|   â”œâ”€â”€ test_util_docutils.py
|   â”œâ”€â”€ test_util_fileutil.py
|   â”œâ”€â”€ test_util_i18n.py
|   â”œâ”€â”€ test_util_images.py
|   â”œâ”€â”€ test_util_inspect.py
|   â”œâ”€â”€ test_util_inventory.py
|   â”œâ”€â”€ test_util_jsdump.py
|   â”œâ”€â”€ test_util_logging.py
|   â”œâ”€â”€ test_util_matching.py
|   â”œâ”€â”€ test_util_nodes.py
|   â”œâ”€â”€ test_util_rst.py
|   â”œâ”€â”€ test_util_template.py
|   â”œâ”€â”€ test_util_typing.py
|   â”œâ”€â”€ test_versioning.py
|   â”œâ”€â”€ test_writer_latex.py
|   â”œâ”€â”€ typing_test_data.py
|   â””â”€â”€ utils.py
â””â”€â”€ utils
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ babel_runner.py
    â”œâ”€â”€ bump_docker.sh
    â”œâ”€â”€ bump_version.py
    â””â”€â”€ doclinter.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
LaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output

Issue description: 
### Describe the bug

The #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.

Example
```
Inline \sphinxcode{\sphinxupquote{ <--- this produces a space in output
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass} <-- here also
}} code block

```

a priori, mark-up should be:
```
Inline \sphinxcode{\sphinxupquote{%
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass}%
}} code block
```

But I have no no strong opinion if good or bad. See screenshots.

### How to Reproduce

```
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block

.. code-block:: python

   def foo(1 + 2 + None + "abc"): pass
```

in `index.rst` and `make latexpdf`.

### Expected behavior

_No response_

### Your project

extracted from test_build_latex.py

### Screenshots

with current:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)

if space characters removed from `.tex` file produced by LaTeX writer:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)

For comparison prior to #10251 merge:
![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)

### OS

Mac

### Python version

3.9

### Sphinx version

5.x

### Sphinx extensions

_No response_

### Extra tools

_No response_

### Additional context

Relates #10251

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/test_directive_code.py
Line number range: 379 - 387
Content:
379. @pytest.mark.sphinx('latex', testroot='directive-code')
380. def test_code_block_emphasize_latex(app, status, warning):
381.     app.builder.build(['emphasize'])
382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
383.     includes = '\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\n'
384.     assert includes in latex
385.     includes = '\\end{sphinxVerbatim}\n\\sphinxresetverbatimhllines\n'
386.     assert includes in latex
387. 


File: tests/test_directive_code.py
Line number range: 443 - 455
Content:
443. @pytest.mark.sphinx('latex', testroot='directive-code')
444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):
445.     app.builder.build_all()
446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
447.     includes = (
448.         '\\begin{sphinxVerbatim}'
449.         '[commandchars=\\\\\\{\\},numbers=left,firstnumber=1,stepnumber=1]\n'
450.         '\n'
451.         '\n'
452.         '\n'
453.         '\\end{sphinxVerbatim}\n')
454.     assert includes in latex
455. 


File: tests/test_build_latex.py
Line number range: 283 - 318
Content:
283. @pytest.mark.sphinx('latex', testroot='numfig',
284.                     confoverrides={'numfig': True})
285. def test_numref(app, status, warning):
286.     app.builder.build_all()
287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
288.     print(result)
289.     print(status.getvalue())
290.     print(warning.getvalue())
291.     assert ('\\hyperref[\\detokenize{index:fig1}]'
292.             '{Fig.\\@ \\ref{\\detokenize{index:fig1}}}') in result
293.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
294.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
295.     assert ('\\hyperref[\\detokenize{index:table-1}]'
296.             '{Table \\ref{\\detokenize{index:table-1}}}') in result
297.     assert ('\\hyperref[\\detokenize{baz:table22}]'
298.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
299.     assert ('\\hyperref[\\detokenize{index:code-1}]'
300.             '{Listing \\ref{\\detokenize{index:code-1}}}') in result
301.     assert ('\\hyperref[\\detokenize{baz:code22}]'
302.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
303.     assert ('\\hyperref[\\detokenize{foo:foo}]'
304.             '{Section \\ref{\\detokenize{foo:foo}}}') in result
305.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
306.             '{Section \\ref{\\detokenize{bar:bar-a}}}') in result
307.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
308.             '\\nameref{\\detokenize{index:fig1}}}') in result
309.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
310.             '\\nameref{\\detokenize{foo:foo}}}') in result
311. 
312.     # sphinxmessages.sty
313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
314.     print(result)
315.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@{} }}' in result
316.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Table }}' in result
317.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}' in result
318. 


File: tests/test_directive_code.py
Line number range: 349 - 360
Content:
349. @pytest.mark.sphinx('latex', testroot='directive-code')
350. def test_code_block_caption_latex(app, status, warning):
351.     app.builder.build_all()
352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
353.     caption = '\\sphinxSetupCaptionForVerbatim{caption \\sphinxstyleemphasis{test} rb}'
354.     label = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:id1}}}'
355.     link = '\\hyperref[\\detokenize{caption:name-test-rb}]' \
356.            '{Listing \\ref{\\detokenize{caption:name-test-rb}}}'
357.     assert caption in latex
358.     assert label in latex
359.     assert link in latex
360. 


File: tests/test_build_latex.py
Line number range: 134 - 145
Content:
134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)
135. def test_latex_warnings(app, status, warning):
136.     app.builder.build_all()
137. 
138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))
139.     warnings_exp = LATEX_WARNINGS % {
140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}
141.     assert re.match(warnings_exp + '$', warnings), \
142.         'Warnings don\'t match:\n' + \
143.         '--- Expected (regex):\n' + warnings_exp + \
144.         '--- Got:\n' + warnings
145. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-04 12:33:38,012 - thread-139911184823872.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning="1. The user wants to find 5 test cases related to a bug in the LaTeX output of inline code highlighting.\n2. The bug is about extra whitespace being added at the start and end of the rendered code. This is a very specific output detail.\n3. The provided context contains test snippets from `tests/test_build_latex.py` and `tests/test_directive_code.py`.\n4. However, these snippets test block-level code directives like `code-block` and `literalinclude`, or features like `numref` and captions, not the rendering of the inline `code` role itself.\n5. The bug is specifically in the inline `code` role. To find relevant tests, I need to see tests that check the generated LaTeX for inline code. This information is not in the current context.\n6. The bug report mentions that the example is 'extracted from test_build_latex.py', which strongly suggests relevant tests exist in that file." refined_query="Please provide the full content of `tests/test_build_latex.py` and `tests/test_directive_code.py`. I need to find test cases that specifically test the LaTeX output of the inline `code` role to find examples relevant to the user's bug report about whitespace."
2025-10-04 12:33:42,441 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the full contents of `tests/test_build_latex.py` and `tests/test_directive_code.py` to help you find test cases related to LaTeX output of the inline `code` role. This will allow you to examine the files for relevant examples to address the user's bug report about whitespace." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/test_directive_code.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 18365, 'candidates_token_count': 116, 'total_token_count': 18675, 'prompt_tokens_details': [{'modality': 1, 'token_count': 18365}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 116}], 'thoughts_token_count': 194, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0870941342978642, 'model_name': 'gemini-2.5-pro'} id='run--2a187108-85cc-4c66-9190-c9734906a18b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_build_latex.py'}, 'id': '224ad3ea-050e-4dcf-9d9c-30a3d6b3e415', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_directive_code.py'}, 'id': '22311613-2d03-4d12-b684-9646ba816fa3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18365, 'output_tokens': 116, 'total_tokens': 18675, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 194}}
2025-10-04 12:33:46,958 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of both `tests/test_build_latex.py` and `tests/test_directive_code.py`. My next step is to analyze these files to locate test cases that are relevant to the LaTeX output of the inline `code` role, which will help in addressing the user\'s bug report concerning whitespace. I will start by searching for "code-block" in `tests/test_build_latex.py` and then look for the `code` role in `tests/test_directive_code.py`.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "code-block", "relative_path": "tests/test_build_latex.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 36535, 'candidates_token_count': 150, 'total_token_count': 36852, 'cached_content_token_count': 17220, 'prompt_tokens_details': [{'modality': 1, 'token_count': 36535}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17220}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 150}], 'thoughts_token_count': 167}, 'finish_reason': 'STOP', 'avg_logprobs': -0.14488792419433594, 'model_name': 'gemini-2.5-pro'} id='run--64d714ea-6b6e-4d95-912e-572da6dddca4-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'code-block', 'relative_path': 'tests/test_build_latex.py'}, 'id': 'b2692ef6-5937-4867-9ce6-7c23ff0761eb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 36535, 'output_tokens': 150, 'total_tokens': 36852, 'input_token_details': {'cache_read': 17220}, 'output_token_details': {'reasoning': 167}}
2025-10-04 12:33:51,167 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have analyzed `tests/test_build_latex.py` and found three test cases (`test_latex_labels`, `test_numref_with_prefix1`, and `test_numref_with_prefix2`) that are relevant to LaTeX output of code blocks. To further investigate the user's bug report about whitespace in the inline `code` role, I will now examine `tests/test_directive_code.py`. This will help me find more specific examples of how the inline `code` role is tested." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "code-block", "relative_path": "tests/test_directive_code.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 39182, 'candidates_token_count': 147, 'total_token_count': 39473, 'cached_content_token_count': 36100, 'prompt_tokens_details': [{'modality': 1, 'token_count': 39182}], 'cache_tokens_details': [{'modality': 1, 'token_count': 36100}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 147}], 'thoughts_token_count': 144}, 'finish_reason': 'STOP', 'avg_logprobs': -0.08594800988022162, 'model_name': 'gemini-2.5-pro'} id='run--691f0d21-fd11-4219-a435-b273de1d826f-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'code-block', 'relative_path': 'tests/test_directive_code.py'}, 'id': '07a32fe6-2a93-42ad-947e-5c989e73ff19', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39182, 'output_tokens': 147, 'total_tokens': 39473, 'input_token_details': {'cache_read': 36100}, 'output_token_details': {'reasoning': 144}}
2025-10-04 12:33:57,529 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have analyzed `tests/test_build_latex.py` and `tests/test_directive_code.py`, identifying several test cases related to `code-block` directives and their LaTeX output. While these findings provide a good starting point, they do not directly address the user's bug report concerning whitespace issues with the inline `code` role. To get more specific, I will now focus my search on `tests/test_directive_code.py` to find test cases that specifically handle the inline `code` role and its LaTeX output." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "the ruby code", "relative_path": "tests/test_directive_code.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 40363, 'candidates_token_count': 150, 'total_token_count': 40842, 'cached_content_token_count': 37950, 'prompt_tokens_details': [{'modality': 1, 'token_count': 40363}], 'cache_tokens_details': [{'modality': 1, 'token_count': 37950}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 150}], 'thoughts_token_count': 329}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2670747884114583, 'model_name': 'gemini-2.5-pro'} id='run--065b16f2-f0b2-47e8-9804-ff435eb6d85c-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'the ruby code', 'relative_path': 'tests/test_directive_code.py'}, 'id': 'db7081bf-54bb-419c-946d-20c4996464d8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 40363, 'output_tokens': 150, 'total_tokens': 40842, 'input_token_details': {'cache_read': 37950}, 'output_token_details': {'reasoning': 329}}
2025-10-04 12:34:00,644 - thread-139911184823872.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have now examined both `tests/test_build_latex.py` and `tests/test_directive_code.py` and found several test cases that are relevant to the user's bug report. In `tests/test_build_latex.py`, the tests `test_latex_labels`, `test_numref_with_prefix1`, and `test_numref_with_prefix2` provide insight into how code blocks are handled in LaTeX output. Additionally, `tests/test_directive_code.py` contains the `test_code_block_namedlink_latex` test, which further clarifies how named code blocks are referenced. These findings should provide a solid foundation for investigating the whitespace issue." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 40882, 'candidates_token_count': 152, 'total_token_count': 41034, 'cached_content_token_count': 37904, 'prompt_tokens_details': [{'modality': 1, 'token_count': 40882}], 'cache_tokens_details': [{'modality': 1, 'token_count': 37904}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 152}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10544997767398231, 'model_name': 'gemini-2.5-pro'} id='run--8f41b52d-ba02-4a59-a745-720c2653a5ad-0' usage_metadata={'input_tokens': 40882, 'output_tokens': 152, 'total_tokens': 41034, 'input_token_details': {'cache_read': 37904}}
2025-10-04 12:34:00,644 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-04 12:34:00,645 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
LaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output

Issue description: 
### Describe the bug

The #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.

Example
```
Inline \sphinxcode{\sphinxupquote{ <--- this produces a space in output
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass} <-- here also
}} code block

```

a priori, mark-up should be:
```
Inline \sphinxcode{\sphinxupquote{%
\PYG{k}{def} \PYG{n+nf}{foo}\PYG{p}{(}\PYG{l+m+mi}{1} \PYG{o}{+} \PYG{l+m+mi}{2} \PYG{o}{+} \PYG{k+kc}{None} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{abc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{:} \PYG{k}{pass}%
}} code block
```

But I have no no strong opinion if good or bad. See screenshots.

### How to Reproduce

```
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block

.. code-block:: python

   def foo(1 + 2 + None + "abc"): pass
```

in `index.rst` and `make latexpdf`.

### Expected behavior

_No response_

### Your project

extracted from test_build_latex.py

### Screenshots

with current:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)

if space characters removed from `.tex` file produced by LaTeX writer:

![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)

For comparison prior to #10251 merge:
![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)

### OS

Mac

### Python version

3.9

### Sphinx version

5.x

### Sphinx extensions

_No response_

### Extra tools

_No response_

### Additional context

Relates #10251

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the full content of `tests/test_build_latex.py` and `tests/test_directive_code.py`. I need to find test cases that specifically test the LaTeX output of the inline `code` role to find examples relevant to the user's bug report about whitespace.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/test_build_latex.py
Line number range: 1 - 500
Content:
1. """Test the build process with LaTeX builder with the test root."""
2. 
3. import os
4. import re
5. import subprocess
6. from itertools import product
7. from shutil import copyfile
8. from subprocess import PIPE, CalledProcessError
9. 
10. import pytest
11. 
12. from sphinx.builders.latex import default_latex_documents
13. from sphinx.config import Config
14. from sphinx.errors import SphinxError
15. from sphinx.testing.util import strip_escseq
16. from sphinx.util.osutil import cd, ensuredir
17. from sphinx.writers.latex import LaTeXTranslator
18. 
19. from .test_build_html import ENV_WARNINGS
20. 
21. LATEX_ENGINES = ['pdflatex', 'lualatex', 'xelatex']
22. DOCCLASSES = ['howto', 'manual']
23. STYLEFILES = ['article.cls', 'fancyhdr.sty', 'titlesec.sty', 'amsmath.sty',
24.               'framed.sty', 'color.sty', 'fancyvrb.sty',
25.               'fncychap.sty', 'geometry.sty', 'kvoptions.sty', 'hyperref.sty']
26. 
27. LATEX_WARNINGS = ENV_WARNINGS + """\
28. %(root)s/index.rst:\\d+: WARNING: unknown option: &option
29. %(root)s/index.rst:\\d+: WARNING: citation not found: missing
30. %(root)s/index.rst:\\d+: WARNING: a suitable image for latex builder not found: foo.\\*
31. %(root)s/index.rst:\\d+: WARNING: Could not lex literal_block as "c". Highlighting skipped.
32. """
33. 
34. 
35. # only run latex if all needed packages are there
36. def kpsetest(*filenames):
37.     try:
38.         subprocess.run(['kpsewhich'] + list(filenames), stdout=PIPE, stderr=PIPE, check=True)
39.         return True
40.     except (OSError, CalledProcessError):
41.         return False  # command not found or exit with non-zero
42. 
43. 
44. # compile latex document with app.config.latex_engine
45. def compile_latex_document(app, filename='python.tex'):
46.     # now, try to run latex over it
47.     try:
48.         with cd(app.outdir):
49.             ensuredir(app.config.latex_engine)
50.             # keep a copy of latex file for this engine in case test fails
51.             copyfile(filename, app.config.latex_engine + '/' + filename)
52.             args = [app.config.latex_engine,
53.                     '--halt-on-error',
54.                     '--interaction=nonstopmode',
55.                     '-output-directory=%s' % app.config.latex_engine,
56.                     filename]
57.             subprocess.run(args, stdout=PIPE, stderr=PIPE, check=True)
58.     except OSError as exc:  # most likely the latex executable was not found
59.         raise pytest.skip.Exception from exc
60.     except CalledProcessError as exc:
61.         print(exc.stdout)
62.         print(exc.stderr)
63.         assert False, '%s exited with return code %s' % (app.config.latex_engine,
64.                                                          exc.returncode)
65. 
66. 
67. def skip_if_requested(testfunc):
68.     if 'SKIP_LATEX_BUILD' in os.environ:
69.         msg = 'Skip LaTeX builds because SKIP_LATEX_BUILD is set'
70.         return pytest.mark.skipif(True, reason=msg)(testfunc)
71.     else:
72.         return testfunc
73. 
74. 
75. def skip_if_stylefiles_notfound(testfunc):
76.     if kpsetest(*STYLEFILES) is False:
77.         msg = 'not running latex, the required styles do not seem to be installed'
78.         return pytest.mark.skipif(True, reason=msg)(testfunc)
79.     else:
80.         return testfunc
81. 
82. 
83. @skip_if_requested
84. @skip_if_stylefiles_notfound
85. @pytest.mark.parametrize(
86.     "engine,docclass",
87.     product(LATEX_ENGINES, DOCCLASSES),
88. )
89. @pytest.mark.sphinx('latex')
90. def test_build_latex_doc(app, status, warning, engine, docclass):
91.     app.config.latex_engine = engine
92.     app.config.latex_documents = [app.config.latex_documents[0][:4] + (docclass,)]
93.     app.builder.init()
94. 
95.     LaTeXTranslator.ignore_missing_images = True
96.     app.builder.build_all()
97. 
98.     # file from latex_additional_files
99.     assert (app.outdir / 'svgimg.svg').isfile()
100. 
101.     compile_latex_document(app, 'sphinxtests.tex')
102. 
103. 
104. @pytest.mark.sphinx('latex')
105. def test_writer(app, status, warning):
106.     app.builder.build_all()
107.     result = (app.outdir / 'sphinxtests.tex').read_text(encoding='utf8')
108. 
109.     assert ('\\begin{sphinxfigure-in-table}\n\\centering\n\\capstart\n'
110.             '\\noindent\\sphinxincludegraphics{{img}.png}\n'
111.             '\\sphinxfigcaption{figure in table}\\label{\\detokenize{markup:id8}}'
112.             '\\end{sphinxfigure-in-table}\\relax' in result)
113. 
114.     assert ('\\begin{wrapfigure}{r}{0pt}\n\\centering\n'
115.             '\\noindent\\sphinxincludegraphics{{rimg}.png}\n'
116.             '\\caption{figure with align option}\\label{\\detokenize{markup:id9}}'
117.             '\\end{wrapfigure}' in result)
118. 
119.     assert ('\\begin{wrapfigure}{r}{0.500\\linewidth}\n\\centering\n'
120.             '\\noindent\\sphinxincludegraphics{{rimg}.png}\n'
121.             '\\caption{figure with align \\& figwidth option}'
122.             '\\label{\\detokenize{markup:id10}}'
123.             '\\end{wrapfigure}' in result)
124. 
125.     assert ('\\begin{wrapfigure}{r}{3cm}\n\\centering\n'
126.             '\\noindent\\sphinxincludegraphics[width=3cm]{{rimg}.png}\n'
127.             '\\caption{figure with align \\& width option}'
128.             '\\label{\\detokenize{markup:id11}}'
129.             '\\end{wrapfigure}' in result)
130. 
131.     assert 'Footnotes' not in result
132. 
133. 
134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)
135. def test_latex_warnings(app, status, warning):
136.     app.builder.build_all()
137. 
138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))
139.     warnings_exp = LATEX_WARNINGS % {
140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}
141.     assert re.match(warnings_exp + '$', warnings), \
142.         'Warnings don\'t match:\n' + \
143.         '--- Expected (regex):\n' + warnings_exp + \
144.         '--- Got:\n' + warnings
145. 
146. 
147. @pytest.mark.sphinx('latex', testroot='basic')
148. def test_latex_basic(app, status, warning):
149.     app.builder.build_all()
150.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
151.     print(result)
152.     print(status.getvalue())
153.     print(warning.getvalue())
154.     assert r'\title{The basic Sphinx documentation for testing}' in result
155.     assert r'\release{}' in result
156.     assert r'\renewcommand{\releasename}{}' in result
157. 
158. 
159. @pytest.mark.sphinx('latex', testroot='basic',
160.                     confoverrides={
161.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'manual')]
162.                     })
163. def test_latex_basic_manual(app, status, warning):
164.     app.builder.build_all()
165.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
166.     print(result)
167.     assert r'\def\sphinxdocclass{report}' in result
168.     assert r'\documentclass[letterpaper,10pt,english]{sphinxmanual}' in result
169. 
170. 
171. @pytest.mark.sphinx('latex', testroot='basic',
172.                     confoverrides={
173.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'howto')]
174.                     })
175. def test_latex_basic_howto(app, status, warning):
176.     app.builder.build_all()
177.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
178.     print(result)
179.     assert r'\def\sphinxdocclass{article}' in result
180.     assert r'\documentclass[letterpaper,10pt,english]{sphinxhowto}' in result
181. 
182. 
183. @pytest.mark.sphinx('latex', testroot='basic',
184.                     confoverrides={
185.                         'language': 'ja',
186.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'manual')]
187.                     })
188. def test_latex_basic_manual_ja(app, status, warning):
189.     app.builder.build_all()
190.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
191.     print(result)
192.     assert r'\def\sphinxdocclass{ujbook}' in result
193.     assert r'\documentclass[letterpaper,10pt,dvipdfmx]{sphinxmanual}' in result
194. 
195. 
196. @pytest.mark.sphinx('latex', testroot='basic',
197.                     confoverrides={
198.                         'language': 'ja',
199.                         'latex_documents': [('index', 'test.tex', 'title', 'author', 'howto')]
200.                     })
201. def test_latex_basic_howto_ja(app, status, warning):
202.     app.builder.build_all()
203.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
204.     print(result)
205.     assert r'\def\sphinxdocclass{ujreport}' in result
206.     assert r'\documentclass[letterpaper,10pt,dvipdfmx]{sphinxhowto}' in result
207. 
208. 
209. @pytest.mark.sphinx('latex', testroot='latex-theme')
210. def test_latex_theme(app, status, warning):
211.     app.builder.build_all()
212.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
213.     print(result)
214.     assert r'\def\sphinxdocclass{book}' in result
215.     assert r'\documentclass[a4paper,12pt,english]{sphinxbook}' in result
216. 
217. 
218. @pytest.mark.sphinx('latex', testroot='latex-theme',
219.                     confoverrides={'latex_elements': {'papersize': 'b5paper',
220.                                                       'pointsize': '9pt'}})
221. def test_latex_theme_papersize(app, status, warning):
222.     app.builder.build_all()
223.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
224.     print(result)
225.     assert r'\def\sphinxdocclass{book}' in result
226.     assert r'\documentclass[b5paper,9pt,english]{sphinxbook}' in result
227. 
228. 
229. @pytest.mark.sphinx('latex', testroot='latex-theme',
230.                     confoverrides={'latex_theme_options': {'papersize': 'b5paper',
231.                                                            'pointsize': '9pt'}})
232. def test_latex_theme_options(app, status, warning):
233.     app.builder.build_all()
234.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
235.     print(result)
236.     assert r'\def\sphinxdocclass{book}' in result
237.     assert r'\documentclass[b5paper,9pt,english]{sphinxbook}' in result
238. 
239. 
240. @pytest.mark.sphinx('latex', testroot='basic', confoverrides={'language': 'zh'})
241. def test_latex_additional_settings_for_language_code(app, status, warning):
242.     app.builder.build_all()
243.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
244.     print(result)
245.     print(status.getvalue())
246.     print(warning.getvalue())
247.     assert r'\usepackage{xeCJK}' in result
248. 
249. 
250. @pytest.mark.sphinx('latex', testroot='basic', confoverrides={'language': 'el'})
251. def test_latex_additional_settings_for_greek(app, status, warning):
252.     app.builder.build_all()
253.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
254.     print(result)
255.     print(status.getvalue())
256.     print(warning.getvalue())
257.     assert '\\usepackage{polyglossia}\n\\setmainlanguage{greek}' in result
258.     assert '\\newfontfamily\\greekfonttt{FreeMono}' in result
259. 
260. 
261. @pytest.mark.sphinx('latex', testroot='latex-title')
262. def test_latex_title_after_admonitions(app, status, warning):
263.     app.builder.build_all()
264.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
265.     print(result)
266.     print(status.getvalue())
267.     print(warning.getvalue())
268.     assert '\\title{test\\sphinxhyphen{}latex\\sphinxhyphen{}title}' in result
269. 
270. 
271. @pytest.mark.sphinx('latex', testroot='basic',
272.                     confoverrides={'release': '1.0_0'})
273. def test_latex_release(app, status, warning):
274.     app.builder.build_all()
275.     result = (app.outdir / 'test.tex').read_text(encoding='utf8')
276.     print(result)
277.     print(status.getvalue())
278.     print(warning.getvalue())
279.     assert r'\release{1.0\_0}' in result
280.     assert r'\renewcommand{\releasename}{Release}' in result
281. 
282. 
283. @pytest.mark.sphinx('latex', testroot='numfig',
284.                     confoverrides={'numfig': True})
285. def test_numref(app, status, warning):
286.     app.builder.build_all()
287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
288.     print(result)
289.     print(status.getvalue())
290.     print(warning.getvalue())
291.     assert ('\\hyperref[\\detokenize{index:fig1}]'
292.             '{Fig.\\@ \\ref{\\detokenize{index:fig1}}}') in result
293.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
294.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
295.     assert ('\\hyperref[\\detokenize{index:table-1}]'
296.             '{Table \\ref{\\detokenize{index:table-1}}}') in result
297.     assert ('\\hyperref[\\detokenize{baz:table22}]'
298.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
299.     assert ('\\hyperref[\\detokenize{index:code-1}]'
300.             '{Listing \\ref{\\detokenize{index:code-1}}}') in result
301.     assert ('\\hyperref[\\detokenize{baz:code22}]'
302.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
303.     assert ('\\hyperref[\\detokenize{foo:foo}]'
304.             '{Section \\ref{\\detokenize{foo:foo}}}') in result
305.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
306.             '{Section \\ref{\\detokenize{bar:bar-a}}}') in result
307.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
308.             '\\nameref{\\detokenize{index:fig1}}}') in result
309.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
310.             '\\nameref{\\detokenize{foo:foo}}}') in result
311. 
312.     # sphinxmessages.sty
313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
314.     print(result)
315.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@{} }}' in result
316.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Table }}' in result
317.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}' in result
318. 
319. 
320. @pytest.mark.sphinx(
321.     'latex', testroot='numfig',
322.     confoverrides={'numfig': True,
323.                    'numfig_format': {'figure': 'Figure:%s',
324.                                      'table': 'Tab_%s',
325.                                      'code-block': 'Code-%s',
326.                                      'section': 'SECTION-%s'}})
327. def test_numref_with_prefix1(app, status, warning):
328.     app.builder.build_all()
329.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
330.     print(result)
331.     print(status.getvalue())
332.     print(warning.getvalue())
333.     assert '\\ref{\\detokenize{index:fig1}}' in result
334.     assert '\\ref{\\detokenize{baz:fig22}}' in result
335.     assert '\\ref{\\detokenize{index:table-1}}' in result
336.     assert '\\ref{\\detokenize{baz:table22}}' in result
337.     assert '\\ref{\\detokenize{index:code-1}}' in result
338.     assert '\\ref{\\detokenize{baz:code22}}' in result
339.     assert ('\\hyperref[\\detokenize{index:fig1}]'
340.             '{Figure:\\ref{\\detokenize{index:fig1}}}') in result
341.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
342.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
343.     assert ('\\hyperref[\\detokenize{index:table-1}]'
344.             '{Tab\\_\\ref{\\detokenize{index:table-1}}}') in result
345.     assert ('\\hyperref[\\detokenize{baz:table22}]'
346.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
347.     assert ('\\hyperref[\\detokenize{index:code-1}]'
348.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{index:code-1}}}') in result
349.     assert ('\\hyperref[\\detokenize{baz:code22}]'
350.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
351.     assert ('\\hyperref[\\detokenize{foo:foo}]'
352.             '{SECTION\\sphinxhyphen{}\\ref{\\detokenize{foo:foo}}}') in result
353.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
354.             '{SECTION\\sphinxhyphen{}\\ref{\\detokenize{bar:bar-a}}}') in result
355.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
356.             '\\nameref{\\detokenize{index:fig1}}}') in result
357.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
358.             '\\nameref{\\detokenize{foo:foo}}}') in result
359. 
360.     # sphinxmessages.sty
361.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
362.     print(result)
363.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Figure:}}' in result
364.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Tab\_}}' in result
365.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Code-}}' in result
366. 
367. 
368. @pytest.mark.sphinx(
369.     'latex', testroot='numfig',
370.     confoverrides={'numfig': True,
371.                    'numfig_format': {'figure': 'Figure:%s.',
372.                                      'table': 'Tab_%s:',
373.                                      'code-block': 'Code-%s | ',
374.                                      'section': 'SECTION_%s_'}})
375. def test_numref_with_prefix2(app, status, warning):
376.     app.builder.build_all()
377.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
378.     print(result)
379.     print(status.getvalue())
380.     print(warning.getvalue())
381.     assert ('\\hyperref[\\detokenize{index:fig1}]'
382.             '{Figure:\\ref{\\detokenize{index:fig1}}.\\@}') in result
383.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
384.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
385.     assert ('\\hyperref[\\detokenize{index:table-1}]'
386.             '{Tab\\_\\ref{\\detokenize{index:table-1}}:}') in result
387.     assert ('\\hyperref[\\detokenize{baz:table22}]'
388.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
389.     assert ('\\hyperref[\\detokenize{index:code-1}]{Code\\sphinxhyphen{}\\ref{\\detokenize{index:code-1}} '
390.             '| }') in result
391.     assert ('\\hyperref[\\detokenize{baz:code22}]'
392.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
393.     assert ('\\hyperref[\\detokenize{foo:foo}]'
394.             '{SECTION\\_\\ref{\\detokenize{foo:foo}}\\_}') in result
395.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
396.             '{SECTION\\_\\ref{\\detokenize{bar:bar-a}}\\_}') in result
397.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
398.             '\\nameref{\\detokenize{index:fig1}}}') in result
399.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
400.             '\\nameref{\\detokenize{foo:foo}}}') in result
401. 
402.     # sphinxmessages.sty
403.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
404.     print(result)
405.     assert r'\addto\captionsenglish{\renewcommand{\figurename}{Figure:}}' in result
406.     assert r'\def\fnum@figure{\figurename\thefigure{}.}' in result
407.     assert r'\addto\captionsenglish{\renewcommand{\tablename}{Tab\_}}' in result
408.     assert r'\def\fnum@table{\tablename\thetable{}:}' in result
409.     assert r'\addto\captionsenglish{\renewcommand{\literalblockname}{Code-}}' in result
410. 
411. 
412. @pytest.mark.sphinx(
413.     'latex', testroot='numfig',
414.     confoverrides={'numfig': True, 'language': 'ja'})
415. def test_numref_with_language_ja(app, status, warning):
416.     app.builder.build_all()
417.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')
418.     print(result)
419.     print(status.getvalue())
420.     print(warning.getvalue())
421.     assert ('\\hyperref[\\detokenize{index:fig1}]'
422.             '{\u56f3 \\ref{\\detokenize{index:fig1}}}') in result
423.     assert ('\\hyperref[\\detokenize{baz:fig22}]'
424.             '{Figure\\ref{\\detokenize{baz:fig22}}}') in result
425.     assert ('\\hyperref[\\detokenize{index:table-1}]'
426.             '{\u8868 \\ref{\\detokenize{index:table-1}}}') in result
427.     assert ('\\hyperref[\\detokenize{baz:table22}]'
428.             '{Table:\\ref{\\detokenize{baz:table22}}}') in result
429.     assert ('\\hyperref[\\detokenize{index:code-1}]'
430.             '{\u30ea\u30b9\u30c8 \\ref{\\detokenize{index:code-1}}}') in result
431.     assert ('\\hyperref[\\detokenize{baz:code22}]'
432.             '{Code\\sphinxhyphen{}\\ref{\\detokenize{baz:code22}}}') in result
433.     assert ('\\hyperref[\\detokenize{foo:foo}]'
434.             '{\\ref{\\detokenize{foo:foo}} \u7ae0}') in result
435.     assert ('\\hyperref[\\detokenize{bar:bar-a}]'
436.             '{\\ref{\\detokenize{bar:bar-a}} \u7ae0}') in result
437.     assert ('\\hyperref[\\detokenize{index:fig1}]{Fig.\\ref{\\detokenize{index:fig1}} '
438.             '\\nameref{\\detokenize{index:fig1}}}') in result
439.     assert ('\\hyperref[\\detokenize{foo:foo}]{Sect.\\ref{\\detokenize{foo:foo}} '
440.             '\\nameref{\\detokenize{foo:foo}}}') in result
441. 
442.     # sphinxmessages.sty
443.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')
444.     print(result)
445.     assert '\\@iden{\\renewcommand{\\figurename}{å›³ }}' in result
446.     assert '\\@iden{\\renewcommand{\\tablename}{è¡¨ }}' in result
447.     assert '\\@iden{\\renewcommand{\\literalblockname}{ãƒªã‚¹ãƒˆ}}' in result
448. 
449. 
450. @pytest.mark.sphinx('latex', testroot='latex-numfig')
451. def test_latex_obey_numfig_is_false(app, status, warning):
452.     app.builder.build_all()
453. 
454.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
455.     assert '\\usepackage{sphinx}' in result
456. 
457.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
458.     assert '\\usepackage{sphinx}' in result
459. 
460. 
461. @pytest.mark.sphinx(
462.     'latex', testroot='latex-numfig',
463.     confoverrides={'numfig': True, 'numfig_secnum_depth': 0})
464. def test_latex_obey_numfig_secnum_depth_is_zero(app, status, warning):
465.     app.builder.build_all()
466. 
467.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
468.     assert '\\usepackage[,nonumfigreset,mathnumfig]{sphinx}' in result
469. 
470.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
471.     assert '\\usepackage[,nonumfigreset,mathnumfig]{sphinx}' in result
472. 
473. 
474. @pytest.mark.sphinx(
475.     'latex', testroot='latex-numfig',
476.     confoverrides={'numfig': True, 'numfig_secnum_depth': 2})
477. def test_latex_obey_numfig_secnum_depth_is_two(app, status, warning):
478.     app.builder.build_all()
479. 
480.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
481.     assert '\\usepackage[,numfigreset=2,mathnumfig]{sphinx}' in result
482. 
483.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
484.     assert '\\usepackage[,numfigreset=3,mathnumfig]{sphinx}' in result
485. 
486. 
487. @pytest.mark.sphinx(
488.     'latex', testroot='latex-numfig',
489.     confoverrides={'numfig': True, 'math_numfig': False})
490. def test_latex_obey_numfig_but_math_numfig_false(app, status, warning):
491.     app.builder.build_all()
492. 
493.     result = (app.outdir / 'SphinxManual.tex').read_text(encoding='utf8')
494.     assert '\\usepackage[,numfigreset=1]{sphinx}' in result
495. 
496.     result = (app.outdir / 'SphinxHowTo.tex').read_text(encoding='utf8')
497.     assert '\\usepackage[,numfigreset=2]{sphinx}' in result
498. 
499. 
500. @pytest.mark.sphinx('latex', testroot='basic')

File: tests/test_directive_code.py
Line number range: 1 - 500
Content:
1. """Test the code-block directive."""
2. 
3. import os
4. 
5. import pytest
6. from docutils import nodes
7. 
8. from sphinx.config import Config
9. from sphinx.directives.code import LiteralIncludeReader
10. from sphinx.testing.util import etree_parse
11. 
12. DUMMY_CONFIG = Config({}, {})
13. 
14. 
15. @pytest.fixture(scope='module')
16. def testroot(rootdir):
17.     testroot_path = rootdir / 'test-directive-code'
18.     return testroot_path
19. 
20. 
21. @pytest.fixture(scope='module')
22. def literal_inc_path(testroot):
23.     return testroot / 'literal.inc'
24. 
25. 
26. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
27. def test_LiteralIncludeReader(literal_inc_path):
28.     options = {'lineno-match': True}
29.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
30.     content, lines = reader.read()
31.     assert content == literal_inc_path.read_text(encoding='utf8')
32.     assert lines == 13
33.     assert reader.lineno_start == 1
34. 
35. 
36. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
37. def test_LiteralIncludeReader_lineno_start(literal_inc_path):
38.     options = {'lineno-start': 4}
39.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
40.     content, lines = reader.read()
41.     assert content == literal_inc_path.read_text(encoding='utf8')
42.     assert lines == 13
43.     assert reader.lineno_start == 4
44. 
45. 
46. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
47. def test_LiteralIncludeReader_pyobject1(literal_inc_path):
48.     options = {'lineno-match': True, 'pyobject': 'Foo'}
49.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
50.     content, lines = reader.read()
51.     assert content == ("class Foo:\n"
52.                        "    pass\n")
53.     assert reader.lineno_start == 5
54. 
55. 
56. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
57. def test_LiteralIncludeReader_pyobject2(literal_inc_path):
58.     options = {'pyobject': 'Bar'}
59.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
60.     content, lines = reader.read()
61.     assert content == ("class Bar:\n"
62.                        "    def baz():\n"
63.                        "        pass\n")
64.     assert reader.lineno_start == 1  # no lineno-match
65. 
66. 
67. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
68. def test_LiteralIncludeReader_pyobject3(literal_inc_path):
69.     options = {'pyobject': 'Bar.baz'}
70.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
71.     content, lines = reader.read()
72.     assert content == ("    def baz():\n"
73.                        "        pass\n")
74. 
75. 
76. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
77. def test_LiteralIncludeReader_pyobject_and_lines(literal_inc_path):
78.     options = {'pyobject': 'Bar', 'lines': '2-'}
79.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
80.     content, lines = reader.read()
81.     assert content == ("    def baz():\n"
82.                        "        pass\n")
83. 
84. 
85. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
86. def test_LiteralIncludeReader_lines1(literal_inc_path):
87.     options = {'lines': '1-3'}
88.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
89.     content, lines = reader.read()
90.     assert content == ("# Literally included file using Python highlighting\n"
91.                        "\n"
92.                        "foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n")
93. 
94. 
95. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
96. def test_LiteralIncludeReader_lines2(literal_inc_path):
97.     options = {'lines': '1,3,5'}
98.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
99.     content, lines = reader.read()
100.     assert content == ("# Literally included file using Python highlighting\n"
101.                        "foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n"
102.                        "class Foo:\n")
103. 
104. 
105. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
106. def test_LiteralIncludeReader_lines_and_lineno_match1(literal_inc_path):
107.     options = {'lines': '3-5', 'lineno-match': True}
108.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
109.     content, lines = reader.read()
110.     assert content == ("foo = \"Including Unicode characters: Ã¼Ã¶Ã¤\"\n"
111.                        "\n"
112.                        "class Foo:\n")
113.     assert reader.lineno_start == 3
114. 
115. 
116. @pytest.mark.sphinx()  # init locale for errors
117. def test_LiteralIncludeReader_lines_and_lineno_match2(literal_inc_path, app, status, warning):
118.     options = {'lines': '0,3,5', 'lineno-match': True}
119.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
120.     with pytest.raises(ValueError):
121.         content, lines = reader.read()
122. 
123. 
124. @pytest.mark.sphinx()  # init locale for errors
125. def test_LiteralIncludeReader_lines_and_lineno_match3(literal_inc_path, app, status, warning):
126.     options = {'lines': '100-', 'lineno-match': True}
127.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
128.     with pytest.raises(ValueError):
129.         content, lines = reader.read()
130. 
131. 
132. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
133. def test_LiteralIncludeReader_start_at(literal_inc_path):
134.     options = {'lineno-match': True, 'start-at': 'Foo', 'end-at': 'Bar'}
135.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
136.     content, lines = reader.read()
137.     assert content == ("class Foo:\n"
138.                        "    pass\n"
139.                        "\n"
140.                        "class Bar:\n")
141.     assert reader.lineno_start == 5
142. 
143. 
144. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
145. def test_LiteralIncludeReader_start_after(literal_inc_path):
146.     options = {'lineno-match': True, 'start-after': 'Foo', 'end-before': 'Bar'}
147.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
148.     content, lines = reader.read()
149.     assert content == ("    pass\n"
150.                        "\n")
151.     assert reader.lineno_start == 6
152. 
153. 
154. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
155. def test_LiteralIncludeReader_start_after_and_lines(literal_inc_path):
156.     options = {'lineno-match': True, 'lines': '6-',
157.                'start-after': 'Literally', 'end-before': 'comment'}
158.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
159.     content, lines = reader.read()
160.     assert content == ("\n"
161.                        "class Bar:\n"
162.                        "    def baz():\n"
163.                        "        pass\n"
164.                        "\n")
165.     assert reader.lineno_start == 7
166. 
167. 
168. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
169. def test_LiteralIncludeReader_start_at_and_lines(literal_inc_path):
170.     options = {'lines': '2, 3, 5', 'start-at': 'foo', 'end-before': '#'}
171.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
172.     content, lines = reader.read()
173.     assert content == ("\n"
174.                        "class Foo:\n"
175.                        "\n")
176.     assert reader.lineno_start == 1
177. 
178. 
179. def test_LiteralIncludeReader_missing_start_and_end(literal_inc_path):
180.     options = {'start-at': 'NOTHING'}
181.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
182.     with pytest.raises(ValueError):
183.         content, lines = reader.read()
184. 
185.     options = {'end-at': 'NOTHING'}
186.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
187.     with pytest.raises(ValueError):
188.         content, lines = reader.read()
189. 
190.     options = {'start-after': 'NOTHING'}
191.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
192.     with pytest.raises(ValueError):
193.         content, lines = reader.read()
194. 
195.     options = {'end-before': 'NOTHING'}
196.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
197.     with pytest.raises(ValueError):
198.         content, lines = reader.read()
199. 
200. 
201. def test_LiteralIncludeReader_end_before(literal_inc_path):
202.     options = {'end-before': 'nclud'}  # *nclud* matches first and third lines.
203.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
204.     content, lines = reader.read()
205.     assert content == ("# Literally included file using Python highlighting\n"
206.                        "\n")
207. 
208. 
209. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
210. def test_LiteralIncludeReader_prepend(literal_inc_path):
211.     options = {'lines': '1', 'prepend': 'Hello', 'append': 'Sphinx'}
212.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
213.     content, lines = reader.read()
214.     assert content == ("Hello\n"
215.                        "# Literally included file using Python highlighting\n"
216.                        "Sphinx\n")
217. 
218. 
219. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
220. def test_LiteralIncludeReader_dedent(literal_inc_path):
221.     # dedent: 2
222.     options = {'lines': '9-11', 'dedent': 2}
223.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
224.     content, lines = reader.read()
225.     assert content == ("  def baz():\n"
226.                        "      pass\n"
227.                        "\n")
228. 
229.     # dedent: 4
230.     options = {'lines': '9-11', 'dedent': 4}
231.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
232.     content, lines = reader.read()
233.     assert content == ("def baz():\n"
234.                        "    pass\n"
235.                        "\n")
236. 
237.     # dedent: 6
238.     options = {'lines': '9-11', 'dedent': 6}
239.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
240.     content, lines = reader.read()
241.     assert content == ("f baz():\n"
242.                        "  pass\n"
243.                        "\n")
244. 
245.     # dedent: None
246.     options = {'lines': '9-11', 'dedent': None}
247.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
248.     content, lines = reader.read()
249.     assert content == ("def baz():\n"
250.                        "    pass\n"
251.                        "\n")
252. 
253. 
254. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
255. def test_LiteralIncludeReader_dedent_and_append_and_prepend(literal_inc_path):
256.     # dedent: 2
257.     options = {'lines': '9-11', 'dedent': 2, 'prepend': 'class Foo:', 'append': '# comment'}
258.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
259.     content, lines = reader.read()
260.     assert content == ("class Foo:\n"
261.                        "  def baz():\n"
262.                        "      pass\n"
263.                        "\n"
264.                        "# comment\n")
265. 
266. 
267. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
268. def test_LiteralIncludeReader_tabwidth(testroot):
269.     # tab-width: 4
270.     options = {'tab-width': 4, 'pyobject': 'Qux'}
271.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
272.     content, lines = reader.read()
273.     assert content == ("class Qux:\n"
274.                        "    def quux(self):\n"
275.                        "        pass\n")
276. 
277.     # tab-width: 8
278.     options = {'tab-width': 8, 'pyobject': 'Qux'}
279.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
280.     content, lines = reader.read()
281.     assert content == ("class Qux:\n"
282.                        "        def quux(self):\n"
283.                        "                pass\n")
284. 
285. 
286. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
287. def test_LiteralIncludeReader_tabwidth_dedent(testroot):
288.     options = {'tab-width': 4, 'dedent': 4, 'pyobject': 'Qux.quux'}
289.     reader = LiteralIncludeReader(testroot / 'target.py', options, DUMMY_CONFIG)
290.     content, lines = reader.read()
291.     assert content == ("def quux(self):\n"
292.                        "    pass\n")
293. 
294. 
295. @pytest.mark.xfail(os.name != 'posix', reason="Not working on windows")
296. def test_LiteralIncludeReader_diff(testroot, literal_inc_path):
297.     options = {'diff': testroot / 'literal-diff.inc'}
298.     reader = LiteralIncludeReader(literal_inc_path, options, DUMMY_CONFIG)
299.     content, lines = reader.read()
300.     assert content == ("--- " + testroot + "/literal-diff.inc\n"
301.                        "+++ " + testroot + "/literal.inc\n"
302.                        "@@ -6,8 +6,8 @@\n"
303.                        "     pass\n"
304.                        " \n"
305.                        " class Bar:\n"
306.                        "-    def baz(self):\n"
307.                        "+    def baz():\n"
308.                        "         pass\n"
309.                        " \n"
310.                        "-# comment after Bar class\n"
311.                        "+# comment after Bar class definition\n"
312.                        " def bar(): pass\n")
313. 
314. 
315. @pytest.mark.sphinx('xml', testroot='directive-code')
316. def test_code_block(app, status, warning):
317.     app.builder.build('index')
318.     et = etree_parse(app.outdir / 'index.xml')
319.     secs = et.findall('./section/section')
320.     code_block = secs[0].findall('literal_block')
321.     assert len(code_block) > 0
322.     actual = code_block[0].text
323.     expect = (
324.         "    def ruby?\n" +
325.         "        false\n" +
326.         "    end"
327.     )
328.     assert actual == expect
329. 
330. 
331. @pytest.mark.sphinx('html', testroot='directive-code')
332. def test_force_option(app, status, warning):
333.     app.builder.build(['force'])
334.     assert 'force.rst' not in warning.getvalue()
335. 
336. 
337. @pytest.mark.sphinx('html', testroot='directive-code')
338. def test_code_block_caption_html(app, status, warning):
339.     app.builder.build(['caption'])
340.     html = (app.outdir / 'caption.html').read_text(encoding='utf8')
341.     caption = ('<div class="code-block-caption">'
342.                '<span class="caption-number">Listing 1 </span>'
343.                '<span class="caption-text">caption <em>test</em> rb'
344.                '</span><a class="headerlink" href="#id1" '
345.                'title="Permalink to this code">\xb6</a></div>')
346.     assert caption in html
347. 
348. 
349. @pytest.mark.sphinx('latex', testroot='directive-code')
350. def test_code_block_caption_latex(app, status, warning):
351.     app.builder.build_all()
352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
353.     caption = '\\sphinxSetupCaptionForVerbatim{caption \\sphinxstyleemphasis{test} rb}'
354.     label = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:id1}}}'
355.     link = '\\hyperref[\\detokenize{caption:name-test-rb}]' \
356.            '{Listing \\ref{\\detokenize{caption:name-test-rb}}}'
357.     assert caption in latex
358.     assert label in latex
359.     assert link in latex
360. 
361. 
362. @pytest.mark.sphinx('latex', testroot='directive-code')
363. def test_code_block_namedlink_latex(app, status, warning):
364.     app.builder.build_all()
365.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
366.     label1 = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:name-test-rb}}}'
367.     link1 = '\\hyperref[\\detokenize{caption:name-test-rb}]'\
368.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{Ruby}}'
369.     label2 = ('\\def\\sphinxLiteralBlockLabel'
370.               '{\\label{\\detokenize{namedblocks:some-ruby-code}}}')
371.     link2 = '\\hyperref[\\detokenize{namedblocks:some-ruby-code}]'\
372.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{the ruby code}}}'
373.     assert label1 in latex
374.     assert link1 in latex
375.     assert label2 in latex
376.     assert link2 in latex
377. 
378. 
379. @pytest.mark.sphinx('latex', testroot='directive-code')
380. def test_code_block_emphasize_latex(app, status, warning):
381.     app.builder.build(['emphasize'])
382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
383.     includes = '\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\n'
384.     assert includes in latex
385.     includes = '\\end{sphinxVerbatim}\n\\sphinxresetverbatimhllines\n'
386.     assert includes in latex
387. 
388. 
389. @pytest.mark.sphinx('xml', testroot='directive-code')
390. def test_literal_include(app, status, warning):
391.     app.builder.build(['index'])
392.     et = etree_parse(app.outdir / 'index.xml')
393.     secs = et.findall('./section/section')
394.     literal_include = secs[1].findall('literal_block')
395.     literal_src = (app.srcdir / 'literal.inc').read_text(encoding='utf8')
396.     assert len(literal_include) > 0
397.     actual = literal_include[0].text
398.     assert actual == literal_src
399. 
400. 
401. @pytest.mark.sphinx('xml', testroot='directive-code')
402. def test_literal_include_block_start_with_comment_or_brank(app, status, warning):
403.     app.builder.build(['python'])
404.     et = etree_parse(app.outdir / 'python.xml')
405.     secs = et.findall('./section/section')
406.     literal_include = secs[0].findall('literal_block')
407.     assert len(literal_include) > 0
408.     actual = literal_include[0].text
409.     expect = (
410.         'def block_start_with_comment():\n'
411.         '    # Comment\n'
412.         '    return 1\n'
413.     )
414.     assert actual == expect
415. 
416.     actual = literal_include[1].text
417.     expect = (
418.         'def block_start_with_blank():\n'
419.         '\n'
420.         '    return 1\n'
421.     )
422.     assert actual == expect
423. 
424. 
425. @pytest.mark.sphinx('html', testroot='directive-code')
426. def test_literal_include_linenos(app, status, warning):
427.     app.builder.build(['linenos'])
428.     html = (app.outdir / 'linenos.html').read_text(encoding='utf8')
429. 
430.     # :linenos:
431.     assert ('<span class="linenos"> 1</span><span class="c1">'
432.             '# Literally included file using Python highlighting</span>' in html)
433. 
434.     # :lineno-start:
435.     assert ('<span class="linenos">200</span><span class="c1">'
436.             '# Literally included file using Python highlighting</span>' in html)
437. 
438.     # :lines: 5-9
439.     assert ('<span class="linenos">5</span><span class="k">class</span> '
440.             '<span class="nc">Foo</span><span class="p">:</span>' in html)
441. 
442. 
443. @pytest.mark.sphinx('latex', testroot='directive-code')
444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):
445.     app.builder.build_all()
446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\r\n', '\n')
447.     includes = (
448.         '\\begin{sphinxVerbatim}'
449.         '[commandchars=\\\\\\{\\},numbers=left,firstnumber=1,stepnumber=1]\n'
450.         '\n'
451.         '\n'
452.         '\n'
453.         '\\end{sphinxVerbatim}\n')
454.     assert includes in latex
455. 
456. 
457. @pytest.mark.sphinx('html', testroot='directive-code')
458. def test_literalinclude_caption_html(app, status, warning):
459.     app.builder.build('index')
460.     html = (app.outdir / 'caption.html').read_text(encoding='utf8')
461.     caption = ('<div class="code-block-caption">'
462.                '<span class="caption-number">Listing 2 </span>'
463.                '<span class="caption-text">caption <strong>test</strong> py'
464.                '</span><a class="headerlink" href="#id2" '
465.                'title="Permalink to this code">\xb6</a></div>')
466.     assert caption in html
467. 
468. 
469. @pytest.mark.sphinx('latex', testroot='directive-code')
470. def test_literalinclude_caption_latex(app, status, warning):
471.     app.builder.build('index')
472.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
473.     caption = '\\sphinxSetupCaptionForVerbatim{caption \\sphinxstylestrong{test} py}'
474.     label = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:id2}}}'
475.     link = '\\hyperref[\\detokenize{caption:name-test-py}]' \
476.            '{Listing \\ref{\\detokenize{caption:name-test-py}}}'
477.     assert caption in latex
478.     assert label in latex
479.     assert link in latex
480. 
481. 
482. @pytest.mark.sphinx('latex', testroot='directive-code')
483. def test_literalinclude_namedlink_latex(app, status, warning):
484.     app.builder.build('index')
485.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')
486.     label1 = '\\def\\sphinxLiteralBlockLabel{\\label{\\detokenize{caption:name-test-py}}}'
487.     link1 = '\\hyperref[\\detokenize{caption:name-test-py}]'\
488.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{Python}}'
489.     label2 = ('\\def\\sphinxLiteralBlockLabel'
490.               '{\\label{\\detokenize{namedblocks:some-python-code}}}')
491.     link2 = '\\hyperref[\\detokenize{namedblocks:some-python-code}]'\
492.             '{\\sphinxcrossref{\\DUrole{std,std-ref}{the python code}}}'
493.     assert label1 in latex
494.     assert link1 in latex
495.     assert label2 in latex
496.     assert link2 in latex
497. 
498. 
499. @pytest.mark.sphinx('xml', testroot='directive-code')
500. def test_literalinclude_classes(app, status, warning):

File: tests/test_build_latex.py
Line number range: 1469 - 1515
Content:
@pytest.mark.sphinx('latex', testroot='latex-labels')
def test_latex_labels(app, status, warning):
    app.builder.build_all()

    result = (app.outdir / 'python.tex').read_text(encoding='utf8')

    # figures
    assert (r'\caption{labeled figure}'
            r'\label{\detokenize{index:id1}}'
            r'\label{\detokenize{index:figure2}}'
            r'\label{\detokenize{index:figure1}}'
            r'\end{figure}' in result)
    assert (r'\caption{labeled figure}'
            '\\label{\\detokenize{index:figure3}}\n'
            '\\begin{sphinxlegend}\n\\sphinxAtStartPar\n'
            'with a legend\n\\end{sphinxlegend}\n'
            r'\end{figure}' in result)

    # code-blocks
    assert (r'\def\sphinxLiteralBlockLabel{'
            r'\label{\detokenize{index:codeblock2}}'
            r'\label{\detokenize{index:codeblock1}}}' in result)
    assert (r'\def\sphinxLiteralBlockLabel{'
            r'\label{\detokenize{index:codeblock3}}}' in result)

    # tables
    assert (r'\sphinxcaption{table caption}'
            r'\label{\detokenize{index:id2}}'
            r'\label{\detokenize{index:table2}}'
            r'\label{\detokenize{index:table1}}' in result)
    assert (r'\sphinxcaption{table caption}'
            r'\label{\detokenize{index:table3}}' in result)

    # sections
    assert ('\\chapter{subsection}\n'
            r'\label{\detokenize{index:subsection}}'
            r'\label{\detokenize{index:section2}}'
            r'\label{\detokenize{index:section1}}' in result)
    assert ('\\section{subsubsection}\n'
            r'\label{\detokenize{index:subsubsection}}'
            r'\label{\detokenize{index:section3}}' in result)
    assert ('\\subsection{otherdoc}\n'
            r'\label{\detokenize{otherdoc:otherdoc}}'
            r'\label{\detokenize{otherdoc::doc}}' in result)

    # Embedded standalone hyperlink reference (refs: #5948)
    assert result.count(r'\label{\detokenize{index:section1}}') == 1

File: tests/test_directive_code.py
Line number range: 569 - 587
Content:
@pytest.mark.sphinx('html', testroot='directive-code')
def test_linenothreshold(app, status, warning):
    app.builder.build(['linenothreshold'])
    html = (app.outdir / 'linenothreshold.html').read_text(encoding='utf8')

    # code-block using linenothreshold
    assert ('<span class="linenos">1</span><span class="k">class</span> '
            '<span class="nc">Foo</span><span class="p">:</span>' in html)

    # code-block not using linenothreshold (no line numbers)
    assert '<span></span><span class="c1"># comment</span>' in html

    # literal include using linenothreshold
    assert ('<span class="linenos"> 1</span><span class="c1">'
            '# Literally included file using Python highlighting</span>' in html)

    # literal include not using linenothreshold (no line numbers)
    assert ('<span></span><span class="c1"># Very small literal include '
            '(linenothreshold check)</span>' in html)


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-04 12:35:26,460 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's bug is about the incorrect LaTeX output of an inline role (`:code:`).\n   - This test checks the precise LaTeX output string for another inline role, `:numref:`. For example, it asserts the output contains `'{Fig.\\\\@ \\\\ref{\\\\detokenize{index:fig1}}}'`.\n2. Extended relevance:\n   - This test provides a direct and highly relevant example of how to write a test for the user's bug. A similar test could be written to check the output of the `:code:` role and assert that it does not contain the unwanted whitespace.", relative_path='tests/test_build_latex.py', start_line=283, end_line=318), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's bug is related to the LaTeX output of a custom role based on the `code` role.\n   - This test checks the LaTeX output that includes a `\\\\DUrole` command, which is how docutils roles are rendered.\n2. Extended relevance:\n   - This is a strong example of testing the output of a role in LaTeX. It helps understand how to verify the generated LaTeX for roles, which is the core of the user's issue.", relative_path='tests/test_directive_code.py', start_line=362, end_line=377), ContextOutput(reasoning='1. Query requirement analysis:\n   - The bug was introduced when syntax highlighting was added to the `code` role.\n   - This test checks for LaTeX commands (`\\\\fvset{hllines=...}`) related to code highlighting (`emphasize-lines` option).\n2. Extended relevance:\n   - It demonstrates how to test LaTeX output specifically for features related to code highlighting. This is relevant because the bug is a side-effect of the highlighting feature.', relative_path='tests/test_directive_code.py', start_line=379, end_line=387), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user wants to see examples of tests for LaTeX output of code elements.\n   - This test checks for the correct `\\\\label` commands in the LaTeX output for `code-blocks`.\n2. Extended relevance:\n   - It shows how to write assertions for complex LaTeX strings generated for code elements. The pattern of asserting `r'...' in result` is a useful example for writing a new test case for the reported bug.", relative_path='tests/test_build_latex.py', start_line=1469, end_line=1515), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user needs to test formatted text output in LaTeX.\n   - This test verifies the LaTeX output for a `code-block` caption that contains formatted text (`\\\\sphinxstyleemphasis{test}`).\n2. Extended relevance:\n   - It provides a simple example of asserting specific LaTeX styling commands within a generated string, which is a fundamental technique needed to test the fix for the user's bug.", relative_path='tests/test_directive_code.py', start_line=349, end_line=360)]
2025-10-04 12:35:26,461 - thread-139911184823872.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/test_directive_code.py', content="379. @pytest.mark.sphinx('latex', testroot='directive-code')\n380. def test_code_block_emphasize_latex(app, status, warning):\n381.     app.builder.build(['emphasize'])\n382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n383.     includes = '\\\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\\n'\n384.     assert includes in latex\n385.     includes = '\\\\end{sphinxVerbatim}\\n\\\\sphinxresetverbatimhllines\\n'\n386.     assert includes in latex\n387. ", start_line_number=379, end_line_number=387), Context(relative_path='tests/test_directive_code.py', content="443. @pytest.mark.sphinx('latex', testroot='directive-code')\n444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):\n445.     app.builder.build_all()\n446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n447.     includes = (\n448.         '\\\\begin{sphinxVerbatim}'\n449.         '[commandchars=\\\\\\\\\\\\{\\\\},numbers=left,firstnumber=1,stepnumber=1]\\n'\n450.         '\\n'\n451.         '\\n'\n452.         '\\n'\n453.         '\\\\end{sphinxVerbatim}\\n')\n454.     assert includes in latex\n455. ", start_line_number=443, end_line_number=455), Context(relative_path='tests/test_build_latex.py', content="283. @pytest.mark.sphinx('latex', testroot='numfig',\n284.                     confoverrides={'numfig': True})\n285. def test_numref(app, status, warning):\n286.     app.builder.build_all()\n287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')\n288.     print(result)\n289.     print(status.getvalue())\n290.     print(warning.getvalue())\n291.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]'\n292.             '{Fig.\\\\@ \\\\ref{\\\\detokenize{index:fig1}}}') in result\n293.     assert ('\\\\hyperref[\\\\detokenize{baz:fig22}]'\n294.             '{Figure\\\\ref{\\\\detokenize{baz:fig22}}}') in result\n295.     assert ('\\\\hyperref[\\\\detokenize{index:table-1}]'\n296.             '{Table \\\\ref{\\\\detokenize{index:table-1}}}') in result\n297.     assert ('\\\\hyperref[\\\\detokenize{baz:table22}]'\n298.             '{Table:\\\\ref{\\\\detokenize{baz:table22}}}') in result\n299.     assert ('\\\\hyperref[\\\\detokenize{index:code-1}]'\n300.             '{Listing \\\\ref{\\\\detokenize{index:code-1}}}') in result\n301.     assert ('\\\\hyperref[\\\\detokenize{baz:code22}]'\n302.             '{Code\\\\sphinxhyphen{}\\\\ref{\\\\detokenize{baz:code22}}}') in result\n303.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]'\n304.             '{Section \\\\ref{\\\\detokenize{foo:foo}}}') in result\n305.     assert ('\\\\hyperref[\\\\detokenize{bar:bar-a}]'\n306.             '{Section \\\\ref{\\\\detokenize{bar:bar-a}}}') in result\n307.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]{Fig.\\\\ref{\\\\detokenize{index:fig1}} '\n308.             '\\\\nameref{\\\\detokenize{index:fig1}}}') in result\n309.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]{Sect.\\\\ref{\\\\detokenize{foo:foo}} '\n310.             '\\\\nameref{\\\\detokenize{foo:foo}}}') in result\n311. \n312.     # sphinxmessages.sty\n313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')\n314.     print(result)\n315.     assert r'\\addto\\captionsenglish{\\renewcommand{\\figurename}{Fig.\\@{} }}' in result\n316.     assert r'\\addto\\captionsenglish{\\renewcommand{\\tablename}{Table }}' in result\n317.     assert r'\\addto\\captionsenglish{\\renewcommand{\\literalblockname}{Listing}}' in result\n318. ", start_line_number=283, end_line_number=318), Context(relative_path='tests/test_directive_code.py', content="349. @pytest.mark.sphinx('latex', testroot='directive-code')\n350. def test_code_block_caption_latex(app, status, warning):\n351.     app.builder.build_all()\n352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')\n353.     caption = '\\\\sphinxSetupCaptionForVerbatim{caption \\\\sphinxstyleemphasis{test} rb}'\n354.     label = '\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:id1}}}'\n355.     link = '\\\\hyperref[\\\\detokenize{caption:name-test-rb}]' \\\n356.            '{Listing \\\\ref{\\\\detokenize{caption:name-test-rb}}}'\n357.     assert caption in latex\n358.     assert label in latex\n359.     assert link in latex\n360. ", start_line_number=349, end_line_number=360), Context(relative_path='tests/test_build_latex.py', content="134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)\n135. def test_latex_warnings(app, status, warning):\n136.     app.builder.build_all()\n137. \n138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))\n139.     warnings_exp = LATEX_WARNINGS % {\n140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}\n141.     assert re.match(warnings_exp + '$', warnings), \\\n142.         'Warnings don\\'t match:\\n' + \\\n143.         '--- Expected (regex):\\n' + warnings_exp + \\\n144.         '--- Got:\\n' + warnings\n145. ", start_line_number=134, end_line_number=145), Context(relative_path='tests/test_directive_code.py', content="362. @pytest.mark.sphinx('latex', testroot='directive-code')\n363. def test_code_block_namedlink_latex(app, status, warning):\n364.     app.builder.build_all()\n365.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')\n366.     label1 = '\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:name-test-rb}}}'\n367.     link1 = '\\\\hyperref[\\\\detokenize{caption:name-test-rb}]'\\\n368.             '{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{Ruby}}'\n369.     label2 = ('\\\\def\\\\sphinxLiteralBlockLabel'\n370.               '{\\\\label{\\\\detokenize{namedblocks:some-ruby-code}}}')\n371.     link2 = '\\\\hyperref[\\\\detokenize{namedblocks:some-ruby-code}]'\\\n372.             '{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{the ruby code}}}'\n373.     assert label1 in latex\n374.     assert link1 in latex\n375.     assert label2 in latex\n376.     assert link2 in latex\n377. ", start_line_number=362, end_line_number=377), Context(relative_path='tests/test_build_latex.py', content="1469. @pytest.mark.sphinx('latex', testroot='latex-labels')\n1470. def test_latex_labels(app, status, warning):\n1471.     app.builder.build_all()\n1472. \n1473.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')\n1474. \n1475.     # figures\n1476.     assert (r'\\caption{labeled figure}'\n1477.             r'\\label{\\detokenize{index:id1}}'\n1478.             r'\\label{\\detokenize{index:figure2}}'\n1479.             r'\\label{\\detokenize{index:figure1}}'\n1480.             r'\\end{figure}' in result)\n1481.     assert (r'\\caption{labeled figure}'\n1482.             '\\\\label{\\\\detokenize{index:figure3}}\\n'\n1483.             '\\\\begin{sphinxlegend}\\n\\\\sphinxAtStartPar\\n'\n1484.             'with a legend\\n\\\\end{sphinxlegend}\\n'\n1485.             r'\\end{figure}' in result)\n1486. \n1487.     # code-blocks\n1488.     assert (r'\\def\\sphinxLiteralBlockLabel{'\n1489.             r'\\label{\\detokenize{index:codeblock2}}'\n1490.             r'\\label{\\detokenize{index:codeblock1}}}' in result)\n1491.     assert (r'\\def\\sphinxLiteralBlockLabel{'\n1492.             r'\\label{\\detokenize{index:codeblock3}}}' in result)\n1493. \n1494.     # tables\n1495.     assert (r'\\sphinxcaption{table caption}'\n1496.             r'\\label{\\detokenize{index:id2}}'\n1497.             r'\\label{\\detokenize{index:table2}}'\n1498.             r'\\label{\\detokenize{index:table1}}' in result)\n1499.     assert (r'\\sphinxcaption{table caption}'\n1500.             r'\\label{\\detokenize{index:table3}}' in result)\n1501. \n1502.     # sections\n1503.     assert ('\\\\chapter{subsection}\\n'\n1504.             r'\\label{\\detokenize{index:subsection}}'\n1505.             r'\\label{\\detokenize{index:section2}}'\n1506.             r'\\label{\\detokenize{index:section1}}' in result)\n1507.     assert ('\\\\section{subsubsection}\\n'\n1508.             r'\\label{\\detokenize{index:subsubsection}}'\n1509.             r'\\label{\\detokenize{index:section3}}' in result)\n1510.     assert ('\\\\subsection{otherdoc}\\n'\n1511.             r'\\label{\\detokenize{otherdoc:otherdoc}}'\n1512.             r'\\label{\\detokenize{otherdoc::doc}}' in result)\n1513. \n1514.     # Embedded standalone hyperlink reference (refs: #5948)\n1515.     assert result.count(r'\\label{\\detokenize{index:section1}}') == 1", start_line_number=1469, end_line_number=1515)]
2025-10-04 12:35:26,462 - thread-139911184823872.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-04 12:35:26,462 - thread-139911184823872.app.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-10-04 12:35:26,462 - thread-139911184823872.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/test_directive_code.py', content="379. @pytest.mark.sphinx('latex', testroot='directive-code')\n380. def test_code_block_emphasize_latex(app, status, warning):\n381.     app.builder.build(['emphasize'])\n382.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n383.     includes = '\\\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\\n'\n384.     assert includes in latex\n385.     includes = '\\\\end{sphinxVerbatim}\\n\\\\sphinxresetverbatimhllines\\n'\n386.     assert includes in latex\n387. ", start_line_number=379, end_line_number=387), Context(relative_path='tests/test_directive_code.py', content="443. @pytest.mark.sphinx('latex', testroot='directive-code')\n444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):\n445.     app.builder.build_all()\n446.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8').replace('\\r\\n', '\\n')\n447.     includes = (\n448.         '\\\\begin{sphinxVerbatim}'\n449.         '[commandchars=\\\\\\\\\\\\{\\\\},numbers=left,firstnumber=1,stepnumber=1]\\n'\n450.         '\\n'\n451.         '\\n'\n452.         '\\n'\n453.         '\\\\end{sphinxVerbatim}\\n')\n454.     assert includes in latex\n455. ", start_line_number=443, end_line_number=455), Context(relative_path='tests/test_build_latex.py', content="283. @pytest.mark.sphinx('latex', testroot='numfig',\n284.                     confoverrides={'numfig': True})\n285. def test_numref(app, status, warning):\n286.     app.builder.build_all()\n287.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')\n288.     print(result)\n289.     print(status.getvalue())\n290.     print(warning.getvalue())\n291.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]'\n292.             '{Fig.\\\\@ \\\\ref{\\\\detokenize{index:fig1}}}') in result\n293.     assert ('\\\\hyperref[\\\\detokenize{baz:fig22}]'\n294.             '{Figure\\\\ref{\\\\detokenize{baz:fig22}}}') in result\n295.     assert ('\\\\hyperref[\\\\detokenize{index:table-1}]'\n296.             '{Table \\\\ref{\\\\detokenize{index:table-1}}}') in result\n297.     assert ('\\\\hyperref[\\\\detokenize{baz:table22}]'\n298.             '{Table:\\\\ref{\\\\detokenize{baz:table22}}}') in result\n299.     assert ('\\\\hyperref[\\\\detokenize{index:code-1}]'\n300.             '{Listing \\\\ref{\\\\detokenize{index:code-1}}}') in result\n301.     assert ('\\\\hyperref[\\\\detokenize{baz:code22}]'\n302.             '{Code\\\\sphinxhyphen{}\\\\ref{\\\\detokenize{baz:code22}}}') in result\n303.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]'\n304.             '{Section \\\\ref{\\\\detokenize{foo:foo}}}') in result\n305.     assert ('\\\\hyperref[\\\\detokenize{bar:bar-a}]'\n306.             '{Section \\\\ref{\\\\detokenize{bar:bar-a}}}') in result\n307.     assert ('\\\\hyperref[\\\\detokenize{index:fig1}]{Fig.\\\\ref{\\\\detokenize{index:fig1}} '\n308.             '\\\\nameref{\\\\detokenize{index:fig1}}}') in result\n309.     assert ('\\\\hyperref[\\\\detokenize{foo:foo}]{Sect.\\\\ref{\\\\detokenize{foo:foo}} '\n310.             '\\\\nameref{\\\\detokenize{foo:foo}}}') in result\n311. \n312.     # sphinxmessages.sty\n313.     result = (app.outdir / 'sphinxmessages.sty').read_text(encoding='utf8')\n314.     print(result)\n315.     assert r'\\addto\\captionsenglish{\\renewcommand{\\figurename}{Fig.\\@{} }}' in result\n316.     assert r'\\addto\\captionsenglish{\\renewcommand{\\tablename}{Table }}' in result\n317.     assert r'\\addto\\captionsenglish{\\renewcommand{\\literalblockname}{Listing}}' in result\n318. ", start_line_number=283, end_line_number=318), Context(relative_path='tests/test_directive_code.py', content="349. @pytest.mark.sphinx('latex', testroot='directive-code')\n350. def test_code_block_caption_latex(app, status, warning):\n351.     app.builder.build_all()\n352.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')\n353.     caption = '\\\\sphinxSetupCaptionForVerbatim{caption \\\\sphinxstyleemphasis{test} rb}'\n354.     label = '\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:id1}}}'\n355.     link = '\\\\hyperref[\\\\detokenize{caption:name-test-rb}]' \\\n356.            '{Listing \\\\ref{\\\\detokenize{caption:name-test-rb}}}'\n357.     assert caption in latex\n358.     assert label in latex\n359.     assert link in latex\n360. ", start_line_number=349, end_line_number=360), Context(relative_path='tests/test_build_latex.py', content="134. @pytest.mark.sphinx('latex', testroot='warnings', freshenv=True)\n135. def test_latex_warnings(app, status, warning):\n136.     app.builder.build_all()\n137. \n138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + '{1,2}', '/', warning.getvalue()))\n139.     warnings_exp = LATEX_WARNINGS % {\n140.         'root': re.escape(app.srcdir.replace(os.sep, '/'))}\n141.     assert re.match(warnings_exp + '$', warnings), \\\n142.         'Warnings don\\'t match:\\n' + \\\n143.         '--- Expected (regex):\\n' + warnings_exp + \\\n144.         '--- Got:\\n' + warnings\n145. ", start_line_number=134, end_line_number=145), Context(relative_path='tests/test_directive_code.py', content="362. @pytest.mark.sphinx('latex', testroot='directive-code')\n363. def test_code_block_namedlink_latex(app, status, warning):\n364.     app.builder.build_all()\n365.     latex = (app.outdir / 'python.tex').read_text(encoding='utf8')\n366.     label1 = '\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:name-test-rb}}}'\n367.     link1 = '\\\\hyperref[\\\\detokenize{caption:name-test-rb}]'\\\n368.             '{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{Ruby}}'\n369.     label2 = ('\\\\def\\\\sphinxLiteralBlockLabel'\n370.               '{\\\\label{\\\\detokenize{namedblocks:some-ruby-code}}}')\n371.     link2 = '\\\\hyperref[\\\\detokenize{namedblocks:some-ruby-code}]'\\\n372.             '{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{the ruby code}}}'\n373.     assert label1 in latex\n374.     assert link1 in latex\n375.     assert label2 in latex\n376.     assert link2 in latex\n377. ", start_line_number=362, end_line_number=377), Context(relative_path='tests/test_build_latex.py', content="1469. @pytest.mark.sphinx('latex', testroot='latex-labels')\n1470. def test_latex_labels(app, status, warning):\n1471.     app.builder.build_all()\n1472. \n1473.     result = (app.outdir / 'python.tex').read_text(encoding='utf8')\n1474. \n1475.     # figures\n1476.     assert (r'\\caption{labeled figure}'\n1477.             r'\\label{\\detokenize{index:id1}}'\n1478.             r'\\label{\\detokenize{index:figure2}}'\n1479.             r'\\label{\\detokenize{index:figure1}}'\n1480.             r'\\end{figure}' in result)\n1481.     assert (r'\\caption{labeled figure}'\n1482.             '\\\\label{\\\\detokenize{index:figure3}}\\n'\n1483.             '\\\\begin{sphinxlegend}\\n\\\\sphinxAtStartPar\\n'\n1484.             'with a legend\\n\\\\end{sphinxlegend}\\n'\n1485.             r'\\end{figure}' in result)\n1486. \n1487.     # code-blocks\n1488.     assert (r'\\def\\sphinxLiteralBlockLabel{'\n1489.             r'\\label{\\detokenize{index:codeblock2}}'\n1490.             r'\\label{\\detokenize{index:codeblock1}}}' in result)\n1491.     assert (r'\\def\\sphinxLiteralBlockLabel{'\n1492.             r'\\label{\\detokenize{index:codeblock3}}}' in result)\n1493. \n1494.     # tables\n1495.     assert (r'\\sphinxcaption{table caption}'\n1496.             r'\\label{\\detokenize{index:id2}}'\n1497.             r'\\label{\\detokenize{index:table2}}'\n1498.             r'\\label{\\detokenize{index:table1}}' in result)\n1499.     assert (r'\\sphinxcaption{table caption}'\n1500.             r'\\label{\\detokenize{index:table3}}' in result)\n1501. \n1502.     # sections\n1503.     assert ('\\\\chapter{subsection}\\n'\n1504.             r'\\label{\\detokenize{index:subsection}}'\n1505.             r'\\label{\\detokenize{index:section2}}'\n1506.             r'\\label{\\detokenize{index:section1}}' in result)\n1507.     assert ('\\\\section{subsubsection}\\n'\n1508.             r'\\label{\\detokenize{index:subsubsection}}'\n1509.             r'\\label{\\detokenize{index:section3}}' in result)\n1510.     assert ('\\\\subsection{otherdoc}\\n'\n1511.             r'\\label{\\detokenize{otherdoc:otherdoc}}'\n1512.             r'\\label{\\detokenize{otherdoc::doc}}' in result)\n1513. \n1514.     # Embedded standalone hyperlink reference (refs: #5948)\n1515.     assert result.count(r'\\label{\\detokenize{index:section1}}') == 1", start_line_number=1469, end_line_number=1515)]
2025-10-04 12:35:26,463 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nLaTeX: new Inline code highlighting from #10251 adds whitespace at start and end in pdf output\n\nIssue description: \n### Describe the bug\n\nThe #10251 enhancement activates syntax highlighting for the Docutiles `code` role. For LaTeX output, a space character is inserted at start and end of the inline code.\n\nExample\n```\nInline \\sphinxcode{\\sphinxupquote{ <--- this produces a space in output\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass} <-- here also\n}} code block\n\n```\n\na priori, mark-up should be:\n```\nInline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n}} code block\n```\n\nBut I have no no strong opinion if good or bad. See screenshots.\n\n### How to Reproduce\n\n```\n.. role:: python(code)\n   :language: python\n   :class: highlight\n\nInline :python:`def foo(1 + 2 + None + "abc"): pass` code block\n\n.. code-block:: python\n\n   def foo(1 + 2 + None + "abc"): pass\n```\n\nin `index.rst` and `make latexpdf`.\n\n### Expected behavior\n\n_No response_\n\n### Your project\n\nextracted from test_build_latex.py\n\n### Screenshots\n\nwith current:\n\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 11 08](https://user-images.githubusercontent.com/2589111/167289522-fca10320-7df4-439a-9da9-2dbff5a64496.png)\n\nif space characters removed from `.tex` file produced by LaTeX writer:\n\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 10 32](https://user-images.githubusercontent.com/2589111/167289536-5643529b-4be5-4848-bcde-b1404fe37e5d.png)\n\nFor comparison prior to #10251 merge:\n![Capture dâ€™eÌcran 2022-05-08 aÌ€ 11 21 08](https://user-images.githubusercontent.com/2589111/167289864-0773fcef-4a80-42e8-94f9-4da02bc90c68.png)\n\n### OS\n\nMac\n\n### Python version\n\n3.9\n\n### Sphinx version\n\n5.x\n\n### Sphinx extensions\n\n_No response_\n\n### Extra tools\n\n_No response_\n\n### Additional context\n\nRelates #10251\n\nIssue comments:\n\n\nBug reproducing context:\nFile: tests/test_directive_code.py\nLine number range: 379 - 387\nContent:\n379. @pytest.mark.sphinx(\'latex\', testroot=\'directive-code\')\n380. def test_code_block_emphasize_latex(app, status, warning):\n381.     app.builder.build([\'emphasize\'])\n382.     latex = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\').replace(\'\\r\\n\', \'\\n\')\n383.     includes = \'\\\\fvset{hllines={, 5, 6, 13, 14, 15, 24, 25, 26,}}%\\n\'\n384.     assert includes in latex\n385.     includes = \'\\\\end{sphinxVerbatim}\\n\\\\sphinxresetverbatimhllines\\n\'\n386.     assert includes in latex\n387. \n\n\nFile: tests/test_directive_code.py\nLine number range: 443 - 455\nContent:\n443. @pytest.mark.sphinx(\'latex\', testroot=\'directive-code\')\n444. def test_literalinclude_file_whole_of_emptyline(app, status, warning):\n445.     app.builder.build_all()\n446.     latex = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\').replace(\'\\r\\n\', \'\\n\')\n447.     includes = (\n448.         \'\\\\begin{sphinxVerbatim}\'\n449.         \'[commandchars=\\\\\\\\\\\\{\\\\},numbers=left,firstnumber=1,stepnumber=1]\\n\'\n450.         \'\\n\'\n451.         \'\\n\'\n452.         \'\\n\'\n453.         \'\\\\end{sphinxVerbatim}\\n\')\n454.     assert includes in latex\n455. \n\n\nFile: tests/test_build_latex.py\nLine number range: 283 - 318\nContent:\n283. @pytest.mark.sphinx(\'latex\', testroot=\'numfig\',\n284.                     confoverrides={\'numfig\': True})\n285. def test_numref(app, status, warning):\n286.     app.builder.build_all()\n287.     result = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n288.     print(result)\n289.     print(status.getvalue())\n290.     print(warning.getvalue())\n291.     assert (\'\\\\hyperref[\\\\detokenize{index:fig1}]\'\n292.             \'{Fig.\\\\@ \\\\ref{\\\\detokenize{index:fig1}}}\') in result\n293.     assert (\'\\\\hyperref[\\\\detokenize{baz:fig22}]\'\n294.             \'{Figure\\\\ref{\\\\detokenize{baz:fig22}}}\') in result\n295.     assert (\'\\\\hyperref[\\\\detokenize{index:table-1}]\'\n296.             \'{Table \\\\ref{\\\\detokenize{index:table-1}}}\') in result\n297.     assert (\'\\\\hyperref[\\\\detokenize{baz:table22}]\'\n298.             \'{Table:\\\\ref{\\\\detokenize{baz:table22}}}\') in result\n299.     assert (\'\\\\hyperref[\\\\detokenize{index:code-1}]\'\n300.             \'{Listing \\\\ref{\\\\detokenize{index:code-1}}}\') in result\n301.     assert (\'\\\\hyperref[\\\\detokenize{baz:code22}]\'\n302.             \'{Code\\\\sphinxhyphen{}\\\\ref{\\\\detokenize{baz:code22}}}\') in result\n303.     assert (\'\\\\hyperref[\\\\detokenize{foo:foo}]\'\n304.             \'{Section \\\\ref{\\\\detokenize{foo:foo}}}\') in result\n305.     assert (\'\\\\hyperref[\\\\detokenize{bar:bar-a}]\'\n306.             \'{Section \\\\ref{\\\\detokenize{bar:bar-a}}}\') in result\n307.     assert (\'\\\\hyperref[\\\\detokenize{index:fig1}]{Fig.\\\\ref{\\\\detokenize{index:fig1}} \'\n308.             \'\\\\nameref{\\\\detokenize{index:fig1}}}\') in result\n309.     assert (\'\\\\hyperref[\\\\detokenize{foo:foo}]{Sect.\\\\ref{\\\\detokenize{foo:foo}} \'\n310.             \'\\\\nameref{\\\\detokenize{foo:foo}}}\') in result\n311. \n312.     # sphinxmessages.sty\n313.     result = (app.outdir / \'sphinxmessages.sty\').read_text(encoding=\'utf8\')\n314.     print(result)\n315.     assert r\'\\addto\\captionsenglish{\\renewcommand{\\figurename}{Fig.\\@{} }}\' in result\n316.     assert r\'\\addto\\captionsenglish{\\renewcommand{\\tablename}{Table }}\' in result\n317.     assert r\'\\addto\\captionsenglish{\\renewcommand{\\literalblockname}{Listing}}\' in result\n318. \n\n\nFile: tests/test_directive_code.py\nLine number range: 349 - 360\nContent:\n349. @pytest.mark.sphinx(\'latex\', testroot=\'directive-code\')\n350. def test_code_block_caption_latex(app, status, warning):\n351.     app.builder.build_all()\n352.     latex = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n353.     caption = \'\\\\sphinxSetupCaptionForVerbatim{caption \\\\sphinxstyleemphasis{test} rb}\'\n354.     label = \'\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:id1}}}\'\n355.     link = \'\\\\hyperref[\\\\detokenize{caption:name-test-rb}]\' \\\n356.            \'{Listing \\\\ref{\\\\detokenize{caption:name-test-rb}}}\'\n357.     assert caption in latex\n358.     assert label in latex\n359.     assert link in latex\n360. \n\n\nFile: tests/test_build_latex.py\nLine number range: 134 - 145\nContent:\n134. @pytest.mark.sphinx(\'latex\', testroot=\'warnings\', freshenv=True)\n135. def test_latex_warnings(app, status, warning):\n136.     app.builder.build_all()\n137. \n138.     warnings = strip_escseq(re.sub(re.escape(os.sep) + \'{1,2}\', \'/\', warning.getvalue()))\n139.     warnings_exp = LATEX_WARNINGS % {\n140.         \'root\': re.escape(app.srcdir.replace(os.sep, \'/\'))}\n141.     assert re.match(warnings_exp + \'$\', warnings), \\\n142.         \'Warnings don\\\'t match:\\n\' + \\\n143.         \'--- Expected (regex):\\n\' + warnings_exp + \\\n144.         \'--- Got:\\n\' + warnings\n145. \n\n\nFile: tests/test_directive_code.py\nLine number range: 362 - 377\nContent:\n362. @pytest.mark.sphinx(\'latex\', testroot=\'directive-code\')\n363. def test_code_block_namedlink_latex(app, status, warning):\n364.     app.builder.build_all()\n365.     latex = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n366.     label1 = \'\\\\def\\\\sphinxLiteralBlockLabel{\\\\label{\\\\detokenize{caption:name-test-rb}}}\'\n367.     link1 = \'\\\\hyperref[\\\\detokenize{caption:name-test-rb}]\'\\\n368.             \'{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{Ruby}}\'\n369.     label2 = (\'\\\\def\\\\sphinxLiteralBlockLabel\'\n370.               \'{\\\\label{\\\\detokenize{namedblocks:some-ruby-code}}}\')\n371.     link2 = \'\\\\hyperref[\\\\detokenize{namedblocks:some-ruby-code}]\'\\\n372.             \'{\\\\sphinxcrossref{\\\\DUrole{std,std-ref}{the ruby code}}}\'\n373.     assert label1 in latex\n374.     assert link1 in latex\n375.     assert label2 in latex\n376.     assert link2 in latex\n377. \n\n\nFile: tests/test_build_latex.py\nLine number range: 1469 - 1515\nContent:\n1469. @pytest.mark.sphinx(\'latex\', testroot=\'latex-labels\')\n1470. def test_latex_labels(app, status, warning):\n1471.     app.builder.build_all()\n1472. \n1473.     result = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n1474. \n1475.     # figures\n1476.     assert (r\'\\caption{labeled figure}\'\n1477.             r\'\\label{\\detokenize{index:id1}}\'\n1478.             r\'\\label{\\detokenize{index:figure2}}\'\n1479.             r\'\\label{\\detokenize{index:figure1}}\'\n1480.             r\'\\end{figure}\' in result)\n1481.     assert (r\'\\caption{labeled figure}\'\n1482.             \'\\\\label{\\\\detokenize{index:figure3}}\\n\'\n1483.             \'\\\\begin{sphinxlegend}\\n\\\\sphinxAtStartPar\\n\'\n1484.             \'with a legend\\n\\\\end{sphinxlegend}\\n\'\n1485.             r\'\\end{figure}\' in result)\n1486. \n1487.     # code-blocks\n1488.     assert (r\'\\def\\sphinxLiteralBlockLabel{\'\n1489.             r\'\\label{\\detokenize{index:codeblock2}}\'\n1490.             r\'\\label{\\detokenize{index:codeblock1}}}\' in result)\n1491.     assert (r\'\\def\\sphinxLiteralBlockLabel{\'\n1492.             r\'\\label{\\detokenize{index:codeblock3}}}\' in result)\n1493. \n1494.     # tables\n1495.     assert (r\'\\sphinxcaption{table caption}\'\n1496.             r\'\\label{\\detokenize{index:id2}}\'\n1497.             r\'\\label{\\detokenize{index:table2}}\'\n1498.             r\'\\label{\\detokenize{index:table1}}\' in result)\n1499.     assert (r\'\\sphinxcaption{table caption}\'\n1500.             r\'\\label{\\detokenize{index:table3}}\' in result)\n1501. \n1502.     # sections\n1503.     assert (\'\\\\chapter{subsection}\\n\'\n1504.             r\'\\label{\\detokenize{index:subsection}}\'\n1505.             r\'\\label{\\detokenize{index:section2}}\'\n1506.             r\'\\label{\\detokenize{index:section1}}\' in result)\n1507.     assert (\'\\\\section{subsubsection}\\n\'\n1508.             r\'\\label{\\detokenize{index:subsubsection}}\'\n1509.             r\'\\label{\\detokenize{index:section3}}\' in result)\n1510.     assert (\'\\\\subsection{otherdoc}\\n\'\n1511.             r\'\\label{\\detokenize{otherdoc:otherdoc}}\'\n1512.             r\'\\label{\\detokenize{otherdoc::doc}}\' in result)\n1513. \n1514.     # Embedded standalone hyperlink reference (refs: #5948)\n1515.     assert result.count(r\'\\label{\\detokenize{index:section1}}\') == 1\n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-10-04 12:36:43,012 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nimport pytest\nimport re\n\n@pytest.mark.sphinx(\'latex\', testroot=\'latex-inline-code\')\ndef test_inline_code_no_extra_whitespace(app, status, warning):\n    """\n    Test for bug reported in issue #10296.\n    Ensures that for LaTeX output, a space character is not inserted at the start\n    and end of the inline code when using the \'code\' role with syntax highlighting.\n    This is verified by checking for the presence of \'%\' characters which are\n    used in LaTeX to gobble unwanted whitespace.\n    """\n    (app.srcdir / \'index.rst\').write_text(\n        """\n.. role:: python(code)\n   :language: python\n   :class: highlight\n\nInline :python:`def foo(1 + 2 + None + "abc"): pass` code block\n        """,\n        encoding=\'utf8\'\n    )\n\n    app.builder.build_all()\n    result = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n\n    expected = (\n        \'Inline \\\\sphinxcode{\\\\sphinxupquote{%\\n\'\n        \'\\\\PYG{k}{def} \\\\PYG{n+nf}{foo}\\\\PYG{p}{(}\\\\PYG{l+m+mi}{1} \\\\PYG{o}{+} \\\\PYG{l+m+mi}{2} \\\\PYG{o}{+} \\\\PYG{k+kc}{None} \\\\PYG{o}{+} \\\\PYG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{l+s+s2}{abc}\\\\PYG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{p}{)}\\\\PYG{p}{:} \\\\PYG{k}{pass}%\\n\'\n        \'}} code block\'\n    )\n    assert expected in result\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4725, 'candidates_token_count': 428, 'total_token_count': 12960, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4725}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 428}], 'thoughts_token_count': 7807, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -2.8250050767559873, 'model_name': 'gemini-2.5-pro'} id='run--5c18dc44-a800-478b-b385-2c3ec5934723-0' usage_metadata={'input_tokens': 4725, 'output_tokens': 428, 'total_tokens': 12960, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 7807}}
2025-10-04 12:37:07,181 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "import pytest\\nimport re\\n\\n@pytest.mark.sphinx(\'latex\', testroot=\'latex-inline-code\')\\ndef test_inline_code_no_extra_whitespace(app, status, warning):\\n    \\"\\"\\"\\n    Test for bug reported in issue #10296.\\n    Ensures that for LaTeX output, a space character is not inserted at the start\\n    and end of the inline code when using the \'code\' role with syntax highlighting.\\n    This is verified by checking for the presence of \'%\' characters which are\\n    used in LaTeX to gobble unwanted whitespace.\\n    \\"\\"\\"\\n    (app.srcdir / \'index.rst\').write_text(\\n        \\"\\"\\"\\n.. role:: python(code)\\n   :language: python\\n   :class: highlight\\n\\nInline :python:`def foo(1 + 2 + None + \\"abc\\"): pass` code block\\n        \\"\\"\\",\\n        encoding=\'utf8\'\\n    )\\n\\n    app.builder.build_all()\\n    result = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\\n\\n    expected = (\\n        \'Inline \\\\\\\\sphinxcode{\\\\\\\\sphinxupquote{%\\\\n\'\\n        \'\\\\\\\\PYG{k}{def} \\\\\\\\PYG{n+nf}{foo}\\\\\\\\PYG{p}{(}\\\\\\\\PYG{l+m+mi}{1} \\\\\\\\PYG{o}{+} \\\\\\\\PYG{l+m+mi}{2} \\\\\\\\PYG{o}{+} \\\\\\\\PYG{k+kc}{None} \\\\\\\\PYG{o}{+} \\\\\\\\PYG{l+s+s2}{\\\\\\\\PYGZdq{}}\\\\\\\\PYG{l+s+s2}{abc}\\\\\\\\PYG{l+s+s2}{\\\\\\\\PYGZdq{}}\\\\\\\\PYG{p}{)}\\\\\\\\PYG{p}{:} \\\\\\\\PYG{k}{pass}%\\\\n\'\\n        \'}} code block\'\\n    )\\n    assert expected in result\\n", "relative_path": "tests/test_latex_inline_code.py"}'}, '__gemini_function_call_thought_signatures__': {'cf32c0e8-6c98-4d77-af20-179f401e38f2': 'Csw2AR/MhbackJKc2yqjnEyAFSTmzYaKJazwlpnd6JWe6le/AyPgQTdDXgeXWZ1fnVZmQnOyYEouMJvBoTH1TBix7vRV/JpnSl2lHn3NAvKwi4/oJ56L4+xcPc7vSV954xAi1ujxE8RTfowYyKvg0vfoEQIwxA2AmUULaw7bQ2sykza8GGxW4Qr4mYZA35VMyvrJs+uQOeClnVXQRYQUAEpkLXvXjkDIh/BjwLCIOlM+xLtNrFzWM9lMdUSBc4CzVc28WVkwccvdPisVAFzQH5oKcSehvWyHN/6JcTqbqSOch1xojMBTy2OLfVjsl2TmJjYH/cD8Jgujn+N84YOPqGo0f7fw9pif+ZJoiaJExGVMpCRelIF0d03ypicGMfLyfPpvdIFXCWLw2XvwPnoPB/jhUUXswAP8vwOOmQjTs2RzlLg2ZNlRiFZ74WuApr+bqdn8PyVctxxI6DXb3aGoPFfWbHzDtbe9nmKm6ntG7NySyndYu72fI5LhYaYW1r6i3jcZbTdlVLO24jkowOM5GK9MJ9TgteTSvglOOzQ+dVq5X6kVALtrQzd5dxgMB29K094fnMI5fDw4YB3dcBzwGboG3vh5g9VhYwIcVEQc8kxw+d5wE9QmfFBr1Md+Y0GlqSUYfDy3XM5laodQ0QxvqOFOXLHKm/ZSPUgABV642gr3u+yhkF54GQeMxKktQXaj6YEMz1r97CFtjFLDnPLggJWHakoW6q7JkwA+jJ3xfzdQvpTtFczjqAo+eMFT72RwKHYLEvncYRPqW0HQhFpmyX97ls7WBhXcMoVLij3z5FCgPuds+Nfp3tN3TvHYrknr7W8zBVjWLEkAMcqrjXn3tWGIwBbeczoaGBctZuszZnRlNCXh0oo2z66Hykp8isic/5blU96CTWUVTnxOySNjMD6F0OZsNUJOGtjDyocsp5PlznJwdFx3jvCFYYNgcBZJigunbQyKSniRen7f9zXNZcsEDU9wUDGbmSWx4QxJZpybMjuFJHG05Q7FZKkmI0uzDE74m5Gd/LJL8kZCWSo8s7JH3UCT7gTsT2UjTIvDHluYBGGDOIi4R5OWV5+rN1Q0XeeIPA4FecxO+nJuXTYbFWCa9TgfquY8YlXzH0kbYW8uC5T7xhdo1R3yz/1SyM44m71CW8/50+LLx7XAtRXKjJ7wAn+tylWl5s68G4PGRkHpKGqeD+Ps+8QbRfXbre+qCcw0mOB+iM7gnfSXoDmgczWwbqqKDQ/9rI0iodJn8PHFQi9oTQeYJetPC9K+xypHz79aeqtIk2XTR46Yf2UqPKdfjgktWKRJkVgAelWPAU3uXTH3LQ1RceDqwRDkw0ETUbKRlyoeSkNqlfkDXsWskIWOpLeDFSqnhYFLC83TTdXckcGFiMlUgbAqyT9R0iz6AtdePQcR8ETS8pNjet1xrwyioktPsxTWOzrU18P8M2ZA2ATKpHk5pYLJwIvtdDRcr7E1eqni5IfC/SK8KdMoZ/zQaqhlAtHDVSdKCkrseel2KsNuWtNjkMcETiDVJwEeap0KRYp01UL4KahwQCujxfTnq6gzfAGuMMnPwq3ThrnvhRFKWBbixvze1qdVwOhIv9Jo3s2EZo7rxxaKlIzZO0HJ5BMDyc3w6QalFkY6m4d2CUkurwLPecGPqyn81WoZ5pSm2Zegcragv2Sk6PpFmkAkNJmfORJHf6nq7oxjv/aB/oexd4AxoLtXHSoXyG1+WlatUc3EFzKMFppBkxQXwR8N1dMcR4acpxkONPkZ7yWLxGgh16GmB5nyuUtjPqmdaAJqQwz5COqV/cbPWxRpiO0LoROsYJM1+kHgEvKlZmkYOdXk6x1IYUhJIIxbduB66U2kHvF90SawIzG0cz9fpx57d282Ovr9Js6o9MqBbm7z/UzzOjwJYUiaCmoyqisjXR2lkb4NtKL84C44SapRvo3Ko02C7Bp9TxUiPET0eQBkqezRnbJ20EDBWsej2fKwy6LgWg0da5ITsk8ism6wdPiOz+sp+gPnGyOap0tVWBcgSraxZUabeJeMeqO/k3N2I1HI19oNhMTVCZsTBXfURPSckZyqMRfdgDp18rlfNvED0xjiw8la2NO30wvUquzXeWICnMIeqS7hnY3tKqNumADZf23zw6VAR/28o7SxtAmtTyCTco3+mfrHVyf5QwwaCj3fJnCdFN+T5An7acq97ANwki03sbOYMf1P+AvekKx+Z82JzQ8K4yHuJXihcPOnvtnFUnhYQzX8Za3VSHZqU7w3q5IxaUNdhwIGIgV1wMqav3iQoPhlikbYVjhD/x2tdpTkUtoryRf0lZzTSDn5D66Xwew6WQh6cKUZ25nY970CHzdXACsOrlkqdq3LCqMWF0BQCgCTXDhUiLn9oyFvzsGOEzGuknXgAvor7+trAALps45fm3fiVx1xzyYuOVagiNKEygaSLJeOlYh0rvLe7iSdUicZ0YbAsoqQrMshdap8AhMAKyV7dcVOpOQgl+L8r3fRhW5dIV6zYF7aXSW3vt4Ug1x6c+ir+cijPK9kQ0NDVUpjgh/YxvUNQOllqchBxPD1K/u/LOJFiedrZK3MVh+1MtNVm9+T+C1y1ao+OOhrrJDUFfPdHH046QkVtSLjn8I6Ku323H3i6fN1YNrlTWIf9Bhipq5av4vVtPjH8oTygjQoZyc8tKzXzyOxAELQIMGSPmbRxzG2MgNil0SDcx3/z5l8GEnx0hwLJsUAIELEzoKBjTUPNi6ybur9+1SbYVmnlyHZWnsBQVD3RK7C9gkINAOrfKvqETjxXLsbsMxAbcAXPHSGXpjPv1mo2KCu7ervojSU/x+ogj4H98Ss2WtutX4PDNw9rFBsKSwGrdC32u5mIyY/MJtANElUC3IrtjLoxZ+lzri+o0CpD1X/ACJgo5sXETrDiSRcIow57Z/5z4ZF8wCNZaKLrIMKSHTlSYttmwEhYDDtd/o+xHePFPPlZP6Lj2OACoDU0OROI9xYZpxPZTBpeDbDcfp8Nkw4a8GNfnPvb8ETCNkTClqnDF3Dkiy4K1olD0B5LZSr7J3/TGXGP/KIEf6DpikyvgX7zioZVlYX/ZHkW/vmnZ2gKKVDgsGGeyM984PstxVJr2xAjuZ7YReqdku7wdB1lKWkvi5ZVWbisRDQBPKgYQVr/+j/c1Y6wyUUNNhT1BiyUQvCQ0AZIywXvqmbKTqlBGEqmlC/SJFUCZb+9ATV2/hmAwfZW41oLAk8LBM7cobB9OGfDjxAFKZngQTMz4YLsej1Q20iksz9fyltzP+TbSK1cq7kY1xIL+eLr1ckdJ+OiCvyKMYgjrpBDZ0HoR8/Y853wiF9RaMzKcsRpEemfE6GanQylvxeMm6wuu2K9nBj5WakHoozdltZw2sZBjykiNzCuaOvjSdlbKwOq1+GW6kjk8fjDD7iMIpFx3jQLhcqkBj7XjAyGI3GllYWojw8hBfNXS69TpYXdGSBX4bEP0F9+p/VsmKfbF2qL7zp8ZgFOgGeWhe7tUO+M1f2ChcsPBReNxOi8cdAQYlfdDTjIdDw/sVctlQiFcPPVoqlwsEUGoNYJJTWiEnIwW+hgxRTcvB/sHt7Jp/xEbnYNrmXQXgCrDY+SXq+eu5ZieC9NT/ZRlXfts32/vw1BBKvHbZi5jJXwHe/YDYgQ3P11ioZD4W0vz/Q7HCAtgYgQGblcV3tWI7/X0yU5NQUfplYi0Yi6XI4UVtEzeJ2LpAVglZtkm0cnTgcwoTkmcGHEa4aXQlUcKBt7HGfouNiyTtNblFy3pZMJi/r5CkvNs7NtbUOfcNrV/bH8KRgHEvcORTdUL1KKXIzD1n2twP+rsYYQG5nP+LFuvuay5YkyAfOn4FbbwAYsCgl4ntmizXO/UsZUN10FxallmgcHp5O8nq9DiXSzlWSGzRlycOct5k7+p2/pMka5HEau9KfGCmpDnAXCKJarIH6zBhS++KleZWI1JCW55vWIekW25SCwAIn5IoSv6ivVJuTJWT8p5N77RbyDDC8HDlW5oCZmZsyOO/0QPviUsbIM8xAJXkzaURrHwfCmYGe+2V26E+Akf6+yQoRSEue0Yp109ME3bPtAPxc+P4tOXcpJ48gTIUVja/ldrniJiRMBhvriZG+JsuATyg4fZPtEBi3JO0+Lf+Jlip5H1dnCBYsYSDDG3uBdmnhe6JKfGf65rhOVgHwz+8DoamKX7jrR8Aw8GFloMRO6GGg2PRGQxiFvBb9kmTruyXPOjHFXx4H7aFrPZu9m6DMkQM3boX3WUccfuKHDxXHsenVLPOsp5Itt47UPnAwH7b5Gwejun8yvv6RWIVPosSqD+3rq0ocZJagDbY66R0M3jL0hbdN89MEnW4rLjLvFCxUxf7bZ5urb0VKtW+St7x8RtYe+L+Y+4FwDUDkCrFDjgOBE39FfkmB8bcDzHVE4D1zFGnXZH3WXT6wdt5mrPLbJruQi5Qmzozee19ON0xPnQcOzXbBOkamP+2pciqDt+g5lbspU90rCMYpdYwaK+L/0XhwPy5OEzuTuAZE0ZokI4zCVaqADPGy0r+3cLMCvhdTInOx2lKWQv5uoNqx5eXF0OX+7pmkBRrAo9tj28bQyxDc5wOi0UyZb50Q91MrMdz+LDA52l56ntf804a/YHD1BqX2AFO9LUU4rJYOIh1IPEfQ8zcROYi+b/Jg3H1wFGhQpxDpD2G+mZFW6Zy45pjRd29+TYGJXHlClGGAQ3ef0H6G9tIT0iO3vZi1M1I7ROf71q1thI7yKfzVZa0FS3YFZyC8AO9pIS1YWkh+oTx6t76xsseRoOUiHMuhTz3VO4RMOftiZr+j0zbXtsC8AouoLkPdwJnl/516JOpySf2fI+r6V/Yt68+FIndCirSia0hPoETQdceyoCt1mREM1GsQo58j+4EomqKS3QDW6VSYiM3TPw1OcgbetKtm1UWXKs4JCvfFd5p8L2at+YoM339baxqo9RV6i44BQtfQ4pGIVj89Oc4eCRnzdgf/3sHdtC/Uv1lLy7mWrD7oSHf6AfaV8r12fBAOs6UcAu2dooPC1ZfVIo/7uWrwa9D9yqC3cnqP6YseozBSxtHkcwlV5e+TkgxwFWi+cxIw0OnppJ9eax35OYFit+uEFsCmfm+RdA73h6Zt+oQ7PJDJXcb5Rl+M75zOI3PXzLoSy0Z03eyKSfpsTkuOnRuciScY6RDBj0n+O04+NzJCSjQfvP2xYS8/3JLBpOUJMjxiT373AbE8/LUT/2mpaAZkdV5eSA7I5bOTJl7onGuYdSdAsFvz/K/VmEQUhPCT5LWvivNu2mhE6o+lA9sL/3wPaPXV/FDlpmBREqG9iA4crXl/nlsaa+VSMn64xnHU9SB/U7tpfE/2ROBi0cLweEHE7O9pR5kJSJRu+I7OiaZwlMZH0uozOCwTp0HTsyXGk9c123/NvEahWCH4K8VyvptYT1xr8vdg+qnTyJUieq5ICBgYpwXm3MXrGe/iTib9hEi7m9eD2GFCtyXTtKxdiFXW9mCkyeyzaw0pU21KQvCKclCjAqEGetUuCWvrYHfU3nmobeaXyPS9ksNc/cWOOfM7SigVIk+U3O2Avjeck3roM6umqzdrqHF4ikZXHYK/NLpgRhHjubhu6VgXT0+97wofw3XZ6b68B8sei7hQ4Ldy3ZKRHF63xtYdEZD7593kGr67oy7BxZ0utPh8DXGS1MiKtdC0QOO7x05AWeqMllLUAMlr82gXuZvpfmPIbq1TkzYrUj20d2++kRJWcv+3BxWpXVfBLTKMsgFlB9hY6W3q3RYj4LFrLjcKVwrXiAJ1A01IoghiS+x7JrDtfekDRYvxoyoBWbDpH8Za7U3zz4ItJfriQISJ9UGtr98j7XvgTtvq+mgCV93LfrokM4mkb5GvgHlGWaElBiNwGTIYSMzH7UXxRvPKeAwJbL3UErpIlW04gITDXp1XT2dNirev3/5CB8q7dLlNHZemB1qPA1wdCZFjHsqxczL1Sh7lY2R/stPkTS/oVN9uPH64T/1lNpck8Zc4GWprGytWcLZsRpbvgUoMZODmmqqMCqjNyAWe+JalzWo//jf/sgzCykTIdm5uEd6IOolX9IHrVGnz6hxvjlnhGRC2KEBJtWsz1+sUD0o6KdW5CqlKFS/6Gt5CeXyG6disoVZCtyDcJpb0LakYSfVuU9dIE9VaIs6PpLIFWlu6TzZDerIPYcgK6BjHV7a394So90Iqmum/Okv6SutJvWVrs6YKeNr4cnfF/3dX9Ec1KdJcx7ZlLMLQN+17eNDZIcsgdeGx6Tg1EOJA+N9hTnR2sELUyPC+RUMwb5g8TQ76oYO1Z4/XKgWKvSQX8zpFi/VgsvjhA5HPblZ6xJ9Q1A+7TLWlBi9zEtnLZohUyeQStP0/1eB39MHDT5rDv6KdtIKxbSAYuP52Dx/ZT94EvkzjQZZuYBShI4LiAOfMt7sD0ZFh+bq86PtSbvoot/FFeTSNVixcRKYz3uTTA+YnkZytCUA4Zj9UBF9inZgawsqmQZWqPa8S6mS8nmDivxWAzFRDOaaa6iXKB/AJiQ7M6rKPPtcYJ4CPcSiy8mpBTO8vgU2TN6qaI6i26eEvvtfafeeHMHQ3BffQIstL+WIUuYzrssrutO/sMgi7pTMk3KPIAV62qpHRjBV9TckJ2n8Zpo22gjJyT6UGghAmpbHf9Af3gSAmh5OvopKOoz9RE9Us6DBes5C+F5MrwVTBRHo6vt/DcLVsJZV+qp2cuHLxZs+dESNco0hl7t94AgDg2wbeMBtGgdheAdCre3kcOk+lg2nbxvXgawDE+Ts8hY2JzH8ke6uW32/kQhN1WV4Ly74kOkg7myjVih3dZKOqOeTaK9/iLOH1gR3VT5ZYYJzsazBM52bk6UY8EGyLs0cJSDyxv/RNPQZbGzdgTyMVNHQOQIU2HliRGAjrJio9tJ3fulKVYar8uKbsgKVSlmKe/h4W65jYBgqrWqvl1N4WIsV1YNwsYDtW1iSmplxknupt15JamQR6KFawUpTNfzixHfeb6AEDuSfJvY7xOSTrFXjECRyj1kNgZBCZRBq2YUpi9eS5WW+dk777ZU1HezsaNhM+LdVanC0SOM6mbjSWbXoLQRvHSQJTffyCSV3+mkLShS/IKlV1X5SZF9+7LR6webrlg7mhw0acwbCV66qz+No7wKI/7D+qxdV9lXJxR5mUOzf0xMXNxFtRv7GP8fSVpnJQxW/jrjNLmtvj2tFUBqIwzkMi10T0zJEug7HHRcc9ynanvDfYk7nNI5GGwAEIzwbEcbN+XAiHmeckzghdufhyIJyP49FHa47xJXseRXQ+T9Os8esWY2uKo5v94hmf9O80ze5+oeOCEaat0ZYLeYNcjtSZgFZFAOVXtNSaR+yOgMe2KIq9wdLq5dN3H7T2VMCn9c/5rYfrzjBQift1x2WslyJXllbfETXEZXr5PKJ5Tyd6yDof7db/fIx4WgEB2a9+/Djd3eCzrExCW7+pPC3//cItk73mwxY5vpyr50oGlE+/NJCRIxwYmiHV12DBSNyZmxXMh2gvFoi2lSvedyaXWiXocVT3oFbFpeDW7Dhes476TEU5uAXsdcb4A03Cf/ncY8ioc1NG5c2ML/f6njEUFdp97gbMzK14jy23JjB/fX0ZUGtQ5NjVXX3fXDR4Xq6L/pJZcEm3HxieTGWg367xIIvxhNfG9dgWKLIY66xERIYniSA8MDSJLOHjPmYBsrzh9IFtCswQc4VSYFXXRTaSiYGwCUih3RPF9asaU0fGnG0xjy64T6oN9FClzkQeQuBwMsKV79zzrGoTAE/UtlKhzrOkvY3oyno+A8JnUoDh0/vU43QZwR6nezmrdP95iXuipL1aun+zN6qxbGv83bvWphT07eb1ei0GnyqrazdKG1gXYngqiwZ2BGiWHCf7b8E7nTSgJrivkWCn7D5Wtiqr3fnXssNFUOJbKxO+PNznPExa4V9eQOnjywTfEDz5bzJ3GWtY7AWf0Rd0QEkLiQAVV1ocjZ0iQs4jjOsK5GcLTEgsoA0U05HAuJRpjmexIO9ALpYMTrPv9syEINYPJsivdC/aIlZvplTnWHazslv6SPSpJCQCRM3Z+OzUmKpjBxrcQ/GvN4eRk37+2L/zNCNuDnmGnHGjHGfCZgkGqLjgqcMNC1daZgkzQRmdPjUtgphmNSiMYvG3OFt44aRvoyKdTy1vZi+xzAJs+iGQq5uLIzSkk5MlDlDxPNoyl75lK3q0NuuuZgKVObcNqEeRJQVgJaQwOdweotuSo6FF9CbHBWzaWhN2UQ66clwKL+HtoMt8ZoYlKXzSMfj6Zt6sPf//CpDnVIazCDKnrzRE5KVrZfyutP31lRHO0frhGAu1BfNhBUuoVLsQlgGn/8dmTz1GwG/bSSsY8NBuhs91Y9Ix5AjMgxmaAXyhE3FOuqJ/ho8L7Rc4F53tXQi/BlqGwHjoeojXqHfIkdq+VxhEeN360yz9zrmVbAALLSti2Ek47wjQhJPdLg8ldgEdfSUnxlSiwIexDUZNHLw3K2I2firRyYcgqBrSk92SMPXwD7Vnxc/wgh7aepDoFYuWjvHyckfrKZ3/Rsy1/mOfI1PitFSJ7ahZ4a0U+bzLGI3SkkLqZgXjq1omZyLBR8KslfR2STqEI2eWO0o0mqYdEDe433yTZ2+NoRXhAxa8hiUCWSuCs91DReXD0JmZBker4pUXhRdVWUNCMf1ER7+lH4dmGUq6q3fb/wagAyWdVvnSMwJ3wHtiZgSFXiCKSUh4FtDtTs4YCq69jrATfRhk3hCPF/eXYmqJAT7atjcok45ambpLRz1WYyRnEdXnodTZaAczFveQvhlb70RWWaAsrgI2kmsqy6cC7pc3O/ygrWfPpSM0QXOnlc5XR1IOYzHW75c5i0K/noI0DQ3KuvxGBUw11j0E4dnBWySbVbg34kUGfMnBbW2QdySR0UQOvDYJTiiXAlmjKxOMdqGrbTg+YNJTbCp0CdqDvNLXcpMuhwlNgLlnTozfggWzCy/8OdtzRipNfcHQ6kqyD64WyS0Qsc9oyM2Ol/fHU+Mp8GmHkJNTPLSqYjKwlSgv5p+p9QU3HUcSfmAEkSAAP7DDv1XNyL2o0GHMvwD5rsmvY8Yde656IGx5mLSpsJKDZ7KLgiF2UXQfb9H1JjJNaPDkSdoAjKGikgikjugx45LzVZ9bEI6mfdrfZ6w/vYBINS5rFA0iMeJFCm0TPh6brmwzwo+ngzeOv42vAum+EwwJZ++eZFQIfgXW7ShlND9rE3R3eeL4P+6uTHkNgOO1Q1Ml2AVkb6tAsNCfpKYXzYB82cdyFXNqYciodA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17052, 'candidates_token_count': 442, 'total_token_count': 19454, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17052}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 442}], 'thoughts_token_count': 1960, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7642860930429864, 'model_name': 'gemini-2.5-pro'} id='run--5e57c9c5-9955-47ab-9226-5eb1d141ff31-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'import pytest\nimport re\n\n@pytest.mark.sphinx(\'latex\', testroot=\'latex-inline-code\')\ndef test_inline_code_no_extra_whitespace(app, status, warning):\n    """\n    Test for bug reported in issue #10296.\n    Ensures that for LaTeX output, a space character is not inserted at the start\n    and end of the inline code when using the \'code\' role with syntax highlighting.\n    This is verified by checking for the presence of \'%\' characters which are\n    used in LaTeX to gobble unwanted whitespace.\n    """\n    (app.srcdir / \'index.rst\').write_text(\n        """\n.. role:: python(code)\n   :language: python\n   :class: highlight\n\nInline :python:`def foo(1 + 2 + None + "abc"): pass` code block\n        """,\n        encoding=\'utf8\'\n    )\n\n    app.builder.build_all()\n    result = (app.outdir / \'python.tex\').read_text(encoding=\'utf8\')\n\n    expected = (\n        \'Inline \\\\sphinxcode{\\\\sphinxupquote{%\\n\'\n        \'\\\\PYG{k}{def} \\\\PYG{n+nf}{foo}\\\\PYG{p}{(}\\\\PYG{l+m+mi}{1} \\\\PYG{o}{+} \\\\PYG{l+m+mi}{2} \\\\PYG{o}{+} \\\\PYG{k+kc}{None} \\\\PYG{o}{+} \\\\PYG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{l+s+s2}{abc}\\\\PYG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{p}{)}\\\\PYG{p}{:} \\\\PYG{k}{pass}%\\n\'\n        \'}} code block\'\n    )\n    assert expected in result\n', 'relative_path': 'tests/test_latex_inline_code.py'}, 'id': 'cf32c0e8-6c98-4d77-af20-179f401e38f2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17052, 'output_tokens': 442, 'total_tokens': 19454, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1960}}
2025-10-04 12:37:08,960 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/test_latex_inline_code.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17515, 'candidates_token_count': 11, 'total_token_count': 17526, 'cached_content_token_count': 15809, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19473}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15809}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 11}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -3.6520594387018885e-06, 'model_name': 'gemini-2.5-pro'} id='run--f019c089-ee87-4ddf-baff-ba6b2421964f-0' usage_metadata={'input_tokens': 17515, 'output_tokens': 11, 'total_tokens': 17526, 'input_token_details': {'cache_read': 15809}}
2025-10-04 12:37:09,021 - thread-139911184823872.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/test_latex_inline_code.py b/tests/test_latex_inline_code.py
new file mode 100644
index 000000000..fd9920d38
--- /dev/null
+++ b/tests/test_latex_inline_code.py
@@ -0,0 +1,32 @@
+import pytest
+import re
+
+@pytest.mark.sphinx('latex', testroot='latex-inline-code')
+def test_inline_code_no_extra_whitespace(app, status, warning):
+    """
+    Test for bug reported in issue #10296.
+    Ensures that for LaTeX output, a space character is not inserted at the start
+    and end of the inline code when using the 'code' role with syntax highlighting.
+    This is verified by checking for the presence of '%' characters which are
+    used in LaTeX to gobble unwanted whitespace.
+    """
+    (app.srcdir / 'index.rst').write_text(
+        """
+.. role:: python(code)
+   :language: python
+   :class: highlight
+
+Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block
+        """,
+        encoding='utf8'
+    )
+
+    app.builder.build_all()
+    result = (app.outdir / 'python.tex').read_text(encoding='utf8')
+
+    expected = (
+        'Inline \\sphinxcode{\\sphinxupquote{%\n'
+        '\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n'
+        '}} code block'
+    )
+    assert expected in result

2025-10-04 12:37:09,022 - thread-139911184823872.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-04 12:37:09,035 - thread-139911184823872.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-04 12:37:09,035 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-04 12:37:09,219 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:09,219 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:

HEAD is now at f1061c012 Merge pull request #10365 from LuisBL/10363-sphinxmaketitle-should-use-linewidth-fix

2025-10-04 12:37:09,219 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-04 12:37:09,320 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:09,320 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:


2025-10-04 12:37:09,320 - thread-139911184823872.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-04 12:37:09,320 - thread-139911184823872.app.docker.base_container - INFO - Creating directory tests in the container
2025-10-04 12:37:09,320 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: mkdir -p tests
2025-10-04 12:37:09,421 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:09,421 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:


2025-10-04 12:37:09,421 - thread-139911184823872.app.docker.base_container - INFO - Updating tests/test_latex_inline_code.py in the container
2025-10-04 12:37:09,424 - thread-139911184823872.app.docker.base_container - INFO - Files updated successfully
2025-10-04 12:37:12,397 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F"}'}, '__gemini_function_call_thought_signatures__': {'19db30ac-c836-4ae3-bd5b-cb054c21ddb0': 'CssGAR/MhbbCJTgWqTFBM3t8+OsN7U2X9giaiRuZJyXkjaSK4PLYCnIiq5a9UREuK1PEJ7THKu/tg1vknJ7UCRvKuD28Mmj4E9xzo3pQHuOBLdi+xYCVOhsmYgKKmLV5Z9pOZu+57ny/3PskPgOJyOYd6CmPf/F1kbyNQLh+Es04rCpS2zMYI82PMUI4tGUjoKbUZQkYCud0RIrC4sOh1Bcfz02JpsskxFd5WNgtadwAhuISYl+JBv0detm/PFH/eikP6NCDtj5Kk630SAhcsUm7fpjpjVeOkT/OY8x74Cn1Dez/YsaGm3gvvqGCIaUOBxkmxKt9iFJiqw44lPQRcTJesJCsJX7YTOgiaO7zlsYTU6Z9SZMTDNQ9wfNav4otxA10FKG0vQu9PoEzL+6VGHLubOYlQycihwVoSChPiAw84eI7/Pmot9U60SdS1QUwuLM3VTFZ4s+GHzEr+U0hs10GYWKlVZa7M+ZvlDGVAdpqvzBIlfTxebdQM+7E0pw3GvphRHF6GbgrMIBWlZ3KLgQOpX5P3VYDZOk2StLu7kR1OOtKq12c02ko2mbUpTDIeVoQgisL+kRJCOcTRoN1A064ugiA3M7IuP3KNoLQWrzwGcIylNKeYShZEeakhFr86DzI7AeK6tU68CNwU5d3wTOlLIb1ZZEYKLJpZy4NXj4Cq1BqHgJCwgJDXamrLzS2MG3CA18Sf4oxAadUXwdbHX9uHumwsdYQ1NLUOBkwKHLRDv9OE1qpJITR13DEChh9+fYi63RHdviBgcqLuYmt5LVJauKPrKRevwOL9JpBo+PFeHuooQaQokc+Ygkyo/nhQHe1LwC67pDi2pyf0EHQKsy5WdK3sPUyVAj8CiY8XBXXJXI5r0BnXax7ritgwjTprAUrsgovDVWMWtXz97deQjPGEyajP30i6PqmIYmObgeL8Scueh1yGfdyRH2hgGDsdn/RBo5weaiZFSHagq8+MctfDKUcKbQMcYxje/qH7Hufa0QkkBnRFY+w3uo0wXQjrG3u/tt1a5ODc/8PFG3RWr5zpbeXwufCj2ie/rVl0qBpddXeyFpS49fjgsed+0uZe7a1aMzcsx0bAImU2aeAjLogIgyNPIqsixLZDUVN'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1126, 'candidates_token_count': 7, 'total_token_count': 1342, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1126}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 209, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -2.9014840807233537, 'model_name': 'gemini-2.5-pro'} id='run--cc4b6c40-cf3f-412a-8b7e-b24e2fe49990-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F'}, 'id': '19db30ac-c836-4ae3-bd5b-cb054c21ddb0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1126, 'output_tokens': 7, 'total_tokens': 1342, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 209}}
2025-10-04 12:37:12,399 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: ls -F
2025-10-04 12:37:12,499 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:12,499 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:

AUTHORS		  EXAMPLES     Sphinx.egg-info/  package-lock.json  tests/
CHANGES		  LICENSE      babel.cfg	 package.json	    tox.ini
CHANGES.old	  MANIFEST.in  bindep.txt	 setup.cfg	    utils/
CODE_OF_CONDUCT   Makefile     doc/		 setup.py
CONTRIBUTING.rst  README.rst   karma.conf.js	 sphinx/

2025-10-04 12:37:15,703 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install -e .[test]"}'}, '__gemini_function_call_thought_signatures__': {'f0e9488c-e51d-4f82-8f5c-dd272f935c25': 'CqEEAR/MhbYW1SZpumemzWMAE1iaRDXE/6AsWTWto6au+C4UsJWHsKfdOZcvA+53Q9biYZUCUORRoDz1SZQWlRtXhIAV5AEbm42oA+IjNxjo1xRJCJMEdCtkhcvZL+VkXk3jtzv1yk5b9ITTctL+TMAk0g4Gv/yh6nWRcELoN6og4fgvlVKnACEv5U+iWsKQrLIpeigMP6sX6O2oBMc/OXP4eJnij52HYaVvvYYzST97rizS42yJy9wzRKKW8BDPX1IWCOrxxXps0Xeck8J5MB+cstFWuEdf4MyNK1MMNBARJ09x5ppYKCYf3pooU4yhvzYsAfc6/ZQSgf1bXddk7yzCTlFDX87JF79yF+uCUGbX/lb6CeFsHlSH2tHott8yG5bRUWX+yA6eoWQpvjsVfZsvx5Ut1CIK/wejfwkTYo7z/ZEYQxUln3yd6g9mNldDXvPS9jDMZ07W98lE0dv7O4tZ0gFpVhav/R9AGrVjMgaZ+NvujloDB7NLY9xB5cI52qYWeZt8oOQ5YXVP6OZ7/eklTbP/dxGBSuV8hKjIYLLqg6rwqWF7Vsy8uri2WGVqH8zHqPILY3LBY8k7wsLP2EO2FAiOqx/JhnLXBKXX+cbcFF+zenE7NJ3EpQ+QkjKgiyp2pUmQV+AKuml8JzgMMMRfXBOI5+Y+RDdhgEu/CcTb1miAqpK5CBL2nhJwx3HcG7/DlmeDgUerXZIPbse9Zv2zWjM='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1235, 'candidates_token_count': 12, 'total_token_count': 1450, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1442}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 12}], 'thoughts_token_count': 203, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.6774880091349285, 'model_name': 'gemini-2.5-pro'} id='run--77644b11-ac7d-435b-8565-6cd3824de134-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install -e .[test]'}, 'id': 'f0e9488c-e51d-4f82-8f5c-dd272f935c25', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1235, 'output_tokens': 12, 'total_tokens': 1450, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 203}}
2025-10-04 12:37:15,704 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: pip install -e .[test]
2025-10-04 12:37:16,597 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:16,598 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Preparing metadata (setup.py) ... [?25l- done
[?25hRequirement already satisfied: sphinxcontrib-applehelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-devhelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-jsmath in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.0.1)
Requirement already satisfied: sphinxcontrib-htmlhelp>=2.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.1.0)
Requirement already satisfied: sphinxcontrib-serializinghtml>=1.1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: sphinxcontrib-qthelp in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: Jinja2>=2.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (3.1.4)
Requirement already satisfied: Pygments>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.18.0)
Requirement already satisfied: docutils<0.19,>=0.14 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (0.18.1)
Requirement already satisfied: snowballstemmer>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.2.0)
Requirement already satisfied: babel>=1.3 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.16.0)
Requirement already satisfied: alabaster<0.8,>=0.7 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (0.7.16)
Requirement already satisfied: imagesize in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.4.1)
Requirement already satisfied: requests>=2.5.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (2.32.3)
Requirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (24.1)
Requirement already satisfied: importlib-metadata>=4.4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (8.5.0)
Requirement already satisfied: pytest>=4.6 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (8.3.3)
Requirement already satisfied: html5lib in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (1.1)
Requirement already satisfied: cython in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Sphinx==5.0.0.dev20251004) (3.0.11)
Requirement already satisfied: zipp>=3.20 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from importlib-metadata>=4.4->Sphinx==5.0.0.dev20251004) (3.20.2)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Jinja2>=2.3->Sphinx==5.0.0.dev20251004) (3.0.2)
Requirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (2.0.0)
Requirement already satisfied: pluggy<2,>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (1.5.0)
Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (1.2.2)
Requirement already satisfied: tomli>=1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=4.6->Sphinx==5.0.0.dev20251004) (2.0.2)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (3.4.0)
Requirement already satisfied: idna<4,>=2.5 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (2.2.3)
Requirement already satisfied: certifi>=2017.4.17 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from requests>=2.5.0->Sphinx==5.0.0.dev20251004) (2024.8.30)
Requirement already satisfied: six>=1.9 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.0.0.dev20251004) (1.16.0)
Requirement already satisfied: webencodings in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from html5lib->Sphinx==5.0.0.dev20251004) (0.5.1)
Installing collected packages: Sphinx
  Attempting uninstall: Sphinx
    Found existing installation: Sphinx 5.0.0.dev20251004
    Uninstalling Sphinx-5.0.0.dev20251004:
      Successfully uninstalled Sphinx-5.0.0.dev20251004
[33m  DEPRECATION: Legacy editable install of Sphinx[test]==5.0.0.dev20251004 from file:///testbed (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457[0m[33m
[0m  Running setup.py develop for Sphinx
Successfully installed Sphinx
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-04 12:37:18,077 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/test_latex_inline_code.py"}'}, '__gemini_function_call_thought_signatures__': {'c029bf7f-5d55-4034-9dfc-93d9dce02ad7': 'CmQBH8yFtnwUpo2Gk2R4CAcKR9OhfC/WBT5Q262F7VYB9xPNQRFG3gOEXPm09/hpG3JN8sZJeYE4kqWdQCa4pVCmPnS2WDb687PGKM8vtTiITKf5WU92NOPtF424+O6PkteDRQS7'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3674, 'candidates_token_count': 16, 'total_token_count': 3707, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4018}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 17, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.058311134576797485, 'model_name': 'gemini-2.5-pro'} id='run--231fe6c3-5ac4-4662-ae17-1b53ac20a204-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/test_latex_inline_code.py'}, 'id': 'c029bf7f-5d55-4034-9dfc-93d9dce02ad7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3674, 'output_tokens': 16, 'total_tokens': 3707, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 17}}
2025-10-04 12:37:18,079 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: pytest tests/test_latex_inline_code.py
2025-10-04 12:37:18,478 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-04 12:37:18,478 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
pytest tests/test_latex_inline_c
code.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-8.3.3, pluggy-1.5.0
libraries: Sphinx-5.0.0+/f1061c012, docutils-0.18.1
base tempdir: /tmp/pytest-of-root/pytest-0
rootdir: /testbed
configfile: setup.cfg
[1mcollecting ... [0m[1m
collected 1 item                                                               [0m

tests/test_latex_inline_code.py [31mE[0m[31m                                        [100%][0m

==================================== ERRORS ====================================
[31m[1m____________ ERROR at setup of test_inline_code_no_extra_whitespace ____________[0m

request = <SubRequest 'app_params' for <Function test_inline_code_no_extra_whitespace>>
test_params = {'shared_result': None}
shared_result = <sphinx.testing.fixtures.SharedResult object at 0x7f4d27a17250>
sphinx_test_tempdir = path('/tmp/pytest-of-root/pytest-0')
rootdir = path('/testbed/tests/roots')

    [0m[37m@pytest[39;49;00m.fixture[90m[39;49;00m
    [94mdef[39;49;00m [92mapp_params[39;49;00m(request: Any, test_params: Dict, shared_result: SharedResult,[90m[39;49;00m
                   sphinx_test_tempdir: [96mstr[39;49;00m, rootdir: [96mstr[39;49;00m) -> Tuple[Dict, Dict]:[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Parameters that are specified by 'pytest.mark.sphinx' for[39;49;00m
    [33m    sphinx.application.Sphinx initialization[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
        [90m# ##### process pytest.mark.sphinx[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
        pargs = {}[90m[39;49;00m
        kwargs: Dict[[96mstr[39;49;00m, Any] = {}[90m[39;49;00m
    [90m[39;49;00m
        [90m# to avoid stacking positional args[39;49;00m[90m[39;49;00m
        [94mfor[39;49;00m info [95min[39;49;00m [96mreversed[39;49;00m([96mlist[39;49;00m(request.node.iter_markers([33m"[39;49;00m[33msphinx[39;49;00m[33m"[39;49;00m))):[90m[39;49;00m
            [94mfor[39;49;00m i, a [95min[39;49;00m [96menumerate[39;49;00m(info.args):[90m[39;49;00m
                pargs[i] = a[90m[39;49;00m
            kwargs.update(info.kwargs)[90m[39;49;00m
    [90m[39;49;00m
        args = [pargs[i] [94mfor[39;49;00m i [95min[39;49;00m [96msorted[39;49;00m(pargs.keys())][90m[39;49;00m
    [90m[39;49;00m
        [90m# ##### process pytest.mark.test_params[39;49;00m[90m[39;49;00m
        [94mif[39;49;00m test_params[[33m'[39;49;00m[33mshared_result[39;49;00m[33m'[39;49;00m]:[90m[39;49;00m
            [94mif[39;49;00m [33m'[39;49;00m[33msrcdir[39;49;00m[33m'[39;49;00m [95min[39;49;00m kwargs:[90m[39;49;00m
                [94mraise[39;49;00m pytest.Exception([33m'[39;49;00m[33mYou can not specify shared_result and [39;49;00m[33m'[39;49;00m[90m[39;49;00m
                                       [33m'[39;49;00m[33msrcdir in same time.[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
            kwargs[[33m'[39;49;00m[33msrcdir[39;49;00m[33m'[39;49;00m] = test_params[[33m'[39;49;00m[33mshared_result[39;49;00m[33m'[39;49;00m][90m[39;49;00m
            restore = shared_result.restore(test_params[[33m'[39;49;00m[33mshared_result[39;49;00m[33m'[39;49;00m])[90m[39;49;00m
            kwargs.update(restore)[90m[39;49;00m
    [90m[39;49;00m
        [90m# ##### prepare Application params[39;49;00m[90m[39;49;00m
    [90m[39;49;00m
        testroot = kwargs.pop([33m'[39;49;00m[33mtestroot[39;49;00m[33m'[39;49;00m, [33m'[39;49;00m[33mroot[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
        kwargs[[33m'[39;49;00m[33msrcdir[39;49;00m[33m'[39;49;00m] = srcdir = sphinx_test_tempdir / kwargs.get([33m'[39;49;00m[33msrcdir[39;49;00m[33m'[39;49;00m, testroot)[90m[39;49;00m
    [90m[39;49;00m
        [90m# special support for sphinx/tests[39;49;00m[90m[39;49;00m
        [94mif[39;49;00m rootdir [95mand[39;49;00m [95mnot[39;49;00m srcdir.exists():[90m[39;49;00m
            testroot_path = rootdir / ([33m'[39;49;00m[33mtest-[39;49;00m[33m'[39;49;00m + testroot)[90m[39;49;00m
>           testroot_path.copytree(srcdir)[90m[39;49;00m

[1m[31msphinx/testing/fixtures.py[0m:95: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
[1m[31msphinx/testing/path.py[0m:100: in copytree
    [0mshutil.copytree([96mself[39;49;00m, destination, symlinks=symlinks)[90m[39;49;00m
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

src = path('/testbed/tests/roots/test-latex-inline-code')
dst = path('/tmp/pytest-of-root/pytest-0/latex-inline-code'), symlinks = False
ignore = None, copy_function = <function copy2 at 0x7f4d291901f0>
ignore_dangling_symlinks = False, dirs_exist_ok = False

    [0m[94mdef[39;49;00m [92mcopytree[39;49;00m(src, dst, symlinks=[94mFalse[39;49;00m, ignore=[94mNone[39;49;00m, copy_function=copy2,[90m[39;49;00m
                 ignore_dangling_symlinks=[94mFalse[39;49;00m, dirs_exist_ok=[94mFalse[39;49;00m):[90m[39;49;00m
    [90m    [39;49;00m[33m"""Recursively copy a directory tree and return the destination directory.[39;49;00m
    [33m[39;49;00m
    [33m    If exception(s) occur, an Error is raised with a list of reasons.[39;49;00m
    [33m[39;49;00m
    [33m    If the optional symlinks flag is true, symbolic links in the[39;49;00m
    [33m    source tree result in symbolic links in the destination tree; if[39;49;00m
    [33m    it is false, the contents of the files pointed to by symbolic[39;49;00m
    [33m    links are copied. If the file pointed by the symlink doesn't[39;49;00m
    [33m    exist, an exception will be added in the list of errors raised in[39;49;00m
    [33m    an Error exception at the end of the copy process.[39;49;00m
    [33m[39;49;00m
    [33m    You can set the optional ignore_dangling_symlinks flag to true if you[39;49;00m
    [33m    want to silence this exception. Notice that this has no effect on[39;49;00m
    [33m    platforms that don't support os.symlink.[39;49;00m
    [33m[39;49;00m
    [33m    The optional ignore argument is a callable. If given, it[39;49;00m
    [33m    is called with the `src` parameter, which is the directory[39;49;00m
    [33m    being visited by copytree(), and `names` which is the list of[39;49;00m
    [33m    `src` contents, as returned by os.listdir():[39;49;00m
    [33m[39;49;00m
    [33m        callable(src, names) -> ignored_names[39;49;00m
    [33m[39;49;00m
    [33m    Since copytree() is called recursively, the callable will be[39;49;00m
    [33m    called once for each directory that is copied. It returns a[39;49;00m
    [33m    list of names relative to the `src` directory that should[39;49;00m
    [33m    not be copied.[39;49;00m
    [33m[39;49;00m
    [33m    The optional copy_function argument is a callable that will be used[39;49;00m
    [33m    to copy each file. It will be called with the source path and the[39;49;00m
    [33m    destination path as arguments. By default, copy2() is used, but any[39;49;00m
    [33m    function that supports the same signature (like copy()) can be used.[39;49;00m
    [33m[39;49;00m
    [33m    If dirs_exist_ok is false (the default) and `dst` already exists, a[39;49;00m
    [33m    `FileExistsError` is raised. If `dirs_exist_ok` is true, the copying[39;49;00m
    [33m    operation will continue if it encounters existing directories, and files[39;49;00m
    [33m    within the `dst` tree will be overwritten by corresponding files from the[39;49;00m
    [33m    `src` tree.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        sys.audit([33m"[39;49;00m[33mshutil.copytree[39;49;00m[33m"[39;49;00m, src, dst)[90m[39;49;00m
>       [94mwith[39;49;00m os.scandir(src) [94mas[39;49;00m itr:[90m[39;49;00m
[1m[31mE       FileNotFoundError: [Errno 2] No such file or directory: path('/testbed/tests/roots/test-latex-inline-code')[0m

[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/shutil.py[0m:566: FileNotFoundError
[36m[1m=========================== short test summary info ============================[0m
[31mERROR[0m tests/test_latex_inline_code.py::[1mtest_inline_code_no_extra_whitespace[0m - FileNotFoundError: [Errno 2] No such file or directory: path('/testbed/test...
[31m=============================== [31m[1m1 error[0m[31m in 0.07s[0m[31m ===============================[0m

2025-10-04 12:37:21,348 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F tests/roots/"}'}, '__gemini_function_call_thought_signatures__': {'d73818cb-edbe-46e0-aa23-5468a7a20d9d': 'CvEEAR/MhbbJE9iWg+N4dsoiWQkqFZQa1KlcwSZwlAv10c7mmlYv/fae9+laJKRvgB9xQnRSpBK8XY9axsLRyfXh6KEangKcUTcPkWnjX00zNCHMCDRg2x1WuwNYAItZJQ5IQf92GSFi/tGH4sL4BXDntMqUPUCSDXyuq/KrehIUN3MKE29sQBaAonqYrEtTg4bfbl8IVpwpvCgZoxFDfLJDyqLFTEuPkfzqx1+OJRkVXCHPvowx+zqsDGPqvqcW9iEf+rbD6IaHMMPm2BWkNOyBY6BsB46Bufy8n9STspiCUaA5kHHd1jzbucu02cXrIT0OiSrITLgjZ+D6I8GUZat8FWXuH7r2nxgDu4ZPVqGpk0IUgBRGSNqCwYX4dTcBIYVZO6nXtua/yQkw7fH8k8kNlps0U6hryZyh9la3Fzf0S5508SHunmXF7TQkXgR5Q5GAAzmmP0KlLqJFFaU5RJHEMa6GxzGSjC0I+lVv3x2O6JsTYxkM9yVPvczHF96izkXXjIBLAT+yLK9mW6savjUOHlCwe7bkwwF8qvxvNr+6KvzYHzK5Y1x//jx+4nhFMKZlOOuLLn5xfVo0t6A1n/GRXb/aUJE3ttvOkx5vVJ1bRYB2r9x4huINX6lZi5gsh1KonLlN8BeRtDgj4FKsEDtL4nO8g7VKWehk3Y1pML0A8+UCb8bi6vF3KdBtu/A0VWRzh50uiu6ldEmlDc3D4ym3KJP/cCeA/D1KdfxZ48Lhb6JMRf555+ymoErmvvc73TaWQQQPQuojKdB/MMeQ09oAA0pc/oNeUfFsSnssmmcj0cQbHhOLHNm09VntMVq75TIWsw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 8181, 'candidates_token_count': 11, 'total_token_count': 8339, 'cached_content_token_count': 3386, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8540}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3386}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 11}], 'thoughts_token_count': 147}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6260026584972035, 'model_name': 'gemini-2.5-pro'} id='run--a24e38f4-8256-46eb-9a77-bb27caf95f0d-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F tests/roots/'}, 'id': 'd73818cb-edbe-46e0-aa23-5468a7a20d9d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8181, 'output_tokens': 11, 'total_tokens': 8339, 'input_token_details': {'cache_read': 3386}, 'output_token_details': {'reasoning': 147}}
2025-10-04 12:37:21,350 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: ls -F tests/roots/
2025-10-04 12:37:21,450 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:21,450 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:

test-add_enumerable_node/
test-add_source_parser/
test-add_source_parser-conflicts-with-users-setting/
test-api-set-translator/
test-apidoc-duplicates/
test-apidoc-pep420/
test-apidoc-subpackage-in-toc/
test-apidoc-toc/
test-apidoc-trailing-underscore/
test-autosummary/
test-basic/
test-build-html-translator/
test-build-text/
test-builder-dirhtml/
test-builder-gettext-dont-rebuild-mo/
test-changes/
test-circular/
test-config/
test-correct-year/
test-default_role/
test-directive-code/
test-directive-csv-table/
test-directive-only/
test-directives-raw/
test-docutilsconf/
test-domain-c/
test-domain-c-intersphinx/
test-domain-cpp/
test-domain-cpp-intersphinx/
test-domain-js/
test-domain-py/
test-domain-py-python_use_unqualified_type_names/
test-domain-py-xref-warning/
test-double-inheriting-theme/
test-epub-anchor-id/
test-ext-autodoc/
test-ext-autosectionlabel/
test-ext-autosectionlabel-prefix-document/
test-ext-autosummary/
test-ext-autosummary-filename-map/
test-ext-autosummary-imported_members/
test-ext-autosummary-mock_imports/
test-ext-autosummary-recursive/
test-ext-autosummary-skip-member/
test-ext-autosummary-template/
test-ext-coverage/
test-ext-doctest/
test-ext-doctest-skipif/
test-ext-doctest-with-autodoc/
test-ext-extlinks-hardcoded-urls/
test-ext-extlinks-hardcoded-urls-multiple-replacements/
test-ext-githubpages/
test-ext-graphviz/
test-ext-ifconfig/
test-ext-imgconverter/
test-ext-inheritance_diagram/
test-ext-intersphinx-cppdomain/
test-ext-intersphinx-role/
test-ext-math/
test-ext-math-compat/
test-ext-math-simple/
test-ext-todo/
test-ext-viewcode/
test-ext-viewcode-find/
test-extensions/
test-footnotes/
test-gettext-template/
test-glossary/
test-highlight_options/
test-html_assets/
test-html_entity/
test-html_scaled_image_link/
test-html_signaturereturn_icon/
test-html_style/
test-image-in-parsed-literal/
test-image-in-section/
test-images/
test-index_on_title/
test-inheritance/
test-intl/
test-keep_warnings/
test-latex-babel/
test-latex-container/
test-latex-equations/
test-latex-figure-in-admonition/
test-latex-includegraphics/
test-latex-index/
test-latex-labels/
test-latex-numfig/
test-latex-table/
test-latex-theme/
test-latex-title/
test-latex-unicode/
test-linkcheck/
test-linkcheck-documents_exclude/
test-linkcheck-localserver/
test-linkcheck-localserver-anchor/
test-linkcheck-localserver-https/
test-linkcheck-localserver-warn-redirects/
test-local-logo/
test-locale/
test-manpage_url/
test-markup-citation/
test-markup-rubric/
test-maxlistdepth/
test-metadata/
test-need-escaped/
test-nested-enumerated-list/
test-nested-tables/
test-nitpicky-warnings/
test-numbered-circular/
test-numfig/
test-productionlist/
test-prolog/
test-pycode/
test-pycode-egg/
test-reST-code-block/
test-reST-code-role/
test-refonly_bullet_list/
test-remote-logo/
test-roles-download/
test-root/
test-search/
test-setup/
test-smartquotes/
test-stylesheets/
test-templating/
test-theming/
test-tocdepth/
test-toctree/
test-toctree-duplicated/
test-toctree-empty/
test-toctree-glob/
test-toctree-maxdepth/
test-transforms-post_transforms-missing-reference/
test-trim_doctest_flags/
test-versioning/
test-warnings/

2025-10-04 12:37:26,336 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat tests/test_latex_inline_code.py"}'}, '__gemini_function_call_thought_signatures__': {'f3c1fee5-7fad-4281-ba9e-d6c20cb8ccbd': 'Cr4KAR/MhbZP7hirV5gobYl0RckV95FsCfq+4Eqv8SyVMWQawpsUI06jcWcF5hC51X2Foe5BkD2Z8vakcJaCIxNJCLMVHDG5JwCyJpAwzjdF/Hml95CbqHz49CgVnJT57GB6E+/sTnLYYeMN/7MH0Zkcw8+D82vzJetNoheTm2wgemA8+wOrqom/Cd6GQ08VkH/Ax16lgS74AzoOVMJePjuzV7PWkzDVR+KVkVuA+uOe/UWwJOJjN1IlQCRS3dvdDsjPZtHSvoWBtGygcZYePoFw0DxZhwBszhgT4mf3e7zqaacAOpuyQYt5jckp6CDJZC4Pxqd27GkvuM39Us37FibTlc/Xx2NgW2Np65m0FcuCvaMn7C3Aa4Dz+TxkPFkh5AEZBN2ZgaPmUYcYHuSXroeiEQ57Ho5DIjXD8T1oNZnaG7fWlbJpwFM36ezjMEyidnbujZrHPFLWoWZBl+btH4a2D41AwSJC12eZS4cWTmmyyq9N2U3ZY2IUBrB4HJtLR9D1NAWZRQfjPyu0xXwcf+Q9DLfEFWvoRe/unv2KcBdd6mKZY4TqQ0HHz3LGA2lXq9qHxDWI/x3nFcNjt0JoQ+m+FFm9niMUPVPC+GlvoqEnZplq+UERq1zSU9JBqXFqg4YE5SHQg+nHcUjtfL5aOnsRwnkDdvnUKK1pQL5CbgrKUhb3yy2XgGBJ5+p4g0W05rCZIdKZYFuItSGILZ9iVlBWiooQ7t7VfwfG21isg9sMCoeZ1e1q7stcHEbN5RHT1pD8Pb/9FnnBARB2FP0DKilhcrq3e8JIXc/l1AKcF6YKmFearxSIGn0X3u2GCQffS8w3rnaTecFnZDcmT9d3VrXUxPYmu1EhZdzCiD+V3DM0Nc3IjQsRYvRo5+eJO5lxOmFn7VZDbxmiURcPXERucY8xWfX004rXjgTtlCXyEqrlr14+gShC6xHVbaqZ0+zp1AqM4NNH8yp+sLHB63xEWOxijPSjH4DJ28UF3gEWWq28Et6UdDres6D3Stu2stFXcZ94Ln+NqZvxvNavDCKxrOvYs1efAlIrnSRjvLKE3MWHxPmiLKVjtXZxs+NXjDgAUIm8pzMr4Hud/G80tVm6E7DcRDpMmOWEflkuyyPBmguzOSqOJDZp/s2Rq218lPxX9lXDAOi7e5BdK3nAx2pqVyrtyGS/LrnIEnzi/1y9B7LOPaZdX8ba9z6PvBHsQgrmKjSHiemJc2OoBw2O++Si6oOJDwsgfzoW0dZP+STfaTwScT7ls011lHSHVkGTYdmj8Pv8kpuRhY/bCeKwDia7T+g473qUN88zMn9eGiMJRtT9YBM/bGyapXeZXMm5IznPkG+Fcf423I7rO3Tmi+PODt/QzEkawjPvqvq/58m9iz8ECPUmk/IgIWf9/FpCz5fzOfKT3gl2VmFv+V0LJh9aNUGlC9yzrS6aordkXA5kVAzkcuwUmjz0RQVzTxD5WZSFmc2ODSOPxWhoz5c2+JsDT3w0TDm0G3oUa4SEwijgSK7rJYpIAWPJ+CoQIzFRt54s2fcdHww7/VwwoOuOAEWbPhhUu5sSZVihCbWn9BXeznAKjZjWvA5PR0mTa56rLl3Ccuvghs4BCgYTZk0AmbCxq9glxnwrbt4tzdKpaBRC94Gm1gOXF6DO7I98MCLrIzcsvElo2d+BJw6HXUm8S3pOeKBLWMVJytLXS0eimBvx0+s0p2+f2snr041pKiFu9v7Pj6NG1IrFYEJM+HTtpXI8Xxu+fooas21LcvbpeIEBWWuMySauQG3pCRaAf2Tvfz/78A=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9365, 'candidates_token_count': 16, 'total_token_count': 9710, 'cached_content_token_count': 8637, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9869}], 'cache_tokens_details': [{'modality': 1, 'token_count': 8637}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 329}, 'finish_reason': 'STOP', 'avg_logprobs': -2.6464483737945557, 'model_name': 'gemini-2.5-pro'} id='run--8b57a3df-872b-4a1f-984b-15077cace85d-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat tests/test_latex_inline_code.py'}, 'id': 'f3c1fee5-7fad-4281-ba9e-d6c20cb8ccbd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9365, 'output_tokens': 16, 'total_tokens': 9710, 'input_token_details': {'cache_read': 8637}, 'output_token_details': {'reasoning': 329}}
2025-10-04 12:37:26,338 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: cat tests/test_latex_inline_code.py
2025-10-04 12:37:26,438 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:26,439 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
cat tests/test_latex_inline_code
e.py

import pytest
import re

@pytest.mark.sphinx('latex', testroot='latex-inline-code')
def test_inline_code_no_extra_whitespace(app, status, warning):
    """
    Test for bug reported in issue #10296.
    Ensures that for LaTeX output, a space character is not inserted at the start
    and end of the inline code when using the 'code' role with syntax highlighting.
    This is verified by checking for the presence of '%' characters which are
    used in LaTeX to gobble unwanted whitespace.
    """
    (app.srcdir / 'index.rst').write_text(
        """
.. role:: python(code)
   :language: python
   :class: highlight

Inline :python:`def foo(1 + 2 + None + "abc"): pass` code block
        """,
        encoding='utf8'
    )

    app.builder.build_all()
    result = (app.outdir / 'python.tex').read_text(encoding='utf8')

    expected = (
        'Inline \\sphinxcode{\\sphinxupquote{%\n'
        '\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+m+mi}{2} \\PYG{o}{+} \\PYG{k+kc}{None} \\PYG{o}{+} \\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n'
        '}} code block'
    )
    assert expected in result

2025-10-04 12:37:32,925 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat tests/roots/test-basic/conf.py"}'}, '__gemini_function_call_thought_signatures__': {'8860ae4f-6745-472d-8add-b97e58a99347': 'CocJAR/MhbbgMhrXN+EKm6XnzfpuaPse5z1W+iDRT9dvt7KjANpq4T0pqfxM6do0+tXrNOEZK6GtWeZUZKNJl1XTaeHpUS+6giY0QTS1WWhGbEl9ttXb2FFAvoFzBrgkDsb0XSra7p9ocmgWpCBCbZYnEs0GPtQqI8FHXbUuGDy8LFT7zDPA66wxf1M9fbRkEKGs1077EezB4noYwETk+I66V0vSXsuiH7k5yQfLL1NzQsPbQ460W4dqgrKNbKKeWu5fxpXm3xnzBsDzwfSX0X/PMqVn0C7DWP2X5nFtPE9ykY1239gAlnunMI1cOOJEJL2LHB/5BFzUhKwOHTUmcIJ8pgsZKqXUwou979kK8tVUft1myg0uaPB8487pA/tSEK2mkttw8ApqprG/cptocgOS44lUcrBsf/cBPu1O9Nk+31HTRqvs5AAAx5YlLFAtsJR7ppjQJB6TTQ55gXWQJiP8wA6KOnB9zk/CQWBly9tY6FRJVFxX3P6Ywp4E39m/ccsYS78WuuU5JEjRJ2P3fghS5jskvnGZGHZ0YwV9LufmdIKAj6H5u0a9K4ZBVcPUAdNbLTdu9i+bCTnJ6VJuQkmZJkHjQn8g6UsuJtS1dpYB68IqMJIoKBisA4OBA/tQPrJnRdNHKJDgCILWmET3o2NSvy9+eZjS0zP5UQGthzrnARiZGk+qcoSerC3VouaLEWtGEG4NdN7mN4Ky8J87uFiL8w9TyeN3J5wkyPSgmiuJ/X1GqCvlszcaay16I6xO73a5oM3p8vDolKch1zRRhTf/82Aa8xslEQDCZByb6PyhkUOrJMZTecce2mhPWCNhEsjZePtVAzwPX6P2stJYFuwdWh7pAR9lmHSsXvh5Xv5pH9zDCTUmJmjQtnkZEpMLiILI0TxTJm2n6mNRNUlZmBYT3tHhNETTc92D/h7HTL09GaEP5GPd95qy4SYuxtBx1+/gGPeVVBNCNmAID8/uvNSvlWtoWb9gu+8Xu/6LAsiVDXG5MMX/39T7jSVOD4sfvmHQmy4+ov5Gyy9EcCgs+cp6XCgbvrCEDEPPLd4T39wQgX26T1VMgJRo9XSUuHaVtqXgGdBTuQxtqv3gnrvYrkcNpB0KtMlhVp/dNQHjJD0Leljsec/6wT6072lYuDdG15Vx03ys/Jcky2/89fRb/wD7ULU2PqPNspGp94Sd0xYOCTjfMScE7dmD1o4/OmDude/cHRoJj+ioPZ5JBPCUzo2aTZD0oZetTcXnXyT/FFxzcPk0Q2n4QTaYoetxWCVZNKohM+1AuUgPxxyABkOIh4Ffhu49KbN7OqFbkJESXKX0Rri5fR0y3Bo9tPOno+1pT+zE1m+IE+zmb4WNik8W9yquJu6pYHMMfmS0hd7ZDojb3cmXmfn8jlhqmwQMjfZcIJZi3+HQWRQdrWo+VnEjzdEx27zqbgVHeQ/LRsjZDbHaqctyUPPZ3Ay4rPUBe19dJ73M3B/uC4AJvZpz8UgNva1AqP2KEon+M6q/jdqZJ5S29RqdaQrQKqqKz++/2owfUMDPECo+Pr2kCQ=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9824, 'candidates_token_count': 16, 'total_token_count': 10267, 'cached_content_token_count': 8670, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10655}], 'cache_tokens_details': [{'modality': 1, 'token_count': 8670}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 427}, 'finish_reason': 'STOP', 'avg_logprobs': -2.506077527999878, 'model_name': 'gemini-2.5-pro'} id='run--2c52b3d6-c66e-4b7d-a6f4-26813564f4bf-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat tests/roots/test-basic/conf.py'}, 'id': '8860ae4f-6745-472d-8add-b97e58a99347', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9824, 'output_tokens': 16, 'total_tokens': 10267, 'input_token_details': {'cache_read': 8670}, 'output_token_details': {'reasoning': 427}}
2025-10-04 12:37:32,927 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: cat tests/roots/test-basic/conf.py
2025-10-04 12:37:33,027 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:33,027 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
cat tests/roots/test-basic/conf.
.py

latex_documents = [
    ('index', 'test.tex', 'The basic Sphinx documentation for testing', 'Sphinx', 'report')
]

2025-10-04 12:37:35,751 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "mkdir tests/roots/test-latex-inline-code"}'}, '__gemini_function_call_thought_signatures__': {'3bd079ea-2216-4822-aee3-1430dc9b5bb0': 'CvcDAR/MhbY3IBzpekRzRVeGJi2iGvDCivTq0QdMa8T7Ifwbt55aPnrKNkuIOmLEnuozfvNZaenmXU3/VMcJ65VcRgcsB1EiAUl2i/vcCNPBkdQ2ht5P9EvHH7tMirhOHaHmv6c7GB66KiwbzRxdFpp1BnYcv9aEATUgoptDbC+W4cFicZlkweHW3NGbrPwOIgzqUIMmB60ch2sZ7JVnvHFL1B+YX6CDTsg+2dI5yz3fkk9+JmInSj+W4HdxMWDOfoZ4TQkhAH6qhkLMwWkAFaVtekJaYDwbz9Q/f1e2KdE1FGaELobY2kUl5WTyQvSAu5qiSBwl9DoMWvnyOZo20meFyDS2DGBuZ37lkfTEEj9rtzItM0HNTnT1c7rtKLijJl27hGKtyw2t576tFrNkc3I5/7N8PTb4rIoNhTWbC0pZeUWqfLERGmo5Yp0F2ROBcRwMn7VLZQHRiVrTRFQiyJfad1+82+TOEU/9E5lHpCn9uq+qgXLzH0yGxuLB4aaquTcZkqD0aEE8otRTPt79PlHwllh43yNdEhLjuJA/hj4aXRfjzL36AS5Lgizxsmu48+3lA3h2vrTsx8UBZ4iUk8cDrPV/589mO5Tv/A8FuV/sccQBRDcXtHy2v4RufvldpAM5ZsB0fbejjadFR6nEK94M+VS7TIc8NMo='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9892, 'candidates_token_count': 16, 'total_token_count': 10058, 'cached_content_token_count': 10422, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11033}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10422}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 150}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7732771039009094, 'model_name': 'gemini-2.5-pro'} id='run--61234c9d-7921-4cf3-bb87-330085fe0a09-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'mkdir tests/roots/test-latex-inline-code'}, 'id': '3bd079ea-2216-4822-aee3-1430dc9b5bb0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9892, 'output_tokens': 16, 'total_tokens': 10058, 'input_token_details': {'cache_read': 10422}, 'output_token_details': {'reasoning': 150}}
2025-10-04 12:37:35,752 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: mkdir tests/roots/test-latex-inline-code
2025-10-04 12:37:35,853 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:35,853 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
mkdir tests/roots/test-latex-inl
line-code


2025-10-04 12:37:37,348 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "echo \\"latex_documents = [(\'index\', \'python.tex\', \'test\', \'test\', \'manual\')]\\" > tests/roots/test-latex-inline-code/conf.py"}'}, '__gemini_function_call_thought_signatures__': {'a48de7be-947a-4582-a804-49238d9b6edc': 'Cj8BH8yFthNEXEhSK2ZxtL7eQCCraUQ85FbYMTVPe+oWA5W8GxFU5VtP6Ph355oHa9Abl/dGH9IE3sbp87a99Jo='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9927, 'candidates_token_count': 45, 'total_token_count': 9984, 'cached_content_token_count': 10416, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11216}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10416}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 45}], 'thoughts_token_count': 12}, 'finish_reason': 'STOP', 'avg_logprobs': -0.015129352940453424, 'model_name': 'gemini-2.5-pro'} id='run--21114932-105c-4637-9425-01e1ee96acdb-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'echo "latex_documents = [(\'index\', \'python.tex\', \'test\', \'test\', \'manual\')]" > tests/roots/test-latex-inline-code/conf.py'}, 'id': 'a48de7be-947a-4582-a804-49238d9b6edc', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9927, 'output_tokens': 45, 'total_tokens': 9984, 'input_token_details': {'cache_read': 10416}, 'output_token_details': {'reasoning': 12}}
2025-10-04 12:37:37,349 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: echo "latex_documents = [('index', 'python.tex', 'test', 'test', 'manual')]" > tests/roots/test-latex-inline-code/conf.py
2025-10-04 12:37:37,450 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-04 12:37:37,450 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
echo "latex_documents = [('index
x', 'python.tex', 'test', 'test', 'manual')]" > tests/roots/test-latex-inline-cod
de/conf.py


2025-10-04 12:37:38,936 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/test_latex_inline_code.py"}'}, '__gemini_function_call_thought_signatures__': {'b43232e8-15fc-4e0d-906e-48001ef8f34e': 'CoABAR/MhbZ/G0tLvBqTT4EQgTaILcMSQ7NKNP/TZyJlVldw2dbZajWZEgdQLC5jGilxPcFa0MMlJq6WV1AbMc1okkrnrw5dypayZQG6D4BFezP+j8PZsU83Ce0rlTQ5eioHFjZmzI/KJmDBJr1nYWRsDDwuLmmf2EajQm9BmmDjsqU='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10022, 'candidates_token_count': 16, 'total_token_count': 10066, 'cached_content_token_count': 10391, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11321}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10391}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 16}], 'thoughts_token_count': 28}, 'finish_reason': 'STOP', 'avg_logprobs': -0.016465531662106514, 'model_name': 'gemini-2.5-pro'} id='run--e7b7ba02-b0f7-4ce6-8520-8fec66c95c53-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/test_latex_inline_code.py'}, 'id': 'b43232e8-15fc-4e0d-906e-48001ef8f34e', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10022, 'output_tokens': 16, 'total_tokens': 10066, 'input_token_details': {'cache_read': 10391}, 'output_token_details': {'reasoning': 28}}
2025-10-04 12:37:38,938 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: pytest tests/test_latex_inline_code.py
2025-10-04 12:37:39,587 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-04 12:37:39,588 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
pytest tests/test_latex_inline_c
code.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-8.3.3, pluggy-1.5.0
libraries: Sphinx-5.0.0+/f1061c012, docutils-0.18.1
base tempdir: /tmp/pytest-of-root/pytest-1
rootdir: /testbed
configfile: setup.cfg
[1mcollecting ... [0m[1m
collected 1 item                                                               [0m

tests/test_latex_inline_code.py [31mF[0m[31m                                        [100%][0m

=================================== FAILURES ===================================
[31m[1m_____________________ test_inline_code_no_extra_whitespace _____________________[0m

app = <SphinxTestApp buildername='latex'>
status = <_io.StringIO object at 0x7f2f23549280>
warning = <_io.StringIO object at 0x7f2f23549310>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mlatex[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mlatex-inline-code[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m [92mtest_inline_code_no_extra_whitespace[39;49;00m(app, status, warning):[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Test for bug reported in issue #10296.[39;49;00m
    [33m    Ensures that for LaTeX output, a space character is not inserted at the start[39;49;00m
    [33m    and end of the inline code when using the 'code' role with syntax highlighting.[39;49;00m
    [33m    This is verified by checking for the presence of '%' characters which are[39;49;00m
    [33m    used in LaTeX to gobble unwanted whitespace.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        (app.srcdir / [33m'[39;49;00m[33mindex.rst[39;49;00m[33m'[39;49;00m).write_text([90m[39;49;00m
    [90m        [39;49;00m[33m"""[39;49;00m
    [33m.. role:: python(code)[39;49;00m
    [33m   :language: python[39;49;00m
    [33m   :class: highlight[39;49;00m
    [33m[39;49;00m
    [33mInline :python:`def foo(1 + 2 + None + "abc"): pass` code block[39;49;00m
    [33m        """[39;49;00m,[90m[39;49;00m
            encoding=[33m'[39;49;00m[33mutf8[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        )[90m[39;49;00m
    [90m[39;49;00m
        app.builder.build_all()[90m[39;49;00m
        result = (app.outdir / [33m'[39;49;00m[33mpython.tex[39;49;00m[33m'[39;49;00m).read_text(encoding=[33m'[39;49;00m[33mutf8[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [90m[39;49;00m
        expected = ([90m[39;49;00m
            [33m'[39;49;00m[33mInline [39;49;00m[33m\\[39;49;00m[33msphinxcode[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33msphinxupquote[39;49;00m[33m{[39;49;00m[33m%[39;49;00m[33m\n[39;49;00m[33m'[39;49;00m[90m[39;49;00m
            [33m'[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{k}[39;49;00m[33m{def}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33mn+nf}[39;49;00m[33m{foo}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{[39;49;00m[33m(}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+m+mi}[39;49;00m[33m{1}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+m+mi}[39;49;00m[33m{2}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33mk+kc}[39;49;00m[33m{None}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33mPYGZdq[39;49;00m[33m{}[39;49;00m[33m}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{abc}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33mPYGZdq[39;49;00m[33m{}[39;49;00m[33m}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{[39;49;00m[33m)}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{:}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{k}[39;49;00m[33m{pass}[39;49;00m[33m%[39;49;00m[33m\n[39;49;00m[33m'[39;49;00m[90m[39;49;00m
            [33m'[39;49;00m[33m}} code block[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        )[90m[39;49;00m
>       [94massert[39;49;00m expected [95min[39;49;00m result[90m[39;49;00m
[1m[31mE       AssertionError: assert 'Inline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+...YG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n}} code block' in '%% Generated by Sphinx.\n\\def\\sphinxdocclass{report}\n\\documentclass[letterpaper,10pt,english]{sphinxmanual}\n\\if...}{)}\\PYG{p}{:} \\PYG{k}{pass}\n}} code block\n\n\n\n\\renewcommand{\\indexname}{Index}\n\\printindex\n\\end{document}'[0m

[1m[31mtests/test_latex_inline_code.py[0m:32: AssertionError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: latex
# srcdir: /tmp/pytest-of-root/pytest-1/latex-inline-code
# outdir: /tmp/pytest-of-root/pytest-1/latex-inline-code/_build/latex
# status: 
[01mRunning Sphinx v5.0.0+/f1061c012[39;49;00m
[01mbuilding [latex]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[new config] 1 added, 0 changed, 0 removed
[01mreading sources... [39;49;00m[100%] [35mindex[39;49;00m                                                

[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mprocessing python.tex... [39;49;00m[32mindex[39;49;00m 
resolving references...
done
[01mwriting... [39;49;00mdone
[01mcopying TeX support files... [39;49;00m[01mcopying TeX support files...[39;49;00m
done

# warning: 

[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m tests/test_latex_inline_code.py::[1mtest_inline_code_no_extra_whitespace[0m - AssertionError: assert 'Inline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def...
[31m============================== [31m[1m1 failed[0m[31m in 0.35s[0m[31m ===============================[0m

2025-10-04 12:37:43,782 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='I have successfully executed the test file `tests/test_latex_inline_code.py`.\n\nFirst, I had to create a missing test root directory, `tests/roots/test-latex-inline-code`, and a corresponding `conf.py` file.\n\nAfter setting up the test environment, I ran the test, and it failed with an `AssertionError` as expected. This confirms the bug described in the issue. The test expects the LaTeX output for inline code to contain `%` characters to prevent extra whitespace, but the actual output does not contain them.\n\nHere is the output of the test execution:\n' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/test_latex_inline_code.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 14189, 'candidates_token_count': 146, 'total_token_count': 14475, 'cached_content_token_count': 10156, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15514}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10156}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 146}], 'thoughts_token_count': 140}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1953563690185547, 'model_name': 'gemini-2.5-pro'} id='run--742fdc03-2c4c-4296-9f37-d9a8ba59dfd0-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/test_latex_inline_code.py'}, 'id': '2b3a73e6-7503-4660-9100-a5d9286cf944', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14189, 'output_tokens': 146, 'total_tokens': 14475, 'input_token_details': {'cache_read': 10156}, 'output_token_details': {'reasoning': 140}}
2025-10-04 12:37:43,784 - thread-139911184823872.app.docker.base_container - DEBUG - Executing command: pytest tests/test_latex_inline_code.py
2025-10-04 12:37:44,301 - thread-139911184823872.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-04 12:37:44,301 - thread-139911184823872.app.docker.base_container - DEBUG - Command output:
pytest tests/test_latex_inline_c
code.py

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-8.3.3, pluggy-1.5.0
libraries: Sphinx-5.0.0+/f1061c012, docutils-0.18.1
base tempdir: /tmp/pytest-of-root/pytest-2
rootdir: /testbed
configfile: setup.cfg
[1mcollecting ... [0m[1m
collected 1 item                                                               [0m

tests/test_latex_inline_code.py [31mF[0m[31m                                        [100%][0m

=================================== FAILURES ===================================
[31m[1m_____________________ test_inline_code_no_extra_whitespace _____________________[0m

app = <SphinxTestApp buildername='latex'>
status = <_io.StringIO object at 0x7f7f0e95d280>
warning = <_io.StringIO object at 0x7f7f0e95d310>

    [0m[37m@pytest[39;49;00m.mark.sphinx([33m'[39;49;00m[33mlatex[39;49;00m[33m'[39;49;00m, testroot=[33m'[39;49;00m[33mlatex-inline-code[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [94mdef[39;49;00m [92mtest_inline_code_no_extra_whitespace[39;49;00m(app, status, warning):[90m[39;49;00m
    [90m    [39;49;00m[33m"""[39;49;00m
    [33m    Test for bug reported in issue #10296.[39;49;00m
    [33m    Ensures that for LaTeX output, a space character is not inserted at the start[39;49;00m
    [33m    and end of the inline code when using the 'code' role with syntax highlighting.[39;49;00m
    [33m    This is verified by checking for the presence of '%' characters which are[39;49;00m
    [33m    used in LaTeX to gobble unwanted whitespace.[39;49;00m
    [33m    """[39;49;00m[90m[39;49;00m
        (app.srcdir / [33m'[39;49;00m[33mindex.rst[39;49;00m[33m'[39;49;00m).write_text([90m[39;49;00m
    [90m        [39;49;00m[33m"""[39;49;00m
    [33m.. role:: python(code)[39;49;00m
    [33m   :language: python[39;49;00m
    [33m   :class: highlight[39;49;00m
    [33m[39;49;00m
    [33mInline :python:`def foo(1 + 2 + None + "abc"): pass` code block[39;49;00m
    [33m        """[39;49;00m,[90m[39;49;00m
            encoding=[33m'[39;49;00m[33mutf8[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        )[90m[39;49;00m
    [90m[39;49;00m
        app.builder.build_all()[90m[39;49;00m
        result = (app.outdir / [33m'[39;49;00m[33mpython.tex[39;49;00m[33m'[39;49;00m).read_text(encoding=[33m'[39;49;00m[33mutf8[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
    [90m[39;49;00m
        expected = ([90m[39;49;00m
            [33m'[39;49;00m[33mInline [39;49;00m[33m\\[39;49;00m[33msphinxcode[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33msphinxupquote[39;49;00m[33m{[39;49;00m[33m%[39;49;00m[33m\n[39;49;00m[33m'[39;49;00m[90m[39;49;00m
            [33m'[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{k}[39;49;00m[33m{def}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33mn+nf}[39;49;00m[33m{foo}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{[39;49;00m[33m(}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+m+mi}[39;49;00m[33m{1}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+m+mi}[39;49;00m[33m{2}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33mk+kc}[39;49;00m[33m{None}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{o}[39;49;00m[33m{[39;49;00m[33m+} [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33mPYGZdq[39;49;00m[33m{}[39;49;00m[33m}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{abc}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{[39;49;00m[33ml+s+s2}[39;49;00m[33m{[39;49;00m[33m\\[39;49;00m[33mPYGZdq[39;49;00m[33m{}[39;49;00m[33m}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{[39;49;00m[33m)}[39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{p}[39;49;00m[33m{:}[39;49;00m[33m [39;49;00m[33m\\[39;49;00m[33mPYG[39;49;00m[33m{k}[39;49;00m[33m{pass}[39;49;00m[33m%[39;49;00m[33m\n[39;49;00m[33m'[39;49;00m[90m[39;49;00m
            [33m'[39;49;00m[33m}} code block[39;49;00m[33m'[39;49;00m[90m[39;49;00m
        )[90m[39;49;00m
>       [94massert[39;49;00m expected [95min[39;49;00m result[90m[39;49;00m
[1m[31mE       AssertionError: assert 'Inline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def} \\PYG{n+nf}{foo}\\PYG{p}{(}\\PYG{l+m+mi}{1} \\PYG{o}{+} \\PYG{l+...YG{l+s+s2}{\\PYGZdq{}}\\PYG{l+s+s2}{abc}\\PYG{l+s+s2}{\\PYGZdq{}}\\PYG{p}{)}\\PYG{p}{:} \\PYG{k}{pass}%\n}} code block' in '%% Generated by Sphinx.\n\\def\\sphinxdocclass{report}\n\\documentclass[letterpaper,10pt,english]{sphinxmanual}\n\\if...}{)}\\PYG{p}{:} \\PYG{k}{pass}\n}} code block\n\n\n\n\\renewcommand{\\indexname}{Index}\n\\printindex\n\\end{document}'[0m

[1m[31mtests/test_latex_inline_code.py[0m:32: AssertionError
--------------------------- Captured stdout teardown ---------------------------
# testroot: root
# builder: latex
# srcdir: /tmp/pytest-of-root/pytest-2/latex-inline-code
# outdir: /tmp/pytest-of-root/pytest-2/latex-inline-code/_build/latex
# status: 
[01mRunning Sphinx v5.0.0+/f1061c012[39;49;00m
[01mbuilding [latex]: [39;49;00mall source files
[01mupdating environment: [39;49;00m[new config] 1 added, 0 changed, 0 removed
[01mreading sources... [39;49;00m[100%] [35mindex[39;49;00m                                                

[01mlooking for now-outdated files... [39;49;00mnone found
[01mpickling environment... [39;49;00mdone
[01mchecking consistency... [39;49;00mdone
[01mprocessing python.tex... [39;49;00m[32mindex[39;49;00m 
resolving references...
done
[01mwriting... [39;49;00mdone
[01mcopying TeX support files... [39;49;00m[01mcopying TeX support files...[39;49;00m
done

# warning: 

[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m tests/test_latex_inline_code.py::[1mtest_inline_code_no_extra_whitespace[0m - AssertionError: assert 'Inline \\sphinxcode{\\sphinxupquote{%\n\\PYG{k}{def...
[31m============================== [31m[1m1 failed[0m[31m in 0.22s[0m[31m ===============================[0m

2025-10-04 12:37:45,478 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={} response_metadata={'usage_metadata': {'prompt_token_count': 18486, 'total_token_count': 18486, 'cached_content_token_count': 14049, 'prompt_tokens_details': [{'modality': 1, 'token_count': 18486}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14049}], 'candidates_token_count': 0, 'thoughts_token_count': 0, 'candidates_tokens_details': []}, 'model_name': 'gemini-2.5-pro'} id='run--14905bc1-3c30-4491-b80f-a6d4738667d6-0' usage_metadata={'input_tokens': 18486, 'output_tokens': 0, 'total_tokens': 18486, 'input_token_details': {'cache_read': 14049}}
2025-10-04 12:37:58,901 - thread-139911184823872.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log="FAILED tests/test_latex_inline_code.py::test_inline_code_no_extra_whitespace - AssertionError: assert 'Inline \\\\sphinxcode{\\\\sphinxupquote{%\\n\\\\PYG{k}{def} \\\\PYG{n+nf}{foo}\\\\PYG{p}{(}\\\\PYG{l+m+mi}{1} \\\\PYG{o}{+} \\\\PYG{l+...YG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{l+s+s2}{abc}\\\\PYG{l+s+s2}{\\\\PYGZdq{}}\\\\PYG{p}{)}\\\\PYG{p}{:} \\\\PYG{k}{pass}%\\n}} code block' in '%% Generated by Sphinx.\\n\\\\def\\\\sphinxdocclass{report}\\\\documentclass[letterpaper,10pt,english]{sphinxmanual}\\n\\\\if...}{)}\\\\PYG{p}{:} \\\\PYG{k}{pass}\\n}} code block\\n\\n\\n\\n\\\\renewcommand{\\\\indexname}{Index}\\\\printindex\\\\end{document}'" reproduced_bug_commands=['mkdir tests/roots/test-latex-inline-code', 'echo "latex_documents = [(\'index\', \'python.tex\', \'test\', \'test\', \'manual\')]" > tests/roots/test-latex-inline-code/conf.py', 'pytest tests/test_latex_inline_code.py']
2025-10-04 12:37:58,901 - thread-139911184823872.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-04 12:37:58,901 - thread-139911184823872.app.docker.base_container - INFO - Closing persistent shell...
2025-10-04 12:37:59,002 - thread-139911184823872.app.docker.base_container - INFO - Cleaning up container and temporary files
