2025-10-06 09:09:14,337 - thread-139660780025408.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmpl2zd64h3/django
2025-10-06 09:09:14,337 - thread-139660780025408.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-10-06 09:09:14,337 - thread-139660780025408.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.django_1776_django-15252:v1
2025-10-06 09:09:39,998 - thread-139660780025408.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_48c34bc1e6
2025-10-06 09:09:40,003 - thread-139660780025408.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_48c34bc1e6
2025-10-06 09:09:41,066 - thread-139660780025408.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-10-06 09:09:41,208 - thread-139660780025408.app.docker.base_container - INFO - Persistent shell is ready
2025-10-06 09:09:41,208 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-10-06 09:09:41,331 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:09:41,331 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 09:09:41,331 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-10-06 09:09:41,455 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:09:41,456 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 09:09:41,456 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .
2025-10-06 09:09:44,238 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:09:44,239 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- \ done
[?25h  Preparing editable metadata (pyproject.toml) ... [?25l- \ done
[?25hRequirement already satisfied: asgiref>=3.4.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.1.dev20211229095723) (3.8.1)
Requirement already satisfied: sqlparse>=0.2.2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.1.dev20211229095723) (0.5.1)
Requirement already satisfied: typing-extensions>=4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from asgiref>=3.4.1->Django==4.1.dev20211229095723) (4.12.2)
Building wheels for collected packages: Django
  Building editable for Django (pyproject.toml) ... [?25l- \ | / done
[?25h  Created wheel for Django: filename=django-4.1.dev20211229095723-0.editable-py3-none-any.whl size=26943 sha256=49d1818e6fff41be5bf7cea10b62b19180472b99695fd0b2020338d917d0b176
  Stored in directory: /tmp/pip-ephem-wheel-cache-j782tke1/wheels/7d/66/67/70d1ee2124ccf21d601c352e25cdca10f611f7c8b3f9ffb9e4
Successfully built Django
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 4.1.dev20211229095723
    Uninstalling Django-4.1.dev20211229095723:
      Successfully uninstalled Django-4.1.dev20211229095723
Successfully installed Django-4.1.dev20211229095723
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-10-06 09:09:44,297 - thread-139660780025408.app.lang_graph.nodes.issue_bug_reproduction_context_message_node - DEBUG - Sending query to context provider subgraph:
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-10-06 09:09:44,297 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Enter context retrieval subgraph
2025-10-06 09:09:44,298 - thread-139660780025408.app.lang_graph.nodes.context_query_message_node - DEBUG - Sending query to ContextProviderNode:
content='Issue title:\nMigrationRecorder does not obey db_router allow_migrate rules\n\nIssue description: \nDescription\n\t\nHi,\nWe have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: \nclass Router(object):\n\tdef allow_migrate(self, db, model):\n\t\tif db == \'default\':\n\t\t\treturn True\n\t\treturn False\nCurrent Behaviour\nWe run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)\nWhen this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). \nThe first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). \nensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. \nI believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the \'default\' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.\n\nIssue comments:\n\n\nOBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,\nincluding ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.\n\n<reasoning>\n1. Analyze bug characteristics:\n   - Core functionality being tested\n   - Input parameters and configurations\n   - Expected error conditions\n   - Environmental dependencies\n\n2. Search requirements:\n   - Required imports and dependencies\n   - Test files exercising similar functionality\n   - Mock/fixture setup patterns\n   - Assertion styles\n   - Error handling tests\n\n3. Focus areas:\n   - All necessary imports (standard library, testing frameworks, mocking utilities)\n   - Dependencies and third-party packages\n   - Test setup and teardown\n   - Mock object configuration\n   - Network/external service simulation\n   - Error condition verification\n</reasoning>\n\nREQUIREMENTS:\n- Return 5 complete, self-contained test cases most similar to bug scenario\n- Must include ALL necessary imports at the start of each test file\n- Must include full test method implementation\n- Must include ALL mock/fixture setup\n- Must include helper functions used by test\n- Must preserve exact file paths and line numbers\n\n<examples>\n<example id="database-timeout">\n<bug>\ndb.execute("SELECT * FROM users").fetchall() \nraises ConnectionTimeout when load is high\n</bug>\n\n<ideal_test_match>\n# File: tests/test_database.py\nimport pytest\nfrom unittest.mock import Mock, patch\nfrom database.exceptions import ConnectionTimeout\nfrom database.models import QueryResult\nfrom database.client import DatabaseClient\n\nclass TestDatabaseTimeout:\n    @pytest.fixture\n    def mock_db_connection(self):\n        conn = Mock()\n        conn.execute.side_effect = [\n            ConnectionTimeout("Connection timed out"),\n            QueryResult(["user1", "user2"])  # Second try succeeds\n        ]\n        return conn\n        \n    def test_handle_timeout_during_query(self, mock_db_connection):\n        # Complete test showing timeout scenario\n        # Including retry logic verification\n        # With all necessary assertions\n</ideal_test_match>\n</example>\n\n<example id="file-permission">\n<bug>\nFileProcessor(\'/root/data.txt\').process() \nfails with PermissionError\n</bug>\n\n<ideal_test_match>\n# File: tests/test_file_processor.py\nimport os\nimport pytest\nfrom unittest.mock import patch, mock_open\nfrom file_processor import FileProcessor\nfrom file_processor.exceptions import ProcessingError\n\nclass TestFilePermissions:\n    @patch(\'os.access\')\n    @patch(\'builtins.open\')\n    def test_file_permission_denied(self, mock_open, mock_access):\n        # Full test setup with mocked file system\n        # Permission denial simulation\n        # Error handling verification\n</ideal_test_match>\n</example>\n\nSearch priority:\n1. Tests of exact same functionality (including import patterns)\n2. Tests with similar error conditions\n3. Tests with comparable mocking patterns\n4. Tests demonstrating similar assertions\n\nFind the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.\n' additional_kwargs={} response_metadata={}
2025-10-06 09:09:53,755 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have identified that the issue is with the `MigrationRecorder` not correctly following the `allow_migrate` rule from a database router in a multi-database configuration. I will now search for test cases that cover similar scenarios, focusing on multi-database setups, database routers, and migration-related tests to find the most relevant examples for you.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_multidb.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 57394, 'candidates_token_count': 94, 'total_token_count': 58130, 'prompt_tokens_details': [{'modality': 1, 'token_count': 57394}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 94}], 'thoughts_token_count': 642, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.9937568826878325, 'model_name': 'gemini-2.5-pro'} id='run--3188dbf6-76f8-4fd4-8e84-bcfe7076ff8d-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_multidb.py'}, 'id': 'b8caa4b9-6d4b-4944-9aec-47669bb70989', 'type': 'tool_call'}] usage_metadata={'input_tokens': 57394, 'output_tokens': 94, 'total_tokens': 58130, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 642}}
2025-10-06 09:10:00,406 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content="I have identified a relevant test file, `tests/migrations/test_multidb.py`, which contains test cases for multi-database migrations and the use of database routers. From this file, I have selected five test cases that demonstrate how different router configurations impact migration operations. These chosen tests cover scenarios where migrations are allowed, denied, or conditionally permitted based on the router's logic, which will be helpful in understanding the issue." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 161.0, "relative_path": "tests/migrations/test_multidb.py", "end_line": 164.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 60246, 'candidates_token_count': 238, 'total_token_count': 60713, 'cached_content_token_count': 56162, 'prompt_tokens_details': [{'modality': 1, 'token_count': 60246}], 'cache_tokens_details': [{'modality': 1, 'token_count': 56162}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 238}], 'thoughts_token_count': 229}, 'finish_reason': 'STOP', 'avg_logprobs': -0.20942489239348083, 'model_name': 'gemini-2.5-pro'} id='run--f0cf24b3-c89f-44b5-9c99-cf19edbefce8-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 68.0, 'relative_path': 'tests/migrations/test_multidb.py', 'end_line': 74.0}, 'id': '65302590-c5ad-4309-be47-950261aae610', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 75.0, 'relative_path': 'tests/migrations/test_multidb.py', 'end_line': 81.0}, 'id': '16072b51-4fb4-4a83-a08f-afc8ef261d37', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_multidb.py', 'start_line': 82.0, 'end_line': 88.0}, 'id': '302a8e56-845c-4a81-9450-bbad6de769de', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_multidb.py', 'start_line': 124.0, 'end_line': 127.0}, 'id': '9766642a-e182-475c-8574-4909cf2ff9f0', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 161.0, 'relative_path': 'tests/migrations/test_multidb.py', 'end_line': 164.0}, 'id': 'c5b24bc1-5e3c-4a63-a7c7-5e4960b7e390', 'type': 'tool_call'}] usage_metadata={'input_tokens': 60246, 'output_tokens': 238, 'total_tokens': 60713, 'input_token_details': {'cache_read': 56162}, 'output_token_details': {'reasoning': 229}}
2025-10-06 09:10:43,542 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have identified a relevant test file, `tests/migrations/test_multidb.py`, which contains test cases for multi-database migrations and the use of database routers. From this file, I have selected five test cases that demonstrate how different router configurations impact migration operations. These chosen tests cover scenarios where migrations are allowed, denied, or conditionally permitted based on the router\'s logic, which will be helpful in understanding the issue.\n\n```python\n# File: tests/migrations/test_multidb.py\nfrom django.db import connection, migrations, models\nfrom django.db.migrations.state import ProjectState\nfrom django.test import override_settings\n\nfrom .test_base import OperationTestBase\n\n\nclass AgnosticRouter:\n    """\n    A router that doesn\'t have an opinion regarding migrating.\n    """\n\n    def allow_migrate(self, db, app_label, **hints):\n        return None\n\n\nclass MigrateNothingRouter:\n    """\n    A router that doesn\'t allow migrating.\n    """\n\n    def allow_migrate(self, db, app_label, **hints):\n        return False\n\n\nclass MigrateEverythingRouter:\n    """\n    A router that always allows migrating.\n    """\n\n    def allow_migrate(self, db, app_label, **hints):\n        return True\n\n\nclass MultiDBOperationTests(OperationTestBase):\n    databases = {"default", "other"}\n\n    def _test_create_model(self, app_label, should_run):\n        """\n        CreateModel honors multi-db settings.\n        """\n        operation = migrations.CreateModel(\n            "Pony",\n            [("id", models.AutoField(primary_key=True))],\n        )\n        # Test the state alteration\n        project_state = ProjectState()\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        # Test the database alteration\n        self.assertTableNotExists("%s_pony" % app_label)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        if should_run:\n            self.assertTableExists("%s_pony" % app_label)\n        else:\n            self.assertTableNotExists("%s_pony" % app_label)\n        # And test reversal\n        with connection.schema_editor() as editor:\n            operation.database_backwards(app_label, editor, new_state, project_state)\n        self.assertTableNotExists("%s_pony" % app_label)\n\n    @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n    def test_create_model(self):\n        """\n        Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo", should_run=True)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_create_model2(self):\n        """\n        Test when router returns False (i.e. CreateModel shouldn\'t run).\n        """\n        self._test_create_model("test_mltdb_crmo2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n    def test_create_model3(self):\n        """\n        Test when router returns True (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo3", should_run=True)\n\n    def _test_run_sql(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        sql = """\n        INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n        INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n        """.format(\n            app_label\n        )\n\n        operation = migrations.RunSQL(sql, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(\n            project_state.apps.get_model(app_label, "Pony").objects.count(), 0\n        )\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_sql_migrate_nothing_router(self):\n        self._test_run_sql("test_mltdb_runsql", should_run=False)\n\n    def _test_run_python(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        # Create the operation\n        def inner_method(models, schema_editor):\n            Pony = models.get_model(app_label, "Pony")\n            Pony.objects.create(pink=1, weight=3.55)\n            Pony.objects.create(weight=5)\n\n        operation = migrations.RunPython(inner_method, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(\n            project_state.apps.get_model(app_label, "Pony").objects.count(), 0\n        )\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_python_migrate_nothing_router(self):\n        self._test_run_python("test_mltdb_runpython", should_run=False)\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 3494, 'end_index': 3806, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 3864, 'end_index': 4310, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 4247, 'end_index': 4712, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 4519, 'end_index': 5402, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 5283, 'end_index': 6277, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 6247, 'end_index': 6982, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 6858, 'end_index': 7461, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 7574, 'end_index': 8361, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 8237, 'end_index': 8846, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 13192, 'end_index': 13505, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 13563, 'end_index': 13848, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 13844, 'end_index': 14219, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 14026, 'end_index': 14909, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 14790, 'end_index': 15784, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 15754, 'end_index': 16524, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 16387, 'end_index': 17012, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 17117, 'end_index': 17917, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 17780, 'end_index': 18411, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 61343, 'candidates_token_count': 1594, 'total_token_count': 66359, 'cached_content_token_count': 59946, 'prompt_tokens_details': [{'modality': 1, 'token_count': 61343}], 'cache_tokens_details': [{'modality': 1, 'token_count': 59946}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 1594}], 'thoughts_token_count': 3422}, 'finish_reason': 'STOP', 'avg_logprobs': -0.17404664923884489, 'model_name': 'gemini-2.5-pro'} id='run--02d85d95-dcc9-438c-9997-c0148e91b3e5-0' usage_metadata={'input_tokens': 61343, 'output_tokens': 1594, 'total_tokens': 66359, 'input_token_details': {'cache_read': 59946}, 'output_token_details': {'reasoning': 3422}}
2025-10-06 09:10:43,542 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-06 09:10:43,543 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and return it in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-06 09:11:28,646 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query is about the `MigrationRecorder` not obeying `db_router`'s `allow_migrate` rules in a multi-db setup.\n   - The key functionality is testing how migration operations behave when a database router is configured to disallow migrations.\n\n2. Extended relevance:\n   - This context defines several mock database routers (`AgnosticRouter`, `MigrateNothingRouter`, `MigrateEverythingRouter`, `MigrateWhenFooRouter`).\n   - These routers are essential for setting up test conditions that simulate the user's environment. Specifically, `MigrateNothingRouter` is crucial as it directly mimics the user's router logic (`return False`) for certain databases, which is the scenario where the bug occurs.", relative_path='tests/migrations/test_multidb.py', start_line=8, end_line=38), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user needs to see tests that verify if migration operations are skipped when `allow_migrate` returns `False`.\n\n2. Extended relevance:\n   - This context provides the `_test_create_model` helper method and the `test_create_model2` test case.\n   - `_test_create_model` is a generic test function that checks if a table is created or not based on a `should_run` flag.\n   - `test_create_model2` uses `MigrateNothingRouter` (which always returns `False`) and asserts that the model's table is **not** created (`should_run=False`).\n   - This is a direct and clear example of the exact behavior the user expects from the migration framework when a router disallows a migration, making it highly relevant.", relative_path='tests/migrations/test_multidb.py', start_line=43, end_line=81), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's issue is with the migration framework not respecting router rules. The bug report mentions `record_applied`, which is a database write operation.\n\n2. Extended relevance:\n   - This context shows tests for the `RunSQL` migration operation, which is another form of database write.\n   - The `test_run_sql_migrate_nothing_router` test specifically uses the `MigrateNothingRouter` to ensure that the `RunSQL` operation is skipped.\n   - This demonstrates that the principle of routers controlling migrations extends beyond just schema changes (`CreateModel`) to other database operations, which is analogous to the `MigrationRecorder`'s database writes.", relative_path='tests/migrations/test_multidb.py', start_line=100, end_line=127), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for examples of how to test the interaction between database routers and migration operations.\n\n2. Extended relevance:\n   - This context provides tests for the `RunPython` operation, which allows for running arbitrary Python code within a migration.\n   - The `test_run_python_migrate_nothing_router` test case confirms that `RunPython` operations that perform database writes also honor the `allow_migrate` rule from a router.\n   - This reinforces the design principle that the user is relying on and provides another complete, self-contained example of testing this interaction.', relative_path='tests/migrations/test_multidb.py', start_line=136, end_line=164), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's bug involves `hints` passed during migration, as `allow_migrate` receives `**hints`.\n\n2. Extended relevance:\n   - This context shows a more advanced use case where the router's decision depends on `hints` passed to the migration operation (`migrations.RunPython(..., hints={'foo': True})`).\n   - The `MigrateWhenFooRouter` only allows migration if `hints.get('foo', False)` is true.\n   - The test `test_run_python_migrate_foo_router_with_hints` verifies this behavior.\n   - This is relevant because it demonstrates the mechanism by which more complex migration logic can be controlled and tested, which might be necessary for the user to fully diagnose or fix their issue.", relative_path='tests/migrations/test_multidb.py', start_line=165, end_line=171)]
2025-10-06 09:11:28,647 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/migrations/test_multidb.py', content='8. class AgnosticRouter:\n9.     """\n10.     A router that doesn\'t have an opinion regarding migrating.\n11.     """\n12.     def allow_migrate(self, db, app_label, **hints):\n13.         return None\n14. \n15. \n16. class MigrateNothingRouter:\n17.     """\n18.     A router that doesn\'t allow migrating.\n19.     """\n20.     def allow_migrate(self, db, app_label, **hints):\n21.         return False\n22. \n23. \n24. class MigrateEverythingRouter:\n25.     """\n26.     A router that always allows migrating.\n27.     """\n28.     def allow_migrate(self, db, app_label, **hints):\n29.         return True\n30. \n31. \n32. class MigrateWhenFooRouter:\n33.     """\n34.     A router that allows migrating depending on a hint.\n35.     """\n36.     def allow_migrate(self, db, app_label, **hints):\n37.         return hints.get(\'foo\', False)\n38. ', start_line_number=8, end_line_number=38), Context(relative_path='tests/migrations/test_multidb.py', content='43.     def _test_create_model(self, app_label, should_run):\n44.         """\n45.         CreateModel honors multi-db settings.\n46.         """\n47.         operation = migrations.CreateModel(\n48.             "Pony",\n49.             [("id", models.AutoField(primary_key=True))],\n50.         )\n51.         # Test the state alteration\n52.         project_state = ProjectState()\n53.         new_state = project_state.clone()\n54.         operation.state_forwards(app_label, new_state)\n55.         # Test the database alteration\n56.         self.assertTableNotExists("%s_pony" % app_label)\n57.         with connection.schema_editor() as editor:\n58.             operation.database_forwards(app_label, editor, project_state, new_state)\n59.         if should_run:\n60.             self.assertTableExists("%s_pony" % app_label)\n61.         else:\n62.             self.assertTableNotExists("%s_pony" % app_label)\n63.         # And test reversal\n64.         with connection.schema_editor() as editor:\n65.             operation.database_backwards(app_label, editor, new_state, project_state)\n66.         self.assertTableNotExists("%s_pony" % app_label)\n67. \n68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n69.     def test_create_model(self):\n70.         """\n71.         Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n72.         """\n73.         self._test_create_model("test_mltdb_crmo", should_run=True)\n74. \n75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n76.     def test_create_model2(self):\n77.         """\n78.         Test when router returns False (i.e. CreateModel shouldn\'t run).\n79.         """\n80.         self._test_create_model("test_mltdb_crmo2", should_run=False)\n81. ', start_line_number=43, end_line_number=81), Context(relative_path='tests/migrations/test_multidb.py', content='100.     def _test_run_sql(self, app_label, should_run, hints=None):\n101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n102.             project_state = self.set_up_test_model(app_label)\n103. \n104.         sql = """\n105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n107.         """.format(app_label)\n108. \n109.         operation = migrations.RunSQL(sql, hints=hints or {})\n110.         # Test the state alteration does nothing\n111.         new_state = project_state.clone()\n112.         operation.state_forwards(app_label, new_state)\n113.         self.assertEqual(new_state, project_state)\n114.         # Test the database alteration\n115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n116.         with connection.schema_editor() as editor:\n117.             operation.database_forwards(app_label, editor, project_state, new_state)\n118.         Pony = project_state.apps.get_model(app_label, "Pony")\n119.         if should_run:\n120.             self.assertEqual(Pony.objects.count(), 2)\n121.         else:\n122.             self.assertEqual(Pony.objects.count(), 0)\n123. \n124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n125.     def test_run_sql_migrate_nothing_router(self):\n126.         self._test_run_sql("test_mltdb_runsql", should_run=False)\n127. ', start_line_number=100, end_line_number=127), Context(relative_path='tests/migrations/test_multidb.py', content='136.     def _test_run_python(self, app_label, should_run, hints=None):\n137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n138.             project_state = self.set_up_test_model(app_label)\n139. \n140.         # Create the operation\n141.         def inner_method(models, schema_editor):\n142.             Pony = models.get_model(app_label, "Pony")\n143.             Pony.objects.create(pink=1, weight=3.55)\n144.             Pony.objects.create(weight=5)\n145. \n146.         operation = migrations.RunPython(inner_method, hints=hints or {})\n147.         # Test the state alteration does nothing\n148.         new_state = project_state.clone()\n149.         operation.state_forwards(app_label, new_state)\n150.         self.assertEqual(new_state, project_state)\n151.         # Test the database alteration\n152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n153.         with connection.schema_editor() as editor:\n154.             operation.database_forwards(app_label, editor, project_state, new_state)\n155.         Pony = project_state.apps.get_model(app_label, "Pony")\n156.         if should_run:\n157.             self.assertEqual(Pony.objects.count(), 2)\n158.         else:\n159.             self.assertEqual(Pony.objects.count(), 0)\n160. \n161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n162.     def test_run_python_migrate_nothing_router(self):\n163.         self._test_run_python("test_mltdb_runpython", should_run=False)\n164. ', start_line_number=136, end_line_number=164), Context(relative_path='tests/migrations/test_multidb.py', content='165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n166.     def test_run_python_migrate_foo_router_without_hints(self):\n167.         self._test_run_python("test_mltdb_runpython2", should_run=False)\n168. \n169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n170.     def test_run_python_migrate_foo_router_with_hints(self):\n171.         self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})', start_line_number=165, end_line_number=171)]
2025-10-06 09:11:28,647 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-06 09:11:28,647 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   └── gis
|       └── mapwidget.test.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_middleware_urlconf.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   ├── test_shuffler.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── buffer
    |   |   └── tests_buffer.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── failures
    |   |   ├── __init__.py
    |   |   └── tests_failures.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       ├── tests_inheritance.py
    |       └── tests_syntax_error.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_serializemixin.py
    |   ├── test_simpletestcase.py
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_same_name_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
    ├── urlpatterns_reverse
    |   ├── __init__.py
    |   ├── erroneous_urls.py
    |   ├── extra_urls.py
    |   ├── included_app_urls.py
    |   ├── included_named_urls.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 8 - 38
Content:
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 


File: tests/migrations/test_multidb.py
Line number range: 43 - 81
Content:
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 


File: tests/migrations/test_multidb.py
Line number range: 100 - 127
Content:
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 


File: tests/migrations/test_multidb.py
Line number range: 136 - 164
Content:
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 


File: tests/migrations/test_multidb.py
Line number range: 165 - 171
Content:
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-06 09:11:46,474 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 5 relevant test cases related to a bug in `MigrationRecorder` and database routing. The provided context from `tests/migrations/test_multidb.py` is highly relevant, showing tests for how `allow_migrate` affects different migration operations.\n\nHowever, to provide *complete* and *self-contained* test cases as requested, I am missing several key pieces of the code:\n1.  **Imports**: The necessary imports at the beginning of `tests/migrations/test_multidb.py` are not present.\n2.  **Test Class Definition**: The full class definition for `MultiDBMigrationTests` is missing, which likely contains `setUp` methods and other helpers (like `set_up_test_model`) that are crucial for understanding the tests.\n3.  **Complete Test Methods**: The provided snippets are parts of the test file. Getting the full file will ensure the test methods are complete and I can select the 5 most relevant ones without missing any part of their implementation.\n\nTherefore, to fulfill the request accurately, I need the entire content of the test file.' refined_query='Please provide the full content of the file `tests/migrations/test_multidb.py`.'
2025-10-06 09:11:49,569 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_multidb.py"}'}, '__gemini_function_call_thought_signatures__': {'57c43919-5dc2-40bb-a6b0-3934f3bff42c': 'CvIFAR/MhbZeVt7N95WJUyMNLBiU8IqKruqwmMcGv7vQ04cYl7JFRNtW5M9m25ZLWdz5k3YxKynrTJqXoQ31QeGB5LZTC+nytcBKnU4LLurnShiAV2zX+yrkkcv+qfRtV/U2GcyGou2uHwUuD3YySO9WPAtEAzs6X9HxmJP4GKrASvTLHDMp7HTz9NVExNukjNKUD2LbNkoR3TLo/H9RMATH0VHzAhajS4tvzVauB2T4kdRGmykFEKvmFSFFmpUqPn171dByg/LTJ0RKPvzO4TkgHRSpyo5oGaDQavg0vp9dwif9oL+SLlpDWhp9qPRGVb3HFLYhp2q/YtvLcGvtagVOXG5ACnh671hSmVi3o1vWuvFo6VQcfn+e9Al6k4KEkUzWKiUdAFDGfdXGe7ZsArfW4s7w/OD1t3W1r/eyR/xbCWZhRtvo+JWxd/BsldMwM6UV1NR7yC5A81EvVIgoo6U21BHIk9kS5s8lCXJuyuFtJVNjeDLfszjz+YTkzU6gyefjnP/KIDq8KYdQWiBhNkMfvIKuek/xDgMEY3HFT2jZ+6XYzWklDXyhodxwvaKXZ5dkVomRTlEGKdlB3fX/LDscldZBj7gLmDraOkLWn4PvyWpWBAdcBHMA9uY5yWqSr4rakCZtkfFgH3MINGVkFte3zw4KSuo0ndiPoTmljluRFZ2MqrrKTx/oZ6g5OYI+fRWVccXf4QfOlRxE5VT6MqbMD7WY5Vf7tSoxrdJehPB61wq+XZjMN/2km49W432+rYcP7Zd4p8wXuyreeuuK28h0y/wL/ClVOgE/BnSb5/f9dXuaKlpO80VN/5DqUpuhXzeUCYn6/0JE87vARgOCM1Y41HzgypnY3G2AEc83a8E/SzhU6r5tfvZfG/eNP/dZj7PQwtuE5RbiaijDOTn3O8gT0KaqpzDL0YM+FjuTxWA1bNaQtky3pTnkxCxU/arFI4gRAOAQrmKiyzeYJmLHBI/uxresoG8gjvSxoyIbAOQx2s5vRg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56288, 'candidates_token_count': 24, 'total_token_count': 56514, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56288}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 24}], 'thoughts_token_count': 202, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3779304424921672, 'model_name': 'gemini-2.5-pro'} id='run--ab96d1c1-96b8-493f-b7cf-95e398a90500-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_multidb.py'}, 'id': '57c43919-5dc2-40bb-a6b0-3934f3bff42c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56288, 'output_tokens': 24, 'total_tokens': 56514, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 202}}
2025-10-06 09:11:51,786 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the file `tests/migrations/test_multidb.py` as you requested. The file contains the `MultiDBOperationTests` class, which tests the behavior of migration operations in a multi-database environment. It includes tests for `CreateModel`, `RunSQL`, and `RunPython` operations with different database router configurations.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 59070, 'candidates_token_count': 74, 'total_token_count': 59213, 'cached_content_token_count': 56144, 'prompt_tokens_details': [{'modality': 1, 'token_count': 59270}], 'cache_tokens_details': [{'modality': 1, 'token_count': 56144}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 74}], 'thoughts_token_count': 69}, 'finish_reason': 'STOP', 'avg_logprobs': -0.11679814312909101, 'model_name': 'gemini-2.5-pro'} id='run--20263d84-8b4a-4556-bf96-883ed12f1a47-0' usage_metadata={'input_tokens': 59070, 'output_tokens': 74, 'total_tokens': 59213, 'input_token_details': {'cache_read': 56144}, 'output_token_details': {'reasoning': 69}}
2025-10-06 09:11:51,787 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-06 09:11:51,787 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the full content of the file `tests/migrations/test_multidb.py`.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-06 09:12:01,454 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user's refinement query specifically asks for the full content of the file 'tests/migrations/test_multidb.py'. This file is highly relevant to the original bug report, which describes an issue with `allow_migrate` rules in a multi-database setup. The tests within this file, such as `MultiDBOperationTests`, and the various router implementations (`AgnosticRouter`, `MigrateNothingRouter`, `MigrateEverythingRouter`, `MigrateWhenFooRouter`) directly relate to testing the behavior of migrations with different database routing configurations. Providing the whole file satisfies the user's request and gives complete context for understanding tests related to the reported problem.", relative_path='tests/migrations/test_multidb.py', start_line=1, end_line=171)]
2025-10-06 09:12:01,454 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/migrations/test_multidb.py', content='1. from django.db import connection, migrations, models\n2. from django.db.migrations.state import ProjectState\n3. from django.test import override_settings\n4. \n5. from .test_base import OperationTestBase\n6. \n7. \n8. class AgnosticRouter:\n9.     """\n10.     A router that doesn\'t have an opinion regarding migrating.\n11.     """\n12.     def allow_migrate(self, db, app_label, **hints):\n13.         return None\n14. \n15. \n16. class MigrateNothingRouter:\n17.     """\n18.     A router that doesn\'t allow migrating.\n19.     """\n20.     def allow_migrate(self, db, app_label, **hints):\n21.         return False\n22. \n23. \n24. class MigrateEverythingRouter:\n25.     """\n26.     A router that always allows migrating.\n27.     """\n28.     def allow_migrate(self, db, app_label, **hints):\n29.         return True\n30. \n31. \n32. class MigrateWhenFooRouter:\n33.     """\n34.     A router that allows migrating depending on a hint.\n35.     """\n36.     def allow_migrate(self, db, app_label, **hints):\n37.         return hints.get(\'foo\', False)\n38. \n39. \n40. class MultiDBOperationTests(OperationTestBase):\n41.     databases = {\'default\', \'other\'}\n42. \n43.     def _test_create_model(self, app_label, should_run):\n44.         """\n45.         CreateModel honors multi-db settings.\n46.         """\n47.         operation = migrations.CreateModel(\n48.             "Pony",\n49.             [("id", models.AutoField(primary_key=True))],\n50.         )\n51.         # Test the state alteration\n52.         project_state = ProjectState()\n53.         new_state = project_state.clone()\n54.         operation.state_forwards(app_label, new_state)\n55.         # Test the database alteration\n56.         self.assertTableNotExists("%s_pony" % app_label)\n57.         with connection.schema_editor() as editor:\n58.             operation.database_forwards(app_label, editor, project_state, new_state)\n59.         if should_run:\n60.             self.assertTableExists("%s_pony" % app_label)\n61.         else:\n62.             self.assertTableNotExists("%s_pony" % app_label)\n63.         # And test reversal\n64.         with connection.schema_editor() as editor:\n65.             operation.database_backwards(app_label, editor, new_state, project_state)\n66.         self.assertTableNotExists("%s_pony" % app_label)\n67. \n68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n69.     def test_create_model(self):\n70.         """\n71.         Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n72.         """\n73.         self._test_create_model("test_mltdb_crmo", should_run=True)\n74. \n75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n76.     def test_create_model2(self):\n77.         """\n78.         Test when router returns False (i.e. CreateModel shouldn\'t run).\n79.         """\n80.         self._test_create_model("test_mltdb_crmo2", should_run=False)\n81. \n82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n83.     def test_create_model3(self):\n84.         """\n85.         Test when router returns True (i.e. CreateModel should run).\n86.         """\n87.         self._test_create_model("test_mltdb_crmo3", should_run=True)\n88. \n89.     def test_create_model4(self):\n90.         """\n91.         Test multiple routers.\n92.         """\n93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n94.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n96.             self._test_create_model("test_mltdb_crmo4", should_run=False)\n97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n98.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n99. \n100.     def _test_run_sql(self, app_label, should_run, hints=None):\n101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n102.             project_state = self.set_up_test_model(app_label)\n103. \n104.         sql = """\n105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n107.         """.format(app_label)\n108. \n109.         operation = migrations.RunSQL(sql, hints=hints or {})\n110.         # Test the state alteration does nothing\n111.         new_state = project_state.clone()\n112.         operation.state_forwards(app_label, new_state)\n113.         self.assertEqual(new_state, project_state)\n114.         # Test the database alteration\n115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n116.         with connection.schema_editor() as editor:\n117.             operation.database_forwards(app_label, editor, project_state, new_state)\n118.         Pony = project_state.apps.get_model(app_label, "Pony")\n119.         if should_run:\n120.             self.assertEqual(Pony.objects.count(), 2)\n121.         else:\n122.             self.assertEqual(Pony.objects.count(), 0)\n123. \n124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n125.     def test_run_sql_migrate_nothing_router(self):\n126.         self._test_run_sql("test_mltdb_runsql", should_run=False)\n127. \n128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n129.     def test_run_sql_migrate_foo_router_without_hints(self):\n130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)\n131. \n132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n133.     def test_run_sql_migrate_foo_router_with_hints(self):\n134.         self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n135. \n136.     def _test_run_python(self, app_label, should_run, hints=None):\n137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n138.             project_state = self.set_up_test_model(app_label)\n139. \n140.         # Create the operation\n141.         def inner_method(models, schema_editor):\n142.             Pony = models.get_model(app_label, "Pony")\n143.             Pony.objects.create(pink=1, weight=3.55)\n144.             Pony.objects.create(weight=5)\n145. \n146.         operation = migrations.RunPython(inner_method, hints=hints or {})\n147.         # Test the state alteration does nothing\n148.         new_state = project_state.clone()\n149.         operation.state_forwards(app_label, new_state)\n150.         self.assertEqual(new_state, project_state)\n151.         # Test the database alteration\n152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n153.         with connection.schema_editor() as editor:\n154.             operation.database_forwards(app_label, editor, project_state, new_state)\n155.         Pony = project_state.apps.get_model(app_label, "Pony")\n156.         if should_run:\n157.             self.assertEqual(Pony.objects.count(), 2)\n158.         else:\n159.             self.assertEqual(Pony.objects.count(), 0)\n160. \n161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n162.     def test_run_python_migrate_nothing_router(self):\n163.         self._test_run_python("test_mltdb_runpython", should_run=False)\n164. \n165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n166.     def test_run_python_migrate_foo_router_without_hints(self):\n167.         self._test_run_python("test_mltdb_runpython2", should_run=False)\n168. \n169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n170.     def test_run_python_migrate_foo_router_with_hints(self):\n171.         self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})', start_line_number=1, end_line_number=171)]
2025-10-06 09:12:01,455 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-06 09:12:01,455 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   └── static
|   |   |       └── fontawesome
|   |   └── djangodocs-epub
|   |       └── static
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   └── gis
|       └── mapwidget.test.js
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   └── admin
    |   |       └── admin_views
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   └── registration
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   └── registration
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   └── robots.txt
    |   |   └── registration
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   └── javascript_ignored.js
    |   |   └── templates
    |   |       └── subdir
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   ├── templates
    |   |   └── shortcuts
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   ├── loop
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   ├── jinja2
    |   |   └── template_backends
    |   ├── template_strings
    |   |   └── template_backends
    |   ├── templates
    |   |   └── template_backends
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   ├── templates
    |   |   └── template_loader
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   ├── other_templates
    |   |   └── priority
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   ├── fs2
    |   |   └── fs3
    |   ├── relative_templates
    |   |   └── dir1
    |   |       └── dir2
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── first
    |   |   ├── priority
    |   |   ├── second
    |   |   └── template_tests
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   └── views
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_middleware_urlconf.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   ├── test_shuffler.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
    |   ├── buffer
    |   |   └── tests_buffer.py
    |   ├── databases
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   ├── failures
    |   |   ├── __init__.py
    |   |   └── tests_failures.py
    |   ├── sample
    |   |   ├── __init__.py
    |   |   ├── doctests.py
    |   |   ├── empty.py
    |   |   ├── pattern_tests.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests.py
    |   |   └── tests_sample.py
    |   ├── simple
    |   |   ├── __init__.py
    |   |   └── tests.py
    |   └── tagged
    |       ├── __init__.py
    |       ├── tests.py
    |       ├── tests_inheritance.py
    |       └── tests_syntax_error.py
    ├── test_sqlite.py
    ├── test_utils
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── templates
    |   |   └── template_used
    |   ├── test_serializemixin.py
    |   ├── test_simpletestcase.py
    |   ├── test_testcase.py
    |   ├── test_transactiontestcase.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── timezones
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── transaction_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── transactions
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── unmanaged_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── update_only_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── urlpatterns
    |   ├── __init__.py
    |   ├── converter_urls.py
    |   ├── converters.py
    |   ├── included_urls.py
    |   ├── more_urls.py
    |   ├── path_base64_urls.py
    |   ├── path_dynamic_urls.py
    |   ├── path_same_name_urls.py
    |   ├── path_urls.py
    |   ├── test_resolvers.py
    |   ├── tests.py
    |   └── views.py
    ├── urlpatterns_reverse
    |   ├── __init__.py
    |   ├── erroneous_urls.py
    |   ├── extra_urls.py
    |   ├── included_app_urls.py
    |   ├── included_named_urls.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

2025-10-06 09:12:23,588 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 5 relevant test cases. The file `tests/migrations/test_multidb.py` contains highly relevant tests regarding database routing and migrations. However, the tests in this file inherit from `OperationTestBase` which is defined in `tests/migrations/test_base.py`. This base class contains helper methods and setup required for the tests to be complete and understandable. To fulfill the request for self-contained test cases, the content of `tests/migrations/test_base.py` is necessary.' refined_query='Please provide the content of the file `tests/migrations/test_base.py`.'
2025-10-06 09:12:26,791 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_base.py"}'}, '__gemini_function_call_thought_signatures__': {'81802f62-d7be-48e6-86f2-98d989a65789': 'Cr8DAR/MhbYzoA7QzU1T+uWg726qXYG7kuQI+8rL5+WD4dTdfco/qv8+Mi8oW+3jYz+zvP+E6haxRb4CIHta7qwA4XoTA1Cob+ay2jfCA1XUB8FLp5TH1tftATMjbZXvi/mWbuDliL3IMcNYE/nYDXw1FEjApzjx3JEFmjhHKry21HQVQOV/vR9LHmAKg+sk31lW8bLB6huxfm39SKcY0ZnWEG9EEpSdnpqBNCieMZ8FvNrvqDFJZzyMxipXQag83eEdEg+676rUCQZDOD+WqsuuFGMh7OI8WTyl+tWlYRw3KmObD7MupMpMB/zDNUMuIDjTXPBECtKAa2OLK8YVdf94o9L4pwu6joOChoxG8LZ/Q21QxwMLnKEJbq3U6YhSZXC92b8TSd3oW1D8uy7qbhz4UgJLUuLZwERePHQ3jmh8Ahr2lLvIS95OsKshuE/xXOM5Wa5zgeZhBs41Y2inXaC7fk0gnzYCBtntwW+IYxdAH8bRkFC8UNZf2Xf2vGP+yIN9mtNLb36LtFnjr/MsLKI8jgNscFoR5FK8OLtenp2S/DAS18zzU4dROrcVjipXOhKlb6iU8FOkgpZ6+oqDtKhV'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 56286, 'candidates_token_count': 23, 'total_token_count': 56425, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56286}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 116, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1674023503842561, 'model_name': 'gemini-2.5-pro'} id='run--6085fbf6-1411-44d1-95dd-3ba75d2fc3f8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_base.py'}, 'id': '81802f62-d7be-48e6-86f2-98d989a65789', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56286, 'output_tokens': 23, 'total_tokens': 56425, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 116}}
2025-10-06 09:12:28,975 - thread-139660780025408.app.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the content of the file `tests/migrations/test_base.py`. The file contains a `MigrationTestBase` class with a set of custom assertion methods for testing migrations and schema operations, along with a context manager for creating temporary migration modules. It also includes an `OperationTestBase` class that provides common functions to help test migration operations, such as applying and unapplying operations, and creating test states.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 60826, 'candidates_token_count': 85, 'total_token_count': 60911, 'cached_content_token_count': 56170, 'prompt_tokens_details': [{'modality': 1, 'token_count': 60940}], 'cache_tokens_details': [{'modality': 1, 'token_count': 56170}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 85}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12119366140926585, 'model_name': 'gemini-2.5-pro'} id='run--7cd367e9-2aec-4606-bb37-f60581f71894-0' usage_metadata={'input_tokens': 60826, 'output_tokens': 85, 'total_tokens': 60911, 'input_token_details': {'cache_read': 56170}}
2025-10-06 09:12:28,976 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Starting context extraction process
2025-10-06 09:12:28,976 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - This is the original user query:

--- BEGIN ORIGINAL QUERY ---
Issue title:
MigrationRecorder does not obey db_router allow_migrate rules

Issue description: 
Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Issue comments:


OBJECTIVE: Find 5 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 5 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 5 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

This is the refinement query. Please consider it together with the original query. It's really IMPORTANT!!!

--- BEGIN REFINEMENT QUERY ---
Please provide the content of the file `tests/migrations/test_base.py`.
--- END REFINEMENT QUERY ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_base.py
Line number range: 1 - 309
Content:
1. import os
2. import shutil
3. import tempfile
4. from contextlib import contextmanager
5. from importlib import import_module
6. 
7. from django.apps import apps
8. from django.db import connection, connections, migrations, models
9. from django.db.migrations.migration import Migration
10. from django.db.migrations.recorder import MigrationRecorder
11. from django.db.migrations.state import ProjectState
12. from django.test import TransactionTestCase
13. from django.test.utils import extend_sys_path
14. from django.utils.module_loading import module_dir
15. 
16. 
17. class MigrationTestBase(TransactionTestCase):
18.     """
19.     Contains an extended set of asserts for testing migrations and schema operations.
20.     """
21. 
22.     available_apps = ["migrations"]
23.     databases = {'default', 'other'}
24. 
25.     def tearDown(self):
26.         # Reset applied-migrations state.
27.         for db in self.databases:
28.             recorder = MigrationRecorder(connections[db])
29.             recorder.migration_qs.filter(app='migrations').delete()
30. 
31.     def get_table_description(self, table, using='default'):
32.         with connections[using].cursor() as cursor:
33.             return connections[using].introspection.get_table_description(cursor, table)
34. 
35.     def assertTableExists(self, table, using='default'):
36.         with connections[using].cursor() as cursor:
37.             self.assertIn(table, connections[using].introspection.table_names(cursor))
38. 
39.     def assertTableNotExists(self, table, using='default'):
40.         with connections[using].cursor() as cursor:
41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))
42. 
43.     def assertColumnExists(self, table, column, using='default'):
44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])
45. 
46.     def assertColumnNotExists(self, table, column, using='default'):
47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])
48. 
49.     def _get_column_allows_null(self, table, column, using):
50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]
51. 
52.     def assertColumnNull(self, table, column, using='default'):
53.         self.assertTrue(self._get_column_allows_null(table, column, using))
54. 
55.     def assertColumnNotNull(self, table, column, using='default'):
56.         self.assertFalse(self._get_column_allows_null(table, column, using))
57. 
58.     def assertIndexExists(self, table, columns, value=True, using='default', index_type=None):
59.         with connections[using].cursor() as cursor:
60.             self.assertEqual(
61.                 value,
62.                 any(
63.                     c["index"]
64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
65.                     if (
66.                         c['columns'] == list(columns) and
67.                         (index_type is None or c['type'] == index_type) and
68.                         not c['unique']
69.                     )
70.                 ),
71.             )
72. 
73.     def assertIndexNotExists(self, table, columns):
74.         return self.assertIndexExists(table, columns, False)
75. 
76.     def assertIndexNameExists(self, table, index, using='default'):
77.         with connections[using].cursor() as cursor:
78.             self.assertIn(
79.                 index,
80.                 connection.introspection.get_constraints(cursor, table),
81.             )
82. 
83.     def assertIndexNameNotExists(self, table, index, using='default'):
84.         with connections[using].cursor() as cursor:
85.             self.assertNotIn(
86.                 index,
87.                 connection.introspection.get_constraints(cursor, table),
88.             )
89. 
90.     def assertConstraintExists(self, table, name, value=True, using='default'):
91.         with connections[using].cursor() as cursor:
92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()
93.             self.assertEqual(
94.                 value,
95.                 any(c['check'] for n, c in constraints if n == name),
96.             )
97. 
98.     def assertConstraintNotExists(self, table, name):
99.         return self.assertConstraintExists(table, name, False)
100. 
101.     def assertUniqueConstraintExists(self, table, columns, value=True, using='default'):
102.         with connections[using].cursor() as cursor:
103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()
104.             self.assertEqual(
105.                 value,
106.                 any(c['unique'] for c in constraints if c['columns'] == list(columns)),
107.             )
108. 
109.     def assertFKExists(self, table, columns, to, value=True, using='default'):
110.         with connections[using].cursor() as cursor:
111.             self.assertEqual(
112.                 value,
113.                 any(
114.                     c["foreign_key"] == to
115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
116.                     if c['columns'] == list(columns)
117.                 ),
118.             )
119. 
120.     def assertFKNotExists(self, table, columns, to):
121.         return self.assertFKExists(table, columns, to, False)
122. 
123.     @contextmanager
124.     def temporary_migration_module(self, app_label='migrations', module=None):
125.         """
126.         Allows testing management commands in a temporary migrations module.
127. 
128.         Wrap all invocations to makemigrations and squashmigrations with this
129.         context manager in order to avoid creating migration files in your
130.         source tree inadvertently.
131. 
132.         Takes the application label that will be passed to makemigrations or
133.         squashmigrations and the Python path to a migrations module.
134. 
135.         The migrations module is used as a template for creating the temporary
136.         migrations module. If it isn't provided, the application's migrations
137.         module is used, if it exists.
138. 
139.         Returns the filesystem path to the temporary migrations module.
140.         """
141.         with tempfile.TemporaryDirectory() as temp_dir:
142.             target_dir = tempfile.mkdtemp(dir=temp_dir)
143.             with open(os.path.join(target_dir, '__init__.py'), 'w'):
144.                 pass
145.             target_migrations_dir = os.path.join(target_dir, 'migrations')
146. 
147.             if module is None:
148.                 module = apps.get_app_config(app_label).name + '.migrations'
149. 
150.             try:
151.                 source_migrations_dir = module_dir(import_module(module))
152.             except (ImportError, ValueError):
153.                 pass
154.             else:
155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)
156. 
157.             with extend_sys_path(temp_dir):
158.                 new_module = os.path.basename(target_dir) + '.migrations'
159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):
160.                     yield target_migrations_dir
161. 
162. 
163. class OperationTestBase(MigrationTestBase):
164.     """Common functions to help test operations."""
165. 
166.     @classmethod
167.     def setUpClass(cls):
168.         super().setUpClass()
169.         cls._initial_table_names = frozenset(connection.introspection.table_names())
170. 
171.     def tearDown(self):
172.         self.cleanup_test_tables()
173.         super().tearDown()
174. 
175.     def cleanup_test_tables(self):
176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names
177.         with connection.schema_editor() as editor:
178.             with connection.constraint_checks_disabled():
179.                 for table_name in table_names:
180.                     editor.execute(editor.sql_delete_table % {
181.                         'table': editor.quote_name(table_name),
182.                     })
183. 
184.     def apply_operations(self, app_label, project_state, operations, atomic=True):
185.         migration = Migration('name', app_label)
186.         migration.operations = operations
187.         with connection.schema_editor(atomic=atomic) as editor:
188.             return migration.apply(project_state, editor)
189. 
190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):
191.         migration = Migration('name', app_label)
192.         migration.operations = operations
193.         with connection.schema_editor(atomic=atomic) as editor:
194.             return migration.unapply(project_state, editor)
195. 
196.     def make_test_state(self, app_label, operation, **kwargs):
197.         """
198.         Makes a test state using set_up_test_model and returns the
199.         original state and the state after the migration is applied.
200.         """
201.         project_state = self.set_up_test_model(app_label, **kwargs)
202.         new_state = project_state.clone()
203.         operation.state_forwards(app_label, new_state)
204.         return project_state, new_state
205. 
206.     def set_up_test_model(
207.         self, app_label, second_model=False, third_model=False, index=False,
208.         multicol_index=False, related_model=False, mti_model=False,
209.         proxy_model=False, manager_model=False, unique_together=False,
210.         options=False, db_table=None, index_together=False, constraints=None,
211.         indexes=None,
212.     ):
213.         """Creates a test model state and database table."""
214.         # Make the "current" state.
215.         model_options = {
216.             'swappable': 'TEST_SWAP_MODEL',
217.             'index_together': [['weight', 'pink']] if index_together else [],
218.             'unique_together': [['pink', 'weight']] if unique_together else [],
219.         }
220.         if options:
221.             model_options['permissions'] = [('can_groom', 'Can groom')]
222.         if db_table:
223.             model_options['db_table'] = db_table
224.         operations = [migrations.CreateModel(
225.             'Pony',
226.             [
227.                 ('id', models.AutoField(primary_key=True)),
228.                 ('pink', models.IntegerField(default=3)),
229.                 ('weight', models.FloatField()),
230.             ],
231.             options=model_options,
232.         )]
233.         if index:
234.             operations.append(migrations.AddIndex(
235.                 'Pony',
236.                 models.Index(fields=['pink'], name='pony_pink_idx'),
237.             ))
238.         if multicol_index:
239.             operations.append(migrations.AddIndex(
240.                 'Pony',
241.                 models.Index(fields=['pink', 'weight'], name='pony_test_idx'),
242.             ))
243.         if indexes:
244.             for index in indexes:
245.                 operations.append(migrations.AddIndex('Pony', index))
246.         if constraints:
247.             for constraint in constraints:
248.                 operations.append(migrations.AddConstraint('Pony', constraint))
249.         if second_model:
250.             operations.append(migrations.CreateModel(
251.                 'Stable',
252.                 [
253.                     ('id', models.AutoField(primary_key=True)),
254.                 ]
255.             ))
256.         if third_model:
257.             operations.append(migrations.CreateModel(
258.                 'Van',
259.                 [
260.                     ('id', models.AutoField(primary_key=True)),
261.                 ]
262.             ))
263.         if related_model:
264.             operations.append(migrations.CreateModel(
265.                 'Rider',
266.                 [
267.                     ('id', models.AutoField(primary_key=True)),
268.                     ('pony', models.ForeignKey('Pony', models.CASCADE)),
269.                     ('friend', models.ForeignKey('self', models.CASCADE, null=True))
270.                 ],
271.             ))
272.         if mti_model:
273.             operations.append(migrations.CreateModel(
274.                 'ShetlandPony',
275.                 fields=[
276.                     ('pony_ptr', models.OneToOneField(
277.                         'Pony',
278.                         models.CASCADE,
279.                         auto_created=True,
280.                         parent_link=True,
281.                         primary_key=True,
282.                         to_field='id',
283.                         serialize=False,
284.                     )),
285.                     ('cuteness', models.IntegerField(default=1)),
286.                 ],
287.                 bases=['%s.Pony' % app_label],
288.             ))
289.         if proxy_model:
290.             operations.append(migrations.CreateModel(
291.                 'ProxyPony',
292.                 fields=[],
293.                 options={'proxy': True},
294.                 bases=['%s.Pony' % app_label],
295.             ))
296.         if manager_model:
297.             from .models import FoodManager, FoodQuerySet
298.             operations.append(migrations.CreateModel(
299.                 'Food',
300.                 fields=[
301.                     ('id', models.AutoField(primary_key=True)),
302.                 ],
303.                 managers=[
304.                     ('food_qs', FoodQuerySet.as_manager()),
305.                     ('food_mgr', FoodManager('a', 'b')),
306.                     ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
307.                 ]
308.             ))
309.         return self.apply_operations(app_label, ProjectState(), operations)


--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to a given query and the refinement query, and return your response in the specified format!
EVERY context object MUST include: reasoning, relative_path, start_line, and end_line.

2025-10-06 09:12:35,822 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user explicitly requested the content of `tests/migrations/test_base.py`. This file contains the `MigrationTestBase` class, which is a foundational piece for writing migration tests in the Django test suite. It includes setup for multi-database scenarios (`databases = {'default', 'other'}`), custom assertion methods for database schema states (`assertTableExists`, `assertColumnExists`, etc.), and context managers for creating temporary migration modules. Understanding this base class is crucial for interpreting the specific test cases that might be relevant to the user's issue concerning database routing and the `MigrationRecorder`.", relative_path='tests/migrations/test_base.py', start_line=1, end_line=309)]
2025-10-06 09:12:35,823 - thread-139660780025408.app.lang_graph.nodes.context_extraction_node - INFO - Context extraction complete, returning context [Context(relative_path='tests/migrations/test_multidb.py', content='1. from django.db import connection, migrations, models\n2. from django.db.migrations.state import ProjectState\n3. from django.test import override_settings\n4. \n5. from .test_base import OperationTestBase\n6. \n7. \n8. class AgnosticRouter:\n9.     """\n10.     A router that doesn\'t have an opinion regarding migrating.\n11.     """\n12.     def allow_migrate(self, db, app_label, **hints):\n13.         return None\n14. \n15. \n16. class MigrateNothingRouter:\n17.     """\n18.     A router that doesn\'t allow migrating.\n19.     """\n20.     def allow_migrate(self, db, app_label, **hints):\n21.         return False\n22. \n23. \n24. class MigrateEverythingRouter:\n25.     """\n26.     A router that always allows migrating.\n27.     """\n28.     def allow_migrate(self, db, app_label, **hints):\n29.         return True\n30. \n31. \n32. class MigrateWhenFooRouter:\n33.     """\n34.     A router that allows migrating depending on a hint.\n35.     """\n36.     def allow_migrate(self, db, app_label, **hints):\n37.         return hints.get(\'foo\', False)\n38. \n39. \n40. class MultiDBOperationTests(OperationTestBase):\n41.     databases = {\'default\', \'other\'}\n42. \n43.     def _test_create_model(self, app_label, should_run):\n44.         """\n45.         CreateModel honors multi-db settings.\n46.         """\n47.         operation = migrations.CreateModel(\n48.             "Pony",\n49.             [("id", models.AutoField(primary_key=True))],\n50.         )\n51.         # Test the state alteration\n52.         project_state = ProjectState()\n53.         new_state = project_state.clone()\n54.         operation.state_forwards(app_label, new_state)\n55.         # Test the database alteration\n56.         self.assertTableNotExists("%s_pony" % app_label)\n57.         with connection.schema_editor() as editor:\n58.             operation.database_forwards(app_label, editor, project_state, new_state)\n59.         if should_run:\n60.             self.assertTableExists("%s_pony" % app_label)\n61.         else:\n62.             self.assertTableNotExists("%s_pony" % app_label)\n63.         # And test reversal\n64.         with connection.schema_editor() as editor:\n65.             operation.database_backwards(app_label, editor, new_state, project_state)\n66.         self.assertTableNotExists("%s_pony" % app_label)\n67. \n68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n69.     def test_create_model(self):\n70.         """\n71.         Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n72.         """\n73.         self._test_create_model("test_mltdb_crmo", should_run=True)\n74. \n75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n76.     def test_create_model2(self):\n77.         """\n78.         Test when router returns False (i.e. CreateModel shouldn\'t run).\n79.         """\n80.         self._test_create_model("test_mltdb_crmo2", should_run=False)\n81. \n82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n83.     def test_create_model3(self):\n84.         """\n85.         Test when router returns True (i.e. CreateModel should run).\n86.         """\n87.         self._test_create_model("test_mltdb_crmo3", should_run=True)\n88. \n89.     def test_create_model4(self):\n90.         """\n91.         Test multiple routers.\n92.         """\n93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n94.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n96.             self._test_create_model("test_mltdb_crmo4", should_run=False)\n97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n98.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n99. \n100.     def _test_run_sql(self, app_label, should_run, hints=None):\n101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n102.             project_state = self.set_up_test_model(app_label)\n103. \n104.         sql = """\n105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n107.         """.format(app_label)\n108. \n109.         operation = migrations.RunSQL(sql, hints=hints or {})\n110.         # Test the state alteration does nothing\n111.         new_state = project_state.clone()\n112.         operation.state_forwards(app_label, new_state)\n113.         self.assertEqual(new_state, project_state)\n114.         # Test the database alteration\n115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n116.         with connection.schema_editor() as editor:\n117.             operation.database_forwards(app_label, editor, project_state, new_state)\n118.         Pony = project_state.apps.get_model(app_label, "Pony")\n119.         if should_run:\n120.             self.assertEqual(Pony.objects.count(), 2)\n121.         else:\n122.             self.assertEqual(Pony.objects.count(), 0)\n123. \n124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n125.     def test_run_sql_migrate_nothing_router(self):\n126.         self._test_run_sql("test_mltdb_runsql", should_run=False)\n127. \n128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n129.     def test_run_sql_migrate_foo_router_without_hints(self):\n130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)\n131. \n132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n133.     def test_run_sql_migrate_foo_router_with_hints(self):\n134.         self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n135. \n136.     def _test_run_python(self, app_label, should_run, hints=None):\n137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n138.             project_state = self.set_up_test_model(app_label)\n139. \n140.         # Create the operation\n141.         def inner_method(models, schema_editor):\n142.             Pony = models.get_model(app_label, "Pony")\n143.             Pony.objects.create(pink=1, weight=3.55)\n144.             Pony.objects.create(weight=5)\n145. \n146.         operation = migrations.RunPython(inner_method, hints=hints or {})\n147.         # Test the state alteration does nothing\n148.         new_state = project_state.clone()\n149.         operation.state_forwards(app_label, new_state)\n150.         self.assertEqual(new_state, project_state)\n151.         # Test the database alteration\n152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n153.         with connection.schema_editor() as editor:\n154.             operation.database_forwards(app_label, editor, project_state, new_state)\n155.         Pony = project_state.apps.get_model(app_label, "Pony")\n156.         if should_run:\n157.             self.assertEqual(Pony.objects.count(), 2)\n158.         else:\n159.             self.assertEqual(Pony.objects.count(), 0)\n160. \n161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n162.     def test_run_python_migrate_nothing_router(self):\n163.         self._test_run_python("test_mltdb_runpython", should_run=False)\n164. \n165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n166.     def test_run_python_migrate_foo_router_without_hints(self):\n167.         self._test_run_python("test_mltdb_runpython2", should_run=False)\n168. \n169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n170.     def test_run_python_migrate_foo_router_with_hints(self):\n171.         self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})', start_line_number=1, end_line_number=171), Context(relative_path='tests/migrations/test_base.py', content='1. import os\n2. import shutil\n3. import tempfile\n4. from contextlib import contextmanager\n5. from importlib import import_module\n6. \n7. from django.apps import apps\n8. from django.db import connection, connections, migrations, models\n9. from django.db.migrations.migration import Migration\n10. from django.db.migrations.recorder import MigrationRecorder\n11. from django.db.migrations.state import ProjectState\n12. from django.test import TransactionTestCase\n13. from django.test.utils import extend_sys_path\n14. from django.utils.module_loading import module_dir\n15. \n16. \n17. class MigrationTestBase(TransactionTestCase):\n18.     """\n19.     Contains an extended set of asserts for testing migrations and schema operations.\n20.     """\n21. \n22.     available_apps = ["migrations"]\n23.     databases = {\'default\', \'other\'}\n24. \n25.     def tearDown(self):\n26.         # Reset applied-migrations state.\n27.         for db in self.databases:\n28.             recorder = MigrationRecorder(connections[db])\n29.             recorder.migration_qs.filter(app=\'migrations\').delete()\n30. \n31.     def get_table_description(self, table, using=\'default\'):\n32.         with connections[using].cursor() as cursor:\n33.             return connections[using].introspection.get_table_description(cursor, table)\n34. \n35.     def assertTableExists(self, table, using=\'default\'):\n36.         with connections[using].cursor() as cursor:\n37.             self.assertIn(table, connections[using].introspection.table_names(cursor))\n38. \n39.     def assertTableNotExists(self, table, using=\'default\'):\n40.         with connections[using].cursor() as cursor:\n41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))\n42. \n43.     def assertColumnExists(self, table, column, using=\'default\'):\n44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])\n45. \n46.     def assertColumnNotExists(self, table, column, using=\'default\'):\n47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])\n48. \n49.     def _get_column_allows_null(self, table, column, using):\n50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]\n51. \n52.     def assertColumnNull(self, table, column, using=\'default\'):\n53.         self.assertTrue(self._get_column_allows_null(table, column, using))\n54. \n55.     def assertColumnNotNull(self, table, column, using=\'default\'):\n56.         self.assertFalse(self._get_column_allows_null(table, column, using))\n57. \n58.     def assertIndexExists(self, table, columns, value=True, using=\'default\', index_type=None):\n59.         with connections[using].cursor() as cursor:\n60.             self.assertEqual(\n61.                 value,\n62.                 any(\n63.                     c["index"]\n64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n65.                     if (\n66.                         c[\'columns\'] == list(columns) and\n67.                         (index_type is None or c[\'type\'] == index_type) and\n68.                         not c[\'unique\']\n69.                     )\n70.                 ),\n71.             )\n72. \n73.     def assertIndexNotExists(self, table, columns):\n74.         return self.assertIndexExists(table, columns, False)\n75. \n76.     def assertIndexNameExists(self, table, index, using=\'default\'):\n77.         with connections[using].cursor() as cursor:\n78.             self.assertIn(\n79.                 index,\n80.                 connection.introspection.get_constraints(cursor, table),\n81.             )\n82. \n83.     def assertIndexNameNotExists(self, table, index, using=\'default\'):\n84.         with connections[using].cursor() as cursor:\n85.             self.assertNotIn(\n86.                 index,\n87.                 connection.introspection.get_constraints(cursor, table),\n88.             )\n89. \n90.     def assertConstraintExists(self, table, name, value=True, using=\'default\'):\n91.         with connections[using].cursor() as cursor:\n92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()\n93.             self.assertEqual(\n94.                 value,\n95.                 any(c[\'check\'] for n, c in constraints if n == name),\n96.             )\n97. \n98.     def assertConstraintNotExists(self, table, name):\n99.         return self.assertConstraintExists(table, name, False)\n100. \n101.     def assertUniqueConstraintExists(self, table, columns, value=True, using=\'default\'):\n102.         with connections[using].cursor() as cursor:\n103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()\n104.             self.assertEqual(\n105.                 value,\n106.                 any(c[\'unique\'] for c in constraints if c[\'columns\'] == list(columns)),\n107.             )\n108. \n109.     def assertFKExists(self, table, columns, to, value=True, using=\'default\'):\n110.         with connections[using].cursor() as cursor:\n111.             self.assertEqual(\n112.                 value,\n113.                 any(\n114.                     c["foreign_key"] == to\n115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n116.                     if c[\'columns\'] == list(columns)\n117.                 ),\n118.             )\n119. \n120.     def assertFKNotExists(self, table, columns, to):\n121.         return self.assertFKExists(table, columns, to, False)\n122. \n123.     @contextmanager\n124.     def temporary_migration_module(self, app_label=\'migrations\', module=None):\n125.         """\n126.         Allows testing management commands in a temporary migrations module.\n127. \n128.         Wrap all invocations to makemigrations and squashmigrations with this\n129.         context manager in order to avoid creating migration files in your\n130.         source tree inadvertently.\n131. \n132.         Takes the application label that will be passed to makemigrations or\n133.         squashmigrations and the Python path to a migrations module.\n134. \n135.         The migrations module is used as a template for creating the temporary\n136.         migrations module. If it isn\'t provided, the application\'s migrations\n137.         module is used, if it exists.\n138. \n139.         Returns the filesystem path to the temporary migrations module.\n140.         """\n141.         with tempfile.TemporaryDirectory() as temp_dir:\n142.             target_dir = tempfile.mkdtemp(dir=temp_dir)\n143.             with open(os.path.join(target_dir, \'__init__.py\'), \'w\'):\n144.                 pass\n145.             target_migrations_dir = os.path.join(target_dir, \'migrations\')\n146. \n147.             if module is None:\n148.                 module = apps.get_app_config(app_label).name + \'.migrations\'\n149. \n150.             try:\n151.                 source_migrations_dir = module_dir(import_module(module))\n152.             except (ImportError, ValueError):\n153.                 pass\n154.             else:\n155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)\n156. \n157.             with extend_sys_path(temp_dir):\n158.                 new_module = os.path.basename(target_dir) + \'.migrations\'\n159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):\n160.                     yield target_migrations_dir\n161. \n162. \n163. class OperationTestBase(MigrationTestBase):\n164.     """Common functions to help test operations."""\n165. \n166.     @classmethod\n167.     def setUpClass(cls):\n168.         super().setUpClass()\n169.         cls._initial_table_names = frozenset(connection.introspection.table_names())\n170. \n171.     def tearDown(self):\n172.         self.cleanup_test_tables()\n173.         super().tearDown()\n174. \n175.     def cleanup_test_tables(self):\n176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names\n177.         with connection.schema_editor() as editor:\n178.             with connection.constraint_checks_disabled():\n179.                 for table_name in table_names:\n180.                     editor.execute(editor.sql_delete_table % {\n181.                         \'table\': editor.quote_name(table_name),\n182.                     })\n183. \n184.     def apply_operations(self, app_label, project_state, operations, atomic=True):\n185.         migration = Migration(\'name\', app_label)\n186.         migration.operations = operations\n187.         with connection.schema_editor(atomic=atomic) as editor:\n188.             return migration.apply(project_state, editor)\n189. \n190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):\n191.         migration = Migration(\'name\', app_label)\n192.         migration.operations = operations\n193.         with connection.schema_editor(atomic=atomic) as editor:\n194.             return migration.unapply(project_state, editor)\n195. \n196.     def make_test_state(self, app_label, operation, **kwargs):\n197.         """\n198.         Makes a test state using set_up_test_model and returns the\n199.         original state and the state after the migration is applied.\n200.         """\n201.         project_state = self.set_up_test_model(app_label, **kwargs)\n202.         new_state = project_state.clone()\n203.         operation.state_forwards(app_label, new_state)\n204.         return project_state, new_state\n205. \n206.     def set_up_test_model(\n207.         self, app_label, second_model=False, third_model=False, index=False,\n208.         multicol_index=False, related_model=False, mti_model=False,\n209.         proxy_model=False, manager_model=False, unique_together=False,\n210.         options=False, db_table=None, index_together=False, constraints=None,\n211.         indexes=None,\n212.     ):\n213.         """Creates a test model state and database table."""\n214.         # Make the "current" state.\n215.         model_options = {\n216.             \'swappable\': \'TEST_SWAP_MODEL\',\n217.             \'index_together\': [[\'weight\', \'pink\']] if index_together else [],\n218.             \'unique_together\': [[\'pink\', \'weight\']] if unique_together else [],\n219.         }\n220.         if options:\n221.             model_options[\'permissions\'] = [(\'can_groom\', \'Can groom\')]\n222.         if db_table:\n223.             model_options[\'db_table\'] = db_table\n224.         operations = [migrations.CreateModel(\n225.             \'Pony\',\n226.             [\n227.                 (\'id\', models.AutoField(primary_key=True)),\n228.                 (\'pink\', models.IntegerField(default=3)),\n229.                 (\'weight\', models.FloatField()),\n230.             ],\n231.             options=model_options,\n232.         )]\n233.         if index:\n234.             operations.append(migrations.AddIndex(\n235.                 \'Pony\',\n236.                 models.Index(fields=[\'pink\'], name=\'pony_pink_idx\'),\n237.             ))\n238.         if multicol_index:\n239.             operations.append(migrations.AddIndex(\n240.                 \'Pony\',\n241.                 models.Index(fields=[\'pink\', \'weight\'], name=\'pony_test_idx\'),\n242.             ))\n243.         if indexes:\n244.             for index in indexes:\n245.                 operations.append(migrations.AddIndex(\'Pony\', index))\n246.         if constraints:\n247.             for constraint in constraints:\n248.                 operations.append(migrations.AddConstraint(\'Pony\', constraint))\n249.         if second_model:\n250.             operations.append(migrations.CreateModel(\n251.                 \'Stable\',\n252.                 [\n253.                     (\'id\', models.AutoField(primary_key=True)),\n254.                 ]\n255.             ))\n256.         if third_model:\n257.             operations.append(migrations.CreateModel(\n258.                 \'Van\',\n259.                 [\n260.                     (\'id\', models.AutoField(primary_key=True)),\n261.                 ]\n262.             ))\n263.         if related_model:\n264.             operations.append(migrations.CreateModel(\n265.                 \'Rider\',\n266.                 [\n267.                     (\'id\', models.AutoField(primary_key=True)),\n268.                     (\'pony\', models.ForeignKey(\'Pony\', models.CASCADE)),\n269.                     (\'friend\', models.ForeignKey(\'self\', models.CASCADE, null=True))\n270.                 ],\n271.             ))\n272.         if mti_model:\n273.             operations.append(migrations.CreateModel(\n274.                 \'ShetlandPony\',\n275.                 fields=[\n276.                     (\'pony_ptr\', models.OneToOneField(\n277.                         \'Pony\',\n278.                         models.CASCADE,\n279.                         auto_created=True,\n280.                         parent_link=True,\n281.                         primary_key=True,\n282.                         to_field=\'id\',\n283.                         serialize=False,\n284.                     )),\n285.                     (\'cuteness\', models.IntegerField(default=1)),\n286.                 ],\n287.                 bases=[\'%s.Pony\' % app_label],\n288.             ))\n289.         if proxy_model:\n290.             operations.append(migrations.CreateModel(\n291.                 \'ProxyPony\',\n292.                 fields=[],\n293.                 options={\'proxy\': True},\n294.                 bases=[\'%s.Pony\' % app_label],\n295.             ))\n296.         if manager_model:\n297.             from .models import FoodManager, FoodQuerySet\n298.             operations.append(migrations.CreateModel(\n299.                 \'Food\',\n300.                 fields=[\n301.                     (\'id\', models.AutoField(primary_key=True)),\n302.                 ],\n303.                 managers=[\n304.                     (\'food_qs\', FoodQuerySet.as_manager()),\n305.                     (\'food_mgr\', FoodManager(\'a\', \'b\')),\n306.                     (\'food_mgr_kwargs\', FoodManager(\'x\', \'y\', 3, 4)),\n307.                 ]\n308.             ))\n309.         return self.apply_operations(app_label, ProjectState(), operations)', start_line_number=1, end_line_number=309)]
2025-10-06 09:12:35,823 - thread-139660780025408.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-10-06 09:12:35,823 - thread-139660780025408.app.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-10-06 09:12:35,824 - thread-139660780025408.app.lang_graph.nodes.context_retrieval_subgraph_node - INFO - Context retrieved: [Context(relative_path='tests/migrations/test_multidb.py', content='1. from django.db import connection, migrations, models\n2. from django.db.migrations.state import ProjectState\n3. from django.test import override_settings\n4. \n5. from .test_base import OperationTestBase\n6. \n7. \n8. class AgnosticRouter:\n9.     """\n10.     A router that doesn\'t have an opinion regarding migrating.\n11.     """\n12.     def allow_migrate(self, db, app_label, **hints):\n13.         return None\n14. \n15. \n16. class MigrateNothingRouter:\n17.     """\n18.     A router that doesn\'t allow migrating.\n19.     """\n20.     def allow_migrate(self, db, app_label, **hints):\n21.         return False\n22. \n23. \n24. class MigrateEverythingRouter:\n25.     """\n26.     A router that always allows migrating.\n27.     """\n28.     def allow_migrate(self, db, app_label, **hints):\n29.         return True\n30. \n31. \n32. class MigrateWhenFooRouter:\n33.     """\n34.     A router that allows migrating depending on a hint.\n35.     """\n36.     def allow_migrate(self, db, app_label, **hints):\n37.         return hints.get(\'foo\', False)\n38. \n39. \n40. class MultiDBOperationTests(OperationTestBase):\n41.     databases = {\'default\', \'other\'}\n42. \n43.     def _test_create_model(self, app_label, should_run):\n44.         """\n45.         CreateModel honors multi-db settings.\n46.         """\n47.         operation = migrations.CreateModel(\n48.             "Pony",\n49.             [("id", models.AutoField(primary_key=True))],\n50.         )\n51.         # Test the state alteration\n52.         project_state = ProjectState()\n53.         new_state = project_state.clone()\n54.         operation.state_forwards(app_label, new_state)\n55.         # Test the database alteration\n56.         self.assertTableNotExists("%s_pony" % app_label)\n57.         with connection.schema_editor() as editor:\n58.             operation.database_forwards(app_label, editor, project_state, new_state)\n59.         if should_run:\n60.             self.assertTableExists("%s_pony" % app_label)\n61.         else:\n62.             self.assertTableNotExists("%s_pony" % app_label)\n63.         # And test reversal\n64.         with connection.schema_editor() as editor:\n65.             operation.database_backwards(app_label, editor, new_state, project_state)\n66.         self.assertTableNotExists("%s_pony" % app_label)\n67. \n68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n69.     def test_create_model(self):\n70.         """\n71.         Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n72.         """\n73.         self._test_create_model("test_mltdb_crmo", should_run=True)\n74. \n75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n76.     def test_create_model2(self):\n77.         """\n78.         Test when router returns False (i.e. CreateModel shouldn\'t run).\n79.         """\n80.         self._test_create_model("test_mltdb_crmo2", should_run=False)\n81. \n82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n83.     def test_create_model3(self):\n84.         """\n85.         Test when router returns True (i.e. CreateModel should run).\n86.         """\n87.         self._test_create_model("test_mltdb_crmo3", should_run=True)\n88. \n89.     def test_create_model4(self):\n90.         """\n91.         Test multiple routers.\n92.         """\n93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n94.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n96.             self._test_create_model("test_mltdb_crmo4", should_run=False)\n97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n98.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n99. \n100.     def _test_run_sql(self, app_label, should_run, hints=None):\n101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n102.             project_state = self.set_up_test_model(app_label)\n103. \n104.         sql = """\n105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n107.         """.format(app_label)\n108. \n109.         operation = migrations.RunSQL(sql, hints=hints or {})\n110.         # Test the state alteration does nothing\n111.         new_state = project_state.clone()\n112.         operation.state_forwards(app_label, new_state)\n113.         self.assertEqual(new_state, project_state)\n114.         # Test the database alteration\n115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n116.         with connection.schema_editor() as editor:\n117.             operation.database_forwards(app_label, editor, project_state, new_state)\n118.         Pony = project_state.apps.get_model(app_label, "Pony")\n119.         if should_run:\n120.             self.assertEqual(Pony.objects.count(), 2)\n121.         else:\n122.             self.assertEqual(Pony.objects.count(), 0)\n123. \n124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n125.     def test_run_sql_migrate_nothing_router(self):\n126.         self._test_run_sql("test_mltdb_runsql", should_run=False)\n127. \n128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n129.     def test_run_sql_migrate_foo_router_without_hints(self):\n130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)\n131. \n132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n133.     def test_run_sql_migrate_foo_router_with_hints(self):\n134.         self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n135. \n136.     def _test_run_python(self, app_label, should_run, hints=None):\n137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n138.             project_state = self.set_up_test_model(app_label)\n139. \n140.         # Create the operation\n141.         def inner_method(models, schema_editor):\n142.             Pony = models.get_model(app_label, "Pony")\n143.             Pony.objects.create(pink=1, weight=3.55)\n144.             Pony.objects.create(weight=5)\n145. \n146.         operation = migrations.RunPython(inner_method, hints=hints or {})\n147.         # Test the state alteration does nothing\n148.         new_state = project_state.clone()\n149.         operation.state_forwards(app_label, new_state)\n150.         self.assertEqual(new_state, project_state)\n151.         # Test the database alteration\n152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n153.         with connection.schema_editor() as editor:\n154.             operation.database_forwards(app_label, editor, project_state, new_state)\n155.         Pony = project_state.apps.get_model(app_label, "Pony")\n156.         if should_run:\n157.             self.assertEqual(Pony.objects.count(), 2)\n158.         else:\n159.             self.assertEqual(Pony.objects.count(), 0)\n160. \n161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n162.     def test_run_python_migrate_nothing_router(self):\n163.         self._test_run_python("test_mltdb_runpython", should_run=False)\n164. \n165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n166.     def test_run_python_migrate_foo_router_without_hints(self):\n167.         self._test_run_python("test_mltdb_runpython2", should_run=False)\n168. \n169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n170.     def test_run_python_migrate_foo_router_with_hints(self):\n171.         self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})', start_line_number=1, end_line_number=171), Context(relative_path='tests/migrations/test_base.py', content='1. import os\n2. import shutil\n3. import tempfile\n4. from contextlib import contextmanager\n5. from importlib import import_module\n6. \n7. from django.apps import apps\n8. from django.db import connection, connections, migrations, models\n9. from django.db.migrations.migration import Migration\n10. from django.db.migrations.recorder import MigrationRecorder\n11. from django.db.migrations.state import ProjectState\n12. from django.test import TransactionTestCase\n13. from django.test.utils import extend_sys_path\n14. from django.utils.module_loading import module_dir\n15. \n16. \n17. class MigrationTestBase(TransactionTestCase):\n18.     """\n19.     Contains an extended set of asserts for testing migrations and schema operations.\n20.     """\n21. \n22.     available_apps = ["migrations"]\n23.     databases = {\'default\', \'other\'}\n24. \n25.     def tearDown(self):\n26.         # Reset applied-migrations state.\n27.         for db in self.databases:\n28.             recorder = MigrationRecorder(connections[db])\n29.             recorder.migration_qs.filter(app=\'migrations\').delete()\n30. \n31.     def get_table_description(self, table, using=\'default\'):\n32.         with connections[using].cursor() as cursor:\n33.             return connections[using].introspection.get_table_description(cursor, table)\n34. \n35.     def assertTableExists(self, table, using=\'default\'):\n36.         with connections[using].cursor() as cursor:\n37.             self.assertIn(table, connections[using].introspection.table_names(cursor))\n38. \n39.     def assertTableNotExists(self, table, using=\'default\'):\n40.         with connections[using].cursor() as cursor:\n41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))\n42. \n43.     def assertColumnExists(self, table, column, using=\'default\'):\n44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])\n45. \n46.     def assertColumnNotExists(self, table, column, using=\'default\'):\n47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])\n48. \n49.     def _get_column_allows_null(self, table, column, using):\n50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]\n51. \n52.     def assertColumnNull(self, table, column, using=\'default\'):\n53.         self.assertTrue(self._get_column_allows_null(table, column, using))\n54. \n55.     def assertColumnNotNull(self, table, column, using=\'default\'):\n56.         self.assertFalse(self._get_column_allows_null(table, column, using))\n57. \n58.     def assertIndexExists(self, table, columns, value=True, using=\'default\', index_type=None):\n59.         with connections[using].cursor() as cursor:\n60.             self.assertEqual(\n61.                 value,\n62.                 any(\n63.                     c["index"]\n64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n65.                     if (\n66.                         c[\'columns\'] == list(columns) and\n67.                         (index_type is None or c[\'type\'] == index_type) and\n68.                         not c[\'unique\']\n69.                     )\n70.                 ),\n71.             )\n72. \n73.     def assertIndexNotExists(self, table, columns):\n74.         return self.assertIndexExists(table, columns, False)\n75. \n76.     def assertIndexNameExists(self, table, index, using=\'default\'):\n77.         with connections[using].cursor() as cursor:\n78.             self.assertIn(\n79.                 index,\n80.                 connection.introspection.get_constraints(cursor, table),\n81.             )\n82. \n83.     def assertIndexNameNotExists(self, table, index, using=\'default\'):\n84.         with connections[using].cursor() as cursor:\n85.             self.assertNotIn(\n86.                 index,\n87.                 connection.introspection.get_constraints(cursor, table),\n88.             )\n89. \n90.     def assertConstraintExists(self, table, name, value=True, using=\'default\'):\n91.         with connections[using].cursor() as cursor:\n92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()\n93.             self.assertEqual(\n94.                 value,\n95.                 any(c[\'check\'] for n, c in constraints if n == name),\n96.             )\n97. \n98.     def assertConstraintNotExists(self, table, name):\n99.         return self.assertConstraintExists(table, name, False)\n100. \n101.     def assertUniqueConstraintExists(self, table, columns, value=True, using=\'default\'):\n102.         with connections[using].cursor() as cursor:\n103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()\n104.             self.assertEqual(\n105.                 value,\n106.                 any(c[\'unique\'] for c in constraints if c[\'columns\'] == list(columns)),\n107.             )\n108. \n109.     def assertFKExists(self, table, columns, to, value=True, using=\'default\'):\n110.         with connections[using].cursor() as cursor:\n111.             self.assertEqual(\n112.                 value,\n113.                 any(\n114.                     c["foreign_key"] == to\n115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n116.                     if c[\'columns\'] == list(columns)\n117.                 ),\n118.             )\n119. \n120.     def assertFKNotExists(self, table, columns, to):\n121.         return self.assertFKExists(table, columns, to, False)\n122. \n123.     @contextmanager\n124.     def temporary_migration_module(self, app_label=\'migrations\', module=None):\n125.         """\n126.         Allows testing management commands in a temporary migrations module.\n127. \n128.         Wrap all invocations to makemigrations and squashmigrations with this\n129.         context manager in order to avoid creating migration files in your\n130.         source tree inadvertently.\n131. \n132.         Takes the application label that will be passed to makemigrations or\n133.         squashmigrations and the Python path to a migrations module.\n134. \n135.         The migrations module is used as a template for creating the temporary\n136.         migrations module. If it isn\'t provided, the application\'s migrations\n137.         module is used, if it exists.\n138. \n139.         Returns the filesystem path to the temporary migrations module.\n140.         """\n141.         with tempfile.TemporaryDirectory() as temp_dir:\n142.             target_dir = tempfile.mkdtemp(dir=temp_dir)\n143.             with open(os.path.join(target_dir, \'__init__.py\'), \'w\'):\n144.                 pass\n145.             target_migrations_dir = os.path.join(target_dir, \'migrations\')\n146. \n147.             if module is None:\n148.                 module = apps.get_app_config(app_label).name + \'.migrations\'\n149. \n150.             try:\n151.                 source_migrations_dir = module_dir(import_module(module))\n152.             except (ImportError, ValueError):\n153.                 pass\n154.             else:\n155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)\n156. \n157.             with extend_sys_path(temp_dir):\n158.                 new_module = os.path.basename(target_dir) + \'.migrations\'\n159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):\n160.                     yield target_migrations_dir\n161. \n162. \n163. class OperationTestBase(MigrationTestBase):\n164.     """Common functions to help test operations."""\n165. \n166.     @classmethod\n167.     def setUpClass(cls):\n168.         super().setUpClass()\n169.         cls._initial_table_names = frozenset(connection.introspection.table_names())\n170. \n171.     def tearDown(self):\n172.         self.cleanup_test_tables()\n173.         super().tearDown()\n174. \n175.     def cleanup_test_tables(self):\n176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names\n177.         with connection.schema_editor() as editor:\n178.             with connection.constraint_checks_disabled():\n179.                 for table_name in table_names:\n180.                     editor.execute(editor.sql_delete_table % {\n181.                         \'table\': editor.quote_name(table_name),\n182.                     })\n183. \n184.     def apply_operations(self, app_label, project_state, operations, atomic=True):\n185.         migration = Migration(\'name\', app_label)\n186.         migration.operations = operations\n187.         with connection.schema_editor(atomic=atomic) as editor:\n188.             return migration.apply(project_state, editor)\n189. \n190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):\n191.         migration = Migration(\'name\', app_label)\n192.         migration.operations = operations\n193.         with connection.schema_editor(atomic=atomic) as editor:\n194.             return migration.unapply(project_state, editor)\n195. \n196.     def make_test_state(self, app_label, operation, **kwargs):\n197.         """\n198.         Makes a test state using set_up_test_model and returns the\n199.         original state and the state after the migration is applied.\n200.         """\n201.         project_state = self.set_up_test_model(app_label, **kwargs)\n202.         new_state = project_state.clone()\n203.         operation.state_forwards(app_label, new_state)\n204.         return project_state, new_state\n205. \n206.     def set_up_test_model(\n207.         self, app_label, second_model=False, third_model=False, index=False,\n208.         multicol_index=False, related_model=False, mti_model=False,\n209.         proxy_model=False, manager_model=False, unique_together=False,\n210.         options=False, db_table=None, index_together=False, constraints=None,\n211.         indexes=None,\n212.     ):\n213.         """Creates a test model state and database table."""\n214.         # Make the "current" state.\n215.         model_options = {\n216.             \'swappable\': \'TEST_SWAP_MODEL\',\n217.             \'index_together\': [[\'weight\', \'pink\']] if index_together else [],\n218.             \'unique_together\': [[\'pink\', \'weight\']] if unique_together else [],\n219.         }\n220.         if options:\n221.             model_options[\'permissions\'] = [(\'can_groom\', \'Can groom\')]\n222.         if db_table:\n223.             model_options[\'db_table\'] = db_table\n224.         operations = [migrations.CreateModel(\n225.             \'Pony\',\n226.             [\n227.                 (\'id\', models.AutoField(primary_key=True)),\n228.                 (\'pink\', models.IntegerField(default=3)),\n229.                 (\'weight\', models.FloatField()),\n230.             ],\n231.             options=model_options,\n232.         )]\n233.         if index:\n234.             operations.append(migrations.AddIndex(\n235.                 \'Pony\',\n236.                 models.Index(fields=[\'pink\'], name=\'pony_pink_idx\'),\n237.             ))\n238.         if multicol_index:\n239.             operations.append(migrations.AddIndex(\n240.                 \'Pony\',\n241.                 models.Index(fields=[\'pink\', \'weight\'], name=\'pony_test_idx\'),\n242.             ))\n243.         if indexes:\n244.             for index in indexes:\n245.                 operations.append(migrations.AddIndex(\'Pony\', index))\n246.         if constraints:\n247.             for constraint in constraints:\n248.                 operations.append(migrations.AddConstraint(\'Pony\', constraint))\n249.         if second_model:\n250.             operations.append(migrations.CreateModel(\n251.                 \'Stable\',\n252.                 [\n253.                     (\'id\', models.AutoField(primary_key=True)),\n254.                 ]\n255.             ))\n256.         if third_model:\n257.             operations.append(migrations.CreateModel(\n258.                 \'Van\',\n259.                 [\n260.                     (\'id\', models.AutoField(primary_key=True)),\n261.                 ]\n262.             ))\n263.         if related_model:\n264.             operations.append(migrations.CreateModel(\n265.                 \'Rider\',\n266.                 [\n267.                     (\'id\', models.AutoField(primary_key=True)),\n268.                     (\'pony\', models.ForeignKey(\'Pony\', models.CASCADE)),\n269.                     (\'friend\', models.ForeignKey(\'self\', models.CASCADE, null=True))\n270.                 ],\n271.             ))\n272.         if mti_model:\n273.             operations.append(migrations.CreateModel(\n274.                 \'ShetlandPony\',\n275.                 fields=[\n276.                     (\'pony_ptr\', models.OneToOneField(\n277.                         \'Pony\',\n278.                         models.CASCADE,\n279.                         auto_created=True,\n280.                         parent_link=True,\n281.                         primary_key=True,\n282.                         to_field=\'id\',\n283.                         serialize=False,\n284.                     )),\n285.                     (\'cuteness\', models.IntegerField(default=1)),\n286.                 ],\n287.                 bases=[\'%s.Pony\' % app_label],\n288.             ))\n289.         if proxy_model:\n290.             operations.append(migrations.CreateModel(\n291.                 \'ProxyPony\',\n292.                 fields=[],\n293.                 options={\'proxy\': True},\n294.                 bases=[\'%s.Pony\' % app_label],\n295.             ))\n296.         if manager_model:\n297.             from .models import FoodManager, FoodQuerySet\n298.             operations.append(migrations.CreateModel(\n299.                 \'Food\',\n300.                 fields=[\n301.                     (\'id\', models.AutoField(primary_key=True)),\n302.                 ],\n303.                 managers=[\n304.                     (\'food_qs\', FoodQuerySet.as_manager()),\n305.                     (\'food_mgr\', FoodManager(\'a\', \'b\')),\n306.                     (\'food_mgr_kwargs\', FoodManager(\'x\', \'y\', 3, 4)),\n307.                 ]\n308.             ))\n309.         return self.apply_operations(app_label, ProjectState(), operations)', start_line_number=1, end_line_number=309)]
2025-10-06 09:12:35,824 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nMigrationRecorder does not obey db_router allow_migrate rules\n\nIssue description: \nDescription\n\t\nHi,\nWe have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: \nclass Router(object):\n\tdef allow_migrate(self, db, model):\n\t\tif db == \'default\':\n\t\t\treturn True\n\t\treturn False\nCurrent Behaviour\nWe run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)\nWhen this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). \nThe first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). \nensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. \nI believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the \'default\' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.\n\nIssue comments:\n\n\nBug reproducing context:\nFile: tests/migrations/test_multidb.py\nLine number range: 1 - 171\nContent:\n1. from django.db import connection, migrations, models\n2. from django.db.migrations.state import ProjectState\n3. from django.test import override_settings\n4. \n5. from .test_base import OperationTestBase\n6. \n7. \n8. class AgnosticRouter:\n9.     """\n10.     A router that doesn\'t have an opinion regarding migrating.\n11.     """\n12.     def allow_migrate(self, db, app_label, **hints):\n13.         return None\n14. \n15. \n16. class MigrateNothingRouter:\n17.     """\n18.     A router that doesn\'t allow migrating.\n19.     """\n20.     def allow_migrate(self, db, app_label, **hints):\n21.         return False\n22. \n23. \n24. class MigrateEverythingRouter:\n25.     """\n26.     A router that always allows migrating.\n27.     """\n28.     def allow_migrate(self, db, app_label, **hints):\n29.         return True\n30. \n31. \n32. class MigrateWhenFooRouter:\n33.     """\n34.     A router that allows migrating depending on a hint.\n35.     """\n36.     def allow_migrate(self, db, app_label, **hints):\n37.         return hints.get(\'foo\', False)\n38. \n39. \n40. class MultiDBOperationTests(OperationTestBase):\n41.     databases = {\'default\', \'other\'}\n42. \n43.     def _test_create_model(self, app_label, should_run):\n44.         """\n45.         CreateModel honors multi-db settings.\n46.         """\n47.         operation = migrations.CreateModel(\n48.             "Pony",\n49.             [("id", models.AutoField(primary_key=True))],\n50.         )\n51.         # Test the state alteration\n52.         project_state = ProjectState()\n53.         new_state = project_state.clone()\n54.         operation.state_forwards(app_label, new_state)\n55.         # Test the database alteration\n56.         self.assertTableNotExists("%s_pony" % app_label)\n57.         with connection.schema_editor() as editor:\n58.             operation.database_forwards(app_label, editor, project_state, new_state)\n59.         if should_run:\n60.             self.assertTableExists("%s_pony" % app_label)\n61.         else:\n62.             self.assertTableNotExists("%s_pony" % app_label)\n63.         # And test reversal\n64.         with connection.schema_editor() as editor:\n65.             operation.database_backwards(app_label, editor, new_state, project_state)\n66.         self.assertTableNotExists("%s_pony" % app_label)\n67. \n68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n69.     def test_create_model(self):\n70.         """\n71.         Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n72.         """\n73.         self._test_create_model("test_mltdb_crmo", should_run=True)\n74. \n75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n76.     def test_create_model2(self):\n77.         """\n78.         Test when router returns False (i.e. CreateModel shouldn\'t run).\n79.         """\n80.         self._test_create_model("test_mltdb_crmo2", should_run=False)\n81. \n82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n83.     def test_create_model3(self):\n84.         """\n85.         Test when router returns True (i.e. CreateModel should run).\n86.         """\n87.         self._test_create_model("test_mltdb_crmo3", should_run=True)\n88. \n89.     def test_create_model4(self):\n90.         """\n91.         Test multiple routers.\n92.         """\n93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n94.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n96.             self._test_create_model("test_mltdb_crmo4", should_run=False)\n97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n98.             self._test_create_model("test_mltdb_crmo4", should_run=True)\n99. \n100.     def _test_run_sql(self, app_label, should_run, hints=None):\n101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n102.             project_state = self.set_up_test_model(app_label)\n103. \n104.         sql = """\n105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n107.         """.format(app_label)\n108. \n109.         operation = migrations.RunSQL(sql, hints=hints or {})\n110.         # Test the state alteration does nothing\n111.         new_state = project_state.clone()\n112.         operation.state_forwards(app_label, new_state)\n113.         self.assertEqual(new_state, project_state)\n114.         # Test the database alteration\n115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n116.         with connection.schema_editor() as editor:\n117.             operation.database_forwards(app_label, editor, project_state, new_state)\n118.         Pony = project_state.apps.get_model(app_label, "Pony")\n119.         if should_run:\n120.             self.assertEqual(Pony.objects.count(), 2)\n121.         else:\n122.             self.assertEqual(Pony.objects.count(), 0)\n123. \n124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n125.     def test_run_sql_migrate_nothing_router(self):\n126.         self._test_run_sql("test_mltdb_runsql", should_run=False)\n127. \n128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n129.     def test_run_sql_migrate_foo_router_without_hints(self):\n130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)\n131. \n132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n133.     def test_run_sql_migrate_foo_router_with_hints(self):\n134.         self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n135. \n136.     def _test_run_python(self, app_label, should_run, hints=None):\n137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n138.             project_state = self.set_up_test_model(app_label)\n139. \n140.         # Create the operation\n141.         def inner_method(models, schema_editor):\n142.             Pony = models.get_model(app_label, "Pony")\n143.             Pony.objects.create(pink=1, weight=3.55)\n144.             Pony.objects.create(weight=5)\n145. \n146.         operation = migrations.RunPython(inner_method, hints=hints or {})\n147.         # Test the state alteration does nothing\n148.         new_state = project_state.clone()\n149.         operation.state_forwards(app_label, new_state)\n150.         self.assertEqual(new_state, project_state)\n151.         # Test the database alteration\n152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n153.         with connection.schema_editor() as editor:\n154.             operation.database_forwards(app_label, editor, project_state, new_state)\n155.         Pony = project_state.apps.get_model(app_label, "Pony")\n156.         if should_run:\n157.             self.assertEqual(Pony.objects.count(), 2)\n158.         else:\n159.             self.assertEqual(Pony.objects.count(), 0)\n160. \n161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n162.     def test_run_python_migrate_nothing_router(self):\n163.         self._test_run_python("test_mltdb_runpython", should_run=False)\n164. \n165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n166.     def test_run_python_migrate_foo_router_without_hints(self):\n167.         self._test_run_python("test_mltdb_runpython2", should_run=False)\n168. \n169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n170.     def test_run_python_migrate_foo_router_with_hints(self):\n171.         self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})\n\n\nFile: tests/migrations/test_base.py\nLine number range: 1 - 309\nContent:\n1. import os\n2. import shutil\n3. import tempfile\n4. from contextlib import contextmanager\n5. from importlib import import_module\n6. \n7. from django.apps import apps\n8. from django.db import connection, connections, migrations, models\n9. from django.db.migrations.migration import Migration\n10. from django.db.migrations.recorder import MigrationRecorder\n11. from django.db.migrations.state import ProjectState\n12. from django.test import TransactionTestCase\n13. from django.test.utils import extend_sys_path\n14. from django.utils.module_loading import module_dir\n15. \n16. \n17. class MigrationTestBase(TransactionTestCase):\n18.     """\n19.     Contains an extended set of asserts for testing migrations and schema operations.\n20.     """\n21. \n22.     available_apps = ["migrations"]\n23.     databases = {\'default\', \'other\'}\n24. \n25.     def tearDown(self):\n26.         # Reset applied-migrations state.\n27.         for db in self.databases:\n28.             recorder = MigrationRecorder(connections[db])\n29.             recorder.migration_qs.filter(app=\'migrations\').delete()\n30. \n31.     def get_table_description(self, table, using=\'default\'):\n32.         with connections[using].cursor() as cursor:\n33.             return connections[using].introspection.get_table_description(cursor, table)\n34. \n35.     def assertTableExists(self, table, using=\'default\'):\n36.         with connections[using].cursor() as cursor:\n37.             self.assertIn(table, connections[using].introspection.table_names(cursor))\n38. \n39.     def assertTableNotExists(self, table, using=\'default\'):\n40.         with connections[using].cursor() as cursor:\n41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))\n42. \n43.     def assertColumnExists(self, table, column, using=\'default\'):\n44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])\n45. \n46.     def assertColumnNotExists(self, table, column, using=\'default\'):\n47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])\n48. \n49.     def _get_column_allows_null(self, table, column, using):\n50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]\n51. \n52.     def assertColumnNull(self, table, column, using=\'default\'):\n53.         self.assertTrue(self._get_column_allows_null(table, column, using))\n54. \n55.     def assertColumnNotNull(self, table, column, using=\'default\'):\n56.         self.assertFalse(self._get_column_allows_null(table, column, using))\n57. \n58.     def assertIndexExists(self, table, columns, value=True, using=\'default\', index_type=None):\n59.         with connections[using].cursor() as cursor:\n60.             self.assertEqual(\n61.                 value,\n62.                 any(\n63.                     c["index"]\n64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n65.                     if (\n66.                         c[\'columns\'] == list(columns) and\n67.                         (index_type is None or c[\'type\'] == index_type) and\n68.                         not c[\'unique\']\n69.                     )\n70.                 ),\n71.             )\n72. \n73.     def assertIndexNotExists(self, table, columns):\n74.         return self.assertIndexExists(table, columns, False)\n75. \n76.     def assertIndexNameExists(self, table, index, using=\'default\'):\n77.         with connections[using].cursor() as cursor:\n78.             self.assertIn(\n79.                 index,\n80.                 connection.introspection.get_constraints(cursor, table),\n81.             )\n82. \n83.     def assertIndexNameNotExists(self, table, index, using=\'default\'):\n84.         with connections[using].cursor() as cursor:\n85.             self.assertNotIn(\n86.                 index,\n87.                 connection.introspection.get_constraints(cursor, table),\n88.             )\n89. \n90.     def assertConstraintExists(self, table, name, value=True, using=\'default\'):\n91.         with connections[using].cursor() as cursor:\n92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()\n93.             self.assertEqual(\n94.                 value,\n95.                 any(c[\'check\'] for n, c in constraints if n == name),\n96.             )\n97. \n98.     def assertConstraintNotExists(self, table, name):\n99.         return self.assertConstraintExists(table, name, False)\n100. \n101.     def assertUniqueConstraintExists(self, table, columns, value=True, using=\'default\'):\n102.         with connections[using].cursor() as cursor:\n103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()\n104.             self.assertEqual(\n105.                 value,\n106.                 any(c[\'unique\'] for c in constraints if c[\'columns\'] == list(columns)),\n107.             )\n108. \n109.     def assertFKExists(self, table, columns, to, value=True, using=\'default\'):\n110.         with connections[using].cursor() as cursor:\n111.             self.assertEqual(\n112.                 value,\n113.                 any(\n114.                     c["foreign_key"] == to\n115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()\n116.                     if c[\'columns\'] == list(columns)\n117.                 ),\n118.             )\n119. \n120.     def assertFKNotExists(self, table, columns, to):\n121.         return self.assertFKExists(table, columns, to, False)\n122. \n123.     @contextmanager\n124.     def temporary_migration_module(self, app_label=\'migrations\', module=None):\n125.         """\n126.         Allows testing management commands in a temporary migrations module.\n127. \n128.         Wrap all invocations to makemigrations and squashmigrations with this\n129.         context manager in order to avoid creating migration files in your\n130.         source tree inadvertently.\n131. \n132.         Takes the application label that will be passed to makemigrations or\n133.         squashmigrations and the Python path to a migrations module.\n134. \n135.         The migrations module is used as a template for creating the temporary\n136.         migrations module. If it isn\'t provided, the application\'s migrations\n137.         module is used, if it exists.\n138. \n139.         Returns the filesystem path to the temporary migrations module.\n140.         """\n141.         with tempfile.TemporaryDirectory() as temp_dir:\n142.             target_dir = tempfile.mkdtemp(dir=temp_dir)\n143.             with open(os.path.join(target_dir, \'__init__.py\'), \'w\'):\n144.                 pass\n145.             target_migrations_dir = os.path.join(target_dir, \'migrations\')\n146. \n147.             if module is None:\n148.                 module = apps.get_app_config(app_label).name + \'.migrations\'\n149. \n150.             try:\n151.                 source_migrations_dir = module_dir(import_module(module))\n152.             except (ImportError, ValueError):\n153.                 pass\n154.             else:\n155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)\n156. \n157.             with extend_sys_path(temp_dir):\n158.                 new_module = os.path.basename(target_dir) + \'.migrations\'\n159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):\n160.                     yield target_migrations_dir\n161. \n162. \n163. class OperationTestBase(MigrationTestBase):\n164.     """Common functions to help test operations."""\n165. \n166.     @classmethod\n167.     def setUpClass(cls):\n168.         super().setUpClass()\n169.         cls._initial_table_names = frozenset(connection.introspection.table_names())\n170. \n171.     def tearDown(self):\n172.         self.cleanup_test_tables()\n173.         super().tearDown()\n174. \n175.     def cleanup_test_tables(self):\n176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names\n177.         with connection.schema_editor() as editor:\n178.             with connection.constraint_checks_disabled():\n179.                 for table_name in table_names:\n180.                     editor.execute(editor.sql_delete_table % {\n181.                         \'table\': editor.quote_name(table_name),\n182.                     })\n183. \n184.     def apply_operations(self, app_label, project_state, operations, atomic=True):\n185.         migration = Migration(\'name\', app_label)\n186.         migration.operations = operations\n187.         with connection.schema_editor(atomic=atomic) as editor:\n188.             return migration.apply(project_state, editor)\n189. \n190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):\n191.         migration = Migration(\'name\', app_label)\n192.         migration.operations = operations\n193.         with connection.schema_editor(atomic=atomic) as editor:\n194.             return migration.unapply(project_state, editor)\n195. \n196.     def make_test_state(self, app_label, operation, **kwargs):\n197.         """\n198.         Makes a test state using set_up_test_model and returns the\n199.         original state and the state after the migration is applied.\n200.         """\n201.         project_state = self.set_up_test_model(app_label, **kwargs)\n202.         new_state = project_state.clone()\n203.         operation.state_forwards(app_label, new_state)\n204.         return project_state, new_state\n205. \n206.     def set_up_test_model(\n207.         self, app_label, second_model=False, third_model=False, index=False,\n208.         multicol_index=False, related_model=False, mti_model=False,\n209.         proxy_model=False, manager_model=False, unique_together=False,\n210.         options=False, db_table=None, index_together=False, constraints=None,\n211.         indexes=None,\n212.     ):\n213.         """Creates a test model state and database table."""\n214.         # Make the "current" state.\n215.         model_options = {\n216.             \'swappable\': \'TEST_SWAP_MODEL\',\n217.             \'index_together\': [[\'weight\', \'pink\']] if index_together else [],\n218.             \'unique_together\': [[\'pink\', \'weight\']] if unique_together else [],\n219.         }\n220.         if options:\n221.             model_options[\'permissions\'] = [(\'can_groom\', \'Can groom\')]\n222.         if db_table:\n223.             model_options[\'db_table\'] = db_table\n224.         operations = [migrations.CreateModel(\n225.             \'Pony\',\n226.             [\n227.                 (\'id\', models.AutoField(primary_key=True)),\n228.                 (\'pink\', models.IntegerField(default=3)),\n229.                 (\'weight\', models.FloatField()),\n230.             ],\n231.             options=model_options,\n232.         )]\n233.         if index:\n234.             operations.append(migrations.AddIndex(\n235.                 \'Pony\',\n236.                 models.Index(fields=[\'pink\'], name=\'pony_pink_idx\'),\n237.             ))\n238.         if multicol_index:\n239.             operations.append(migrations.AddIndex(\n240.                 \'Pony\',\n241.                 models.Index(fields=[\'pink\', \'weight\'], name=\'pony_test_idx\'),\n242.             ))\n243.         if indexes:\n244.             for index in indexes:\n245.                 operations.append(migrations.AddIndex(\'Pony\', index))\n246.         if constraints:\n247.             for constraint in constraints:\n248.                 operations.append(migrations.AddConstraint(\'Pony\', constraint))\n249.         if second_model:\n250.             operations.append(migrations.CreateModel(\n251.                 \'Stable\',\n252.                 [\n253.                     (\'id\', models.AutoField(primary_key=True)),\n254.                 ]\n255.             ))\n256.         if third_model:\n257.             operations.append(migrations.CreateModel(\n258.                 \'Van\',\n259.                 [\n260.                     (\'id\', models.AutoField(primary_key=True)),\n261.                 ]\n262.             ))\n263.         if related_model:\n264.             operations.append(migrations.CreateModel(\n265.                 \'Rider\',\n266.                 [\n267.                     (\'id\', models.AutoField(primary_key=True)),\n268.                     (\'pony\', models.ForeignKey(\'Pony\', models.CASCADE)),\n269.                     (\'friend\', models.ForeignKey(\'self\', models.CASCADE, null=True))\n270.                 ],\n271.             ))\n272.         if mti_model:\n273.             operations.append(migrations.CreateModel(\n274.                 \'ShetlandPony\',\n275.                 fields=[\n276.                     (\'pony_ptr\', models.OneToOneField(\n277.                         \'Pony\',\n278.                         models.CASCADE,\n279.                         auto_created=True,\n280.                         parent_link=True,\n281.                         primary_key=True,\n282.                         to_field=\'id\',\n283.                         serialize=False,\n284.                     )),\n285.                     (\'cuteness\', models.IntegerField(default=1)),\n286.                 ],\n287.                 bases=[\'%s.Pony\' % app_label],\n288.             ))\n289.         if proxy_model:\n290.             operations.append(migrations.CreateModel(\n291.                 \'ProxyPony\',\n292.                 fields=[],\n293.                 options={\'proxy\': True},\n294.                 bases=[\'%s.Pony\' % app_label],\n295.             ))\n296.         if manager_model:\n297.             from .models import FoodManager, FoodQuerySet\n298.             operations.append(migrations.CreateModel(\n299.                 \'Food\',\n300.                 fields=[\n301.                     (\'id\', models.AutoField(primary_key=True)),\n302.                 ],\n303.                 managers=[\n304.                     (\'food_qs\', FoodQuerySet.as_manager()),\n305.                     (\'food_mgr\', FoodManager(\'a\', \'b\')),\n306.                     (\'food_mgr_kwargs\', FoodManager(\'x\', \'y\', 3, 4)),\n307.                 ]\n308.             ))\n309.         return self.apply_operations(app_label, ProjectState(), operations)\n\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-10-06 09:13:21,244 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='```python\nfrom django.db import connection, connections, migrations, models\nfrom django.db.migrations.recorder import MigrationRecorder\nfrom django.db.migrations.state import ProjectState\nfrom django.test import override_settings\n\nfrom .test_base import OperationTestBase\n\n\nclass AgnosticRouter:\n    """\n    A router that doesn\'t have an opinion regarding migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return None\n\n\nclass MigrateNothingRouter:\n    """\n    A router that doesn\'t allow migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return False\n\n\nclass MigrateEverythingRouter:\n    """\n    A router that always allows migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return True\n\n\nclass MigrateWhenFooRouter:\n    """\n    A router that allows migrating depending on a hint.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return hints.get(\'foo\', False)\n\n\nclass AllowDefaultRouter:\n    """\n    A router that only allows migrating on the \'default\' database.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return db == \'default\'\n\n\nclass MultiDBOperationTests(OperationTestBase):\n    databases = {\'default\', \'other\'}\n\n    @override_settings(DATABASE_ROUTERS=[AllowDefaultRouter()])\n    def test_recorder_honors_router(self):\n        """\n        MigrationRecorder.ensure_schema() should honor database routers.\n        """\n        recorder = MigrationRecorder(connections[\'other\'])\n        recorder.ensure_schema()\n        self.assertTableNotExists(recorder.Migration._meta.db_table, using=\'other\')\n\n    def _test_create_model(self, app_label, should_run):\n        """\n        CreateModel honors multi-db settings.\n        """\n        operation = migrations.CreateModel(\n            "Pony",\n            [("id", models.AutoField(primary_key=True))],\n        )\n        # Test the state alteration\n        project_state = ProjectState()\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        # Test the database alteration\n        self.assertTableNotExists("%s_pony" % app_label)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        if should_run:\n            self.assertTableExists("%s_pony" % app_label)\n        else:\n            self.assertTableNotExists("%s_pony" % app_label)\n        # And test reversal\n        with connection.schema_editor() as editor:\n            operation.database_backwards(app_label, editor, new_state, project_state)\n        self.assertTableNotExists("%s_pony" % app_label)\n\n    @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n    def test_create_model(self):\n        """\n        Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo", should_run=True)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_create_model2(self):\n        """\n        Test when router returns False (i.e. CreateModel shouldn\'t run).\n        """\n        self._test_create_model("test_mltdb_crmo2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n    def test_create_model3(self):\n        """\n        Test when router returns True (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo3", should_run=True)\n\n    def test_create_model4(self):\n        """\n        Test multiple routers.\n        """\n        with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=True)\n        with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=False)\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=True)\n\n    def _test_run_sql(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        sql = """\n        INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n        INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n        """.format(app_label)\n\n        operation = migrations.RunSQL(sql, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_sql_migrate_nothing_router(self):\n        self._test_run_sql("test_mltdb_runsql", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_sql_migrate_foo_router_without_hints(self):\n        self._test_run_sql("test_mltdb_runsql2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_sql_migrate_foo_router_with_hints(self):\n        self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n\n    def _test_run_python(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        # Create the operation\n        def inner_method(models, schema_editor):\n            Pony = models.get_model(app_label, "Pony")\n            Pony.objects.create(pink=1, weight=3.55)\n            Pony.objects.create(weight=5)\n\n        operation = migrations.RunPython(inner_method, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_python_migrate_nothing_router(self):\n        self._test_run_python("test_mltdb_runpython", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_python_migrate_foo_router_without_hints(self):\n        self._test_run_python("test_mltdb_runpython2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_python_migrate_foo_router_with_hints(self):\n        self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 16203, 'end_index': 16508, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 16566, 'end_index': 17012, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 17797, 'end_index': 18680, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 18561, 'end_index': 20861, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 20737, 'end_index': 21340, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 21185, 'end_index': 21947, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 21809, 'end_index': 22639, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 22515, 'end_index': 23124, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 22974, 'end_index': 23283, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 23186, 'end_index': 23645, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 8106, 'candidates_token_count': 2118, 'total_token_count': 14166, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8106}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 2118}], 'thoughts_token_count': 3942, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.26589409645375944, 'model_name': 'gemini-2.5-pro'} id='run--2ede2b23-576d-46f5-a880-18e1c0370b55-0' usage_metadata={'input_tokens': 8106, 'output_tokens': 2118, 'total_tokens': 14166, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 3942}}
2025-10-06 09:13:53,928 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "from django.db import connection, connections, migrations, models\\nfrom django.db.migrations.recorder import MigrationRecorder\\nfrom django.db.migrations.state import ProjectState\\nfrom django.test import override_settings\\n\\nfrom .test_base import OperationTestBase\\n\\n\\nclass AgnosticRouter:\\n    \\"\\"\\"\\n    A router that doesn\'t have an opinion regarding migrating.\\n    \\"\\"\\"\\n    def allow_migrate(self, db, app_label, **hints):\\n        return None\\n\\n\\nclass MigrateNothingRouter:\\n    \\"\\"\\"\\n    A router that doesn\'t allow migrating.\\n    \\"\\"\\"\\n    def allow_migrate(self, db, app_label, **hints):\\n        return False\\n\\n\\nclass MigrateEverythingRouter:\\n    \\"\\"\\"\\n    A router that always allows migrating.\\n    \\"\\"\\"\\n    def allow_migrate(self, db, app_label, **hints):\\n        return True\\n\\n\\nclass MigrateWhenFooRouter:\\n    \\"\\"\\"\\n    A router that allows migrating depending on a hint.\\n    \\"\\"\\"\\n    def allow_migrate(self, db, app_label, **hints):\\n        return hints.get(\'foo\', False)\\n\\n\\nclass AllowDefaultRouter:\\n    \\"\\"\\"\\n    A router that only allows migrating on the \'default\' database.\\n    \\"\\"\\"\\n    def allow_migrate(self, db, app_label, **hints):\\n        return db == \'default\'\\n\\n\\nclass MultiDBOperationTests(OperationTestBase):\\n    databases = {\'default\', \'other\'}\\n\\n    @override_settings(DATABASE_ROUTERS=[AllowDefaultRouter()])\\n    def test_recorder_honors_router(self):\\n        \\"\\"\\"\\n        MigrationRecorder.ensure_schema() should honor database routers.\\n        \\"\\"\\"\\n        recorder = MigrationRecorder(connections[\'other\'])\\n        recorder.ensure_schema()\\n        self.assertTableNotExists(recorder.Migration._meta.db_table, using=\'other\')\\n\\n    def _test_create_model(self, app_label, should_run):\\n        \\"\\"\\"\\n        CreateModel honors multi-db settings.\\n        \\"\\"\\"\\n        operation = migrations.CreateModel(\\n            \\"Pony\\",\\n            [(\\"id\\", models.AutoField(primary_key=True))],\\n        )\\n        # Test the state alteration\\n        project_state = ProjectState()\\n        new_state = project_state.clone()\\n        operation.state_forwards(app_label, new_state)\\n        # Test the database alteration\\n        self.assertTableNotExists(\\"%s_pony\\" % app_label)\\n        with connection.schema_editor() as editor:\\n            operation.database_forwards(app_label, editor, project_state, new_state)\\n        if should_run:\\n            self.assertTableExists(\\"%s_pony\\" % app_label)\\n        else:\\n            self.assertTableNotExists(\\"%s_pony\\" % app_label)\\n        # And test reversal\\n        with connection.schema_editor() as editor:\\n            operation.database_backwards(app_label, editor, new_state, project_state)\\n        self.assertTableNotExists(\\"%s_pony\\" % app_label)\\n\\n    @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\\n    def test_create_model(self):\\n        \\"\\"\\"\\n        Test when router doesn\'t have an opinion (i.e. CreateModel should run).\\n        \\"\\"\\"\\n        self._test_create_model(\\"test_mltdb_crmo\\", should_run=True)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\\n    def test_create_model2(self):\\n        \\"\\"\\"\\n        Test when router returns False (i.e. CreateModel shouldn\'t run).\\n        \\"\\"\\"\\n        self._test_create_model(\\"test_mltdb_crmo2\\", should_run=False)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\\n    def test_create_model3(self):\\n        \\"\\"\\"\\n        Test when router returns True (i.e. CreateModel should run).\\n        \\"\\"\\"\\n        self._test_create_model(\\"test_mltdb_crmo3\\", should_run=True)\\n\\n    def test_create_model4(self):\\n        \\"\\"\\"\\n        Test multiple routers.\\n        \\"\\"\\"\\n        with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\\n            self._test_create_model(\\"test_mltdb_crmo4\\", should_run=True)\\n        with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\\n            self._test_create_model(\\"test_mltdb_crmo4\\", should_run=False)\\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\\n            self._test_create_model(\\"test_mltdb_crmo4\\", should_run=True)\\n\\n    def _test_run_sql(self, app_label, should_run, hints=None):\\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\\n            project_state = self.set_up_test_model(app_label)\\n\\n        sql = \\"\\"\\"\\n        INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\\n        INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\\n        \\"\\"\\".format(app_label)\\n\\n        operation = migrations.RunSQL(sql, hints=hints or {})\\n        # Test the state alteration does nothing\\n        new_state = project_state.clone()\\n        operation.state_forwards(app_label, new_state)\\n        self.assertEqual(new_state, project_state)\\n        # Test the database alteration\\n        self.assertEqual(project_state.apps.get_model(app_label, \\"Pony\\").objects.count(), 0)\\n        with connection.schema_editor() as editor:\\n            operation.database_forwards(app_label, editor, project_state, new_state)\\n        Pony = project_state.apps.get_model(app_label, \\"Pony\\")\\n        if should_run:\\n            self.assertEqual(Pony.objects.count(), 2)\\n        else:\\n            self.assertEqual(Pony.objects.count(), 0)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\\n    def test_run_sql_migrate_nothing_router(self):\\n        self._test_run_sql(\\"test_mltdb_runsql\\", should_run=False)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\\n    def test_run_sql_migrate_foo_router_without_hints(self):\\n        self._test_run_sql(\\"test_mltdb_runsql2\\", should_run=False)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\\n    def test_run_sql_migrate_foo_router_with_hints(self):\\n        self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\\n\\n    def _test_run_python(self, app_label, should_run, hints=None):\\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\\n            project_state = self.set_up_test_model(app_label)\\n\\n        # Create the operation\\n        def inner_method(models, schema_editor):\\n            Pony = models.get_model(app_label, \\"Pony\\")\\n            Pony.objects.create(pink=1, weight=3.55)\\n            Pony.objects.create(weight=5)\\n\\n        operation = migrations.RunPython(inner_method, hints=hints or {})\\n        # Test the state alteration does nothing\\n        new_state = project_state.clone()\\n        operation.state_forwards(app_label, new_state)\\n        self.assertEqual(new_state, project_state)\\n        # Test the database alteration\\n        self.assertEqual(project_state.apps.get_model(app_label, \\"Pony\\").objects.count(), 0)\\n        with connection.schema_editor() as editor:\\n            operation.database_forwards(app_label, editor, project_state, new_state)\\n        Pony = project_state.apps.get_model(app_label, \\"Pony\\")\\n        if should_run:\\n            self.assertEqual(Pony.objects.count(), 2)\\n        else:\\n            self.assertEqual(Pony.objects.count(), 0)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\\n    def test_run_python_migrate_nothing_router(self):\\n        self._test_run_python(\\"test_mltdb_runpython\\", should_run=False)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\\n    def test_run_python_migrate_foo_router_without_hints(self):\\n        self._test_run_python(\\"test_mltdb_runpython2\\", should_run=False)\\n\\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\\n    def test_run_python_migrate_foo_router_with_hints(self):\\n        self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})\\n", "relative_path": "tests/migrations/test_multidb_operations.py"}'}, '__gemini_function_call_thought_signatures__': {'78d46816-927a-414b-8ab5-0fdddc6c1923': 'CpQfAR/MhbZwlqDk+9inQ2tXeaiJmfKZLif6SjqjSXLDGNBLVu2duSyRaoa1mPHTqHsTH2F7H5/adl7P4dUfBkRhwckt8tBIncp3zaMHUMEdvoQffmKb/y9NpTjNFlnsx/xCwNurKaM7RqSimdDVgdMlkxsGdcvgElVq4vw1olc0dKCLsrOZPzJMy69Udpl3pt06VWdUzY62XcikzEJZViOR2oZ4lWbURePpnqg1t7L4FhZ/ruQuvC09Trx/Z+GXNYxR0CKrmFz6h7oZ6B3X6B5hGV5NATJz4lOJVa2DM/gZgI+X6nyqkB7rFdTOovAst+leIKV5wRwJBw5b36HzCmQ0bhZGRMLlDg+C5AJ1WHQ2Ywkzcs7CFrpMb8kZ8AX6+IL6BGunEpwD1DR0UbvQkEdpdCIw002+tws755t4d0alSTRArZQHstmT5wEtIQcBPnzdcgOKTegJeQDCsnbNZIKFa6naZhOqMSYxt7Omq6/UZZq7g/9EKp4LeomN4hYqriqk8e6rShzZusq1thWzbYfxGcIaW+1LYjGyMP1fmpYt9RlHQkofHT+32GrgIsCxNLxmErZeG0xjQEpdtIkxMHkXIUwFPzhp1y+3xgKvW3knEdKjogNc/ULmmrD86iNumnHLkKEHkGnQ/BOq1lRxFPUSeCNeQh5+zHfC+XmoJnbHPemf4HYnWRQZli89uHVjbZssGPsJb8ynyZhikX14Ixc2abkKSKKkQrH5d5x6eUZ4Vds4RcYEqgizdzk6tk/mFxOHQsPCH4hBmTMb96T1iKWZinz6ShN0ROb76aiCpArJfYWL5oyEP304F01ng53D11kALyxdKQbiJ10w/9roNzv4za3j2mM+gKP3xZR+QvoMcxGzQHPa7M7aUoKL0Bqh4OGlZouJI6pvXWVUKUxFdjIFSQsFP/69dACL3IHR2deQfZBhS+VQ2awXCjxBsrnIwHVGI2yutc0RLTzb+695clebLwyPDhtsC9ARYLJVzjctYKgVDKBt7enUxtAjY7T+wT6v5FHwFbnSvQ10Bmh6GUAftZZPTxS8P1iAqmNWl7Bsd8Iy25aM9YKgEmplt5cESBCYLQVxcRtmLj49m00+YiYA6KsvCiO/Ager9wpYQEMHfGiD0LJiOFt7ygQqS1wV0nnqMSZUFtZrAQYbDylrDKf40/HpqLbmjS4UOflSm99Vt7qkPSstD09l+okf5gtDHiqL/BFynioASVMN36367KOtNKiA4NUXIg6NixLIdSGnvf5WLPrlki9jW0COe6runc/JtBNngxBO25XcY0+IM0DJpFmPpipMG6XTvZw6Q/lVkNcnqgmgwRFBshva4SFoEr/UYBYvuvQgIYYtv5z6al/iI7cRd4+vScoTx7gtRvw2BN22nQPfryZ0jNBjRxqIeKFeZ+InvjBZv4X46xfdi9ANz2IFd3aKlv+fJQpQNhX+P1D3TUlC5GFrpndlaSnXUJNrhz389mgLW1f9x18dF30RVUHOtPGFzeSOp07HxOOy6LEapvLtrtxl4EQseCYHs7LWYTXuj9CiJNZBAB4ZK1Y1pcIXSsqKXp0iXG/lk7Rb0E4jTlf5vdvGvpeqqUcd/o0MQSTXK68CH6unydIAJiR6ClMqTNvkKqhA7EtZyg49JWSMM36pV+DcfzjRrDw6FuvSQpX/mXiWwl5SzOHrbpEGI6fEe5SdMRcphBoHcwIW8EqKG/I3g/y5NDZAvJlJfMfac/IwZgB8tR5CU+kqYaNm7tsgjdGlDDpSyWVhwV7s6eYn4HQUkiJUTbrHiTmLn342v9l4wlviaRfMakhuqvvCm34bIc/myfnWczr6wFD13bBjO1Dyposa1+2GKsckWpjv88l3ZGJ4BguuS0I21J+NIw9hw6yxBZ3VU6+T99hdDdeJxdjb4bjcb7GPHVYBV0draDjtDdJX27yzC7Rm6SouEvHy407W0dIbgwecQ7sQuRtiZit56YOjp/smePWhx+rl1lYzXPrO2xNmaPFYTP8Vsk25c7R99eKLq8O3GFXq3gycLB+VCbwKg2O5WNgeHVzMYtMoWJN55ML/3yVoic0bUgkYsyujVolDTOLmEacK84TgRiP3XT4YVQ2JkRKdXWaGZebHQ3gDLRMUemdKPd37ECqhJxP301L3swp35aarDdfsSmVyWTors5UkhPPrg2pA3ETK9i5jnzjw0PiChQVW6+PzDY6Oo5n0vgGEJo3Ud8BsFeHAxgu99g6cc3HfPjDkusa774T0CuU4RMtVW1nF5YDH8jiOVom+ZkiF3M1resr8/2n0+reaLcb05cfWsUMXkJJ72nhtZsi8zyfqgQSL6zQeI6PTyYXQTseMzPhjYgly0GLq2Kud67vz+7C42W/C28yqWrpmM0x4RjYeAsb6e95Kd0z9pJj4BrUylCIqZhGHhFRgQECRA+6NhMsmxriUAAAi3N6t3+Jqio4kXhgqQTIpCP6+KIon7+HnQebOvnDqMoVEClZSOf94Mj8xbanKobuthG7f+T3b9CcA62+1eU5tMQUr6DSNBkSRjLOkMPjkKtNpXq1Ci5fpVaYk/7UQMraf/HvsMnSCOLwq4KR9Cp/gBvnyWaGZzWXOXnMZ7CLYV7DP24+erJbY63ct9X4RW6qOjlnklawFJLk6hDu5B1LG+js/0fwxU774Nk7PiWhFbcgj/Uz9HWO1rqpmc9WO7waSL6oMpROWqaQZTx1RLCrMg0+8Lw9FuMn1pyMQcGaRVDXwKEUS8Qyxv3li39slVPYfysIIon0/iSxXv3xm+mERHb2uwdmHAnd3yTeTqd0Ht1DB4/QH3JExmPA4ic/dvzHaM3SGatvCq3AUIX6Grv/VcV9FDBp2HNFrKKmC4tIRf2uCRaLpFySEK1VboYn/tDseqGuncVw1d5gAGVHWvK8pnXvTrAnZ88KBJsBNngrn/dMYQYtYXqXiP5dhrts1iq/e54eZRwxsOoHqdX1KKUIKC6Fwy4FQEZkbBG4vGjydmjAi66mj3xPL6CopFuaap6XBDJtSe0Yx+QyMiTWFQCfjpKUMg1dBWv5nIYzTXzAelRI+C3AHEpCsENodzBFZuPY3M+0ivrTTigrSwSUW7dJsGGxuaej5X8yX3WIeJLvXMNWzaW2btEnZTeGxOzLZMTQ/iHMNUOWaZ4yjMyXlY/D2OHHNi4oVvzBJi+2IesHxUUgk+fIBH/CoaSWUMhMbOLx6F6KZxOTqlxKEXI/XzwOkK/cagwcJ3m6SnYz3EL5icINVliKNqYVi4vuAdQxJeau1DHB2plhOcHVsKjbkS6frH7kh8dRGSjh4fLMB5ycONQ80iuONwfnkyXnjYwT9o+YPlQ9lxGe2IFXy/euoEprlSfXrdIIBkA5V710a+A9gmOCipQSbS5HPR03KN2oSbB45a2bKB9S8EPmHCXEOUybYX69YGk6An9gf6G9UGQ8ZVXQkY59nQpCzrJcRuKtnbj9BavIqIkhkQPrk4wsYK768NeTK1uKCmXrKVDqUi2VL3goR0cyW92wbtajS8e9//xnwQaRIJZWtq4zCVFhSY9XSMLnBpMUhdFt+V1+zsEJ4jjw9iZNULe8D/vd+QV7O9QcW0xrFYQr2Lxt3DP78zSLyMRgj+4GMUK5CU0pdBDP+2I25j7/M7IpLOF5ZSX0nLit0G5rg26yTf8/JGEXLwLob+uFh0N3ZUIaTWxtODbIGZMMckGcGqD1Cqc33ZEp1pRYurVKA8loWZapDBqRn5N6cSYh/Eu1KemA1R1J4efVeJMeIIY42otWMCY6a0poyhHgMfVUMJ7OmJrg1FN0HJsKr8PLsBsJUZO6UfWk06vGDef+kQy1rp51glzhQTK+n6tpPqyXqBnzJUGDsOfrs1AupiN7Xz6ui6yfDw+vYCZsGOTMnyNQ3Bm9VhxxWgjCRN+Io75TXHo7LRHN0dea/IqdsWxT0U+mfYydZ1Jz2CbeO2L++PtiGvW6oSc9YaiAivU6Sq7FSCiHlgBjb17Nb+ODd2zTfKoX15h2KQjHYaP4BRTlUjDutyPrIOJupl6EMRatTfrgR4GR3yTI9dzP28OH4+pBPvKFe3FjlbrM2pF5qUP6/1lrWakE+26peFWR6IRIqX7CP9m7JGQpxVDb8No3JXNElbNgBPHcWqaC3T7KV7ZqtkGEOZKOkFw7sGrlAsY02dAwf/DbAKWxzXk1Ifem7YsP7j1IIpAZzLhDgjkwvxA4CuUbrKInfyqQh+3xvy6tq1SbJ6VFfviMJ/DQFIjgA8EBbDvkCEN+6IWw+mf+tdS0WCdA7KlbMUGAeBnmBPGl/vnYq0rGUL+25oVvViHGj1LV4gGSHqlfrH0rQg/6G5p9VgIbWFyATX1ZVCj7yco0kr9W9ZPUlPOe3ykCLvTF6nTNoVXAMZz4BybNrAc8bi2+7LdkOfBOBMQOBRQuNgr5q9i+CR1Y0WEUEzhWTzB48lKd8wirKmBRzoy9FdxnNkWGAamQkNfnTURV5xDF2xNViJ4mk8QTJr6I8szVZaWkEGckqMVzk+kztnrFdxF2LBW1gAjnaVhBpKNc9n6HTjWmMeFV4r4NCHenhzFGb/5rOzUl7xC0tLLIXIvOkYc+tjVx4Pl7sCU3aaVXjq7zLMmmbbC3UdCu/fiqEUD8QYS1mMBpmJrRO7/Ptw2YVHqbPibrwvH3oayrdQ/nlKJzxWZ1Xz07l/nySMWRdMCJjrFvIGQUUmPL7HLoVn0xsfdUXAL2rFfKRRypqsFlhIsckFXcEChFDS/BYdjNX6jIM4ybzvsZv7ZSCvF7pEk/EHLzHZkIhmze1JNnBp/y0klbvSci074k4loKuatUf0YijyYBD9Pr/eiccXY5veyAyyVR4Hr/VK9tZAwZPxz7hlIZRdx4z/dGo8jOjphQZH3kXR4qTd+OYW9IcAAh6krJ3whUC2pdad3lFX6JJsGHBoCntKVGPP1tGq2ET2+qlKL9Qx5Gu8P/zXhoSC06ewfoMyHYIsJOJsdfKQccZ6/DOvbVb5WiE8bApvJzIsJlC3HOqRyccBzIhmL2JVlZDOpOJqhphFVl8L1Kp+xJmEN/cSLHaGbeEajJJUkdGFs/B8zmQe4Nzi1D+J7pvucdrBsNQCtG+ajidEi2mU252fs9KQb4+8gaLmEAt2yIDSsd+CmWxzpTf7rXKfymRNIEp/b87GbXFf0sP9+mt1GpMp9oiI2VR4sj6tYjXHKtcrRbMjSl2XS3Baa1OhCB+AyX7zRs39u+3oBmH8FFPVSidHMmGDlH6018Jm5bzsiNVxSazD4vzFWVcIz99ITJDk+ac8t2VcCUDoy2oixjPsYVdV/rNMuWpIY36Cw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 4225, 'end_index': 4530, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 4588, 'end_index': 5034, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 5819, 'end_index': 6702, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 6583, 'end_index': 8883, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 8759, 'end_index': 9362, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 9207, 'end_index': 9969, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 9831, 'end_index': 10661, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 10537, 'end_index': 11146, 'uri': 'https://github.com/gethue/hue', 'license_': 'BeOpen', 'title': ''}, {'start_index': 10996, 'end_index': 11305, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 11208, 'end_index': 11680, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 56697, 'candidates_token_count': 2133, 'total_token_count': 59951, 'prompt_tokens_details': [{'modality': 1, 'token_count': 56697}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 2133}], 'thoughts_token_count': 1121, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.059830269900723015, 'model_name': 'gemini-2.5-pro'} id='run--7e6df041-3d9b-498a-9815-9fb40f9a1beb-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'from django.db import connection, connections, migrations, models\nfrom django.db.migrations.recorder import MigrationRecorder\nfrom django.db.migrations.state import ProjectState\nfrom django.test import override_settings\n\nfrom .test_base import OperationTestBase\n\n\nclass AgnosticRouter:\n    """\n    A router that doesn\'t have an opinion regarding migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return None\n\n\nclass MigrateNothingRouter:\n    """\n    A router that doesn\'t allow migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return False\n\n\nclass MigrateEverythingRouter:\n    """\n    A router that always allows migrating.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return True\n\n\nclass MigrateWhenFooRouter:\n    """\n    A router that allows migrating depending on a hint.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return hints.get(\'foo\', False)\n\n\nclass AllowDefaultRouter:\n    """\n    A router that only allows migrating on the \'default\' database.\n    """\n    def allow_migrate(self, db, app_label, **hints):\n        return db == \'default\'\n\n\nclass MultiDBOperationTests(OperationTestBase):\n    databases = {\'default\', \'other\'}\n\n    @override_settings(DATABASE_ROUTERS=[AllowDefaultRouter()])\n    def test_recorder_honors_router(self):\n        """\n        MigrationRecorder.ensure_schema() should honor database routers.\n        """\n        recorder = MigrationRecorder(connections[\'other\'])\n        recorder.ensure_schema()\n        self.assertTableNotExists(recorder.Migration._meta.db_table, using=\'other\')\n\n    def _test_create_model(self, app_label, should_run):\n        """\n        CreateModel honors multi-db settings.\n        """\n        operation = migrations.CreateModel(\n            "Pony",\n            [("id", models.AutoField(primary_key=True))],\n        )\n        # Test the state alteration\n        project_state = ProjectState()\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        # Test the database alteration\n        self.assertTableNotExists("%s_pony" % app_label)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        if should_run:\n            self.assertTableExists("%s_pony" % app_label)\n        else:\n            self.assertTableNotExists("%s_pony" % app_label)\n        # And test reversal\n        with connection.schema_editor() as editor:\n            operation.database_backwards(app_label, editor, new_state, project_state)\n        self.assertTableNotExists("%s_pony" % app_label)\n\n    @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])\n    def test_create_model(self):\n        """\n        Test when router doesn\'t have an opinion (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo", should_run=True)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_create_model2(self):\n        """\n        Test when router returns False (i.e. CreateModel shouldn\'t run).\n        """\n        self._test_create_model("test_mltdb_crmo2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])\n    def test_create_model3(self):\n        """\n        Test when router returns True (i.e. CreateModel should run).\n        """\n        self._test_create_model("test_mltdb_crmo3", should_run=True)\n\n    def test_create_model4(self):\n        """\n        Test multiple routers.\n        """\n        with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=True)\n        with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=False)\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):\n            self._test_create_model("test_mltdb_crmo4", should_run=True)\n\n    def _test_run_sql(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        sql = """\n        INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);\n        INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);\n        """.format(app_label)\n\n        operation = migrations.RunSQL(sql, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_sql_migrate_nothing_router(self):\n        self._test_run_sql("test_mltdb_runsql", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_sql_migrate_foo_router_without_hints(self):\n        self._test_run_sql("test_mltdb_runsql2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_sql_migrate_foo_router_with_hints(self):\n        self._test_run_sql(\'test_mltdb_runsql3\', should_run=True, hints={\'foo\': True})\n\n    def _test_run_python(self, app_label, should_run, hints=None):\n        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):\n            project_state = self.set_up_test_model(app_label)\n\n        # Create the operation\n        def inner_method(models, schema_editor):\n            Pony = models.get_model(app_label, "Pony")\n            Pony.objects.create(pink=1, weight=3.55)\n            Pony.objects.create(weight=5)\n\n        operation = migrations.RunPython(inner_method, hints=hints or {})\n        # Test the state alteration does nothing\n        new_state = project_state.clone()\n        operation.state_forwards(app_label, new_state)\n        self.assertEqual(new_state, project_state)\n        # Test the database alteration\n        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)\n        with connection.schema_editor() as editor:\n            operation.database_forwards(app_label, editor, project_state, new_state)\n        Pony = project_state.apps.get_model(app_label, "Pony")\n        if should_run:\n            self.assertEqual(Pony.objects.count(), 2)\n        else:\n            self.assertEqual(Pony.objects.count(), 0)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])\n    def test_run_python_migrate_nothing_router(self):\n        self._test_run_python("test_mltdb_runpython", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_python_migrate_foo_router_without_hints(self):\n        self._test_run_python("test_mltdb_runpython2", should_run=False)\n\n    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])\n    def test_run_python_migrate_foo_router_with_hints(self):\n        self._test_run_python(\'test_mltdb_runpython3\', should_run=True, hints={\'foo\': True})\n', 'relative_path': 'tests/migrations/test_multidb_operations.py'}, 'id': '78d46816-927a-414b-8ab5-0fdddc6c1923', 'type': 'tool_call'}] usage_metadata={'input_tokens': 56697, 'output_tokens': 2133, 'total_tokens': 59951, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1121}}
2025-10-06 09:13:55,562 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/migrations/test_multidb_operations.py' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 58852, 'candidates_token_count': 12, 'total_token_count': 58864, 'cached_content_token_count': 56333, 'prompt_tokens_details': [{'modality': 1, 'token_count': 59971}], 'cache_tokens_details': [{'modality': 1, 'token_count': 56333}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 12}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -7.304211127726982e-05, 'model_name': 'gemini-2.5-pro'} id='run--802e7ffc-2aee-4b49-a5eb-bfb4b7b5dce6-0' usage_metadata={'input_tokens': 58852, 'output_tokens': 12, 'total_tokens': 58864, 'input_token_details': {'cache_read': 56333}}
2025-10-06 09:13:55,703 - thread-139660780025408.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/migrations/test_multidb_operations.py b/tests/migrations/test_multidb_operations.py
new file mode 100644
index 0000000000..173e89f53b
--- /dev/null
+++ b/tests/migrations/test_multidb_operations.py
@@ -0,0 +1,189 @@
+from django.db import connection, connections, migrations, models
+from django.db.migrations.recorder import MigrationRecorder
+from django.db.migrations.state import ProjectState
+from django.test import override_settings
+
+from .test_base import OperationTestBase
+
+
+class AgnosticRouter:
+    """
+    A router that doesn't have an opinion regarding migrating.
+    """
+    def allow_migrate(self, db, app_label, **hints):
+        return None
+
+
+class MigrateNothingRouter:
+    """
+    A router that doesn't allow migrating.
+    """
+    def allow_migrate(self, db, app_label, **hints):
+        return False
+
+
+class MigrateEverythingRouter:
+    """
+    A router that always allows migrating.
+    """
+    def allow_migrate(self, db, app_label, **hints):
+        return True
+
+
+class MigrateWhenFooRouter:
+    """
+    A router that allows migrating depending on a hint.
+    """
+    def allow_migrate(self, db, app_label, **hints):
+        return hints.get('foo', False)
+
+
+class AllowDefaultRouter:
+    """
+    A router that only allows migrating on the 'default' database.
+    """
+    def allow_migrate(self, db, app_label, **hints):
+        return db == 'default'
+
+
+class MultiDBOperationTests(OperationTestBase):
+    databases = {'default', 'other'}
+
+    @override_settings(DATABASE_ROUTERS=[AllowDefaultRouter()])
+    def test_recorder_honors_router(self):
+        """
+        MigrationRecorder.ensure_schema() should honor database routers.
+        """
+        recorder = MigrationRecorder(connections['other'])
+        recorder.ensure_schema()
+        self.assertTableNotExists(recorder.Migration._meta.db_table, using='other')
+
+    def _test_create_model(self, app_label, should_run):
+        """
+        CreateModel honors multi-db settings.
+        """
+        operation = migrations.CreateModel(
+            "Pony",
+            [("id", models.AutoField(primary_key=True))],
+        )
+        # Test the state alteration
+        project_state = ProjectState()
+        new_state = project_state.clone()
+        operation.state_forwards(app_label, new_state)
+        # Test the database alteration
+        self.assertTableNotExists("%s_pony" % app_label)
+        with connection.schema_editor() as editor:
+            operation.database_forwards(app_label, editor, project_state, new_state)
+        if should_run:
+            self.assertTableExists("%s_pony" % app_label)
+        else:
+            self.assertTableNotExists("%s_pony" % app_label)
+        # And test reversal
+        with connection.schema_editor() as editor:
+            operation.database_backwards(app_label, editor, new_state, project_state)
+        self.assertTableNotExists("%s_pony" % app_label)
+
+    @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
+    def test_create_model(self):
+        """
+        Test when router doesn't have an opinion (i.e. CreateModel should run).
+        """
+        self._test_create_model("test_mltdb_crmo", should_run=True)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
+    def test_create_model2(self):
+        """
+        Test when router returns False (i.e. CreateModel shouldn't run).
+        """
+        self._test_create_model("test_mltdb_crmo2", should_run=False)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
+    def test_create_model3(self):
+        """
+        Test when router returns True (i.e. CreateModel should run).
+        """
+        self._test_create_model("test_mltdb_crmo3", should_run=True)
+
+    def test_create_model4(self):
+        """
+        Test multiple routers.
+        """
+        with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
+            self._test_create_model("test_mltdb_crmo4", should_run=True)
+        with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
+            self._test_create_model("test_mltdb_crmo4", should_run=False)
+        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
+            self._test_create_model("test_mltdb_crmo4", should_run=True)
+
+    def _test_run_sql(self, app_label, should_run, hints=None):
+        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
+            project_state = self.set_up_test_model(app_label)
+
+        sql = """
+        INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
+        INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
+        """.format(app_label)
+
+        operation = migrations.RunSQL(sql, hints=hints or {})
+        # Test the state alteration does nothing
+        new_state = project_state.clone()
+        operation.state_forwards(app_label, new_state)
+        self.assertEqual(new_state, project_state)
+        # Test the database alteration
+        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
+        with connection.schema_editor() as editor:
+            operation.database_forwards(app_label, editor, project_state, new_state)
+        Pony = project_state.apps.get_model(app_label, "Pony")
+        if should_run:
+            self.assertEqual(Pony.objects.count(), 2)
+        else:
+            self.assertEqual(Pony.objects.count(), 0)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
+    def test_run_sql_migrate_nothing_router(self):
+        self._test_run_sql("test_mltdb_runsql", should_run=False)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
+    def test_run_sql_migrate_foo_router_without_hints(self):
+        self._test_run_sql("test_mltdb_runsql2", should_run=False)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
+    def test_run_sql_migrate_foo_router_with_hints(self):
+        self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
+
+    def _test_run_python(self, app_label, should_run, hints=None):
+        with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
+            project_state = self.set_up_test_model(app_label)
+
+        # Create the operation
+        def inner_method(models, schema_editor):
+            Pony = models.get_model(app_label, "Pony")
+            Pony.objects.create(pink=1, weight=3.55)
+            Pony.objects.create(weight=5)
+
+        operation = migrations.RunPython(inner_method, hints=hints or {})
+        # Test the state alteration does nothing
+        new_state = project_state.clone()
+        operation.state_forwards(app_label, new_state)
+        self.assertEqual(new_state, project_state)
+        # Test the database alteration
+        self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
+        with connection.schema_editor() as editor:
+            operation.database_forwards(app_label, editor, project_state, new_state)
+        Pony = project_state.apps.get_model(app_label, "Pony")
+        if should_run:
+            self.assertEqual(Pony.objects.count(), 2)
+        else:
+            self.assertEqual(Pony.objects.count(), 0)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
+    def test_run_python_migrate_nothing_router(self):
+        self._test_run_python("test_mltdb_runpython", should_run=False)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
+    def test_run_python_migrate_foo_router_without_hints(self):
+        self._test_run_python("test_mltdb_runpython2", should_run=False)
+
+    @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
+    def test_run_python_migrate_foo_router_with_hints(self):
+        self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})

2025-10-06 09:13:55,704 - thread-139660780025408.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-10-06 09:13:55,749 - thread-139660780025408.app.docker.base_container - INFO - Resetting git repository in the container
2025-10-06 09:13:55,749 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-10-06 09:13:56,269 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:13:56,269 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

HEAD is now at 361bb8f786 Refs #26872 -- Fixed wrapping of long choices in ModelAdmin.list_filter.

2025-10-06 09:13:56,269 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-10-06 09:13:56,370 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:13:56,370 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 09:13:56,370 - thread-139660780025408.app.docker.base_container - INFO - Updating files in the container after edits.
2025-10-06 09:13:56,370 - thread-139660780025408.app.docker.base_container - INFO - Creating directory tests/migrations in the container
2025-10-06 09:13:56,370 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: mkdir -p tests/migrations
2025-10-06 09:13:56,471 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:13:56,471 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:


2025-10-06 09:13:56,471 - thread-139660780025408.app.docker.base_container - INFO - Updating tests/migrations/test_multidb_operations.py in the container
2025-10-06 09:13:56,474 - thread-139660780025408.app.docker.base_container - INFO - Files updated successfully
2025-10-06 09:13:59,210 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls"}'}, '__gemini_function_call_thought_signatures__': {'51c24082-e0f1-48b4-89e7-5f8e226613d4': 'Cp8FAR/MhbbdzCfhsI8iiYALaqenv1yhf388MfBXeVstBqnhkUxaex5L6C5NqZiORL8URLrGpNSCWncMATA7vg3v1u+wQT+snXDbhKrZ0UcmBKzhm9nNTVYD/9RfwJxR20brhh0wQogDQQOkZYUTokIqh7x08001pc8eHaD05QsAbv1xneCDsjx6z9dGlafrUm5drso0v5P9B8BWzhtD1idYdiS3yjwDQtGHQeIjwJ6Ljo92II+YIDMuHyDxoH7uXksY4P255Drx+W7QGLW3KoxllkcuqJNrbwET9V5qefvp1Hohw5JCorHxlUVYQVzhXRheNkiBDHqSHbmI2GiJSLkjzMsaVKP3cpaAB0+w8joS8zRBPWmC0Xz7hanXE1aVLQK88Sq+S9tNFH+jiBeroUi//eDzm2XfiO4irS4J5aWGWKz1LUXnsAsZr642LKLdc+PsL4YWC+QQyaOVl3a+drr2uHUulZ3Bwyr5H3VE55EpWSyHwjxQ+fhLaFPHvrv5b6GZC3i/mEsOpSMSAfrAxQAmi6xRz9B2xJeH2aLBfZjw1Ht6Tuh4ulrjdC5YHDJVAclDkVkSkN8WuJJ2vRCz55yERhQ0aZzZ90gpwN9F5u6nlV5a/f/6/NNllU55beOh6BF+3iWhTmSFrsSDQi1WOC65glgWvzGuSngqwEa8Y7sOyvWON6JmFAT6UsQ/8RdlzcUNRjh2umqqAmW8yfYavhhijlDqwHewn9KGhKzapeLqyxFgCvKxGTMxNxZANyWy59ySIcvRl6R76Ytlvy5eodn2SC4MKkbVSVdUwRTtJmlogEVC4Lv6y1p5sEklloQXDIHOFu/gLTjS4yDfq84eVCOTck0My1tKjd4mo4Jq+r9AiRz5n+O/U+BaNY3waWj3vXA='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 620, 'candidates_token_count': 5, 'total_token_count': 798, 'prompt_tokens_details': [{'modality': 1, 'token_count': 620}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 5}], 'thoughts_token_count': 173, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -3.553144836425781, 'model_name': 'gemini-2.5-pro'} id='run--7c51074c-af97-4511-8d99-bcb051f9e02c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls'}, 'id': '51c24082-e0f1-48b4-89e7-5f8e226613d4', 'type': 'tool_call'}] usage_metadata={'input_tokens': 620, 'output_tokens': 5, 'total_tokens': 798, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 173}}
2025-10-06 09:13:59,212 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls
2025-10-06 09:13:59,313 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:13:59,313 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

AUTHORS		  INSTALL	  README.rst  js_tests	      setup.cfg
CONTRIBUTING.rst  LICENSE	  django      package.json    setup.py
Django.egg-info   LICENSE.python  docs	      pyproject.toml  tests
Gruntfile.js	  MANIFEST.in	  extras      scripts	      tox.ini

2025-10-06 09:14:10,625 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls tests"}'}, '__gemini_function_call_thought_signatures__': {'aac3e125-c9d3-4103-b14d-6f652e7252a1': 'CooCAR/MhbYAqf3wZZKdc3N4WAbUE+4dDjUTNyWZtX9lmi2fOdLFm3ycYlJlEbn1GZJKHOiDsOWX64PGHN48MeCKOOD7q1lOtmR9+yLaMt3tMqJQV2Uwc50td3+RuiaJSlBoxVBQnYd4Y0IacUQm/sHHZDjDsPS3miyFTsE7lyYbjg/V9y9cP+1mm1I60a1oHa3XyTK1u9aIeByNjIOWycDC4/TTSMf7wuG8Zn+9Qqe6W9c8mhQm5wOCSU9cGKY+q7kfQrKqR5wjSgfOjhjy9bmRmab+oxX0A974wvFAhDa1ekiIKmdw/VJ8062DzK/CPvrB1wNJ+1GldfLrIZTVLyexqXkfUT1w89J3yW8='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 709, 'candidates_token_count': 6, 'total_token_count': 871, 'prompt_tokens_details': [{'modality': 1, 'token_count': 880}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 6}], 'thoughts_token_count': 156, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -12.761082967122396, 'model_name': 'gemini-2.5-pro'} id='run--d4203208-e1ac-4b4b-b44b-2b60be64e51e-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls tests'}, 'id': 'aac3e125-c9d3-4103-b14d-6f652e7252a1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 709, 'output_tokens': 6, 'total_tokens': 871, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 156}}
2025-10-06 09:14:10,627 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: ls tests
2025-10-06 09:14:10,727 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 0
2025-10-06 09:14:10,727 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:

README.rst		     m2o_recursive
absolute_url_overrides	     mail
admin_autodiscover	     managers_regress
admin_changelist	     many_to_many
admin_checks		     many_to_one
admin_custom_urls	     many_to_one_null
admin_default_site	     max_lengths
admin_docs		     messages_tests
admin_filters		     middleware
admin_inlines		     middleware_exceptions
admin_ordering		     migrate_signals
admin_registration	     migration_test_data_persistence
admin_scripts		     migrations
admin_utils		     migrations2
admin_views		     model_enums
admin_widgets		     model_fields
aggregation		     model_forms
aggregation_regress	     model_formsets
annotations		     model_formsets_regress
app_loading		     model_indexes
apps			     model_inheritance
asgi			     model_inheritance_regress
async			     model_meta
auth_tests		     model_options
backends		     model_package
base			     model_regress
bash_completion		     model_utils
basic			     modeladmin
builtin_server		     multiple_database
bulk_create		     mutually_referential
cache			     nested_foreign_keys
check_framework		     no_models
conditional_processing	     null_fk
constraints		     null_fk_ordering
contenttypes_tests	     null_queries
context_processors	     one_to_one
csrf_tests		     or_lookups
custom_columns		     order_with_respect_to
custom_lookups		     ordering
custom_managers		     pagination
custom_methods		     postgres_tests
custom_migration_operations  prefetch_related
custom_pk		     project_template
datatypes		     properties
dates			     proxy_model_inheritance
datetimes		     proxy_models
db_functions		     queries
db_typecasts		     queryset_pickle
db_utils		     raw_query
dbshell			     redirects_tests
decorators		     requests
defer			     requirements
defer_regress		     reserved_names
delete			     resolve_url
delete_regress		     responses
deprecation		     reverse_lookup
dispatch		     runtests.py
distinct_on_fields	     save_delete_hooks
empty			     schema
empty_models		     select_for_update
expressions		     select_related
expressions_case	     select_related_onetoone
expressions_window	     select_related_regress
extra_regress		     serializers
field_deconstruction	     servers
field_defaults		     sessions_tests
field_subclassing	     settings_tests
file_storage		     shell
file_uploads		     shortcuts
files			     signals
filtered_relation	     signed_cookies_tests
fixtures		     signing
fixtures_model_package	     sitemaps_tests
fixtures_regress	     sites_framework
flatpages_tests		     sites_tests
force_insert_update	     staticfiles_tests
foreign_object		     str
forms_tests		     string_lookup
from_db_value		     swappable_models
generic_inline_admin	     syndication_tests
generic_relations	     template_backends
generic_relations_regress    template_loader
generic_views		     template_tests
get_earliest_or_latest	     templates
get_object_or_404	     test_client
get_or_create		     test_client_regress
gis_tests		     test_exceptions
handlers		     test_runner
httpwrappers		     test_runner_apps
humanize_tests		     test_sqlite.py
i18n			     test_utils
import_error_package	     timezones
indexes			     transaction_hooks
inline_formsets		     transactions
inspectdb		     unmanaged_models
introspection		     update
invalid_models_tests	     update_only_fields
known_related_objects	     urlpatterns
logging_tests		     urlpatterns_reverse
lookup			     urls.py
m2m_and_m2o		     user_commands
m2m_intermediary	     utils_tests
m2m_multiple		     validation
m2m_recursive		     validators
m2m_regress		     version
m2m_signals		     view_tests
m2m_through		     wsgi
m2m_through_regress

2025-10-06 09:14:12,095 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py tests/migrations/test_multidb_operations.py"}'}, '__gemini_function_call_thought_signatures__': {'edb0b4ea-35cb-4d2b-9b8c-537103f740a2': 'CrkCAR/MhbYqEHKXnpSa4Vt3kGE+8FwGy8ywYO8yHmI98oHUi6Hme7o/wypYXKaeZINl7A05YQxQagzRdEWFhIC6dUUcPP/bAxVHvFsxbhzpRgNkDnJ46Ebdz3kIu3EsSugpbnOfwJZNDrhGwI/emsZbnoGBZyXF/gPNV1cUzOE8Jqm6v2ahvUJ2pbCQUkMC9/6CCjRRSeRVCHJMUwObjuaMb6u8MX5bly7wrk21gVky7+J04AOZp+rfxACSfp4KClC8d+Ef+fSaOmSumzBDv6xdizc4fFa6C3XtSaEopA8WOi0+KCDhLN7lTLwL/DkS8t1JDPQPJ2GkKyMYlqoqSnjIWF3IL+0zZDsExFW00IBPZjiul2x0DiWD/3erlF8otf5Fh25WtOgUZWyOeKhKUrg8NzVtkI92I74ppA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 1729, 'candidates_token_count': 23, 'total_token_count': 1831, 'prompt_tokens_details': [{'modality': 1, 'token_count': 1959}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 79, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1596150605574898, 'model_name': 'gemini-2.5-pro'} id='run--4338dca9-f98a-44d8-8463-052a6583acd4-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py tests/migrations/test_multidb_operations.py'}, 'id': 'edb0b4ea-35cb-4d2b-9b8c-537103f740a2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 1729, 'output_tokens': 23, 'total_tokens': 1831, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 79}}
2025-10-06 09:14:12,096 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py tests/migrations/test_multidb_operations.py
2025-10-06 09:14:12,630 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-06 09:14:12,630 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/runtests.py tests/m
migrations/test_multidb_operations.py

Testing against Django installed in '/testbed/django' with up to 8 processes
Traceback (most recent call last):
  File "/testbed/tests/runtests.py", line 657, in <module>
    failures = django_tests(
  File "/testbed/tests/runtests.py", line 377, in django_tests
    failures = test_runner.run_tests(test_labels)
  File "/testbed/django/test/runner.py", line 920, in run_tests
    suite = self.build_suite(test_labels, extra_tests)
  File "/testbed/django/test/runner.py", line 781, in build_suite
    tests = self.load_tests_for_label(label, discover_kwargs)
  File "/testbed/django/test/runner.py", line 743, in load_tests_for_label
    raise RuntimeError(
RuntimeError: One of the test labels is a path to a file: 'tests/migrations/test_multidb_operations.py', which is not supported. Use a dotted module name or path to a directory instead.

2025-10-06 09:14:14,939 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python tests/runtests.py migrations.test_multidb_operations"}'}, '__gemini_function_call_thought_signatures__': {'8b5dfce0-7b93-4314-aac3-874914c006bd': 'Cv4CAR/MhbYUzA79hVqYqdGwulkkDH7MTnQmx5np702YuX031qvix4br9AULducZf1Qotd1MXQYu9gypM97b8UwrTgrc/6uKp50x0z7dNO7aZ/zziSir0l5hxvFkE6tibM10mKm1F3pKqYTP8zH9dbrqJ7LQqAXQ7Gl51jY864qA2v1QPUg1McjzFghepI6gs8u7Jt71EVR11anXR3KPuO0B14mJzsxnO/8/RDCyFu6NLYgwyGpvNgBmsseonf/ceXh/Hq3vNblaMCbK2423GYXU6hIJ14k08+bHknep3wpwASBD+VXX8C7VdK/meJxTYomjSoOH/tLNgkHHDyYAhbxTPyrK1r8URKF6j1iQf7TTrF/S9jP6GoO5y/KLhMJJ55JXxj+OMluc/8EFR3kdK/KjTv3zQlZaWdGNBcE7QWnfDjP+AybXOYQqhPCsaDd4l6Ns86iVG7RU36YvlNKBI00069500qKQiEwgTM/nA7jwn6BYr9RtHxOWIHHrtLFyBg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2045, 'candidates_token_count': 19, 'total_token_count': 2159, 'cached_content_token_count': 1437, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2352}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1437}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 19}], 'thoughts_token_count': 95}, 'finish_reason': 'STOP', 'avg_logprobs': -0.21926789534719368, 'model_name': 'gemini-2.5-pro'} id='run--cd98d2a8-19ce-45c3-acdc-becb85a8d01a-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python tests/runtests.py migrations.test_multidb_operations'}, 'id': '8b5dfce0-7b93-4314-aac3-874914c006bd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2045, 'output_tokens': 19, 'total_tokens': 2159, 'input_token_details': {'cache_read': 1437}, 'output_token_details': {'reasoning': 95}}
2025-10-06 09:14:14,941 - thread-139660780025408.app.docker.base_container - DEBUG - Executing command: python tests/runtests.py migrations.test_multidb_operations
2025-10-06 09:14:15,359 - thread-139660780025408.app.docker.base_container - DEBUG - Command exit code: 1
2025-10-06 09:14:15,359 - thread-139660780025408.app.docker.base_container - DEBUG - Command output:
python tests/runtests.py migrati
ions.test_multidb_operations

Testing against Django installed in '/testbed/django' with up to 8 processes
Found 11 test(s).
Creating test database for alias 'default'...
Creating test database for alias 'other'...
System check identified no issues (0 silenced).
....F......
======================================================================
FAIL: test_recorder_honors_router (migrations.test_multidb_operations.MultiDBOperationTests)
MigrationRecorder.ensure_schema() should honor database routers.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 437, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/migrations/test_multidb_operations.py", line 59, in test_recorder_honors_router
    self.assertTableNotExists(recorder.Migration._meta.db_table, using='other')
  File "/testbed/tests/migrations/test_base.py", line 41, in assertTableNotExists
    self.assertNotIn(table, connections[using].introspection.table_names(cursor))
AssertionError: 'django_migrations' unexpectedly found in ['auth_group', 'auth_group_permissions', 'auth_permission', 'auth_user', 'auth_user_groups', 'auth_user_user_permissions', 'django_admin_log', 'django_content_type', 'django_migrations', 'django_session', 'django_site', 'migrations_modelwithcustombase', 'migrations_unmigratedmodel']

----------------------------------------------------------------------
Ran 11 tests in 0.040s

FAILED (failures=1)
Destroying test database for alias 'default'...
Destroying test database for alias 'other'...

2025-10-06 09:14:18,796 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='python tests/runtests.py migrations.test_multidb_operations\n\nTesting against Django installed in \'/testbed/django\' with up to 8 processes\nFound 11 test(s).\nCreating test database for alias \'default\'...\nCreating test database for alias \'other\'...\nSystem check identified no issues (0 silenced).\n....F......\n======================================================================\nFAIL: test_recorder_honors_router (migrations.test_multidb_operations.MultiDBOperationTests)\nMigrationRecorder.ensure_schema() should honor database routers.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/django/test/utils.py", line 437, in inner\n    return func(*args, **kwargs)\n  File "/testbed/tests/migrations/test_multidb_operations.py", line 59, in test_recorder_honors_router\n    self.assertTableNotExists(recorder.Migration._meta.db_table, using=\'other\')\n  File "/testbed/tests/migrations/test_base.py", line 41, in assertTableNotExists\n    self.assertNotIn(table, connections[using].introspection.table_names(cursor))\nAssertionError: \'django_migrations\' unexpectedly found in [\'auth_group\', \'auth_group_permissions\', \'auth_permission\', \'auth_user\', \'auth_user_groups\', \'auth_user_user_permissions\', \'django_admin_log\', \'django_content_type\', \'django_migrations\', \'django_session\', \'django_site\', \'migrations_modelwithcustombase\', \'migrations_unmigratedmodel\']\n\n----------------------------------------------------------------------\nRan 11 tests in 0.040s\n\nFAILED (failures=1)\nDestroying test database for alias \'default\'...\nDestroying test database for alias \'other\'...' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2486, 'candidates_token_count': 414, 'total_token_count': 2957, 'cached_content_token_count': 1489, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2886}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1489}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 414}], 'thoughts_token_count': 57}, 'finish_reason': 'STOP', 'avg_logprobs': -0.019066126450248386, 'model_name': 'gemini-2.5-pro'} id='run--d889f11b-f6f6-42c3-a4b7-cdf87fda918f-0' usage_metadata={'input_tokens': 2486, 'output_tokens': 414, 'total_tokens': 2957, 'input_token_details': {'cache_read': 1489}, 'output_token_details': {'reasoning': 57}}
2025-10-06 09:14:29,036 - thread-139660780025408.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=True reproduced_bug_failure_log='FAIL: test_recorder_honors_router (migrations.test_multidb_operations.MultiDBOperationTests)\nMigrationRecorder.ensure_schema() should honor database routers.\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File "/testbed/django/test/utils.py", line 437, in inner\n    return func(*args, **kwargs)\n  File "/testbed/tests/migrations/test_multidb_operations.py", line 59, in test_recorder_honors_router\n    self.assertTableNotExists(recorder.Migration._meta.db_table, using=\'other\')\n  File "/testbed/tests/migrations/test_base.py", line 41, in assertTableNotExists\n    self.assertNotIn(table, connections[using].introspection.table_names(cursor))\nAssertionError: \'django_migrations\' unexpectedly found in [\'auth_group\', \'auth_group_permissions\', \'auth_permission\', \'auth_user\', \'auth_user_groups\', \'auth_user_user_permissions\', \'django_admin_log\', \'django_content_type\', \'django_migrations\', \'django_session\', \'django_site\', \'migrations_modelwithcustombase\', \'migrations_unmigratedmodel\']' reproduced_bug_commands=['python tests/runtests.py migrations.test_multidb_operations']
2025-10-06 09:14:29,037 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-10-06 09:14:29,037 - thread-139660780025408.app.docker.base_container - INFO - Closing persistent shell...
2025-10-06 09:14:29,137 - thread-139660780025408.app.docker.base_container - INFO - Cleaning up container and temporary files
