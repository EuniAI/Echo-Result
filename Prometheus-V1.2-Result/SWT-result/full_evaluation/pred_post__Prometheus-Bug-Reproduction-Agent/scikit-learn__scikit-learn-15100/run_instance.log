2025-12-07 15:49:41,239 - WARNING - Starting evaluation at 1765122581.239463
2025-12-07 15:49:41,302 - INFO - Creating container for scikit-learn__scikit-learn-15100...
2025-12-07 15:49:41,336 - INFO - Container for scikit-learn__scikit-learn-15100 created: c2d17d39ba63a45e3344163a9f13fcabad491ec829db79236acb5acc57c6b525
2025-12-07 15:49:41,598 - INFO - Container for scikit-learn__scikit-learn-15100 started: c2d17d39ba63a45e3344163a9f13fcabad491ec829db79236acb5acc57c6b525
2025-12-07 15:49:42,046 - INFO - Git diff before:

2025-12-07 15:49:42,047 - INFO - Eval script for scikit-learn__scikit-learn-15100 written to eval.sh, now applying to container...
2025-12-07 15:49:49,780 - INFO - Test output for scikit-learn__scikit-learn-15100 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/scikit-learn__scikit-learn-15100/test_output.txt
2025-12-07 15:49:49,878 - INFO - Git diff after:
diff --git a/sklearn/feature_extraction/text.py b/sklearn/feature_extraction/text.py
index bb5a9d6467..d73bd94d74 100644
--- a/sklearn/feature_extraction/text.py
+++ b/sklearn/feature_extraction/text.py
@@ -129,10 +129,13 @@ def strip_accents_unicode(s):
         Remove accentuated char for any unicode symbol that has a direct
         ASCII equivalent.
     """
-    normalized = unicodedata.normalize('NFKD', s)
-    if normalized == s:
+    try:
+        # If `s` is ASCII-compatible, then it does not contain any accented
+        # characters and we can avoid an expensive list comprehension
+        s.encode("ASCII", errors="strict")
         return s
-    else:
+    except UnicodeEncodeError:
+        normalized = unicodedata.normalize('NFKD', s)
         return ''.join([c for c in normalized if not unicodedata.combining(c)])
2025-12-07 15:49:49,879 - INFO - Git diff changed after running eval script
2025-12-07 15:49:49,879 - INFO - Attempting to stop container exec.eval.x86_64.437918b9cd24690e5e9c56.95b39172bb48e794baf2a3.124396453919584...
2025-12-07 15:50:06,122 - INFO - Attempting to remove container exec.eval.x86_64.437918b9cd24690e5e9c56.95b39172bb48e794baf2a3.124396453919584...
2025-12-07 15:50:06,136 - INFO - Container exec.eval.x86_64.437918b9cd24690e5e9c56.95b39172bb48e794baf2a3.124396453919584 removed.
2025-12-07 15:50:06,137 - WARNING - End of eval at 1765122606.1371293
