2025-12-07 15:29:07,213 - WARNING - Starting evaluation at 1765121347.213257
2025-12-07 15:29:07,261 - INFO - Creating container for pydata__xarray-6599...
2025-12-07 15:29:07,282 - INFO - Container for pydata__xarray-6599 created: a83dc657d38ee1b9122ce821c3b12dcb1e3320c6a99b6e895c140404ccfec41a
2025-12-07 15:29:07,450 - INFO - Container for pydata__xarray-6599 started: a83dc657d38ee1b9122ce821c3b12dcb1e3320c6a99b6e895c140404ccfec41a
2025-12-07 15:29:07,638 - INFO - Git diff before:

2025-12-07 15:29:07,638 - INFO - Eval script for pydata__xarray-6599 written to eval.sh, now applying to container...
2025-12-07 15:29:28,082 - INFO - Test output for pydata__xarray-6599 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/pydata__xarray-6599/test_output.txt
2025-12-07 15:29:28,156 - INFO - Git diff after:
diff --git a/xarray/core/computation.py b/xarray/core/computation.py
index 823cbe02..8d450cce 100644
--- a/xarray/core/computation.py
+++ b/xarray/core/computation.py
@@ -1933,7 +1933,8 @@ def _ensure_numeric(data: T_Xarray) -> T_Xarray:
     from .dataset import Dataset
 
     def to_floatable(x: DataArray) -> DataArray:
-        if x.dtype.kind in "mM":
+        if x.dtype.kind == "M":
+            # datetimes
             return x.copy(
                 data=datetime_to_numeric(
                     x.data,
@@ -1941,6 +1942,9 @@ def _ensure_numeric(data: T_Xarray) -> T_Xarray:
                     datetime_unit="ns",
                 ),
             )
+        elif x.dtype.kind == "m":
+            # timedeltas
+            return x.astype(float)
         return x
 
     if isinstance(data, Dataset):
2025-12-07 15:29:28,156 - INFO - Git diff changed after running eval script
2025-12-07 15:29:28,156 - INFO - Attempting to stop container exec.eval.x86_64.c33f3120cfbd972a35d85b.4f5d3b435b33d62556ed7d.124396453905664...
2025-12-07 15:29:43,361 - INFO - Attempting to remove container exec.eval.x86_64.c33f3120cfbd972a35d85b.4f5d3b435b33d62556ed7d.124396453905664...
2025-12-07 15:29:43,381 - INFO - Container exec.eval.x86_64.c33f3120cfbd972a35d85b.4f5d3b435b33d62556ed7d.124396453905664 removed.
2025-12-07 15:29:43,381 - WARNING - End of eval at 1765121383.3819218
