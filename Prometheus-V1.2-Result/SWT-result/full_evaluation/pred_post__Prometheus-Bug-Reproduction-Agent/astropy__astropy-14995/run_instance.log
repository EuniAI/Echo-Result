2025-12-07 12:52:44,661 - WARNING - Starting evaluation at 1765111964.6610591
2025-12-07 12:52:44,709 - INFO - Creating container for astropy__astropy-14995...
2025-12-07 12:52:44,734 - INFO - Container for astropy__astropy-14995 created: 5bf34b51808bc47f957cfa09da75554fc4bacbc3fbcd79225c42a96e6c3dac22
2025-12-07 12:52:44,917 - INFO - Container for astropy__astropy-14995 started: 5bf34b51808bc47f957cfa09da75554fc4bacbc3fbcd79225c42a96e6c3dac22
2025-12-07 12:52:45,539 - INFO - Git diff before:
diff --git a/pyproject.toml b/pyproject.toml
index 15bb49f22b..dc9c3c5f37 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,5 @@
 [build-system]
-requires = ["setuptools",
+requires = ["setuptools==68.0.0",
             "setuptools_scm>=6.2",
             "cython==0.29.34",
             "oldest-supported-numpy",
2025-12-07 12:52:45,540 - INFO - Eval script for astropy__astropy-14995 written to eval.sh, now applying to container...
2025-12-07 12:54:11,951 - INFO - Test output for astropy__astropy-14995 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/astropy__astropy-14995/test_output.txt
2025-12-07 12:54:12,034 - INFO - Git diff after:
diff --git a/astropy/nddata/mixins/ndarithmetic.py b/astropy/nddata/mixins/ndarithmetic.py
index 4153dfccb2..97279507e9 100644
--- a/astropy/nddata/mixins/ndarithmetic.py
+++ b/astropy/nddata/mixins/ndarithmetic.py
@@ -520,10 +520,10 @@ class NDArithmeticMixin:
         elif self.mask is None and operand is not None:
             # Make a copy so there is no reference in the result.
             return deepcopy(operand.mask)
-        elif operand is None:
+        elif operand.mask is None:
             return deepcopy(self.mask)
         else:
-            # Now lets calculate the resulting mask (operation enforces copy)
+            # Now let's calculate the resulting mask (operation enforces copy)
             return handle_mask(self.mask, operand.mask, **kwds)
 
     def _arithmetic_wcs(self, operation, operand, compare_wcs, **kwds):
diff --git a/pyproject.toml b/pyproject.toml
index 15bb49f22b..dc9c3c5f37 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,5 @@
 [build-system]
-requires = ["setuptools",
+requires = ["setuptools==68.0.0",
             "setuptools_scm>=6.2",
             "cython==0.29.34",
             "oldest-supported-numpy",
2025-12-07 12:54:12,034 - INFO - Git diff changed after running eval script
2025-12-07 12:54:12,034 - INFO - Attempting to stop container exec.eval.x86_64.13bad202ba417fcce45d9d.bc1f8b43afbef100783830.124397622872496...
2025-12-07 12:54:27,543 - INFO - Attempting to remove container exec.eval.x86_64.13bad202ba417fcce45d9d.bc1f8b43afbef100783830.124397622872496...
2025-12-07 12:54:27,577 - INFO - Container exec.eval.x86_64.13bad202ba417fcce45d9d.bc1f8b43afbef100783830.124397622872496 removed.
2025-12-07 12:54:27,578 - WARNING - End of eval at 1765112067.5780008
