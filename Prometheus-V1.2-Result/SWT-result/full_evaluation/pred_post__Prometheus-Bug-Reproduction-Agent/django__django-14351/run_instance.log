2025-12-07 13:59:51,391 - WARNING - Starting evaluation at 1765115991.391298
2025-12-07 13:59:51,436 - INFO - Creating container for django__django-14351...
2025-12-07 13:59:51,460 - INFO - Container for django__django-14351 created: f5a2f590f58493687cfe7235436f32c81571a7e81d6f68db6c1e771548925ea3
2025-12-07 13:59:51,646 - INFO - Container for django__django-14351 started: f5a2f590f58493687cfe7235436f32c81571a7e81d6f68db6c1e771548925ea3
2025-12-07 13:59:52,807 - INFO - Git diff before:

2025-12-07 13:59:52,808 - INFO - Eval script for django__django-14351 written to eval.sh, now applying to container...
2025-12-07 14:00:05,569 - INFO - Test output for django__django-14351 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-14351/test_output.txt
2025-12-07 14:00:05,648 - INFO - Git diff after:
diff --git a/django/db/models/lookups.py b/django/db/models/lookups.py
index 5089737034..8d3648b393 100644
--- a/django/db/models/lookups.py
+++ b/django/db/models/lookups.py
@@ -406,6 +406,15 @@ class In(FieldGetDbPrepValueIterableMixin, BuiltinLookup):
                 self.rhs.add_fields(['pk'])
             return super().process_rhs(compiler, connection)
 
+    def get_group_by_cols(self, alias=None):
+        cols = self.lhs.get_group_by_cols()
+        if hasattr(self.rhs, 'get_group_by_cols'):
+            if not getattr(self.rhs, 'has_select_fields', True):
+                self.rhs.clear_select_clause()
+                self.rhs.add_fields(['pk'])
+            cols.extend(self.rhs.get_group_by_cols())
+        return cols
+
     def get_rhs_op(self, connection, rhs):
         return 'IN %s' % rhs
2025-12-07 14:00:05,648 - INFO - Git diff changed after running eval script
2025-12-07 14:00:05,648 - INFO - Attempting to stop container exec.eval.x86_64.ebed327f02c059ebd6024a.fc3efa66f1c178bbf9f879.124396453772848...
2025-12-07 14:00:20,921 - INFO - Attempting to remove container exec.eval.x86_64.ebed327f02c059ebd6024a.fc3efa66f1c178bbf9f879.124396453772848...
2025-12-07 14:00:20,949 - INFO - Container exec.eval.x86_64.ebed327f02c059ebd6024a.fc3efa66f1c178bbf9f879.124396453772848 removed.
2025-12-07 14:00:20,949 - WARNING - End of eval at 1765116020.9491613
