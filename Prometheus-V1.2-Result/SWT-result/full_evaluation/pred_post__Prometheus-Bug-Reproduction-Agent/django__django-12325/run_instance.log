2025-12-07 13:31:59,887 - WARNING - Starting evaluation at 1765114319.8877764
2025-12-07 13:31:59,932 - INFO - Creating container for django__django-12325...
2025-12-07 13:31:59,956 - INFO - Container for django__django-12325 created: 2ee447b26cbf5f216dd35cd3cc2edd6d95439e13db8b400ed7862326e44aa4af
2025-12-07 13:32:00,133 - INFO - Container for django__django-12325 started: 2ee447b26cbf5f216dd35cd3cc2edd6d95439e13db8b400ed7862326e44aa4af
2025-12-07 13:32:01,259 - INFO - Git diff before:

2025-12-07 13:32:01,260 - INFO - Eval script for django__django-12325 written to eval.sh, now applying to container...
2025-12-07 13:32:11,134 - INFO - Test output for django__django-12325 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-12325/test_output.txt
2025-12-07 13:32:11,225 - INFO - Git diff after:
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 8ea6c05ef9..24453e218a 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -202,7 +202,7 @@ class ModelBase(type):
                 continue
             # Locate OneToOneField instances.
             for field in base._meta.local_fields:
-                if isinstance(field, OneToOneField):
+                if isinstance(field, OneToOneField) and field.remote_field.parent_link:
                     related = resolve_relation(new_class, field.remote_field.model)
                     parent_links[make_model_tuple(related)] = field
 
diff --git a/django/db/models/options.py b/django/db/models/options.py
index a375f6ba1d..08c80bb6c8 100644
--- a/django/db/models/options.py
+++ b/django/db/models/options.py
@@ -5,7 +5,7 @@ from collections import defaultdict
 
 from django.apps import apps
 from django.conf import settings
-from django.core.exceptions import FieldDoesNotExist, ImproperlyConfigured
+from django.core.exceptions import FieldDoesNotExist
 from django.db import connections
 from django.db.models import Manager
 from django.db.models.fields import AutoField
@@ -251,10 +251,6 @@ class Options:
                     field = already_created[0]
                 field.primary_key = True
                 self.setup_pk(field)
-                if not field.remote_field.parent_link:
-                    raise ImproperlyConfigured(
-                        'Add parent_link=True to %s.' % field,
-                    )
             else:
                 auto = AutoField(verbose_name='ID', primary_key=True, auto_created=True)
                 model.add_to_class('id', auto)
2025-12-07 13:32:11,225 - INFO - Git diff changed after running eval script
2025-12-07 13:32:11,225 - INFO - Attempting to stop container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.ad79c8c3dfeb05bf3a2710.124396453758688...
2025-12-07 13:32:26,459 - INFO - Attempting to remove container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.ad79c8c3dfeb05bf3a2710.124396453758688...
2025-12-07 13:32:26,489 - INFO - Container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.ad79c8c3dfeb05bf3a2710.124396453758688 removed.
2025-12-07 13:32:26,490 - WARNING - End of eval at 1765114346.4899948
