2025-12-07 14:31:57,971 - WARNING - Starting evaluation at 1765117917.971186
2025-12-07 14:31:58,023 - INFO - Creating container for django__django-16116...
2025-12-07 14:31:58,055 - INFO - Container for django__django-16116 created: 3ded8454ae8a924afcea586a31694cbea91edce4b321824cfc30c32e5f0b1ac3
2025-12-07 14:31:58,235 - INFO - Container for django__django-16116 started: 3ded8454ae8a924afcea586a31694cbea91edce4b321824cfc30c32e5f0b1ac3
2025-12-07 14:31:59,363 - INFO - Git diff before:

2025-12-07 14:31:59,364 - INFO - Eval script for django__django-16116 written to eval.sh, now applying to container...
2025-12-07 14:32:09,283 - INFO - Test output for django__django-16116 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-16116/test_output.txt
2025-12-07 14:32:09,372 - INFO - Git diff after:
diff --git a/django/core/management/commands/makemigrations.py b/django/core/management/commands/makemigrations.py
index 2e97d9064b..284a95409f 100644
--- a/django/core/management/commands/makemigrations.py
+++ b/django/core/management/commands/makemigrations.py
@@ -70,7 +70,10 @@ class Command(BaseCommand):
             "--check",
             action="store_true",
             dest="check_changes",
-            help="Exit with a non-zero status if model changes are missing migrations.",
+            help=(
+                "Exit with a non-zero status if model changes are missing migrations "
+                "and don't actually write them."
+            ),
         )
         parser.add_argument(
             "--scriptable",
@@ -248,12 +251,12 @@ class Command(BaseCommand):
                 else:
                     self.log("No changes detected")
         else:
+            if check_changes:
+                sys.exit(1)
             if self.update:
                 self.write_to_last_migration_files(changes)
             else:
                 self.write_migration_files(changes)
-            if check_changes:
-                sys.exit(1)
 
     def write_to_last_migration_files(self, changes):
         loader = MigrationLoader(connections[DEFAULT_DB_ALIAS])
2025-12-07 14:32:09,372 - INFO - Git diff changed after running eval script
2025-12-07 14:32:09,372 - INFO - Attempting to stop container exec.eval.x86_64.8985b3936436978ec949e1.c7599d9cf0864d7b8b591f.124396453820320...
2025-12-07 14:32:24,643 - INFO - Attempting to remove container exec.eval.x86_64.8985b3936436978ec949e1.c7599d9cf0864d7b8b591f.124396453820320...
2025-12-07 14:32:24,671 - INFO - Container exec.eval.x86_64.8985b3936436978ec949e1.c7599d9cf0864d7b8b591f.124396453820320 removed.
2025-12-07 14:32:24,671 - WARNING - End of eval at 1765117944.6719003
