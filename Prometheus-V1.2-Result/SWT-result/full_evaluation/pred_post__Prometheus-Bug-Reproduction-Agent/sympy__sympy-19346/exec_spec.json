{"instance_id": "sympy__sympy-19346", "repo": "sympy/sympy", "version": "1.7", "environment_setup_commit": "cffd4e0f86fefd4802349a9f9b19ed70934ea354", "patch_list": ["diff --git a/sympy/printing/repr.py b/sympy/printing/repr.py\n--- a/sympy/printing/repr.py\n+++ b/sympy/printing/repr.py\n@@ -144,6 +144,16 @@ def _print_EmptySequence(self, expr):\n     def _print_list(self, expr):\n         return \"[%s]\" % self.reprify(expr, \", \")\n \n+    def _print_dict(self, expr):\n+        sep = \", \"\n+        dict_kvs = [\"%s: %s\" % (self.doprint(key), self.doprint(value)) for key, value in expr.items()]\n+        return \"{%s}\" % sep.join(dict_kvs)\n+\n+    def _print_set(self, expr):\n+        if not expr:\n+            return \"set()\"\n+        return \"{%s}\" % self.reprify(expr, \", \")\n+\n     def _print_MatrixBase(self, expr):\n         # special case for some empty matrices\n         if (expr.rows == 0) ^ (expr.cols == 0):\n", "diff --git a/sympy/printing/tests/test_srepr_containers.py b/sympy/printing/tests/test_srepr_containers.py\nnew file mode 100644\nindex 0000000000..b28a0c6036\n--- /dev/null\n+++ b/sympy/printing/tests/test_srepr_containers.py\n@@ -0,0 +1,36 @@\n+from sympy import symbols, Symbol\n+from sympy.core.compatibility import exec_\n+from sympy.printing import srepr\n+from typing import Any, Dict\n+\n+# Setup based on the context from sympy/printing/tests/test_repr.py\n+x, y = symbols('x,y')\n+\n+ENV: Dict[str, Any] = {}\n+exec_(\"from sympy import *\", ENV)\n+\n+\n+def sT(expr, string, import_stmt=None):\n+    \"\"\"\n+    sT := sreprTest\n+\n+    Tests that srepr delivers the expected string and that\n+    the condition eval(srepr(expr))==expr holds.\n+    \"\"\"\n+    if import_stmt is None:\n+        ENV2 = ENV\n+    else:\n+        ENV2 = ENV.copy()\n+        exec_(import_stmt, ENV2)\n+\n+    assert srepr(expr) == string\n+    assert eval(string, ENV2) == expr\n+\n+\n+def test_srepr_set_dict():\n+    \"\"\"\n+    Tests that srepr prints set and dict containers correctly.\n+    \"\"\"\n+    # srepr for sets should be canonical, we assume elements are sorted.\n+    sT({x, y}, \"{Symbol('x'), Symbol('y')}\")\n+    sT({x: y}, \"{Symbol('x'): Symbol('y')}\")\n"], "arch": "x86_64", "base_commit": "94fb720696f5f5d12bad8bc813699fd696afd2fb", "test_directives": ["sympy/printing/tests/test_srepr_containers.py"], "coverage_files": ["sympy/printing/repr.py"], "env_name": "testbed", "run_id": "full_evaluation", "patch_id": "pred_post__Prometheus-Bug-Reproduction-Agent", "timeout": 1800, "rm_image": false, "force_rebuild": false, "exec_mode": "unit_test", "reproduction_script_name": null, "compute_coverage": true, "install": {"python": "3.9", "packages": "mpmath flake8", "pip_packages": ["mpmath==1.3.0", "flake8-comprehensions"], "install": "python -m pip install -e ."}, "cache_level": "instance", "test_command": "PYTHONWARNINGS='ignore::UserWarning,ignore::SyntaxWarning' python3 /root/trace.py --count -C coverage.cover --include-pattern '/testbed/(sympy/printing/repr\\.py)' bin/test -C --verbose sympy/printing/tests/test_srepr_containers.p", "req_install_commands": ["conda create -n testbed python=3.9 mpmath flake8 -y"]}