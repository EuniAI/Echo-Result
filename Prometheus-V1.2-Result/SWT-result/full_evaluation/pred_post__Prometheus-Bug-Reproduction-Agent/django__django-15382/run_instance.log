2025-12-07 14:12:09,693 - WARNING - Starting evaluation at 1765116729.6936314
2025-12-07 14:12:09,741 - INFO - Creating container for django__django-15382...
2025-12-07 14:12:09,762 - INFO - Container for django__django-15382 created: 8b82d2b1bddd768aa6ca05c4f72aa751b3aa84a9313d4aee8516ff70f57723ec
2025-12-07 14:12:09,933 - INFO - Container for django__django-15382 started: 8b82d2b1bddd768aa6ca05c4f72aa751b3aa84a9313d4aee8516ff70f57723ec
2025-12-07 14:12:11,087 - INFO - Git diff before:

2025-12-07 14:12:11,087 - INFO - Eval script for django__django-15382 written to eval.sh, now applying to container...
2025-12-07 14:12:22,584 - INFO - Test output for django__django-15382 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-15382/test_output.txt
2025-12-07 14:12:22,669 - INFO - Git diff after:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 81f8f79c71..c71970636c 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1211,13 +1211,18 @@ class Exists(Subquery):
 
     def as_sql(self, compiler, connection, template=None, **extra_context):
         query = self.query.exists(using=connection.alias)
-        sql, params = super().as_sql(
-            compiler,
-            connection,
-            template=template,
-            query=query,
-            **extra_context,
-        )
+        try:
+            sql, params = super().as_sql(
+                compiler,
+                connection,
+                template=template,
+                query=query,
+                **extra_context,
+            )
+        except EmptyResultSet:
+            if self.negated:
+                return '', ()
+            raise
         if self.negated:
             sql = 'NOT {}'.format(sql)
         return sql, params
2025-12-07 14:12:22,669 - INFO - Git diff changed after running eval script
2025-12-07 14:12:22,669 - INFO - Attempting to stop container exec.eval.x86_64.6b24dca158642bd6288384.8aaeceaad37d77e1b6dcf7.124396453814320...
2025-12-07 14:12:37,911 - INFO - Attempting to remove container exec.eval.x86_64.6b24dca158642bd6288384.8aaeceaad37d77e1b6dcf7.124396453814320...
2025-12-07 14:12:37,938 - INFO - Container exec.eval.x86_64.6b24dca158642bd6288384.8aaeceaad37d77e1b6dcf7.124396453814320 removed.
2025-12-07 14:12:37,938 - WARNING - End of eval at 1765116757.9382129
