2025-12-07 14:24:20,765 - WARNING - Starting evaluation at 1765117460.7654133
2025-12-07 14:24:20,815 - INFO - Creating container for django__django-15814...
2025-12-07 14:24:20,839 - INFO - Container for django__django-15814 created: 47cf6b896df36ed4c17c799a09ecb73623885ed24f520db1059340076ce4f88a
2025-12-07 14:24:20,998 - INFO - Container for django__django-15814 started: 47cf6b896df36ed4c17c799a09ecb73623885ed24f520db1059340076ce4f88a
2025-12-07 14:24:22,102 - INFO - Git diff before:

2025-12-07 14:24:22,103 - INFO - Eval script for django__django-15814 written to eval.sh, now applying to container...
2025-12-07 14:24:32,316 - INFO - Test output for django__django-15814 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-15814/test_output.txt
2025-12-07 14:24:32,404 - INFO - Git diff after:
diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py
index 33cc636b22..cf7566d771 100644
--- a/django/db/models/sql/query.py
+++ b/django/db/models/sql/query.py
@@ -748,6 +748,7 @@ class Query(BaseExpression):
                     cur_model = source.related_model
                 else:
                     cur_model = source.remote_field.model
+                cur_model = cur_model._meta.concrete_model
                 opts = cur_model._meta
                 # Even if we're "just passing through" this model, we must add
                 # both the current model's pk and the related reference field
2025-12-07 14:24:32,404 - INFO - Git diff changed after running eval script
2025-12-07 14:24:32,404 - INFO - Attempting to stop container exec.eval.x86_64.8985b3936436978ec949e1.30eb8bce7957772c8ccd4d.124396453817920...
2025-12-07 14:24:47,778 - INFO - Attempting to remove container exec.eval.x86_64.8985b3936436978ec949e1.30eb8bce7957772c8ccd4d.124396453817920...
2025-12-07 14:24:47,815 - INFO - Container exec.eval.x86_64.8985b3936436978ec949e1.30eb8bce7957772c8ccd4d.124396453817920 removed.
2025-12-07 14:24:47,816 - WARNING - End of eval at 1765117487.8160884
