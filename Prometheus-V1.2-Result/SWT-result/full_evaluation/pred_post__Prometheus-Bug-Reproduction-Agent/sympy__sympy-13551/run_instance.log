2025-12-07 16:48:47,294 - WARNING - Starting evaluation at 1765126127.2946234
2025-12-07 16:48:47,341 - INFO - Creating container for sympy__sympy-13551...
2025-12-07 16:48:47,371 - INFO - Container for sympy__sympy-13551 created: f0c4ef27df52bbf89fb38025552a8b46ab9e7d4ff67c9f59a37ea29e90906698
2025-12-07 16:48:47,566 - INFO - Container for sympy__sympy-13551 started: f0c4ef27df52bbf89fb38025552a8b46ab9e7d4ff67c9f59a37ea29e90906698
2025-12-07 16:48:48,107 - INFO - Git diff before:

2025-12-07 16:48:48,108 - INFO - Eval script for sympy__sympy-13551 written to eval.sh, now applying to container...
2025-12-07 16:48:59,593 - INFO - Test output for sympy__sympy-13551 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/sympy__sympy-13551/test_output.txt
2025-12-07 16:48:59,671 - INFO - Git diff after:
diff --git a/sympy/concrete/products.py b/sympy/concrete/products.py
index 66aafde2d6..da71482e28 100644
--- a/sympy/concrete/products.py
+++ b/sympy/concrete/products.py
@@ -282,8 +282,8 @@ def _eval_product(self, term, limits):
                 # There is expression, which couldn't change by
                 # as_numer_denom(). E.g. n**(2/3) + 1 --> (n**(2/3) + 1, 1).
                 # We have to catch this case.
-
-                p = sum([self._eval_product(i, (k, a, n)) for i in p.as_coeff_Add()])
+                from sympy.concrete.summations import Sum
+                p = exp(Sum(log(p), (k, a, n)))
             else:
                 p = self._eval_product(p, (k, a, n))
             return p / q
2025-12-07 16:48:59,671 - INFO - Git diff changed after running eval script
2025-12-07 16:48:59,671 - INFO - Attempting to stop container exec.eval.x86_64.deec2122407a414e380748.aa263dcab0c7aeba0ac152.124396454031392...
2025-12-07 16:49:14,875 - INFO - Attempting to remove container exec.eval.x86_64.deec2122407a414e380748.aa263dcab0c7aeba0ac152.124396454031392...
2025-12-07 16:49:14,899 - INFO - Container exec.eval.x86_64.deec2122407a414e380748.aa263dcab0c7aeba0ac152.124396454031392 removed.
2025-12-07 16:49:14,899 - WARNING - End of eval at 1765126154.8996289
