2025-12-07 13:56:08,273 - WARNING - Starting evaluation at 1765115768.273432
2025-12-07 13:56:08,321 - INFO - Creating container for django__django-13820...
2025-12-07 13:56:08,344 - INFO - Container for django__django-13820 created: 11b0a8ef0650b167d8be2278f62bc025bd00009bc93446a495d404d5b6dd8bb3
2025-12-07 13:56:08,512 - INFO - Container for django__django-13820 started: 11b0a8ef0650b167d8be2278f62bc025bd00009bc93446a495d404d5b6dd8bb3
2025-12-07 13:56:09,701 - INFO - Git diff before:

2025-12-07 13:56:09,701 - INFO - Eval script for django__django-13820 written to eval.sh, now applying to container...
2025-12-07 13:56:20,537 - INFO - Test output for django__django-13820 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-13820/test_output.txt
2025-12-07 13:56:20,618 - INFO - Git diff after:
diff --git a/django/db/migrations/loader.py b/django/db/migrations/loader.py
index 95a5062ec9..eb370164f3 100644
--- a/django/db/migrations/loader.py
+++ b/django/db/migrations/loader.py
@@ -88,15 +88,19 @@ class MigrationLoader:
                     continue
                 raise
             else:
-                # Empty directories are namespaces.
-                # getattr() needed on PY36 and older (replace w/attribute access).
-                if getattr(module, '__file__', None) is None:
-                    self.unmigrated_apps.add(app_config.label)
-                    continue
                 # Module is not a package (e.g. migrations.py).
                 if not hasattr(module, '__path__'):
                     self.unmigrated_apps.add(app_config.label)
                     continue
+                # Empty directories are namespaces. Namespace packages have no
+                # __file__ and don't use a list for __path__. See
+                # https://docs.python.org/3/reference/import.html#namespace-packages
+                if (
+                    getattr(module, '__file__', None) is None and
+                    not isinstance(module.__path__, list)
+                ):
+                    self.unmigrated_apps.add(app_config.label)
+                    continue
                 # Force a reload if it's already loaded (tests need this)
                 if was_loaded:
                     reload(module)
2025-12-07 13:56:20,618 - INFO - Git diff changed after running eval script
2025-12-07 13:56:20,618 - INFO - Attempting to stop container exec.eval.x86_64.f904a9d2e0f61fc0d70077.706fb7fd6d4f82b3f352ee.124396453769488...
2025-12-07 13:56:35,821 - INFO - Attempting to remove container exec.eval.x86_64.f904a9d2e0f61fc0d70077.706fb7fd6d4f82b3f352ee.124396453769488...
2025-12-07 13:56:35,855 - INFO - Container exec.eval.x86_64.f904a9d2e0f61fc0d70077.706fb7fd6d4f82b3f352ee.124396453769488 removed.
2025-12-07 13:56:35,855 - WARNING - End of eval at 1765115795.8552384
