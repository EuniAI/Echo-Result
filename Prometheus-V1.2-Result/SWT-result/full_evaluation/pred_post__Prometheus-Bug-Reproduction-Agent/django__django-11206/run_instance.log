2025-12-07 13:11:21,945 - WARNING - Starting evaluation at 1765113081.9452674
2025-12-07 13:11:21,995 - INFO - Creating container for django__django-11206...
2025-12-07 13:11:22,022 - INFO - Container for django__django-11206 created: d904a813759c9b8a849043eade203caf60843edc6ddb0f89f8b5f8f317d9e2d7
2025-12-07 13:11:22,198 - INFO - Container for django__django-11206 started: d904a813759c9b8a849043eade203caf60843edc6ddb0f89f8b5f8f317d9e2d7
2025-12-07 13:11:23,293 - INFO - Git diff before:

2025-12-07 13:11:23,294 - INFO - Eval script for django__django-11206 written to eval.sh, now applying to container...
2025-12-07 13:11:33,029 - INFO - Test output for django__django-11206 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-11206/test_output.txt
2025-12-07 13:11:33,113 - INFO - Git diff after:
diff --git a/django/utils/numberformat.py b/django/utils/numberformat.py
index 88b35fc435..961a60e37d 100644
--- a/django/utils/numberformat.py
+++ b/django/utils/numberformat.py
@@ -27,6 +27,14 @@ def format(number, decimal_sep, decimal_pos=None, grouping=0, thousand_sep='',
     # sign
     sign = ''
     if isinstance(number, Decimal):
+
+        if decimal_pos is not None:
+            # If the provided number is too small to affect any of the visible
+            # decimal places, consider it equal to '0'.
+            cutoff = Decimal('0.' + '1'.rjust(decimal_pos, '0'))
+            if abs(number) < cutoff:
+                number = Decimal('0')
+
         # Format values with more than 200 digits (an arbitrary cutoff) using
         # scientific notation to avoid high memory usage in {:f}'.format().
         _, digits, exponent = number.as_tuple()
2025-12-07 13:11:33,113 - INFO - Git diff changed after running eval script
2025-12-07 13:11:33,113 - INFO - Attempting to stop container exec.eval.x86_64.ee2ad6945f237e9160354f.30551ab55c07935b6438cd.124397622879216...
2025-12-07 13:11:48,344 - INFO - Attempting to remove container exec.eval.x86_64.ee2ad6945f237e9160354f.30551ab55c07935b6438cd.124397622879216...
2025-12-07 13:11:48,373 - INFO - Container exec.eval.x86_64.ee2ad6945f237e9160354f.30551ab55c07935b6438cd.124397622879216 removed.
2025-12-07 13:11:48,374 - WARNING - End of eval at 1765113108.3740542
