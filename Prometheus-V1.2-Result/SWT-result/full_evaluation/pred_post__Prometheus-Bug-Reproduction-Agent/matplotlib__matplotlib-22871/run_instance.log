2025-12-07 14:44:38,960 - WARNING - Starting evaluation at 1765118678.960138
2025-12-07 14:44:39,008 - INFO - Creating container for matplotlib__matplotlib-22871...
2025-12-07 14:44:39,043 - INFO - Container for matplotlib__matplotlib-22871 created: 96525e06d59647dd66ca99c79a33cf83c94f8e4c69b0e9def45bbd5ac33cc200
2025-12-07 14:44:39,267 - INFO - Container for matplotlib__matplotlib-22871 started: 96525e06d59647dd66ca99c79a33cf83c94f8e4c69b0e9def45bbd5ac33cc200
2025-12-07 14:44:40,866 - INFO - Git diff before:

2025-12-07 14:44:40,866 - INFO - Eval script for matplotlib__matplotlib-22871 written to eval.sh, now applying to container...
2025-12-07 14:45:04,559 - INFO - Test output for matplotlib__matplotlib-22871 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/matplotlib__matplotlib-22871/test_output.txt
2025-12-07 14:45:04,648 - INFO - Git diff after:
diff --git a/lib/matplotlib/dates.py b/lib/matplotlib/dates.py
index 4d8ddf3ee5..c43e566242 100644
--- a/lib/matplotlib/dates.py
+++ b/lib/matplotlib/dates.py
@@ -796,8 +796,10 @@ class ConciseDateFormatter(ticker.Formatter):
         # mostly 0: years,  1: months,  2: days,
         # 3: hours, 4: minutes, 5: seconds, 6: microseconds
         for level in range(5, -1, -1):
-            if len(np.unique(tickdate[:, level])) > 1:
-                if level < 2:
+            unique = np.unique(tickdate[:, level])
+            if len(unique) > 1:
+                # if 1 is included in unique, the year is shown in ticks
+                if level < 2 and np.any(unique == 1):
                     show_offset = False
                 break
             elif level == 0:
2025-12-07 14:45:04,648 - INFO - Git diff changed after running eval script
2025-12-07 14:45:04,648 - INFO - Attempting to stop container exec.eval.x86_64.1888cbc29e8911ba248a1e.957815be964934050489c1.124396453862032...
2025-12-07 14:45:19,861 - INFO - Attempting to remove container exec.eval.x86_64.1888cbc29e8911ba248a1e.957815be964934050489c1.124396453862032...
2025-12-07 14:45:19,880 - INFO - Container exec.eval.x86_64.1888cbc29e8911ba248a1e.957815be964934050489c1.124396453862032 removed.
2025-12-07 14:45:19,880 - WARNING - End of eval at 1765118719.880301
