2025-12-07 14:41:26,012 - WARNING - Starting evaluation at 1765118486.012135
2025-12-07 14:41:26,060 - INFO - Creating container for django__django-16938...
2025-12-07 14:41:26,084 - INFO - Container for django__django-16938 created: 59450d21943f8094c3bad86f2396717c815db6a1aa6c223274d87bf3c38a3175
2025-12-07 14:41:26,282 - INFO - Container for django__django-16938 started: 59450d21943f8094c3bad86f2396717c815db6a1aa6c223274d87bf3c38a3175
2025-12-07 14:41:27,417 - INFO - Git diff before:

2025-12-07 14:41:27,417 - INFO - Eval script for django__django-16938 written to eval.sh, now applying to container...
2025-12-07 14:41:37,546 - INFO - Test output for django__django-16938 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-16938/test_output.txt
2025-12-07 14:41:37,634 - INFO - Git diff after:
diff --git a/django/core/serializers/python.py b/django/core/serializers/python.py
index 36048601af..0dc504aa34 100644
--- a/django/core/serializers/python.py
+++ b/django/core/serializers/python.py
@@ -79,7 +79,9 @@ class Serializer(base.Serializer):
                     return self._value_from_field(value, value._meta.pk)
 
                 def queryset_iterator(obj, field):
-                    return getattr(obj, field.name).only("pk").iterator()
+                    return (
+                        getattr(obj, field.name).select_related().only("pk").iterator()
+                    )
 
             m2m_iter = getattr(obj, "_prefetched_objects_cache", {}).get(
                 field.name,
diff --git a/django/core/serializers/xml_serializer.py b/django/core/serializers/xml_serializer.py
index 1d3269c41a..e0129a59bb 100644
--- a/django/core/serializers/xml_serializer.py
+++ b/django/core/serializers/xml_serializer.py
@@ -155,7 +155,9 @@ class Serializer(base.Serializer):
                     self.xml.addQuickElement("object", attrs={"pk": str(value.pk)})
 
                 def queryset_iterator(obj, field):
-                    return getattr(obj, field.name).only("pk").iterator()
+                    return (
+                        getattr(obj, field.name).select_related().only("pk").iterator()
+                    )
 
             m2m_iter = getattr(obj, "_prefetched_objects_cache", {}).get(
                 field.name,
2025-12-07 14:41:37,634 - INFO - Git diff changed after running eval script
2025-12-07 14:41:37,634 - INFO - Attempting to stop container exec.eval.x86_64.9097b18874f4d0ac315ef2.a1d82084e439a1ee6831f2.124396453858912...
2025-12-07 14:41:52,878 - INFO - Attempting to remove container exec.eval.x86_64.9097b18874f4d0ac315ef2.a1d82084e439a1ee6831f2.124396453858912...
2025-12-07 14:41:52,905 - INFO - Container exec.eval.x86_64.9097b18874f4d0ac315ef2.a1d82084e439a1ee6831f2.124396453858912 removed.
2025-12-07 14:41:52,905 - WARNING - End of eval at 1765118512.9055588
