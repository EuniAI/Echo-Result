2025-12-07 15:31:34,787 - WARNING - Starting evaluation at 1765121494.7873886
2025-12-07 15:31:34,836 - INFO - Creating container for pydata__xarray-7233...
2025-12-07 15:31:34,857 - INFO - Container for pydata__xarray-7233 created: eb9fef03fdef0296e260a5dbb4c06bc64163d39b50c81af7aff6db1924085e7a
2025-12-07 15:31:35,028 - INFO - Container for pydata__xarray-7233 started: eb9fef03fdef0296e260a5dbb4c06bc64163d39b50c81af7aff6db1924085e7a
2025-12-07 15:31:35,220 - INFO - Git diff before:

2025-12-07 15:31:35,220 - INFO - Eval script for pydata__xarray-7233 written to eval.sh, now applying to container...
2025-12-07 15:31:55,682 - INFO - Test output for pydata__xarray-7233 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/pydata__xarray-7233/test_output.txt
2025-12-07 15:31:55,761 - INFO - Git diff after:
diff --git a/xarray/core/rolling.py b/xarray/core/rolling.py
index c194ec08..57a5456b 100644
--- a/xarray/core/rolling.py
+++ b/xarray/core/rolling.py
@@ -973,7 +973,10 @@ class Coarsen(CoarsenArithmetic, Generic[T_Xarray]):
             else:
                 reshaped[key] = var
 
-        should_be_coords = set(window_dim) & set(self.obj.coords)
+        # should handle window_dim being unindexed
+        should_be_coords = (set(window_dim) & set(self.obj.coords)) | set(
+            self.obj.coords
+        )
         result = reshaped.set_coords(should_be_coords)
         if isinstance(self.obj, DataArray):
             return self.obj._from_temp_dataset(result)
2025-12-07 15:31:55,761 - INFO - Git diff changed after running eval script
2025-12-07 15:31:55,761 - INFO - Attempting to stop container exec.eval.x86_64.f13ae47d52000921f75390.97a6e1adfbe2cb09e81b70.124396453907104...
2025-12-07 15:32:10,981 - INFO - Attempting to remove container exec.eval.x86_64.f13ae47d52000921f75390.97a6e1adfbe2cb09e81b70.124396453907104...
2025-12-07 15:32:11,001 - INFO - Container exec.eval.x86_64.f13ae47d52000921f75390.97a6e1adfbe2cb09e81b70.124396453907104 removed.
2025-12-07 15:32:11,001 - WARNING - End of eval at 1765121531.0019038
