2025-12-07 17:06:33,279 - WARNING - Starting evaluation at 1765127193.279398
2025-12-07 17:06:33,327 - INFO - Creating container for sympy__sympy-18698...
2025-12-07 17:06:33,351 - INFO - Container for sympy__sympy-18698 created: 59c56aa73e1214d024569afc774fe6787d7dd5408e22d440eb13ced1752c677d
2025-12-07 17:06:33,519 - INFO - Container for sympy__sympy-18698 started: 59c56aa73e1214d024569afc774fe6787d7dd5408e22d440eb13ced1752c677d
2025-12-07 17:06:34,144 - INFO - Git diff before:

2025-12-07 17:06:34,144 - INFO - Eval script for sympy__sympy-18698 written to eval.sh, now applying to container...
2025-12-07 17:06:45,956 - INFO - Test output for sympy__sympy-18698 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/sympy__sympy-18698/test_output.txt
2025-12-07 17:06:46,040 - INFO - Git diff after:
diff --git a/sympy/polys/polytools.py b/sympy/polys/polytools.py
index c9e77a901f..68b69d1a24 100644
--- a/sympy/polys/polytools.py
+++ b/sympy/polys/polytools.py
@@ -2,7 +2,8 @@
 
 from __future__ import print_function, division
 
-from functools import wraps
+from functools import wraps, reduce
+from operator import mul
 
 from sympy.core import (
     S, Basic, Expr, I, Integer, Add, Mul, Dummy, Tuple
@@ -5905,10 +5906,7 @@ def _symbolic_factor_list(expr, opt, method):
         if arg.is_Number:
             coeff *= arg
             continue
-        if arg.is_Mul:
-            args.extend(arg.args)
-            continue
-        if arg.is_Pow:
+        elif arg.is_Pow:
             base, exp = arg.args
             if base.is_Number and exp.is_Number:
                 coeff *= arg
@@ -5949,6 +5947,9 @@ def _symbolic_factor_list(expr, opt, method):
                         other.append((f, k))
 
                 factors.append((_factors_product(other), exp))
+    if method == 'sqf':
+        factors = [(reduce(mul, (f for f, _ in factors if _ == k)), k)
+                   for k in set(i for _, i in factors)]
 
     return coeff, factors
2025-12-07 17:06:46,040 - INFO - Git diff changed after running eval script
2025-12-07 17:06:46,040 - INFO - Attempting to stop container exec.eval.x86_64.deec2122407a414e380748.7b3b9b080bf7001a9c5920.124396454071424...
2025-12-07 17:07:01,264 - INFO - Attempting to remove container exec.eval.x86_64.deec2122407a414e380748.7b3b9b080bf7001a9c5920.124396454071424...
2025-12-07 17:07:01,292 - INFO - Container exec.eval.x86_64.deec2122407a414e380748.7b3b9b080bf7001a9c5920.124396454071424 removed.
2025-12-07 17:07:01,292 - WARNING - End of eval at 1765127221.2926064
