2025-12-07 13:33:40,827 - WARNING - Starting evaluation at 1765114420.8277917
2025-12-07 13:33:40,876 - INFO - Creating container for django__django-12965...
2025-12-07 13:33:40,897 - INFO - Container for django__django-12965 created: 7e5f82c599c019177f8ed54eca15d30ade88a07249095827dac4482dff5c0b36
2025-12-07 13:33:41,065 - INFO - Container for django__django-12965 started: 7e5f82c599c019177f8ed54eca15d30ade88a07249095827dac4482dff5c0b36
2025-12-07 13:33:42,196 - INFO - Git diff before:

2025-12-07 13:33:42,196 - INFO - Eval script for django__django-12965 written to eval.sh, now applying to container...
2025-12-07 13:33:53,468 - INFO - Test output for django__django-12965 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-12965/test_output.txt
2025-12-07 13:33:53,551 - INFO - Git diff after:
diff --git a/django/db/models/sql/compiler.py b/django/db/models/sql/compiler.py
index 29e33c075f..a1487c4f95 100644
--- a/django/db/models/sql/compiler.py
+++ b/django/db/models/sql/compiler.py
@@ -1407,6 +1407,8 @@ class SQLInsertCompiler(SQLCompiler):
 class SQLDeleteCompiler(SQLCompiler):
     @cached_property
     def single_alias(self):
+        # Ensure base table is in aliases.
+        self.query.get_initial_alias()
         return sum(self.query.alias_refcount[t] > 0 for t in self.query.alias_map) == 1
 
     def _as_sql(self, query):
2025-12-07 13:33:53,551 - INFO - Git diff changed after running eval script
2025-12-07 13:33:53,551 - INFO - Attempting to stop container exec.eval.x86_64.f904a9d2e0f61fc0d70077.36d8e7ed17c9122b4a5074.124396453760608...
2025-12-07 13:34:08,817 - INFO - Attempting to remove container exec.eval.x86_64.f904a9d2e0f61fc0d70077.36d8e7ed17c9122b4a5074.124396453760608...
2025-12-07 13:34:08,846 - INFO - Container exec.eval.x86_64.f904a9d2e0f61fc0d70077.36d8e7ed17c9122b4a5074.124396453760608 removed.
2025-12-07 13:34:08,846 - WARNING - End of eval at 1765114448.846892
