2025-12-07 14:43:33,679 - WARNING - Starting evaluation at 1765118613.6791139
2025-12-07 14:43:33,725 - INFO - Creating container for matplotlib__matplotlib-20859...
2025-12-07 14:43:33,748 - INFO - Container for matplotlib__matplotlib-20859 created: 9eac2bd0a0faef115282c187b100ed72f204460e3de4f1938e7b8ba89afc92ad
2025-12-07 14:43:33,931 - INFO - Container for matplotlib__matplotlib-20859 started: 9eac2bd0a0faef115282c187b100ed72f204460e3de4f1938e7b8ba89afc92ad
2025-12-07 14:43:35,533 - INFO - Git diff before:

2025-12-07 14:43:35,534 - INFO - Eval script for matplotlib__matplotlib-20859 written to eval.sh, now applying to container...
2025-12-07 14:43:58,919 - INFO - Test output for matplotlib__matplotlib-20859 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/matplotlib__matplotlib-20859/test_output.txt
2025-12-07 14:43:59,002 - INFO - Git diff after:
diff --git a/lib/matplotlib/legend.py b/lib/matplotlib/legend.py
index 44ab024698..1d85ba1a3f 100644
--- a/lib/matplotlib/legend.py
+++ b/lib/matplotlib/legend.py
@@ -360,7 +360,7 @@ class Legend(Artist):
         """
         # local import only to avoid circularity
         from matplotlib.axes import Axes
-        from matplotlib.figure import Figure
+        from matplotlib.figure import FigureBase
 
         super().__init__()
 
@@ -434,11 +434,13 @@ class Legend(Artist):
             self.isaxes = True
             self.axes = parent
             self.set_figure(parent.figure)
-        elif isinstance(parent, Figure):
+        elif isinstance(parent, FigureBase):
             self.isaxes = False
             self.set_figure(parent)
         else:
-            raise TypeError("Legend needs either Axes or Figure as parent")
+            raise TypeError(
+                "Legend needs either Axes or FigureBase as parent"
+            )
         self.parent = parent
 
         self._loc_used_default = loc is None
2025-12-07 14:43:59,002 - INFO - Git diff changed after running eval script
2025-12-07 14:43:59,002 - INFO - Attempting to stop container exec.eval.x86_64.ea14326ccfbf5376330c69.268f77e2810a327de97053.124396453861072...
2025-12-07 14:44:14,229 - INFO - Attempting to remove container exec.eval.x86_64.ea14326ccfbf5376330c69.268f77e2810a327de97053.124396453861072...
2025-12-07 14:44:14,247 - INFO - Container exec.eval.x86_64.ea14326ccfbf5376330c69.268f77e2810a327de97053.124396453861072 removed.
2025-12-07 14:44:14,247 - WARNING - End of eval at 1765118654.2478867
