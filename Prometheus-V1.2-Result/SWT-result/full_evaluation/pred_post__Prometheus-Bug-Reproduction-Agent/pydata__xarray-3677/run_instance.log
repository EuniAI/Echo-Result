2025-12-07 15:20:13,247 - WARNING - Starting evaluation at 1765120813.2469697
2025-12-07 15:20:13,296 - INFO - Creating container for pydata__xarray-3677...
2025-12-07 15:20:13,322 - INFO - Container for pydata__xarray-3677 created: 07b0f5aaf1f6c386eeb4f3ada26f01419a30506c3aef36294f144469c1a3e5a7
2025-12-07 15:20:13,490 - INFO - Container for pydata__xarray-3677 started: 07b0f5aaf1f6c386eeb4f3ada26f01419a30506c3aef36294f144469c1a3e5a7
2025-12-07 15:20:13,635 - INFO - Git diff before:

2025-12-07 15:20:13,635 - INFO - Eval script for pydata__xarray-3677 written to eval.sh, now applying to container...
2025-12-07 15:20:30,543 - INFO - Test output for pydata__xarray-3677 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/pydata__xarray-3677/test_output.txt
2025-12-07 15:20:30,623 - INFO - Git diff after:
diff --git a/xarray/core/dataset.py b/xarray/core/dataset.py
index ac0a923d..d597ec8c 100644
--- a/xarray/core/dataset.py
+++ b/xarray/core/dataset.py
@@ -3604,6 +3604,7 @@ class Dataset(Mapping, ImplementsDatasetReduce, DataWithCoords):
             If any variables conflict (see ``compat``).
         """
         _check_inplace(inplace)
+        other = other.to_dataset() if isinstance(other, xr.DataArray) else other
         merge_result = dataset_merge_method(
             self,
             other,
2025-12-07 15:20:30,623 - INFO - Git diff changed after running eval script
2025-12-07 15:20:30,623 - INFO - Attempting to stop container exec.eval.x86_64.bd0581d44706317407e86a.2d1c71ec16179861df8a9d.124396453870672...
2025-12-07 15:20:45,824 - INFO - Attempting to remove container exec.eval.x86_64.bd0581d44706317407e86a.2d1c71ec16179861df8a9d.124396453870672...
2025-12-07 15:20:45,842 - INFO - Container exec.eval.x86_64.bd0581d44706317407e86a.2d1c71ec16179861df8a9d.124396453870672 removed.
2025-12-07 15:20:45,842 - WARNING - End of eval at 1765120845.8429024
