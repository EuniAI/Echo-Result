2025-12-07 17:24:02,485 - WARNING - Starting evaluation at 1765128242.4859128
2025-12-07 17:24:02,535 - INFO - Creating container for sympy__sympy-24539...
2025-12-07 17:24:02,563 - INFO - Container for sympy__sympy-24539 created: 4b66c93296f092ce7d60114fe8e8c3a96527b3bb045ea9cf52d8088789e36fd2
2025-12-07 17:24:02,733 - INFO - Container for sympy__sympy-24539 started: 4b66c93296f092ce7d60114fe8e8c3a96527b3bb045ea9cf52d8088789e36fd2
2025-12-07 17:24:03,307 - INFO - Git diff before:

2025-12-07 17:24:03,308 - INFO - Eval script for sympy__sympy-24539 written to eval.sh, now applying to container...
2025-12-07 17:24:14,907 - INFO - Test output for sympy__sympy-24539 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/sympy__sympy-24539/test_output.txt
2025-12-07 17:24:14,986 - INFO - Git diff after:
diff --git a/sympy/polys/rings.py b/sympy/polys/rings.py
index 12bd2fc920..e99f6676ec 100644
--- a/sympy/polys/rings.py
+++ b/sympy/polys/rings.py
@@ -616,10 +616,13 @@ def set_ring(self, new_ring):
             return new_ring.from_dict(self, self.ring.domain)
 
     def as_expr(self, *symbols):
-        if symbols and len(symbols) != self.ring.ngens:
-            raise ValueError("not enough symbols, expected %s got %s" % (self.ring.ngens, len(symbols)))
-        else:
+        if not symbols:
             symbols = self.ring.symbols
+        elif len(symbols) != self.ring.ngens:
+            raise ValueError(
+                "Wrong number of symbols, expected %s got %s" %
+                (self.ring.ngens, len(symbols))
+            )
 
         return expr_from_dict(self.as_expr_dict(), *symbols)
2025-12-07 17:24:14,986 - INFO - Git diff changed after running eval script
2025-12-07 17:24:14,986 - INFO - Attempting to stop container exec.eval.x86_64.deec2122407a414e380748.4875ffbbf816883aa80c99.124396454078864...
2025-12-07 17:24:30,198 - INFO - Attempting to remove container exec.eval.x86_64.deec2122407a414e380748.4875ffbbf816883aa80c99.124396454078864...
2025-12-07 17:24:30,227 - INFO - Container exec.eval.x86_64.deec2122407a414e380748.4875ffbbf816883aa80c99.124396454078864 removed.
2025-12-07 17:24:30,228 - WARNING - End of eval at 1765128270.2280703
