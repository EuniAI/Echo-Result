2025-12-07 14:42:30,497 - WARNING - Starting evaluation at 1765118550.4977658
2025-12-07 14:42:30,546 - INFO - Creating container for matplotlib__matplotlib-14623...
2025-12-07 14:42:30,567 - INFO - Container for matplotlib__matplotlib-14623 created: fbb825c598fbf33bd22f4bdfca469122a0f224e68e0c6cc5f9814c282dadbc41
2025-12-07 14:42:30,735 - INFO - Container for matplotlib__matplotlib-14623 started: fbb825c598fbf33bd22f4bdfca469122a0f224e68e0c6cc5f9814c282dadbc41
2025-12-07 14:42:32,362 - INFO - Git diff before:

2025-12-07 14:42:32,362 - INFO - Eval script for matplotlib__matplotlib-14623 written to eval.sh, now applying to container...
2025-12-07 14:42:51,721 - INFO - Test output for matplotlib__matplotlib-14623 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/matplotlib__matplotlib-14623/test_output.txt
2025-12-07 14:42:51,819 - INFO - Git diff after:
diff --git a/lib/matplotlib/axes/_base.py b/lib/matplotlib/axes/_base.py
index da2dea6f57..6a20b99be0 100644
--- a/lib/matplotlib/axes/_base.py
+++ b/lib/matplotlib/axes/_base.py
@@ -3264,8 +3264,11 @@ class _AxesBase(martist.Artist):
             cbook._warn_external(
                 f"Attempting to set identical left == right == {left} results "
                 f"in singular transformations; automatically expanding.")
+        swapped = left > right
         left, right = self.xaxis.get_major_locator().nonsingular(left, right)
         left, right = self.xaxis.limit_range_for_scale(left, right)
+        if swapped:
+            left, right = right, left
 
         self.viewLim.intervalx = (left, right)
         if auto is not None:
@@ -3644,8 +3647,11 @@ class _AxesBase(martist.Artist):
                 f"Attempting to set identical bottom == top == {bottom} "
                 f"results in singular transformations; automatically "
                 f"expanding.")
+        swapped = bottom > top
         bottom, top = self.yaxis.get_major_locator().nonsingular(bottom, top)
         bottom, top = self.yaxis.limit_range_for_scale(bottom, top)
+        if swapped:
+            bottom, top = top, bottom
 
         self.viewLim.intervaly = (bottom, top)
         if auto is not None:
diff --git a/lib/matplotlib/ticker.py b/lib/matplotlib/ticker.py
index 209a3f92ce..3f61301648 100644
--- a/lib/matplotlib/ticker.py
+++ b/lib/matplotlib/ticker.py
@@ -1521,8 +1521,8 @@ class Locator(TickHelper):
         return locs
 
     def nonsingular(self, v0, v1):
-        """Modify the endpoints of a range as needed to avoid singularities."""
-        return mtransforms.nonsingular(v0, v1, increasing=False, expander=.05)
+        """Expand a range as needed to avoid singularities."""
+        return mtransforms.nonsingular(v0, v1, expander=.05)
 
     def view_limits(self, vmin, vmax):
         """
diff --git a/lib/mpl_toolkits/mplot3d/axes3d.py b/lib/mpl_toolkits/mplot3d/axes3d.py
index 145f231697..f6dff2bb93 100644
--- a/lib/mpl_toolkits/mplot3d/axes3d.py
+++ b/lib/mpl_toolkits/mplot3d/axes3d.py
@@ -623,8 +623,11 @@ class Axes3D(Axes):
             cbook._warn_external(
                 f"Attempting to set identical left == right == {left} results "
                 f"in singular transformations; automatically expanding.")
+        swapped = left > right
         left, right = self.xaxis.get_major_locator().nonsingular(left, right)
         left, right = self.xaxis.limit_range_for_scale(left, right)
+        if swapped:
+            left, right = right, left
         self.xy_viewLim.intervalx = (left, right)
 
         if auto is not None:
@@ -681,8 +684,11 @@ class Axes3D(Axes):
                 f"Attempting to set identical bottom == top == {bottom} "
                 f"results in singular transformations; automatically "
                 f"expanding.")
+        swapped = bottom > top
         bottom, top = self.yaxis.get_major_locator().nonsingular(bottom, top)
         bottom, top = self.yaxis.limit_range_for_scale(bottom, top)
+        if swapped:
+            bottom, top = top, bottom
         self.xy_viewLim.intervaly = (bottom, top)
 
         if auto is not None:
@@ -739,8 +745,11 @@ class Axes3D(Axes):
                 f"Attempting to set identical bottom == top == {bottom} "
                 f"results in singular transformations; automatically "
                 f"expanding.")
+        swapped = bottom > top
         bottom, top = self.zaxis.get_major_locator().nonsingular(bottom, top)
         bottom, top = self.zaxis.limit_range_for_scale(bottom, top)
+        if swapped:
+            bottom, top = top, bottom
         self.zz_viewLim.intervalx = (bottom, top)
 
         if auto is not None:
2025-12-07 14:42:51,819 - INFO - Git diff changed after running eval script
2025-12-07 14:42:51,819 - INFO - Attempting to stop container exec.eval.x86_64.4c04dd2da7e137006c2b92.ee2b23ea35e21165f9fdb8.124396453860112...
2025-12-07 14:43:07,019 - INFO - Attempting to remove container exec.eval.x86_64.4c04dd2da7e137006c2b92.ee2b23ea35e21165f9fdb8.124396453860112...
2025-12-07 14:43:07,036 - INFO - Container exec.eval.x86_64.4c04dd2da7e137006c2b92.ee2b23ea35e21165f9fdb8.124396453860112 removed.
2025-12-07 14:43:07,036 - WARNING - End of eval at 1765118587.0361884
