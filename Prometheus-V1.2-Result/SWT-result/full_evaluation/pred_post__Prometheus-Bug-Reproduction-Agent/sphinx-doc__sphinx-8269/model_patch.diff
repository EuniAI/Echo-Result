diff --git a/tests/test_build_linkcheck_http_error.py b/tests/test_build_linkcheck_http_error.py
new file mode 100644
index 000000000..dc5d6bd3e
--- /dev/null
+++ b/tests/test_build_linkcheck_http_error.py
@@ -0,0 +1,36 @@
+import pytest
+from unittest import mock
+import requests
+
+
+@pytest.mark.sphinx('linkcheck', testroot='linkcheck', freshenv=True)
+def test_http_error_with_anchor(app, status, warning):
+    """
+    Test that linkcheck reports HTTP errors before checking for anchors.
+
+    A link to a non-existent page with an anchor should report the page's
+    HTTP error, not a failed anchor lookup.
+
+    Regression test for https://github.com/sphinx-doc/sphinx/issues/8191.
+    """
+    (app.srcdir / 'index.rst').write_text(
+        '`foo <https://google.com/test.txt#test>`_'
+    )
+
+    # Simulate a 404 Not Found error for the page.
+    # The linkchecker uses a requests.Session object.
+    error = requests.HTTPError(
+        '404 Client Error: Not Found for url: https://google.com/test.txt'
+    )
+    with mock.patch('requests.Session.head', side_effect=error), \
+            mock.patch('requests.Session.get', side_effect=error):
+        app.builder.build_all()
+
+    content = (app.outdir / 'output.txt').read_text()
+
+    # The bug causes an "Anchor not found" message. The fix should show the
+    # underlying HTTP error instead.
+    expected_error_message = (
+        '404 Client Error: Not Found for url: https://google.com/test.txt'
+    )
+    assert expected_error_message in content
