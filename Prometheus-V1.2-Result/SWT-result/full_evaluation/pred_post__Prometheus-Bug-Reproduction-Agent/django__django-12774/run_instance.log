2025-12-07 13:33:23,904 - WARNING - Starting evaluation at 1765114403.9040794
2025-12-07 13:33:23,951 - INFO - Creating container for django__django-12774...
2025-12-07 13:33:23,974 - INFO - Container for django__django-12774 created: 65e8fc8445ad6db659252b139571defe5a18f24f071f22aafac79108fe633604
2025-12-07 13:33:24,159 - INFO - Container for django__django-12774 started: 65e8fc8445ad6db659252b139571defe5a18f24f071f22aafac79108fe633604
2025-12-07 13:33:25,294 - INFO - Git diff before:

2025-12-07 13:33:25,294 - INFO - Eval script for django__django-12774 written to eval.sh, now applying to container...
2025-12-07 13:33:35,774 - INFO - Test output for django__django-12774 written to run_instance_swt_logs/full_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-12774/test_output.txt
2025-12-07 13:33:35,855 - INFO - Git diff after:
diff --git a/django/db/models/query.py b/django/db/models/query.py
index d9c9b0db04..c1aa352701 100644
--- a/django/db/models/query.py
+++ b/django/db/models/query.py
@@ -689,7 +689,17 @@ class QuerySet:
         """
         assert not self.query.is_sliced, \
             "Cannot use 'limit' or 'offset' with in_bulk"
-        if field_name != 'pk' and not self.model._meta.get_field(field_name).unique:
+        opts = self.model._meta
+        unique_fields = [
+            constraint.fields[0]
+            for constraint in opts.total_unique_constraints
+            if len(constraint.fields) == 1
+        ]
+        if (
+            field_name != 'pk' and
+            not opts.get_field(field_name).unique and
+            field_name not in unique_fields
+        ):
             raise ValueError("in_bulk()'s field_name must be a unique field but %r isn't." % field_name)
         if id_list is not None:
             if not id_list:
2025-12-07 13:33:35,855 - INFO - Git diff changed after running eval script
2025-12-07 13:33:35,855 - INFO - Attempting to stop container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.b42a151c917cb1a66bbee2.124396453760128...
2025-12-07 13:33:51,071 - INFO - Attempting to remove container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.b42a151c917cb1a66bbee2.124396453760128...
2025-12-07 13:33:51,105 - INFO - Container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.b42a151c917cb1a66bbee2.124396453760128 removed.
2025-12-07 13:33:51,105 - WARNING - End of eval at 1765114431.1058884
