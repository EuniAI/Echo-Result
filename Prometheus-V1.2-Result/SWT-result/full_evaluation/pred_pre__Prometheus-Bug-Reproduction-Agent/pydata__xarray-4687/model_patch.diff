diff --git a/xarray/tests/test_where.py b/xarray/tests/test_where.py
new file mode 100644
index 00000000..dffe7be6
--- /dev/null
+++ b/xarray/tests/test_where.py
@@ -0,0 +1,15 @@
+import numpy as np
+import xarray as xr
+
+
+def test_where_preserves_attributes():
+    """
+    Test that xr.where preserves attributes of its arguments.
+    Regression test for https://github.com/pydata/xarray/issues/4139.
+    """
+    da = xr.DataArray(1)
+    da.attrs["foo"] = "bar"
+
+    result = xr.where(da == 0, -1, da)
+
+    assert da.attrs == result.attrs
