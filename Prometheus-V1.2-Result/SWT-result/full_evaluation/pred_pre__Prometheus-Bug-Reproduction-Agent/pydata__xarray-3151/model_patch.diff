diff --git a/xarray/tests/test_combine_by_coords.py b/xarray/tests/test_combine_by_coords.py
new file mode 100644
index 00000000..022fd907
--- /dev/null
+++ b/xarray/tests/test_combine_by_coords.py
@@ -0,0 +1,40 @@
+import numpy as np
+import pytest
+
+from xarray import Dataset, combine_by_coords, concat
+from xarray.testing import assert_identical
+
+
+def test_combine_by_coords_nonmonotonic_identical_coords():
+    """
+    Test that combine_by_coords does not raise an error for identical but
+    non-monotonic coordinates.
+
+    Regression test for GH #3142.
+    """
+    y_coord = ['a', 'c', 'b']
+
+    ds1 = Dataset(
+        data_vars=dict(
+            data=(['x', 'y'], np.arange(9).reshape(3, 3))
+        ),
+        coords=dict(
+            x=[1, 2, 3],
+            y=y_coord
+        )
+    )
+
+    ds2 = Dataset(
+        data_vars=dict(
+            data=(['x', 'y'], np.arange(9, 21).reshape(4, 3))
+        ),
+        coords=dict(
+            x=[4, 5, 6, 7],
+            y=y_coord
+        )
+    )
+
+    result = combine_by_coords((ds1, ds2))
+    expected = concat([ds1, ds2], dim='x')
+
+    assert_identical(result, expected)
