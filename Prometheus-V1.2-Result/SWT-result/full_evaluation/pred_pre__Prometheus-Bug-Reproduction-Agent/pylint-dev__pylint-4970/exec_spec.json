{"instance_id": "pylint-dev__pylint-4970", "repo": "pylint-dev/pylint", "version": "2.10", "environment_setup_commit": "bc95cd34071ec2e71de5bca8ff95cc9b88e23814", "patch_list": ["diff --git a/tests/checkers/test_min_similarity_lines_zero.py b/tests/checkers/test_min_similarity_lines_zero.py\nnew file mode 100644\nindex 000000000..9833e846c\n--- /dev/null\n+++ b/tests/checkers/test_min_similarity_lines_zero.py\n@@ -0,0 +1,49 @@\n+from pathlib import Path\n+\n+import pytest\n+\n+from pylint.checkers import similar\n+from pylint.lint import PyLinter\n+from pylint.testutils import GenericTestReporter as Reporter\n+\n+\n+def test_min_similarity_lines_zero_disables_check(tmp_path: Path) -> None:\n+    \"\"\"Test that min-similarity-lines=0 disables the similarity check.\n+\n+    Setting min-similarity-lines to 0 should disable the duplicate code\n+    check entirely. This test ensures that when the option is set to 0,\n+    no 'duplicate-code' messages are emitted for files with obvious\n+    similarities.\n+    \"\"\"\n+    file1_content = \"\"\"\n+import one\n+from two import two\n+three\n+four\n+five\n+six\n+\"\"\"\n+    file2_content = \"\"\"\n+import one\n+from two import two\n+three\n+four\n+five\n+seven\n+\"\"\"\n+    file1 = tmp_path / \"file1.py\"\n+    file1.write_text(file1_content, encoding=\"utf-8\")\n+    file2 = tmp_path / \"file2.py\"\n+    file2.write_text(file2_content, encoding=\"utf-8\")\n+\n+    linter = PyLinter()\n+    reporter = Reporter()\n+    linter.set_reporter(reporter)\n+    checker = similar.SimilarChecker(linter)\n+    linter.register_checker(checker)\n+    linter.load_configuration()\n+    checker.config.min_similarity_lines = 0\n+\n+    linter.check([str(file1), str(file2)])\n+\n+    assert not reporter.messages\n"], "arch": "x86_64", "base_commit": "40cc2ffd7887959157aaf469e09585ec2be7f528", "test_directives": ["tests/checkers/test_min_similarity_lines_zero.py"], "coverage_files": ["pylint/checkers/similar.py"], "env_name": "testbed", "run_id": "full_evaluation", "patch_id": "pred_pre__Prometheus-Bug-Reproduction-Agent", "timeout": 1800, "rm_image": false, "force_rebuild": false, "exec_mode": "unit_test", "reproduction_script_name": null, "compute_coverage": true, "install": {"python": "3.9", "packages": "requirements.txt", "install": "python -m pip install -e ."}, "cache_level": "instance", "test_command": "python3 /root/trace.py --count -C coverage.cover --include-pattern '/testbed/(pylint/checkers/similar\\.py)' -m pytest --no-header -rA  -p no:cacheprovider tests/checkers/test_min_similarity_lines_zero.py", "req_install_commands": ["conda create -n testbed python=3.9 -y", "cat <<'EOF_59812759871' > $HOME/requirements.txt\nblack==21.8b0;python_full_version>=\"3.6.2\"\nflake8==3.9.2\nisort==5.9.3\nmypy==0.910\n\nastroid==2.8.0  # Pinned to a specific version for tests\npytest~=6.2\npytest-benchmark~=3.4\n\ncoveralls~=3.2\ncoverage~=5.5\npre-commit~=2.15;python_full_version>=\"3.6.2\"\ntbump~=6.3.2\npyenchant~=3.2\npytest-cov~=2.12\npytest-profiling~=1.7\npytest-xdist~=2.3\ntypes-pkg_resources==0.1.3\ntypes-toml==0.1.5\n\nEOF_59812759871", "conda activate testbed && python -m pip install -r $HOME/requirements.txt", "rm $HOME/requirements.txt"]}