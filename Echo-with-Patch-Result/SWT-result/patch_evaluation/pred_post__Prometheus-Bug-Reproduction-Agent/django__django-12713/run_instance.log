2025-12-25 20:02:21,901 - WARNING - Starting evaluation at 1766692941.9014144
2025-12-25 20:02:22,048 - INFO - Creating container for django__django-12713...
2025-12-25 20:02:25,150 - INFO - Container for django__django-12713 created: dfbd849a7b55869eb3b669c671ae8f5740ede2fe56f228723e291801c5ae4f79
2025-12-25 20:02:26,075 - INFO - Container for django__django-12713 started: dfbd849a7b55869eb3b669c671ae8f5740ede2fe56f228723e291801c5ae4f79
2025-12-25 20:02:27,349 - INFO - Git diff before:

2025-12-25 20:02:27,350 - INFO - Eval script for django__django-12713 written to eval.sh, now applying to container...
2025-12-25 20:06:36,465 - INFO - Test output for django__django-12713 written to run_instance_swt_logs/patch_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-12713/test_output.txt
2025-12-25 20:06:36,560 - INFO - Git diff after:
diff --git a/django/contrib/admin/options.py b/django/contrib/admin/options.py
index 69a5fbf389..2099d14861 100644
--- a/django/contrib/admin/options.py
+++ b/django/contrib/admin/options.py
@@ -249,17 +249,25 @@ class BaseModelAdmin(metaclass=forms.MediaDefiningClass):
             return None
         db = kwargs.get('using')
 
-        autocomplete_fields = self.get_autocomplete_fields(request)
-        if db_field.name in autocomplete_fields:
-            kwargs['widget'] = AutocompleteSelectMultiple(db_field.remote_field, self.admin_site, using=db)
-        elif db_field.name in self.raw_id_fields:
-            kwargs['widget'] = widgets.ManyToManyRawIdWidget(db_field.remote_field, self.admin_site, using=db)
-        elif db_field.name in [*self.filter_vertical, *self.filter_horizontal]:
-            kwargs['widget'] = widgets.FilteredSelectMultiple(
-                db_field.verbose_name,
-                db_field.name in self.filter_vertical
-            )
-
+        if 'widget' not in kwargs:
+            autocomplete_fields = self.get_autocomplete_fields(request)
+            if db_field.name in autocomplete_fields:
+                kwargs['widget'] = AutocompleteSelectMultiple(
+                    db_field.remote_field,
+                    self.admin_site,
+                    using=db,
+                )
+            elif db_field.name in self.raw_id_fields:
+                kwargs['widget'] = widgets.ManyToManyRawIdWidget(
+                    db_field.remote_field,
+                    self.admin_site,
+                    using=db,
+                )
+            elif db_field.name in [*self.filter_vertical, *self.filter_horizontal]:
+                kwargs['widget'] = widgets.FilteredSelectMultiple(
+                    db_field.verbose_name,
+                    db_field.name in self.filter_vertical
+                )
         if 'queryset' not in kwargs:
             queryset = self.get_field_queryset(db, db_field, request)
             if queryset is not None:
2025-12-25 20:06:36,560 - INFO - Git diff changed after running eval script
2025-12-25 20:06:36,560 - INFO - Attempting to stop container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.81911eeb11204b03bedcc9.129975669642480...
2025-12-25 20:06:54,206 - INFO - Attempting to remove container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.81911eeb11204b03bedcc9.129975669642480...
2025-12-25 20:06:54,418 - INFO - Container exec.eval.x86_64.8d48ddaf97462eaa0fa9d9.81911eeb11204b03bedcc9.129975669642480 removed.
2025-12-25 20:06:54,418 - WARNING - End of eval at 1766693214.418306
2025-12-26 02:43:29,321 - WARNING - Starting evaluation at 1766717009.3212707
2025-12-26 02:43:29,354 - WARNING - Starting evaluation at 1766717009.3542216
2025-12-26 02:43:29,385 - WARNING - Starting evaluation at 1766717009.385687
2025-12-26 02:43:29,415 - WARNING - Starting evaluation at 1766717009.4152014
2025-12-26 02:43:29,442 - WARNING - Starting evaluation at 1766717009.4429467
2025-12-26 09:38:10,153 - WARNING - Starting evaluation at 1766741890.1536477
2025-12-26 09:38:10,163 - WARNING - Starting evaluation at 1766741890.163184
2025-12-26 09:38:10,172 - WARNING - Starting evaluation at 1766741890.172556
2025-12-26 09:38:10,180 - WARNING - Starting evaluation at 1766741890.1808095
2025-12-26 09:38:10,189 - WARNING - Starting evaluation at 1766741890.1894145
2025-12-26 09:53:34,277 - WARNING - Starting evaluation at 1766742814.2772646
2025-12-26 09:53:34,288 - WARNING - Starting evaluation at 1766742814.2882545
2025-12-26 09:53:34,299 - WARNING - Starting evaluation at 1766742814.2995217
2025-12-26 09:53:34,309 - WARNING - Starting evaluation at 1766742814.3092644
2025-12-26 09:53:34,319 - WARNING - Starting evaluation at 1766742814.3197281
2025-12-26 10:15:26,963 - WARNING - Starting evaluation at 1766744126.963272
2025-12-26 10:15:27,001 - WARNING - Starting evaluation at 1766744127.0019274
2025-12-26 10:15:27,019 - WARNING - Starting evaluation at 1766744127.019288
2025-12-26 10:15:27,045 - WARNING - Starting evaluation at 1766744127.0456464
2025-12-26 10:15:27,057 - WARNING - Starting evaluation at 1766744127.057349
2025-12-26 11:07:38,122 - WARNING - Starting evaluation at 1766747258.1221626
2025-12-26 11:07:38,135 - WARNING - Starting evaluation at 1766747258.1350634
2025-12-26 11:07:38,146 - WARNING - Starting evaluation at 1766747258.1463609
2025-12-26 11:07:38,154 - WARNING - Starting evaluation at 1766747258.1545863
2025-12-26 11:07:38,166 - WARNING - Starting evaluation at 1766747258.1664302
2025-12-26 11:07:49,722 - INFO - Grading answer for django__django-12713...
2025-12-26 11:07:49,730 - INFO - report: {'django__django-12713': {'patch_is_None': False, 'patch_exists': True, 'patch_successfully_applied': True, 'resolved': False, 'coverage_pred': 0.0, 'coverage_gold': 0.8, 'coverage_base': 0.0, 'coverage_delta_pred': 0.0, 'coverage_delta_gold': 0.8, 'added_f2p': 0, 'tests_base': {'FAIL_TO_PASS': [], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': ['test_formfield_for_manytomany_override (unittest.loader._FailedTest)']}, 'tests_pred': {'FAIL_TO_PASS': [], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': []}, 'tests_gold': {'FAIL_TO_PASS': ['test_formfield_overrides_widget_instances (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_formfield_overrides_m2m_filter_widget (admin_widgets.tests.AdminFormfieldForDBFieldTests)'], 'PASS_TO_PASS': ['test_on_delete_cascade_rel_cant_delete_related (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_filter_choices_by_request_user (admin_widgets.tests.AdminFormfieldForDBFieldWithRequestTests)', 'test_IntegerField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_render (admin_widgets.tests.ForeignKeyRawIdWidgetTest)', 'test_inheritance (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_render (admin_widgets.tests.ManyToManyRawIdWidgetTest)', 'test_TextField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_relations_to_non_primary_key (admin_widgets.tests.ForeignKeyRawIdWidgetTest)', 'test_changelist_ForeignKey (admin_widgets.tests.AdminForeignKeyWidgetChangeList)', 'test_nonexistent_target_id (admin_widgets.tests.AdminForeignKeyRawIdWidget)', 'test_fk_related_model_not_in_admin (admin_widgets.tests.ForeignKeyRawIdWidgetTest)', 'test_ForeignKey (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_attrs (admin_widgets.tests.AdminUUIDWidgetTests)', 'test_formfield_overrides (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_radio_fields_ForeignKey (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_get_context_validates_url (admin_widgets.tests.AdminURLWidgetTest)', 'test_FileField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_m2m_widgets (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_filtered_many_to_many (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_readonly_fields (admin_widgets.tests.AdminFileWidgetTests)', 'test_URLField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_attrs (admin_widgets.tests.AdminTimeWidgetTest)', 'test_select_multiple_widget_cant_change_delete_related (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_attrs (admin_widgets.tests.AdminDateWidgetTest)', 'test_m2m_related_model_not_in_admin (admin_widgets.tests.ManyToManyRawIdWidgetTest)', 'test_TimeField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_field_with_choices (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_render_quoting (admin_widgets.tests.AdminURLWidgetTest)', 'test_label_and_url_for_value_invalid_uuid (admin_widgets.tests.AdminForeignKeyRawIdWidget)', 'test_url_params_from_lookup_dict_any_iterable (admin_widgets.tests.AdminForeignKeyRawIdWidget)', 'test_DateField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_widget_is_hidden (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_render_required (admin_widgets.tests.AdminFileWidgetTests)', 'test_fk_to_self_model_not_in_admin (admin_widgets.tests.ForeignKeyRawIdWidgetTest)', 'test_render (admin_widgets.tests.AdminURLWidgetTest)', 'test_stacked_render (admin_widgets.tests.FilteredSelectMultipleWidgetTest)', 'test_EmailField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_formfield_overrides_for_datetime_field (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_CharField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_no_can_add_related (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_render (admin_widgets.tests.AdminFileWidgetTests)', 'test_raw_id_many_to_many (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_localization (admin_widgets.tests.AdminSplitDateTimeWidgetTest)', 'test_render_idn (admin_widgets.tests.AdminURLWidgetTest)', 'test_DateTimeField (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_choices_with_radio_fields (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_render (admin_widgets.tests.AdminSplitDateTimeWidgetTest)', 'test_formfield_overrides_for_custom_field (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_invalid_target_id (admin_widgets.tests.AdminForeignKeyRawIdWidget)', 'test_proper_manager_for_label_lookup (admin_widgets.tests.ForeignKeyRawIdWidgetTest)', 'test_url_params_from_lookup_dict_callable (admin_widgets.tests.AdminForeignKeyRawIdWidget)', 'test_many_to_many (admin_widgets.tests.AdminFormfieldForDBFieldTests)', 'test_render (admin_widgets.tests.FilteredSelectMultipleWidgetTest)', 'test_custom_widget_render (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_widget_is_not_hidden (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_widget_delegates_value_omitted_from_data (admin_widgets.tests.RelatedFieldWidgetWrapperTests)', 'test_raw_id_ForeignKey (admin_widgets.tests.AdminFormfieldForDBFieldTests)'], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': ['test_ForeignKey (admin_widgets.tests.AdminRawIdWidgetSeleniumTests)', 'test_many_to_many (admin_widgets.tests.AdminRawIdWidgetSeleniumTests)', 'test_basic (admin_widgets.tests.HorizontalVerticalFilterSeleniumTests)', 'test_refresh_page (admin_widgets.tests.HorizontalVerticalFilterSeleniumTests)', 'test_ForeignKey_using_to_field (admin_widgets.tests.RelatedFieldWidgetSeleniumTests)', 'test_filter (admin_widgets.tests.HorizontalVerticalFilterSeleniumTests)', 'test_show_hide_date_time_picker_widgets (admin_widgets.tests.DateTimePickerSeleniumTests)', 'test_date_time_picker_shortcuts (admin_widgets.tests.DateTimePickerShortcutsSeleniumTests)', 'test_calendar_show_date_from_input (admin_widgets.tests.DateTimePickerSeleniumTests)', 'test_calendar_nonday_class (admin_widgets.tests.DateTimePickerSeleniumTests)', 'test_calendar_no_selected_class (admin_widgets.tests.DateTimePickerSeleniumTests)', 'test_date_time_picker_shortcuts (admin_widgets.tests.DateTimePickerAltTimezoneSeleniumTests)', 'test_back_button_bug (admin_widgets.tests.HorizontalVerticalFilterSeleniumTests)', 'test_calendar_selected_class (admin_widgets.tests.DateTimePickerSeleniumTests)']}}}
Result for django__django-12713: resolved: False
