diff --git a/tests/sessions/test_sha1_encoding.py b/tests/sessions/test_sha1_encoding.py
new file mode 100644
index 0000000000..cedcaf7c3c
--- /dev/null
+++ b/tests/sessions/test_sha1_encoding.py
@@ -0,0 +1,31 @@
+import warnings
+
+from django.contrib.sessions.backends.db import SessionStore
+from django.test import TestCase, ignore_warnings
+from django.utils.deprecation import RemovedInDjango40Warning
+
+
+class SessionSha1EncodingTests(TestCase):
+    # The legacy encoded data and session data are from
+    # sessions_tests.tests.SessionTestsMixin.test_decode_legacy().
+    SESSION_DATA = {'a test key': 'a test value'}
+    LEGACY_ENCODED_DATA = (
+        'OWUzNTNmNWQxNTBjOWExZmM4MmQ3NzNhMDRmMjU4NmYwNDUyNGI2NDp7ImEgdGVzd'
+        'CBrZXkiOiJhIHRlc3QgdmFsdWUifQ=='
+    )
+
+    @ignore_warnings(category=RemovedInDjango40Warning)
+    def test_encode_legacy_format_with_sha1_setting(self):
+        """
+        When DEFAULT_HASHING_ALGORITHM is 'sha1', SessionBase.encode() should
+        use the legacy pre-3.1 format and issue a warning.
+        """
+        with self.settings(
+            DEFAULT_HASHING_ALGORITHM='sha1',
+            SECRET_KEY='django_tests_secret_key',
+        ):
+            session = SessionStore()
+            # The patched encode() method should issue a warning.
+            with self.assertWarns(RemovedInDjango40Warning):
+                encoded_data = session.encode(self.SESSION_DATA)
+            self.assertEqual(encoded_data, self.LEGACY_ENCODED_DATA)
