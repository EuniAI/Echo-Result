2025-12-25 21:40:25,540 - WARNING - Starting evaluation at 1766698825.54073
2025-12-25 21:40:25,595 - INFO - Creating container for django__django-14349...
2025-12-25 21:40:34,645 - INFO - Container for django__django-14349 created: 347ff4ea6b52e49698b918b9297ba8e801a66152474a3489bc56b578e4e95e66
2025-12-25 21:40:36,062 - INFO - Container for django__django-14349 started: 347ff4ea6b52e49698b918b9297ba8e801a66152474a3489bc56b578e4e95e66
2025-12-25 21:40:37,958 - INFO - Git diff before:

2025-12-25 21:40:37,958 - INFO - Eval script for django__django-14349 written to eval.sh, now applying to container...
2025-12-25 21:41:16,293 - INFO - Test output for django__django-14349 written to run_instance_swt_logs/patch_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/django__django-14349/test_output.txt
2025-12-25 21:41:16,376 - INFO - Git diff after:
diff --git a/django/core/validators.py b/django/core/validators.py
index a385819510..f9abec602c 100644
--- a/django/core/validators.py
+++ b/django/core/validators.py
@@ -92,6 +92,7 @@ class URLValidator(RegexValidator):
         r'\Z', re.IGNORECASE)
     message = _('Enter a valid URL.')
     schemes = ['http', 'https', 'ftp', 'ftps']
+    unsafe_chars = frozenset('\t\r\n')
 
     def __init__(self, schemes=None, **kwargs):
         super().__init__(**kwargs)
@@ -101,6 +102,8 @@ class URLValidator(RegexValidator):
     def __call__(self, value):
         if not isinstance(value, str):
             raise ValidationError(self.message, code=self.code, params={'value': value})
+        if self.unsafe_chars.intersection(value):
+            raise ValidationError(self.message, code=self.code, params={'value': value})
         # Check if the scheme is valid.
         scheme = value.split('://')[0].lower()
         if scheme not in self.schemes:
2025-12-25 21:41:16,377 - INFO - Git diff changed after running eval script
2025-12-25 21:41:16,377 - INFO - Attempting to stop container exec.eval.x86_64.ebed327f02c059ebd6024a.33cd452e8f5296fc5506b3.129975669657184...
2025-12-25 21:41:35,030 - INFO - Attempting to remove container exec.eval.x86_64.ebed327f02c059ebd6024a.33cd452e8f5296fc5506b3.129975669657184...
2025-12-25 21:41:35,176 - INFO - Container exec.eval.x86_64.ebed327f02c059ebd6024a.33cd452e8f5296fc5506b3.129975669657184 removed.
2025-12-25 21:41:35,177 - WARNING - End of eval at 1766698895.1771812
2025-12-26 02:43:30,581 - WARNING - Starting evaluation at 1766717010.5818043
2025-12-26 02:43:30,613 - WARNING - Starting evaluation at 1766717010.6138413
2025-12-26 02:43:30,642 - WARNING - Starting evaluation at 1766717010.6427276
2025-12-26 02:43:30,665 - WARNING - Starting evaluation at 1766717010.665221
2025-12-26 02:43:30,692 - WARNING - Starting evaluation at 1766717010.69247
2025-12-26 09:38:11,192 - WARNING - Starting evaluation at 1766741891.1924345
2025-12-26 09:38:11,199 - WARNING - Starting evaluation at 1766741891.199499
2025-12-26 09:38:11,206 - WARNING - Starting evaluation at 1766741891.2065299
2025-12-26 09:38:11,212 - WARNING - Starting evaluation at 1766741891.212957
2025-12-26 09:38:11,220 - WARNING - Starting evaluation at 1766741891.2209246
2025-12-26 09:53:35,576 - WARNING - Starting evaluation at 1766742815.5766103
2025-12-26 09:53:35,585 - WARNING - Starting evaluation at 1766742815.585571
2025-12-26 09:53:35,595 - WARNING - Starting evaluation at 1766742815.5957654
2025-12-26 09:53:35,605 - WARNING - Starting evaluation at 1766742815.6059015
2025-12-26 09:53:35,616 - WARNING - Starting evaluation at 1766742815.6161058
2025-12-26 10:15:28,931 - WARNING - Starting evaluation at 1766744128.9310002
2025-12-26 10:15:28,943 - WARNING - Starting evaluation at 1766744128.9433014
2025-12-26 10:15:28,958 - WARNING - Starting evaluation at 1766744128.9581947
2025-12-26 10:15:28,979 - WARNING - Starting evaluation at 1766744128.9790354
2025-12-26 10:15:28,993 - WARNING - Starting evaluation at 1766744128.9937825
2025-12-26 11:07:38,819 - WARNING - Starting evaluation at 1766747258.8196807
2025-12-26 11:07:38,827 - WARNING - Starting evaluation at 1766747258.8279626
2025-12-26 11:07:38,834 - WARNING - Starting evaluation at 1766747258.8347526
2025-12-26 11:07:38,844 - WARNING - Starting evaluation at 1766747258.8444908
2025-12-26 11:07:38,852 - WARNING - Starting evaluation at 1766747258.8526957
2025-12-26 11:07:52,232 - INFO - Grading answer for django__django-14349...
2025-12-26 11:07:52,239 - INFO - report: {'django__django-14349': {'patch_is_None': False, 'patch_exists': True, 'patch_successfully_applied': True, 'resolved': True, 'coverage_pred': 1.0, 'coverage_gold': 1.0, 'coverage_base': 0.3333333333333333, 'coverage_delta_pred': 0.6666666666666666, 'coverage_delta_gold': 0.6666666666666666, 'added_f2p': 1, 'tests_base': {'FAIL_TO_PASS': [], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': ['test_urlvalidator_patch (unittest.loader._FailedTest)']}, 'tests_pred': {'FAIL_TO_PASS': ['test_url_with_newline_is_invalid (test_urlvalidator_patch.URLValidatorPatchTest)'], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': []}, 'tests_gold': {'FAIL_TO_PASS': ['test_basic_equality (validators.tests.TestValidatorEquality)', 'test_validators (validators.tests.TestValidators)'], 'PASS_TO_PASS': ['test_max_length_validator_message (validators.tests.TestValidators)', 'test_domain_whitelist_access_warning (validators.tests.DeprecationTests)', 'test_whitelist_warning (validators.tests.DeprecationTests)', 'test_regex_equality (validators.tests.TestValidatorEquality)', 'test_message_list (validators.tests.TestValidators)', 'test_domain_whitelist (validators.tests.DeprecationTests)', 'test_email_equality (validators.tests.TestValidatorEquality)', 'test_whitelist (validators.tests.DeprecationTests)', 'test_file_extension_equality (validators.tests.TestValidatorEquality)', 'test_domain_whitelist_set_warning (validators.tests.DeprecationTests)', 'test_prohibit_null_characters_validator_equality (validators.tests.TestValidatorEquality)', 'test_regex_equality_blank (validators.tests.TestValidatorEquality)', 'test_message_dict (validators.tests.TestValidators)', 'test_regex_validator_flags (validators.tests.TestValidators)', 'test_decimal_equality (validators.tests.TestValidatorEquality)', 'test_regex_equality_nocache (validators.tests.TestValidatorEquality)', 'test_single_message (validators.tests.TestValidators)'], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': []}}}
Result for django__django-14349: resolved: True
