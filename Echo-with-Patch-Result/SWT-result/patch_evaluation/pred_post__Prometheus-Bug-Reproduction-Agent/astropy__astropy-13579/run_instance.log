2025-12-25 17:30:24,604 - WARNING - Starting evaluation at 1766683824.604474
2025-12-25 17:30:24,650 - INFO - Creating container for astropy__astropy-13579...
2025-12-25 17:30:25,924 - INFO - Container for astropy__astropy-13579 created: d63af2dfa2cf60e3fd0a1a8b01c423e48c4b6116b9a2673ee6178ffe4db66674
2025-12-25 17:30:26,365 - INFO - Container for astropy__astropy-13579 started: d63af2dfa2cf60e3fd0a1a8b01c423e48c4b6116b9a2673ee6178ffe4db66674
2025-12-25 17:30:27,080 - INFO - Git diff before:
diff --git a/pyproject.toml b/pyproject.toml
index 7a3b85fc92..83f08ed124 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,5 @@
 [build-system]
-requires = ["setuptools",
+requires = ["setuptools==68.0.0",
             "setuptools_scm>=6.2",
             "wheel",
             "cython==0.29.30",
2025-12-25 17:30:27,080 - INFO - Eval script for astropy__astropy-13579 written to eval.sh, now applying to container...
2025-12-25 17:32:42,516 - INFO - Test output for astropy__astropy-13579 written to run_instance_swt_logs/patch_evaluation/pred_post__Prometheus-Bug-Reproduction-Agent/astropy__astropy-13579/test_output.txt
2025-12-25 17:32:42,588 - INFO - Git diff after:
diff --git a/astropy/wcs/wcsapi/wrappers/sliced_wcs.py b/astropy/wcs/wcsapi/wrappers/sliced_wcs.py
index d7605b078c..773663f6ec 100644
--- a/astropy/wcs/wcsapi/wrappers/sliced_wcs.py
+++ b/astropy/wcs/wcsapi/wrappers/sliced_wcs.py
@@ -243,6 +243,8 @@ class SlicedLowLevelWCS(BaseWCSWrapper):
         return world_arrays
 
     def world_to_pixel_values(self, *world_arrays):
+        sliced_out_world_coords = self._pixel_to_world_values_all(*[0]*len(self._pixel_keep))
+
         world_arrays = tuple(map(np.asanyarray, world_arrays))
         world_arrays_new = []
         iworld_curr = -1
@@ -251,7 +253,7 @@ class SlicedLowLevelWCS(BaseWCSWrapper):
                 iworld_curr += 1
                 world_arrays_new.append(world_arrays[iworld_curr])
             else:
-                world_arrays_new.append(1.)
+                world_arrays_new.append(sliced_out_world_coords[iworld])
 
         world_arrays_new = np.broadcast_arrays(*world_arrays_new)
         pixel_arrays = list(self._wcs.world_to_pixel_values(*world_arrays_new))
diff --git a/pyproject.toml b/pyproject.toml
index 7a3b85fc92..83f08ed124 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,5 +1,5 @@
 [build-system]
-requires = ["setuptools",
+requires = ["setuptools==68.0.0",
             "setuptools_scm>=6.2",
             "wheel",
             "cython==0.29.30",
2025-12-25 17:32:42,588 - INFO - Git diff changed after running eval script
2025-12-25 17:32:42,588 - INFO - Attempting to stop container exec.eval.x86_64.13bad202ba417fcce45d9d.1930acbb32eac2f97e49df.129899125352944...
2025-12-25 17:32:58,562 - INFO - Attempting to remove container exec.eval.x86_64.13bad202ba417fcce45d9d.1930acbb32eac2f97e49df.129899125352944...
2025-12-25 17:32:58,656 - INFO - Container exec.eval.x86_64.13bad202ba417fcce45d9d.1930acbb32eac2f97e49df.129899125352944 removed.
2025-12-25 17:32:58,657 - WARNING - End of eval at 1766683978.657015
2025-12-25 19:46:02,609 - WARNING - Starting evaluation at 1766691962.609684
2025-12-25 19:46:02,631 - WARNING - Starting evaluation at 1766691962.631207
2025-12-25 19:46:02,661 - WARNING - Starting evaluation at 1766691962.6610494
2025-12-25 19:46:02,681 - WARNING - Starting evaluation at 1766691962.681593
2025-12-25 19:46:02,696 - WARNING - Starting evaluation at 1766691962.696876
2025-12-26 02:43:27,689 - WARNING - Starting evaluation at 1766717007.6895452
2025-12-26 02:43:27,723 - WARNING - Starting evaluation at 1766717007.7233818
2025-12-26 02:43:27,753 - WARNING - Starting evaluation at 1766717007.7532399
2025-12-26 02:43:27,785 - WARNING - Starting evaluation at 1766717007.785391
2025-12-26 02:43:27,826 - WARNING - Starting evaluation at 1766717007.8264577
2025-12-26 09:38:08,869 - WARNING - Starting evaluation at 1766741888.8689928
2025-12-26 09:38:08,876 - WARNING - Starting evaluation at 1766741888.8765714
2025-12-26 09:38:08,885 - WARNING - Starting evaluation at 1766741888.8853483
2025-12-26 09:38:08,895 - WARNING - Starting evaluation at 1766741888.8958023
2025-12-26 09:38:08,909 - WARNING - Starting evaluation at 1766741888.909937
2025-12-26 09:53:32,799 - WARNING - Starting evaluation at 1766742812.799195
2025-12-26 09:53:32,810 - WARNING - Starting evaluation at 1766742812.8106747
2025-12-26 09:53:32,826 - WARNING - Starting evaluation at 1766742812.8261456
2025-12-26 09:53:32,839 - WARNING - Starting evaluation at 1766742812.8394136
2025-12-26 09:53:32,854 - WARNING - Starting evaluation at 1766742812.8542557
2025-12-26 10:15:24,960 - WARNING - Starting evaluation at 1766744124.9604943
2025-12-26 10:15:24,975 - WARNING - Starting evaluation at 1766744124.9752538
2025-12-26 10:15:24,993 - WARNING - Starting evaluation at 1766744124.99338
2025-12-26 10:15:25,004 - WARNING - Starting evaluation at 1766744125.0047328
2025-12-26 10:15:25,024 - WARNING - Starting evaluation at 1766744125.0249014
2025-12-26 11:07:37,173 - WARNING - Starting evaluation at 1766747257.1730878
2025-12-26 11:07:37,189 - WARNING - Starting evaluation at 1766747257.1896324
2025-12-26 11:07:37,204 - WARNING - Starting evaluation at 1766747257.2044365
2025-12-26 11:07:37,218 - WARNING - Starting evaluation at 1766747257.2184396
2025-12-26 11:07:37,232 - WARNING - Starting evaluation at 1766747257.2327363
2025-12-26 11:07:48,076 - INFO - Grading answer for astropy__astropy-13579...
2025-12-26 11:07:48,110 - INFO - report: {'astropy__astropy-13579': {'patch_is_None': False, 'patch_exists': True, 'patch_successfully_applied': True, 'resolved': True, 'coverage_pred': 1.0, 'coverage_gold': 1.0, 'coverage_base': 0.0, 'coverage_delta_pred': 1.0, 'coverage_delta_gold': 1.0, 'added_f2p': 1, 'tests_base': {'FAIL_TO_PASS': [], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': ['file']}, 'tests_pred': {'FAIL_TO_PASS': ['astropy/wcs/tests/test_sliced_wcs_issue12739.py::test_sliced_world_to_pixel_coupled'], 'PASS_TO_PASS': [], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': []}, 'tests_gold': {'FAIL_TO_PASS': ['astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_coupled_world_slicing'], 'PASS_TO_PASS': ['astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_spectral_slice', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice16-slice26-expected6]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice119-3-5]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_ellipsis', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_pixel_to_world_broadcasting', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice117-3-5]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_spectral_range', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice111-slice211-expected11]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice18-slice28-expected8]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice113-slice213-expected13]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice11-slice21-expected1]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_celestial_range_rot', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_no_array_shape', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice14-slice24-expected4]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_celestial_slice', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_sanitize_slice[item2-10-expected2]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_too_much_slicing', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_world_to_pixel_broadcasting', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_dropped_dimensions_4d', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice17-slice27-expected7]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice12-slice22-expected2]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice19-slice29-expected9]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_sanitize_slice[item1-5-expected1]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_sanitize_slice[item0-4-expected0]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice110-slice210-expected10]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice118-3-3]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice13-slice23-expected3]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_pixel_to_world_values_different_int_types', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice114-slice214-expected14]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice115-slice215-expected15]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_ellipsis_none_types', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice10-slice20-expected0]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_1d_sliced_low_level', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_invalid_slices', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_celestial_range', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice15-slice25-expected5]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice112-slice212-expected12]', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_nested_slicing', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_dropped_dimensions', 'astropy/wcs/wcsapi/wrappers/tests/test_sliced_wcs.py::test_combine_slices[slice116-3-3]'], 'FAIL_TO_FAIL': [], 'PASS_TO_FAIL': [], 'UNMATCHED': []}}}
Result for astropy__astropy-13579: resolved: True
