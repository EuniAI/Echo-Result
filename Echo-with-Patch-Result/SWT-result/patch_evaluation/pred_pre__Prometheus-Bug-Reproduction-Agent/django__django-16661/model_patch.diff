diff --git a/tests/modeladmin/test_lookup_allowed.py b/tests/modeladmin/test_lookup_allowed.py
new file mode 100644
index 0000000000..62d4272e7b
--- /dev/null
+++ b/tests/modeladmin/test_lookup_allowed.py
@@ -0,0 +1,38 @@
+from django.contrib.admin.options import ModelAdmin
+from django.contrib.admin.sites import AdminSite
+from django.db import models
+from django.test import TestCase
+from django.test.utils import isolate_apps
+
+
+class ModelAdminLookupAllowedTests(TestCase):
+    def setUp(self):
+        self.site = AdminSite()
+
+    @isolate_apps("modeladmin")
+    def test_lookup_allowed_foreign_primary(self):
+        """
+        Test that lookup_allowed works correctly with a ForeignKey as a primary key.
+        """
+
+        class Country(models.Model):
+            name = models.CharField(max_length=256)
+
+        class Place(models.Model):
+            country = models.ForeignKey(Country, models.CASCADE)
+
+        class Restaurant(models.Model):
+            place = models.OneToOneField(Place, models.CASCADE, primary_key=True)
+
+        class Waiter(models.Model):
+            restaurant = models.ForeignKey(Restaurant, models.CASCADE)
+
+        class WaiterAdmin(ModelAdmin):
+            list_filter = [
+                "restaurant__place__country",
+            ]
+
+        ma = WaiterAdmin(Waiter, self.site)
+        self.assertIs(
+            ma.lookup_allowed("restaurant__place__country", "test_value"), True
+        )
