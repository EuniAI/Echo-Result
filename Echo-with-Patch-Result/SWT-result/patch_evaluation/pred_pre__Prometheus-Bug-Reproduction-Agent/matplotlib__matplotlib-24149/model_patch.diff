diff --git a/lib/matplotlib/tests/test_bar_nan_regression.py b/lib/matplotlib/tests/test_bar_nan_regression.py
new file mode 100644
index 0000000000..d4475f082b
--- /dev/null
+++ b/lib/matplotlib/tests/test_bar_nan_regression.py
@@ -0,0 +1,15 @@
+import numpy as np
+import matplotlib.pyplot as plt
+import pytest
+
+
+def test_bar_all_nan_data():
+    """
+    Test that drawing a bar with all-nan data does not raise an
+    exception. This was a regression in 3.6.1.
+
+    Regression test for matplotlib/matplotlib#24259.
+    """
+    fig, ax = plt.subplots()
+    container = ax.bar([np.nan], [np.nan])
+    assert len(container.patches) == 1
