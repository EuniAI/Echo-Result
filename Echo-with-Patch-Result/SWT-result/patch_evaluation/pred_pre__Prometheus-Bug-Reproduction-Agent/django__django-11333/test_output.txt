+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z '' ']'
+++ export CONDA_SHLVL=0
+++ CONDA_SHLVL=0
+++ '[' -n '' ']'
+++++ dirname /opt/miniconda3/bin/conda
++++ dirname /opt/miniconda3/bin
+++ PATH=/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export PATH
+++ '[' -z '' ']'
+++ PS1=
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1=
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=1
+++ CONDA_SHLVL=1
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=2
++ CONDA_SHLVL=2
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_1=/opt/miniconda3
++ CONDA_PREFIX_1=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ cd /testbed
+ git diff HEAD 55b68de643b5c2d5f0a8ea7587ab3b2966021ccc
+ sed -i '/en_US.UTF-8/s/^# //g' /etc/locale.gen
+ locale-gen
Generating locales (this might take a while)...
  en_US.UTF-8... done
Generation complete.
+ export LANG=en_US.UTF-8
+ LANG=en_US.UTF-8
+ export LANGUAGE=en_US:en
+ LANGUAGE=en_US:en
+ export LC_ALL=en_US.UTF-8
+ LC_ALL=en_US.UTF-8
+ git config --global --add safe.directory /testbed
+ cd /testbed
+ git status
On branch main
nothing to commit, working tree clean
+ git show
commit 55b68de643b5c2d5f0a8ea7587ab3b2966021ccc
Author: Chason Chaffin <chason@gmail.com>
Date:   Tue Jul 2 21:15:32 2019 +0900

    Fixed #30608 -- Fixed non-unicode EmailMessage crash when domain name for localhost is non-ASCII.
    
    Assisted by felixxm.

diff --git a/AUTHORS b/AUTHORS
index 9bae13abb0..640ef00920 100644
--- a/AUTHORS
+++ b/AUTHORS
@@ -166,6 +166,7 @@ answer newbie questions, and generally made Django that much better:
     ChaosKCW
     Charlie Leifer <coleifer@gmail.com>
     charly.wilhelm@gmail.com
+    Chason Chaffin <chason@gmail.com>
     Cheng Zhang
     Chris Adams
     Chris Beaven <smileychris@gmail.com>
diff --git a/django/core/mail/utils.py b/django/core/mail/utils.py
index d18dfe4667..1e48faa366 100644
--- a/django/core/mail/utils.py
+++ b/django/core/mail/utils.py
@@ -4,6 +4,8 @@ Email message and email sending related helper functions.
 
 import socket
 
+from django.utils.encoding import punycode
+
 
 # Cache the hostname, but do it lazily: socket.getfqdn() can take a couple of
 # seconds, which slows down the restart of the server.
@@ -13,7 +15,7 @@ class CachedDnsName:
 
     def get_fqdn(self):
         if not hasattr(self, '_fqdn'):
-            self._fqdn = socket.getfqdn()
+            self._fqdn = punycode(socket.getfqdn())
         return self._fqdn
 
 
diff --git a/tests/mail/tests.py b/tests/mail/tests.py
index 15593dc3f7..6de819965a 100644
--- a/tests/mail/tests.py
+++ b/tests/mail/tests.py
@@ -14,10 +14,11 @@ from email.utils import parseaddr
 from io import StringIO
 from smtplib import SMTP, SMTPAuthenticationError, SMTPException
 from ssl import SSLError
+from unittest import mock
 
 from django.core import mail
 from django.core.mail import (
-    EmailMessage, EmailMultiAlternatives, mail_admins, mail_managers,
+    DNS_NAME, EmailMessage, EmailMultiAlternatives, mail_admins, mail_managers,
     send_mail, send_mass_mail,
 )
 from django.core.mail.backends import console, dummy, filebased, locmem, smtp
@@ -365,6 +366,13 @@ class MailTests(HeadersCheckMixin, SimpleTestCase):
         self.assertEqual(msg.body, '')
         self.assertEqual(msg.message().get_payload(), '')
 
+    @mock.patch('socket.getfqdn', return_value='漢字')
+    def test_non_ascii_dns_non_unicode_email(self, mocked_getfqdn):
+        delattr(DNS_NAME, '_fqdn')
+        email = EmailMessage('subject', 'content', 'from@example.com', ['to@example.com'])
+        email.encoding = 'iso-8859-1'
+        self.assertIn('@xn--p8s937b>', email.message()['Message-ID'])
+
     def test_encoding(self):
         """
         Regression for #12791 - Encode body correctly with other encodings
+ git diff 55b68de643b5c2d5f0a8ea7587ab3b2966021ccc
+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z x ']'
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1='(testbed) '
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=3
+++ CONDA_SHLVL=3
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=4
++ CONDA_SHLVL=4
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_3=/opt/miniconda3
++ CONDA_PREFIX_3=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ python -m pip install -e .
Obtaining file:///testbed
Requirement already satisfied: pytz in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.0.dev20190703084903) (2025.2)
Requirement already satisfied: sqlparse in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.0.dev20190703084903) (0.4.4)
Requirement already satisfied: asgiref in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from Django==3.0.dev20190703084903) (3.4.1)
Requirement already satisfied: typing-extensions in /opt/miniconda3/envs/testbed/lib/python3.6/site-packages (from asgiref->Django==3.0.dev20190703084903) (4.1.1)
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 3.0.dev20190703084903
    Uninstalling Django-3.0.dev20190703084903:
      Successfully uninstalled Django-3.0.dev20190703084903
  Running setup.py develop for Django
Successfully installed Django-3.0.dev20190703084903
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
+ git apply -v -
Checking patch tests/test_resolver_cache_optimization.py...
Applied patch tests/test_resolver_cache_optimization.py cleanly.
+ python3 /root/trace.py --count -C coverage.cover --include-pattern '/testbed/(django/urls/resolvers\.py|django/urls/base\.py)' ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 test_resolver_cache_optimization
test_get_resolver_cache_optimization (test_resolver_cache_optimization.ResolverCacheOptimizationTests) ... FAIL

======================================================================
FAIL: test_get_resolver_cache_optimization (test_resolver_cache_optimization.ResolverCacheOptimizationTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "./tests/test_resolver_cache_optimization.py", line 52, in test_get_resolver_cache_optimization
    self.assertEqual(populate_call_count[0], first_call_count)
AssertionError: 14 != 7

----------------------------------------------------------------------
Ran 1 test in 0.142s

FAILED (failures=1)
['--count', '-C', 'coverage.cover', '--include-pattern', '/testbed/(django/urls/resolvers\\.py|django/urls/base\\.py)']
Testing against Django installed in '/testbed/django'
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).
+ cat coverage.cover
{"/testbed/django/urls/base.py": {"1": 1, "3": 1, "5": 1, "6": 1, "7": 1, "9": 1, "10": 1, "11": 1, "16": 1, "19": 1, "22": 1, "28": 1, "90": 1, "93": 1, "99": 1, "108": 1, "117": 1, "127": 1, "139": 1, "147": 1, "160": 1, "23": 0, "24": 0, "25": 0, "29": 2, "30": 2, "31": 2, "32": 2, "33": 2, "35": 2, "37": 2, "38": 0, "40": 2, "42": 2, "43": 0, "44": 0, "46": 2, "48": 2, "49": 2, "50": 2, "51": 2, "52": 0, "54": 0, "55": 0, "57": 0, "60": 0, "61": 0, "64": 0, "65": 0, "66": 0, "68": 0, "69": 0, "71": 0, "72": 0, "73": 0, "74": 0, "75": 0, "76": 0, "77": 0, "78": 0, "79": 0, "80": 0, "83": 0, "84": 2, "85": 0, "87": 2, "94": 4, "95": 4, "96": 4, "103": 1, "104": 0, "105": 1, "114": 2, "121": 0, "122": 0, "123": 0, "124": 0, "132": 5, "133": 1, "135": 4, "136": 1, "144": 2, "153": 0, "154": 0, "155": 0, "156": 0, "157": 0, "166": 0, "167": 0, "168": 0, "169": 0, "170": 0, "172": 0, "173": 0, "174": 0, "175": 0, "176": 0, "177": 0, "179": 0, "180": 0}}
{"/testbed/django/urls/resolvers.py": {"8": 1, "9": 1, "10": 1, "11": 1, "12": 1, "14": 1, "16": 1, "17": 1, "18": 1, "19": 1, "20": 1, "21": 1, "22": 1, "23": 1, "24": 1, "26": 1, "27": 1, "28": 1, "31": 2, "66": 1, "67": 1, "73": 1, "84": 2, "107": 2, "140": 2, "193": 1, "194": 1, "198": 1, "238": 2, "281": 2, "315": 2, "366": 2, "32": 1, "56": 1, "59": 1, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "41": 0, "42": 0, "43": 0, "44": 0, "46": 0, "48": 0, "51": 0, "53": 0, "54": 0, "57": 0, "60": 0, "61": 0, "62": 0, "68": 3, "69": 2, "70": 3, "78": 0, "79": 0, "80": 0, "81": 0, "85": 1, "88": 1, "86": 2, "92": 68, "93": 0, "97": 68, "98": 68, "99": 68, "100": 68, "101": 0, "102": 0, "103": 0, "104": 0, "108": 1, "117": 1, "112": 0, "113": 0, "114": 0, "115": 0, "121": 1, "122": 1, "125": 0, "126": 1, "127": 0, "128": 0, "131": 0, "133": 0, "135": 0, "137": 1, "141": 1, "143": 1, "150": 1, "161": 1, "168": 1, "180": 1, "189": 1, "144": 61, "145": 61, "146": 61, "147": 61, "148": 61, "151": 0, "152": 0, "156": 0, "157": 0, "158": 0, "159": 0, "162": 1, "163": 1, "164": 1, "165": 1, "166": 1, "169": 1, "170": 1, "171": 0, "172": 0, "174": 0, "175": 0, "178": 1, "182": 59, "183": 59, "184": 0, "185": 0, "186": 0, "190": 0, "205": 18, "206": 18, "207": 18, "208": 18, "209": 18, "210": 18, "211": 18, "212": 18, "213": 0, "214": 0, "215": 0, "216": 0, "217": 0, "218": 0, "219": 0, "221": 0, "222": 0, "224": 0, "225": 0, "226": 0, "227": 0, "228": 0, "229": 0, "231": 0, "232": 0, "233": 18, "234": 14, "235": 18, "239": 1, "241": 1, "248": 1, "262": 1, "274": 1, "277": 1, "242": 9, "243": 9, "244": 9, "245": 9, "246": 9, "249": 0, "250": 0, "252": 0, "253": 0, "254": 0, "255": 0, "256": 0, "257": 0, "258": 0, "259": 0, "260": 0, "263": 0, "264": 0, "265": 0, "266": 0, "267": 0, "269": 0, "270": 0, "272": 0, "275": 9, "278": 0, "282": 1, "286": 1, "291": 1, "299": 1, "305": 1, "308": 1, "311": 1, "283": 0, "284": 0, "289": 0, "293": 0, "294": 0, "295": 0, "297": 0, "300": 0, "301": 0, "302": 0, "303": 0, "306": 0, "309": 0, "312": 0, "316": 1, "322": 1, "325": 1, "330": 1, "344": 1, "352": 1, "317": 61, "318": 61, "319": 61, "320": 61, "323": 0, "326": 0, "327": 0, "328": 0, "334": 0, "335": 0, "336": 0, "337": 0, "338": 0, "340": 0, "342": 0, "345": 0, "346": 0, "347": 0, "349": 0, "350": 0, "358": 61, "359": 61, "360": 3, "361": 61, "362": 0, "363": 61, "367": 1, "386": 1, "397": 1, "404": 1, "434": 1, "495": 1, "502": 1, "509": 1, "516": 1, "525": 1, "530": 1, "570": 1, "577": 1, "592": 1, "601": 1, "604": 1, "368": 9, "372": 9, "373": 9, "374": 9, "375": 9, "376": 9, "377": 9, "378": 9, "379": 9, "382": 9, "383": 9, "384": 9, "387": 0, "389": 0, "391": 0, "392": 0, "393": 0, "394": 0, "398": 1, "399": 1, "400": 0, "401": 1, "402": 1, "405": 1, "408": 5, "409": 4, "410": 4, "411": 0, "412": 0, "414": 0, "415": 0, "416": 0, "417": 0, "418": 4, "419": 4, "420": 4, "421": 4, "422": 0, "424": 0, "427": 0, "428": 0, "429": 0, "431": 0, "432": 1, "439": 14, "440": 0, "441": 14, "442": 14, "443": 14, "444": 14, "445": 14, "446": 14, "447": 152, "448": 138, "449": 138, "450": 130, "451": 138, "452": 126, "453": 126, "454": 126, "455": 126, "456": 126, "458": 126, "459": 122, "460": 122, "461": 122, "464": 12, "465": 12, "466": 0, "467": 0, "469": 52, "470": 102, "471": 62, "472": 62, "473": 62, "475": 62, "476": 62, "477": 62, "478": 62, "481": 12, "482": 0, "483": 0, "484": 0, "485": 12, "486": 0, "487": 12, "488": 14, "489": 14, "490": 14, "491": 14, "493": 14, "497": 54, "498": 54, "499": 0, "500": 54, "504": 12, "505": 12, "506": 0, "507": 12, "511": 12, "512": 12, "513": 0, "514": 12, "519": 0, "520": 0, "521": 0, "522": 0, "523": 0, "526": 0, "527": 0, "528": 0, "531": 0, "532": 0, "533": 0, "534": 0, "535": 0, "536": 0, "537": 0, "538": 0, "539": 0, "540": 0, "541": 0, "542": 0, "544": 0, "546": 0, "548": 0, "550": 0, "553": 0, "554": 0, "555": 0, "556": 0, "557": 0, "558": 0, "559": 0, "560": 0, "561": 0, "562": 0, "563": 0, "564": 0, "566": 0, "567": 0, "568": 0, "572": 9, "573": 3, "575": 6, "580": 9, "581": 9, "582": 9, "583": 0, "585": 0, "589": 0, "590": 9, "593": 4, "594": 4, "597": 4, "598": 4, "599": 4, "602": 0, "605": 2, "606": 0, "608": 2, "609": 2, "611": 2, "613": 2, "614": 2, "615": 2, "616": 0, "617": 0, "618": 0, "620": 2, "621": 0, "622": 4, "623": 0, "624": 2, "626": 2, "627": 2, "628": 0, "629": 0, "631": 0, "637": 2, "638": 2, "640": 2, "642": 2, "645": 0, "646": 0, "647": 0, "648": 0, "650": 0, "652": 0, "653": 0, "654": 0, "655": 0, "656": 0, "657": 0, "659": 0, "661": 0, "662": 0, "666": 0, "667": 0, "669": 0}}
+ git checkout 55b68de643b5c2d5f0a8ea7587ab3b2966021ccc
Note: switching to '55b68de643b5c2d5f0a8ea7587ab3b2966021ccc'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c <new-branch-name>

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at 55b68de643 Fixed #30608 -- Fixed non-unicode EmailMessage crash when domain name for localhost is non-ASCII.
+ git apply /root/pre_state.patch
error: unrecognized input
