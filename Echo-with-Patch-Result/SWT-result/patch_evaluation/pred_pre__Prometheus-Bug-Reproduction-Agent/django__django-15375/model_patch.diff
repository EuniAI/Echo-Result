diff --git a/tests/test_aggregation.py b/tests/test_aggregation.py
new file mode 100644
index 0000000000..072b57e180
--- /dev/null
+++ b/tests/test_aggregation.py
@@ -0,0 +1,59 @@
+import datetime
+from decimal import Decimal
+
+from django.db.models import F, Sum
+from django.test import TestCase
+
+from .models import Author, Book, Publisher
+
+
+class AggregateTestCase(TestCase):
+    @classmethod
+    def setUpTestData(cls):
+        cls.a1 = Author.objects.create(name="Adrian Holovaty", age=34)
+        cls.a2 = Author.objects.create(name="Jacob Kaplan-Moss", age=35)
+        cls.a3 = Author.objects.create(name="Brad Dayley", age=45)
+        cls.a4 = Author.objects.create(name="James Bennett", age=29)
+        cls.a5 = Author.objects.create(name="Jeffrey Forcier", age=37)
+        cls.a6 = Author.objects.create(name="Paul Bissex", age=29)
+        cls.a7 = Author.objects.create(name="Wesley J. Chun", age=25)
+        cls.a8 = Author.objects.create(name="Peter Norvig", age=57)
+        cls.a9 = Author.objects.create(name="Stuart Russell", age=46)
+
+        cls.p1 = Publisher.objects.create(
+            name="Apress", num_awards=3, duration=datetime.timedelta(days=1)
+        )
+        cls.p2 = Publisher.objects.create(
+            name="Sams", num_awards=1, duration=datetime.timedelta(days=2)
+        )
+        cls.p3 = Publisher.objects.create(name="Prentice Hall", num_awards=7)
+        cls.p4 = Publisher.objects.create(name="Morgan Kaufmann", num_awards=9)
+
+        cls.b1 = Book.objects.create(
+            isbn="159059725",
+            name="The Definitive Guide to Django: Web Development Done Right",
+            pages=447,
+            rating=4.5,
+            price=Decimal("30.00"),
+            contact=cls.a1,
+            publisher=cls.p1,
+            pubdate=datetime.date(2007, 12, 6),
+        )
+        cls.b2 = Book.objects.create(
+            isbn="067232959",
+            name="Sams Teach Yourself Django in 24 Hours",
+            pages=528,
+            rating=3.0,
+            price=Decimal("23.09"),
+            contact=cls.a3,
+            publisher=cls.p2,
+            pubdate=datetime.date(2008, 3, 3),
+        )
+
+    def test_aggregate_default_after_annotate(self):
+        """
+        aggregate() with a 'default' value after annotate() should not crash.
+        """
+        result = Book.objects.annotate(idx=F("id")).aggregate(Sum("id", default=0))
+        expected_sum = sum(Book.objects.values_list("id", flat=True))
+        self.assertEqual(result, {"id__sum": expected_sum})
