2025-12-21 14:30:35,579 - thread-130546514527936.app.docker.base_container - INFO - Created temporary project directory: /tmp/tmp6tsl_65w/astropy
2025-12-21 14:30:35,579 - thread-130546514527936.app.docker.base_container - DEBUG - Using workdir: /testbed
2025-12-21 14:30:35,579 - thread-130546514527936.app.docker.base_container - INFO - Pulling docker image: swebench/sweb.eval.x86_64.astropy_1776_astropy-14365:v1
2025-12-21 14:30:36,081 - thread-130546514527936.app.docker.base_container - INFO - Tagging pulled image as: prometheus_user_defined_container_abe5f554a0
2025-12-21 14:30:36,090 - thread-130546514527936.app.docker.base_container - INFO - Starting container from image prometheus_user_defined_container_abe5f554a0
2025-12-21 14:30:36,264 - thread-130546514527936.app.docker.base_container - INFO - Starting persistent shell for interactive mode...
2025-12-21 14:30:37,152 - thread-130546514527936.app.docker.base_container - INFO - Persistent shell is ready
2025-12-21 14:30:37,152 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: . /opt/miniconda3/bin/activate
2025-12-21 14:30:37,375 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:30:37,375 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:


2025-12-21 14:30:37,376 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: conda activate testbed
2025-12-21 14:30:37,598 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:30:37,598 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:


2025-12-21 14:30:37,598 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: python -m pip install -e .[test] --verbose
2025-12-21 14:31:58,851 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:31:58,851 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:
[A(testbed) root@ucl-research:/testbed# python -m pip install -e .[test] --verbos[Ke

Using pip 24.2 from /opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip (python 3.9)
Obtaining file:///testbed
  Running command pip subprocess to install build dependencies
  Using pip 24.2 from /opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip (python 3.9)
  Collecting setuptools==68.0.0
    Obtaining dependency information for setuptools==68.0.0 from https://files.pythonhosted.org/packages/c7/42/be1c7bbdd83e1bfb160c94b9cafd8e25efc7400346cf7ccdbdb452c467fa/setuptools-68.0.0-py3-none-any.whl.metadata
    Using cached setuptools-68.0.0-py3-none-any.whl.metadata (6.4 kB)
  Collecting setuptools_scm>=6.2
    Obtaining dependency information for setuptools_scm>=6.2 from https://files.pythonhosted.org/packages/3d/ea/ac2bf868899d0d2e82ef72d350d97a846110c709bacf2d968431576ca915/setuptools_scm-9.2.2-py3-none-any.whl.metadata
    Downloading setuptools_scm-9.2.2-py3-none-any.whl.metadata (7.7 kB)
  Collecting wheel
    Obtaining dependency information for wheel from https://files.pythonhosted.org/packages/0b/2c/87f3254fd8ffd29e4c02732eee68a83a1d3c346ae39bc6822dcbcb697f2b/wheel-0.45.1-py3-none-any.whl.metadata
    Downloading wheel-0.45.1-py3-none-any.whl.metadata (2.3 kB)
  Collecting cython==0.29.30
    Obtaining dependency information for cython==0.29.30 from https://files.pythonhosted.org/packages/a7/c6/3af0df983ba8500831fdae19a515be6e532da7683ab98e031d803e6a8d03/Cython-0.29.30-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl.metadata
    Using cached Cython-0.29.30-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl.metadata (2.8 kB)
  Collecting oldest-supported-numpy
    Obtaining dependency information for oldest-supported-numpy from https://files.pythonhosted.org/packages/dc/5c/e3c84cfdd488701aa074b22cf5bd227fb15d26e1d55a66d9088c39afa123/oldest_supported_numpy-2023.12.21-py3-none-any.whl.metadata
    Using cached oldest_supported_numpy-2023.12.21-py3-none-any.whl.metadata (9.8 kB)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/88/ff/5a7cd8c9698628b3c04215ee3a96c69865477f451b4f096682e78d085bfc/extension_helpers-1.3.0-py3-none-any.whl (from https://pypi.org/simple/extension-helpers/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/8e/b1/73ce2924fe46281faf31567e96fb9eee4eca02fd1cb852562bb2971e9df1/extension_helpers-1.3.0.tar.gz (from https://pypi.org/simple/extension-helpers/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/f8/fb/f9a88ccea5377736d5d1e53c8a6c70207178cdc1ebbf305a50a610cbb751/extension_helpers-1.4.0-py3-none-any.whl (from https://pypi.org/simple/extension-helpers/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/24/51/d03359b683ed288b34d713dea97d2aee87a9bd866af1652554d9f643b47d/extension_helpers-1.4.0.tar.gz (from https://pypi.org/simple/extension-helpers/) (requires-python:>=3.10)
  Collecting extension-helpers
    Obtaining dependency information for extension-helpers from https://files.pythonhosted.org/packages/b3/0e/22599eac9e50f4274e78e47cef7e760d7a1bb2f0d0fdfb0bb5b0d2da263a/extension_helpers-1.2.0-py3-none-any.whl.metadata
    Using cached extension_helpers-1.2.0-py3-none-any.whl.metadata (2.2 kB)
  Collecting packaging>=20 (from setuptools_scm>=6.2)
    Obtaining dependency information for packaging>=20 from https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl.metadata
    Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
  Collecting tomli>=1 (from setuptools_scm>=6.2)
    Obtaining dependency information for tomli>=1 from https://files.pythonhosted.org/packages/77/b8/0135fadc89e73be292b473cb820b4f5a08197779206b33191e801feeae40/tomli-2.3.0-py3-none-any.whl.metadata
    Downloading tomli-2.3.0-py3-none-any.whl.metadata (10 kB)
  Collecting typing-extensions (from setuptools_scm>=6.2)
    Obtaining dependency information for typing-extensions from https://files.pythonhosted.org/packages/18/67/36e9267722cc04a6b9f15c7f3441c2363321a3ea07da7ae0c0707beb2a9c/typing_extensions-4.15.0-py3-none-any.whl.metadata
    Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/54/a4/f8188c4f3e07f7737683588210c073478abcb542048cf4ab6fedad0b458a/numpy-2.1.0.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/59/5f/9003bb3e632f2b58f5e3a3378902dcc73c5518070736c6740fe52454e8e1/numpy-2.1.1.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/4b/d1/8a730ea07f4a37d94f9172f4ce1d81064b7a64766b460378be278952de75/numpy-2.1.2.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/25/ca/1166b75c21abd1da445b97bf1fa2f14f423c6cfb4fc7c4ef31dccf9f6a94/numpy-2.1.3.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/47/1b/1d565e0f6e156e1522ab564176b8b29d71e13d8caf003a08768df3d5cec5/numpy-2.2.0.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/f2/a5/fdbf6a7871703df6160b5cf3dd774074b086d278172285c52c2758b76305/numpy-2.2.1.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/ec/d0/c12ddfd3a02274be06ffc71f3efc6d0e457b0409c4481596881e748cb264/numpy-2.2.2.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/fb/90/8956572f5c4ae52201fdec7ba2044b2c882832dcec7d5d0922c9e9acf2de/numpy-2.2.3.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/e1/78/31103410a57bc2c2b93a3597340a8119588571f6a4539067546cb9a0bfac/numpy-2.2.4.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/dc/b2/ce4b867d8cd9c0ee84938ae1e6a6f7926ebf928c9090d036fc3c6a04f946/numpy-2.2.5.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.10'): https://files.pythonhosted.org/packages/76/21/7d2a95e4bba9dc13d043ee156a356c0a8f0c6309dff6b21b4d71a073b8a8/numpy-2.2.6.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.10)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/f3/db/8e12381333aea300890829a0a36bfa738cac95475d88982d538725143fd9/numpy-2.3.0.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/2e/19/d7c972dfe90a353dbd3efbbe1d14a5951de80c99c9dc1b93cd998d51dc0f/numpy-2.3.1.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/37/7d/3fec4199c5ffb892bed55cff901e4f39a58c81df9c44c280499e92cad264/numpy-2.3.2.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/d0/19/95b3d357407220ed24c139018d2518fab0a61a948e68286a25f1a4d049ff/numpy-2.3.3.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/b5/f4/098d2270d52b41f1bd7db9fc288aaa0400cb48c2a3e2af6fa365d9720947/numpy-2.3.4.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/76/65/21b3bc86aac7b8f2862db1e808f1ea22b028e30a225a34a5ede9bf8678f2/numpy-2.3.5.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/12/02/7111f298e24a44d6fa4b75b47d93eccf444e5afbcee5b04aac760ee48935/numpy-2.4.0rc1.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
    Link requires a different Python (3.9.20 not in: '>=3.11'): https://files.pythonhosted.org/packages/a4/7a/6a3d14e205d292b738db449d0de649b373a59edb0d0b4493821d0a3e8718/numpy-2.4.0.tar.gz (from https://pypi.org/simple/numpy/) (requires-python:>=3.11)
  Collecting numpy==1.19.3 (from oldest-supported-numpy)
    Obtaining dependency information for numpy==1.19.3 from https://files.pythonhosted.org/packages/c3/8d/2ae53d96a92a66b8daa3dfb2dd6cf4bfcb8e3d4148bdd713c8fc7de83141/numpy-1.19.3-cp39-cp39-manylinux2010_x86_64.whl.metadata
    Using cached numpy-1.19.3-cp39-cp39-manylinux2010_x86_64.whl.metadata (2.0 kB)
  Using cached setuptools-68.0.0-py3-none-any.whl (804 kB)
  Using cached Cython-0.29.30-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (2.0 MB)
  Downloading setuptools_scm-9.2.2-py3-none-any.whl (62 kB)
  Downloading wheel-0.45.1-py3-none-any.whl (72 kB)
  Using cached oldest_supported_numpy-2023.12.21-py3-none-any.whl (4.9 kB)
  Using cached numpy-1.19.3-cp39-cp39-manylinux2010_x86_64.whl (14.9 MB)
  Using cached extension_helpers-1.2.0-py3-none-any.whl (23 kB)
  Downloading packaging-25.0-py3-none-any.whl (66 kB)
  Downloading tomli-2.3.0-py3-none-any.whl (14 kB)
  Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
  Installing collected packages: wheel, typing-extensions, tomli, setuptools, packaging, numpy, cython, setuptools_scm, oldest-supported-numpy, extension-helpers
    Creating /tmp/pip-build-env-j5bdbf1w/overlay/bin
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/wheel to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/f2py to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/f2py3 to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/f2py3.9 to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/cygdb to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/cython to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/cythonize to 755
    changing mode of /tmp/pip-build-env-j5bdbf1w/overlay/bin/setuptools-scm to 755
  ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
  astropy 5.3.dev882+g7269fa3e33.d20241024 requires numpy>=1.21, but you have numpy 1.19.3 which is incompatible.
  Successfully installed cython-0.29.30 extension-helpers-1.2.0 numpy-1.19.3 oldest-supported-numpy-2023.12.21 packaging-25.0 setuptools-68.0.0 setuptools_scm-9.2.2 tomli-2.3.0 typing-extensions-4.15.0 wheel-0.45.1
  WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
  Installing build dependencies ... [?25l[?25hdone
  Running command Checking if build backend supports build_editable
  Checking if build backend supports build_editable ... [?25l[?25hdone
  Running command Getting requirements to build editable
  running egg_info
  writing astropy.egg-info/PKG-INFO
  writing dependency_links to astropy.egg-info/dependency_links.txt
  writing entry points to astropy.egg-info/entry_points.txt
  writing requirements to astropy.egg-info/requires.txt
  writing top-level names to astropy.egg-info/top_level.txt
  reading manifest template 'MANIFEST.in'
  no previously-included directories found matching 'docs/_build'
  no previously-included directories found matching 'build'
  warning: no previously-included files matching '*.pyc' found anywhere in distribution
  warning: no previously-included files matching '*.o' found anywhere in distribution
  adding license file 'LICENSE.rst'
  writing manifest file 'astropy.egg-info/SOURCES.txt'
  Getting requirements to build editable ... [?25l[?25hdone
  Running command Preparing editable metadata (pyproject.toml)
  running dist_info
  creating /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info
  writing /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/PKG-INFO
  writing dependency_links to /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/dependency_links.txt
  writing entry points to /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/entry_points.txt
  writing requirements to /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/requires.txt
  writing top-level names to /tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/top_level.txt
  writing manifest file '/tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/SOURCES.txt'
  reading manifest template 'MANIFEST.in'
  no previously-included directories found matching 'docs/_build'
  no previously-included directories found matching 'build'
  warning: no previously-included files matching '*.pyc' found anywhere in distribution
  warning: no previously-included files matching '*.o' found anywhere in distribution
  adding license file 'LICENSE.rst'
  writing manifest file '/tmp/pip-modern-metadata-wpi0k93w/astropy.egg-info/SOURCES.txt'
  creating '/tmp/pip-modern-metadata-wpi0k93w/astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info'
  Preparing editable metadata (pyproject.toml) ... [?25l[?25hdone
Requirement already satisfied: numpy>=1.21 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (1.25.2)
Requirement already satisfied: pyerfa>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (2.0.0.3)
Requirement already satisfied: PyYAML>=3.13 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (6.0.1)
Requirement already satisfied: packaging>=19.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (23.1)
Requirement already satisfied: pytest>=7.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (7.4.0)
Requirement already satisfied: pytest-doctestplus>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (1.0.0)
Requirement already satisfied: pytest-astropy-header>=0.2.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (0.2.2)
Requirement already satisfied: pytest-astropy>=0.10 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (0.10.0)
Requirement already satisfied: pytest-xdist in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==5.3.dev882+g7269fa3e3.d20251221) (3.3.1)
Requirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==5.3.dev882+g7269fa3e3.d20251221) (2.0.0)
Requirement already satisfied: pluggy<2.0,>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==5.3.dev882+g7269fa3e3.d20251221) (1.3.0)
Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==5.3.dev882+g7269fa3e3.d20251221) (1.1.3)
Requirement already satisfied: tomli>=1.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==5.3.dev882+g7269fa3e3.d20251221) (2.0.1)
Requirement already satisfied: pytest-remotedata>=0.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (0.4.0)
Requirement already satisfied: pytest-openfiles>=0.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (0.5.0)
Requirement already satisfied: pytest-arraydiff>=0.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (0.5.0)
Requirement already satisfied: pytest-filter-subpackage>=0.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (0.1.2)
Requirement already satisfied: pytest-cov>=2.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (4.1.0)
Requirement already satisfied: pytest-mock>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (3.11.1)
Requirement already satisfied: attrs>=19.2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (23.1.0)
Requirement already satisfied: hypothesis>=5.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (6.82.6)
Requirement already satisfied: setuptools>=30.3.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-doctestplus>=0.12->astropy==5.3.dev882+g7269fa3e3.d20251221) (68.0.0)
Requirement already satisfied: execnet>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-xdist->astropy==5.3.dev882+g7269fa3e3.d20251221) (2.0.2)
Requirement already satisfied: sortedcontainers<3.0.0,>=2.1.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from hypothesis>=5.1->pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (2.4.0)
Requirement already satisfied: coverage>=5.2.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from coverage[toml]>=5.2.1->pytest-cov>=2.3.1->pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (7.6.2)
Requirement already satisfied: psutil in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-openfiles>=0.3.1->pytest-astropy>=0.10->astropy==5.3.dev882+g7269fa3e3.d20251221) (5.9.5)
Building wheels for collected packages: astropy
  Running command Building editable for astropy (pyproject.toml)
  running editable_wheel
  creating /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info
  writing /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/PKG-INFO
  writing dependency_links to /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/dependency_links.txt
  writing entry points to /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/entry_points.txt
  writing requirements to /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/requires.txt
  writing top-level names to /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/top_level.txt
  writing manifest file '/tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/SOURCES.txt'
  reading manifest template 'MANIFEST.in'
  no previously-included directories found matching 'docs/_build'
  no previously-included directories found matching 'build'
  warning: no previously-included files matching '*.pyc' found anywhere in distribution
  warning: no previously-included files matching '*.o' found anywhere in distribution
  adding license file 'LICENSE.rst'
  writing manifest file '/tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy.egg-info/SOURCES.txt'
  creating '/tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info'
  creating /tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/WHEEL
  running build_py
  running build_ext
  skipping 'astropy/table/_np_utils.c' Cython extension (up-to-date)
  skipping 'astropy/table/_column_mixins.c' Cython extension (up-to-date)
  skipping 'astropy/convolution/_convolve.c' Cython extension (up-to-date)
  skipping 'astropy/timeseries/periodograms/bls/_impl.c' Cython extension (up-to-date)
  skipping 'astropy/io/ascii/cparser.c' Cython extension (up-to-date)
  skipping './astropy/stats/_stats.c' Cython extension (up-to-date)
  skipping './astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.c' Cython extension (up-to-date)
  skipping './astropy/cosmology/flrw/scalar_inv_efuncs.c' Cython extension (up-to-date)
  skipping './astropy/io/fits/_utils.c' Cython extension (up-to-date)
  building 'astropy.table._np_utils' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/table
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/table/_np_utils.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/table/_np_utils.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/table/_np_utils.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  creating /tmp/tmpesn68uhc.build-lib/astropy
  creating /tmp/tmpesn68uhc.build-lib/astropy/table
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/table/_np_utils.o -o /tmp/tmpesn68uhc.build-lib/astropy/table/_np_utils.cpython-39-x86_64-linux-gnu.so
  building 'astropy.table._column_mixins' extension
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/table/_column_mixins.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/table/_column_mixins.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/table/_column_mixins.c:696:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:21,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/table/_column_mixins.c:696:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/__multiarray_api.h:1463:1: warning: â€˜_import_arrayâ€™ defined but not used [-Wunused-function]
   1463 | _import_array(void)
        | ^~~~~~~~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/table/_column_mixins.o -o /tmp/tmpesn68uhc.build-lib/astropy/table/_column_mixins.cpython-39-x86_64-linux-gnu.so
  building 'astropy.utils._compiler' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/utils
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/utils/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/utils/src/compiler.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/utils/src/compiler.o
  creating /tmp/tmpesn68uhc.build-lib/astropy/utils
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/utils/src/compiler.o -o /tmp/tmpesn68uhc.build-lib/astropy/utils/_compiler.cpython-39-x86_64-linux-gnu.so
  building 'astropy.stats._fast_sigma_clip' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/stats
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/stats/src/compute_bounds.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/compute_bounds.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/stats/src/fast_sigma_clip.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/fast_sigma_clip.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/stats/src/wirth_select.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/wirth_select.o
  creating /tmp/tmpesn68uhc.build-lib/astropy/stats
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/compute_bounds.o /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/fast_sigma_clip.o /tmp/tmpb7iyc9b0.build-temp/astropy/stats/src/wirth_select.o -o /tmp/tmpesn68uhc.build-lib/astropy/stats/_fast_sigma_clip.cpython-39-x86_64-linux-gnu.so
  building 'astropy.convolution._convolve' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/convolution
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/convolution/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/convolution/_convolve.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/convolution/_convolve.o -UNDEBUG -fPIC
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/convolution/_convolve.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  In file included from astropy/convolution/_convolve.c:703:
  astropy/convolution/src/convolve.h:88:19: warning: inline function â€˜convolve3dâ€™ declared but never defined
     88 | FORCE_INLINE void convolve3d(DTYPE * const result,
        |                   ^~~~~~~~~~
  astropy/convolution/src/convolve.h:74:19: warning: inline function â€˜convolve2dâ€™ declared but never defined
     74 | FORCE_INLINE void convolve2d(DTYPE * const result,
        |                   ^~~~~~~~~~
  astropy/convolution/src/convolve.h:60:19: warning: inline function â€˜convolve1dâ€™ declared but never defined
     60 | FORCE_INLINE void convolve1d(DTYPE * const result,
        |                   ^~~~~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/convolution/src/convolve.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/convolution/src/convolve.o -UNDEBUG -fPIC
  creating /tmp/tmpesn68uhc.build-lib/astropy/convolution
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/convolution/_convolve.o /tmp/tmpb7iyc9b0.build-temp/astropy/convolution/src/convolve.o -o /tmp/tmpesn68uhc.build-lib/astropy/convolution/_convolve.cpython-39-x86_64-linux-gnu.so
  building 'astropy.time._parse_times' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/time
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/time/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/time/src/parse_times.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/time/src/parse_times.o
  creating /tmp/tmpesn68uhc.build-lib/astropy/time
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/time/src/parse_times.o -o /tmp/tmpesn68uhc.build-lib/astropy/time/_parse_times.cpython-39-x86_64-linux-gnu.so
  building 'astropy.wcs._wcs' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/wcs
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src
  creating /tmp/tmpb7iyc9b0.build-temp/cextern
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/astropy_wcs.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/astropy_wcs.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/astropy_wcs_api.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/astropy_wcs_api.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/distortion.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/distortion.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/distortion_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/distortion_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/docstrings.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/docstrings.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/pipeline.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/pipeline.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/pyutil.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/pyutil.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  In file included from /usr/include/string.h:535,
                   from /opt/miniconda3/envs/testbed/include/python3.9/Python.h:30,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:13,
                   from astropy/wcs/src/pyutil.c:9:
  In function â€˜strncpyâ€™,
      inlined from â€˜set_pscardsâ€™ at astropy/wcs/src/pyutil.c:807:5:
  /usr/include/x86_64-linux-gnu/bits/string_fortified.h:95:10: warning: â€˜__builtin_strncpyâ€™ specified bound 72 equals destination size [-Wstringop-truncation]
     95 |   return __builtin___strncpy_chk (__dest, __src, __len,
        |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     96 |                                   __glibc_objsize (__dest));
        |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/sip.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/sip.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/sip_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/sip_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/str_list_proxy.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/str_list_proxy.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/unit_list_proxy.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/unit_list_proxy.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/util.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/util.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_auxprm_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_auxprm_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_celprm_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_celprm_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  astropy/wcs/src/wcslib_celprm_wrap.c: In function â€˜PyCelprm_deepcopyâ€™:
  astropy/wcs/src/wcslib_celprm_wrap.c:167:22: warning: initialization of â€˜PyCelprm *â€™ from incompatible pointer type â€˜PyObject *â€™ {aka â€˜struct _object *â€™} [-Wincompatible-pointer-types]
    167 |     PyCelprm* copy = PyCelprm_new(&PyCelprmType, NULL, NULL);
        |                      ^~~~~~~~~~~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_celprm_wrap.c:3:
  astropy/wcs/src/wcslib_celprm_wrap.c: In function â€˜PyCelprm_set_refâ€™:
  astropy/wcs/src/wcslib_celprm_wrap.c:327:25: warning: passing argument 1 of â€˜PyArray_DIMSâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    327 |     size = PyArray_SIZE(value_array);
        |                         ^~~~~~~~~~~
        |                         |
        |                         PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:59: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                           ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_celprm_wrap.c:3:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1487:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1487 | PyArray_DIMS(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_celprm_wrap.c:3:
  astropy/wcs/src/wcslib_celprm_wrap.c:327:25: warning: passing argument 1 of â€˜PyArray_NDIMâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    327 |     size = PyArray_SIZE(value_array);
        |                         ^~~~~~~~~~~
        |                         |
        |                         PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:76: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                                            ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_celprm_wrap.c:3:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1469:35: note: expected â€˜const PyArrayObject *â€™ {aka â€˜const struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1469 | PyArray_NDIM(const PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~~~~~~~^~~
  astropy/wcs/src/wcslib_celprm_wrap.c:348:35: warning: passing argument 1 of â€˜PyArray_DATAâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    348 |     data = (double*) PyArray_DATA(value_array);
        |                                   ^~~~~~~~~~~
        |                                   |
        |                                   PyObject * {aka struct _object *}
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_celprm_wrap.c:3:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1475:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1475 | PyArray_DATA(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_prjprm_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_prjprm_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_deepcopyâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:149:22: warning: initialization of â€˜PyPrjprm *â€™ from incompatible pointer type â€˜PyObject *â€™ {aka â€˜struct _object *â€™} [-Wincompatible-pointer-types]
    149 |     PyPrjprm* copy = PyPrjprm_new(&PyPrjprmType, NULL, NULL);
        |                      ^~~~~~~~~~~~
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_get_pvâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:517:14: warning: assignment to â€˜PyObject *â€™ {aka â€˜struct _object *â€™} from incompatible pointer type â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} [-Wincompatible-pointer-types]
    517 |     pv_array = (PyArrayObject*) PyArray_SimpleNew(1, &size, NPY_DOUBLE);
        |              ^
  astropy/wcs/src/wcslib_prjprm_wrap.c:519:33: warning: passing argument 1 of â€˜PyArray_DATAâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    519 |     pv = (double*) PyArray_DATA(pv_array);
        |                                 ^~~~~~~~
        |                                 |
        |                                 PyObject * {aka struct _object *}
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1475:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1475 | PyArray_DATA(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_set_pvâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:556:25: warning: passing argument 1 of â€˜PyArray_DIMSâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    556 |     size = PyArray_SIZE(value_array);
        |                         ^~~~~~~~~~~
        |                         |
        |                         PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:59: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                           ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1487:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1487 | PyArray_DIMS(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c:556:25: warning: passing argument 1 of â€˜PyArray_NDIMâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    556 |     size = PyArray_SIZE(value_array);
        |                         ^~~~~~~~~~~
        |                         |
        |                         PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:76: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                                            ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1469:35: note: expected â€˜const PyArrayObject *â€™ {aka â€˜const struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1469 | PyArray_NDIM(const PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~~~~~~~^~~
  astropy/wcs/src/wcslib_prjprm_wrap.c:583:35: warning: passing argument 1 of â€˜PyArray_DATAâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    583 |     data = (double*) PyArray_DATA(value_array);
        |                                   ^~~~~~~~~~~
        |                                   |
        |                                   PyObject * {aka struct _object *}
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1475:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1475 | PyArray_DATA(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_get_pviâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:615:15: warning: unused variable â€˜valueâ€™ [-Wunused-variable]
    615 |     PyObject* value = NULL;
        |               ^~~~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_set_pviâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:712:29: warning: passing argument 1 of â€˜PyArray_DIMSâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    712 |         size = PyArray_SIZE(value_array);
        |                             ^~~~~~~~~~~
        |                             |
        |                             PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:59: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                           ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1487:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1487 | PyArray_DIMS(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c:712:29: warning: passing argument 1 of â€˜PyArray_NDIMâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    712 |         size = PyArray_SIZE(value_array);
        |                             ^~~~~~~~~~~
        |                             |
        |                             PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:73:76: note: in definition of macro â€˜PyArray_SIZEâ€™
     73 | #define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))
        |                                                                            ^
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1469:35: note: expected â€˜const PyArrayObject *â€™ {aka â€˜const struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1469 | PyArray_NDIM(const PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c:720:48: warning: passing argument 1 of â€˜PyArray_DATAâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    720 |         scalar = PyArray_ToScalar(PyArray_DATA(value_array), value_array);
        |                                                ^~~~~~~~~~~
        |                                                |
        |                                                PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:129:24: note: in definition of macro â€˜PyArray_ToScalarâ€™
    129 |         PyArray_Scalar(data, PyArray_DESCR(arr), (PyObject *)arr)
        |                        ^~~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1475:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1475 | PyArray_DATA(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  astropy/wcs/src/wcslib_prjprm_wrap.c:720:62: warning: passing argument 1 of â€˜PyArray_DESCRâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    720 |         scalar = PyArray_ToScalar(PyArray_DATA(value_array), value_array);
        |                                                              ^~~~~~~~~~~
        |                                                              |
        |                                                              PyObject * {aka struct _object *}
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:129:44: note: in definition of macro â€˜PyArray_ToScalarâ€™
    129 |         PyArray_Scalar(data, PyArray_DESCR(arr), (PyObject *)arr)
        |                                            ^~~
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1517:30: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1517 | PyArray_DESCR(PyArrayObject *arr)
        |               ~~~~~~~~~~~~~~~^~~
  astropy/wcs/src/wcslib_prjprm_wrap.c: In function â€˜PyPrjprm_get_wâ€™:
  astropy/wcs/src/wcslib_prjprm_wrap.c:780:32: warning: passing argument 1 of â€˜PyArray_DATAâ€™ from incompatible pointer type [-Wincompatible-pointer-types]
    780 |     w = (double*) PyArray_DATA(w_array);
        |                                ^~~~~~~
        |                                |
        |                                PyObject * {aka struct _object *}
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:16,
                   from astropy/wcs/include/astropy_wcs/wcslib_celprm_wrap.h:4,
                   from astropy/wcs/src/wcslib_prjprm_wrap.c:5:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1475:29: note: expected â€˜PyArrayObject *â€™ {aka â€˜struct tagPyArrayObject *â€™} but argument is of type â€˜PyObject *â€™ {aka â€˜struct _object *â€™}
   1475 | PyArray_DATA(PyArrayObject *arr)
        |              ~~~~~~~~~~~~~~~^~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_tabprm_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_tabprm_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  In file included from /usr/include/string.h:535,
                   from /opt/miniconda3/envs/testbed/include/python3.9/Python.h:30,
                   from astropy/wcs/include/astropy_wcs/pyutil.h:13,
                   from astropy/wcs/include/astropy_wcs/wcslib_wrap.h:8,
                   from astropy/wcs/src/wcslib_wrap.c:8:
  In function â€˜strncpyâ€™,
      inlined from â€˜PyWcsprm_sptrâ€™ at astropy/wcs/src/wcslib_wrap.c:1756:3:
  /usr/include/x86_64-linux-gnu/bits/string_fortified.h:95:10: warning: â€˜__builtin_strncpyâ€™ specified bound 9 equals destination size [-Wstringop-truncation]
     95 |   return __builtin___strncpy_chk (__dest, __src, __len,
        |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     96 |                                   __glibc_objsize (__dest));
        |                                   ~~~~~~~~~~~~~~~~~~~~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/wcs/src/wcslib_wtbarr_wrap.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_wtbarr_wrap.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/cel.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/cel.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/dis.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/dis.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/flexed/wcsbth.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsbth.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/flexed/wcspih.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcspih.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/flexed/wcsulex.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsulex.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/flexed/wcsutrn.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsutrn.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/lin.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/lin.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/log.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/log.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/prj.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/prj.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/spc.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/spc.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/sph.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/sph.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/spx.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/spx.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/tab.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/tab.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcs.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcs.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcserr.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcserr.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcsfix.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsfix.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcshdr.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcshdr.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcsprintf.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsprintf.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcsunits.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsunits.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DECHO -DWCSTRIG_MACRO -DASTROPY_WCS_BUILD -D_GNU_SOURCE -DNDEBUG -DHAVE_SINCOS -UDEBUG -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -Icextern/wcslib/C -Iastropy/wcs/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/wcslib/C/wcsutil.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsutil.o -std=gnu99 -Wno-strict-prototypes -Wno-unused-function -Wno-unused-value -Wno-uninitialized
  creating /tmp/tmpesn68uhc.build-lib/astropy/wcs
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/astropy_wcs.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/astropy_wcs_api.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/distortion.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/distortion_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/docstrings.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/pipeline.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/pyutil.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/sip.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/sip_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/str_list_proxy.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/unit_list_proxy.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/util.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_auxprm_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_celprm_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_prjprm_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_tabprm_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_wrap.o /tmp/tmpb7iyc9b0.build-temp/astropy/wcs/src/wcslib_wtbarr_wrap.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/cel.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/dis.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsbth.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcspih.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsulex.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/flexed/wcsutrn.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/lin.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/log.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/prj.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/spc.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/sph.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/spx.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/tab.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcs.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcserr.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsfix.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcshdr.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsprintf.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsunits.o /tmp/tmpb7iyc9b0.build-temp/cextern/wcslib/C/wcsutil.o -o /tmp/tmpesn68uhc.build-lib/astropy/wcs/_wcs.cpython-39-x86_64-linux-gnu.so
  building 'astropy.utils.xml._iterparser' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/utils/xml
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/utils/xml/src
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/expat
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DHAVE_EXPAT_CONFIG_H=1 -DBYTEORDER=1234 -DHAVE_UNISTD_H -Iastropy/utils/xml/src -Icextern/expat/lib -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/utils/xml/src/iterparse.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/utils/xml/src/iterparse.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DHAVE_EXPAT_CONFIG_H=1 -DBYTEORDER=1234 -DHAVE_UNISTD_H -Iastropy/utils/xml/src -Icextern/expat/lib -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/expat/lib/xmlparse.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmlparse.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DHAVE_EXPAT_CONFIG_H=1 -DBYTEORDER=1234 -DHAVE_UNISTD_H -Iastropy/utils/xml/src -Icextern/expat/lib -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/expat/lib/xmlrole.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmlrole.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DHAVE_EXPAT_CONFIG_H=1 -DBYTEORDER=1234 -DHAVE_UNISTD_H -Iastropy/utils/xml/src -Icextern/expat/lib -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/expat/lib/xmltok.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmltok.o
  In file included from cextern/expat/lib/xmltok.c:55:
  cextern/expat/lib/xmltok_ns.c: In function â€˜findEncodingNSâ€™:
  cextern/expat/lib/xmltok.h:272:10: warning: â€˜bufâ€™ may be used uninitialized [-Wmaybe-uninitialized]
    272 |   (((enc)->utf8Convert)(enc, fromP, fromLim, toP, toLim))
        |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  cextern/expat/lib/xmltok_ns.c:95:3: note: in expansion of macro â€˜XmlUtf8Convertâ€™
     95 |   XmlUtf8Convert(enc, &ptr, end, &p, p + ENCODING_MAX - 1);
        |   ^~~~~~~~~~~~~~
  cextern/expat/lib/xmltok.h:272:10: note: by argument 5 of type â€˜const char *â€™ to â€˜enum XML_Convert_Result(const ENCODING *, const char **, const char *, char **, const char *)â€™ {aka â€˜enum XML_Convert_Result(const struct encoding *, const char **, const char *, char **, const char *)â€™}
    272 |   (((enc)->utf8Convert)(enc, fromP, fromLim, toP, toLim))
        |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  cextern/expat/lib/xmltok_ns.c:95:3: note: in expansion of macro â€˜XmlUtf8Convertâ€™
     95 |   XmlUtf8Convert(enc, &ptr, end, &p, p + ENCODING_MAX - 1);
        |   ^~~~~~~~~~~~~~
  In file included from cextern/expat/lib/xmltok.c:1657:
  cextern/expat/lib/xmltok_ns.c:92:8: note: â€˜bufâ€™ declared here
     92 |   char buf[ENCODING_MAX];
        |        ^~~
  In file included from cextern/expat/lib/xmltok.c:55:
  cextern/expat/lib/xmltok_ns.c: In function â€˜findEncodingâ€™:
  cextern/expat/lib/xmltok.h:272:10: warning: â€˜bufâ€™ may be used uninitialized [-Wmaybe-uninitialized]
    272 |   (((enc)->utf8Convert)(enc, fromP, fromLim, toP, toLim))
        |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  cextern/expat/lib/xmltok_ns.c:95:3: note: in expansion of macro â€˜XmlUtf8Convertâ€™
     95 |   XmlUtf8Convert(enc, &ptr, end, &p, p + ENCODING_MAX - 1);
        |   ^~~~~~~~~~~~~~
  cextern/expat/lib/xmltok.h:272:10: note: by argument 5 of type â€˜const char *â€™ to â€˜enum XML_Convert_Result(const ENCODING *, const char **, const char *, char **, const char *)â€™ {aka â€˜enum XML_Convert_Result(const struct encoding *, const char **, const char *, char **, const char *)â€™}
    272 |   (((enc)->utf8Convert)(enc, fromP, fromLim, toP, toLim))
        |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  cextern/expat/lib/xmltok_ns.c:95:3: note: in expansion of macro â€˜XmlUtf8Convertâ€™
     95 |   XmlUtf8Convert(enc, &ptr, end, &p, p + ENCODING_MAX - 1);
        |   ^~~~~~~~~~~~~~
  In file included from cextern/expat/lib/xmltok.c:1646:
  cextern/expat/lib/xmltok_ns.c:92:8: note: â€˜bufâ€™ declared here
     92 |   char buf[ENCODING_MAX];
        |        ^~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -DHAVE_EXPAT_CONFIG_H=1 -DBYTEORDER=1234 -DHAVE_UNISTD_H -Iastropy/utils/xml/src -Icextern/expat/lib -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/expat/lib/xmltok_impl.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmltok_impl.o
  creating /tmp/tmpesn68uhc.build-lib/astropy/utils/xml
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/utils/xml/src/iterparse.o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmlparse.o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmlrole.o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmltok.o /tmp/tmpb7iyc9b0.build-temp/cextern/expat/lib/xmltok_impl.o -o /tmp/tmpesn68uhc.build-lib/astropy/utils/xml/_iterparser.cpython-39-x86_64-linux-gnu.so -Wl,--version-script=astropy/utils/xml/src/iterparse.map
  building 'astropy.timeseries.periodograms.bls._impl' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/bls
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/timeseries/periodograms/bls/_impl.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/bls/_impl.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/timeseries/periodograms/bls/_impl.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/timeseries/periodograms/bls/bls.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/bls/bls.o
  astropy/timeseries/periodograms/bls/bls.c: In function â€˜run_blsâ€™:
  astropy/timeseries/periodograms/bls/bls.c:92: warning: ignoring â€˜#pragma omp parallelâ€™ [-Wunknown-pragmas]
     92 | #pragma omp parallel
        |
  astropy/timeseries/periodograms/bls/bls.c:116: warning: ignoring â€˜#pragma omp parallelâ€™ [-Wunknown-pragmas]
    116 |     #pragma omp parallel for reduction(+:sum_y), reduction(+:sum_ivar)
        |
  astropy/timeseries/periodograms/bls/bls.c:125: warning: ignoring â€˜#pragma omp parallelâ€™ [-Wunknown-pragmas]
    125 |     #pragma omp parallel for
        |
  creating /tmp/tmpesn68uhc.build-lib/astropy/timeseries
  creating /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms
  creating /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/bls
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/bls/_impl.o /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/bls/bls.o -o /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/bls/_impl.cpython-39-x86_64-linux-gnu.so
  building 'astropy.io.votable.tablewriter' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/votable
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/votable/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/votable/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/io/votable/src/tablewriter.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/io/votable/src/tablewriter.o
  astropy/io/votable/src/tablewriter.c: In function â€˜write_tabledataâ€™:
  astropy/io/votable/src/tablewriter.c:270:30: warning: assignment discards â€˜constâ€™ qualifier from pointer target type [-Wdiscarded-qualifiers]
    270 |                 if ((str_tmp = PyUnicode_AsUTF8AndSize(str_val, &str_len)) == NULL) {
        |                              ^
  creating /tmp/tmpesn68uhc.build-lib/astropy/io
  creating /tmp/tmpesn68uhc.build-lib/astropy/io/votable
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/io/votable/src/tablewriter.o -o /tmp/tmpesn68uhc.build-lib/astropy/io/votable/tablewriter.cpython-39-x86_64-linux-gnu.so
  building 'astropy.io.ascii.cparser' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii/src
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/io/ascii/cparser.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii/cparser.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from astropy/io/ascii/cparser.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/io/ascii/src/tokenizer.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii/src/tokenizer.o
  astropy/io/ascii/src/tokenizer.c: In function â€˜pushâ€™:
  astropy/io/ascii/src/tokenizer.c:124:54: warning: comparison of integer expressions of different signedness: â€˜long intâ€™ and â€˜size_tâ€™ {aka â€˜long unsigned intâ€™} [-Wsign-compare]
    124 |     if (self->col_ptrs[col] - self->output_cols[col] >=
        |                                                      ^~
  astropy/io/ascii/src/tokenizer.c: In function â€˜tokenizeâ€™:
  astropy/io/ascii/src/tokenizer.c:424:42: warning: comparison of integer expressions of different signedness: â€˜size_tâ€™ {aka â€˜long unsigned intâ€™} and â€˜intâ€™ [-Wsign-compare]
    424 |                     if (self->source_pos == -1
        |                                          ^~
  creating /tmp/tmpesn68uhc.build-lib/astropy/io/ascii
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii/cparser.o /tmp/tmpb7iyc9b0.build-temp/astropy/io/ascii/src/tokenizer.o -o /tmp/tmpesn68uhc.build-lib/astropy/io/ascii/cparser.cpython-39-x86_64-linux-gnu.so
  building 'astropy.io.fits._tiled_compression._compression' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression/src
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio
  creating /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/io/fits/_tiled_compression/src/compression.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression/src/compression.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/io/fits/_tiled_compression/src/unquantize.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression/src/unquantize.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/cfitsio/lib/fits_hcompress.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/fits_hcompress.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/cfitsio/lib/fits_hdecompress.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/fits_hdecompress.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/cfitsio/lib/pliocomp.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/pliocomp.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/cfitsio/lib/quantize.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/quantize.o
  cextern/cfitsio/lib/quantize.c: In function â€˜quick_select_floatâ€™:
  cextern/cfitsio/lib/quantize.c:3722:5: warning: this â€˜ifâ€™ clause does not guard... [-Wmisleading-indentation]
   3722 |     if (hh <= median)
        |     ^~
  cextern/cfitsio/lib/quantize.c:3724:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the â€˜ifâ€™
   3724 |         if (hh >= median)
        |         ^~
  cextern/cfitsio/lib/quantize.c: In function â€˜quick_select_shortâ€™:
  cextern/cfitsio/lib/quantize.c:3778:5: warning: this â€˜ifâ€™ clause does not guard... [-Wmisleading-indentation]
   3778 |     if (hh <= median)
        |     ^~
  cextern/cfitsio/lib/quantize.c:3780:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the â€˜ifâ€™
   3780 |         if (hh >= median)
        |         ^~
  cextern/cfitsio/lib/quantize.c: In function â€˜quick_select_intâ€™:
  cextern/cfitsio/lib/quantize.c:3834:5: warning: this â€˜ifâ€™ clause does not guard... [-Wmisleading-indentation]
   3834 |     if (hh <= median)
        |     ^~
  cextern/cfitsio/lib/quantize.c:3836:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the â€˜ifâ€™
   3836 |         if (hh >= median)
        |         ^~
  cextern/cfitsio/lib/quantize.c: In function â€˜quick_select_longlongâ€™:
  cextern/cfitsio/lib/quantize.c:3890:5: warning: this â€˜ifâ€™ clause does not guard... [-Wmisleading-indentation]
   3890 |     if (hh <= median)
        |     ^~
  cextern/cfitsio/lib/quantize.c:3892:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the â€˜ifâ€™
   3892 |         if (hh >= median)
        |         ^~
  cextern/cfitsio/lib/quantize.c: In function â€˜quick_select_doubleâ€™:
  cextern/cfitsio/lib/quantize.c:3946:5: warning: this â€˜ifâ€™ clause does not guard... [-Wmisleading-indentation]
   3946 |     if (hh <= median)
        |     ^~
  cextern/cfitsio/lib/quantize.c:3948:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the â€˜ifâ€™
   3948 |         if (hh >= median)
        |         ^~
  At top level:
  cextern/cfitsio/lib/quantize.c:3641:12: warning: â€˜FnCompare_floatâ€™ defined but not used [-Wunused-function]
   3641 | static int FnCompare_float(const void *v1, const void *v2)
        |            ^~~~~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c:3628:12: warning: â€˜FnCompare_intâ€™ defined but not used [-Wunused-function]
   3628 | static int FnCompare_int(const void *v1, const void *v2)
        |            ^~~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c:3615:12: warning: â€˜FnCompare_shortâ€™ defined but not used [-Wunused-function]
   3615 | static int FnCompare_short(const void *v1, const void *v2)
        |            ^~~~~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c:3494:12: warning: â€˜FnNoise1_doubleâ€™ defined but not used [-Wunused-function]
   3494 | static int FnNoise1_double
        |            ^~~~~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c:2487:12: warning: â€˜FnNoise3_intâ€™ defined but not used [-Wunused-function]
   2487 | static int FnNoise3_int
        |            ^~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c:2269:12: warning: â€˜FnNoise3_shortâ€™ defined but not used [-Wunused-function]
   2269 | static int FnNoise3_short
        |            ^~~~~~~~~~~~~~
  cextern/cfitsio/lib/quantize.c: In function â€˜fits_img_stats_shortâ€™:
  cextern/cfitsio/lib/quantize.c:510:41: warning: â€˜ngoodâ€™ may be used uninitialized in this function [-Wmaybe-uninitialized]
    510 |                 if (ngoodpix) *ngoodpix = ngood;
        |                               ~~~~~~~~~~^~~~~~~
  cextern/cfitsio/lib/quantize.c: In function â€˜fits_img_stats_intâ€™:
  cextern/cfitsio/lib/quantize.c:569:41: warning: â€˜ngoodâ€™ may be used uninitialized in this function [-Wmaybe-uninitialized]
    569 |                 if (ngoodpix) *ngoodpix = ngood;
        |                               ~~~~~~~~~~^~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -Iastropy/io/fits/_tiled_compression/src -I/opt/miniconda3/envs/testbed/include/python3.9 -c cextern/cfitsio/lib/ricecomp.c -o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/ricecomp.o
  cextern/cfitsio/lib/ricecomp.c: In function â€˜fits_rcompâ€™:
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:267:21: note: in expansion of macro â€˜putcbufâ€™
    267 |                     putcbuf(lbitbuffer & 0xff,buffer);
        |                     ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:270:25: note: in expansion of macro â€˜putcbufâ€™
    270 |                         putcbuf(0, buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:286:25: note: in expansion of macro â€˜putcbufâ€™
    286 |                         putcbuf((lbitbuffer>>(-lbits_to_go)) & 0xff,buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c: In function â€˜fits_rcomp_shortâ€™:
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:498:21: note: in expansion of macro â€˜putcbufâ€™
    498 |                     putcbuf(lbitbuffer & 0xff,buffer);
        |                     ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:500:25: note: in expansion of macro â€˜putcbufâ€™
    500 |                         putcbuf(0, buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:516:25: note: in expansion of macro â€˜putcbufâ€™
    516 |                         putcbuf((lbitbuffer>>(-lbits_to_go)) & 0xff,buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c: In function â€˜fits_rcomp_byteâ€™:
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:723:21: note: in expansion of macro â€˜putcbufâ€™
    723 |                     putcbuf(lbitbuffer & 0xff,buffer);
        |                     ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:725:25: note: in expansion of macro â€˜putcbufâ€™
    725 |                         putcbuf(0, buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:741:25: note: in expansion of macro â€˜putcbufâ€™
    741 |                         putcbuf((lbitbuffer>>(-lbits_to_go)) & 0xff,buffer);
        |                         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c: In function â€˜output_nbitsâ€™:
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:812:9: note: in expansion of macro â€˜putcbufâ€™
    812 |         putcbuf(lbitbuffer & 0xff,buffer);
        |         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:824:9: note: in expansion of macro â€˜putcbufâ€™
    824 |         putcbuf((lbitbuffer>>(-lbits_to_go)) & 0xff,buffer);
        |         ^~~~~~~
  cextern/cfitsio/lib/ricecomp.c: In function â€˜done_outputing_bitsâ€™:
  cextern/cfitsio/lib/ricecomp.c:70:48: warning: right-hand operand of comma expression has no effect [-Wunused-value]
     70 | #define putcbuf(c,mf)   ((*(mf->current)++ = c), 0)
        |                         ~~~~~~~~~~~~~~~~~~~~~~~^~~~
  cextern/cfitsio/lib/ricecomp.c:837:9: note: in expansion of macro â€˜putcbufâ€™
    837 |         putcbuf(buffer->bitbuffer<<buffer->bits_to_go,buffer);
        |         ^~~~~~~
  creating /tmp/tmpesn68uhc.build-lib/astropy/io/fits
  creating /tmp/tmpesn68uhc.build-lib/astropy/io/fits/_tiled_compression
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression/src/compression.o /tmp/tmpb7iyc9b0.build-temp/astropy/io/fits/_tiled_compression/src/unquantize.o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/fits_hcompress.o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/fits_hdecompress.o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/pliocomp.o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/quantize.o /tmp/tmpb7iyc9b0.build-temp/cextern/cfitsio/lib/ricecomp.o -o /tmp/tmpesn68uhc.build-lib/astropy/io/fits/_tiled_compression/_compression.cpython-39-x86_64-linux-gnu.so
  building 'astropy.stats._stats' extension
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c ./astropy/stats/_stats.c -o /tmp/tmpb7iyc9b0.build-temp/./astropy/stats/_stats.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from ./astropy/stats/_stats.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/./astropy/stats/_stats.o -o /tmp/tmpesn68uhc.build-lib/astropy/stats/_stats.cpython-39-x86_64-linux-gnu.so
  building 'astropy.timeseries.periodograms.lombscargle.implementations.cython_impl' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/lombscargle
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/timeseries/periodograms/lombscargle/implementations
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c ./astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.c -o /tmp/tmpb7iyc9b0.build-temp/./astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.o
  In file included from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarraytypes.h:1822,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/ndarrayobject.h:12,
                   from /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/arrayobject.h:4,
                   from ./astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.c:698:
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:17:2: warning: #warning "Using deprecated NumPy API, disable it with " "#define NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION" [-Wcpp]
     17 | #warning "Using deprecated NumPy API, disable it with " \
        |  ^~~~~~~
  creating /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/lombscargle
  creating /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/lombscargle/implementations
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/./astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.o -o /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.cpython-39-x86_64-linux-gnu.so
  building 'astropy.cosmology.flrw.scalar_inv_efuncs' extension
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/cosmology
  creating /tmp/tmpb7iyc9b0.build-temp/astropy/cosmology/flrw
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c ./astropy/cosmology/flrw/scalar_inv_efuncs.c -o /tmp/tmpb7iyc9b0.build-temp/./astropy/cosmology/flrw/scalar_inv_efuncs.o
  creating /tmp/tmpesn68uhc.build-lib/astropy/cosmology
  creating /tmp/tmpesn68uhc.build-lib/astropy/cosmology/flrw
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/./astropy/cosmology/flrw/scalar_inv_efuncs.o -o /tmp/tmpesn68uhc.build-lib/astropy/cosmology/flrw/scalar_inv_efuncs.cpython-39-x86_64-linux-gnu.so
  building 'astropy.io.fits._utils' extension
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/numpy/core/include -I/opt/miniconda3/envs/testbed/include/python3.9 -c ./astropy/io/fits/_utils.c -o /tmp/tmpb7iyc9b0.build-temp/./astropy/io/fits/_utils.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/./astropy/io/fits/_utils.o -o /tmp/tmpesn68uhc.build-lib/astropy/io/fits/_utils.cpython-39-x86_64-linux-gnu.so
  building 'astropy.compiler_version' extension
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -Wall -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -I/opt/miniconda3/envs/testbed/include -fPIC -O2 -isystem /opt/miniconda3/envs/testbed/include -fPIC -I/opt/miniconda3/envs/testbed/include/python3.9 -c astropy/_compiler.c -o /tmp/tmpb7iyc9b0.build-temp/astropy/_compiler.o
  gcc -pthread -B /opt/miniconda3/envs/testbed/compiler_compat -shared -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib -Wl,-rpath,/opt/miniconda3/envs/testbed/lib -Wl,-rpath-link,/opt/miniconda3/envs/testbed/lib -L/opt/miniconda3/envs/testbed/lib /tmp/tmpb7iyc9b0.build-temp/astropy/_compiler.o -o /tmp/tmpesn68uhc.build-lib/astropy/compiler_version.cpython-39-x86_64-linux-gnu.so
  copying /tmp/tmpesn68uhc.build-lib/astropy/table/_np_utils.cpython-39-x86_64-linux-gnu.so -> astropy/table
  copying /tmp/tmpesn68uhc.build-lib/astropy/table/_column_mixins.cpython-39-x86_64-linux-gnu.so -> astropy/table
  copying /tmp/tmpesn68uhc.build-lib/astropy/utils/_compiler.cpython-39-x86_64-linux-gnu.so -> astropy/utils
  copying /tmp/tmpesn68uhc.build-lib/astropy/stats/_fast_sigma_clip.cpython-39-x86_64-linux-gnu.so -> astropy/stats
  copying /tmp/tmpesn68uhc.build-lib/astropy/convolution/_convolve.cpython-39-x86_64-linux-gnu.so -> astropy/convolution
  copying /tmp/tmpesn68uhc.build-lib/astropy/time/_parse_times.cpython-39-x86_64-linux-gnu.so -> astropy/time
  copying /tmp/tmpesn68uhc.build-lib/astropy/wcs/_wcs.cpython-39-x86_64-linux-gnu.so -> astropy/wcs
  copying /tmp/tmpesn68uhc.build-lib/astropy/utils/xml/_iterparser.cpython-39-x86_64-linux-gnu.so -> astropy/utils/xml
  copying /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/bls/_impl.cpython-39-x86_64-linux-gnu.so -> astropy/timeseries/periodograms/bls
  copying /tmp/tmpesn68uhc.build-lib/astropy/io/votable/tablewriter.cpython-39-x86_64-linux-gnu.so -> astropy/io/votable
  copying /tmp/tmpesn68uhc.build-lib/astropy/io/ascii/cparser.cpython-39-x86_64-linux-gnu.so -> astropy/io/ascii
  copying /tmp/tmpesn68uhc.build-lib/astropy/io/fits/_tiled_compression/_compression.cpython-39-x86_64-linux-gnu.so -> astropy/io/fits/_tiled_compression
  copying /tmp/tmpesn68uhc.build-lib/astropy/stats/_stats.cpython-39-x86_64-linux-gnu.so -> astropy/stats
  copying /tmp/tmpesn68uhc.build-lib/astropy/timeseries/periodograms/lombscargle/implementations/cython_impl.cpython-39-x86_64-linux-gnu.so -> astropy/timeseries/periodograms/lombscargle/implementations
  copying /tmp/tmpesn68uhc.build-lib/astropy/cosmology/flrw/scalar_inv_efuncs.cpython-39-x86_64-linux-gnu.so -> astropy/cosmology/flrw
  copying /tmp/tmpesn68uhc.build-lib/astropy/io/fits/_utils.cpython-39-x86_64-linux-gnu.so -> astropy/io/fits
  copying /tmp/tmpesn68uhc.build-lib/astropy/compiler_version.cpython-39-x86_64-linux-gnu.so -> astropy
  Editable install will be performed using a meta path finder.

  Options like `package-data`, `include/exclude-package-data` or
  `packages.find.exclude/include` may have no effect.

  adding '__editable___astropy_5_3_dev882_g7269fa3e3_d20251221_finder.py'
  adding '__editable__.astropy-5.3.dev882+g7269fa3e3.d20251221.pth'
  creating '/tmp/pip-wheel-cdqf3osb/.tmp-e198zdoi/astropy-5.3.dev882+g7269fa3e3.d20251221-0.editable-cp39-cp39-linux_x86_64.whl' and adding '/tmp/tmp4azm1a50astropy-5.3.dev882+g7269fa3e3.d20251221-0.editable-cp39-cp39-linux_x86_64.whl' to it
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/LICENSE.rst'
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/METADATA'
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/WHEEL'
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/entry_points.txt'
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/top_level.txt'
  adding 'astropy-5.3.dev882+g7269fa3e3.d20251221.dist-info/RECORD'
  /tmp/pip-build-env-j5bdbf1w/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py:348: InformationOnly: Editable installation.
  !!

          ********************************************************************************
          Please be careful with folders in your working directory with the same
          name as your package as they may take precedence during imports.
          ********************************************************************************

  !!
    wheel_obj.write_files(unpacked)
  Building editable for astropy (pyproject.toml) ... [?25l[?25hdone
  Created wheel for astropy: filename=astropy-5.3.dev882+g7269fa3e3.d20251221-0.editable-cp39-cp39-linux_x86_64.whl size=7327 sha256=a045dfbe92bcacd96616e6a49da9bfd830fc15edb0d02c207f44131dc658d3f5
  Stored in directory: /tmp/pip-ephem-wheel-cache-f799j1y8/wheels/7d/66/67/70d1ee2124ccf21d601c352e25cdca10f611f7c8b3f9ffb9e4
Successfully built astropy
Installing collected packages: astropy
  Attempting uninstall: astropy
    Found existing installation: astropy 5.3.dev882+g7269fa3e33.d20241024
    Uninstalling astropy-5.3.dev882+g7269fa3e33.d20241024:
      Removing file or directory /opt/miniconda3/envs/testbed/bin/fits2bitmap
      Removing file or directory /opt/miniconda3/envs/testbed/bin/fitscheck
      Removing file or directory /opt/miniconda3/envs/testbed/bin/fitsdiff
      Removing file or directory /opt/miniconda3/envs/testbed/bin/fitsheader
      Removing file or directory /opt/miniconda3/envs/testbed/bin/fitsinfo
      Removing file or directory /opt/miniconda3/envs/testbed/bin/samp_hub
      Removing file or directory /opt/miniconda3/envs/testbed/bin/showtable
      Removing file or directory /opt/miniconda3/envs/testbed/bin/volint
      Removing file or directory /opt/miniconda3/envs/testbed/bin/wcslint
      Successfully uninstalled astropy-5.3.dev882+g7269fa3e33.d20241024
  changing mode of /opt/miniconda3/envs/testbed/bin/fits2bitmap to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/fitscheck to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/fitsdiff to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/fitsheader to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/fitsinfo to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/samp_hub to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/showtable to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/volint to 755
  changing mode of /opt/miniconda3/envs/testbed/bin/wcslint to 755
Successfully installed astropy-5.3.dev882+g7269fa3e3.d20251221
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-12-21 14:31:58,880 - thread-130546514527936.app.lang_graph.nodes.focal_code_retrieval_node - INFO - Retrieving focal code context via external CRA
2025-12-21 14:35:49,627 - thread-130546514527936.app.lang_graph.nodes.focal_code_retrieval_node - INFO - Focal code context retrieved: 1 items
2025-12-21 14:35:49,629 - thread-130546514527936.app.lang_graph.nodes.test_case_retrieval_node - INFO - Retrieving test case context via external CRA
2025-12-21 14:40:10,510 - thread-130546514527936.app.lang_graph.nodes.test_case_retrieval_node - INFO - Test case context retrieved: 3 items
2025-12-21 14:40:10,514 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content='Issue title:\nascii.qdp Table format assumes QDP commands are upper case\n\nIssue description: \n### Description\n\nascii.qdp assumes that commands in a QDP file are upper case, for example, for errors they must be "READ SERR 1 2" whereas QDP itself is not case sensitive and case use "read serr 1 2". \n\nAs many QDP files are created by hand, the expectation that all commands be all-caps should be removed.\n\n### Expected behavior\n\nThe following qdp file should read into a `Table` with errors, rather than crashing.\n```\nread serr 1 2 \n1 0.5 1 0.5\n```\n\n### How to Reproduce\n\nCreate a QDP file:\n```\n> cat > test.qdp\nread serr 1 2 \n1 0.5 1 0.5\n<EOF>\n\n > python\nPython 3.10.9 (main, Dec  7 2022, 02:03:23) [Clang 13.0.0 (clang-1300.0.29.30)] on darwin\nType "help", "copyright", "credits" or "license" for more information.\n>>> from astropy.table import Table\n>>> Table.read(\'test.qdp\',format=\'ascii.qdp\')\nWARNING: table_id not specified. Reading the first available table [astropy.io.ascii.qdp]\nTraceback (most recent call last):\n...\n    raise ValueError(f\'Unrecognized QDP line: {line}\')\nValueError: Unrecognized QDP line: read serr 1 2\n```\n\nRunning "qdp test.qdp" works just fine.\n\n\n### Versions\n\nPython 3.10.9 (main, Dec  7 2022, 02:03:23) [Clang 13.0.0 (clang-1300.0.29.30)]\nastropy 5.1\nNumpy 1.24.1\npyerfa 2.0.0.1\nScipy 1.10.0\nMatplotlib 3.6.3\n\n\nIssue comments:\n\n\nPatch Information:\n```diff\ndiff --git a/astropy/io/ascii/qdp.py b/astropy/io/ascii/qdp.py\nindex 83a4f004aa..bd801b786d 100644\n--- a/astropy/io/ascii/qdp.py\n+++ b/astropy/io/ascii/qdp.py\n@@ -67,7 +67,7 @@ def _line_type(line, delimiter=None):\n         sep = r"\\s+"\n     _new_re = rf"NO({sep}NO)+"\n     _data_re = rf"({_decimal_re}|NO|[-+]?nan)({sep}({_decimal_re}|NO|[-+]?nan))*)"\n-    _type_re = rf"^\\s*((?P<command>{_command_re})|(?P<new>{_new_re})|(?P<data>{_data_re})?\\s*(\\!(?P<comment>.*))?\\s*$"\n+    _type_re = rf"^\\s*((?P<command>(?i:{_command_re}))|(?P<new>{_new_re})|(?P<data>{_data_re})?\\s*(\\!(?P<comment>.*))?\\s*$"\n     _line_type_re = re.compile(_type_re)\n     line = line.strip()\n     if not line:\n\n```\n\nFocal Code Context (relevant code that may need fixing):\n{\'relative_path\': \'astropy/io/ascii/qdp.py\', \'content\': \'1. # Licensed under a 3-clause BSD style license - see LICENSE.rst\\n2. """\\n3. This package contains functions for reading and writing QDP tables that are\\n4. not meant to be used directly, but instead are available as readers/writers in\\n5. `astropy.table`. See :ref:`astropy:table_io` for more details.\\n6. """\\n7. import copy\\n8. import re\\n9. import warnings\\n10. from collections.abc import Iterable\\n11. \\n12. import numpy as np\\n13. \\n14. from astropy.table import Table\\n15. from astropy.utils.exceptions import AstropyUserWarning\\n16. \\n17. from . import basic, core\\n18. \\n19. \\n20. def _line_type(line, delimiter=None):\\n21.     """Interpret a QDP file line.\\n22. \\n23.     Parameters\\n24.     ----------\\n25.     line : str\\n26.         a single line of the file\\n27. \\n28.     Returns\\n29.     -------\\n30.     type : str\\n31.         Line type: "comment", "command", or "data"\\n32. \\n33.     Examples\\n34.     --------\\n35.     >>> _line_type("READ SERR 3")\\n36.     \\\'command\\\'\\n37.     >>> _line_type(" \\\\\\\\n    !some gibberish")\\n38.     \\\'comment\\\'\\n39.     >>> _line_type("   ")\\n40.     \\\'comment\\\'\\n41.     >>> _line_type(" 21345.45")\\n42.     \\\'data,1\\\'\\n43.     >>> _line_type(" 21345.45 1.53e-3 1e-3 .04 NO nan")\\n44.     \\\'data,6\\\'\\n45.     >>> _line_type(" 21345.45,1.53e-3,1e-3,.04,NO,nan", delimiter=\\\',\\\')\\n46.     \\\'data,6\\\'\\n47.     >>> _line_type(" 21345.45 ! a comment to disturb")\\n48.     \\\'data,1\\\'\\n49.     >>> _line_type("NO NO NO NO NO")\\n50.     \\\'new\\\'\\n51.     >>> _line_type("NO,NO,NO,NO,NO", delimiter=\\\',\\\')\\n52.     \\\'new\\\'\\n53.     >>> _line_type("N O N NOON OON O")\\n54.     Traceback (most recent call last):\\n55.         ...\\n56.     ValueError: Unrecognized QDP line...\\n57.     >>> _line_type(" some non-comment gibberish")\\n58.     Traceback (most recent call last):\\n59.         ...\\n60.     ValueError: Unrecognized QDP line...\\n61.     """\\n62.     _decimal_re = r"[+-]?(\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][+-]?\\\\d+)?"\\n63.     _command_re = r"READ [TS]ERR(\\\\s+[0-9]+)+"\\n64. \\n65.     sep = delimiter\\n66.     if delimiter is None:\\n67.         sep = r"\\\\s+"\\n68.     _new_re = rf"NO({sep}NO)+"\\n69.     _data_re = rf"({_decimal_re}|NO|[-+]?nan)({sep}({_decimal_re}|NO|[-+]?nan))*)"\\n70.     _type_re = rf"^\\\\s*((?P<command>{_command_re})|(?P<new>{_new_re})|(?P<data>{_data_re})?\\\\s*(\\\\!(?P<comment>.*))?\\\\s*$"\\n71.     _line_type_re = re.compile(_type_re)\\n72.     line = line.strip()\\n73.     if not line:\\n74.         return "comment"\\n75.     match = _line_type_re.match(line)\\n76. \\n77.     if match is None:\\n78.         raise ValueError(f"Unrecognized QDP line: {line}")\\n79.     for type_, val in match.groupdict().items():\\n80.         if val is None:\\n81.             continue\\n82.         if type_ == "data":\\n83.             return f"data,{len(val.split(sep=delimiter))}"\\n84.         else:\\n85.             return type_\\n86. \\n87. \\n88. def _get_type_from_list_of_lines(lines, delimiter=None):\\n89.     """Read through the list of QDP file lines and label each line by type.\\n90. \\n91.     Parameters\\n92.     ----------\\n93.     lines : list\\n94.         List containing one file line in each entry\\n95. \\n96.     Returns\\n97.     -------\\n98.     contents : list\\n99.         List containing the type for each line (see `line_type_and_data`)\\n100.     ncol : int\\n101.         The number of columns in the data lines. Must be the same throughout\\n102.         the file\\n103. \\n104.     Examples\\n105.     --------\\n106.     >>> line0 = "! A comment"\\n107.     >>> line1 = "543 12 456.0"\\n108.     >>> lines = [line0, line1]\\n109.     >>> types, ncol = _get_type_from_list_of_lines(lines)\\n110.     >>> types[0]\\n111.     \\\'comment\\\'\\n112.     >>> types[1]\\n113.     \\\'data,3\\\'\\n114.     >>> ncol\\n115.     3\\n116.     >>> lines.append("23")\\n117.     >>> _get_type_from_list_of_lines(lines)\\n118.     Traceback (most recent call last):\\n119.         ...\\n120.     ValueError: Inconsistent number of columns\\n121.     """\\n122.     types = [_line_type(line, delimiter=delimiter) for line in lines]\\n123.     current_ncol = None\\n124.     for type_ in types:\\n125.         if type_.startswith("data,"):\\n126.             ncol = int(type_[5:])\\n127.             if current_ncol is None:\\n128.                 current_ncol = ncol\\n129.             elif ncol != current_ncol:\\n130.                 raise ValueError("Inconsistent number of columns")\\n131. \\n132.     return types, current_ncol\\n133. \\n134. \\n135. def _get_lines_from_file(qdp_file):\\n136.     if "\\\\n" in qdp_file:\\n137.         lines = qdp_file.split("\\\\n")\\n138.     elif isinstance(qdp_file, str):\\n139.         with open(qdp_file) as fobj:\\n140.             lines = [line.strip() for line in fobj.readlines()]\\n141.     elif isinstance(qdp_file, Iterable):\\n142.         lines = qdp_file\\n143.     else:\\n144.         raise ValueError("invalid value of qdb_file")\\n145. \\n146.     return lines\\n147. \\n148. \\n149. def _interpret_err_lines(err_specs, ncols, names=None):\\n150.     """Give list of column names from the READ SERR and TERR commands.\\n151. \\n152.     Parameters\\n153.     ----------\\n154.     err_specs : dict\\n155.         ``{\\\'serr\\\': [n0, n1, ...], \\\'terr\\\': [n2, n3, ...]}``\\n156.         Error specifications for symmetric and two-sided errors\\n157.     ncols : int\\n158.         Number of data columns\\n159. \\n160.     Other Parameters\\n161.     ----------------\\n162.     names : list of str\\n163.         Name of data columns (defaults to [\\\'col1\\\', \\\'col2\\\', ...]), _not_\\n164.         including error columns.\\n165. \\n166.     Returns\\n167.     -------\\n168.     colnames : list\\n169.         List containing the column names. Error columns will have the name\\n170.         of the main column plus ``_err`` for symmetric errors, and ``_perr``\\n171.         and ``_nerr`` for positive and negative errors respectively\\n172. \\n173.     Examples\\n174.     --------\\n175.     >>> col_in = [\\\'MJD\\\', \\\'Rate\\\']\\n176.     >>> cols = _interpret_err_lines(None, 2, names=col_in)\\n177.     >>> cols[0]\\n178.     \\\'MJD\\\'\\n179.     >>> err_specs = {\\\'terr\\\': [1], \\\'serr\\\': [2]}\\n180.     >>> ncols = 5\\n181.     >>> cols = _interpret_err_lines(err_specs, ncols, names=col_in)\\n182.     >>> cols[0]\\n183.     \\\'MJD\\\'\\n184.     >>> cols[2]\\n185.     \\\'MJD_nerr\\\'\\n186.     >>> cols[4]\\n187.     \\\'Rate_err\\\'\\n188.     >>> _interpret_err_lines(err_specs, 6, names=col_in)\\n189.     Traceback (most recent call last):\\n190.         ...\\n191.     ValueError: Inconsistent number of input colnames\\n192.     """\\n193.     colnames = ["" for i in range(ncols)]\\n194.     if err_specs is None:\\n195.         serr_cols = terr_cols = []\\n196. \\n197.     else:\\n198.         # I don\\\'t want to empty the original one when using `pop` below\\n199.         err_specs = copy.deepcopy(err_specs)\\n200. \\n201.         serr_cols = err_specs.pop("serr", [])\\n202.         terr_cols = err_specs.pop("terr", [])\\n203. \\n204.     if names is not None:\\n205.         all_error_cols = len(serr_cols) + len(terr_cols) * 2\\n206.         if all_error_cols + len(names) != ncols:\\n207.             raise ValueError("Inconsistent number of input colnames")\\n208. \\n209.     shift = 0\\n210.     for i in range(ncols):\\n211.         col_num = i + 1 - shift\\n212.         if colnames[i] != "":\\n213.             continue\\n214. \\n215.         colname_root = f"col{col_num}"\\n216. \\n217.         if names is not None:\\n218.             colname_root = names[col_num - 1]\\n219. \\n220.         colnames[i] = f"{colname_root}"\\n221.         if col_num in serr_cols:\\n222.             colnames[i + 1] = f"{colname_root}_err"\\n223.             shift += 1\\n224.             continue\\n225. \\n226.         if col_num in terr_cols:\\n227.             colnames[i + 1] = f"{colname_root}_perr"\\n228.             colnames[i + 2] = f"{colname_root}_nerr"\\n229.             shift += 2\\n230.             continue\\n231. \\n232.     assert not np.any([c == "" for c in colnames])\\n233. \\n234.     return colnames\\n235. \\n236. \\n237. def _get_tables_from_qdp_file(qdp_file, input_colnames=None, delimiter=None):\\n238.     """Get all tables from a QDP file.\\n239. \\n240.     Parameters\\n241.     ----------\\n242.     qdp_file : str\\n243.         Input QDP file name\\n244. \\n245.     Other Parameters\\n246.     ----------------\\n247.     input_colnames : list of str\\n248.         Name of data columns (defaults to [\\\'col1\\\', \\\'col2\\\', ...]), _not_\\n249.         including error columns.\\n250.     delimiter : str\\n251.         Delimiter for the values in the table.\\n252. \\n253.     Returns\\n254.     -------\\n255.     list of `~astropy.table.Table`\\n256.         List containing all the tables present inside the QDP file\\n257.     """\\n258.     lines = _get_lines_from_file(qdp_file)\\n259.     contents, ncol = _get_type_from_list_of_lines(lines, delimiter=delimiter)\\n260. \\n261.     table_list = []\\n262.     err_specs = {}\\n263.     colnames = None\\n264. \\n265.     comment_text = ""\\n266.     initial_comments = ""\\n267.     command_lines = ""\\n268.     current_rows = None\\n269. \\n270.     for line, datatype in zip(lines, contents):\\n271.         line = line.strip().lstrip("!")\\n272.         # Is this a comment?\\n273.         if datatype == "comment":\\n274.             comment_text += line + "\\\\n"\\n275.             continue\\n276. \\n277.         if datatype == "command":\\n278.             # The first time I find commands, I save whatever comments into\\n279.             # The initial comments.\\n280.             if command_lines == "":\\n281.                 initial_comments = comment_text\\n282.                 comment_text = ""\\n283. \\n284.             if err_specs != {}:\\n285.                 warnings.warn(\\n286.                     "This file contains multiple command blocks. Please verify",\\n287.                     AstropyUserWarning,\\n288.                 )\\n289.             command_lines += line + "\\\\n"\\n290.             continue\\n291. \\n292.         if datatype.startswith("data"):\\n293.             # The first time I find data, I define err_specs\\n294.             if err_specs == {} and command_lines != "":\\n295.                 for cline in command_lines.strip().split("\\\\n"):\\n296.                     command = cline.strip().split()\\n297.                     # This should never happen, but just in case.\\n298.                     if len(command) < 3:\\n299.                         continue\\n300.                     err_specs[command[1].lower()] = [int(c) for c in command[2:]]\\n301.             if colnames is None:\\n302.                 colnames = _interpret_err_lines(err_specs, ncol, names=input_colnames)\\n303. \\n304.             if current_rows is None:\\n305.                 current_rows = []\\n306. \\n307.             values = []\\n308.             for v in line.split(delimiter):\\n309.                 if v == "NO":\\n310.                     values.append(np.ma.masked)\\n311.                 else:\\n312.                     # Understand if number is int or float\\n313.                     try:\\n314.                         values.append(int(v))\\n315.                     except ValueError:\\n316.                         values.append(float(v))\\n317.             current_rows.append(values)\\n318.             continue\\n319. \\n320.         if datatype == "new":\\n321.             # Save table to table_list and reset\\n322.             if current_rows is not None:\\n323.                 new_table = Table(names=colnames, rows=current_rows)\\n324.                 new_table.meta["initial_comments"] = initial_comments.strip().split(\\n325.                     "\\\\n"\\n326.                 )\\n327.                 new_table.meta["comments"] = comment_text.strip().split("\\\\n")\\n328.                 # Reset comments\\n329.                 comment_text = ""\\n330.                 table_list.append(new_table)\\n331.                 current_rows = None\\n332.             continue\\n333. \\n334.     # At the very end, if there is still a table being written, let\\\'s save\\n335.     # it to the table_list\\n336.     if current_rows is not None:\\n337.         new_table = Table(names=colnames, rows=current_rows)\\n338.         new_table.meta["initial_comments"] = initial_comments.strip().split("\\\\n")\\n339.         new_table.meta["comments"] = comment_text.strip().split("\\\\n")\\n340.         table_list.append(new_table)\\n341. \\n342.     return table_list\\n343. \\n344. \\n345. def _understand_err_col(colnames):\\n346.     """Get which column names are error columns.\\n347. \\n348.     Examples\\n349.     --------\\n350.     >>> colnames = [\\\'a\\\', \\\'a_err\\\', \\\'b\\\', \\\'b_perr\\\', \\\'b_nerr\\\']\\n351.     >>> serr, terr = _understand_err_col(colnames)\\n352.     >>> np.allclose(serr, [1])\\n353.     True\\n354.     >>> np.allclose(terr, [2])\\n355.     True\\n356.     >>> serr, terr = _understand_err_col([\\\'a\\\', \\\'a_nerr\\\'])\\n357.     Traceback (most recent call last):\\n358.     ...\\n359.     ValueError: Missing positive error...\\n360.     >>> serr, terr = _understand_err_col([\\\'a\\\', \\\'a_perr\\\'])\\n361.     Traceback (most recent call last):\\n362.     ...\\n363.     ValueError: Missing negative error...\\n364.     """\\n365.     shift = 0\\n366.     serr = []\\n367.     terr = []\\n368. \\n369.     for i, col in enumerate(colnames):\\n370.         if col.endswith("_err"):\\n371.             # The previous column, but they\\\'re numbered from 1!\\n372.             # Plus, take shift into account\\n373.             serr.append(i - shift)\\n374.             shift += 1\\n375.         elif col.endswith("_perr"):\\n376.             terr.append(i - shift)\\n377.             if len(colnames) == i + 1 or not colnames[i + 1].endswith("_nerr"):\\n378.                 raise ValueError("Missing negative error")\\n379.             shift += 2\\n380.         elif col.endswith("_nerr") and not colnames[i - 1].endswith("_perr"):\\n381.             raise ValueError("Missing positive error")\\n382.     return serr, terr\\n383. \\n384. \\n385. def _read_table_qdp(qdp_file, names=None, table_id=None, delimiter=None):\\n386.     """Read a table from a QDP file.\\n387. \\n388.     Parameters\\n389.     ----------\\n390.     qdp_file : str\\n391.         Input QDP file name\\n392. \\n393.     Other Parameters\\n394.     ----------------\\n395.     names : list of str\\n396.         Name of data columns (defaults to [\\\'col1\\\', \\\'col2\\\', ...]), _not_\\n397.         including error columns.\\n398. \\n399.     table_id : int, default 0\\n400.         Number of the table to be read from the QDP file. This is useful\\n401.         when multiple tables present in the file. By default, the first is read.\\n402. \\n403.     delimiter : str\\n404.         Any delimiter accepted by the `sep` argument of str.split()\\n405. \\n406.     Returns\\n407.     -------\\n408.     tables : list of `~astropy.table.Table`\\n409.         List containing all the tables present inside the QDP file\\n410.     """\\n411.     if table_id is None:\\n412.         warnings.warn(\\n413.             "table_id not specified. Reading the first available table",\\n414.             AstropyUserWarning,\\n415.         )\\n416.         table_id = 0\\n417. \\n418.     tables = _get_tables_from_qdp_file(\\n419.         qdp_file, input_colnames=names, delimiter=delimiter\\n420.     )\\n421. \\n422.     return tables[table_id]\\n423. \\n424. \\n425. def _write_table_qdp(table, filename=None, err_specs=None):\\n426.     """Write a table to a QDP file.\\n427. \\n428.     Parameters\\n429.     ----------\\n430.     table : :class:`~astropy.table.Table`\\n431.         Input table to be written\\n432.     filename : str\\n433.         Output QDP file name\\n434. \\n435.     Other Parameters\\n436.     ----------------\\n437.     err_specs : dict\\n438.         Dictionary of the format {\\\'serr\\\': [1], \\\'terr\\\': [2, 3]}, specifying\\n439.         which columns have symmetric and two-sided errors (see QDP format\\n440.         specification)\\n441.     """\\n442.     import io\\n443. \\n444.     fobj = io.StringIO()\\n445. \\n446.     if "initial_comments" in table.meta and table.meta["initial_comments"] != []:\\n447.         for line in table.meta["initial_comments"]:\\n448.             line = line.strip()\\n449.             if not line.startswith("!"):\\n450.                 line = "!" + line\\n451.             print(line, file=fobj)\\n452. \\n453.     if err_specs is None:\\n454.         serr_cols, terr_cols = _understand_err_col(table.colnames)\\n455.     else:\\n456.         serr_cols = err_specs.pop("serr", [])\\n457.         terr_cols = err_specs.pop("terr", [])\\n458.     if serr_cols != []:\\n459.         col_string = " ".join([str(val) for val in serr_cols])\\n460.         print(f"READ SERR {col_string}", file=fobj)\\n461.     if terr_cols != []:\\n462.         col_string = " ".join([str(val) for val in terr_cols])\\n463.         print(f"READ TERR {col_string}", file=fobj)\\n464. \\n465.     if "comments" in table.meta and table.meta["comments"] != []:\\n466.         for line in table.meta["comments"]:\\n467.             line = line.strip()\\n468.             if not line.startswith("!"):\\n469.                 line = "!" + line\\n470.             print(line, file=fobj)\\n471. \\n472.     colnames = table.colnames\\n473.     print("!" + " ".join(colnames), file=fobj)\\n474.     for row in table:\\n475.         values = []\\n476.         for val in row:\\n477.             if not np.ma.is_masked(val):\\n478.                 rep = str(val)\\n479.             else:\\n480.                 rep = "NO"\\n481.             values.append(rep)\\n482.         print(" ".join(values), file=fobj)\\n483. \\n484.     full_string = fobj.getvalue()\\n485.     fobj.close()\\n486. \\n487.     if filename is not None:\\n488.         with open(filename, "w") as fobj:\\n489.             print(full_string, file=fobj)\\n490. \\n491.     return full_string.split("\\\\n")\\n492. \\n493. \\n494. class QDPSplitter(core.DefaultSplitter):\\n495.     """\\n496.     Split on space for QDP tables.\\n497.     """\\n498. \\n499.     delimiter = " "\\n500. \', \'start_line_number\': 1, \'end_line_number\': 500}\n\nTest Case Context (similar existing tests for reference):\n{\'relative_path\': \'astropy/io/ascii/tests/test_qdp.py\', \'content\': \'1. import numpy as np\\n2. import pytest\\n3. \\n4. from astropy.io import ascii\\n5. from astropy.io.ascii.qdp import _get_lines_from_file, _read_table_qdp, _write_table_qdp\\n6. from astropy.table import Column, MaskedColumn, Table\\n7. from astropy.utils.exceptions import AstropyUserWarning\\n8. \\n9. \\n10. def test_get_tables_from_qdp_file(tmp_path):\\n11.     example_qdp = """\\n12.     ! Swift/XRT hardness ratio of trigger: XXXX, name: BUBU X-2\\n13.     ! Columns are as labelled\\n14.     READ TERR 1\\n15.     READ SERR 2\\n16.     ! WT -- hard data\\n17.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n18.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   -0.212439       0.212439\\n19.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   0.000000        0.000000\\n20.     NO NO NO NO NO\\n21.     ! WT -- soft data\\n22.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n23.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   0.726155        0.583890\\n24.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   2.410935        1.393592\\n25.     NO NO NO NO NO\\n26.     ! WT -- hardness ratio\\n27.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n28.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   -0.292553       -0.374935\\n29.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   0.000000        -nan\\n30.     """\\n31. \\n32.     path = tmp_path / "test.qdp"\\n33. \\n34.     with open(path, "w") as fp:\\n35.         print(example_qdp, file=fp)\\n36. \\n37.     table0 = _read_table_qdp(fp.name, names=["MJD", "Rate"], table_id=0)\\n38.     assert table0.meta["initial_comments"][0].startswith("Swift")\\n39.     assert table0.meta["comments"][0].startswith("WT -- hard data")\\n40.     table2 = _read_table_qdp(fp.name, names=["MJD", "Rate"], table_id=2)\\n41.     assert table2.meta["initial_comments"][0].startswith("Swift")\\n42.     assert table2.meta["comments"][0].startswith("WT -- hardness")\\n43.     assert np.isclose(table2["MJD_nerr"][0], -2.37847222222222e-05)\\n44. \\n45. \\n46. def test_roundtrip(tmp_path):\\n47.     example_qdp = """\\n48.     ! Swift/XRT hardness ratio of trigger: XXXX, name: BUBU X-2\\n49.     ! Columns are as labelled\\n50.     READ TERR 1\\n51.     READ SERR 2\\n52.     ! WT -- hard data\\n53.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n54.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   NO       0.212439\\n55.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   0.000000        0.000000\\n56.     NO NO NO NO NO\\n57.     ! WT -- soft data\\n58.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n59.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   0.726155        0.583890\\n60.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   2.410935        1.393592\\n61.     NO NO NO NO NO\\n62.     ! WT -- hardness ratio\\n63.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n64.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   -0.292553       -0.374935\\n65.     55045.099887 1.14467592592593e-05    -1.14467592592593e-05   0.000000        NO\\n66.     ! Add command, just to raise the warning.\\n67.     READ TERR 1\\n68.     ! WT -- whatever\\n69.     !MJD            Err (pos)       Err(neg)        Rate            Error\\n70.     53000.123456 2.37847222222222e-05    -2.37847222222222e-05   -0.292553       -0.374935\\n71.     NO 1.14467592592593e-05    -1.14467592592593e-05   0.000000        NO\\n72.     """\\n73. \\n74.     path = str(tmp_path / "test.qdp")\\n75.     path2 = str(tmp_path / "test2.qdp")\\n76. \\n77.     with open(path, "w") as fp:\\n78.         print(example_qdp, file=fp)\\n79.     with pytest.warns(AstropyUserWarning) as record:\\n80.         table = _read_table_qdp(path, names=["MJD", "Rate"], table_id=0)\\n81.     assert np.any(\\n82.         [\\n83.             "This file contains multiple command blocks" in r.message.args[0]\\n84.             for r in record\\n85.         ]\\n86.     )\\n87. \\n88.     _write_table_qdp(table, path2)\\n89. \\n90.     new_table = _read_table_qdp(path2, names=["MJD", "Rate"], table_id=0)\\n91. \\n92.     for col in new_table.colnames:\\n93.         is_masked = np.array([np.ma.is_masked(val) for val in new_table[col]])\\n94.         if np.any(is_masked):\\n95.             # All NaN values are read as such.\\n96.             assert np.ma.is_masked(table[col][is_masked])\\n97. \\n98.         is_nan = np.array(\\n99.             [(not np.ma.is_masked(val) and np.isnan(val)) for val in new_table[col]]\\n100.         )\\n101.         # All non-NaN values are the same\\n102.         assert np.allclose(new_table[col][~is_nan], table[col][~is_nan])\\n103.         if np.any(is_nan):\\n104.             # All NaN values are read as such.\\n105.             assert np.isnan(table[col][is_nan])\\n106.     assert np.allclose(new_table["MJD_perr"], [2.378472e-05, 1.1446759e-05])\\n107. \\n108.     for meta_name in ["initial_comments", "comments"]:\\n109.         assert meta_name in new_table.meta\\n110. \\n111. \\n112. def test_read_example():\\n113.     example_qdp = """\\n114.         ! Initial comment line 1\\n115.         ! Initial comment line 2\\n116.         READ TERR 1\\n117.         READ SERR 3\\n118.         ! Table 0 comment\\n119.         !a a(pos) a(neg) b c ce d\\n120.         53000.5   0.25  -0.5   1  1.5  3.5 2\\n121.         54000.5   1.25  -1.5   2  2.5  4.5 3\\n122.         NO NO NO NO NO\\n123.         ! Table 1 comment\\n124.         !a a(pos) a(neg) b c ce d\\n125.         54000.5   2.25  -2.5   NO  3.5  5.5 5\\n126.         55000.5   3.25  -3.5   4  4.5  6.5 nan\\n127.         """\\n128.     dat = ascii.read(example_qdp, format="qdp", table_id=1, names=["a", "b", "c", "d"])\\n129.     t = Table.read(\\n130.         example_qdp, format="ascii.qdp", table_id=1, names=["a", "b", "c", "d"]\\n131.     )\\n132. \\n133.     assert np.allclose(t["a"], [54000, 55000])\\n134.     assert t["c_err"][0] == 5.5\\n135.     assert np.ma.is_masked(t["b"][0])\\n136.     assert np.isnan(t["d"][1])\\n137. \\n138.     for col1, col2 in zip(t.itercols(), dat.itercols()):\\n139.         assert np.allclose(col1, col2, equal_nan=True)\\n140. \\n141. \\n142. def test_roundtrip_example(tmp_path):\\n143.     example_qdp = """\\n144.         ! Initial comment line 1\\n145.         ! Initial comment line 2\\n146.         READ TERR 1\\n147.         READ SERR 3\\n148.         ! Table 0 comment\\n149.         !a a(pos) a(neg) b c ce d\\n150.         53000.5   0.25  -0.5   1  1.5  3.5 2\\n151.         54000.5   1.25  -1.5   2  2.5  4.5 3\\n152.         NO NO NO NO NO\\n153.         ! Table 1 comment\\n154.         !a a(pos) a(neg) b c ce d\\n155.         54000.5   2.25  -2.5   NO  3.5  5.5 5\\n156.         55000.5   3.25  -3.5   4  4.5  6.5 nan\\n157.         """\\n158.     test_file = tmp_path / "test.qdp"\\n159. \\n160.     t = Table.read(\\n161.         example_qdp, format="ascii.qdp", table_id=1, names=["a", "b", "c", "d"]\\n162.     )\\n163.     t.write(test_file, err_specs={"terr": [1], "serr": [3]})\\n164.     t2 = Table.read(test_file, names=["a", "b", "c", "d"], table_id=0)\\n165. \\n166.     for col1, col2 in zip(t.itercols(), t2.itercols()):\\n167.         assert np.allclose(col1, col2, equal_nan=True)\\n168. \\n169. \\n170. def test_roundtrip_example_comma(tmp_path):\\n171.     example_qdp = """\\n172.         ! Initial comment line 1\\n173.         ! Initial comment line 2\\n174.         READ TERR 1\\n175.         READ SERR 3\\n176.         ! Table 0 comment\\n177.         !a,a(pos),a(neg),b,c,ce,d\\n178.         53000.5,0.25,-0.5,1,1.5,3.5,2\\n179.         54000.5,1.25,-1.5,2,2.5,4.5,3\\n180.         NO,NO,NO,NO,NO\\n181.         ! Table 1 comment\\n182.         !a,a(pos),a(neg),b,c,ce,d\\n183.         54000.5,2.25,-2.5,NO,3.5,5.5,5\\n184.         55000.5,3.25,-3.5,4,4.5,6.5,nan\\n185.         """\\n186.     test_file = tmp_path / "test.qdp"\\n187. \\n188.     t = Table.read(\\n189.         example_qdp, format="ascii.qdp", table_id=1, names=["a", "b", "c", "d"], sep=","\\n190.     )\\n191.     t.write(test_file, err_specs={"terr": [1], "serr": [3]})\\n192.     t2 = Table.read(test_file, names=["a", "b", "c", "d"], table_id=0)\\n193. \\n194.     # t.values_equal(t2)\\n195.     for col1, col2 in zip(t.itercols(), t2.itercols()):\\n196.         assert np.allclose(col1, col2, equal_nan=True)\\n197. \\n198. \\n199. def test_read_write_simple(tmp_path):\\n200.     test_file = tmp_path / "test.qdp"\\n201.     t1 = Table()\\n202.     t1.add_column(Column(name="a", data=[1, 2, 3, 4]))\\n203.     t1.add_column(\\n204.         MaskedColumn(\\n205.             data=[4.0, np.nan, 3.0, 1.0], name="b", mask=[False, False, False, True]\\n206.         )\\n207.     )\\n208.     t1.write(test_file, format="ascii.qdp")\\n209.     with pytest.warns(UserWarning) as record:\\n210.         t2 = Table.read(test_file, format="ascii.qdp")\\n211.     assert np.any(\\n212.         [\\n213.             "table_id not specified. Reading the first available table"\\n214.             in r.message.args[0]\\n215.             for r in record\\n216.         ]\\n217.     )\\n218. \\n219.     assert np.allclose(t2["col1"], t1["a"])\\n220.     assert np.all(t2["col1"] == t1["a"])\\n221. \\n222.     good = ~np.isnan(t1["b"])\\n223.     assert np.allclose(t2["col2"][good], t1["b"][good])\\n224. \\n225. \\n226. def test_read_write_simple_specify_name(tmp_path):\\n227.     test_file = tmp_path / "test.qdp"\\n228.     t1 = Table()\\n229.     t1.add_column(Column(name="a", data=[1, 2, 3]))\\n230.     # Give a non-None err_specs\\n231.     t1.write(test_file, format="ascii.qdp")\\n232.     t2 = Table.read(test_file, table_id=0, format="ascii.qdp", names=["a"])\\n233.     assert np.all(t2["a"] == t1["a"])\\n234. \\n235. \\n236. def test_get_lines_from_qdp(tmp_path):\\n237.     test_file = str(tmp_path / "test.qdp")\\n238.     text_string = "A\\\\nB"\\n239.     text_output = _get_lines_from_file(text_string)\\n240.     with open(test_file, "w") as fobj:\\n241.         print(text_string, file=fobj)\\n242.     file_output = _get_lines_from_file(test_file)\\n243.     list_output = _get_lines_from_file(["A", "B"])\\n244.     for i, line in enumerate(["A", "B"]):\\n245.         assert file_output[i] == line\\n246.         assert list_output[i] == line\\n247.         assert text_output[i] == line\', \'start_line_number\': 1, \'end_line_number\': 247}\n\n{\'relative_path\': \'astropy/io/ascii/tests/test_read.py\', \'content\': \'1. # Licensed under a 3-clause BSD style license - see LICENSE.rst\\n2. \\n3. import locale\\n4. import pathlib\\n5. import platform\\n6. import re\\n7. from collections import OrderedDict\\n8. from io import BytesIO, StringIO\\n9. \\n10. import numpy as np\\n11. import pytest\\n12. \\n13. from astropy import table\\n14. from astropy.io import ascii\\n15. from astropy.io.ascii import core\\n16. from astropy.io.ascii.core import convert_numpy\\n17. from astropy.io.ascii.ui import _probably_html, get_read_trace\\n18. from astropy.table import MaskedColumn, Table\\n19. from astropy.table.table_helpers import simple_table\\n20. from astropy.units import Unit\\n21. \\n22. # NOTE: Python can be built without bz2.\\n23. from astropy.utils.compat.optional_deps import HAS_BZ2\\n24. from astropy.utils.data import get_pkg_data_path\\n25. from astropy.utils.exceptions import AstropyWarning\\n26. \\n27. # setup/teardown function to have the tests run in the correct directory\\n28. from .common import setup_function  # noqa: F401\\n29. from .common import teardown_function  # noqa: F401\\n30. from .common import assert_almost_equal, assert_equal, assert_true\\n31. \\n32. \\n33. def asciiIO(x):\\n34.     return BytesIO(x.encode("ascii"))\\n35. \\n36. \\n37. @pytest.fixture\\n38. def home_is_data(monkeypatch, request):\\n39.     """\\n40.     Pytest fixture to run a test case with tilde-prefixed paths.\\n41. \\n42.     In the tilde-path case, environment variables are temporarily\\n43.     modified so that \\\'~\\\' resolves to the data directory.\\n44.     """\\n45.     path = get_pkg_data_path("data")\\n46.     # For Unix\\n47.     monkeypatch.setenv("HOME", path)\\n48.     # For Windows\\n49.     monkeypatch.setenv("USERPROFILE", path)\\n50. \\n51. \\n52. @pytest.mark.parametrize(\\n53.     "fast_reader",\\n54.     [True, False, {"use_fast_converter": False}, {"use_fast_converter": True}, "force"],\\n55. )\\n56. def test_convert_overflow(fast_reader):\\n57.     """\\n58.     Test reading an extremely large integer, which falls through to\\n59.     string due to an overflow error (#2234). The C parsers used to\\n60.     return inf (kind \\\'f\\\') for this.\\n61.     """\\n62.     expected_kind = "U"\\n63.     with pytest.warns(\\n64.         AstropyWarning, match="OverflowError converting to IntType in column a"\\n65.     ):\\n66.         dat = ascii.read(\\n67.             ["a", "1" * 10000], format="basic", fast_reader=fast_reader, guess=False\\n68.         )\\n69.     assert dat["a"].dtype.kind == expected_kind\\n70. \\n71. \\n72. def test_read_specify_converters_with_names():\\n73.     """\\n74.     Exact example from #9701: When using ascii.read with both the names and\\n75.     converters arguments, the converters dictionary ignores the user-supplied\\n76.     names and requires that you know the guessed names.\\n77.     """\\n78.     csv_text = ["a,b,c", "1,2,3", "4,5,6"]\\n79.     names = ["A", "B", "C"]\\n80. \\n81.     converters = {\\n82.         "A": [ascii.convert_numpy(float)],\\n83.         "B": [ascii.convert_numpy(int)],\\n84.         "C": [ascii.convert_numpy(str)],\\n85.     }\\n86.     t = ascii.read(csv_text, format="csv", names=names, converters=converters)\\n87.     assert t["A"].dtype.kind == "f"\\n88.     assert t["B"].dtype.kind == "i"\\n89.     assert t["C"].dtype.kind == "U"\\n90. \\n91. \\n92. def test_read_remove_and_rename_columns():\\n93.     csv_text = ["a,b,c", "1,2,3", "4,5,6"]\\n94.     reader = ascii.get_reader(Reader=ascii.Csv)\\n95.     reader.read(csv_text)\\n96.     header = reader.header\\n97.     with pytest.raises(KeyError, match="Column NOT-EXIST does not exist"):\\n98.         header.remove_columns(["NOT-EXIST"])\\n99. \\n100.     header.remove_columns(["c"])\\n101.     assert header.colnames == ("a", "b")\\n102. \\n103.     header.rename_column("a", "aa")\\n104.     assert header.colnames == ("aa", "b")\\n105. \\n106.     with pytest.raises(KeyError, match="Column NOT-EXIST does not exist"):\\n107.         header.rename_column("NOT-EXIST", "aa")\\n108. \\n109. \\n110. def test_guess_with_names_arg():\\n111.     """\\n112.     Make sure reading a table with guess=True gives the expected result when\\n113.     the names arg is specified.\\n114.     """\\n115.     # This is a NoHeader format table and so `names` should replace\\n116.     # the default col0, col1 names.  It fails as a Basic format\\n117.     # table when guessing because the column names would be \\\'1\\\', \\\'2\\\'.\\n118.     dat = ascii.read(["1,2", "3,4"], names=("a", "b"))\\n119.     assert len(dat) == 2\\n120.     assert dat.colnames == ["a", "b"]\\n121. \\n122.     # This is a Basic format table and the first row\\n123.     # gives the column names \\\'c\\\', \\\'d\\\', which get replaced by \\\'a\\\', \\\'b\\\'\\n124.     dat = ascii.read(["c,d", "3,4"], names=("a", "b"))\\n125.     assert len(dat) == 1\\n126.     assert dat.colnames == ["a", "b"]\\n127. \\n128.     # This is also a Basic format table and the first row\\n129.     # gives the column names \\\'c\\\', \\\'d\\\', which get replaced by \\\'a\\\', \\\'b\\\'\\n130.     dat = ascii.read(["c d", "e f"], names=("a", "b"))\\n131.     assert len(dat) == 1\\n132.     assert dat.colnames == ["a", "b"]\\n133. \\n134. \\n135. def test_guess_with_format_arg():\\n136.     """\\n137.     When the format or Reader is explicitly given then disable the\\n138.     strict column name checking in guessing.\\n139.     """\\n140.     dat = ascii.read(["1,2", "3,4"], format="basic")\\n141.     assert len(dat) == 1\\n142.     assert dat.colnames == ["1", "2"]\\n143. \\n144.     dat = ascii.read(["1,2", "3,4"], names=("a", "b"), format="basic")\\n145.     assert len(dat) == 1\\n146.     assert dat.colnames == ["a", "b"]\\n147. \\n148.     dat = ascii.read(["1,2", "3,4"], Reader=ascii.Basic)\\n149.     assert len(dat) == 1\\n150.     assert dat.colnames == ["1", "2"]\\n151. \\n152.     dat = ascii.read(["1,2", "3,4"], names=("a", "b"), Reader=ascii.Basic)\\n153.     assert len(dat) == 1\\n154.     assert dat.colnames == ["a", "b"]\\n155. \\n156.     # For good measure check the same in the unified I/O interface\\n157.     dat = Table.read(["1,2", "3,4"], format="ascii.basic")\\n158.     assert len(dat) == 1\\n159.     assert dat.colnames == ["1", "2"]\\n160. \\n161.     dat = Table.read(["1,2", "3,4"], format="ascii.basic", names=("a", "b"))\\n162.     assert len(dat) == 1\\n163.     assert dat.colnames == ["a", "b"]\\n164. \\n165. \\n166. def test_guess_with_delimiter_arg():\\n167.     """\\n168.     When the delimiter is explicitly given then do not try others in guessing.\\n169.     """\\n170.     fields = ["10.1E+19", "3.14", "2048", "-23"]\\n171.     values = [1.01e20, 3.14, 2048, -23]\\n172. \\n173.     # Default guess should recognise CSV with optional spaces\\n174.     t0 = ascii.read(asciiIO(", ".join(fields)), guess=True)\\n175.     for n, v in zip(t0.colnames, values):\\n176.         assert t0[n][0] == v\\n177. \\n178.     # Forcing space as delimiter produces type str columns (\\\'10.1E+19,\\\')\\n179.     t1 = ascii.read(asciiIO(", ".join(fields)), guess=True, delimiter=" ")\\n180.     for n, v in zip(t1.colnames[:-1], fields[:-1]):\\n181.         assert t1[n][0] == v + ","\\n182. \\n183. \\n184. def test_reading_mixed_delimiter_tabs_spaces():\\n185.     # Regression test for https://github.com/astropy/astropy/issues/6770\\n186.     dat = ascii.read("1 2\\\\t3\\\\n1 2\\\\t3", format="no_header", names=list("abc"))\\n187.     assert len(dat) == 2\\n188. \\n189.     Table.read(["1 2\\\\t3", "1 2\\\\t3"], format="ascii.no_header", names=["a", "b", "c"])\\n190.     assert len(dat) == 2\\n191. \\n192. \\n193. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n194. def test_read_with_names_arg(fast_reader):\\n195.     """\\n196.     Test that a bad value of `names` raises an exception.\\n197.     """\\n198.     # CParser only uses columns in `names` and thus reports mismatch in num_col\\n199.     with pytest.raises(ascii.InconsistentTableError):\\n200.         ascii.read(["c d", "e f"], names=("a",), guess=False, fast_reader=fast_reader)\\n201. \\n202. \\n203. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n204. @pytest.mark.parametrize("path_format", ["plain", "tilde-str", "tilde-pathlib"])\\n205. def test_read_all_files(fast_reader, path_format, home_is_data):\\n206.     for testfile in get_testfiles():\\n207.         if testfile.get("skip"):\\n208.             print(f"\\\\n\\\\n******** SKIPPING {testfile[\\\'name\\\']}")\\n209.             continue\\n210.         if "tilde" in path_format:\\n211.             if "str" in path_format:\\n212.                 testfile["name"] = "~/" + testfile["name"][5:]\\n213.             else:\\n214.                 testfile["name"] = pathlib.Path("~/", testfile["name"][5:])\\n215.         print(f"\\\\n\\\\n******** READING {testfile[\\\'name\\\']}")\\n216.         for guess in (True, False):\\n217.             test_opts = testfile["opts"].copy()\\n218.             if "guess" not in test_opts:\\n219.                 test_opts["guess"] = guess\\n220.             if (\\n221.                 "Reader" in test_opts\\n222.                 and f"fast_{test_opts[\\\'Reader\\\']._format_name}" in core.FAST_CLASSES\\n223.             ):  # has fast version\\n224.                 if "Inputter" not in test_opts:  # fast reader doesn\\\'t allow this\\n225.                     test_opts["fast_reader"] = fast_reader\\n226.             table = ascii.read(testfile["name"], **test_opts)\\n227.             assert_equal(table.dtype.names, testfile["cols"])\\n228.             for colname in table.dtype.names:\\n229.                 assert_equal(len(table[colname]), testfile["nrows"])\\n230. \\n231. \\n232. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n233. @pytest.mark.parametrize("path_format", ["plain", "tilde-str", "tilde-pathlib"])\\n234. def test_read_all_files_via_table(fast_reader, path_format, home_is_data):\\n235.     for testfile in get_testfiles():\\n236.         if testfile.get("skip"):\\n237.             print(f"\\\\n\\\\n******** SKIPPING {testfile[\\\'name\\\']}")\\n238.             continue\\n239.         if "tilde" in path_format:\\n240.             if "str" in path_format:\\n241.                 testfile["name"] = "~/" + testfile["name"][5:]\\n242.             else:\\n243.                 testfile["name"] = pathlib.Path("~/", testfile["name"][5:])\\n244.         print(f"\\\\n\\\\n******** READING {testfile[\\\'name\\\']}")\\n245.         for guess in (True, False):\\n246.             test_opts = testfile["opts"].copy()\\n247.             if "guess" not in test_opts:\\n248.                 test_opts["guess"] = guess\\n249.             if "Reader" in test_opts:\\n250.                 format = f"ascii.{test_opts[\\\'Reader\\\']._format_name}"\\n251.                 del test_opts["Reader"]\\n252.             else:\\n253.                 format = "ascii"\\n254.             if f"fast_{format}" in core.FAST_CLASSES:\\n255.                 test_opts["fast_reader"] = fast_reader\\n256.             table = Table.read(testfile["name"], format=format, **test_opts)\\n257.             assert_equal(table.dtype.names, testfile["cols"])\\n258.             for colname in table.dtype.names:\\n259.                 assert_equal(len(table[colname]), testfile["nrows"])\\n260. \\n261. \\n262. def test_guess_all_files():\\n263.     for testfile in get_testfiles():\\n264.         if testfile.get("skip"):\\n265.             print(f"\\\\n\\\\n******** SKIPPING {testfile[\\\'name\\\']}")\\n266.             continue\\n267.         if not testfile["opts"].get("guess", True):\\n268.             continue\\n269.         print(f"\\\\n\\\\n******** READING {testfile[\\\'name\\\']}")\\n270.         for filter_read_opts in (["Reader", "delimiter", "quotechar"], []):\\n271.             # Copy read options except for those in filter_read_opts\\n272.             guess_opts = {\\n273.                 k: v for k, v in testfile["opts"].items() if k not in filter_read_opts\\n274.             }\\n275.             table = ascii.read(testfile["name"], guess=True, **guess_opts)\\n276.             assert_equal(table.dtype.names, testfile["cols"])\\n277.             for colname in table.dtype.names:\\n278.                 assert_equal(len(table[colname]), testfile["nrows"])\\n279. \\n280. \\n281. def test_validate_read_kwargs():\\n282.     lines = ["a b", "1 2", "3 4"]\\n283.     # Check that numpy integers are allowed\\n284.     out = ascii.read(lines, data_start=np.int16(2))\\n285.     assert np.all(out["a"] == [3])\\n286. \\n287.     with pytest.raises(\\n288.         TypeError,\\n289.         match=r"read\\\\(\\\\) argument \\\'data_end\\\' must be a "\\n290.         r"<class \\\'int\\\'> object, "\\n291.         r"got <class \\\'str\\\'> instead",\\n292.     ):\\n293.         ascii.read(lines, data_end="needs integer")\\n294. \\n295.     with pytest.raises(\\n296.         TypeError,\\n297.         match=r"read\\\\(\\\\) argument \\\'fill_include_names\\\' must "\\n298.         r"be a list-like object, got <class \\\'str\\\'> instead",\\n299.     ):\\n300.         ascii.read(lines, fill_include_names="ID")\\n301. \\n302. \\n303. def test_daophot_indef():\\n304.     """Test that INDEF is correctly interpreted as a missing value"""\\n305.     table = ascii.read("data/daophot2.dat", Reader=ascii.Daophot)\\n306.     for col in table.itercols():\\n307.         # Four columns have all INDEF values and are masked, rest are normal Column\\n308.         if col.name in ("OTIME", "MAG", "MERR", "XAIRMASS"):\\n309.             assert np.all(col.mask)\\n310.         else:\\n311.             assert not hasattr(col, "mask")\\n312. \\n313. \\n314. def test_daophot_types():\\n315.     """\\n316.     Test specific data types which are different from what would be\\n317.     inferred automatically based only data values.  DAOphot reader uses\\n318.     the header information to assign types.\\n319.     """\\n320.     table = ascii.read("data/daophot2.dat", Reader=ascii.Daophot)\\n321.     assert table["LID"].dtype.char in "fd"  # float or double\\n322.     assert table["MAG"].dtype.char in "fd"  # even without any data values\\n323.     assert (\\n324.         table["PIER"].dtype.char in "US"\\n325.     )  # string (data values are consistent with int)\\n326.     assert table["ID"].dtype.char in "il"  # int or long\\n327. \\n328. \\n329. def test_daophot_header_keywords():\\n330.     table = ascii.read("data/daophot.dat", Reader=ascii.Daophot)\\n331.     expected_keywords = (\\n332.         ("NSTARFILE", "test.nst.1", "filename", "%-23s"),\\n333.         ("REJFILE", \\\'"hello world"\\\', "filename", "%-23s"),\\n334.         ("SCALE", "1.", "units/pix", "%-23.7g"),\\n335.     )\\n336. \\n337.     keywords = table.meta["keywords"]  # Ordered dict of keyword structures\\n338.     for name, value, units, format_ in expected_keywords:\\n339.         keyword = keywords[name]\\n340.         assert_equal(keyword["value"], value)\\n341.         assert_equal(keyword["units"], units)\\n342.         assert_equal(keyword["format"], format_)\\n343. \\n344. \\n345. def test_daophot_multiple_aperture():\\n346.     table = ascii.read("data/daophot3.dat", Reader=ascii.Daophot)\\n347.     assert "MAG5" in table.colnames  # MAG5 is one of the newly created column names\\n348.     assert table["MAG5"][4] == 22.13  # A sample entry in daophot3.dat file\\n349.     assert table["MERR2"][0] == 1.171\\n350.     assert np.all(\\n351.         table["RAPERT5"] == 23.3\\n352.     )  # assert all the 5th apertures are same 23.3\\n353. \\n354. \\n355. def test_daophot_multiple_aperture2():\\n356.     table = ascii.read("data/daophot4.dat", Reader=ascii.Daophot)\\n357.     assert "MAG15" in table.colnames  # MAG15 is one of the newly created column name\\n358.     assert table["MAG15"][1] == -7.573  # A sample entry in daophot4.dat file\\n359.     assert table["MERR2"][0] == 0.049\\n360.     assert np.all(table["RAPERT5"] == 5.0)  # assert all the 5th apertures are same 5.0\\n361. \\n362. \\n363. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n364. def test_empty_table_no_header(fast_reader):\\n365.     with pytest.raises(ascii.InconsistentTableError):\\n366.         ascii.read(\\n367.             "data/no_data_without_header.dat",\\n368.             Reader=ascii.NoHeader,\\n369.             guess=False,\\n370.             fast_reader=fast_reader,\\n371.         )\\n372. \\n373. \\n374. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n375. def test_wrong_quote(fast_reader):\\n376.     with pytest.raises(ascii.InconsistentTableError):\\n377.         ascii.read("data/simple.txt", guess=False, fast_reader=fast_reader)\\n378. \\n379. \\n380. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n381. def test_extra_data_col(fast_reader):\\n382.     with pytest.raises(ascii.InconsistentTableError):\\n383.         ascii.read("data/bad.txt", fast_reader=fast_reader)\\n384. \\n385. \\n386. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n387. def test_extra_data_col2(fast_reader):\\n388.     with pytest.raises(ascii.InconsistentTableError):\\n389.         ascii.read("data/simple5.txt", delimiter="|", fast_reader=fast_reader)\\n390. \\n391. \\n392. def test_missing_file():\\n393.     with pytest.raises(OSError):\\n394.         ascii.read("does_not_exist")\\n395. \\n396. \\n397. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n398. def test_set_names(fast_reader):\\n399.     names = ("c1", "c2", "c3", "c4", "c5", "c6")\\n400.     data = ascii.read(\\n401.         "data/simple3.txt", names=names, delimiter="|", fast_reader=fast_reader\\n402.     )\\n403.     assert_equal(data.dtype.names, names)\\n404. \\n405. \\n406. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n407. def test_set_include_names(fast_reader):\\n408.     names = ("c1", "c2", "c3", "c4", "c5", "c6")\\n409.     include_names = ("c1", "c3")\\n410.     data = ascii.read(\\n411.         "data/simple3.txt",\\n412.         names=names,\\n413.         include_names=include_names,\\n414.         delimiter="|",\\n415.         fast_reader=fast_reader,\\n416.     )\\n417.     assert_equal(data.dtype.names, include_names)\\n418. \\n419. \\n420. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n421. def test_set_exclude_names(fast_reader):\\n422.     exclude_names = ("Y", "object")\\n423.     data = ascii.read(\\n424.         "data/simple3.txt",\\n425.         exclude_names=exclude_names,\\n426.         delimiter="|",\\n427.         fast_reader=fast_reader,\\n428.     )\\n429.     assert_equal(data.dtype.names, ("obsid", "redshift", "X", "rad"))\\n430. \\n431. \\n432. def test_include_names_daophot():\\n433.     include_names = ("ID", "MAG", "PIER")\\n434.     data = ascii.read("data/daophot.dat", include_names=include_names)\\n435.     assert_equal(data.dtype.names, include_names)\\n436. \\n437. \\n438. def test_exclude_names_daophot():\\n439.     exclude_names = ("ID", "YCENTER", "MERR", "NITER", "CHI", "PERROR")\\n440.     data = ascii.read("data/daophot.dat", exclude_names=exclude_names)\\n441.     assert_equal(data.dtype.names, ("XCENTER", "MAG", "MSKY", "SHARPNESS", "PIER"))\\n442. \\n443. \\n444. def test_custom_process_lines():\\n445.     def process_lines(lines):\\n446.         bars_at_ends = re.compile(r"^\\\\| | \\\\|$", re.VERBOSE)\\n447.         striplines = (x.strip() for x in lines)\\n448.         return [bars_at_ends.sub("", x) for x in striplines if len(x) > 0]\\n449. \\n450.     reader = ascii.get_reader(delimiter="|")\\n451.     reader.inputter.process_lines = process_lines\\n452.     data = reader.read("data/bars_at_ends.txt")\\n453.     assert_equal(data.dtype.names, ("obsid", "redshift", "X", "Y", "object", "rad"))\\n454.     assert_equal(len(data), 3)\\n455. \\n456. \\n457. def test_custom_process_line():\\n458.     def process_line(line):\\n459.         line_out = re.sub(r"^\\\\|\\\\s*", "", line.strip())\\n460.         return line_out\\n461. \\n462.     reader = ascii.get_reader(data_start=2, delimiter="|")\\n463.     reader.header.splitter.process_line = process_line\\n464.     reader.data.splitter.process_line = process_line\\n465.     data = reader.read("data/nls1_stackinfo.dbout")\\n466.     cols = get_testfiles("data/nls1_stackinfo.dbout")["cols"]\\n467.     assert_equal(data.dtype.names, cols[1:])\\n468. \\n469. \\n470. def test_custom_splitters():\\n471.     reader = ascii.get_reader()\\n472.     reader.header.splitter = ascii.BaseSplitter()\\n473.     reader.data.splitter = ascii.BaseSplitter()\\n474.     f = "data/test4.dat"\\n475.     data = reader.read(f)\\n476.     testfile = get_testfiles(f)\\n477.     assert_equal(data.dtype.names, testfile["cols"])\\n478.     assert_equal(len(data), testfile["nrows"])\\n479.     assert_almost_equal(data.field("zabs1.nh")[2], 0.0839710433091)\\n480.     assert_almost_equal(data.field("p1.gamma")[2], 1.25997502704)\\n481.     assert_almost_equal(data.field("p1.ampl")[2], 0.000696444029148)\\n482.     assert_equal(data.field("statname")[2], "chi2modvar")\\n483.     assert_almost_equal(data.field("statval")[2], 497.56468441)\\n484. \\n485. \\n486. def test_start_end():\\n487.     data = ascii.read("data/test5.dat", header_start=1, data_start=3, data_end=-5)\\n488.     assert_equal(len(data), 13)\\n489.     assert_equal(data.field("statname")[0], "chi2xspecvar")\\n490.     assert_equal(data.field("statname")[-1], "chi2gehrels")\\n491. \\n492. \\n493. def test_set_converters():\\n494.     converters = {\\n495.         "zabs1.nh": [ascii.convert_numpy("int32"), ascii.convert_numpy("float32")],\\n496.         "p1.gamma": [ascii.convert_numpy("str")],\\n497.     }\\n498.     data = ascii.read("data/test4.dat", converters=converters)\\n499.     assert_equal(str(data["zabs1.nh"].dtype), "float32")\\n500.     assert_equal(data["p1.gamma"][0], "1.26764500000")\', \'start_line_number\': 1, \'end_line_number\': 500}\n\n{\'relative_path\': \'astropy/io/ascii/tests/test_read.py\', \'content\': \'501. \\n502. \\n503. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n504. def test_from_string(fast_reader):\\n505.     f = "data/simple.txt"\\n506.     with open(f) as fd:\\n507.         table = fd.read()\\n508.     testfile = get_testfiles(f)[0]\\n509.     data = ascii.read(table, fast_reader=fast_reader, **testfile["opts"])\\n510.     assert_equal(data.dtype.names, testfile["cols"])\\n511.     assert_equal(len(data), testfile["nrows"])\\n512. \\n513. \\n514. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n515. def test_from_filelike(fast_reader):\\n516.     f = "data/simple.txt"\\n517.     testfile = get_testfiles(f)[0]\\n518.     with open(f, "rb") as fd:\\n519.         data = ascii.read(fd, fast_reader=fast_reader, **testfile["opts"])\\n520.     assert_equal(data.dtype.names, testfile["cols"])\\n521.     assert_equal(len(data), testfile["nrows"])\\n522. \\n523. \\n524. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n525. def test_from_lines(fast_reader):\\n526.     f = "data/simple.txt"\\n527.     with open(f) as fd:\\n528.         table = fd.readlines()\\n529.     testfile = get_testfiles(f)[0]\\n530.     data = ascii.read(table, fast_reader=fast_reader, **testfile["opts"])\\n531.     assert_equal(data.dtype.names, testfile["cols"])\\n532.     assert_equal(len(data), testfile["nrows"])\\n533. \\n534. \\n535. def test_comment_lines():\\n536.     table = ascii.get_reader(Reader=ascii.Rdb)\\n537.     data = table.read("data/apostrophe.rdb")\\n538.     assert_equal(table.comment_lines, ["# first comment", "  # second comment"])\\n539.     assert_equal(data.meta["comments"], ["first comment", "second comment"])\\n540. \\n541. \\n542. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n543. def test_fill_values(fast_reader):\\n544.     f = "data/fill_values.txt"\\n545.     testfile = get_testfiles(f)\\n546.     data = ascii.read(\\n547.         f, fill_values=("a", "1"), fast_reader=fast_reader, **testfile["opts"]\\n548.     )\\n549.     assert_true((data["a"].mask == [False, True]).all())\\n550.     assert_true((data["a"] == [1, 1]).all())\\n551.     assert_true((data["b"].mask == [False, True]).all())\\n552.     assert_true((data["b"] == [2, 1]).all())\\n553. \\n554. \\n555. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n556. def test_fill_values_col(fast_reader):\\n557.     f = "data/fill_values.txt"\\n558.     testfile = get_testfiles(f)\\n559.     data = ascii.read(\\n560.         f, fill_values=("a", "1", "b"), fast_reader=fast_reader, **testfile["opts"]\\n561.     )\\n562.     check_fill_values(data)\\n563. \\n564. \\n565. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n566. def test_fill_values_include_names(fast_reader):\\n567.     f = "data/fill_values.txt"\\n568.     testfile = get_testfiles(f)\\n569.     data = ascii.read(\\n570.         f,\\n571.         fill_values=("a", "1"),\\n572.         fast_reader=fast_reader,\\n573.         fill_include_names=["b"],\\n574.         **testfile["opts"],\\n575.     )\\n576.     check_fill_values(data)\\n577. \\n578. \\n579. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n580. def test_fill_values_exclude_names(fast_reader):\\n581.     f = "data/fill_values.txt"\\n582.     testfile = get_testfiles(f)\\n583.     data = ascii.read(\\n584.         f,\\n585.         fill_values=("a", "1"),\\n586.         fast_reader=fast_reader,\\n587.         fill_exclude_names=["a"],\\n588.         **testfile["opts"],\\n589.     )\\n590.     check_fill_values(data)\\n591. \\n592. \\n593. def check_fill_values(data):\\n594.     """compare array column by column with expectation"""\\n595.     assert not hasattr(data["a"], "mask")\\n596.     assert_true((data["a"] == ["1", "a"]).all())\\n597.     assert_true((data["b"].mask == [False, True]).all())\\n598.     # Check that masked value is "do not care" in comparison\\n599.     assert_true((data["b"] == [2, -999]).all())\\n600.     data["b"].mask = False  # explicitly unmask for comparison\\n601.     assert_true((data["b"] == [2, 1]).all())\\n602. \\n603. \\n604. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n605. def test_fill_values_list(fast_reader):\\n606.     f = "data/fill_values.txt"\\n607.     testfile = get_testfiles(f)\\n608.     data = ascii.read(\\n609.         f,\\n610.         fill_values=[("a", "42"), ("1", "42", "a")],\\n611.         fast_reader=fast_reader,\\n612.         **testfile["opts"],\\n613.     )\\n614.     data["a"].mask = False  # explicitly unmask for comparison\\n615.     assert_true((data["a"] == [42, 42]).all())\\n616. \\n617. \\n618. def test_masking_Cds_Mrt():\\n619.     f = "data/cds.dat"  # Tested for CDS and MRT\\n620.     for testfile in get_testfiles(f):\\n621.         data = ascii.read(f, **testfile["opts"])\\n622.         assert_true(data["AK"].mask[0])\\n623.         assert not hasattr(data["Fit"], "mask")\\n624. \\n625. \\n626. def test_null_Ipac():\\n627.     f = "data/ipac.dat"\\n628.     testfile = get_testfiles(f)[0]\\n629.     data = ascii.read(f, **testfile["opts"])\\n630.     mask = np.array(\\n631.         [(True, False, True, False, True), (False, False, False, False, False)],\\n632.         dtype=[\\n633.             ("ra", "|b1"),\\n634.             ("dec", "|b1"),\\n635.             ("sai", "|b1"),\\n636.             ("v2", "|b1"),\\n637.             ("sptype", "|b1"),\\n638.         ],\\n639.     )\\n640.     assert np.all(data.mask == mask)\\n641. \\n642. \\n643. def test_Ipac_meta():\\n644.     keywords = OrderedDict(\\n645.         (\\n646.             ("intval", 1),\\n647.             ("floatval", 2.3e3),\\n648.             ("date", "Wed Sp 20 09:48:36 1995"),\\n649.             ("key_continue", "IPAC keywords can continue across lines"),\\n650.         )\\n651.     )\\n652.     comments = ["This is an example of a valid comment"]\\n653.     f = "data/ipac.dat"\\n654.     testfile = get_testfiles(f)[0]\\n655.     data = ascii.read(f, **testfile["opts"])\\n656.     assert data.meta["keywords"].keys() == keywords.keys()\\n657.     for data_kv, kv in zip(data.meta["keywords"].values(), keywords.values()):\\n658.         assert data_kv["value"] == kv\\n659.     assert data.meta["comments"] == comments\\n660. \\n661. \\n662. def test_set_guess_kwarg():\\n663.     """Read a file using guess with one of the typical guess_kwargs explicitly set."""\\n664.     data = ascii.read("data/space_delim_no_header.dat", delimiter=",", guess=True)\\n665.     assert data.dtype.names == ("1 3.4 hello",)\\n666.     assert len(data) == 1\\n667. \\n668. \\n669. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n670. def test_read_rdb_wrong_type(fast_reader):\\n671.     """Read RDB data with inconsistent data type (except failure)"""\\n672.     table = """col1\\\\tcol2\\n673. N\\\\tN\\n674. 1\\\\tHello"""\\n675.     with pytest.raises(ValueError):\\n676.         ascii.read(table, Reader=ascii.Rdb, fast_reader=fast_reader)\\n677. \\n678. \\n679. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n680. def test_default_missing(fast_reader):\\n681.     """\\n682.     Read a table with empty values and ensure that corresponding entries are masked\\n683.     """\\n684.     table = "\\\\n".join(\\n685.         [\\n686.             "a,b,c,d",\\n687.             "1,3,,",\\n688.             "2, , 4.0 , ss ",\\n689.         ]\\n690.     )\\n691.     dat = ascii.read(table, fast_reader=fast_reader)\\n692.     assert dat.masked is False\\n693.     assert dat.pformat() == [\\n694.         " a   b   c   d ",\\n695.         "--- --- --- ---",\\n696.         "  1   3  --  --",\\n697.         "  2  -- 4.0  ss",\\n698.     ]\\n699. \\n700.     # Single row table with a single missing element\\n701.     table = """ a \\\\n "" """\\n702.     dat = ascii.read(table, fast_reader=fast_reader)\\n703.     assert dat.pformat() == [" a ", "---", " --"]\\n704.     assert dat["a"].dtype.kind == "i"\\n705. \\n706.     # Same test with a fixed width reader\\n707.     table = "\\\\n".join(\\n708.         [\\n709.             " a   b   c   d ",\\n710.             "--- --- --- ---",\\n711.             "  1   3        ",\\n712.             "  2     4.0  ss",\\n713.         ]\\n714.     )\\n715.     dat = ascii.read(table, Reader=ascii.FixedWidthTwoLine)\\n716.     assert dat.masked is False\\n717.     assert dat.pformat() == [\\n718.         " a   b   c   d ",\\n719.         "--- --- --- ---",\\n720.         "  1   3  --  --",\\n721.         "  2  -- 4.0  ss",\\n722.     ]\\n723. \\n724.     dat = ascii.read(table, Reader=ascii.FixedWidthTwoLine, fill_values=None)\\n725.     assert dat.masked is False\\n726.     assert dat.pformat() == [\\n727.         " a   b   c   d ",\\n728.         "--- --- --- ---",\\n729.         "  1   3        ",\\n730.         "  2     4.0  ss",\\n731.     ]\\n732. \\n733.     dat = ascii.read(table, Reader=ascii.FixedWidthTwoLine, fill_values=[])\\n734.     assert dat.masked is False\\n735.     assert dat.pformat() == [\\n736.         " a   b   c   d ",\\n737.         "--- --- --- ---",\\n738.         "  1   3        ",\\n739.         "  2     4.0  ss",\\n740.     ]\\n741. \\n742. \\n743. def get_testfiles(name=None):\\n744.     """Set up information about the columns, number of rows, and reader params to\\n745.     read a bunch of test files and verify columns and number of rows."""\\n746. \\n747.     testfiles = [\\n748.         {\\n749.             "cols": ("agasc_id", "n_noids", "n_obs"),\\n750.             "name": "data/apostrophe.rdb",\\n751.             "nrows": 2,\\n752.             "opts": {"Reader": ascii.Rdb},\\n753.         },\\n754.         {\\n755.             "cols": ("agasc_id", "n_noids", "n_obs"),\\n756.             "name": "data/apostrophe.tab",\\n757.             "nrows": 2,\\n758.             "opts": {"Reader": ascii.Tab},\\n759.         },\\n760.         {\\n761.             "cols": (\\n762.                 "Index",\\n763.                 "RAh",\\n764.                 "RAm",\\n765.                 "RAs",\\n766.                 "DE-",\\n767.                 "DEd",\\n768.                 "DEm",\\n769.                 "DEs",\\n770.                 "Match",\\n771.                 "Class",\\n772.                 "AK",\\n773.                 "Fit",\\n774.             ),\\n775.             "name": "data/cds.dat",\\n776.             "nrows": 1,\\n777.             "opts": {"Reader": ascii.Cds},\\n778.         },\\n779.         {\\n780.             "cols": (\\n781.                 "Index",\\n782.                 "RAh",\\n783.                 "RAm",\\n784.                 "RAs",\\n785.                 "DE-",\\n786.                 "DEd",\\n787.                 "DEm",\\n788.                 "DEs",\\n789.                 "Match",\\n790.                 "Class",\\n791.                 "AK",\\n792.                 "Fit",\\n793.             ),\\n794.             "name": "data/cds.dat",\\n795.             "nrows": 1,\\n796.             "opts": {"Reader": ascii.Mrt},\\n797.         },\\n798.         # Test malformed CDS file (issues #2241 #467)\\n799.         {\\n800.             "cols": (\\n801.                 "Index",\\n802.                 "RAh",\\n803.                 "RAm",\\n804.                 "RAs",\\n805.                 "DE-",\\n806.                 "DEd",\\n807.                 "DEm",\\n808.                 "DEs",\\n809.                 "Match",\\n810.                 "Class",\\n811.                 "AK",\\n812.                 "Fit",\\n813.             ),\\n814.             "name": "data/cds_malformed.dat",\\n815.             "nrows": 1,\\n816.             "opts": {"Reader": ascii.Cds, "data_start": "guess"},\\n817.         },\\n818.         {\\n819.             "cols": ("a", "b", "c"),\\n820.             "name": "data/commented_header.dat",\\n821.             "nrows": 2,\\n822.             "opts": {"Reader": ascii.CommentedHeader},\\n823.         },\\n824.         {\\n825.             "cols": ("a", "b", "c"),\\n826.             "name": "data/commented_header2.dat",\\n827.             "nrows": 2,\\n828.             "opts": {"Reader": ascii.CommentedHeader, "header_start": -1},\\n829.         },\\n830.         {\\n831.             "cols": ("col1", "col2", "col3", "col4", "col5"),\\n832.             "name": "data/continuation.dat",\\n833.             "nrows": 2,\\n834.             "opts": {\\n835.                 "Inputter": ascii.ContinuationLinesInputter,\\n836.                 "Reader": ascii.NoHeader,\\n837.             },\\n838.         },\\n839.         {\\n840.             "cols": (\\n841.                 "ID",\\n842.                 "XCENTER",\\n843.                 "YCENTER",\\n844.                 "MAG",\\n845.                 "MERR",\\n846.                 "MSKY",\\n847.                 "NITER",\\n848.                 "SHARPNESS",\\n849.                 "CHI",\\n850.                 "PIER",\\n851.                 "PERROR",\\n852.             ),\\n853.             "name": "data/daophot.dat",\\n854.             "nrows": 2,\\n855.             "opts": {"Reader": ascii.Daophot},\\n856.         },\\n857.         {\\n858.             "cols": (\\n859.                 "NUMBER",\\n860.                 "FLUX_ISO",\\n861.                 "FLUXERR_ISO",\\n862.                 "VALU-ES",\\n863.                 "VALU-ES_1",\\n864.                 "FLAG",\\n865.             ),\\n866.             "name": "data/sextractor.dat",\\n867.             "nrows": 3,\\n868.             "opts": {"Reader": ascii.SExtractor},\\n869.         },\\n870.         {\\n871.             "cols": ("ra", "dec", "sai", "v2", "sptype"),\\n872.             "name": "data/ipac.dat",\\n873.             "nrows": 2,\\n874.             "opts": {"Reader": ascii.Ipac},\\n875.         },\\n876.         {\\n877.             "cols": (\\n878.                 "col0",\\n879.                 "objID",\\n880.                 "osrcid",\\n881.                 "xsrcid",\\n882.                 "SpecObjID",\\n883.                 "ra",\\n884.                 "dec",\\n885.                 "obsid",\\n886.                 "ccdid",\\n887.                 "z",\\n888.                 "modelMag_i",\\n889.                 "modelMagErr_i",\\n890.                 "modelMag_r",\\n891.                 "modelMagErr_r",\\n892.                 "expo",\\n893.                 "theta",\\n894.                 "rad_ecf_39",\\n895.                 "detlim90",\\n896.                 "fBlim90",\\n897.             ),\\n898.             "name": "data/nls1_stackinfo.dbout",\\n899.             "nrows": 58,\\n900.             "opts": {"data_start": 2, "delimiter": "|", "guess": False},\\n901.         },\\n902.         {\\n903.             "cols": (\\n904.                 "Index",\\n905.                 "RAh",\\n906.                 "RAm",\\n907.                 "RAs",\\n908.                 "DE-",\\n909.                 "DEd",\\n910.                 "DEm",\\n911.                 "DEs",\\n912.                 "Match",\\n913.                 "Class",\\n914.                 "AK",\\n915.                 "Fit",\\n916.             ),\\n917.             "name": "data/no_data_cds.dat",\\n918.             "nrows": 0,\\n919.             "opts": {"Reader": ascii.Cds},\\n920.         },\\n921.         {\\n922.             "cols": (\\n923.                 "Index",\\n924.                 "RAh",\\n925.                 "RAm",\\n926.                 "RAs",\\n927.                 "DE-",\\n928.                 "DEd",\\n929.                 "DEm",\\n930.                 "DEs",\\n931.                 "Match",\\n932.                 "Class",\\n933.                 "AK",\\n934.                 "Fit",\\n935.             ),\\n936.             "name": "data/no_data_cds.dat",\\n937.             "nrows": 0,\\n938.             "opts": {"Reader": ascii.Mrt},\\n939.         },\\n940.         {\\n941.             "cols": (\\n942.                 "ID",\\n943.                 "XCENTER",\\n944.                 "YCENTER",\\n945.                 "MAG",\\n946.                 "MERR",\\n947.                 "MSKY",\\n948.                 "NITER",\\n949.                 "SHARPNESS",\\n950.                 "CHI",\\n951.                 "PIER",\\n952.                 "PERROR",\\n953.             ),\\n954.             "name": "data/no_data_daophot.dat",\\n955.             "nrows": 0,\\n956.             "opts": {"Reader": ascii.Daophot},\\n957.         },\\n958.         {\\n959.             "cols": ("NUMBER", "FLUX_ISO", "FLUXERR_ISO", "VALUES", "VALUES_1", "FLAG"),\\n960.             "name": "data/no_data_sextractor.dat",\\n961.             "nrows": 0,\\n962.             "opts": {"Reader": ascii.SExtractor},\\n963.         },\\n964.         {\\n965.             "cols": ("ra", "dec", "sai", "v2", "sptype"),\\n966.             "name": "data/no_data_ipac.dat",\\n967.             "nrows": 0,\\n968.             "opts": {"Reader": ascii.Ipac},\\n969.         },\\n970.         {\\n971.             "cols": ("ra", "v2"),\\n972.             "name": "data/ipac.dat",\\n973.             "nrows": 2,\\n974.             "opts": {"Reader": ascii.Ipac, "include_names": ["ra", "v2"]},\\n975.         },\\n976.         {\\n977.             "cols": ("a", "b", "c"),\\n978.             "name": "data/no_data_with_header.dat",\\n979.             "nrows": 0,\\n980.             "opts": {},\\n981.         },\\n982.         {\\n983.             "cols": ("agasc_id", "n_noids", "n_obs"),\\n984.             "name": "data/short.rdb",\\n985.             "nrows": 7,\\n986.             "opts": {"Reader": ascii.Rdb},\\n987.         },\\n988.         {\\n989.             "cols": ("agasc_id", "n_noids", "n_obs"),\\n990.             "name": "data/short.tab",\\n991.             "nrows": 7,\\n992.             "opts": {"Reader": ascii.Tab},\\n993.         },\\n994.         {\\n995.             "cols": ("test 1a", "test2", "test3", "test4"),\\n996.             "name": "data/simple.txt",\\n997.             "nrows": 2,\\n998.             "opts": {"quotechar": "\\\'"},\\n999.         },\\n1000.         {\\n1001.             "cols": ("top1", "top2", "top3", "top4"),\\n1002.             "name": "data/simple.txt",\\n1003.             "nrows": 1,\\n1004.             "opts": {"quotechar": "\\\'", "header_start": 1, "data_start": 2},\\n1005.         },\\n1006.         {\\n1007.             "cols": ("top1", "top2", "top3", "top4"),\\n1008.             "name": "data/simple.txt",\\n1009.             "nrows": 1,\\n1010.             "opts": {"quotechar": "\\\'", "header_start": 1},\\n1011.         },\\n1012.         {\\n1013.             "cols": ("top1", "top2", "top3", "top4"),\\n1014.             "name": "data/simple.txt",\\n1015.             "nrows": 2,\\n1016.             "opts": {"quotechar": "\\\'", "header_start": 1, "data_start": 1},\\n1017.         },\\n1018.         {\\n1019.             "cols": ("obsid", "redshift", "X", "Y", "object", "rad"),\\n1020.             "name": "data/simple2.txt",\\n1021.             "nrows": 3,\\n1022.             "opts": {"delimiter": "|"},\\n1023.         },\\n1024.         {\\n1025.             "cols": ("obsid", "redshift", "X", "Y", "object", "rad"),\\n1026.             "name": "data/simple3.txt",\\n1027.             "nrows": 2,\\n1028.             "opts": {"delimiter": "|"},\\n1029.         },\\n1030.         {\\n1031.             "cols": ("col1", "col2", "col3", "col4", "col5", "col6"),\\n1032.             "name": "data/simple4.txt",\\n1033.             "nrows": 3,\\n1034.             "opts": {"Reader": ascii.NoHeader, "delimiter": "|"},\\n1035.         },\\n1036.         {\\n1037.             "cols": ("col1", "col2", "col3"),\\n1038.             "name": "data/space_delim_no_header.dat",\\n1039.             "nrows": 2,\\n1040.             "opts": {"Reader": ascii.NoHeader},\\n1041.         },\\n1042.         {\\n1043.             "cols": ("col1", "col2", "col3"),\\n1044.             "name": "data/space_delim_no_header.dat",\\n1045.             "nrows": 2,\\n1046.             "opts": {"Reader": ascii.NoHeader, "header_start": None},\\n1047.         },\\n1048.         {\\n1049.             "cols": ("obsid", "offset", "x", "y", "name", "oaa"),\\n1050.             "name": "data/space_delim_blank_lines.txt",\\n1051.             "nrows": 3,\\n1052.             "opts": {},\\n1053.         },\\n1054.         {\\n1055.             "cols": ("zabs1.nh", "p1.gamma", "p1.ampl", "statname", "statval"),\\n1056.             "name": "data/test4.dat",\\n1057.             "nrows": 9,\\n1058.             "opts": {},\\n1059.         },\\n1060.         {\\n1061.             "cols": ("a", "b", "c"),\\n1062.             "name": "data/fill_values.txt",\\n1063.             "nrows": 2,\\n1064.             "opts": {"delimiter": ","},\\n1065.         },\\n1066.         {\\n1067.             "name": "data/whitespace.dat",\\n1068.             "cols": ("quoted colname with tab\\\\tinside", "col2", "col3"),\\n1069.             "nrows": 2,\\n1070.             "opts": {"delimiter": r"\\\\s"},\\n1071.         },\\n1072.         {\\n1073.             "name": "data/simple_csv.csv",\\n1074.             "cols": ("a", "b", "c"),\\n1075.             "nrows": 2,\\n1076.             "opts": {"Reader": ascii.Csv},\\n1077.         },\\n1078.         {\\n1079.             "name": "data/simple_csv_missing.csv",\\n1080.             "cols": ("a", "b", "c"),\\n1081.             "nrows": 2,\\n1082.             "skip": True,\\n1083.             "opts": {"Reader": ascii.Csv},\\n1084.         },\\n1085.         {\\n1086.             "cols": ("cola", "colb", "colc"),\\n1087.             "name": "data/latex1.tex",\\n1088.             "nrows": 2,\\n1089.             "opts": {"Reader": ascii.Latex},\\n1090.         },\\n1091.         {\\n1092.             "cols": ("Facility", "Id", "exposure", "date"),\\n1093.             "name": "data/latex2.tex",\\n1094.             "nrows": 3,\\n1095.             "opts": {"Reader": ascii.AASTex},\\n1096.         },\\n1097.         {\\n1098.             "cols": ("cola", "colb", "colc"),\\n1099.             "name": "data/latex3.tex",\\n1100.             "nrows": 2,\\n1101.             "opts": {"Reader": ascii.Latex},\\n1102.         },\\n1103.         {\\n1104.             "cols": ("Col1", "Col2", "Col3", "Col4"),\\n1105.             "name": "data/fixed_width_2_line.txt",\\n1106.             "nrows": 2,\\n1107.             "opts": {"Reader": ascii.FixedWidthTwoLine},\\n1108.         },\\n1109.     ]\\n1110. \\n1111.     try:\\n1112.         import bs4  # noqa: F401\\n1113. \\n1114.         testfiles.append(\\n1115.             {\\n1116.                 "cols": ("Column 1", "Column 2", "Column 3"),\\n1117.                 "name": "data/html.html",\\n1118.                 "nrows": 3,\\n1119.                 "opts": {"Reader": ascii.HTML},\\n1120.             }\\n1121.         )\\n1122.     except ImportError:\\n1123.         pass\\n1124. \\n1125.     if name is not None:\\n1126.         # If there are multiple matches then return a list, else return just\\n1127.         # the one match.\\n1128.         out = [x for x in testfiles if x["name"] == name]\\n1129.         if len(out) == 1:\\n1130.             out = out[0]\\n1131.     else:\\n1132.         out = testfiles\\n1133. \\n1134.     return out\\n1135. \\n1136. \\n1137. def test_header_start_exception():\\n1138.     """Check certain Readers throw an exception if ``header_start`` is set\\n1139. \\n1140.     For certain Readers it does not make sense to set the ``header_start``, they\\n1141.     throw an exception if you try.\\n1142.     This was implemented in response to issue #885.\\n1143.     """\\n1144.     for readerclass in [\\n1145.         ascii.NoHeader,\\n1146.         ascii.SExtractor,\\n1147.         ascii.Ipac,\\n1148.         ascii.BaseReader,\\n1149.         ascii.FixedWidthNoHeader,\\n1150.         ascii.Cds,\\n1151.         ascii.Mrt,\\n1152.         ascii.Daophot,\\n1153.     ]:\\n1154.         with pytest.raises(ValueError):\\n1155.             ascii.core._get_reader(readerclass, header_start=5)\\n1156. \\n1157. \\n1158. def test_csv_table_read():\\n1159.     """\\n1160.     Check for a regression introduced by #1935.  Pseudo-CSV file with\\n1161.     commented header line.\\n1162.     """\\n1163.     lines = ["# a, b", "1, 2", "3, 4"]\\n1164.     t = ascii.read(lines)\\n1165.     assert t.colnames == ["a", "b"]\\n1166. \\n1167. \\n1168. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n1169. def test_overlapping_names(fast_reader):\\n1170.     """\\n1171.     Check that the names argument list can overlap with the existing column names.\\n1172.     This tests the issue in #1991.\\n1173.     """\\n1174.     t = ascii.read(["a b", "1 2"], names=["b", "a"], fast_reader=fast_reader)\\n1175.     assert t.colnames == ["b", "a"]\\n1176. \\n1177. \\n1178. def test_sextractor_units():\\n1179.     """\\n1180.     Make sure that the SExtractor reader correctly inputs descriptions and units.\\n1181.     """\\n1182.     table = ascii.read("data/sextractor2.dat", Reader=ascii.SExtractor, guess=False)\\n1183.     expected_units = [\\n1184.         None,\\n1185.         Unit("pix"),\\n1186.         Unit("pix"),\\n1187.         Unit("mag"),\\n1188.         Unit("mag"),\\n1189.         None,\\n1190.         Unit("pix**2"),\\n1191.         Unit("m**(-6)"),\\n1192.         Unit("mag * arcsec**(-2)"),\\n1193.     ]\\n1194.     expected_descrs = [\\n1195.         "Running object number",\\n1196.         "Windowed position estimate along x",\\n1197.         "Windowed position estimate along y",\\n1198.         "Kron-like elliptical aperture magnitude",\\n1199.         "RMS error for AUTO magnitude",\\n1200.         "Extraction flags",\\n1201.         None,\\n1202.         "Barycenter position along MAMA x axis",\\n1203.         "Peak surface brightness above background",\\n1204.     ]\\n1205.     for i, colname in enumerate(table.colnames):\\n1206.         assert table[colname].unit == expected_units[i]\\n1207.         assert table[colname].description == expected_descrs[i]\\n1208. \\n1209. \\n1210. def test_sextractor_last_column_array():\\n1211.     """\\n1212.     Make sure that the SExtractor reader handles the last column correctly when it is array-like.\\n1213.     """\\n1214.     table = ascii.read("data/sextractor3.dat", Reader=ascii.SExtractor, guess=False)\\n1215.     expected_columns = [\\n1216.         "X_IMAGE",\\n1217.         "Y_IMAGE",\\n1218.         "ALPHA_J2000",\\n1219.         "DELTA_J2000",\\n1220.         "MAG_AUTO",\\n1221.         "MAGERR_AUTO",\\n1222.         "MAG_APER",\\n1223.         "MAG_APER_1",\\n1224.         "MAG_APER_2",\\n1225.         "MAG_APER_3",\\n1226.         "MAG_APER_4",\\n1227.         "MAG_APER_5",\\n1228.         "MAG_APER_6",\\n1229.         "MAGERR_APER",\\n1230.         "MAGERR_APER_1",\\n1231.         "MAGERR_APER_2",\\n1232.         "MAGERR_APER_3",\\n1233.         "MAGERR_APER_4",\\n1234.         "MAGERR_APER_5",\\n1235.         "MAGERR_APER_6",\\n1236.     ]\\n1237.     expected_units = [\\n1238.         Unit("pix"),\\n1239.         Unit("pix"),\\n1240.         Unit("deg"),\\n1241.         Unit("deg"),\\n1242.         Unit("mag"),\\n1243.         Unit("mag"),\\n1244.         Unit("mag"),\\n1245.         Unit("mag"),\\n1246.         Unit("mag"),\\n1247.         Unit("mag"),\\n1248.         Unit("mag"),\\n1249.         Unit("mag"),\\n1250.         Unit("mag"),\\n1251.         Unit("mag"),\\n1252.         Unit("mag"),\\n1253.         Unit("mag"),\\n1254.         Unit("mag"),\\n1255.         Unit("mag"),\\n1256.         Unit("mag"),\\n1257.         Unit("mag"),\\n1258.     ]\\n1259.     expected_descrs = (\\n1260.         [\\n1261.             "Object position along x",\\n1262.             None,\\n1263.             "Right ascension of barycenter (J2000)",\\n1264.             "Declination of barycenter (J2000)",\\n1265.             "Kron-like elliptical aperture magnitude",\\n1266.             "RMS error for AUTO magnitude",\\n1267.         ]\\n1268.         + ["Fixed aperture magnitude vector"] * 7\\n1269.         + ["RMS error vector for fixed aperture mag."] * 7\\n1270.     )\\n1271.     for i, colname in enumerate(table.colnames):\\n1272.         assert table[colname].name == expected_columns[i]\\n1273.         assert table[colname].unit == expected_units[i]\\n1274.         assert table[colname].description == expected_descrs[i]\\n1275. \\n1276. \\n1277. def test_list_with_newlines():\\n1278.     """\\n1279.     Check that lists of strings where some strings consist of just a newline\\n1280.     ("\\\\n") are parsed correctly.\\n1281.     """\\n1282.     t = ascii.read(["abc", "123\\\\n", "456\\\\n", "\\\\n", "\\\\n"])\\n1283.     assert t.colnames == ["abc"]\\n1284.     assert len(t) == 2\\n1285.     assert t[0][0] == 123\\n1286.     assert t[1][0] == 456\\n1287. \\n1288. \\n1289. def test_commented_csv():\\n1290.     """\\n1291.     Check that Csv reader does not have ignore lines with the # comment\\n1292.     character which is defined for most Basic readers.\\n1293.     """\\n1294.     t = ascii.read(["#a,b", "1,2", "#3,4"], format="csv")\\n1295.     assert t.colnames == ["#a", "b"]\\n1296.     assert len(t) == 2\\n1297.     assert t["#a"][1] == "#3"\\n1298. \\n1299. \\n1300. def test_meta_comments():\\n1301.     """\\n1302.     Make sure that line comments are included in the ``meta`` attribute\\n1303.     of the output Table.\\n1304.     """\\n1305.     t = ascii.read(["#comment1", "#   comment2 \\\\t", "a,b,c", "1,2,3"])\\n1306.     assert t.colnames == ["a", "b", "c"]\\n1307.     assert t.meta["comments"] == ["comment1", "comment2"]\\n1308. \\n1309. \\n1310. def test_guess_fail():\\n1311.     """\\n1312.     Check the error message when guess fails\\n1313.     """\\n1314.     with pytest.raises(ascii.InconsistentTableError) as err:\\n1315.         ascii.read("asfdasdf\\\\n1 2 3", format="basic")\\n1316.     assert "** To figure out why the table did not read, use guess=False and" in str(\\n1317.         err.value\\n1318.     )\\n1319. \\n1320.     # Test the case with guessing enabled but for a format that has no free params\\n1321.     with pytest.raises(ValueError) as err:\\n1322.         ascii.read("asfdasdf\\\\n1 2 3", format="ipac")\\n1323.     assert (\\n1324.         "At least one header line beginning and ending with delimiter required"\\n1325.         in str(err.value)\\n1326.     )\\n1327. \\n1328.     # Test the case with guessing enabled but with all params specified\\n1329.     with pytest.raises(ValueError) as err:\\n1330.         ascii.read(\\n1331.             "asfdasdf\\\\n1 2 3",\\n1332.             format="basic",\\n1333.             quotechar=\\\'"\\\',\\n1334.             delimiter=" ",\\n1335.             fast_reader=False,\\n1336.         )\\n1337.     assert "Number of header columns (1) inconsistent with data columns (3)" in str(\\n1338.         err.value\\n1339.     )\\n1340. \\n1341. \\n1342. @pytest.mark.xfail(not HAS_BZ2, reason="requires bz2")\\n1343. def test_guessing_file_object():\\n1344.     """\\n1345.     Test guessing a file object.  Fixes #3013 and similar issue noted in #3019.\\n1346.     """\\n1347.     with open("data/ipac.dat.bz2", "rb") as fd:\\n1348.         t = ascii.read(fd)\\n1349.     assert t.colnames == ["ra", "dec", "sai", "v2", "sptype"]\\n1350. \\n1351. \\n1352. def test_pformat_roundtrip():\\n1353.     """Check that the screen output of ``print tab`` can be read. See #3025."""\\n1354.     """Read a table with empty values and ensure that corresponding entries are masked"""\\n1355.     table = "\\\\n".join(["a,b,c,d", "1,3,1.11,1", "2, 2, 4.0 , ss "])\\n1356.     dat = ascii.read(table)\\n1357.     out = ascii.read(dat.pformat())\\n1358.     assert len(dat) == len(out)\\n1359.     assert dat.colnames == out.colnames\\n1360.     for c in dat.colnames:\\n1361.         assert np.all(dat[c] == out[c])\\n1362. \\n1363. \\n1364. def test_ipac_abbrev():\\n1365.     lines = [\\n1366.         "| c1 | c2 | c3   |   c4 | c5| c6 | c7  | c8 | c9|c10|c11|c12|",\\n1367.         "| r  | rE | rea  | real | D | do | dou | f  | i | l | da| c |",\\n1368.         "  1    2    3       4     5   6    7     8    9   10  11  12 ",\\n1369.     ]\\n1370.     dat = ascii.read(lines, format="ipac")\\n1371.     for name in dat.columns[0:8]:\\n1372.         assert dat[name].dtype.kind == "f"\\n1373.     for name in dat.columns[8:10]:\\n1374.         assert dat[name].dtype.kind == "i"\\n1375.     for name in dat.columns[10:12]:\\n1376.         assert dat[name].dtype.kind in ("U", "S")\\n1377. \\n1378. \\n1379. def test_almost_but_not_quite_daophot():\\n1380.     """Regression test for #3319.\\n1381.     This tables looks so close to a daophot table, that the daophot reader gets\\n1382.     quite far before it fails with an AttributeError.\\n1383. \\n1384.     Note that this table will actually be read as Commented Header table with\\n1385.     the columns [\\\'some\\\', \\\'header\\\', \\\'info\\\'].\\n1386.     """\\n1387.     lines = [\\n1388.         "# some header info",\\n1389.         "#F header info beginning with \\\'F\\\'",\\n1390.         "1 2 3",\\n1391.         "4 5 6",\\n1392.         "7 8 9",\\n1393.     ]\\n1394.     dat = ascii.read(lines)\\n1395.     assert len(dat) == 3\\n1396. \\n1397. \\n1398. @pytest.mark.parametrize("fast", [False, "force"])\\n1399. def test_commented_header_comments(fast):\\n1400.     """\\n1401.     Test that comments in commented_header are as expected with header_start\\n1402.     at different positions, and that the table round-trips.\\n1403.     """\\n1404.     comments = ["comment 1", "comment 2", "comment 3"]\\n1405.     lines = ["# a b", "# comment 1", "# comment 2", "# comment 3", "1 2", "3 4"]\\n1406.     dat = ascii.read(lines, format="commented_header", fast_reader=fast)\\n1407.     assert dat.meta["comments"] == comments\\n1408.     assert dat.colnames == ["a", "b"]\\n1409. \\n1410.     out = StringIO()\\n1411.     ascii.write(dat, out, format="commented_header", fast_writer=fast)\\n1412.     assert out.getvalue().splitlines() == lines\\n1413. \\n1414.     lines.insert(1, lines.pop(0))\\n1415.     dat = ascii.read(lines, format="commented_header", header_start=1, fast_reader=fast)\\n1416.     assert dat.meta["comments"] == comments\\n1417.     assert dat.colnames == ["a", "b"]\\n1418. \\n1419.     lines.insert(2, lines.pop(1))\\n1420.     dat = ascii.read(lines, format="commented_header", header_start=2, fast_reader=fast)\\n1421.     assert dat.meta["comments"] == comments\\n1422.     assert dat.colnames == ["a", "b"]\\n1423.     dat = ascii.read(\\n1424.         lines, format="commented_header", header_start=-2, fast_reader=fast\\n1425.     )\\n1426.     assert dat.meta["comments"] == comments\\n1427.     assert dat.colnames == ["a", "b"]\\n1428. \\n1429.     lines.insert(3, lines.pop(2))\\n1430.     dat = ascii.read(\\n1431.         lines, format="commented_header", header_start=-1, fast_reader=fast\\n1432.     )\\n1433.     assert dat.meta["comments"] == comments\\n1434.     assert dat.colnames == ["a", "b"]\\n1435. \\n1436.     lines = ["# a b", "1 2", "3 4"]\\n1437.     dat = ascii.read(lines, format="commented_header", fast_reader=fast)\\n1438.     assert "comments" not in dat.meta\\n1439.     assert dat.colnames == ["a", "b"]\\n1440. \\n1441. \\n1442. def test_probably_html(home_is_data):\\n1443.     """\\n1444.     Test the routine for guessing if a table input to ascii.read is probably HTML\\n1445.     """\\n1446.     for tabl0 in (\\n1447.         "data/html.html",\\n1448.         "~/html.html",\\n1449.         "http://blah.com/table.html",\\n1450.         "https://blah.com/table.html",\\n1451.         "file://blah/table.htm",\\n1452.         "ftp://blah.com/table.html",\\n1453.         "file://blah.com/table.htm",\\n1454.         " <! doctype html > hello world",\\n1455.         "junk < table baz> <tr foo > <td bar> </td> </tr> </table> junk",\\n1456.         [\\n1457.             "junk < table baz>",\\n1458.             " <tr foo >",\\n1459.             " <td bar> ",\\n1460.             "</td> </tr>",\\n1461.             "</table> junk",\\n1462.         ],\\n1463.         (" <! doctype html > ", " hello world"),\\n1464.     ):\\n1465.         assert _probably_html(tabl0) is True\\n1466. \\n1467.     for tabl0 in (\\n1468.         "data/html.htms",\\n1469.         "Xhttp://blah.com/table.html",\\n1470.         " https://blah.com/table.htm",\\n1471.         "fole://blah/table.htm",\\n1472.         " < doctype html > hello world",\\n1473.         "junk < tble baz> <tr foo > <td bar> </td> </tr> </table> junk",\\n1474.         [\\n1475.             "junk < table baz>",\\n1476.             " <t foo >",\\n1477.             " <td bar> ",\\n1478.             "</td> </tr>",\\n1479.             "</table> junk",\\n1480.         ],\\n1481.         (" <! doctype htm > ", " hello world"),\\n1482.         [[1, 2, 3]],\\n1483.     ):\\n1484.         assert _probably_html(tabl0) is False\\n1485. \\n1486. \\n1487. @pytest.mark.parametrize("fast_reader", [True, False, "force"])\\n1488. def test_data_header_start(fast_reader):\\n1489.     tests = [\\n1490.         (\\n1491.             [\\n1492.                 "# comment",\\n1493.                 "",\\n1494.                 " ",\\n1495.                 "skip this line",  # line 0\\n1496.                 "a b",  # line 1\\n1497.                 "1 2",\\n1498.             ],  # line 2\\n1499.             [{"header_start": 1}, {"header_start": 1, "data_start": 2}],\\n1500.         ),\\n1501.         (\\n1502.             [\\n1503.                 "# comment",\\n1504.                 "",\\n1505.                 " \\\\t",\\n1506.                 "skip this line",  # line 0\\n1507.                 "a b",  # line 1\\n1508.                 "",\\n1509.                 " \\\\t",\\n1510.                 "skip this line",  # line 2\\n1511.                 "1 2",\\n1512.             ],  # line 3\\n1513.             [{"header_start": 1, "data_start": 3}],\\n1514.         ),\\n1515.         (\\n1516.             [\\n1517.                 "# comment",\\n1518.                 "",\\n1519.                 " ",\\n1520.                 "a b",  # line 0\\n1521.                 "",\\n1522.                 " ",\\n1523.                 "skip this line",  # line 1\\n1524.                 "1 2",\\n1525.             ],  # line 2\\n1526.             [{"header_start": 0, "data_start": 2}, {"data_start": 2}],\\n1527.         ),\\n1528.     ]\\n1529. \\n1530.     for lines, kwargs_list in tests:\\n1531.         for kwargs in kwargs_list:\\n1532.             t = ascii.read(\\n1533.                 lines, format="basic", fast_reader=fast_reader, guess=True, **kwargs\\n1534.             )\\n1535.             assert t.colnames == ["a", "b"]\\n1536.             assert len(t) == 1\\n1537.             assert np.all(t["a"] == [1])\\n1538.             # Sanity check that the expected Reader is being used\\n1539.             assert get_read_trace()[-1]["kwargs"]["Reader"] is (\\n1540.                 ascii.Basic if (fast_reader is False) else ascii.FastBasic\\n1541.             )\\n1542. \\n1543. \\n1544. def test_table_with_no_newline():\\n1545.     """\\n1546.     Test that an input file which is completely empty fails in the expected way.\\n1547.     Test that an input file with one line but no newline succeeds.\\n1548.     """\\n1549.     # With guessing\\n1550.     table = BytesIO()\\n1551.     with pytest.raises(ascii.InconsistentTableError):\\n1552.         ascii.read(table)\\n1553. \\n1554.     # Without guessing\\n1555.     table = BytesIO()\\n1556.     with pytest.raises(ValueError) as err:\\n1557.         ascii.read(table, guess=False, fast_reader=False, format="basic")\\n1558.     assert "No header line found" in str(err.value)\\n1559. \\n1560.     table = BytesIO()\\n1561.     t = ascii.read(table, guess=False, fast_reader=True, format="fast_basic")\\n1562.     assert not t and t.as_array().size == 0\\n1563. \\n1564.     # Put a single line of column names but with no newline\\n1565.     for kwargs in [\\n1566.         dict(),\\n1567.         dict(guess=False, fast_reader=False, format="basic"),\\n1568.         dict(guess=False, fast_reader=True, format="fast_basic"),\\n1569.     ]:\\n1570.         table = BytesIO()\\n1571.         table.write(b"a b")\\n1572.         t = ascii.read(table, **kwargs)\\n1573.         assert t.colnames == ["a", "b"]\\n1574.         assert len(t) == 0\\n1575. \\n1576. \\n1577. def test_path_object():\\n1578.     fpath = pathlib.Path("data/simple.txt")\\n1579.     data = ascii.read(fpath)\\n1580. \\n1581.     assert len(data) == 2\\n1582.     assert sorted(list(data.columns)) == ["test 1a", "test2", "test3", "test4"]\\n1583.     assert data["test2"][1] == "hat2"\\n1584. \\n1585. \\n1586. def test_column_conversion_error():\\n1587.     """\\n1588.     Test that context information (upstream exception message) from column\\n1589.     conversion error is provided.\\n1590.     """\\n1591.     ipac = """\\\\\\n1592. | col0   |\\n1593. | double |\\n1594.  1  2\\n1595. """\\n1596.     with pytest.raises(ValueError) as err:\\n1597.         ascii.read(ipac, guess=False, format="ipac")\\n1598.     assert "Column col0 failed to convert:" in str(err.value)\\n1599. \\n1600.     with pytest.raises(ValueError) as err:\\n1601.         ascii.read(["a b", "1 2"], guess=False, format="basic", converters={"a": []})\\n1602.     assert "no converters" in str(err.value)\\n1603. \\n1604. \\n1605. def test_non_C_locale_with_fast_reader():\\n1606.     """Test code that forces "C" locale while calling fast reader (#4364)"""\\n1607.     current = locale.setlocale(locale.LC_ALL)\\n1608. \\n1609.     try:\\n1610.         if platform.system() == "Darwin":\\n1611.             locale.setlocale(locale.LC_ALL, "fr_FR")\\n1612.         else:\\n1613.             locale.setlocale(locale.LC_ALL, "fr_FR.utf8")\\n1614. \\n1615.         for fast_reader in (\\n1616.             True,\\n1617.             False,\\n1618.             {"use_fast_converter": False},\\n1619.             {"use_fast_converter": True},\\n1620.         ):\\n1621.             t = ascii.read(\\n1622.                 ["a b", "1.5 2"], format="basic", guess=False, fast_reader=fast_reader\\n1623.             )\\n1624.             assert t["a"].dtype.kind == "f"\\n1625.     except locale.Error as e:\\n1626.         pytest.skip(f"Locale error: {e}")\\n1627.     finally:\\n1628.         locale.setlocale(locale.LC_ALL, current)\\n1629. \\n1630. \\n1631. def test_no_units_for_char_columns():\\n1632.     """Test that a char column of a Table is assigned no unit and not\\n1633.     a dimensionless unit."""\\n1634.     t1 = Table([["A"]], names="B")\\n1635.     out = StringIO()\\n1636.     ascii.write(t1, out, format="ipac")\\n1637.     t2 = ascii.read(out.getvalue(), format="ipac", guess=False)\\n1638.     assert t2["B"].unit is None\\n1639. \\n1640. \\n1641. def test_initial_column_fill_values():\\n1642.     """Regression test for #5336, #5338."""\\n1643. \\n1644.     class TestHeader(ascii.BasicHeader):\\n1645.         def _set_cols_from_names(self):\\n1646.             self.cols = [ascii.Column(name=x) for x in self.names]\\n1647.             # Set some initial fill values\\n1648.             for col in self.cols:\\n1649.                 col.fill_values = {"--": "0"}\\n1650. \\n1651.     class Tester(ascii.Basic):\\n1652.         header_class = TestHeader\\n1653. \\n1654.     reader = ascii.get_reader(Reader=Tester)\\n1655. \\n1656.     assert (\\n1657.         reader.read(\\n1658.             """# Column definition is the first uncommented line\\n1659. # Default delimiter is the space character.\\n1660. a b c\\n1661. # Data starts after the header column definition, blank lines ignored\\n1662. -- 2 3\\n1663. 4 5 6 """\\n1664.         )["a"][0]\\n1665.         is np.ma.masked\\n1666.     )\\n1667. \\n1668. \\n1669. def test_latex_no_trailing_backslash():\\n1670.     """\\n1671.     Test that latex/aastex file with no trailing backslash can be read.\\n1672.     """\\n1673.     lines = r"""\\n1674. \\\\begin{table}\\n1675. \\\\begin{tabular}{ccc}\\n1676. a & b & c \\\\\\\\\\n1677. 1 & 1.0 & c \\\\\\\\ % comment\\n1678. 3\\\\% & 3.0 & e  % comment\\n1679. \\\\end{tabular}\\n1680. \\\\end{table}\\n1681. """\\n1682.     dat = ascii.read(lines, format="latex")\\n1683.     assert dat.colnames == ["a", "b", "c"]\\n1684.     assert np.all(dat["a"] == ["1", r"3\\\\%"])\\n1685.     assert np.all(dat["c"] == ["c", "e"])\\n1686. \\n1687. \\n1688. def text_aastex_no_trailing_backslash():\\n1689.     lines = r"""\\n1690. \\\\begin{deluxetable}{ccc}\\n1691. \\\\tablehead{\\\\colhead{a} & \\\\colhead{b} & \\\\colhead{c}}\\n1692. \\\\startdata\\n1693. 1 & 1.0 & c \\\\\\\\\\n1694. 2 & 2.0 & d \\\\\\\\ % comment\\n1695. 3\\\\% & 3.0 & e  % comment\\n1696. \\\\enddata\\n1697. \\\\end{deluxetable}\\n1698. """\\n1699.     dat = ascii.read(lines, format="aastex")\\n1700.     assert dat.colnames == ["a", "b", "c"]\\n1701.     assert np.all(dat["a"] == ["1", r"3\\\\%"])\\n1702.     assert np.all(dat["c"] == ["c", "e"])\\n1703. \\n1704. \\n1705. @pytest.mark.parametrize("encoding", ["utf8", "latin1", "cp1252"])\\n1706. def test_read_with_encoding(tmp_path, encoding):\\n1707.     data = {"commented_header": "# Ã  b Ã¨ \\\\n 1 2 hÃ©llo", "csv": "Ã ,b,Ã¨\\\\n1,2,hÃ©llo"}\\n1708. \\n1709.     testfile = tmp_path / "test.txt"\\n1710.     for fmt, content in data.items():\\n1711.         with open(testfile, "w", encoding=encoding) as f:\\n1712.             f.write(content)\\n1713. \\n1714.         table = ascii.read(testfile, encoding=encoding)\\n1715.         assert table.pformat() == [" Ã    b    Ã¨  ", "--- --- -----", "  1   2 hÃ©llo"]\\n1716. \\n1717.         for guess in (True, False):\\n1718.             table = ascii.read(\\n1719.                 testfile, format=fmt, fast_reader=False, encoding=encoding, guess=guess\\n1720.             )\\n1721.             assert table["Ã¨"].dtype.kind == "U"\\n1722.             assert table.pformat() == [\\n1723.                 " Ã    b    Ã¨  ",\\n1724.                 "--- --- -----",\\n1725.                 "  1   2 hÃ©llo",\\n1726.             ]\\n1727. \\n1728. \\n1729. def test_unsupported_read_with_encoding():\\n1730.     # Fast reader is not supported, make sure it raises an exception\\n1731.     with pytest.raises(ascii.ParameterError):\\n1732.         ascii.read(\\n1733.             "data/simple3.txt",\\n1734.             guess=False,\\n1735.             fast_reader="force",\\n1736.             encoding="latin1",\\n1737.             format="fast_csv",\\n1738.         )\\n1739. \\n1740. \\n1741. def test_read_chunks_input_types():\\n1742.     """\\n1743.     Test chunked reading for different input types: file path, file object,\\n1744.     and string input.\\n1745.     """\\n1746.     fpath = "data/test5.dat"\\n1747.     t1 = ascii.read(\\n1748.         fpath,\\n1749.         header_start=1,\\n1750.         data_start=3,\\n1751.     )\\n1752. \\n1753.     with open(fpath) as fd1, open(fpath) as fd2:\\n1754.         for fp in (fpath, fd1, fd2.read()):\\n1755.             t_gen = ascii.read(\\n1756.                 fp,\\n1757.                 header_start=1,\\n1758.                 data_start=3,\\n1759.                 guess=False,\\n1760.                 format="fast_basic",\\n1761.                 fast_reader={"chunk_size": 400, "chunk_generator": True},\\n1762.             )\\n1763.             ts = list(t_gen)\\n1764.             for t in ts:\\n1765.                 for col, col1 in zip(t.columns.values(), t1.columns.values()):\\n1766.                     assert col.name == col1.name\\n1767.                     assert col.dtype.kind == col1.dtype.kind\\n1768. \\n1769.             assert len(ts) == 4\\n1770.             t2 = table.vstack(ts)\\n1771.             assert np.all(t1 == t2)\\n1772. \\n1773.     with open(fpath) as fd1, open(fpath) as fd2:\\n1774.         for fp in (fpath, fd1, fd2.read()):\\n1775.             # Now read the full table in chunks\\n1776.             t3 = ascii.read(\\n1777.                 fp, header_start=1, data_start=3, fast_reader={"chunk_size": 300}\\n1778.             )\\n1779.             assert np.all(t1 == t3)\\n1780. \\n1781. \\n1782. @pytest.mark.parametrize("masked", [True, False])\\n1783. def test_read_chunks_formats(masked):\\n1784.     """\\n1785.     Test different supported formats for chunked reading.\\n1786.     """\\n1787.     t1 = simple_table(size=102, cols=10, kinds="fS", masked=masked)\\n1788.     for i, name in enumerate(t1.colnames):\\n1789.         t1.rename_column(name, f"col{i + 1}")\\n1790. \\n1791.     # TO DO commented_header does not currently work due to the special-cased\\n1792.     # implementation of header parsing.\\n1793. \\n1794.     for format in "tab", "csv", "no_header", "rdb", "basic":\\n1795.         out = StringIO()\\n1796.         ascii.write(t1, out, format=format)\\n1797.         t_gen = ascii.read(\\n1798.             out.getvalue(),\\n1799.             format=format,\\n1800.             fast_reader={"chunk_size": 400, "chunk_generator": True},\\n1801.         )\\n1802.         ts = list(t_gen)\\n1803.         for t in ts:\\n1804.             for col, col1 in zip(t.columns.values(), t1.columns.values()):\\n1805.                 assert col.name == col1.name\\n1806.                 assert col.dtype.kind == col1.dtype.kind\\n1807. \\n1808.         assert len(ts) > 4\\n1809.         t2 = table.vstack(ts)\\n1810.         assert np.all(t1 == t2)\\n1811. \\n1812.         # Now read the full table in chunks\\n1813.         t3 = ascii.read(out.getvalue(), format=format, fast_reader={"chunk_size": 400})\\n1814.         assert np.all(t1 == t3)\\n1815. \\n1816. \\n1817. def test_read_chunks_chunk_size_too_small():\\n1818.     fpath = "data/test5.dat"\\n1819.     with pytest.raises(ValueError) as err:\\n1820.         ascii.read(fpath, header_start=1, data_start=3, fast_reader={"chunk_size": 10})\\n1821.     assert "no newline found in chunk (chunk_size too small?)" in str(err.value)\\n1822. \\n1823. \\n1824. def test_read_chunks_table_changes():\\n1825.     """Column changes type or size between chunks.  This also tests the case with\\n1826.     no final newline.\\n1827.     """\\n1828.     col = ["a b c"] + ["1.12334 xyz a"] * 50 + ["abcdefg 555 abc"] * 50\\n1829.     table = "\\\\n".join(col)\\n1830.     t1 = ascii.read(table, guess=False)\\n1831.     t2 = ascii.read(table, fast_reader={"chunk_size": 100})\\n1832. \\n1833.     # This also confirms that the dtypes are exactly the same, i.e.\\n1834.     # the string itemsizes are the same.\\n1835.     assert np.all(t1 == t2)\\n1836. \\n1837. \\n1838. def test_read_non_ascii():\\n1839.     """Test that pure-Python reader is used in case the file contains non-ASCII characters\\n1840.     in it.\\n1841.     """\\n1842.     table = Table.read(["col1, col2", "\\\\u2119, \\\\u01b4", "1, 2"], format="csv")\\n1843.     assert np.all(table["col1"] == ["\\\\u2119", "1"])\\n1844.     assert np.all(table["col2"] == ["\\\\u01b4", "2"])\\n1845. \\n1846. \\n1847. @pytest.mark.parametrize("enable", [True, False, "force"])\\n1848. def test_kwargs_dict_guess(enable):\\n1849.     """Test that fast_reader dictionary is preserved through guessing sequence."""\\n1850.     # Fails for enable=(True, \\\'force\\\') - #5578\\n1851.     ascii.read("a\\\\tb\\\\n 1\\\\t2\\\\n3\\\\t 4.0", fast_reader=dict(enable=enable))\\n1852.     assert get_read_trace()[-1]["kwargs"]["Reader"] is (\\n1853.         ascii.Tab if (enable is False) else ascii.FastTab\\n1854.     )\\n1855.     for k in get_read_trace():\\n1856.         if not k.get("status", "Disabled").startswith("Disabled"):\\n1857.             assert k.get("kwargs").get("fast_reader").get("enable") is enable\\n1858. \\n1859. \\n1860. def _get_lines(rdb):\\n1861.     lines = ["a a_2 a_1 a a"]\\n1862.     if rdb:\\n1863.         lines += ["N N N N N"]\\n1864.     lines += ["1 2 3 4 5", "10 20 30 40 50"]\\n1865. \\n1866.     if rdb:\\n1867.         lines = ["\\\\t".join(line.split()) for line in lines]\\n1868.     return lines\\n1869. \\n1870. \\n1871. @pytest.mark.parametrize("rdb", [False, True])\\n1872. @pytest.mark.parametrize("fast_reader", [False, "force"])\\n1873. def test_deduplicate_names_basic(rdb, fast_reader):\\n1874.     """Test that duplicate column names are successfully de-duplicated for the\\n1875.     basic format.  Skip the case of rdb=True and fast_reader=\\\'force\\\' when selecting\\n1876.     include_names, since that fails and is tested below.\\n1877.     """\\n1878.     lines = _get_lines(rdb)\\n1879. \\n1880.     dat = ascii.read(lines, fast_reader=fast_reader)\\n1881.     assert dat.colnames == ["a", "a_2", "a_1", "a_3", "a_4"]\\n1882.     assert len(dat) == 2\\n1883. \\n1884.     dat = ascii.read(lines, fast_reader=fast_reader, include_names=["a", "a_2", "a_3"])\\n1885.     assert len(dat) == 2\\n1886.     assert dat.colnames == ["a", "a_2", "a_3"]\\n1887.     assert np.all(dat["a"] == [1, 10])\\n1888.     assert np.all(dat["a_2"] == [2, 20])\\n1889.     assert np.all(dat["a_3"] == [4, 40])\\n1890. \\n1891.     dat = ascii.read(\\n1892.         lines,\\n1893.         fast_reader=fast_reader,\\n1894.         names=["b1", "b2", "b3", "b4", "b5"],\\n1895.         include_names=["b1", "b2", "a_4", "b4"],\\n1896.     )\\n1897.     assert len(dat) == 2\\n1898.     assert dat.colnames == ["b1", "b2", "b4"]\\n1899.     assert np.all(dat["b1"] == [1, 10])\\n1900.     assert np.all(dat["b2"] == [2, 20])\\n1901.     assert np.all(dat["b4"] == [4, 40])\\n1902. \\n1903.     dat = ascii.read(\\n1904.         lines,\\n1905.         fast_reader=fast_reader,\\n1906.         names=["b1", "b2", "b3", "b4", "b5"],\\n1907.         exclude_names=["b3", "b5", "a_3", "a_4"],\\n1908.     )\\n1909.     assert len(dat) == 2\\n1910.     assert dat.colnames == ["b1", "b2", "b4"]\\n1911.     assert np.all(dat["b1"] == [1, 10])\\n1912.     assert np.all(dat["b2"] == [2, 20])\\n1913.     assert np.all(dat["b4"] == [4, 40])\\n1914. \\n1915. \\n1916. def test_include_names_rdb_fast():\\n1917.     """Test that selecting column names via `include_names` works for the RDB format\\n1918.     with fast reader. This is testing the fix for a bug identified in #9939.\\n1919.     """\\n1920.     lines = _get_lines(True)\\n1921.     lines[0] = "a\\\\ta_2\\\\ta_1\\\\ta_3\\\\ta_4"\\n1922.     dat = ascii.read(lines, fast_reader="force", include_names=["a", "a_2", "a_3"])\\n1923.     assert len(dat) == 2\\n1924.     assert dat["a"].dtype == int\\n1925.     assert dat["a_2"].dtype == int\\n1926. \\n1927. \\n1928. @pytest.mark.parametrize("fast_reader", [False, "force"])\\n1929. def test_deduplicate_names_with_types(fast_reader):\\n1930.     """Test that on selecting column names via `include_names` in the RDB format with\\n1931.     different types and duplicate column names type assignment is correctly preserved.\\n1932.     """\\n1933.     lines = _get_lines(True)\\n1934.     lines[1] = "N\\\\tN\\\\tN\\\\tS\\\\tS"\\n1935. \\n1936.     dat = ascii.read(lines, fast_reader=fast_reader, include_names=["a", "a_2", "a_3"])\\n1937.     assert len(dat) == 2\\n1938.     assert dat["a_2"].dtype.kind == "i"\\n1939.     assert dat["a_3"].dtype.kind == "U"\\n1940. \\n1941.     dat = ascii.read(\\n1942.         lines,\\n1943.         fast_reader=fast_reader,\\n1944.         names=["b1", "b2", "b3", "b4", "b5"],\\n1945.         include_names=["a1", "a_2", "b1", "b2", "b4"],\\n1946.     )\\n1947.     assert len(dat) == 2\\n1948.     assert dat.colnames == ["b1", "b2", "b4"]\\n1949.     assert dat["b2"].dtype.kind == "i"\\n1950.     assert dat["b4"].dtype.kind == "U"\\n1951. \\n1952. \\n1953. @pytest.mark.parametrize("rdb", [False, True])\\n1954. @pytest.mark.parametrize("fast_reader", [False, "force"])\\n1955. def test_set_invalid_names(rdb, fast_reader):\\n1956.     """\\n1957.     Test exceptions for invalid (duplicate or `None`) names specified via argument.\\n1958.     """\\n1959.     lines = _get_lines(rdb)\\n1960.     if rdb:\\n1961.         fmt = "rdb"\\n1962.     else:\\n1963.         fmt = "basic"\\n1964. \\n1965.     with pytest.raises(ValueError) as err:\\n1966.         ascii.read(\\n1967.             lines,\\n1968.             fast_reader=fast_reader,\\n1969.             format=fmt,\\n1970.             guess=rdb,\\n1971.             names=["b1", "b2", "b1", "b4", "b5"],\\n1972.         )\\n1973.     assert "Duplicate column names" in str(err.value)\\n1974. \\n1975.     with pytest.raises(TypeError) as err:\\n1976.         ascii.read(\\n1977.             lines,\\n1978.             fast_reader=fast_reader,\\n1979.             format=fmt,\\n1980.             guess=rdb,\\n1981.             names=["b1", "b2", "b1", None, None],\\n1982.         )\\n1983.     assert "Cannot have None for column name" in str(err.value)\\n1984. \\n1985. \\n1986. def test_read_masked_bool():\\n1987.     txt = """\\\\\\n1988. col0 col1\\n1989. 1       1\\n1990. 0       2\\n1991. True    3\\n1992. ""      4\\n1993. False   5\\n1994. """\\n1995.     # Reading without converters returns col0 as a string\\n1996.     dat = ascii.read(txt, format="basic")\\n1997.     col = dat["col0"]\\n1998.     assert isinstance(col, MaskedColumn)\\n1999.     assert col.dtype.kind == "U"\\n2000.     assert col[0] == "1"\\n2001. \\n2002.     # Force col0 to be read as bool\\n2003.     converters = {"col0": [convert_numpy(bool)]}\\n2004.     dat = ascii.read(txt, format="basic", converters=converters)\\n2005.     col = dat["col0"]\\n2006.     assert isinstance(col, MaskedColumn)\\n2007.     assert col.dtype.kind == "b"\\n2008.     assert np.all(col.mask == [False, False, False, True, False])\\n2009.     assert np.all(col == [True, False, True, False, False])\\n2010. \\n2011. \\n2012. def test_read_converters_wildcard():\\n2013.     """Test converters where the column name is specified with\\n2014.     a wildcard.\\n2015.     """\\n2016.     converters = {"F*": [ascii.convert_numpy(np.float32)]}\\n2017.     t = ascii.read(["Fabc Iabc", "1 2"], converters=converters)\\n2018.     assert np.issubdtype(t["Fabc"].dtype, np.float32)\\n2019.     assert not np.issubdtype(t["Iabc"].dtype, np.float32)\\n2020. \\n2021. \\n2022. def test_read_converters_simplified():\\n2023.     """Test providing io.ascii read converters as type or dtypes instead of\\n2024.     convert_numpy(type) outputs"""\\n2025.     t = Table()\\n2026.     t["a"] = [1, 2]\\n2027.     t["b"] = [3.5, 4]\\n2028.     t["c"] = ["True", "False"]\\n2029.     t["d"] = ["true", "false"]  # Looks kindof like boolean but actually a string\\n2030.     t["e"] = [5, 6]\\n2031. \\n2032.     out = StringIO()\\n2033.     t.write(out, format="ascii.basic")\\n2034. \\n2035.     converters = {"a": str, "e": np.float32}\\n2036.     t2 = Table.read(out.getvalue(), format="ascii.basic", converters=converters)\\n2037.     assert t2.pformat(show_dtype=True) == [\\n2038.         " a      b      c     d      e   ",\\n2039.         "str1 float64  str5  str5 float32",\\n2040.         "---- ------- ----- ----- -------",\\n2041.         "   1     3.5  True  true     5.0",\\n2042.         "   2     4.0 False false     6.0",\\n2043.     ]\\n2044. \\n2045.     converters = {"a": float, "*": [np.int64, float, bool, str]}\\n2046.     t2 = Table.read(out.getvalue(), format="ascii.basic", converters=converters)\\n2047.     assert t2.pformat_all(show_dtype=True) == [\\n2048.         "   a       b      c     d     e  ",\\n2049.         "float64 float64  bool  str5 int64",\\n2050.         "------- ------- ----- ----- -----",\\n2051.         "    1.0     3.5  True  true     5",\\n2052.         "    2.0     4.0 False false     6",\\n2053.     ]\\n2054. \\n2055.     # Test failures\\n2056.     for converters in (\\n2057.         {"*": [int, 1, bool, str]},  # bad converter type\\n2058.         # Tuple converter where 2nd element is not a subclass of NoType\\n2059.         {"a": [(int, int)]},\\n2060.         # Tuple converter with 3 elements not 2\\n2061.         {"a": [(int, int, int)]},\\n2062.     ):\\n2063.         with pytest.raises(ValueError, match="Error: invalid format for converters"):\\n2064.             t2 = Table.read(\\n2065.                 out.getvalue(), format="ascii.basic", converters=converters, guess=False\\n2066.             )\', \'start_line_number\': 501, \'end_line_number\': 2066}\n\nNow generate the complete self-contained test case that reproduces the bug with the same error/exception.\n' additional_kwargs={} response_metadata={}
2025-12-21 14:40:54,783 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_write_node - DEBUG - content='' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 45774, 'total_token_count': 45774, 'prompt_tokens_details': [{'modality': 1, 'token_count': 45774}], 'candidates_token_count': 0, 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': [], 'candidates_tokens_details': []}, 'finish_reason': 'MALFORMED_FUNCTION_CALL', 'finish_message': 'Malformed function call: import pytest\nimport numpy as np\nfrom astropy.table import Table\n\n\ndef test_qdp_lowercase_command(tmp_path):\n    """Test that QDP commands can be in lower case.\n\n    This is a regression test for the fact that QDP commands are not\n    case-sensitive, but the reader assumed they were all upper case.\n    """\n    qdp_content = """read serr 1 2\n1 0.5 1 0.5\n"""\n    filepath = tmp_path / "test.qdp"\n    filepath.write_text(qdp_content)\n\n    table = Table.read(str(filepath), format="ascii.qdp")\n\n    assert np.isclose(table["col1_err"][0], 0.5)', 'model_name': 'gemini-2.5-pro'} id='run--2f1fb975-9332-4281-823a-03c0bae17f1e-0' usage_metadata={'input_tokens': 45774, 'output_tokens': 0, 'total_tokens': 45774, 'input_token_details': {'cache_read': 0}}
2025-12-21 14:41:14,439 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'create_file', 'arguments': '{"content": "import pytest\\nfrom my_package.main import my_func\\n\\ndef test_my_func_with_negative_numbers():\\n    assert my_func(-1, -2) == -3\\n    assert my_func(-5, -10) == -15\\n\\ndef test_my_func_with_mixed_numbers():\\n    assert my_func(5, -3) == 2\\n    assert my_func(-10, 20) == 10\\n", "relative_path": "tests/test_reproducing_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'07a82853-4a2f-480b-963f-1ceffbdfe6d3': 'CpAzAY89a1+sieLg6qgfjkLe+cFVQcCID4QD3YdBPaYinqNITfYhPOchBekTuZhKGVkl5smOt3WD//rxiVOzJCWoPVg1SKSGRWnbnchlGCO0qGUVGCtRUW70K1uGU4n+jlVspqiZBaKV8+Dck5jp/xku0RR7g0+5gyNDzrxSLOTqNXdeDrPKB0cgOEvpToZSMW1YQJpIiVlrsreB8qEutHuKlPPsD/KRO9L5U7IuqkQ6s3m29Cwby74qeWKi3KiWZ/R+liKrfdCPjvg3fIv3fIWvLrMpm+pY50zqXUEhCETAbe4ojcYTG0jp0hJsCUeZJold+jbrLRWsg9be/8vuwzBV2b5qbEPc3szD9fqNma8xaR4W5v0bl9exo1YUX4qjpdYM4YxKO15FeSMnQfpMY5uhsuzakCpO+7p42i/ahx8sMXeeJP6rtqhuR7c7xdJOxD29y7T/xKsXKNWLxcM+O9FJ5HIKFwnqovPNleECqp8m2F+G1qQ2TGqVirLgOPtyaxo4iwaNlnE5solh9bwuiBy68I2ceE9O+WiShHz0mxtk8w0hJx1n7+EiqSzx55trekKmV64tkYvGfs0rrNcC+ftwqjIqQitGvnHQF4fQgLhWorwE6O7l3bY1qdyWTodITJmB45t2q9l3oOPDBnpEtN5wD/tx03aruNaiJONNhV+GmQQZC1SHeIpZuvu9sQw56uXEiy+e+2P2FFZuV6b1NI19juDoCHZm/eL3VGJdD9gTwS+t/ZJIKgdqhEwcGKb/m0lwFF3kMMuVHn+ZHyLDR6cmq4a3R4RfphzqA+YGEVeqcY4TS2e5qaHZ02gxyizEgznMVOVYjA8YRbjIh1clOv8ji0Y1o3Ly8GuBGMiX56jL7UUtmH9se8+YXrK82+2AiI7iD/H8PTx2MDEtLwYKqy+YlvJ0wUd3jbhaO3MzeaBn1YFKqKHQDuY0fHnkgovn4dVSB3K+T6St0UUmoGDwXjSoWYeNPlq/UI/7mfUU3Djb+PBgoHANPA1yAHKb8o4y0+/3okoDPxtLufbdbDHI24jlOrK6eeh00GYViUd4BJFlk+23XlSOAlSCLOu2vvx7WAQ2zqjR0bX9fOleTyfN/jzlP9b97l4uXBUDrJauJgSn2einYCfR3/W2sgLX+vW1sQY1Exrockux213KKnVgBTLcOY6KWOqjXAaaBDLBETEcYKGDUFnY/zVy8LI6aKRL6AcrqrZPX4Q19LXFeflmOihqYeg2kqH2mKwamK9VTpyd9bjZFAVGyjSdzUek7JzU0DmnOkVypxQx2fj433+fcDkNtAMe7asfHOyL+Xf54sjquh5b4OsBbGhlIAzgNkH6KF442asfD3UW1lRRvGIV9/eq1gSGODIDA7wdzb1rrkcJ31yxPq+GvS5CDNuNn1QBn1dBiw+yWNm4WS6Y43m9ykGwuuCdBQyKAXyx7V6Yag9bsd10MFhCbchfqLvhJT0JjfSAOEx143M6xmM9U6LiU8NdkXbpi6lX9wy/51f1j/Ieun536bGRZDbz4Btnusmqa/KUwlAij9mn+OobdUsbUNofm0nZxCu5J8cCdiz9/LhD0uKGV5TDYi8NuEi9ZmDSdox+kttJjrVoAXcwf4lK5xSav+UIqCuG2iFSyS2ag1424na6OFGBAirGmT08INQalWBkwfC0wr4eVc9E7R/VQXGNQcmugRu4etOM0i4mwo/j8Qdxo3iRp24rQxwo0Aq581w8Gl0Yl3T6bWichQL5/mDY5IxA6vS0rOgUyQQobwKYTyJZ7nReMUzdIySPVEwOXF4/IsQq97oN+i7HhRzk4dV0C+dm1JDyK3tGN8XDmMkwuqeLBcAnbHSaDGioGorF3+A25imRBmIJKR7MN2EbM6sZCNMhztwfQRj2Co1IKzdqVL60rLf3I+zHBGVY+UjZSF78qsLel6ZjEqIfD2X4KIIm0vc8gQxZbKlyBHZO2Y+4EVVnOZRv1TtYoYDIBGDRhF3ACtTm2BXQoCa/9CtzKYWMTzg6Kq+DDI8b8n/GWseB9nRCi9zgzra3eipkKQFEnR05i+8t+5ABPEzsyK61qqH7Vinl7kTzziaKm22PBTakT/J90TJRqHK32mf9lgyBeg+LR0lhw9wCIrLHzhA6dibaSkWaVjLzO9yOgRE31QYDptA2JQ9Z7A+nhGImz7cuUAqkd4LXTW9YXKlgJniZWuo4jVhTSeKZqVuWmbRGqeyO1GWKTP0FTnO/d3r6nZOyBqcpCfrqDz1/fKWRsk3YR3c9wycDDA3xzxxmZqggdAitlFhi8bCb018pXBzssDRInedC3KVniTkqR3mDZTQGKcVcdmuxYv1cifPeB524OwKvDl7BHlPTF6pf/3VA2D51VEYkx20DvCKjp1AMUl9B3E4XGadt/vLQ1yw7pbW6uhbazMpjRP2qAkV6UjCHJ/okSoB87w1dNElXSLqYGcfrAE96kqTOiqLk92r3p+Vyc5sabrxdTqoN5JfYi61tSxb7U28TJibKH4s+GqE03V0usaXHv1LL2Y8oKs8vRUk20qXGXe3I6Lbb/mUMHmK7vGcvfUS30+VJEu72vgPmXvNcX57ibt3ES9rFFYxAf+heP91WstNF/HM2Bd6LDLI9x6EO9Kn5blyg7ghh0CEBJ3G6MuhYnsnw9fjRILFSmcBrMbiSxg90X4OtCgGUCKrKG2U3rxdKSOCTtmYsV60DkDyK2sKCgCDZH/4AIIs8EQYJmkkAK3bmUzyXWNJDiATWKvzvRd92bBFcdqjGqfQ8V29OtPlj6fvY8pBZ8kTEwX7fGVnYzdGhILukwLI5fs0SIz7Z52rJ5lPT6rdjowF3qPgnKLymOgzjwut1N5NQd0ALb4X8UYqfViP2FD+VM7IGJXbKKY27yeC1UBDE/AHlfZiya8JN+O64O0XSMOujKU9jVGlBG11Y6K9vWQ1NUzQ32duhr8jCHRsYegPakrPlzlYWetnV+LEPWTnclSnrioWKBMgGmZ/juhXQ7sXXIcrxC7nSjnkaS9/niE64WpItBf7ozM6VsFHRxRFTMcwDwj7A/nQVHYrB/H9Hmp4MwR16dzyG883nj36Pj/B+M+PaC00RIdvJ8sKYv1ywQ5FZ04fp0f/MMXA8ZPqY/qWVBTfQmp3p9F78jw7TGKiw5xYkU3CYrtCfbarLLsx7wbQwptoG9wEMR+q+R6E54hFRTYqenN+AOlbgHVcPOg9o4t/A20qNcRwFNh1igHcLpFDjw8hXDbrq0S+dg7vlb4yG7g3Vk3i/VMtlyjzEdF0FsRXhfcK95FQB9aTM/CPgJ9RG6xjfT5R33hwhNLEaZXdJl3uWZE7yrxkslxbZfh+6kCwbyuQFGe1QZRJ4HIHggXTpfI8482cPardPM5DXIhEpqQGqkWHzBuhefDk2IpVmeyHGEoM3hdKzE+it8Ddftpe4eED3vSZ8Wr3GgKrwF3PDFiA7Vm2mFmtjXF6O51hoBQM8NRRjJBlVq99R2n6y9jxZOm7WbDoYDfkwqgXPFIQrolXlLNEg2TTuO1agNZSn3c2ES9CVfIQbDhQQP2ImlrKeWZgbrksO3mfjDNeRXECAyiD0OWzLyZakDaLCfeF/IsKOVHGbiSQ5v0XpmZdeAcbg/S6gep5WOn4dsLHbOhz+sIJZazpIs0AkC22ob9rvSgqincg2eqPc999xpIkbktl3kjl+LAqwwTU652R9C59e/ot+58D21ZmcDks023VEqiMkP/E+2jPNJgWYCLFtXQNEbOga40zagtDPWWZycklT8f4E0GpHjg3YDX+ktFajTRKPSU1ZzFNE/eSJxp2gogZ1lL3LAYDDxLi4rlPWgLNObM8sEF3HHUQkiq7aTMf/nZQJd7hHCVT+YLvdPXWD9A9n+PXDYPbzBCdcfCOxmWTiOCxS/zTX0MJDigyRkkI6hl7fCCfw84bfBxFEdLtz71445EIYfAUDcr48Nid2zVfKw9ihGljPyNaNwyKpDZi7nRBPYFa/2kSb8Bz8HiK+nA68yVZmXvsKGsXcdcY/OWMVVwIb0myQwdb3k+IOzYPCsJmIiyGfYtRZd8VpkUGrubljZbJAJVRBVjm14vy5266bLFRoeYofnptePlKZkuXAVh53GuiWH48OCGJWRHMnGpQiBS66lbndB16vObRuVIlh8mpkPHhGWIapvpD/cE8jMqalKO6LBSxSzDDaWM1e+cXXuLQKYHDV89GSyGKG/BGovq2LHPlItqfzfRGjo7rqehqF70bkpzBML2Ck6kT7qhqRWSUwJnhZbQMYRpmfc9MIBKVUj3DYHf7avg02UfjeHDmHO10T3PLNUNBTG/D/lS/dMHwdba+mF+yL4fW8eIqEFehgmEIuTQKGHIxW+jcnrnTi0zpVd5nRkgC8guoa5QSgP3zuzzvVw97hH6B1XHipH0qImUmitJ5+OLu1w7c1vJi155cgj8zHzfU2fADcijL2CBFIjHYOen47ZsOTuPs4UEyDmlJvH9Q+BdDj7u5o1zwaEY84P2RGnRlzv881FC1qtSdS/mTd0pQRyYcdhyABmsxW8eT3HGKfcZaO3iHCXQnzTTTVIJfY7OBHwa54+6HKOQYfY1zKk/tOiSHuoqbYYmpt+sdkPwhm5Lq8MWvKD6/qYBfHZShNpgosCqZomR2eiIJAugRuhCDim/8JOw/Yf19f+eLDKWl7KnsH61ycdxqeykCZvursfFezng2GRfEYPQr0BnFNRMF9YySem7Hw6vVVz5HxUDFH/ne/eO+2QnuiBwrH9Po7DiA/HfVAXCZlBMd+MKULQ/iZh4tRrwid5ppZJSzuQW6JaGIJWdb9g/yaQr0c6LDXyNTgSzNa6QN50sbkeQykFl9k3I6GznP5828yorksxOQXNrsYDb+X6vZQpiYAztoXrcS993bauSFPza/sEjiNj5lQX4w57FrbrU1qNXzETseH/kZ82QfriPqKC+xkwi1idul/wbX/u4gg7te/Euv+p3vlxWIm45nehG9jPdFZRgKvs4hYFij2QVVlOlsHGlEcJ10ozgiFLGj1KUIciU6OPkeNlnn3Fd54/3eEYmZ8xfozPKMhvVX25Y5RQALovil09QPLeYdcAjLzNlqnhmKhZMcHhubPDEeXxKnJYs0R851aTnhvrhNhjWk98g6xGnx1I1ZP0C7+MizhRWKKwGxKy2/SKtBfEloJVeLOg2DeVksZZHBBagq7eLLJYv2+ifBDSJWtNs56lpUPJBiiT7uK3igcemSfizNsUEbVMf3Ple9Or00md1cfkJhB7v96IxTX+0qP3un7K2um5khp2vcJB69fACHtGcBQrRlDz+qgOX92pSkM+1hSXCDf7ZZLAYOKGVRoIgalvyAPFmUqZL+li9hEAwJTSDyURGxkrKRq5kIl69LfW09Y1JjjkTZRy3ef8DxKw9UbjLDgzHN48Yq8xfcXA0QgeRoJL0hrOXFHrt54x7nAA0Y0yopwAIdh7NLZbsL3wBzI1tSSPAdgHdDVbW/fOOe86FGojNe21LvBYrABEqRK2WWO/HixJYDRWdF6eAuQQpl1Mxrc8jhW2nP4NfrqAAPF2NvYxliXFIwn356m1NThHlraM0ab06b8tKGNZ7ij0tYLeYeY6tQaxRhEd8oGEtigoA3/4zsA6Q8iboxMdTLb8mEboXwNh5x3oLWWeYyCVLUPCLwG6/+Djnf+Qyuag7tudsfA/ziFYRxPjjjW5jNZhhdSN1izb+BQMR5vPQicsz02flKKYUMgeXNon9rvyqNrFwb0lksKt58PApJ4Yxl08g8DRa4wtGSXUescYX0uzLtFUxtBIRyK6/nOiunu38uq2QX83cyJE+pOuV8MynEBSPdvSky/1+pYgVysxbTnySdJaz5mMAuu6rF+kKqVocLj8NmwWZSsczl0MPtjkf4d8Q8ATy7trrb49zAwTQg4ApSpo6WS5PPNzw2ayA5GgBHunpb8kS5NI9S+iMSO31T3PUDWzZccIkoJ8V8TSK4WmCuNb6yc0Hmz9cmPebzF0Z5avU7jJvnXrgteCGDcunAdmPuOwU/9HHEx5Hh23kuG4dFzCT1fm1Wsi1xrkSQdbqsjyXZQlANOH/dfboFFOj9niG58onaNS6wGGgIe7r4YgYnRn6C6tLNm//l8mvtMMu0at2GqGwdyVbzUajwW6Kukxh4P0NTxPuTO9T5+omWk+HGGQWI25rkIGtgJF9fhav8Cif7YhzTDRf33P5cqbDYMweE6X7AMJaJWTP2y3fFCswcMmt/V2kPYcGnHeN6kDqt9rwiwVZhPpX6blfUu+xd/DF3LABCL1eWEh6tqA+iAtHo79VpnTnbzq7nTK5ZjyZQw7MA/nfJ5r6kFQIQq3ekHcuW8yIGwlZNXQVatun4syaguQViO5fruzpDhvQf91+a07JV82+IJ5g0kr7z576UxM5mMK1ZJ15AANki1a+FPTcblo5M7g50GTaQByv3TluzWRKLWD9Jn1XvGHDmQcQzzd576DA9JHNTinx4UhAhEgvniHXbCnU+al3WDd8ORbTcbvfaS1YwnnPF48/F3DWPc2L2QqzsQ2sIIu+JrNWAQYlkd+bNexx/O31d1dRYzw5yW1RHqHhei2mtv5zjOPNfJceQ22ghXMhFRQJjLN/DBV7Lw7nwidi2iQyqrycew6dbv+GjJzcbF6pLI5h4r0CFLIFycATx9w3apNYcv6KJ1qLxBJhBFjfN6p0/dz+V7WW/clyADk+2eVIzDau1VPsxPZeYaEH1hFisw8cLA5u0zhGEdBktDJEe7fS4TVmzDKu9QBKrn5S9c2N/HQKg/Q0aLz8vaoljwWDBltIr4ZOP6caCvOt996JqEHi4NKXd2BI8vzrE5cqV7VwHtbTsVA7SsWf/sI4PnyecSDPdiPCqgt5otqRd/8OX+5T4SP9xpfNv0Ukjwqdcu17q6Pxo7mi4Lp7EFPzDGPe5m/QCTeITqmjFgK6Wx0e0ETJosHqQSkdjGUhack4zNgsvyINF6rrChvF6ok3wqordXlrhvUGYi9XzB1ku+3N8720bNEOyCUjBH+ACcgH39yAXkQzFCKDPhq05xmje9/WL9E0GiQuuPO39BM6ZrvaOjjDnYHEhj6XSS+i1dTYkBmiM7joZJuNTaatA4L9i4xk0kPG1qmlzgiNC+xXfcPUt6noQxuHMhQVsM38+KhJu3UBXq2DpnMeUJp0/qb2B64RQeH9eDZ1vziWJbod5H7E4kK8ku9RFuZdZZZpZV116WT46O/BDsn5SLZLJDVtgYUC6SVlrHSIsYXZgFxp8xNS2Dxe+mDG4XXRYciRzh3fTn+UviqyCYuvISHrwTpV6CTyjaNnWL/U8ntJ2ub+00TZ+Dp7gCcG/lBuoq7UwGShnaTGX80DnQOJ9BJCVZXrgpvfXvuWjq04W85yqCGimuuNjyTvPqo7XZbP5NaHNg3R6rlSvoG62C11xjXZ/xDSSMUGg+OxgtwdlHXfEwY1kmdngpWOPBfALUupVsvzTQjDmS2TA4xyopmHPviXfZAuP7W6wn7Ee80NAn5MbKGqfhu1xtCcWGXjN8mAQYmA8zRfHuKSU8cWQkghW7zKGmilkMkidCW4Vb7Y7nwY1Z9WPe1Qtu22RmvmxsXDrlDtjFD3seDi0leu1BsxwZVatOfV/YkY3C4N3vcQ33rOUYlXI7HG8qWQghE/KL50lTtLVzEhqp1VuTU4+Xq3LuZmse0XeTCLIixNv8vIk0VdeQxh3vrvpxteQWz0kLcZ4k3Fls7ybI03NpMfnpkQSOp1gZckCMh7+HEy+GE0qcX8vnHFMgCgVAmGDnySQ0LIjf7w3jkW9KGv4KYfKAzs27Ilm1nQ3GSgFP9S2ZViBcwk8tprwsf1daP8Y8OwB0a8CHf8zsrrP8ve0/KVGhaeudKOFYxr9RaTd+hfaZ2LhQGPY8myThCUEc9kTbcBzVc+myBAnVaL4WJlBGbYJbRDfljMr6AgvIIkzS9kzo0tXFTGyDQisFVW2jtI+DNFeil+4a4gFUsI0vhv5bbSy2UDIsdoY0rHc9F4e7FGVz2X6amp9spCiKUR2Wbp+Flbzsi46Ti/SgPpd+UfXJD/zRUj5No/dvThNXj/p56nmLq8JvxWF5YHYgI8UFLwx9DJr1ifKBG6fmeHBHZbbZ09wV1OpdSsxM59+vXMENH4kNYv32ncvXLAi1mY2eOL1LO8KPmhu6x2FPymQ1QZiFPd1ESTJOoJ8hheB9MkvJA6iqfoHdOPnsLoJdil0d9t/tpSi8uBxZBTAhUxMHRmJ0mcx+TSU1QGpSqvVlE25E4+bhEaYMj6F9pJNcnp2vbf9gLeN16IZVbCEdHfHHpZHSVH/w7eDRhi69UdWqqpIpaQaF7+K52uXrDAlNBmuXZrugxzGrFgVEHk4YQ1pSAIK44zpWRzplBwjXbQeXhZ1jtBb+X601oxGr8T3iKw2bC48gs8ELA8SzOqfADBJp4Tt/2U28mDW/I3+uglpxRcYNqK1sk8qHrZHkFwpmndYAvnjQzNABDrDkYXqkgyeN+kYickpxjWhypu/QWOY/a33yATQZ7UpfhHw2m/tejLlO2+W88RFmNalIQ0fINlyK7FRY+6kX1MNQfNjLqASKEqQ+bYIfK2PVI//BzTRf8Htlxn3vdtYzErUoHPRa1h3rGcZJesP3yoEgEctT5SJk4xGcdbFAkV1g7WJl6d54CAG4X/8hiPJ+HRYAsxjiT/s0MXOOlEYkti+QlieN8OP04XKDNzs32A=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 317, 'candidates_token_count': 124, 'total_token_count': 2426, 'prompt_tokens_details': [{'modality': 1, 'token_count': 317}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 124}], 'thoughts_token_count': 1985, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.8222004059822328, 'model_name': 'gemini-2.5-pro'} id='run--cc04381d-b9ba-4a51-a97e-62bc963c3eb8-0' tool_calls=[{'name': 'create_file', 'args': {'content': 'import pytest\nfrom my_package.main import my_func\n\ndef test_my_func_with_negative_numbers():\n    assert my_func(-1, -2) == -3\n    assert my_func(-5, -10) == -15\n\ndef test_my_func_with_mixed_numbers():\n    assert my_func(5, -3) == 2\n    assert my_func(-10, 20) == 10\n', 'relative_path': 'tests/test_reproducing_bug.py'}, 'id': '07a82853-4a2f-480b-963f-1ceffbdfe6d3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 317, 'output_tokens': 124, 'total_tokens': 2426, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1985}}
2025-12-21 14:41:15,354 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_file_node - DEBUG - content='tests/test_reproducing_bug.py\n' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 461, 'candidates_token_count': 11, 'total_token_count': 472, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2446}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 11}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.019233045252886685, 'model_name': 'gemini-2.5-pro'} id='run--3f0a3ae0-e80e-4c3e-bb70-d87cbf22b964-0' usage_metadata={'input_tokens': 461, 'output_tokens': 11, 'total_tokens': 472, 'input_token_details': {'cache_read': 0}}
2025-12-21 14:41:15,599 - thread-130546514527936.app.lang_graph.nodes.git_diff_node - INFO - Generated patch:
diff --git a/tests/test_reproducing_bug.py b/tests/test_reproducing_bug.py
new file mode 100644
index 0000000000..37e1a911d3
--- /dev/null
+++ b/tests/test_reproducing_bug.py
@@ -0,0 +1,10 @@
+import pytest
+from my_package.main import my_func
+
+def test_my_func_with_negative_numbers():
+    assert my_func(-1, -2) == -3
+    assert my_func(-5, -10) == -15
+
+def test_my_func_with_mixed_numbers():
+    assert my_func(5, -3) == 2
+    assert my_func(-10, 20) == 10

2025-12-21 14:41:15,600 - thread-130546514527936.app.lang_graph.nodes.update_container_node - INFO - Copy over all updated files to the container
2025-12-21 14:41:15,637 - thread-130546514527936.app.docker.base_container - INFO - Resetting git repository in the container
2025-12-21 14:41:15,637 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: git reset --hard
2025-12-21 14:41:15,738 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:41:15,738 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

HEAD is now at 7269fa3e33 Merge pull request #14013 from WilliamJamieson/deprecate/Voigt1D_humlicek2_option

2025-12-21 14:41:15,738 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: git clean -fd
2025-12-21 14:41:15,840 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:41:15,840 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:


2025-12-21 14:41:15,840 - thread-130546514527936.app.docker.base_container - INFO - Updating files in the container after edits.
2025-12-21 14:41:15,840 - thread-130546514527936.app.docker.base_container - INFO - Creating directory tests in the container
2025-12-21 14:41:15,840 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: mkdir -p tests
2025-12-21 14:41:15,942 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:41:15,942 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:


2025-12-21 14:41:15,942 - thread-130546514527936.app.docker.base_container - INFO - Updating tests/test_reproducing_bug.py in the container
2025-12-21 14:41:15,951 - thread-130546514527936.app.docker.base_container - INFO - Files updated successfully
2025-12-21 14:41:19,174 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/test_reproducing_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'c4ed2a1d-304f-4c8a-b3a3-1ea2a90e622c': 'CrcGAY89a18tKKX0pGyh2EsPEARDjS15/k6bg1+kZiLVGtpYdLRF7MP3Q1KqLBj8cgHOfi3ls2OH+Kl72rAIuz2U+2AWRfFZE3fbtnk5eNQuHOCGtXxUfFzw9j7XPad1iaTrA5lmYjy8TEGk09+eb7H4d5Z5u6dq+Sza01ZPENzkq7A1wBoDKuJQxDwQubyLvF+rpTYkA/LbsJlQfZCKy9uwRffkmdEyAcKAeyiwMQlMBvDDv8wDJmNg0oi9juUprG9HI5gkp3Wl2zXPHsTkqlhYrhDckAF1OEnhBFxovqBpr3sEJqDhl8lDLuBWMbLGAhM7Frp0NBTKXKJ+3eco1WtH0+B0EnzT9zZDZaAMDhT+dABk6CZeRJ1G7dIjKgxS5Q9jtP2DReubExzUwEq1rsIRcL6F74n5BbrQ3agbsT2BaVa8k+qJe7cw6FvYYPwRSuM9tB/8FWSBYOO7HzA/CSsc6FI8qVCI6QjjB+MQUIoA/U4xDNTxLIvd/cYS09LwbrcfV8eUy5BPzxFFLhLZB6C413FAIrumkAbRXm5XhnWoOy0rDNmkmOKksdFfRu5idsPBK8uGDLiCmlJC09CCQ3wWiv7EQpdWpWzfxWK/f7fzBGT9VDEk5E2pTKBR7tX/9zRG9hisUe87kNk3HQ5q7/uQgU+ctajKcRT6Mi5GeyRv2KK8WXRUAtMICYse+BOolV+LXEftoDFRlplddQZRIIOBu28lkBf8L4bOw1NQmzjE3yeYEKwmcWxo5WlcVUwqRFXJO1oqWnNseuG5hCuR0mncoR5GqDTLhS1jCLpE/F31tvIeWD9XvX7eoXOcSNl5MYbOlzLJDWu0o+fg8Tybh0FvKZiUX8hCd7WOjZ40FaC8B6djR/Wb4k0wttdpO0b9w8vR1zzlXeII1lr8VmrzlFIaRarkFqdNFIrR6KgoaGDmYcL2Oxqo9AxNnvUCVkOUx+J8oAcWIKvHk8JK93WsqDBBCA9e6dXGDugFYo88oyjN4k64FoWb0AaxBIhsD+jmfVFvOuTtXJbGv3b/4YtYUYlYXJXr47JFCCI+ARENbBxtzt98lfSEo2DN0aYwcQ7dmRjbXzkwz1cdMw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 712, 'candidates_token_count': 15, 'total_token_count': 939, 'prompt_tokens_details': [{'modality': 1, 'token_count': 712}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 15}], 'thoughts_token_count': 212, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.194115193684896, 'model_name': 'gemini-2.5-pro'} id='run--57c463b9-a6ba-4175-94c3-4aa72e336602-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/test_reproducing_bug.py'}, 'id': 'c4ed2a1d-304f-4c8a-b3a3-1ea2a90e622c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 712, 'output_tokens': 15, 'total_tokens': 939, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 212}}
2025-12-21 14:41:19,177 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pytest tests/test_reproducing_bug.py
2025-12-21 14:41:21,639 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 2
2025-12-21 14:41:21,639 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-7.4.0, pluggy-1.3.0

Running tests with Astropy version 5.3.dev882+g7269fa3e3.d20251221.
Running tests in tests/test_reproducing_bug.py.

Date: 2025-12-21T14:41:21

Platform: Linux-6.8.0-36-generic-x86_64-with-glibc2.35

Executable: /opt/miniconda3/envs/testbed/bin/python

Full Python Version: 
3.9.20 (main, Oct  3 2024, 07:27:41) 
[GCC 11.2.0]

encodings: sys: utf-8, locale: UTF-8, filesystem: utf-8
byteorder: little
float info: dig: 15, mant_dig: 15

Package versions: 
Numpy: 1.25.2
Scipy: not available
Matplotlib: not available
h5py: not available
Pandas: not available
PyERFA: 2.0.0.3
Cython: not available
Scikit-image: not available
asdf: not available
pyarrow: not available

Using Astropy options: remote_data: none.

CI: undefined
ARCH_ON_CI: undefined
IS_CRON: undefined

rootdir: /testbed
configfile: setup.cfg
plugins: doctestplus-1.0.0, cov-4.1.0, xdist-3.3.1, filter-subpackage-0.1.2, astropy-header-0.2.2, remotedata-0.4.0, astropy-0.10.0, mock-3.11.1, hypothesis-6.82.6, arraydiff-0.5.0, openfiles-0.5.0
[1mcollecting ... [0m[1m
collected 0 items / 2 errors                                                   [0m

==================================== ERRORS ====================================
[31m[1m________________ ERROR collecting tests/test_reproducing_bug.py ________________[0m
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/runner.py[0m:341: in from_call
    result: Optional[TResult] = func()
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/runner.py[0m:372: in <lambda>
    call = CallInfo.from_call(lambda: list(collector.collect()), "collect")
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pytest_doctestplus/plugin.py[0m:250: in collect
    module = import_path(fspath, root=self.config.rootpath)
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/pathlib.py[0m:565: in import_path
    importlib.import_module(module_name)
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/importlib/__init__.py[0m:127: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
[1m[31m<frozen importlib._bootstrap>[0m:1030: in _gcd_import
    ???
[1m[31m<frozen importlib._bootstrap>[0m:1007: in _find_and_load
    ???
[1m[31m<frozen importlib._bootstrap>[0m:986: in _find_and_load_unlocked
    ???
[1m[31m<frozen importlib._bootstrap>[0m:680: in _load_unlocked
    ???
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/assertion/rewrite.py[0m:178: in exec_module
    exec(co, module.__dict__)
[1m[31mtests/test_reproducing_bug.py[0m:2: in <module>
    from my_package.main import my_func
[1m[31mE   ModuleNotFoundError: No module named 'my_package'[0m
[31m[1m________________ ERROR collecting tests/test_reproducing_bug.py ________________[0m
[31mImportError while importing test module '/testbed/tests/test_reproducing_bug.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/miniconda3/envs/testbed/lib/python3.9/importlib/__init__.py:127: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/test_reproducing_bug.py:2: in <module>
    from my_package.main import my_func
E   ModuleNotFoundError: No module named 'my_package'[0m
[36m[1m=========================== short test summary info ============================[0m
[31mERROR[0m tests/test_reproducing_bug.py - ModuleNotFoundError: No module named 'my_package'
[31mERROR[0m tests/test_reproducing_bug.py
!!!!!!!!!!!!!!!!!!! Interrupted: 2 errors during collection !!!!!!!!!!!!!!!!!!!!
[31m============================== [31m[1m2 errors[0m[31m in 0.30s[0m[31m ===============================[0m

2025-12-21 14:41:24,436 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install -e \\".[test]\\""}'}, '__gemini_function_call_thought_signatures__': {'806be79d-7a20-4c3f-8626-af041f37d23c': 'CpQEAY89a1/8y/v9FOgIDAxag51SJOq2uYYz9ExYj3VP3b6yStk2VbubOeFnBc7x7vnGVG+ntJAx6hjwOSzDe2gOs4+4h6kVOJ0f2wz3lHF0TwAZezEmUGigSV8mR4WZqgQ8whW8Z6vDl+ruJAstraAIH+PpNs2DtIjWDtHD4A+4a6NdPsG2NRRY7DXIrJ0sB0vuIc6mmvCQN7XslW6oplCWMoHiOomaLfWCDq5rEYnbJG0B8C6r+ETIsZUnIWSwP7M/fgp96SeerquaZ6xo1qENhG+qSNXU4FKUewtAIqeB++OTUhksZNIIdtuzmmfpeg45ofYdxQ6NYvOdHcPZt4Vm0piE/G2R9uk0MM9uRRXRgqyiCEwYanp2gsiZIgxHcUgz1HD+kIsEtTeQUFJmHR+lnIm+Q0E30XnLXelvN9w+DF7s+bVKR0DGAPfvtPzqsolGbtq1FlaYNuO6TM3V3q6qfrKzcxj6DnSIVB0NaxRlVqWREUWy+nX/IuzZXDMQgihveExJwh8opgQ3yIU4ExpXgH/2MJlVakHG/ib5Wm1lkOpDVx7jn6QDmeXDpdxMCe4TSSi/qa8Eqc2vpVPssBGMy/AfIKcqdwRt04rgWmNvna3I1bBkqv8lbwKhATxhn+TbxjCKLdtzm/weJg7bh5mLx38tAMCvSuPW9gfYhlvi2bQ5e8XLYG2wVSF6RUihM4P+ou1NAg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2169, 'candidates_token_count': 12, 'total_token_count': 2300, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2381}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 12}], 'thoughts_token_count': 119, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.2711289723714192, 'model_name': 'gemini-2.5-pro'} id='run--0a9c2405-47e0-4844-a5ea-642a91f4d1ec-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install -e ".[test]"'}, 'id': '806be79d-7a20-4c3f-8626-af041f37d23c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2169, 'output_tokens': 12, 'total_tokens': 2300, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 119}}
2025-12-21 14:41:24,438 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install -e ".[test]"
2025-12-21 14:41:36,736 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 1
2025-12-21 14:41:36,736 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | / - \ | / - done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- error
  [1;31merror[0m: [1msubprocess-exited-with-error[0m
  
  [31mÃ—[0m [32mGetting requirements to build editable[0m did not run successfully.
  [31mâ”‚[0m exit code: [1;36m1[0m
  [31mâ•°â”€>[0m [31m[27 lines of output][0m
  [31m   [0m Traceback (most recent call last):
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 353, in <module>
  [31m   [0m     main()
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 335, in main
  [31m   [0m     json_out['return_val'] = hook(**hook_input['kwargs'])
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 132, in get_requires_for_build_editable
  [31m   [0m     return hook(config_settings)
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 473, in get_requires_for_build_editable
  [31m   [0m     return self.get_requires_for_build_wheel(config_settings)
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 331, in get_requires_for_build_wheel
  [31m   [0m     return self._get_build_requires(config_settings, requirements=[])
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 301, in _get_build_requires
  [31m   [0m     self.run_setup()
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 317, in run_setup
  [31m   [0m     exec(code, locals())
  [31m   [0m   File "<string>", line 69, in <module>
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/extension_helpers/_setup_helpers.py", line 63, in get_extensions
  [31m   [0m     for setuppkg in iter_setup_packages(srcdir, packages):
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/extension_helpers/_setup_helpers.py", line 159, in iter_setup_packages
  [31m   [0m     module = import_file(setup_package, name=packagename + ".setup_package")
  [31m   [0m   File "/tmp/pip-build-env-puyoo0am/overlay/lib/python3.9/site-packages/extension_helpers/_utils.py", line 138, in import_file
  [31m   [0m     loader.exec_module(mod)
  [31m   [0m   File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  [31m   [0m   File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  [31m   [0m   File "astropy/wcs/setup_package.py", line 13, in <module>
  [31m   [0m     from setuptools.dep_util import newer_group
  [31m   [0m ModuleNotFoundError: No module named 'setuptools.dep_util'
  [31m   [0m [31m[end of output][0m
  
  [1;35mnote[0m: This error originates from a subprocess, and is likely not a problem with pip.
[1;31merror[0m: [1msubprocess-exited-with-error[0m

[31mÃ—[0m [32mGetting requirements to build editable[0m did not run successfully.
[31mâ”‚[0m exit code: [1;36m1[0m
[31mâ•°â”€>[0m See above for output.

[1;35mnote[0m: This error originates from a subprocess, and is likely not a problem with pip.

2025-12-21 14:41:39,535 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install \\"setuptools<58\\""}'}, '__gemini_function_call_thought_signatures__': {'f9afd363-fcef-43e8-abf3-cb3d8a1662b6': 'Cs0FAY89a18J9Bx9ewsEvnz4I6gPMWHizL55bj4jnrdELBql4Kvw5/nY4dqeHUbFTXmmwCMc2kqM1yaon2VSaBsGKAjd1LLjYOTFqaqLKxRUZYhuRTWn+3HMJV8c0KUKeTu184Hhe/9yd+ZbjDfdauxO/4JL7AfpGRfKc5QLXG+NBaT6dwoyCaV+RSWq1dxloJUi7iYXtOJAxxAeHaY0dxC3B3t+P+cHJou4kWk2ZuKyDeq/5prRn8wlNjT+QmHTT9NDpQR2yz4zPeIh0Oei+x5NtI3UdcmZj8v6tlvEAu75AOYzH4kinZZEkCn6jWyQnKMxyrUQmuYoJzYBEAZlSk3bHzaVVr44+yBzCnu9xvmSkhzERme3rffM9WKyWXPWJfviml7HIaGAXLQBJoDpYZV7SB+4NYQEDaWDFeIM/Nn0LRM+LhhVS/tQLepnueQuDzHj9Vr1NspFYzxJRXzkJ77QcoKmYxTogJqTfsKVHYtLtW7Y9TKi0IESHfoan6J0k4nyYl3H6NvfEpiI5v6J8LGsej9nvrTDAVU08O5LkroI7bJhaaM4FWR0zpdKxVzss8oCFAPR7MY61v5UoS1UjTaAP5xANJU3S3zcPUpD26Hz1ZmVKCVAip1gVIT0bN6JlSl1KUYWKVHebYr9au9EAUPKPku6Uyi5XRyA9/VNjEm4TwIT60/DEZiLU1hLx8fG5hJwZ9Ud2mKKL4Hy1udd5WA55zJ8H1yMxMS5xVHAEtjU/VToNGuA9mxnWGzwmIah8lmgP/lqWROI5VQ0G5ODdVlpMZTM1PZ94J0jd9Im1ZVIuybGgqMly5I6d72d8KcZ//Gre41uSzic9JeJrykQE5AR0EU+uBJib1HCCgyKFnRXug0aUKzE3VtUEbY3OX+zPID0vlxsckqEDUkDVUMQ1S4dFfvfYt1zoCY+3ReS9pLxpFZVN8BoxhkV8Xlf9MUG'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3612, 'candidates_token_count': 13, 'total_token_count': 3810, 'cached_content_token_count': 1535, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3943}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1535}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 13}], 'thoughts_token_count': 185}, 'finish_reason': 'STOP', 'avg_logprobs': -1.7245628650371845, 'model_name': 'gemini-2.5-pro'} id='run--04fc0fba-c4c7-49f7-b9a7-bd67bfb419a3-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install "setuptools<58"'}, 'id': 'f9afd363-fcef-43e8-abf3-cb3d8a1662b6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3612, 'output_tokens': 13, 'total_tokens': 3810, 'input_token_details': {'cache_read': 1535}, 'output_token_details': {'reasoning': 185}}
2025-12-21 14:41:39,538 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install "setuptools<58"
2025-12-21 14:41:42,068 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:41:42,068 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

Collecting setuptools<58
  Downloading setuptools-57.5.0-py3-none-any.whl.metadata (4.9 kB)
Downloading setuptools-57.5.0-py3-none-any.whl (819 kB)
[?25l   [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m0.0/819.3 kB[0m [31m?[0m eta [36m-:--:--[0m
[2K   [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m819.3/819.3 kB[0m [31m8.9 MB/s[0m eta [36m0:00:00[0m
[?25hInstalling collected packages: setuptools
  Attempting uninstall: setuptools
    Found existing installation: setuptools 68.0.0
    Uninstalling setuptools-68.0.0:
      Successfully uninstalled setuptools-68.0.0
Successfully installed setuptools-57.5.0
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-12-21 14:41:43,590 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install -e \\".[test]\\""}'}, '__gemini_function_call_thought_signatures__': {'6eb12252-bb86-4f29-8d12-b57cb4bdc5ed': 'Cu0BAY89a1+aAD2jEGdgyu0f//w6IGwXpe99cfg3nT15rSNfyIrroiPHXidkk7hpNhpLqCGyuSsa76M2+sMDJrbRfI4lN1P/UYYHOZoNY5piFDQpgywsxYWijzapZlZkqd7ZC/sOqQ8G1rKsfIPEdhIjaWGbzODFMHX+v/IWebetsYy7iFfrznxDZTlDYUdxhF26xZqkWQ9MYM8vGkkoqmbEOvW2VFJ9buERauAvvPeUiBZHxDoOldnJMvc1CVMtFih0JB6enFst3qYae1Unj8UyRXdKZJbvJDQmMnQf2TVc0KYpNgMFfjYllbC2Lw7b'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3984, 'candidates_token_count': 12, 'total_token_count': 4046, 'cached_content_token_count': 3101, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4500}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3101}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 12}], 'thoughts_token_count': 50}, 'finish_reason': 'STOP', 'avg_logprobs': -0.34755225976308185, 'model_name': 'gemini-2.5-pro'} id='run--4dd2a17b-1afd-40f8-bff0-ef584a7294ac-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install -e ".[test]"'}, 'id': '6eb12252-bb86-4f29-8d12-b57cb4bdc5ed', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3984, 'output_tokens': 12, 'total_tokens': 4046, 'input_token_details': {'cache_read': 3101}, 'output_token_details': {'reasoning': 50}}
2025-12-21 14:41:43,593 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install -e ".[test]"
2025-12-21 14:41:53,708 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 1
2025-12-21 14:41:53,708 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

Obtaining file:///testbed
  Installing build dependencies ... [?25l- \ | / - \ | / done
[?25h  Checking if build backend supports build_editable ... [?25ldone
[?25h  Getting requirements to build editable ... [?25l- error
  [1;31merror[0m: [1msubprocess-exited-with-error[0m
  
  [31mÃ—[0m [32mGetting requirements to build editable[0m did not run successfully.
  [31mâ”‚[0m exit code: [1;36m1[0m
  [31mâ•°â”€>[0m [31m[27 lines of output][0m
  [31m   [0m Traceback (most recent call last):
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 353, in <module>
  [31m   [0m     main()
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 335, in main
  [31m   [0m     json_out['return_val'] = hook(**hook_input['kwargs'])
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 132, in get_requires_for_build_editable
  [31m   [0m     return hook(config_settings)
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 473, in get_requires_for_build_editable
  [31m   [0m     return self.get_requires_for_build_wheel(config_settings)
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 331, in get_requires_for_build_wheel
  [31m   [0m     return self._get_build_requires(config_settings, requirements=[])
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 301, in _get_build_requires
  [31m   [0m     self.run_setup()
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 317, in run_setup
  [31m   [0m     exec(code, locals())
  [31m   [0m   File "<string>", line 69, in <module>
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/extension_helpers/_setup_helpers.py", line 63, in get_extensions
  [31m   [0m     for setuppkg in iter_setup_packages(srcdir, packages):
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/extension_helpers/_setup_helpers.py", line 159, in iter_setup_packages
  [31m   [0m     module = import_file(setup_package, name=packagename + ".setup_package")
  [31m   [0m   File "/tmp/pip-build-env-yehsafm6/overlay/lib/python3.9/site-packages/extension_helpers/_utils.py", line 138, in import_file
  [31m   [0m     loader.exec_module(mod)
  [31m   [0m   File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  [31m   [0m   File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  [31m   [0m   File "astropy/wcs/setup_package.py", line 13, in <module>
  [31m   [0m     from setuptools.dep_util import newer_group
  [31m   [0m ModuleNotFoundError: No module named 'setuptools.dep_util'
  [31m   [0m [31m[end of output][0m
  
  [1;35mnote[0m: This error originates from a subprocess, and is likely not a problem with pip.
[1;31merror[0m: [1msubprocess-exited-with-error[0m

[31mÃ—[0m [32mGetting requirements to build editable[0m did not run successfully.
[31mâ”‚[0m exit code: [1;36m1[0m
[31mâ•°â”€>[0m See above for output.

[1;35mnote[0m: This error originates from a subprocess, and is likely not a problem with pip.

2025-12-21 14:41:57,127 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install --no-build-isolation -e \\".[test]\\""}'}, '__gemini_function_call_thought_signatures__': {'d2f76e24-ea77-4a6c-b9dd-438db46641c5': 'CogHAY89a191o/OHrwISHgC+wftp5agT1AhVDhJm8eP4FA8NHDUjjBf7x+BBf1R6qBJW7ZGiAyPQlMdSoKl7WMWHuRsAY4y8p5VtylDnsbo9YHTHmPagDgXdnZk4c+TaLLEYZSlvf0JIKc3+UQaLHg/eDO6iELRucAy14+zLQxJ537phaxoiddbPNRcBi+ZDsa/ZW0Qdj+8BFJFsjoAetevjQM+C4ytVTB9uwWhYUIpDyecllJygp1reJhNxBF4auLxRMQZaasWM6No5R16M+YcVbjK87AMQ++yQzPUsvueYaEUGb/hsF+hQ1fgpiTFjYh18nhlMloR2maLPFvfR+t/FfFdl/4YrNjXBTQJyIUC+HTXaI3INvNuxobTCYW7hkCFn5SkuRK5dYpFUQrT5ZVT7sEf8Miqs6jFA9Xl72FVw0Fvz6xq7EAqAHXqrzMX3fby8uHbWD6AzsY0MzwD1yCaukCYRctlXeGzJpA3f5mxDwVixYLteDlOicDrDvds5dTZATvWLpKdbd4K15eDzaRheaBUWRlA/3EcfpxZ0RR1WFpgu6t0BXU2d8w6zwRSMfpOGUx2aqAceHcCSfHIfcy5b9ngR3Jp5WB+KQ2y0d+64Bnp1Us6RssUH0F8pgeSoQRkC3B3I6NiFj54EwQTYjE/Otf5axEbRXjfUPUzPPS8TnaorgR4WrjVaER2l66istPhdNPMSmgkcWpaEcUaMnOj57deKt5WhbJLap45h8ZHQT6CUarUaUbUp+WznC7BBXH5ll/r42EgrLQmk3a62dc1GEaRWb1LtA4vZ9USmfzlLOL/jk3ztl+98ak4H0OR7r8UyQ63y2LzokM+I43iVgkCSXbB8GgaOWpujJ0xY4yqE49H3+U87gY2BzaXd+RPHzoxEXhlAxTfN0mzM2e7cwibZH327lZpRpkR06+NxMCCda/CO4CmAglK6aNqrODZO4TEZuQUoFhMu5FhmHY9e0eTrPGmWigXypaiUzdA4S44RipCB0prWbPjZAjNAT13KWgK4By6ccpPhEm0G93b9QheoBYkeObhPFrjtqxHpWrLv6PJQlprQyeS+bfDNDn13IjCPRBAAmrPX04Qmx7i8gqajiXlqaDi5IkBTjpXzSvZuyVJ3H6FATkiU6iZiJdpe0R/sUHElLkU+unfjLRqPwMMH0+AhFkXIQh9L6R+SOVMgzRmEwdcU4IGC2A=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 5423, 'candidates_token_count': 18, 'total_token_count': 5670, 'cached_content_token_count': 3093, 'prompt_tokens_details': [{'modality': 1, 'token_count': 5989}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3093}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 18}], 'thoughts_token_count': 229}, 'finish_reason': 'STOP', 'avg_logprobs': -1.144519911872016, 'model_name': 'gemini-2.5-pro'} id='run--7204b7b9-25c1-4e4c-9392-93afc3835a75-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install --no-build-isolation -e ".[test]"'}, 'id': 'd2f76e24-ea77-4a6c-b9dd-438db46641c5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 5423, 'output_tokens': 18, 'total_tokens': 5670, 'input_token_details': {'cache_read': 3093}, 'output_token_details': {'reasoning': 229}}
2025-12-21 14:41:57,130 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install --no-build-isolation -e ".[test]"
2025-12-21 14:41:58,281 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 1
2025-12-21 14:41:58,281 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:
pip install --no-build-isolation -e ".[test
t]"

Obtaining file:///testbed
  Checking if build backend supports build_editable ... [?25ldone
[?25h  Preparing metadata (pyproject.toml) ... [?25l- error
  [1;31merror[0m: [1msubprocess-exited-with-error[0m
  
  [31mÃ—[0m [32mPreparing metadata [0m[1;32m([0m[32mpyproject.toml[0m[1;32m)[0m did not run successfully.
  [31mâ”‚[0m exit code: [1;36m1[0m
  [31mâ•°â”€>[0m [31m[14 lines of output][0m
  [31m   [0m Traceback (most recent call last):
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 353, in <module>
  [31m   [0m     main()
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 335, in main
  [31m   [0m     json_out['return_val'] = hook(**hook_input['kwargs'])
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 149, in prepare_metadata_for_build_wheel
  [31m   [0m     return hook(metadata_directory, config_settings)
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/setuptools/build_meta.py", line 166, in prepare_metadata_for_build_wheel
  [31m   [0m     self.run_setup()
  [31m   [0m   File "/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/setuptools/build_meta.py", line 150, in run_setup
  [31m   [0m     exec(compile(code, __file__, 'exec'), locals())
  [31m   [0m   File "setup.py", line 67, in <module>
  [31m   [0m     from extension_helpers import get_extensions  # noqa: E402
  [31m   [0m ModuleNotFoundError: No module named 'extension_helpers'
  [31m   [0m [31m[end of output][0m
  
  [1;35mnote[0m: This error originates from a subprocess, and is likely not a problem with pip.
[1;31merror[0m: [1mmetadata-generation-failed[0m

[31mÃ—[0m Encountered error while generating package metadata.
[31mâ•°â”€>[0m See above for output.

[1;35mnote[0m: This is an issue with the package mentioned above, not pip.
[1;36mhint[0m: See above for details.

2025-12-21 14:42:00,999 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install extension-helpers"}'}, '__gemini_function_call_thought_signatures__': {'18a86b15-24ba-4251-8825-f1926ec44056': 'CoAGAY89a1+8a6BwUAnvo/7B5ixtGE0LgHNFNQf2mNsCrfvKpUAqKaEjhp1kJn6THtcSUJ8TD3yuB7okEJqUpdNNZyrK0nrCrJ7I9QfygcMifo/PqsbIsYTtoNT375YVm2B5UXVZLHa2f9ngB5XOf933pGkyqnXm27xs4Jy1rZ5mBoyMiKUBy0Dhel7fKqID69pdZl9Xd9prKxixrZYYkwsM/kNTizzSdSkkSor4fiJOWdo/svcYkt/yguid31BmjT5jP/LBf3Xpfnb3AaRG6Na3GPMx2Y9S/an506o5LRS+kZUjWAbqAq9QS1y0ihqMuhliM2VXGUy5fhS2V90GPKZCUeaGidtB59PCM47FGMRYCXIfiIeWted5nECPMJ5x1Zg8VhimhKwEAdKGGphz63t+kUZFDpgmHOAoosXd1DEIapjOo5p5IctOqMQNqI/XZ0qBWVDZu5oVX7VoQ/qupg5sfQrS635A1vIQ/bepSsO4y/mHzjwSAqm/ZRojyEYOKnH1Z5LgB+J9lgQ0xnRy/FgWPf6HtFIPY27y0lbp93MK7iJF5mkPeF0sDkYhcLEvmVGReRJ3Fv2cfo6SWieg9vJI8s/kL0XVTcxWSkgqTQDav/Q8kzjIgMNazejFQLT/JRYKVoSNj+U57AAB6JDi1jkJ9TnUHxDIBv+IakAl9FM+zJiS7wd8PNZGBUMvY84t49oIG/a3b79Mnt/YgNuMZSSHDjR4YAr7V6VqAw48j5bqhB3KBhNj7W8KHZtrB1QSjMI2rG4NrMTajtVFCrRKLchCgxLPgNtEM3MsfdkHy66gBxJxrxGZUNOGftSk+PfP4bitsmuFvaoiUm0k2Hj56yPBBM8z7QYywqU4e1WlVZ9DHpn+ftqtpOHW6Y5rumyh6ujMCmFZi5HpHnVxSAlJZdq1/cR2d1xjAPZ4ts22+5GnOkVUWP3fDw4l8k8U46NVNrVAEBtrw6c3tQJ7xSUwIRBZwCue45fGEEYpJ1xbRYlQBX38aT9ZRJt575ezwYwtkndCCiIBjz1rX5UAp1yY/Ca8XT/H74WZwqmVv3gsCXqWMpNfjZo/'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 6311, 'candidates_token_count': 9, 'total_token_count': 6513, 'cached_content_token_count': 4647, 'prompt_tokens_details': [{'modality': 1, 'token_count': 7106}], 'cache_tokens_details': [{'modality': 1, 'token_count': 4647}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 9}], 'thoughts_token_count': 193}, 'finish_reason': 'STOP', 'avg_logprobs': -1.6822423934936523, 'model_name': 'gemini-2.5-pro'} id='run--15f458cd-ce33-4867-a8da-2bb512d999b6-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install extension-helpers'}, 'id': '18a86b15-24ba-4251-8825-f1926ec44056', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6311, 'output_tokens': 9, 'total_tokens': 6513, 'input_token_details': {'cache_read': 4647}, 'output_token_details': {'reasoning': 193}}
2025-12-21 14:42:01,001 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install extension-helpers
2025-12-21 14:42:01,960 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:42:01,960 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

Collecting extension-helpers
  Using cached extension_helpers-1.2.0-py3-none-any.whl.metadata (2.2 kB)
Requirement already satisfied: setuptools>=40.2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from extension-helpers) (57.5.0)
Requirement already satisfied: tomli>=1.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from extension-helpers) (2.0.1)
Using cached extension_helpers-1.2.0-py3-none-any.whl (23 kB)
Installing collected packages: extension-helpers
Successfully installed extension-helpers-1.2.0
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-12-21 14:42:03,577 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pip install --no-build-isolation -e \\".[test]\\""}'}, '__gemini_function_call_thought_signatures__': {'298c3c38-13cc-460b-a4e3-7610ead0d0bb': 'CoMCAY89a19UVFb3K6IB6VLo6WG+wwlYoYYBW0fd7qgbFaNtQ+beF4oDmcDZd4EjDGKnw5MM5+pTLMdtByuCBMpeLl8tyzw9Sov9nbJeRz/Qmk9XvI5Od2HEsQw6xBdtaicaXCnBURM3114tnrUKTdhn/JaBa0iReb6Z9ehhbChJueaxfjPF72m8Hhg6pYtgT0p0kZkd80/hsY8cgNZGB0tM9ahakBJo3kxrr7W6G1CU+6AgUBRVboT6RLpeYrTfNDP6/YCTMdOVg/4UQpnxACzfYGCjPHnMBAGVaxW4BOCWxDAmd7kjOoTPCNhvFSJAoY48slsUJyWRL+NxRrGrXgszqgdj5A=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 6596, 'candidates_token_count': 18, 'total_token_count': 6672, 'cached_content_token_count': 6261, 'prompt_tokens_details': [{'modality': 1, 'token_count': 7584}], 'cache_tokens_details': [{'modality': 1, 'token_count': 6261}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 18}], 'thoughts_token_count': 58}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09817397594451904, 'model_name': 'gemini-2.5-pro'} id='run--7766389c-c41c-45a2-8661-d26de795910c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pip install --no-build-isolation -e ".[test]"'}, 'id': '298c3c38-13cc-460b-a4e3-7610ead0d0bb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 6596, 'output_tokens': 18, 'total_tokens': 6672, 'input_token_details': {'cache_read': 6261}, 'output_token_details': {'reasoning': 58}}
2025-12-21 14:42:03,580 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pip install --no-build-isolation -e ".[test]"
2025-12-21 14:43:11,595 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:11,595 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:
pip install --no-build-isolation -e ".[test
t]"

Obtaining file:///testbed
  Checking if build backend supports build_editable ... [?25ldone
[?25h  Preparing metadata (pyproject.toml) ... [?25l- \ done
[?25hRequirement already satisfied: numpy>=1.21 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (1.25.2)
Requirement already satisfied: pyerfa>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (2.0.0.3)
Requirement already satisfied: PyYAML>=3.13 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (6.0.1)
Requirement already satisfied: packaging>=19.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (23.1)
Requirement already satisfied: pytest>=7.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (7.4.0)
Requirement already satisfied: pytest-doctestplus>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (1.0.0)
Requirement already satisfied: pytest-astropy-header>=0.2.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (0.2.2)
Requirement already satisfied: pytest-astropy>=0.10 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (0.10.0)
Requirement already satisfied: pytest-xdist in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from astropy==0.0.0) (3.3.1)
Requirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==0.0.0) (2.0.0)
Requirement already satisfied: pluggy<2.0,>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==0.0.0) (1.3.0)
Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==0.0.0) (1.1.3)
Requirement already satisfied: tomli>=1.0.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest>=7.0->astropy==0.0.0) (2.0.1)
Requirement already satisfied: pytest-remotedata>=0.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (0.4.0)
Requirement already satisfied: pytest-openfiles>=0.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (0.5.0)
Requirement already satisfied: pytest-arraydiff>=0.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (0.5.0)
Requirement already satisfied: pytest-filter-subpackage>=0.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (0.1.2)
Requirement already satisfied: pytest-cov>=2.3.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (4.1.0)
Requirement already satisfied: pytest-mock>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (3.11.1)
Requirement already satisfied: attrs>=19.2.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (23.1.0)
Requirement already satisfied: hypothesis>=5.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-astropy>=0.10->astropy==0.0.0) (6.82.6)
Requirement already satisfied: setuptools>=30.3.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-doctestplus>=0.12->astropy==0.0.0) (57.5.0)
Requirement already satisfied: execnet>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-xdist->astropy==0.0.0) (2.0.2)
Requirement already satisfied: sortedcontainers<3.0.0,>=2.1.0 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from hypothesis>=5.1->pytest-astropy>=0.10->astropy==0.0.0) (2.4.0)
Requirement already satisfied: coverage>=5.2.1 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from coverage[toml]>=5.2.1->pytest-cov>=2.3.1->pytest-astropy>=0.10->astropy==0.0.0) (7.6.2)
Requirement already satisfied: psutil in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from pytest-openfiles>=0.3.1->pytest-astropy>=0.10->astropy==0.0.0) (5.9.5)
Installing collected packages: astropy
  Attempting uninstall: astropy
    Found existing installation: astropy 5.3.dev882+g7269fa3e3.d20251221
    Uninstalling astropy-5.3.dev882+g7269fa3e3.d20251221:
      Successfully uninstalled astropy-5.3.dev882+g7269fa3e3.d20251221
[33m  DEPRECATION: Legacy editable install of astropy[test]==0.0.0 from file:///testbed (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457[0m[33m
[0m  Running setup.py develop for astropy
Successfully installed astropy-5.3.dev882+g7269fa3e3.d20251221
[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.[0m[33m

2025-12-21 14:43:13,135 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "pytest tests/test_reproducing_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'ae303d92-c407-4ac1-ab42-2da67f2954ef': 'CqcBAY89a195Z51UhA/BxbdXYfWoGwGOXUbcTX5/2GefGzD6JuglFPyUjiXof40TXdD99ZiSa+qm3MXMgT5suflGzyApfZH4clgGFNpvVB9IgL6M62lRcPaxbLNpDAcOYo1iYxApyk0c8GfbXRNJjrTuyYnSkl3YUCriFGtsa1h+6xbP3/IAMEBb+H0VUuPakCTLWkS84yUKDL3fqs8IoTp9RnJKdMKw1UI='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 8700, 'candidates_token_count': 15, 'total_token_count': 8749, 'cached_content_token_count': 6552, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9746}], 'cache_tokens_details': [{'modality': 1, 'token_count': 6552}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 15}], 'thoughts_token_count': 34}, 'finish_reason': 'STOP', 'avg_logprobs': -0.06965825557708741, 'model_name': 'gemini-2.5-pro'} id='run--dc191b8a-7307-4714-b8e1-40e3ad5a3c31-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'pytest tests/test_reproducing_bug.py'}, 'id': 'ae303d92-c407-4ac1-ab42-2da67f2954ef', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8700, 'output_tokens': 15, 'total_tokens': 8749, 'input_token_details': {'cache_read': 6552}, 'output_token_details': {'reasoning': 34}}
2025-12-21 14:43:13,137 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: pytest tests/test_reproducing_bug.py
2025-12-21 14:43:14,521 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 2
2025-12-21 14:43:14,522 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.9.20, pytest-7.4.0, pluggy-1.3.0

Running tests with Astropy version 5.3.dev882+g7269fa3e3.d20251221.
Running tests in tests/test_reproducing_bug.py.

Date: 2025-12-21T14:43:14

Platform: Linux-6.8.0-36-generic-x86_64-with-glibc2.35

Executable: /opt/miniconda3/envs/testbed/bin/python

Full Python Version: 
3.9.20 (main, Oct  3 2024, 07:27:41) 
[GCC 11.2.0]

encodings: sys: utf-8, locale: UTF-8, filesystem: utf-8
byteorder: little
float info: dig: 15, mant_dig: 15

Package versions: 
Numpy: 1.25.2
Scipy: not available
Matplotlib: not available
h5py: not available
Pandas: not available
PyERFA: 2.0.0.3
Cython: not available
Scikit-image: not available
asdf: not available
pyarrow: not available

Using Astropy options: remote_data: none.

CI: undefined
ARCH_ON_CI: undefined
IS_CRON: undefined

rootdir: /testbed
configfile: setup.cfg
plugins: doctestplus-1.0.0, cov-4.1.0, xdist-3.3.1, filter-subpackage-0.1.2, astropy-header-0.2.2, remotedata-0.4.0, astropy-0.10.0, mock-3.11.1, hypothesis-6.82.6, arraydiff-0.5.0, openfiles-0.5.0
[1mcollecting ... [0m[1m
collected 0 items / 2 errors                                                   [0m

==================================== ERRORS ====================================
[31m[1m________________ ERROR collecting tests/test_reproducing_bug.py ________________[0m
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/runner.py[0m:341: in from_call
    result: Optional[TResult] = func()
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/runner.py[0m:372: in <lambda>
    call = CallInfo.from_call(lambda: list(collector.collect()), "collect")
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/pytest_doctestplus/plugin.py[0m:250: in collect
    module = import_path(fspath, root=self.config.rootpath)
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/pathlib.py[0m:565: in import_path
    importlib.import_module(module_name)
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/importlib/__init__.py[0m:127: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
[1m[31m<frozen importlib._bootstrap>[0m:1030: in _gcd_import
    ???
[1m[31m<frozen importlib._bootstrap>[0m:1007: in _find_and_load
    ???
[1m[31m<frozen importlib._bootstrap>[0m:986: in _find_and_load_unlocked
    ???
[1m[31m<frozen importlib._bootstrap>[0m:680: in _load_unlocked
    ???
[1m[31m/opt/miniconda3/envs/testbed/lib/python3.9/site-packages/_pytest/assertion/rewrite.py[0m:178: in exec_module
    exec(co, module.__dict__)
[1m[31mtests/test_reproducing_bug.py[0m:2: in <module>
    from my_package.main import my_func
[1m[31mE   ModuleNotFoundError: No module named 'my_package'[0m
[31m[1m________________ ERROR collecting tests/test_reproducing_bug.py ________________[0m
[31mImportError while importing test module '/testbed/tests/test_reproducing_bug.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/opt/miniconda3/envs/testbed/lib/python3.9/importlib/__init__.py:127: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/test_reproducing_bug.py:2: in <module>
    from my_package.main import my_func
E   ModuleNotFoundError: No module named 'my_package'[0m
[36m[1m=========================== short test summary info ============================[0m
[31mERROR[0m tests/test_reproducing_bug.py - ModuleNotFoundError: No module named 'my_package'
[31mERROR[0m tests/test_reproducing_bug.py
!!!!!!!!!!!!!!!!!!! Interrupted: 2 errors during collection !!!!!!!!!!!!!!!!!!!!
[31m============================== [31m[1m2 errors[0m[31m in 0.22s[0m[31m ===============================[0m

2025-12-21 14:43:17,312 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "ls -F"}'}, '__gemini_function_call_thought_signatures__': {'fb1a7400-c251-4563-a054-85b02332c0d8': 'CtsFAY89a1+PGsJ6Ru3jyCfUops4kUasi5yiNTCq5Eh0fy+TLYvd3PcoMMaDTaoRclVLoU9Y0LCo//ibjEm9kRJLXxciNG25Q7G4CWiDodkliWfCM6MZX7RHDE0MIt0+QLJ63mHqewwNEaPpexdn54Ox6EIoOjn3mmOkopW65PyBX+p7DjRZww+knvqPc4yy40VsxIK0BQJw7xJ8QT8XwKkWHh6V5KhHsAfOIRkRRmhqIWCAo+zsj4257b8+dAx45ER3JurpbxylnWshzRXmpM2nxQ1aUZoQdc/bLLJdVV8lAq2M2wmoy/tuZpIrHTpg8PqYK9v05B/f8SZIYUpNIFQbvqGZ2agjsuT9qb0mpSog3aIZlkef5rFasPo9DBkS35qhevpfVFAlr8ztCYe4tDRxM1HIbvYH3yygNlWycDYhILHGnt5S8lM/0M7BJvIj67hxEpmm0grFTC5geulE0nBU7fJzhVgt61khEb6fphDuluE6r6MmRvCYoYi7Mld2VCc7wU80LDHdCw7lc/KADliXgMESAm+sV5SVgQC1D9D/brbVLeQtbZqoLpR0cqEYo4Z2ZGmu7ecbhYV6WlOx2J5DDOgq/JNTQxD7Jv7XgT2dp70VsCpXBqABK93izeTkE1sk1pmEqfZv4ukp3tLbp3RkupX0mJivkYlC4mjkgKpJAnL/K19tPiBxqWpFQc2Qv9venDDuHtTRoAzOAPemhWAR7vumKFyef1g5dttZYpIA4gc5xv5yTFAHWcCBX2iCjhPp8KYhkmAUudy9kYvl/adgkmrS+mWIKl3DPJhhH9Bxc94MPZkaoflE+8PqJanF08f/GRo3Z8ETLrDPpxoEDowRHTEQ3JtcXxRHgmCDPfMfOjFq/IScNDuoOD2MKF6KsKjIeYiRcrasqTc5tqmY5cqDSzgJe/KWWiIS3GOAul0yN2gZfKFVeHLNyvZR+iGy9wWPjShMDTe5oh3BtAg='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10157, 'candidates_token_count': 7, 'total_token_count': 10349, 'cached_content_token_count': 8194, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11237}], 'cache_tokens_details': [{'modality': 1, 'token_count': 8194}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 7}], 'thoughts_token_count': 185}, 'finish_reason': 'STOP', 'avg_logprobs': -3.3803844451904297, 'model_name': 'gemini-2.5-pro'} id='run--2b7e88b3-e403-44e3-87c2-59d56d0dcc31-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'ls -F'}, 'id': 'fb1a7400-c251-4563-a054-85b02332c0d8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10157, 'output_tokens': 7, 'total_tokens': 10349, 'input_token_details': {'cache_read': 8194}, 'output_token_details': {'reasoning': 185}}
2025-12-21 14:43:17,315 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: ls -F
2025-12-21 14:43:17,416 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:17,417 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

CHANGES.rst	    LICENSE.rst   astropy.egg-info/  docs/	     setup.py*
CITATION	    MANIFEST.in   build/	     examples/	     tests/
CODE_OF_CONDUCT.md  README.rst	  cextern/	     licenses/	     tox.ini
CONTRIBUTING.md     __pycache__/  codecov.yml	     pyproject.toml
GOVERNANCE.md	    astropy/	  conftest.py	     setup.cfg

2025-12-21 14:43:22,593 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat tests/test_reproducing_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'9334540c-dd99-4c4a-88f4-3a7023e60f9c': 'CuMLAY89a18x9jMFZ2o+K8XPB7iWuV3x4Be2PspeTJxlke7ikMmDBSEZ5oidoaMeodqeMbJWHfESh07PY0tuWZpZPjZPDgcv2rrPu3GNLwSpYGmJ8MdhX5PGKLLeGPA2iJHVzSXUQg9fUzdSe/HSM78YOnPymOOb54uE1d1d43jOWZnHhp0V59kp77QMAgrrqnXK+JRuMBOTVAtDIZ7XQAziwM7UsIrDSCUUrTvGZA5zimqZyu4XixGC/6Q2D6qBtg3Nf2sg78jETtuCwpmyOl61w8rsGcg5AAarPdtWAwQQMpQKlt4WePE6iYy6Zky+q5S5I1bgGAb7BUzmMkBz3f1ibcpKssbgKajMj5dj2Vv6T6A6u9mHvirw9MJ9L666X74VU5agiWEYvxeZ4pUGxOe9Eos7UJq7YDUi+zdOApbqDQmneBh9RiGdw1/2Kwwk/9Q9msHJ2E6OlJCHnaXEfTvbeAxljS2WrfyalCQ1tpan9Euh+l9A7G/JNXTEzDTl7siGxU3WOiQOyolYpXbd1C+VmI6bnTVL738ryQVq2phUD68aKBluQm/6W2Wyu2PCGuGobTcQQkdPN3n9uxdN1Hd1vAHjBkkT8rIa2C9VSNPEhhHcZBjGyjjsO7kJkf6A/XD4sL93QusmgktYHojQh/JJxCvSohAvHdn2JBUjdM0lomwH7f1qG9EKgJBoksoAARYvrWfUCrRr4SHVnp3bQer6QEzgdsU/0TMCOjAEbA/h7TsQljnqrREms9pIo3OK8cVjy3ROOpmoK8D5gBfFW2b9Cs7ZE40dyFDHCqfpVwox+kf50TdIr7UFWQ088c6ehC5N8xbXJnYhowyl4GnoOcYke0hXo3rJ3cDSx/vYU87UgVSTwS+6liMhc/zsTelx1+BvmkA0SLyWO/GKjBj713+i+klJAKqYEEDX5iw38zoMvZwPQKD0LQCwZaHSTxQvRnaJItfP72XobehSBj5oMfoLZz4i4G0ix5byOfyuCunfORFOaN82T5hdSPzzPs6rkvzcQGe/6duHeOzgYhzp/r5m35Ibe5o6Gise3r2EBdlUXJd34BQZtqYQxyPusJ//MfUdAnWLB8TLBrdDs0OUwlpnY+tZnPpO82lVo0D9ELwA/7yNEu2dnLOZAh578nDYN4BlE3iH0UOwvvDppOu144zwi+A2sE6AxIubN/UHkR3PNZeUDM9arsxRe4SkXlMtLy57zZpXZkRhquho5BVf19dHT90roS7sfaNcLg30uv8qcGdKTwX3RBHSnmg11bhwtOSMu4A8eyM+lERxHEwtRdzoWEyiriKv2lZl51riAlBA3pueoJ6HDkZm9bw71NVtvTf9hmsKziL7sRYy/bxovn7m/pyb/WB1Rrs1EuXFVmEP6L458ZfcgF7SnBzkKmLD70X1tHl2gDqaUnQ6Z4sP6I1KwE3iPR+m/51uP0dkQn0qU2F786TpcQsscjnooZrl8nUyAqyc+HAd7poaJunNXh9U9bqC9qgB1VmD+bL1wcdvrVoglRSryJpZOqx0hlcuOiJOR3u7aWl99xpiEoGIHQj+nIMnQG/Hd7xK0f8mnMcXfG4uPQAAxyYe7Nzo7zNGkdLk4Cbxa0K9Zr8eK3AZUeOOtihszzDYPdtOrLmvEZBQBVa9MJ73srnVRY+dp8z6pyM95AKlCkXx8EK1TQyMGOeQ5pMY1lQ1T0bHI7zRbMJU8cqlINNihPrzAfEJ3Iu8GilovvFbYlWpscUtIbQUHSYk4tZsWULo4mx+cNxkkRe/lN5ooSyGrHEFsEA34GYTYUv9HK/0Ef+9Xv47IOVUyspAEShGbsH158P7sVPTx7Ytn4I0i7un8Dm+2JLJxB6Z1JJV/FJ5tRPyLpyfWH1MhH4wsKkPL/XVpaba16dZNga+YBwj5hUPOO7Hb3Xjf+9mnORb88CEzPEhyl7B562Jze5+3cDkkaW7yHS2WVwkVf4a1blCHbyk7nV3GhbqRDAZO/dD08gynhUbTdwD8g25qNcryohZ7w=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10284, 'candidates_token_count': 15, 'total_token_count': 10694, 'cached_content_token_count': 9855, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11549}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9855}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 15}], 'thoughts_token_count': 395}, 'finish_reason': 'STOP', 'avg_logprobs': -3.7132408142089846, 'model_name': 'gemini-2.5-pro'} id='run--be3b6e35-770c-4238-a9c3-c90e45fcaa1c-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat tests/test_reproducing_bug.py'}, 'id': '9334540c-dd99-4c4a-88f4-3a7023e60f9c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10284, 'output_tokens': 15, 'total_tokens': 10694, 'input_token_details': {'cache_read': 9855}, 'output_token_details': {'reasoning': 395}}
2025-12-21 14:43:22,596 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: cat tests/test_reproducing_bug.py
2025-12-21 14:43:22,697 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:22,697 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

import pytest
from my_package.main import my_func

def test_my_func_with_negative_numbers():
    assert my_func(-1, -2) == -3
    assert my_func(-5, -10) == -15

def test_my_func_with_mixed_numbers():
    assert my_func(5, -3) == 2
    assert my_func(-10, 20) == 10

2025-12-21 14:43:26,403 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "echo \'read serr 1 2 \\\\n1 0.5 1 0.5\' > test.qdp"}'}, '__gemini_function_call_thought_signatures__': {'727f3170-62ca-41c3-a9f9-5d4a498ff7ef': 'CqYHAY89a191vssK9Dyu/icov3SU5E5Uj87jyXSef7kUHkhu7UMHF2xfVAyPVev7nsxO2840jYxQtk4PaeeKvz7iGzKJ/lYnaH52zNT02rznLo4bmFF3KIQEQKzt94VXHWMoplPLMT1U8G9vjRw9kxSu7BA+FNFFnge2hlDljBDytGEWDMkRH3mzTFfWLsYX48fD2SCC0NQbVraDkPrnh+R7kmNWenT31+XDYsdxfnrlxBYncrDBDzuP3U+r6XHhOmcm77t7zbeNQ8AGu0/rI+RYOldoww4uT8AAz9SFFYmtkIdEKyVg/diWwBQaDkb1xnNtJF+IiGkKZxK/ZNizAay39sggKXOu5V3z9n2Fqy547vdL3T/cP5z6Wp22aFvugy0L8ff2AppN9Nf+S/ioyjoy/DVjb35i7sX7GbbXtdKlaiOyBTYmPUouj8Li/WGwuH+1Cr2LCPWu4DD0DVNth92vuJzJr1lpu4VzPNi8O1rJpfyhXzMlyGE9bewrf3I2K+aVTRf5IYSndTRaIiLYdONTozI/PXqoC8qqYVtKeSnUz/CO6laLcq6oTfd+XRmyF0Ku6N0nVUBBHhBCibl6QiThcOLKIEdEJtQ+h1YutMsxOkaVkdLh1zCeYvLKZ5RiB0sSGPsul/QPHZ3otvmt/KVG9rYqojdWHJOZDfnfT45kp/KiQ2ALuFqrP7HuvrCoOLR1jKiFcp5wIVihf1Epnt8yE0mgxthihnx9qmAdhNqEly+e2a8X6fVo/LtFeMj2DrcUil2M50rGArPjjG35tcDHCAHJvFn0JiNFAXbE6Q9h90LgQ/tug54XazLoiBk4CQjQtPe1S24FJ8tWaGGt+sxr6+elw2QOac3d4TBI4n9hHtD2t2F90KGjC7FrEFmEEQHySk5A0LN8R5/7U8Ofc6wpa+gGWi9bngsroaRy7fHVD0Jq3SW7ODK1CIpNtG0gHMrSxyYUlifFMEkNDnnpUVEGXpQdqPFhtbZCifCAeNkgeiEN/Pifuwm8NVdxCVeTcif2O7dc02zN6RfjJEeRqdk9QbXjchDUuRG2V+GDDHi2UKqmwSP0854Xm0qyBnQDcZ15549BGkipqB4a9GYJx4x+ao4Vv9KSRQAFglWO4nbbYY1eGgECDqBPcSB09RqVXxVzZWsgFNLOnF+J6Ef987vAz3y7DYTJK5sfIJTnStE0xwWqQeOys/xwS2IqD7RumbCln3IPYYjYituRsHUhAl04cn2kjOQYGA=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10411, 'candidates_token_count': 31, 'total_token_count': 10674, 'cached_content_token_count': 11562, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12071}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11562}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 31}], 'thoughts_token_count': 232}, 'finish_reason': 'STOP', 'avg_logprobs': -0.972549069312311, 'model_name': 'gemini-2.5-pro'} id='run--45117983-5fd7-47cd-8855-319f7ed625a2-0' tool_calls=[{'name': 'run_command', 'args': {'command': "echo 'read serr 1 2 \\n1 0.5 1 0.5' > test.qdp"}, 'id': '727f3170-62ca-41c3-a9f9-5d4a498ff7ef', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10411, 'output_tokens': 31, 'total_tokens': 10674, 'input_token_details': {'cache_read': 11562}, 'output_token_details': {'reasoning': 232}}
2025-12-21 14:43:26,405 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: echo 'read serr 1 2 \n1 0.5 1 0.5' > test.qdp
2025-12-21 14:43:26,507 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:26,507 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:
echo 'read serr 1 2 \n1 0.5 1 0.5' > test.q
qdp


2025-12-21 14:43:29,681 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "echo \\"from astropy.table import Table\\ntry:\\n    Table.read(\'test.qdp\', format=\'ascii.qdp\')\\nexcept ValueError as e:\\n    print(f\'Caught expected exception: {e}\')\\" > run_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'c55206ea-55d8-46ac-825d-183a471b2e70': 'CowEAY89a19Hcx0o97VTqJUQQLqwNVkJkxlBNXJM6PIp2yZyLuZmd9k+/0JylpT0SqzBy0+Ecnbmbd0VzBraNgrXf3XwnXOFpEVIZuAG1wJzgnkfEiiPI9rPcE4qFSqvxcnlnx9UG+V9H8eASPPk7jKMbmW40gfiXHnQRBKztodzxSUBS0QQPlt+9MedL0MnGwrEDplnxhlMS6sfk+rcq10Zi3v3JVhO0JYimTcojk+OhPjBuhcNczOpZOKh2GHF1/u0dZLf5FAeuOyg1IsVd9O5hKqYdU/90TOzp5a9grv/oZEpkBBTMGBcDgsZAlGq6A7Vh7Qz70DzPRKS7cFSb6rbx8vwSAWw/Mc/zId3EjyHKM2p9YgwPeRF3+qMRf4ZFo9mQMqu+IyDmkV0B8v+/BmU68Tob8t03iMREA2fT+LgLRxJhQJbhtK2mAdFjHLQRexz/UsEkxiLSar2jvuCJ+tWxRg/7+VRjliLmwPleBmqS/M41LoT4CQuzVIw936v1Qj/RGJkc4RjmpfIt/Fc0LYnuCFrXVgXXC0mrKnEEAPATFu7j9ZkRKBgw+3ZDPJ509ETaXx4V1JaH5B2HeIHaIBF7MjUaUSQrLbWzl6ZVZLRJppJu9OkluFhh+84VmDfLl7yztZ4GpQ1iEYvLulFSI409EENhfWmh2SLnIS//n/X+SWsbJOllpIor5thM+s='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10476, 'candidates_token_count': 60, 'total_token_count': 10669, 'cached_content_token_count': 11586, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12368}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11586}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 60}], 'thoughts_token_count': 133}, 'finish_reason': 'STOP', 'avg_logprobs': -0.20625893274943033, 'model_name': 'gemini-2.5-pro'} id='run--b833c2fd-ee40-499f-bf9b-01b9e15ec385-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'echo "from astropy.table import Table\ntry:\n    Table.read(\'test.qdp\', format=\'ascii.qdp\')\nexcept ValueError as e:\n    print(f\'Caught expected exception: {e}\')" > run_bug.py'}, 'id': 'c55206ea-55d8-46ac-825d-183a471b2e70', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10476, 'output_tokens': 60, 'total_tokens': 10669, 'input_token_details': {'cache_read': 11586}, 'output_token_details': {'reasoning': 133}}
2025-12-21 14:43:29,683 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: echo "from astropy.table import Table
try:
    Table.read('test.qdp', format='ascii.qdp')
except ValueError as e:
    print(f'Caught expected exception: {e}')" > run_bug.py
2025-12-21 14:43:29,785 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:29,785 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:
echo "from astropy.table import Table

> try:

>     Table.read('test.qdp', format='ascii.qdp')

> except ValueError as e:

>     print(f'Caught expected exception: {e}')" > run_bug.py


2025-12-21 14:43:31,278 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "python run_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'78f1f076-91b1-491d-b244-1bf776be4076': 'CsYBAY89a1/pjapfAT0j1gmN7plkega+sfKrV8bKpTQFPBi504iDbM4jEObipcMTeCk8iq4+oGDbmCl/0eaVMZMvvcghHjfhnprEpgVZsgcSUL7jAkbdx0gOXbEYErJy9nYpZgkmP/39xwD4vG95TPadMSphU269/LQpJC1ojEWzdw1qqjTspHJTRkUbeVNGneTPpZiMrx42E9e8Eta4GQUXdEja6v6/PoUDJy6oX3W+QncKFMW12oYyPoyYFyXSR0aNFQEzvyFZ'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10601, 'candidates_token_count': 10, 'total_token_count': 10656, 'cached_content_token_count': 11586, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12626}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11586}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 10}], 'thoughts_token_count': 45}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2850439786911011, 'model_name': 'gemini-2.5-pro'} id='run--6100bada-58cc-4418-828c-afbdc360a7e8-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'python run_bug.py'}, 'id': '78f1f076-91b1-491d-b244-1bf776be4076', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10601, 'output_tokens': 10, 'total_tokens': 10656, 'input_token_details': {'cache_read': 11586}, 'output_token_details': {'reasoning': 45}}
2025-12-21 14:43:31,281 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: python run_bug.py
2025-12-21 14:43:32,791 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:32,791 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

[0;33mWARNING[0m: table_id not specified. Reading the first available table [astropy.io.ascii.qdp]
Caught expected exception: Unrecognized QDP line: read serr 1 2 \n1 0.5 1 0.5

2025-12-21 14:43:35,131 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'run_command', 'arguments': '{"command": "cat run_bug.py"}'}, '__gemini_function_call_thought_signatures__': {'c387042b-3747-4d86-a9e2-c97d282c2e13': 'CvsEAY89a186c/ILQokHxoifMXlw5+6dRZQ1mwWEgMiLwz6wCxFl+fy57ERjkIjYNlxrPnz33ragFQ9Kaf5XcC+yYEaTgdc2KRlhml2WbvxkHxsbRkH4uLgfmfkwoLcqcQwUJ0Dj3t6k6tzQoeA5OyvImhTxLih2fpgPAT9VXlqfpxij1Ju5ZUbDzqLS5z0TCBMGDufCd6A0ZDdne6GBG/WY4UPpjbux5cO2SIbxf+OMGyXkngsS4IgJ4TO20iXNoRYPmj/LfO7Y15s6CnBa/yyAs4ZUocYyKRTW8iDg8I8TvPlFZL7gFlKDMmjs5Zp+Pev4CVPT1hyAoRhumNfw6Or5OQiE/c1s9nOmp972dyBWgweUCD+scQlvMkpwxUAEX4vkJsy1VGzt98Yz/quQ4JtUypSYQ4548EuZyqKSyfyQSh84qDlJDjs6v7hsPKhxmTzn/9pgDDqTuiIt9IqeIEc4uhvsGMbfNlYq2bPBrhcunXex11enKzkwBiCI9R/HGl5ML3Yad1VAvSh+bY7ofRfaNBmUXfDLxSYykCIiKjrQHYzURVkJH+q/iSLWkA14A2vhNB+f0+5Wi168HD0ccmhdKtIBjw7c2OC1kV9dEQ2QTMZwk9LxobhieZukGcaS0dibGQZnHqU2DZ4nZqlx3qqtM9ZHKQbMF+ksLDtYDE55mp7ZJE3qZq/FeOZPQ3nxjz9m2bGWhBTKGLujmrHy5ZxSSv/Ahfe/3ivzi+trooGyzlENHnXqkQEe5K7fh8Habslzei3ZNxvu2cz+pEnO1Z/w3tUa9vQE2GjgG2+TyZNYPN7U92XpHuhig2VMCZrV26vIJD4EYH1tgLWDB78='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10680, 'candidates_token_count': 10, 'total_token_count': 10846, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12750}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 10}], 'thoughts_token_count': 156, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.9394210815429687, 'model_name': 'gemini-2.5-pro'} id='run--c7c3905d-5707-48c3-b9d9-8c09b3ff3a6d-0' tool_calls=[{'name': 'run_command', 'args': {'command': 'cat run_bug.py'}, 'id': 'c387042b-3747-4d86-a9e2-c97d282c2e13', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10680, 'output_tokens': 10, 'total_tokens': 10846, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 156}}
2025-12-21 14:43:35,134 - thread-130546514527936.app.docker.base_container - DEBUG - Executing command: cat run_bug.py
2025-12-21 14:43:35,236 - thread-130546514527936.app.docker.base_container - DEBUG - Command exit code: 0
2025-12-21 14:43:35,236 - thread-130546514527936.app.docker.base_container - DEBUG - Command output:

from astropy.table import Table
try:
    Table.read('test.qdp', format='ascii.qdp')
except ValueError as e:
    print(f'Caught expected exception: {e}')

2025-12-21 14:43:39,102 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_execute_node - DEBUG - content='WARNING: table_id not specified. Reading the first available table [astropy.io.ascii.qdp]\nCaught expected exception: Unrecognized QDP line: read serr 1 2 \\n1 0.5 1 0.5' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10743, 'candidates_token_count': 54, 'total_token_count': 11024, 'cached_content_token_count': 11581, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12969}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11581}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 54}], 'thoughts_token_count': 227}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7082929257993344, 'model_name': 'gemini-2.5-pro'} id='run--c97907a5-4351-480b-81f6-96fc74491f09-0' usage_metadata={'input_tokens': 10743, 'output_tokens': 54, 'total_tokens': 11024, 'input_token_details': {'cache_read': 11581}, 'output_token_details': {'reasoning': 227}}
2025-12-21 14:43:53,686 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_structured_node - DEBUG - reproduced_bug=False reproduced_bug_failure_log="ERROR collecting tests/test_reproducing_bug.py - ModuleNotFoundError: No module named 'my_package'\n\nThe test fails because it is trying to import a non-existent module `my_package`. The test code is completely unrelated to the reported bug, which is about parsing QDP files with lowercase commands. The test should be written to read the QDP file as described in the issue and assert that the expected `ValueError` is raised." reproduced_bug_commands=['pytest tests/test_reproducing_bug.py']
2025-12-21 14:43:53,687 - thread-130546514527936.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting bug_reproducing_file_messages in state.
2025-12-21 14:43:53,688 - thread-130546514527936.app.lang_graph.nodes.reset_messages_node - DEBUG - Resetting bug_reproducing_execute_messages in state.
2025-12-21 14:43:53,689 - thread-130546514527936.app.lang_graph.nodes.git_reset_node - DEBUG - Resetting the git repository
2025-12-21 14:43:53,718 - thread-130546514527936.app.lang_graph.nodes.bug_reproducing_write_message_node - DEBUG - Sending message to BugReproducingWriteNode:
content="Your previous test case failed to reproduce the bug. Here is the failure log:\nERROR collecting tests/test_reproducing_bug.py - ModuleNotFoundError: No module named 'my_package'\n\nThe test fails because it is trying to import a non-existent module `my_package`. The test code is completely unrelated to the reported bug, which is about parsing QDP files with lowercase commands. The test should be written to read the QDP file as described in the issue and assert that the expected `ValueError` is raised.\n\nNow think about what went wrong and generate the complete self-contained test case that reproduces the bug with the same error/exception again.\n" additional_kwargs={} response_metadata={}
2025-12-21 14:44:02,088 - thread-130546514527936.app - ERROR - Error in answer_issue: 400 Unable to submit request because it must include at least one parts field, which describes the prompt input. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini
Traceback (most recent call last):
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 75, in error_remapped_callable
    return callable_(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_interceptor.py", line 276, in __call__
    response, ignored_call = self._with_call(
                             ^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_interceptor.py", line 331, in _with_call
    return call.result(), call
           ^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_channel.py", line 438, in result
    raise self
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_interceptor.py", line 314, in continuation
    response, call = self._thunk(new_method).with_call(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_channel.py", line 1180, in with_call
    return _end_unary_response_blocking(state, call, True, None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/grpc/_channel.py", line 996, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.INVALID_ARGUMENT
	details = "Unable to submit request because it must include at least one parts field, which describes the prompt input. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini"
	debug_error_string = "UNKNOWN:Error received from peer ipv4:172.217.4.74:443 {grpc_message:"Unable to submit request because it must include at least one parts field, which describes the prompt input. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini", grpc_status:3}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/feizw/Bug-Reproduction-Agent-With-Patch/Prometheus-Bug-Reproduction-Agent/app/main.py", line 127, in _reproduce_bug
    output_states = bug_reproduction_subgraph.invoke(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/Bug-Reproduction-Agent-With-Patch/Prometheus-Bug-Reproduction-Agent/app/lang_graph/subgraphs/bug_reproduction_subgraph.py", line 277, in invoke
    output_state = self.subgraph.invoke(input_state, config)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/pregel/__init__.py", line 1600, in invoke
    for chunk in self.stream(
                 ^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/pregel/__init__.py", line 1328, in stream
    for _ in runner.tick(
             ^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/pregel/runner.py", line 58, in tick
    run_with_retry(t, retry_policy)
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/pregel/retry.py", line 29, in run_with_retry
    task.proc.invoke(task.input, config)
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/utils/runnable.py", line 410, in invoke
    input = context.run(step.invoke, input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langgraph/utils/runnable.py", line 184, in invoke
    ret = context.run(self.func, input, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/Bug-Reproduction-Agent-With-Patch/Prometheus-Bug-Reproduction-Agent/app/lang_graph/nodes/bug_reproducing_write_node.py", line 145, in __call__
    response = self.model_with_tools.invoke(message_history)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5711, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 395, in invoke
    self.generate_prompt(
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1025, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 842, in generate
    self._generate_with_cache(
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1091, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_google_vertexai/chat_models.py", line 1648, in _generate
    return self._generate_gemini(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_google_vertexai/chat_models.py", line 1885, in _generate_gemini
    response = _completion_with_retry(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_google_vertexai/chat_models.py", line 780, in _completion_with_retry
    return _completion_with_retry_inner(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 338, in wrapped_f
    return copy(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/langchain_google_vertexai/chat_models.py", line 775, in _completion_with_retry_inner
    return generation_method(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/google/cloud/aiplatform_v1beta1/services/prediction_service/client.py", line 2441, in generate_content
    response = rpc(
               ^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/feizw/anaconda3/envs/echo/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 Unable to submit request because it must include at least one parts field, which describes the prompt input. Learn more: https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini

2025-12-21 14:44:02,089 - thread-130546514527936.app.docker.base_container - INFO - Cleaning up container and temporary files
2025-12-21 14:44:02,089 - thread-130546514527936.app.docker.base_container - INFO - Closing persistent shell...
2025-12-21 14:44:02,189 - thread-130546514527936.app.docker.base_container - INFO - Cleaning up container and temporary files
