2025-12-23 09:04:57,804 - thread-129109720028864.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: ProjectState.__init__() can assume its real_apps argument is a set

Description: Description
	
​PR #14760 made all calls to ProjectState.__init__() pass real_apps as a set. In ​ProjectState.__init__() now, then, instead of checking that real_apps is a set and converting it to a set if not, it can just assert that it's a set when non-None. (Presumably the construction of new ProjectState objects is part of Django's internal API.) I had made this comment on the PR, but it wasn't important enough to hold up the PR because another PR was depending on it getting merged.

Patch information:
diff --git a/django/db/migrations/state.py b/django/db/migrations/state.py
index 088f5c41f0..7b3ad45610 100644
--- a/django/db/migrations/state.py
+++ b/django/db/migrations/state.py
@@ -91,8 +91,9 @@ class ProjectState:
     def __init__(self, models=None, real_apps=None):
         self.models = models or {}
         # Apps to include from main registry, usually unmigrated ones
-        if real_apps:
-            self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
+        if real_apps is not None:
+            assert isinstance(real_apps, set), "real_apps must be a set"
+            self.real_apps = real_apps
         else:
             self.real_apps = set()
         self.is_delayed = False


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 09:04:57,892 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_block_error.html
    |   |   ├── test_extends_block_error_parent.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: ProjectState.__init__() can assume its real_apps argument is a set

Description: Description
	
​PR #14760 made all calls to ProjectState.__init__() pass real_apps as a set. In ​ProjectState.__init__() now, then, instead of checking that real_apps is a set and converting it to a set if not, it can just assert that it's a set when non-None. (Presumably the construction of new ProjectState objects is part of Django's internal API.) I had made this comment on the PR, but it wasn't important enough to hold up the PR because another PR was depending on it getting merged.

Patch information:
diff --git a/django/db/migrations/state.py b/django/db/migrations/state.py
index 088f5c41f0..7b3ad45610 100644
--- a/django/db/migrations/state.py
+++ b/django/db/migrations/state.py
@@ -91,8 +91,9 @@ class ProjectState:
     def __init__(self, models=None, real_apps=None):
         self.models = models or {}
         # Apps to include from main registry, usually unmigrated ones
-        if real_apps:
-            self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
+        if real_apps is not None:
+            assert isinstance(real_apps, set), "real_apps must be a set"
+            self.real_apps = real_apps
         else:
             self.real_apps = set()
         self.is_delayed = False


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 09:05:09,734 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find relevant test cases for a bug fix in `django.db.migrations.state.ProjectState`. The most relevant tests are likely located in the corresponding test file, `tests/migrations/test_state.py`. I need the content of this file to identify and extract the most relevant test cases.' query='Please provide the full content of `tests/migrations/test_state.py`.' extra_requirements='' purpose="To find test cases that instantiate `ProjectState` and verify its behavior, which is directly related to the user's query."
2025-12-23 09:05:09,736 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/migrations/test_state.py`.
2025-12-23 09:05:09,736 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 09:05:09,736 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 09:05:09,737 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 09:05:09,737 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/migrations/test_state.py`.
Purpose: To find test cases that instantiate `ProjectState` and verify its behavior, which is directly related to the user's query.
2025-12-23 09:05:12,043 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_state.py"}'}, '__gemini_function_call_thought_signatures__': {'cdedf7cf-6c6c-4a72-a9ac-ad4ec8d0c7ea': 'CuQDAY89a19FqghU9obkumVrBJsyWysBlAcd9DQKYakodpgI6geDen6gRXumdhd/z4QRLeQzwwJaUXh8w4K2IJnEJsu1wAjDL4Q2upBaRFJhW2/poNzdtRnufY2+HI8iPOrRTh2MMqhsbb/vWfek6Q2QsJ8hCUMycl/YDKP1dSCn3dK5AgnBOLnvsHZ9REyT69j+CvoYoeUMmRdozJdoFYtbSx5TQnu6H6oqQGyDXx9Jot4AfvpvgWZAaQjmGUSqSPv5E0HZs4pZrPtr55fG7++EiJnFo7orENMLKEDgHTmxC5M7f2EtYQtRN7ge6PJjwxTPloX61cTIhiJRJnGWyzRVHaR9GsjLsmZa0YAiHkgZUhuwOS5GNgh0+dRMn39dgwDgEEYe8+PbzpG6ytmIaKXWatNOpQAs5KxyMmt05TSdJEpyP9iIjchiOGdI/hohlL3QYSjI7szOyJ+zQsxlYf0UaEpXJqlXFFekppEKufX82yMxb8mERGGn20LnLQdATTcBqqmV6BxR57SuaDHY46CpYFTsyGclwoBaRjXvoLDwVGkEEX6b3e9rhgWDbOYAitukn94bzf+wEmE41k7+lWKKs6rM0JOjJxxQ5OgFeS6LS4VwHeeVIh9O4XeYpKMeqBWC4RsGog=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2103, 'candidates_token_count': 23, 'total_token_count': 2249, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2103}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 123, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15338280926580014, 'model_name': 'gemini-2.5-pro'} id='run--bf71ae73-88c0-4db1-9d0c-a0c076eb1036-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_state.py'}, 'id': 'cdedf7cf-6c6c-4a72-a9ac-ad4ec8d0c7ea', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2103, 'output_tokens': 23, 'total_tokens': 2249, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 123}}
2025-12-23 09:05:14,628 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "tests/migrations/test_state.py", "end_line": 1000.0}'}, '__gemini_function_call_thought_signatures__': {'13f8b980-d1e8-4980-8a0d-c131c5756ea1': 'CosDAY89a1+GHNxOftzd8mZbSVBIAMWb+x4GAVE38oYLOo1Mm0iKyhAWLH3si6KHS9sbzo99rVOZRr4F9nXBi7TW5D3ScDPdZ/iYnaso1z7Uv7+1KaR2EQLP6Mu/ZN487EG/53SNCjvtqskbkpwrBWe5OsNYM/J6FM+fQVDsPtKR3KGoLpqjc8V6mr9zYslRV1VtoFyzcWtwyfxZKOJ/Py3iGLRjqWHIgH6jsutd7vED5lnm11/h2a/F9wvkg2EAeB+E7gRGQZDYqAFR2jCeaZNkzG+XWNb5vD8aoFDDcGaT6WM1qOgG4CBBj0r9/TF2NP5txOI4itLx5Ja/YG6pzkFpEnJCE9yrMLFi4f/NQU21abxtIHni0N2WcO822BngZMu/cfeuU7+qRfFOW4pmHBEmILw6saEjIy8wH1RqJz71Rhr7md6SX3sZYKW56KZSblus5p+ZeH+8GFtZGqbhgIELjlLLlswoNx1alcDvj+gPuDS6r6ikgIokhNZMEG0FqxspXoyLgZqw69B71n0='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9307, 'candidates_token_count': 29, 'total_token_count': 9439, 'cached_content_token_count': 1822, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9430}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1822}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 29}], 'thoughts_token_count': 103}, 'finish_reason': 'STOP', 'avg_logprobs': -0.19551515579223633, 'model_name': 'gemini-2.5-pro'} id='run--9ad15e0b-9382-4d29-aa67-06158c2b40c8-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'tests/migrations/test_state.py', 'end_line': 1000.0}, 'id': '13f8b980-d1e8-4980-8a0d-c131c5756ea1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9307, 'output_tokens': 29, 'total_tokens': 9439, 'input_token_details': {'cache_read': 1822}, 'output_token_details': {'reasoning': 103}}
2025-12-23 09:05:16,875 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1001.0, "relative_path": "tests/migrations/test_state.py", "end_line": 2000.0}'}, '__gemini_function_call_thought_signatures__': {'45028b13-f1ef-4ff1-9984-4c1ab81670d2': 'Co0DAY89a18qLMMe6Qg3XKjvbP18L4GvWKnO1MM3RpLiusn30BJMKNJIEEfTWSicV2812ob8hs5UVGC54tjKlbM3Mq2iHeJ0k8J6O5P2N9ubbikhfXUbBj4ZmmexK4Vj17wN9tnXS2hQKJwKD2dTJUjxtAkXkb/O7DwztwIkxEi1r6J4f6FGjnlymNUpdZ9ECcs3uwbvtQfbjO8YSRtYJxxPeIVXzCFLBdBXFzfy8pTzuubPLmHBuOYJOc7VeK5F9XNchyh1tuyw9DoEs3HYo9kWsGjmdozbluOhZhbt8puMaSM93nmrm2C7O52sZhDFG0LTv/aScoaYOm93gguqidpgq3TPBRveqLYHCfgaWwT9ebIYnRDMUNpLSd1PvFBnI6ERFx0gVCTmpapcfZzUB/PY19n8rcZcV5PcC1wANPvTM2hQFxOJCOSkdjRoBP8pK7KA6pN3eiKyRownoA1ijvPXH5iNfXb6NAINHLZDKlUDHHZgw5ckgm6vlRrKTXBN0eLfbAKV97IPPWxUaQUXhw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17567, 'candidates_token_count': 29, 'total_token_count': 17701, 'cached_content_token_count': 9431, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17793}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9431}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 29}], 'thoughts_token_count': 105}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05914842671361463, 'model_name': 'gemini-2.5-pro'} id='run--7d660d41-2a1e-4728-b3ba-d3cebd5f478b-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1001.0, 'relative_path': 'tests/migrations/test_state.py', 'end_line': 2000.0}, 'id': '45028b13-f1ef-4ff1-9984-4c1ab81670d2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17567, 'output_tokens': 29, 'total_tokens': 17701, 'input_token_details': {'cache_read': 9431}, 'output_token_details': {'reasoning': 105}}
2025-12-23 09:05:21,131 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/migrations/test_state.py` by reading the file in chunks and combining the results. The file contains various test cases for `ProjectState` and `ModelState`, including tests for state creation, rendering, modification, and dependency resolution. The tests cover a wide range of scenarios, such as handling different field types, model inheritance, custom managers, and swappable models.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 26800, 'candidates_token_count': 86, 'total_token_count': 27017, 'cached_content_token_count': 17239, 'prompt_tokens_details': [{'modality': 1, 'token_count': 27131}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17239}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 86}], 'thoughts_token_count': 131}, 'finish_reason': 'STOP', 'avg_logprobs': -0.17356634140014648, 'model_name': 'gemini-2.5-pro'} id='run--69ba97d3-8f2e-452d-9e78-db1e05d49c44-0' usage_metadata={'input_tokens': 26800, 'output_tokens': 86, 'total_tokens': 27017, 'input_token_details': {'cache_read': 17239}, 'output_token_details': {'reasoning': 131}}
2025-12-23 09:05:21,133 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/migrations/test_state.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
To find test cases that instantiate `ProjectState` and verify its behavior, which is directly related to the user's query.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_state.py
Line number range: 1 - 500
Content:
1. from django.apps.registry import Apps
2. from django.contrib.contenttypes.fields import GenericForeignKey
3. from django.db import models
4. from django.db.migrations.exceptions import InvalidBasesError
5. from django.db.migrations.operations import (
6.     AddField, AlterField, DeleteModel, RemoveField,
7. )
8. from django.db.migrations.state import (
9.     ModelState, ProjectState, get_related_models_recursive,
10. )
11. from django.test import SimpleTestCase, override_settings
12. from django.test.utils import isolate_apps
13. 
14. from .models import (
15.     FoodManager, FoodQuerySet, ModelWithCustomBase, NoMigrationFoodManager,
16.     UnicodeModel,
17. )
18. 
19. 
20. class StateTests(SimpleTestCase):
21.     """
22.     Tests state construction, rendering and modification by operations.
23.     """
24. 
25.     def test_create(self):
26.         """
27.         Tests making a ProjectState from an Apps
28.         """
29. 
30.         new_apps = Apps(["migrations"])
31. 
32.         class Author(models.Model):
33.             name = models.CharField(max_length=255)
34.             bio = models.TextField()
35.             age = models.IntegerField(blank=True, null=True)
36. 
37.             class Meta:
38.                 app_label = "migrations"
39.                 apps = new_apps
40.                 unique_together = ["name", "bio"]
41.                 index_together = ["bio", "age"]
42. 
43.         class AuthorProxy(Author):
44.             class Meta:
45.                 app_label = "migrations"
46.                 apps = new_apps
47.                 proxy = True
48.                 ordering = ["name"]
49. 
50.         class SubAuthor(Author):
51.             width = models.FloatField(null=True)
52. 
53.             class Meta:
54.                 app_label = "migrations"
55.                 apps = new_apps
56. 
57.         class Book(models.Model):
58.             title = models.CharField(max_length=1000)
59.             author = models.ForeignKey(Author, models.CASCADE)
60.             contributors = models.ManyToManyField(Author)
61. 
62.             class Meta:
63.                 app_label = "migrations"
64.                 apps = new_apps
65.                 verbose_name = "tome"
66.                 db_table = "test_tome"
67.                 indexes = [models.Index(fields=['title'])]
68. 
69.         class Food(models.Model):
70. 
71.             food_mgr = FoodManager('a', 'b')
72.             food_qs = FoodQuerySet.as_manager()
73.             food_no_mgr = NoMigrationFoodManager('x', 'y')
74. 
75.             class Meta:
76.                 app_label = "migrations"
77.                 apps = new_apps
78. 
79.         class FoodNoManagers(models.Model):
80. 
81.             class Meta:
82.                 app_label = "migrations"
83.                 apps = new_apps
84. 
85.         class FoodNoDefaultManager(models.Model):
86. 
87.             food_no_mgr = NoMigrationFoodManager('x', 'y')
88.             food_mgr = FoodManager('a', 'b')
89.             food_qs = FoodQuerySet.as_manager()
90. 
91.             class Meta:
92.                 app_label = "migrations"
93.                 apps = new_apps
94. 
95.         mgr1 = FoodManager('a', 'b')
96.         mgr2 = FoodManager('x', 'y', c=3, d=4)
97. 
98.         class FoodOrderedManagers(models.Model):
99.             # The managers on this model should be ordered by their creation
100.             # counter and not by the order in model body
101. 
102.             food_no_mgr = NoMigrationFoodManager('x', 'y')
103.             food_mgr2 = mgr2
104.             food_mgr1 = mgr1
105. 
106.             class Meta:
107.                 app_label = "migrations"
108.                 apps = new_apps
109. 
110.         project_state = ProjectState.from_apps(new_apps)
111.         author_state = project_state.models['migrations', 'author']
112.         author_proxy_state = project_state.models['migrations', 'authorproxy']
113.         sub_author_state = project_state.models['migrations', 'subauthor']
114.         book_state = project_state.models['migrations', 'book']
115.         food_state = project_state.models['migrations', 'food']
116.         food_no_managers_state = project_state.models['migrations', 'foodnomanagers']
117.         food_no_default_manager_state = project_state.models['migrations', 'foodnodefaultmanager']
118.         food_order_manager_state = project_state.models['migrations', 'foodorderedmanagers']
119.         book_index = models.Index(fields=['title'])
120.         book_index.set_name_with_model(Book)
121. 
122.         self.assertEqual(author_state.app_label, "migrations")
123.         self.assertEqual(author_state.name, "Author")
124.         self.assertEqual(list(author_state.fields), ["id", "name", "bio", "age"])
125.         self.assertEqual(author_state.fields['name'].max_length, 255)
126.         self.assertIs(author_state.fields['bio'].null, False)
127.         self.assertIs(author_state.fields['age'].null, True)
128.         self.assertEqual(
129.             author_state.options,
130.             {
131.                 "unique_together": {("name", "bio")},
132.                 "index_together": {("bio", "age")},
133.                 "indexes": [],
134.                 "constraints": [],
135.             }
136.         )
137.         self.assertEqual(author_state.bases, (models.Model,))
138. 
139.         self.assertEqual(book_state.app_label, "migrations")
140.         self.assertEqual(book_state.name, "Book")
141.         self.assertEqual(list(book_state.fields), ["id", "title", "author", "contributors"])
142.         self.assertEqual(book_state.fields['title'].max_length, 1000)
143.         self.assertIs(book_state.fields['author'].null, False)
144.         self.assertEqual(book_state.fields['contributors'].__class__.__name__, 'ManyToManyField')
145.         self.assertEqual(
146.             book_state.options,
147.             {"verbose_name": "tome", "db_table": "test_tome", "indexes": [book_index], "constraints": []},
148.         )
149.         self.assertEqual(book_state.bases, (models.Model,))
150. 
151.         self.assertEqual(author_proxy_state.app_label, "migrations")
152.         self.assertEqual(author_proxy_state.name, "AuthorProxy")
153.         self.assertEqual(author_proxy_state.fields, {})
154.         self.assertEqual(
155.             author_proxy_state.options,
156.             {"proxy": True, "ordering": ["name"], "indexes": [], "constraints": []},
157.         )
158.         self.assertEqual(author_proxy_state.bases, ("migrations.author",))
159. 
160.         self.assertEqual(sub_author_state.app_label, "migrations")
161.         self.assertEqual(sub_author_state.name, "SubAuthor")
162.         self.assertEqual(len(sub_author_state.fields), 2)
163.         self.assertEqual(sub_author_state.bases, ("migrations.author",))
164. 
165.         # The default manager is used in migrations
166.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
167.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_state.managers))
168.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
169. 
170.         # No explicit managers defined. Migrations will fall back to the default
171.         self.assertEqual(food_no_managers_state.managers, [])
172. 
173.         # food_mgr is used in migration but isn't the default mgr, hence add the
174.         # default
175.         self.assertEqual([name for name, mgr in food_no_default_manager_state.managers],
176.                          ['food_no_mgr', 'food_mgr'])
177.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_no_default_manager_state.managers))
178.         self.assertEqual(food_no_default_manager_state.managers[0][1].__class__, models.Manager)
179.         self.assertIsInstance(food_no_default_manager_state.managers[1][1], FoodManager)
180. 
181.         self.assertEqual([name for name, mgr in food_order_manager_state.managers],
182.                          ['food_mgr1', 'food_mgr2'])
183.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_order_manager_state.managers))
184.         self.assertEqual([mgr.args for name, mgr in food_order_manager_state.managers],
185.                          [('a', 'b', 1, 2), ('x', 'y', 3, 4)])
186. 
187.     def test_custom_default_manager_added_to_the_model_state(self):
188.         """
189.         When the default manager of the model is a custom manager,
190.         it needs to be added to the model state.
191.         """
192.         new_apps = Apps(['migrations'])
193.         custom_manager = models.Manager()
194. 
195.         class Author(models.Model):
196.             objects = models.TextField()
197.             authors = custom_manager
198. 
199.             class Meta:
200.                 app_label = 'migrations'
201.                 apps = new_apps
202. 
203.         project_state = ProjectState.from_apps(new_apps)
204.         author_state = project_state.models['migrations', 'author']
205.         self.assertEqual(author_state.managers, [('authors', custom_manager)])
206. 
207.     def test_custom_default_manager_named_objects_with_false_migration_flag(self):
208.         """
209.         When a manager is added with a name of 'objects' but it does not
210.         have `use_in_migrations = True`, no migration should be added to the
211.         model state (#26643).
212.         """
213.         new_apps = Apps(['migrations'])
214. 
215.         class Author(models.Model):
216.             objects = models.Manager()
217. 
218.             class Meta:
219.                 app_label = 'migrations'
220.                 apps = new_apps
221. 
222.         project_state = ProjectState.from_apps(new_apps)
223.         author_state = project_state.models['migrations', 'author']
224.         self.assertEqual(author_state.managers, [])
225. 
226.     def test_no_duplicate_managers(self):
227.         """
228.         When a manager is added with `use_in_migrations = True` and a parent
229.         model had a manager with the same name and `use_in_migrations = True`,
230.         the parent's manager shouldn't appear in the model state (#26881).
231.         """
232.         new_apps = Apps(['migrations'])
233. 
234.         class PersonManager(models.Manager):
235.             use_in_migrations = True
236. 
237.         class Person(models.Model):
238.             objects = PersonManager()
239. 
240.             class Meta:
241.                 abstract = True
242. 
243.         class BossManager(PersonManager):
244.             use_in_migrations = True
245. 
246.         class Boss(Person):
247.             objects = BossManager()
248. 
249.             class Meta:
250.                 app_label = 'migrations'
251.                 apps = new_apps
252. 
253.         project_state = ProjectState.from_apps(new_apps)
254.         boss_state = project_state.models['migrations', 'boss']
255.         self.assertEqual(boss_state.managers, [('objects', Boss.objects)])
256. 
257.     def test_custom_default_manager(self):
258.         new_apps = Apps(['migrations'])
259. 
260.         class Author(models.Model):
261.             manager1 = models.Manager()
262.             manager2 = models.Manager()
263. 
264.             class Meta:
265.                 app_label = 'migrations'
266.                 apps = new_apps
267.                 default_manager_name = 'manager2'
268. 
269.         project_state = ProjectState.from_apps(new_apps)
270.         author_state = project_state.models['migrations', 'author']
271.         self.assertEqual(author_state.options['default_manager_name'], 'manager2')
272.         self.assertEqual(author_state.managers, [('manager2', Author.manager1)])
273. 
274.     def test_custom_base_manager(self):
275.         new_apps = Apps(['migrations'])
276. 
277.         class Author(models.Model):
278.             manager1 = models.Manager()
279.             manager2 = models.Manager()
280. 
281.             class Meta:
282.                 app_label = 'migrations'
283.                 apps = new_apps
284.                 base_manager_name = 'manager2'
285. 
286.         class Author2(models.Model):
287.             manager1 = models.Manager()
288.             manager2 = models.Manager()
289. 
290.             class Meta:
291.                 app_label = 'migrations'
292.                 apps = new_apps
293.                 base_manager_name = 'manager1'
294. 
295.         project_state = ProjectState.from_apps(new_apps)
296. 
297.         author_state = project_state.models['migrations', 'author']
298.         self.assertEqual(author_state.options['base_manager_name'], 'manager2')
299.         self.assertEqual(author_state.managers, [
300.             ('manager1', Author.manager1),
301.             ('manager2', Author.manager2),
302.         ])
303. 
304.         author2_state = project_state.models['migrations', 'author2']
305.         self.assertEqual(author2_state.options['base_manager_name'], 'manager1')
306.         self.assertEqual(author2_state.managers, [
307.             ('manager1', Author2.manager1),
308.         ])
309. 
310.     def test_apps_bulk_update(self):
311.         """
312.         StateApps.bulk_update() should update apps.ready to False and reset
313.         the value afterward.
314.         """
315.         project_state = ProjectState()
316.         apps = project_state.apps
317.         with apps.bulk_update():
318.             self.assertFalse(apps.ready)
319.         self.assertTrue(apps.ready)
320.         with self.assertRaises(ValueError):
321.             with apps.bulk_update():
322.                 self.assertFalse(apps.ready)
323.                 raise ValueError()
324.         self.assertTrue(apps.ready)
325. 
326.     def test_render(self):
327.         """
328.         Tests rendering a ProjectState into an Apps.
329.         """
330.         project_state = ProjectState()
331.         project_state.add_model(ModelState(
332.             app_label="migrations",
333.             name="Tag",
334.             fields=[
335.                 ("id", models.AutoField(primary_key=True)),
336.                 ("name", models.CharField(max_length=100)),
337.                 ("hidden", models.BooleanField()),
338.             ],
339.         ))
340.         project_state.add_model(ModelState(
341.             app_label="migrations",
342.             name="SubTag",
343.             fields=[
344.                 ('tag_ptr', models.OneToOneField(
345.                     'migrations.Tag',
346.                     models.CASCADE,
347.                     auto_created=True,
348.                     parent_link=True,
349.                     primary_key=True,
350.                     to_field='id',
351.                     serialize=False,
352.                 )),
353.                 ("awesome", models.BooleanField()),
354.             ],
355.             bases=("migrations.Tag",),
356.         ))
357. 
358.         base_mgr = models.Manager()
359.         mgr1 = FoodManager('a', 'b')
360.         mgr2 = FoodManager('x', 'y', c=3, d=4)
361.         project_state.add_model(ModelState(
362.             app_label="migrations",
363.             name="Food",
364.             fields=[
365.                 ("id", models.AutoField(primary_key=True)),
366.             ],
367.             managers=[
368.                 # The ordering we really want is objects, mgr1, mgr2
369.                 ('default', base_mgr),
370.                 ('food_mgr2', mgr2),
371.                 ('food_mgr1', mgr1),
372.             ]
373.         ))
374. 
375.         new_apps = project_state.apps
376.         self.assertEqual(new_apps.get_model("migrations", "Tag")._meta.get_field("name").max_length, 100)
377.         self.assertIs(new_apps.get_model("migrations", "Tag")._meta.get_field("hidden").null, False)
378. 
379.         self.assertEqual(len(new_apps.get_model("migrations", "SubTag")._meta.local_fields), 2)
380. 
381.         Food = new_apps.get_model("migrations", "Food")
382.         self.assertEqual([mgr.name for mgr in Food._meta.managers],
383.                          ['default', 'food_mgr1', 'food_mgr2'])
384.         self.assertTrue(all(isinstance(mgr.name, str) for mgr in Food._meta.managers))
385.         self.assertEqual([mgr.__class__ for mgr in Food._meta.managers],
386.                          [models.Manager, FoodManager, FoodManager])
387. 
388.     def test_render_model_inheritance(self):
389.         class Book(models.Model):
390.             title = models.CharField(max_length=1000)
391. 
392.             class Meta:
393.                 app_label = "migrations"
394.                 apps = Apps()
395. 
396.         class Novel(Book):
397.             class Meta:
398.                 app_label = "migrations"
399.                 apps = Apps()
400. 
401.         # First, test rendering individually
402.         apps = Apps(["migrations"])
403. 
404.         # We shouldn't be able to render yet
405.         ms = ModelState.from_model(Novel)
406.         with self.assertRaises(InvalidBasesError):
407.             ms.render(apps)
408. 
409.         # Once the parent model is in the app registry, it should be fine
410.         ModelState.from_model(Book).render(apps)
411.         ModelState.from_model(Novel).render(apps)
412. 
413.     def test_render_model_with_multiple_inheritance(self):
414.         class Foo(models.Model):
415.             class Meta:
416.                 app_label = "migrations"
417.                 apps = Apps()
418. 
419.         class Bar(models.Model):
420.             class Meta:
421.                 app_label = "migrations"
422.                 apps = Apps()
423. 
424.         class FooBar(Foo, Bar):
425.             class Meta:
426.                 app_label = "migrations"
427.                 apps = Apps()
428. 
429.         class AbstractSubFooBar(FooBar):
430.             class Meta:
431.                 abstract = True
432.                 apps = Apps()
433. 
434.         class SubFooBar(AbstractSubFooBar):
435.             class Meta:
436.                 app_label = "migrations"
437.                 apps = Apps()
438. 
439.         apps = Apps(["migrations"])
440. 
441.         # We shouldn't be able to render yet
442.         ms = ModelState.from_model(FooBar)
443.         with self.assertRaises(InvalidBasesError):
444.             ms.render(apps)
445. 
446.         # Once the parent models are in the app registry, it should be fine
447.         ModelState.from_model(Foo).render(apps)
448.         self.assertSequenceEqual(ModelState.from_model(Foo).bases, [models.Model])
449.         ModelState.from_model(Bar).render(apps)
450.         self.assertSequenceEqual(ModelState.from_model(Bar).bases, [models.Model])
451.         ModelState.from_model(FooBar).render(apps)
452.         self.assertSequenceEqual(ModelState.from_model(FooBar).bases, ['migrations.foo', 'migrations.bar'])
453.         ModelState.from_model(SubFooBar).render(apps)
454.         self.assertSequenceEqual(ModelState.from_model(SubFooBar).bases, ['migrations.foobar'])
455. 
456.     def test_render_project_dependencies(self):
457.         """
458.         The ProjectState render method correctly renders models
459.         to account for inter-model base dependencies.
460.         """
461.         new_apps = Apps()
462. 
463.         class A(models.Model):
464.             class Meta:
465.                 app_label = "migrations"
466.                 apps = new_apps
467. 
468.         class B(A):
469.             class Meta:
470.                 app_label = "migrations"
471.                 apps = new_apps
472. 
473.         class C(B):
474.             class Meta:
475.                 app_label = "migrations"
476.                 apps = new_apps
477. 
478.         class D(A):
479.             class Meta:
480.                 app_label = "migrations"
481.                 apps = new_apps
482. 
483.         class E(B):
484.             class Meta:
485.                 app_label = "migrations"
486.                 apps = new_apps
487.                 proxy = True
488. 
489.         class F(D):
490.             class Meta:
491.                 app_label = "migrations"
492.                 apps = new_apps
493.                 proxy = True
494. 
495.         # Make a ProjectState and render it
496.         project_state = ProjectState()
497.         project_state.add_model(ModelState.from_model(A))
498.         project_state.add_model(ModelState.from_model(B))
499.         project_state.add_model(ModelState.from_model(C))
500.         project_state.add_model(ModelState.from_model(D))


File: tests/migrations/test_state.py
Line number range: 501 - 1000
Content:
501.         project_state.add_model(ModelState.from_model(E))
502.         project_state.add_model(ModelState.from_model(F))
503.         final_apps = project_state.apps
504.         self.assertEqual(len(final_apps.get_models()), 6)
505. 
506.         # Now make an invalid ProjectState and make sure it fails
507.         project_state = ProjectState()
508.         project_state.add_model(ModelState.from_model(A))
509.         project_state.add_model(ModelState.from_model(B))
510.         project_state.add_model(ModelState.from_model(C))
511.         project_state.add_model(ModelState.from_model(F))
512.         with self.assertRaises(InvalidBasesError):
513.             project_state.apps
514. 
515.     def test_render_unique_app_labels(self):
516.         """
517.         The ProjectState render method doesn't raise an
518.         ImproperlyConfigured exception about unique labels if two dotted app
519.         names have the same last part.
520.         """
521.         class A(models.Model):
522.             class Meta:
523.                 app_label = "django.contrib.auth"
524. 
525.         class B(models.Model):
526.             class Meta:
527.                 app_label = "vendor.auth"
528. 
529.         # Make a ProjectState and render it
530.         project_state = ProjectState()
531.         project_state.add_model(ModelState.from_model(A))
532.         project_state.add_model(ModelState.from_model(B))
533.         self.assertEqual(len(project_state.apps.get_models()), 2)
534. 
535.     def test_reload_related_model_on_non_relational_fields(self):
536.         """
537.         The model is reloaded even on changes that are not involved in
538.         relations. Other models pointing to or from it are also reloaded.
539.         """
540.         project_state = ProjectState()
541.         project_state.apps  # Render project state.
542.         project_state.add_model(ModelState('migrations', 'A', []))
543.         project_state.add_model(ModelState('migrations', 'B', [
544.             ('a', models.ForeignKey('A', models.CASCADE)),
545.         ]))
546.         project_state.add_model(ModelState('migrations', 'C', [
547.             ('b', models.ForeignKey('B', models.CASCADE)),
548.             ('name', models.TextField()),
549.         ]))
550.         project_state.add_model(ModelState('migrations', 'D', [
551.             ('a', models.ForeignKey('A', models.CASCADE)),
552.         ]))
553.         operation = AlterField(
554.             model_name='C',
555.             name='name',
556.             field=models.TextField(blank=True),
557.         )
558.         operation.state_forwards('migrations', project_state)
559.         project_state.reload_model('migrations', 'a', delay=True)
560.         A = project_state.apps.get_model('migrations.A')
561.         B = project_state.apps.get_model('migrations.B')
562.         D = project_state.apps.get_model('migrations.D')
563.         self.assertIs(B._meta.get_field('a').related_model, A)
564.         self.assertIs(D._meta.get_field('a').related_model, A)
565. 
566.     def test_reload_model_relationship_consistency(self):
567.         project_state = ProjectState()
568.         project_state.add_model(ModelState('migrations', 'A', []))
569.         project_state.add_model(ModelState('migrations', 'B', [
570.             ('a', models.ForeignKey('A', models.CASCADE)),
571.         ]))
572.         project_state.add_model(ModelState('migrations', 'C', [
573.             ('b', models.ForeignKey('B', models.CASCADE)),
574.         ]))
575.         A = project_state.apps.get_model('migrations.A')
576.         B = project_state.apps.get_model('migrations.B')
577.         C = project_state.apps.get_model('migrations.C')
578.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
579.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
580.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
581. 
582.         project_state.reload_model('migrations', 'a', delay=True)
583.         A = project_state.apps.get_model('migrations.A')
584.         B = project_state.apps.get_model('migrations.B')
585.         C = project_state.apps.get_model('migrations.C')
586.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
587.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
588.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
589. 
590.     def test_add_relations(self):
591.         """
592.         #24573 - Adding relations to existing models should reload the
593.         referenced models too.
594.         """
595.         new_apps = Apps()
596. 
597.         class A(models.Model):
598.             class Meta:
599.                 app_label = 'something'
600.                 apps = new_apps
601. 
602.         class B(A):
603.             class Meta:
604.                 app_label = 'something'
605.                 apps = new_apps
606. 
607.         class C(models.Model):
608.             class Meta:
609.                 app_label = 'something'
610.                 apps = new_apps
611. 
612.         project_state = ProjectState()
613.         project_state.add_model(ModelState.from_model(A))
614.         project_state.add_model(ModelState.from_model(B))
615.         project_state.add_model(ModelState.from_model(C))
616. 
617.         project_state.apps  # We need to work with rendered models
618. 
619.         old_state = project_state.clone()
620.         model_a_old = old_state.apps.get_model('something', 'A')
621.         model_b_old = old_state.apps.get_model('something', 'B')
622.         model_c_old = old_state.apps.get_model('something', 'C')
623.         # The relations between the old models are correct
624.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
625.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
626. 
627.         operation = AddField('c', 'to_a', models.OneToOneField(
628.             'something.A',
629.             models.CASCADE,
630.             related_name='from_c',
631.         ))
632.         operation.state_forwards('something', project_state)
633.         model_a_new = project_state.apps.get_model('something', 'A')
634.         model_b_new = project_state.apps.get_model('something', 'B')
635.         model_c_new = project_state.apps.get_model('something', 'C')
636. 
637.         # All models have changed
638.         self.assertIsNot(model_a_old, model_a_new)
639.         self.assertIsNot(model_b_old, model_b_new)
640.         self.assertIsNot(model_c_old, model_c_new)
641.         # The relations between the old models still hold
642.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
643.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
644.         # The relations between the new models correct
645.         self.assertIs(model_a_new._meta.get_field('b').related_model, model_b_new)
646.         self.assertIs(model_b_new._meta.get_field('a_ptr').related_model, model_a_new)
647.         self.assertIs(model_a_new._meta.get_field('from_c').related_model, model_c_new)
648.         self.assertIs(model_c_new._meta.get_field('to_a').related_model, model_a_new)
649. 
650.     def test_remove_relations(self):
651.         """
652.         #24225 - Relations between models are updated while
653.         remaining the relations and references for models of an old state.
654.         """
655.         new_apps = Apps()
656. 
657.         class A(models.Model):
658.             class Meta:
659.                 app_label = "something"
660.                 apps = new_apps
661. 
662.         class B(models.Model):
663.             to_a = models.ForeignKey(A, models.CASCADE)
664. 
665.             class Meta:
666.                 app_label = "something"
667.                 apps = new_apps
668. 
669.         def get_model_a(state):
670.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
671. 
672.         project_state = ProjectState()
673.         project_state.add_model(ModelState.from_model(A))
674.         project_state.add_model(ModelState.from_model(B))
675.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
676.         old_state = project_state.clone()
677. 
678.         operation = RemoveField("b", "to_a")
679.         operation.state_forwards("something", project_state)
680.         # Model from old_state still has the relation
681.         model_a_old = get_model_a(old_state)
682.         model_a_new = get_model_a(project_state)
683.         self.assertIsNot(model_a_old, model_a_new)
684.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
685.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
686. 
687.         # Same test for deleted model
688.         project_state = ProjectState()
689.         project_state.add_model(ModelState.from_model(A))
690.         project_state.add_model(ModelState.from_model(B))
691.         old_state = project_state.clone()
692. 
693.         operation = DeleteModel("b")
694.         operation.state_forwards("something", project_state)
695.         model_a_old = get_model_a(old_state)
696.         model_a_new = get_model_a(project_state)
697.         self.assertIsNot(model_a_old, model_a_new)
698.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
699.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
700. 
701.     def test_self_relation(self):
702.         """
703.         #24513 - Modifying an object pointing to itself would cause it to be
704.         rendered twice and thus breaking its related M2M through objects.
705.         """
706.         class A(models.Model):
707.             to_a = models.ManyToManyField('something.A', symmetrical=False)
708. 
709.             class Meta:
710.                 app_label = "something"
711. 
712.         def get_model_a(state):
713.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
714. 
715.         project_state = ProjectState()
716.         project_state.add_model(ModelState.from_model(A))
717.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
718.         old_state = project_state.clone()
719. 
720.         operation = AlterField(
721.             model_name="a",
722.             name="to_a",
723.             field=models.ManyToManyField("something.A", symmetrical=False, blank=True)
724.         )
725.         # At this point the model would be rendered twice causing its related
726.         # M2M through objects to point to an old copy and thus breaking their
727.         # attribute lookup.
728.         operation.state_forwards("something", project_state)
729. 
730.         model_a_old = get_model_a(old_state)
731.         model_a_new = get_model_a(project_state)
732.         self.assertIsNot(model_a_old, model_a_new)
733. 
734.         # The old model's _meta is still consistent
735.         field_to_a_old = model_a_old._meta.get_field("to_a")
736.         self.assertEqual(field_to_a_old.m2m_field_name(), "from_a")
737.         self.assertEqual(field_to_a_old.m2m_reverse_field_name(), "to_a")
738.         self.assertIs(field_to_a_old.related_model, model_a_old)
739.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('to_a').related_model, model_a_old)
740.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('from_a').related_model, model_a_old)
741. 
742.         # The new model's _meta is still consistent
743.         field_to_a_new = model_a_new._meta.get_field("to_a")
744.         self.assertEqual(field_to_a_new.m2m_field_name(), "from_a")
745.         self.assertEqual(field_to_a_new.m2m_reverse_field_name(), "to_a")
746.         self.assertIs(field_to_a_new.related_model, model_a_new)
747.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('to_a').related_model, model_a_new)
748.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('from_a').related_model, model_a_new)
749. 
750.     def test_equality(self):
751.         """
752.         == and != are implemented correctly.
753.         """
754.         # Test two things that should be equal
755.         project_state = ProjectState()
756.         project_state.add_model(ModelState(
757.             "migrations",
758.             "Tag",
759.             [
760.                 ("id", models.AutoField(primary_key=True)),
761.                 ("name", models.CharField(max_length=100)),
762.                 ("hidden", models.BooleanField()),
763.             ],
764.             {},
765.             None,
766.         ))
767.         project_state.apps  # Fill the apps cached property
768.         other_state = project_state.clone()
769.         self.assertEqual(project_state, project_state)
770.         self.assertEqual(project_state, other_state)
771.         self.assertIs(project_state != project_state, False)
772.         self.assertIs(project_state != other_state, False)
773.         self.assertNotEqual(project_state.apps, other_state.apps)
774. 
775.         # Make a very small change (max_len 99) and see if that affects it
776.         project_state = ProjectState()
777.         project_state.add_model(ModelState(
778.             "migrations",
779.             "Tag",
780.             [
781.                 ("id", models.AutoField(primary_key=True)),
782.                 ("name", models.CharField(max_length=99)),
783.                 ("hidden", models.BooleanField()),
784.             ],
785.             {},
786.             None,
787.         ))
788.         self.assertNotEqual(project_state, other_state)
789.         self.assertIs(project_state == other_state, False)
790. 
791.     def test_dangling_references_throw_error(self):
792.         new_apps = Apps()
793. 
794.         class Author(models.Model):
795.             name = models.TextField()
796. 
797.             class Meta:
798.                 app_label = "migrations"
799.                 apps = new_apps
800. 
801.         class Publisher(models.Model):
802.             name = models.TextField()
803. 
804.             class Meta:
805.                 app_label = "migrations"
806.                 apps = new_apps
807. 
808.         class Book(models.Model):
809.             author = models.ForeignKey(Author, models.CASCADE)
810.             publisher = models.ForeignKey(Publisher, models.CASCADE)
811. 
812.             class Meta:
813.                 app_label = "migrations"
814.                 apps = new_apps
815. 
816.         class Magazine(models.Model):
817.             authors = models.ManyToManyField(Author)
818. 
819.             class Meta:
820.                 app_label = "migrations"
821.                 apps = new_apps
822. 
823.         # Make a valid ProjectState and render it
824.         project_state = ProjectState()
825.         project_state.add_model(ModelState.from_model(Author))
826.         project_state.add_model(ModelState.from_model(Publisher))
827.         project_state.add_model(ModelState.from_model(Book))
828.         project_state.add_model(ModelState.from_model(Magazine))
829.         self.assertEqual(len(project_state.apps.get_models()), 4)
830. 
831.         # now make an invalid one with a ForeignKey
832.         project_state = ProjectState()
833.         project_state.add_model(ModelState.from_model(Book))
834.         msg = (
835.             "The field migrations.Book.author was declared with a lazy reference "
836.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
837.             "The field migrations.Book.publisher was declared with a lazy reference "
838.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'."
839.         )
840.         with self.assertRaisesMessage(ValueError, msg):
841.             project_state.apps
842. 
843.         # And another with ManyToManyField.
844.         project_state = ProjectState()
845.         project_state.add_model(ModelState.from_model(Magazine))
846.         msg = (
847.             "The field migrations.Magazine.authors was declared with a lazy reference "
848.             "to 'migrations.author\', but app 'migrations' doesn't provide model 'author'.\n"
849.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
850.             "to \'migrations.author\', but app 'migrations' doesn't provide model 'author'."
851.         )
852.         with self.assertRaisesMessage(ValueError, msg):
853.             project_state.apps
854. 
855.         # And now with multiple models and multiple fields.
856.         project_state.add_model(ModelState.from_model(Book))
857.         msg = (
858.             "The field migrations.Book.author was declared with a lazy reference "
859.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
860.             "The field migrations.Book.publisher was declared with a lazy reference "
861.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'.\n"
862.             "The field migrations.Magazine.authors was declared with a lazy reference "
863.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
864.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
865.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'."
866.         )
867.         with self.assertRaisesMessage(ValueError, msg):
868.             project_state.apps
869. 
870.     def test_reference_mixed_case_app_label(self):
871.         new_apps = Apps()
872. 
873.         class Author(models.Model):
874.             class Meta:
875.                 app_label = 'MiXedCase_migrations'
876.                 apps = new_apps
877. 
878.         class Book(models.Model):
879.             author = models.ForeignKey(Author, models.CASCADE)
880. 
881.             class Meta:
882.                 app_label = 'MiXedCase_migrations'
883.                 apps = new_apps
884. 
885.         class Magazine(models.Model):
886.             authors = models.ManyToManyField(Author)
887. 
888.             class Meta:
889.                 app_label = 'MiXedCase_migrations'
890.                 apps = new_apps
891. 
892.         project_state = ProjectState()
893.         project_state.add_model(ModelState.from_model(Author))
894.         project_state.add_model(ModelState.from_model(Book))
895.         project_state.add_model(ModelState.from_model(Magazine))
896.         self.assertEqual(len(project_state.apps.get_models()), 3)
897. 
898.     def test_real_apps(self):
899.         """
900.         Including real apps can resolve dangling FK errors.
901.         This test relies on the fact that contenttypes is always loaded.
902.         """
903.         new_apps = Apps()
904. 
905.         class TestModel(models.Model):
906.             ct = models.ForeignKey("contenttypes.ContentType", models.CASCADE)
907. 
908.             class Meta:
909.                 app_label = "migrations"
910.                 apps = new_apps
911. 
912.         # If we just stick it into an empty state it should fail
913.         project_state = ProjectState()
914.         project_state.add_model(ModelState.from_model(TestModel))
915.         with self.assertRaises(ValueError):
916.             project_state.apps
917. 
918.         # If we include the real app it should succeed
919.         project_state = ProjectState(real_apps={'contenttypes'})
920.         project_state.add_model(ModelState.from_model(TestModel))
921.         rendered_state = project_state.apps
922.         self.assertEqual(
923.             len([x for x in rendered_state.get_models() if x._meta.app_label == "migrations"]),
924.             1,
925.         )
926. 
927.     def test_ignore_order_wrt(self):
928.         """
929.         Makes sure ProjectState doesn't include OrderWrt fields when
930.         making from existing models.
931.         """
932.         new_apps = Apps()
933. 
934.         class Author(models.Model):
935.             name = models.TextField()
936. 
937.             class Meta:
938.                 app_label = "migrations"
939.                 apps = new_apps
940. 
941.         class Book(models.Model):
942.             author = models.ForeignKey(Author, models.CASCADE)
943. 
944.             class Meta:
945.                 app_label = "migrations"
946.                 apps = new_apps
947.                 order_with_respect_to = "author"
948. 
949.         # Make a valid ProjectState and render it
950.         project_state = ProjectState()
951.         project_state.add_model(ModelState.from_model(Author))
952.         project_state.add_model(ModelState.from_model(Book))
953.         self.assertEqual(
954.             list(project_state.models['migrations', 'book'].fields),
955.             ["id", "author"],
956.         )
957. 
958.     def test_manager_refer_correct_model_version(self):
959.         """
960.         #24147 - Managers refer to the correct version of a
961.         historical model
962.         """
963.         project_state = ProjectState()
964.         project_state.add_model(ModelState(
965.             app_label="migrations",
966.             name="Tag",
967.             fields=[
968.                 ("id", models.AutoField(primary_key=True)),
969.                 ("hidden", models.BooleanField()),
970.             ],
971.             managers=[
972.                 ('food_mgr', FoodManager('a', 'b')),
973.                 ('food_qs', FoodQuerySet.as_manager()),
974.             ]
975.         ))
976. 
977.         old_model = project_state.apps.get_model('migrations', 'tag')
978. 
979.         new_state = project_state.clone()
980.         operation = RemoveField("tag", "hidden")
981.         operation.state_forwards("migrations", new_state)
982. 
983.         new_model = new_state.apps.get_model('migrations', 'tag')
984. 
985.         self.assertIsNot(old_model, new_model)
986.         self.assertIs(old_model, old_model.food_mgr.model)
987.         self.assertIs(old_model, old_model.food_qs.model)
988.         self.assertIs(new_model, new_model.food_mgr.model)
989.         self.assertIs(new_model, new_model.food_qs.model)
990.         self.assertIsNot(old_model.food_mgr, new_model.food_mgr)
991.         self.assertIsNot(old_model.food_qs, new_model.food_qs)
992.         self.assertIsNot(old_model.food_mgr.model, new_model.food_mgr.model)
993.         self.assertIsNot(old_model.food_qs.model, new_model.food_qs.model)
994. 
995.     def test_choices_iterator(self):
996.         """
997.         #24483 - ProjectState.from_apps should not destructively consume
998.         Field.choices iterators.
999.         """
1000.         new_apps = Apps(["migrations"])


File: tests/migrations/test_state.py
Line number range: 1001 - 2000
Content:
1001.         choices = [('a', 'A'), ('b', 'B')]
1002. 
1003.         class Author(models.Model):
1004.             name = models.CharField(max_length=255)
1005.             choice = models.CharField(max_length=255, choices=iter(choices))
1006. 
1007.             class Meta:
1008.                 app_label = "migrations"
1009.                 apps = new_apps
1010. 
1011.         ProjectState.from_apps(new_apps)
1012.         choices_field = Author._meta.get_field('choice')
1013.         self.assertEqual(list(choices_field.choices), choices)
1014. 
1015. 
1016. class ModelStateTests(SimpleTestCase):
1017.     def test_custom_model_base(self):
1018.         state = ModelState.from_model(ModelWithCustomBase)
1019.         self.assertEqual(state.bases, (models.Model,))
1020. 
1021.     def test_bound_field_sanity_check(self):
1022.         field = models.CharField(max_length=1)
1023.         field.model = models.Model
1024.         with self.assertRaisesMessage(ValueError, 'ModelState.fields cannot be bound to a model - "field" is.'):
1025.             ModelState('app', 'Model', [('field', field)])
1026. 
1027.     def test_sanity_check_to(self):
1028.         field = models.ForeignKey(UnicodeModel, models.CASCADE)
1029.         with self.assertRaisesMessage(
1030.             ValueError,
1031.             'ModelState.fields cannot refer to a model class - "field.to" does. '
1032.             'Use a string reference instead.'
1033.         ):
1034.             ModelState('app', 'Model', [('field', field)])
1035. 
1036.     def test_sanity_check_through(self):
1037.         field = models.ManyToManyField('UnicodeModel')
1038.         field.remote_field.through = UnicodeModel
1039.         with self.assertRaisesMessage(
1040.             ValueError,
1041.             'ModelState.fields cannot refer to a model class - "field.through" does. '
1042.             'Use a string reference instead.'
1043.         ):
1044.             ModelState('app', 'Model', [('field', field)])
1045. 
1046.     def test_sanity_index_name(self):
1047.         field = models.IntegerField()
1048.         options = {'indexes': [models.Index(fields=['field'])]}
1049.         msg = (
1050.             "Indexes passed to ModelState require a name attribute. <Index: "
1051.             "fields=['field']> doesn't have one."
1052.         )
1053.         with self.assertRaisesMessage(ValueError, msg):
1054.             ModelState('app', 'Model', [('field', field)], options=options)
1055. 
1056.     def test_fields_immutability(self):
1057.         """
1058.         Rendering a model state doesn't alter its internal fields.
1059.         """
1060.         apps = Apps()
1061.         field = models.CharField(max_length=1)
1062.         state = ModelState('app', 'Model', [('name', field)])
1063.         Model = state.render(apps)
1064.         self.assertNotEqual(Model._meta.get_field('name'), field)
1065. 
1066.     def test_repr(self):
1067.         field = models.CharField(max_length=1)
1068.         state = ModelState('app', 'Model', [('name', field)], bases=['app.A', 'app.B', 'app.C'])
1069.         self.assertEqual(repr(state), "<ModelState: 'app.Model'>")
1070. 
1071.         project_state = ProjectState()
1072.         project_state.add_model(state)
1073.         with self.assertRaisesMessage(InvalidBasesError, "Cannot resolve bases for [<ModelState: 'app.Model'>]"):
1074.             project_state.apps
1075. 
1076.     def test_fields_ordering_equality(self):
1077.         state = ModelState(
1078.             'migrations',
1079.             'Tag',
1080.             [
1081.                 ('id', models.AutoField(primary_key=True)),
1082.                 ('name', models.CharField(max_length=100)),
1083.                 ('hidden', models.BooleanField()),
1084.             ],
1085.         )
1086.         reordered_state = ModelState(
1087.             'migrations',
1088.             'Tag',
1089.             [
1090.                 ('id', models.AutoField(primary_key=True)),
1091.                 # Purposely re-ordered.
1092.                 ('hidden', models.BooleanField()),
1093.                 ('name', models.CharField(max_length=100)),
1094.             ],
1095.         )
1096.         self.assertEqual(state, reordered_state)
1097. 
1098.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1099.     def test_create_swappable(self):
1100.         """
1101.         Tests making a ProjectState from an Apps with a swappable model
1102.         """
1103.         new_apps = Apps(['migrations'])
1104. 
1105.         class Author(models.Model):
1106.             name = models.CharField(max_length=255)
1107.             bio = models.TextField()
1108.             age = models.IntegerField(blank=True, null=True)
1109. 
1110.             class Meta:
1111.                 app_label = 'migrations'
1112.                 apps = new_apps
1113.                 swappable = 'TEST_SWAPPABLE_MODEL'
1114. 
1115.         author_state = ModelState.from_model(Author)
1116.         self.assertEqual(author_state.app_label, 'migrations')
1117.         self.assertEqual(author_state.name, 'Author')
1118.         self.assertEqual(list(author_state.fields), ['id', 'name', 'bio', 'age'])
1119.         self.assertEqual(author_state.fields['name'].max_length, 255)
1120.         self.assertIs(author_state.fields['bio'].null, False)
1121.         self.assertIs(author_state.fields['age'].null, True)
1122.         self.assertEqual(author_state.options, {'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], "constraints": []})
1123.         self.assertEqual(author_state.bases, (models.Model,))
1124.         self.assertEqual(author_state.managers, [])
1125. 
1126.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1127.     def test_create_swappable_from_abstract(self):
1128.         """
1129.         A swappable model inheriting from a hierarchy:
1130.         concrete -> abstract -> concrete.
1131.         """
1132.         new_apps = Apps(['migrations'])
1133. 
1134.         class SearchableLocation(models.Model):
1135.             keywords = models.CharField(max_length=256)
1136. 
1137.             class Meta:
1138.                 app_label = 'migrations'
1139.                 apps = new_apps
1140. 
1141.         class Station(SearchableLocation):
1142.             name = models.CharField(max_length=128)
1143. 
1144.             class Meta:
1145.                 abstract = True
1146. 
1147.         class BusStation(Station):
1148.             bus_routes = models.CharField(max_length=128)
1149.             inbound = models.BooleanField(default=False)
1150. 
1151.             class Meta(Station.Meta):
1152.                 app_label = 'migrations'
1153.                 apps = new_apps
1154.                 swappable = 'TEST_SWAPPABLE_MODEL'
1155. 
1156.         station_state = ModelState.from_model(BusStation)
1157.         self.assertEqual(station_state.app_label, 'migrations')
1158.         self.assertEqual(station_state.name, 'BusStation')
1159.         self.assertEqual(
1160.             list(station_state.fields),
1161.             ['searchablelocation_ptr', 'name', 'bus_routes', 'inbound']
1162.         )
1163.         self.assertEqual(station_state.fields['name'].max_length, 128)
1164.         self.assertIs(station_state.fields['bus_routes'].null, False)
1165.         self.assertEqual(
1166.             station_state.options,
1167.             {'abstract': False, 'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], 'constraints': []}
1168.         )
1169.         self.assertEqual(station_state.bases, ('migrations.searchablelocation',))
1170.         self.assertEqual(station_state.managers, [])
1171. 
1172.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1173.     def test_custom_manager_swappable(self):
1174.         """
1175.         Tests making a ProjectState from unused models with custom managers
1176.         """
1177.         new_apps = Apps(['migrations'])
1178. 
1179.         class Food(models.Model):
1180. 
1181.             food_mgr = FoodManager('a', 'b')
1182.             food_qs = FoodQuerySet.as_manager()
1183.             food_no_mgr = NoMigrationFoodManager('x', 'y')
1184. 
1185.             class Meta:
1186.                 app_label = "migrations"
1187.                 apps = new_apps
1188.                 swappable = 'TEST_SWAPPABLE_MODEL'
1189. 
1190.         food_state = ModelState.from_model(Food)
1191. 
1192.         # The default manager is used in migrations
1193.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
1194.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
1195. 
1196.     @isolate_apps('migrations', 'django.contrib.contenttypes')
1197.     def test_order_with_respect_to_private_field(self):
1198.         class PrivateFieldModel(models.Model):
1199.             content_type = models.ForeignKey('contenttypes.ContentType', models.CASCADE)
1200.             object_id = models.PositiveIntegerField()
1201.             private = GenericForeignKey()
1202. 
1203.             class Meta:
1204.                 order_with_respect_to = 'private'
1205. 
1206.         state = ModelState.from_model(PrivateFieldModel)
1207.         self.assertNotIn('order_with_respect_to', state.options)
1208. 
1209.     @isolate_apps('migrations')
1210.     def test_abstract_model_children_inherit_indexes(self):
1211.         class Abstract(models.Model):
1212.             name = models.CharField(max_length=50)
1213. 
1214.             class Meta:
1215.                 app_label = 'migrations'
1216.                 abstract = True
1217.                 indexes = [models.Index(fields=['name'])]
1218. 
1219.         class Child1(Abstract):
1220.             pass
1221. 
1222.         class Child2(Abstract):
1223.             pass
1224. 
1225.         child1_state = ModelState.from_model(Child1)
1226.         child2_state = ModelState.from_model(Child2)
1227.         index_names = [index.name for index in child1_state.options['indexes']]
1228.         self.assertEqual(index_names, ['migrations__name_b0afd7_idx'])
1229.         index_names = [index.name for index in child2_state.options['indexes']]
1230.         self.assertEqual(index_names, ['migrations__name_016466_idx'])
1231. 
1232.         # Modifying the state doesn't modify the index on the model.
1233.         child1_state.options['indexes'][0].name = 'bar'
1234.         self.assertEqual(Child1._meta.indexes[0].name, 'migrations__name_b0afd7_idx')
1235. 
1236.     @isolate_apps('migrations')
1237.     def test_explicit_index_name(self):
1238.         class TestModel(models.Model):
1239.             name = models.CharField(max_length=50)
1240. 
1241.             class Meta:
1242.                 app_label = 'migrations'
1243.                 indexes = [models.Index(fields=['name'], name='foo_idx')]
1244. 
1245.         model_state = ModelState.from_model(TestModel)
1246.         index_names = [index.name for index in model_state.options['indexes']]
1247.         self.assertEqual(index_names, ['foo_idx'])
1248. 
1249.     @isolate_apps('migrations')
1250.     def test_from_model_constraints(self):
1251.         class ModelWithConstraints(models.Model):
1252.             size = models.IntegerField()
1253. 
1254.             class Meta:
1255.                 constraints = [models.CheckConstraint(check=models.Q(size__gt=1), name='size_gt_1')]
1256. 
1257.         state = ModelState.from_model(ModelWithConstraints)
1258.         model_constraints = ModelWithConstraints._meta.constraints
1259.         state_constraints = state.options['constraints']
1260.         self.assertEqual(model_constraints, state_constraints)
1261.         self.assertIsNot(model_constraints, state_constraints)
1262.         self.assertIsNot(model_constraints[0], state_constraints[0])
1263. 
1264. 
1265. class RelatedModelsTests(SimpleTestCase):
1266. 
1267.     def setUp(self):
1268.         self.apps = Apps(['migrations.related_models_app'])
1269. 
1270.     def create_model(self, name, foreign_keys=[], bases=(), abstract=False, proxy=False):
1271.         test_name = 'related_models_app'
1272.         assert not (abstract and proxy)
1273.         meta_contents = {
1274.             'abstract': abstract,
1275.             'app_label': test_name,
1276.             'apps': self.apps,
1277.             'proxy': proxy,
1278.         }
1279.         meta = type("Meta", (), meta_contents)
1280.         if not bases:
1281.             bases = (models.Model,)
1282.         body = {
1283.             'Meta': meta,
1284.             '__module__': "__fake__",
1285.         }
1286.         fname_base = fname = '%s_%%d' % name.lower()
1287.         for i, fk in enumerate(foreign_keys, 1):
1288.             fname = fname_base % i
1289.             body[fname] = fk
1290.         return type(name, bases, body)
1291. 
1292.     def assertRelated(self, model, needle):
1293.         self.assertEqual(
1294.             get_related_models_recursive(model),
1295.             {(n._meta.app_label, n._meta.model_name) for n in needle},
1296.         )
1297. 
1298.     def test_unrelated(self):
1299.         A = self.create_model("A")
1300.         B = self.create_model("B")
1301.         self.assertRelated(A, [])
1302.         self.assertRelated(B, [])
1303. 
1304.     def test_direct_fk(self):
1305.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1306.         B = self.create_model("B")
1307.         self.assertRelated(A, [B])
1308.         self.assertRelated(B, [A])
1309. 
1310.     def test_direct_hidden_fk(self):
1311.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE, related_name='+')])
1312.         B = self.create_model("B")
1313.         self.assertRelated(A, [B])
1314.         self.assertRelated(B, [A])
1315. 
1316.     def test_fk_through_proxy(self):
1317.         A = self.create_model("A")
1318.         B = self.create_model("B", bases=(A,), proxy=True)
1319.         C = self.create_model("C", bases=(B,), proxy=True)
1320.         D = self.create_model("D", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1321.         self.assertRelated(A, [B, C, D])
1322.         self.assertRelated(B, [A, C, D])
1323.         self.assertRelated(C, [A, B, D])
1324.         self.assertRelated(D, [A, B, C])
1325. 
1326.     def test_nested_fk(self):
1327.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1328.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1329.         C = self.create_model("C")
1330.         self.assertRelated(A, [B, C])
1331.         self.assertRelated(B, [A, C])
1332.         self.assertRelated(C, [A, B])
1333. 
1334.     def test_two_sided(self):
1335.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1336.         B = self.create_model("B", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1337.         self.assertRelated(A, [B])
1338.         self.assertRelated(B, [A])
1339. 
1340.     def test_circle(self):
1341.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1342.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1343.         C = self.create_model("C", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1344.         self.assertRelated(A, [B, C])
1345.         self.assertRelated(B, [A, C])
1346.         self.assertRelated(C, [A, B])
1347. 
1348.     def test_base(self):
1349.         A = self.create_model("A")
1350.         B = self.create_model("B", bases=(A,))
1351.         self.assertRelated(A, [B])
1352.         self.assertRelated(B, [A])
1353. 
1354.     def test_nested_base(self):
1355.         A = self.create_model("A")
1356.         B = self.create_model("B", bases=(A,))
1357.         C = self.create_model("C", bases=(B,))
1358.         self.assertRelated(A, [B, C])
1359.         self.assertRelated(B, [A, C])
1360.         self.assertRelated(C, [A, B])
1361. 
1362.     def test_multiple_bases(self):
1363.         A = self.create_model("A")
1364.         B = self.create_model("B")
1365.         C = self.create_model("C", bases=(A, B,))
1366.         self.assertRelated(A, [B, C])
1367.         self.assertRelated(B, [A, C])
1368.         self.assertRelated(C, [A, B])
1369. 
1370.     def test_multiple_nested_bases(self):
1371.         A = self.create_model("A")
1372.         B = self.create_model("B")
1373.         C = self.create_model("C", bases=(A, B,))
1374.         D = self.create_model("D")
1375.         E = self.create_model("E", bases=(D,))
1376.         F = self.create_model("F", bases=(C, E,))
1377.         Y = self.create_model("Y")
1378.         Z = self.create_model("Z", bases=(Y,))
1379.         self.assertRelated(A, [B, C, D, E, F])
1380.         self.assertRelated(B, [A, C, D, E, F])
1381.         self.assertRelated(C, [A, B, D, E, F])
1382.         self.assertRelated(D, [A, B, C, E, F])
1383.         self.assertRelated(E, [A, B, C, D, F])
1384.         self.assertRelated(F, [A, B, C, D, E])
1385.         self.assertRelated(Y, [Z])
1386.         self.assertRelated(Z, [Y])
1387. 
1388.     def test_base_to_base_fk(self):
1389.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Y', models.CASCADE)])
1390.         B = self.create_model("B", bases=(A,))
1391.         Y = self.create_model("Y")
1392.         Z = self.create_model("Z", bases=(Y,))
1393.         self.assertRelated(A, [B, Y, Z])
1394.         self.assertRelated(B, [A, Y, Z])
1395.         self.assertRelated(Y, [A, B, Z])
1396.         self.assertRelated(Z, [A, B, Y])
1397. 
1398.     def test_base_to_subclass_fk(self):
1399.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Z', models.CASCADE)])
1400.         B = self.create_model("B", bases=(A,))
1401.         Y = self.create_model("Y")
1402.         Z = self.create_model("Z", bases=(Y,))
1403.         self.assertRelated(A, [B, Y, Z])
1404.         self.assertRelated(B, [A, Y, Z])
1405.         self.assertRelated(Y, [A, B, Z])
1406.         self.assertRelated(Z, [A, B, Y])
1407. 
1408.     def test_direct_m2m(self):
1409.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B')])
1410.         B = self.create_model("B")
1411.         self.assertRelated(A, [A.a_1.rel.through, B])
1412.         self.assertRelated(B, [A, A.a_1.rel.through])
1413. 
1414.     def test_direct_m2m_self(self):
1415.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A')])
1416.         self.assertRelated(A, [A.a_1.rel.through])
1417. 
1418.     def test_intermediate_m2m_self(self):
1419.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A', through='T')])
1420.         T = self.create_model("T", foreign_keys=[
1421.             models.ForeignKey('A', models.CASCADE),
1422.             models.ForeignKey('A', models.CASCADE),
1423.         ])
1424.         self.assertRelated(A, [T])
1425.         self.assertRelated(T, [A])
1426. 
1427.     def test_intermediate_m2m(self):
1428.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1429.         B = self.create_model("B")
1430.         T = self.create_model("T", foreign_keys=[
1431.             models.ForeignKey('A', models.CASCADE),
1432.             models.ForeignKey('B', models.CASCADE),
1433.         ])
1434.         self.assertRelated(A, [B, T])
1435.         self.assertRelated(B, [A, T])
1436.         self.assertRelated(T, [A, B])
1437. 
1438.     def test_intermediate_m2m_extern_fk(self):
1439.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1440.         B = self.create_model("B")
1441.         Z = self.create_model("Z")
1442.         T = self.create_model("T", foreign_keys=[
1443.             models.ForeignKey('A', models.CASCADE),
1444.             models.ForeignKey('B', models.CASCADE),
1445.             models.ForeignKey('Z', models.CASCADE),
1446.         ])
1447.         self.assertRelated(A, [B, T, Z])
1448.         self.assertRelated(B, [A, T, Z])
1449.         self.assertRelated(T, [A, B, Z])
1450.         self.assertRelated(Z, [A, B, T])
1451. 
1452.     def test_intermediate_m2m_base(self):
1453.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1454.         B = self.create_model("B")
1455.         S = self.create_model("S")
1456.         T = self.create_model("T", foreign_keys=[
1457.             models.ForeignKey('A', models.CASCADE),
1458.             models.ForeignKey('B', models.CASCADE),
1459.         ], bases=(S,))
1460.         self.assertRelated(A, [B, S, T])
1461.         self.assertRelated(B, [A, S, T])
1462.         self.assertRelated(S, [A, B, T])
1463.         self.assertRelated(T, [A, B, S])
1464. 
1465.     def test_generic_fk(self):
1466.         A = self.create_model("A", foreign_keys=[
1467.             models.ForeignKey('B', models.CASCADE),
1468.             GenericForeignKey(),
1469.         ])
1470.         B = self.create_model("B", foreign_keys=[
1471.             models.ForeignKey('C', models.CASCADE),
1472.         ])
1473.         self.assertRelated(A, [B])
1474.         self.assertRelated(B, [A])
1475. 
1476.     def test_abstract_base(self):
1477.         A = self.create_model("A", abstract=True)
1478.         B = self.create_model("B", bases=(A,))
1479.         self.assertRelated(A, [B])
1480.         self.assertRelated(B, [])
1481. 
1482.     def test_nested_abstract_base(self):
1483.         A = self.create_model("A", abstract=True)
1484.         B = self.create_model("B", bases=(A,), abstract=True)
1485.         C = self.create_model("C", bases=(B,))
1486.         self.assertRelated(A, [B, C])
1487.         self.assertRelated(B, [C])
1488.         self.assertRelated(C, [])
1489. 
1490.     def test_proxy_base(self):
1491.         A = self.create_model("A")
1492.         B = self.create_model("B", bases=(A,), proxy=True)
1493.         self.assertRelated(A, [B])
1494.         self.assertRelated(B, [])
1495. 
1496.     def test_nested_proxy_base(self):
1497.         A = self.create_model("A")
1498.         B = self.create_model("B", bases=(A,), proxy=True)
1499.         C = self.create_model("C", bases=(B,), proxy=True)
1500.         self.assertRelated(A, [B, C])
1501.         self.assertRelated(B, [C])
1502.         self.assertRelated(C, [])
1503. 
1504.     def test_multiple_mixed_bases(self):
1505.         A = self.create_model("A", abstract=True)
1506.         M = self.create_model("M")
1507.         P = self.create_model("P")
1508.         Q = self.create_model("Q", bases=(P,), proxy=True)
1509.         Z = self.create_model("Z", bases=(A, M, Q))
1510.         # M has a pointer O2O field p_ptr to P
1511.         self.assertRelated(A, [M, P, Q, Z])
1512.         self.assertRelated(M, [P, Q, Z])
1513.         self.assertRelated(P, [M, Q, Z])
1514.         self.assertRelated(Q, [M, P, Z])
1515.         self.assertRelated(Z, [M, P, Q])

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 09:05:28,475 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user requested the full content of the file `tests/migrations/test_state.py`. The provided context contains the content of this file from line 1 to line 1515, which appears to be the entire file. Therefore, the entire file content is selected to fulfill the user's request.", relative_path='tests/migrations/test_state.py', start_line=1, end_line=1515)]
2025-12-23 09:05:28,478 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `tests/migrations/test_state.py`.
2025-12-23 09:05:28,478 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 09:05:28,478 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 09:05:28,479 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-23 09:05:28,479 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-23 09:05:28,479 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_block_error.html
    |   |   ├── test_extends_block_error_parent.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: ProjectState.__init__() can assume its real_apps argument is a set

Description: Description
	
​PR #14760 made all calls to ProjectState.__init__() pass real_apps as a set. In ​ProjectState.__init__() now, then, instead of checking that real_apps is a set and converting it to a set if not, it can just assert that it's a set when non-None. (Presumably the construction of new ProjectState objects is part of Django's internal API.) I had made this comment on the PR, but it wasn't important enough to hold up the PR because another PR was depending on it getting merged.

Patch information:
diff --git a/django/db/migrations/state.py b/django/db/migrations/state.py
index 088f5c41f0..7b3ad45610 100644
--- a/django/db/migrations/state.py
+++ b/django/db/migrations/state.py
@@ -91,8 +91,9 @@ class ProjectState:
     def __init__(self, models=None, real_apps=None):
         self.models = models or {}
         # Apps to include from main registry, usually unmigrated ones
-        if real_apps:
-            self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
+        if real_apps is not None:
+            assert isinstance(real_apps, set), "real_apps must be a set"
+            self.real_apps = real_apps
         else:
             self.real_apps = set()
         self.is_delayed = False


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_state.py`.
Extra Requirements: 
Purpose: To find test cases that instantiate `ProjectState` and verify its behavior, which is directly related to the user's query.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_state.py
Line number range: 1 - 1515
Content:
1. from django.apps.registry import Apps
2. from django.contrib.contenttypes.fields import GenericForeignKey
3. from django.db import models
4. from django.db.migrations.exceptions import InvalidBasesError
5. from django.db.migrations.operations import (
6.     AddField, AlterField, DeleteModel, RemoveField,
7. )
8. from django.db.migrations.state import (
9.     ModelState, ProjectState, get_related_models_recursive,
10. )
11. from django.test import SimpleTestCase, override_settings
12. from django.test.utils import isolate_apps
13. 
14. from .models import (
15.     FoodManager, FoodQuerySet, ModelWithCustomBase, NoMigrationFoodManager,
16.     UnicodeModel,
17. )
18. 
19. 
20. class StateTests(SimpleTestCase):
21.     """
22.     Tests state construction, rendering and modification by operations.
23.     """
24. 
25.     def test_create(self):
26.         """
27.         Tests making a ProjectState from an Apps
28.         """
29. 
30.         new_apps = Apps(["migrations"])
31. 
32.         class Author(models.Model):
33.             name = models.CharField(max_length=255)
34.             bio = models.TextField()
35.             age = models.IntegerField(blank=True, null=True)
36. 
37.             class Meta:
38.                 app_label = "migrations"
39.                 apps = new_apps
40.                 unique_together = ["name", "bio"]
41.                 index_together = ["bio", "age"]
42. 
43.         class AuthorProxy(Author):
44.             class Meta:
45.                 app_label = "migrations"
46.                 apps = new_apps
47.                 proxy = True
48.                 ordering = ["name"]
49. 
50.         class SubAuthor(Author):
51.             width = models.FloatField(null=True)
52. 
53.             class Meta:
54.                 app_label = "migrations"
55.                 apps = new_apps
56. 
57.         class Book(models.Model):
58.             title = models.CharField(max_length=1000)
59.             author = models.ForeignKey(Author, models.CASCADE)
60.             contributors = models.ManyToManyField(Author)
61. 
62.             class Meta:
63.                 app_label = "migrations"
64.                 apps = new_apps
65.                 verbose_name = "tome"
66.                 db_table = "test_tome"
67.                 indexes = [models.Index(fields=['title'])]
68. 
69.         class Food(models.Model):
70. 
71.             food_mgr = FoodManager('a', 'b')
72.             food_qs = FoodQuerySet.as_manager()
73.             food_no_mgr = NoMigrationFoodManager('x', 'y')
74. 
75.             class Meta:
76.                 app_label = "migrations"
77.                 apps = new_apps
78. 
79.         class FoodNoManagers(models.Model):
80. 
81.             class Meta:
82.                 app_label = "migrations"
83.                 apps = new_apps
84. 
85.         class FoodNoDefaultManager(models.Model):
86. 
87.             food_no_mgr = NoMigrationFoodManager('x', 'y')
88.             food_mgr = FoodManager('a', 'b')
89.             food_qs = FoodQuerySet.as_manager()
90. 
91.             class Meta:
92.                 app_label = "migrations"
93.                 apps = new_apps
94. 
95.         mgr1 = FoodManager('a', 'b')
96.         mgr2 = FoodManager('x', 'y', c=3, d=4)
97. 
98.         class FoodOrderedManagers(models.Model):
99.             # The managers on this model should be ordered by their creation
100.             # counter and not by the order in model body
101. 
102.             food_no_mgr = NoMigrationFoodManager('x', 'y')
103.             food_mgr2 = mgr2
104.             food_mgr1 = mgr1
105. 
106.             class Meta:
107.                 app_label = "migrations"
108.                 apps = new_apps
109. 
110.         project_state = ProjectState.from_apps(new_apps)
111.         author_state = project_state.models['migrations', 'author']
112.         author_proxy_state = project_state.models['migrations', 'authorproxy']
113.         sub_author_state = project_state.models['migrations', 'subauthor']
114.         book_state = project_state.models['migrations', 'book']
115.         food_state = project_state.models['migrations', 'food']
116.         food_no_managers_state = project_state.models['migrations', 'foodnomanagers']
117.         food_no_default_manager_state = project_state.models['migrations', 'foodnodefaultmanager']
118.         food_order_manager_state = project_state.models['migrations', 'foodorderedmanagers']
119.         book_index = models.Index(fields=['title'])
120.         book_index.set_name_with_model(Book)
121. 
122.         self.assertEqual(author_state.app_label, "migrations")
123.         self.assertEqual(author_state.name, "Author")
124.         self.assertEqual(list(author_state.fields), ["id", "name", "bio", "age"])
125.         self.assertEqual(author_state.fields['name'].max_length, 255)
126.         self.assertIs(author_state.fields['bio'].null, False)
127.         self.assertIs(author_state.fields['age'].null, True)
128.         self.assertEqual(
129.             author_state.options,
130.             {
131.                 "unique_together": {("name", "bio")},
132.                 "index_together": {("bio", "age")},
133.                 "indexes": [],
134.                 "constraints": [],
135.             }
136.         )
137.         self.assertEqual(author_state.bases, (models.Model,))
138. 
139.         self.assertEqual(book_state.app_label, "migrations")
140.         self.assertEqual(book_state.name, "Book")
141.         self.assertEqual(list(book_state.fields), ["id", "title", "author", "contributors"])
142.         self.assertEqual(book_state.fields['title'].max_length, 1000)
143.         self.assertIs(book_state.fields['author'].null, False)
144.         self.assertEqual(book_state.fields['contributors'].__class__.__name__, 'ManyToManyField')
145.         self.assertEqual(
146.             book_state.options,
147.             {"verbose_name": "tome", "db_table": "test_tome", "indexes": [book_index], "constraints": []},
148.         )
149.         self.assertEqual(book_state.bases, (models.Model,))
150. 
151.         self.assertEqual(author_proxy_state.app_label, "migrations")
152.         self.assertEqual(author_proxy_state.name, "AuthorProxy")
153.         self.assertEqual(author_proxy_state.fields, {})
154.         self.assertEqual(
155.             author_proxy_state.options,
156.             {"proxy": True, "ordering": ["name"], "indexes": [], "constraints": []},
157.         )
158.         self.assertEqual(author_proxy_state.bases, ("migrations.author",))
159. 
160.         self.assertEqual(sub_author_state.app_label, "migrations")
161.         self.assertEqual(sub_author_state.name, "SubAuthor")
162.         self.assertEqual(len(sub_author_state.fields), 2)
163.         self.assertEqual(sub_author_state.bases, ("migrations.author",))
164. 
165.         # The default manager is used in migrations
166.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
167.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_state.managers))
168.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
169. 
170.         # No explicit managers defined. Migrations will fall back to the default
171.         self.assertEqual(food_no_managers_state.managers, [])
172. 
173.         # food_mgr is used in migration but isn't the default mgr, hence add the
174.         # default
175.         self.assertEqual([name for name, mgr in food_no_default_manager_state.managers],
176.                          ['food_no_mgr', 'food_mgr'])
177.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_no_default_manager_state.managers))
178.         self.assertEqual(food_no_default_manager_state.managers[0][1].__class__, models.Manager)
179.         self.assertIsInstance(food_no_default_manager_state.managers[1][1], FoodManager)
180. 
181.         self.assertEqual([name for name, mgr in food_order_manager_state.managers],
182.                          ['food_mgr1', 'food_mgr2'])
183.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_order_manager_state.managers))
184.         self.assertEqual([mgr.args for name, mgr in food_order_manager_state.managers],
185.                          [('a', 'b', 1, 2), ('x', 'y', 3, 4)])
186. 
187.     def test_custom_default_manager_added_to_the_model_state(self):
188.         """
189.         When the default manager of the model is a custom manager,
190.         it needs to be added to the model state.
191.         """
192.         new_apps = Apps(['migrations'])
193.         custom_manager = models.Manager()
194. 
195.         class Author(models.Model):
196.             objects = models.TextField()
197.             authors = custom_manager
198. 
199.             class Meta:
200.                 app_label = 'migrations'
201.                 apps = new_apps
202. 
203.         project_state = ProjectState.from_apps(new_apps)
204.         author_state = project_state.models['migrations', 'author']
205.         self.assertEqual(author_state.managers, [('authors', custom_manager)])
206. 
207.     def test_custom_default_manager_named_objects_with_false_migration_flag(self):
208.         """
209.         When a manager is added with a name of 'objects' but it does not
210.         have `use_in_migrations = True`, no migration should be added to the
211.         model state (#26643).
212.         """
213.         new_apps = Apps(['migrations'])
214. 
215.         class Author(models.Model):
216.             objects = models.Manager()
217. 
218.             class Meta:
219.                 app_label = 'migrations'
220.                 apps = new_apps
221. 
222.         project_state = ProjectState.from_apps(new_apps)
223.         author_state = project_state.models['migrations', 'author']
224.         self.assertEqual(author_state.managers, [])
225. 
226.     def test_no_duplicate_managers(self):
227.         """
228.         When a manager is added with `use_in_migrations = True` and a parent
229.         model had a manager with the same name and `use_in_migrations = True`,
230.         the parent's manager shouldn't appear in the model state (#26881).
231.         """
232.         new_apps = Apps(['migrations'])
233. 
234.         class PersonManager(models.Manager):
235.             use_in_migrations = True
236. 
237.         class Person(models.Model):
238.             objects = PersonManager()
239. 
240.             class Meta:
241.                 abstract = True
242. 
243.         class BossManager(PersonManager):
244.             use_in_migrations = True
245. 
246.         class Boss(Person):
247.             objects = BossManager()
248. 
249.             class Meta:
250.                 app_label = 'migrations'
251.                 apps = new_apps
252. 
253.         project_state = ProjectState.from_apps(new_apps)
254.         boss_state = project_state.models['migrations', 'boss']
255.         self.assertEqual(boss_state.managers, [('objects', Boss.objects)])
256. 
257.     def test_custom_default_manager(self):
258.         new_apps = Apps(['migrations'])
259. 
260.         class Author(models.Model):
261.             manager1 = models.Manager()
262.             manager2 = models.Manager()
263. 
264.             class Meta:
265.                 app_label = 'migrations'
266.                 apps = new_apps
267.                 default_manager_name = 'manager2'
268. 
269.         project_state = ProjectState.from_apps(new_apps)
270.         author_state = project_state.models['migrations', 'author']
271.         self.assertEqual(author_state.options['default_manager_name'], 'manager2')
272.         self.assertEqual(author_state.managers, [('manager2', Author.manager1)])
273. 
274.     def test_custom_base_manager(self):
275.         new_apps = Apps(['migrations'])
276. 
277.         class Author(models.Model):
278.             manager1 = models.Manager()
279.             manager2 = models.Manager()
280. 
281.             class Meta:
282.                 app_label = 'migrations'
283.                 apps = new_apps
284.                 base_manager_name = 'manager2'
285. 
286.         class Author2(models.Model):
287.             manager1 = models.Manager()
288.             manager2 = models.Manager()
289. 
290.             class Meta:
291.                 app_label = 'migrations'
292.                 apps = new_apps
293.                 base_manager_name = 'manager1'
294. 
295.         project_state = ProjectState.from_apps(new_apps)
296. 
297.         author_state = project_state.models['migrations', 'author']
298.         self.assertEqual(author_state.options['base_manager_name'], 'manager2')
299.         self.assertEqual(author_state.managers, [
300.             ('manager1', Author.manager1),
301.             ('manager2', Author.manager2),
302.         ])
303. 
304.         author2_state = project_state.models['migrations', 'author2']
305.         self.assertEqual(author2_state.options['base_manager_name'], 'manager1')
306.         self.assertEqual(author2_state.managers, [
307.             ('manager1', Author2.manager1),
308.         ])
309. 
310.     def test_apps_bulk_update(self):
311.         """
312.         StateApps.bulk_update() should update apps.ready to False and reset
313.         the value afterward.
314.         """
315.         project_state = ProjectState()
316.         apps = project_state.apps
317.         with apps.bulk_update():
318.             self.assertFalse(apps.ready)
319.         self.assertTrue(apps.ready)
320.         with self.assertRaises(ValueError):
321.             with apps.bulk_update():
322.                 self.assertFalse(apps.ready)
323.                 raise ValueError()
324.         self.assertTrue(apps.ready)
325. 
326.     def test_render(self):
327.         """
328.         Tests rendering a ProjectState into an Apps.
329.         """
330.         project_state = ProjectState()
331.         project_state.add_model(ModelState(
332.             app_label="migrations",
333.             name="Tag",
334.             fields=[
335.                 ("id", models.AutoField(primary_key=True)),
336.                 ("name", models.CharField(max_length=100)),
337.                 ("hidden", models.BooleanField()),
338.             ],
339.         ))
340.         project_state.add_model(ModelState(
341.             app_label="migrations",
342.             name="SubTag",
343.             fields=[
344.                 ('tag_ptr', models.OneToOneField(
345.                     'migrations.Tag',
346.                     models.CASCADE,
347.                     auto_created=True,
348.                     parent_link=True,
349.                     primary_key=True,
350.                     to_field='id',
351.                     serialize=False,
352.                 )),
353.                 ("awesome", models.BooleanField()),
354.             ],
355.             bases=("migrations.Tag",),
356.         ))
357. 
358.         base_mgr = models.Manager()
359.         mgr1 = FoodManager('a', 'b')
360.         mgr2 = FoodManager('x', 'y', c=3, d=4)
361.         project_state.add_model(ModelState(
362.             app_label="migrations",
363.             name="Food",
364.             fields=[
365.                 ("id", models.AutoField(primary_key=True)),
366.             ],
367.             managers=[
368.                 # The ordering we really want is objects, mgr1, mgr2
369.                 ('default', base_mgr),
370.                 ('food_mgr2', mgr2),
371.                 ('food_mgr1', mgr1),
372.             ]
373.         ))
374. 
375.         new_apps = project_state.apps
376.         self.assertEqual(new_apps.get_model("migrations", "Tag")._meta.get_field("name").max_length, 100)
377.         self.assertIs(new_apps.get_model("migrations", "Tag")._meta.get_field("hidden").null, False)
378. 
379.         self.assertEqual(len(new_apps.get_model("migrations", "SubTag")._meta.local_fields), 2)
380. 
381.         Food = new_apps.get_model("migrations", "Food")
382.         self.assertEqual([mgr.name for mgr in Food._meta.managers],
383.                          ['default', 'food_mgr1', 'food_mgr2'])
384.         self.assertTrue(all(isinstance(mgr.name, str) for mgr in Food._meta.managers))
385.         self.assertEqual([mgr.__class__ for mgr in Food._meta.managers],
386.                          [models.Manager, FoodManager, FoodManager])
387. 
388.     def test_render_model_inheritance(self):
389.         class Book(models.Model):
390.             title = models.CharField(max_length=1000)
391. 
392.             class Meta:
393.                 app_label = "migrations"
394.                 apps = Apps()
395. 
396.         class Novel(Book):
397.             class Meta:
398.                 app_label = "migrations"
399.                 apps = Apps()
400. 
401.         # First, test rendering individually
402.         apps = Apps(["migrations"])
403. 
404.         # We shouldn't be able to render yet
405.         ms = ModelState.from_model(Novel)
406.         with self.assertRaises(InvalidBasesError):
407.             ms.render(apps)
408. 
409.         # Once the parent model is in the app registry, it should be fine
410.         ModelState.from_model(Book).render(apps)
411.         ModelState.from_model(Novel).render(apps)
412. 
413.     def test_render_model_with_multiple_inheritance(self):
414.         class Foo(models.Model):
415.             class Meta:
416.                 app_label = "migrations"
417.                 apps = Apps()
418. 
419.         class Bar(models.Model):
420.             class Meta:
421.                 app_label = "migrations"
422.                 apps = Apps()
423. 
424.         class FooBar(Foo, Bar):
425.             class Meta:
426.                 app_label = "migrations"
427.                 apps = Apps()
428. 
429.         class AbstractSubFooBar(FooBar):
430.             class Meta:
431.                 abstract = True
432.                 apps = Apps()
433. 
434.         class SubFooBar(AbstractSubFooBar):
435.             class Meta:
436.                 app_label = "migrations"
437.                 apps = Apps()
438. 
439.         apps = Apps(["migrations"])
440. 
441.         # We shouldn't be able to render yet
442.         ms = ModelState.from_model(FooBar)
443.         with self.assertRaises(InvalidBasesError):
444.             ms.render(apps)
445. 
446.         # Once the parent models are in the app registry, it should be fine
447.         ModelState.from_model(Foo).render(apps)
448.         self.assertSequenceEqual(ModelState.from_model(Foo).bases, [models.Model])
449.         ModelState.from_model(Bar).render(apps)
450.         self.assertSequenceEqual(ModelState.from_model(Bar).bases, [models.Model])
451.         ModelState.from_model(FooBar).render(apps)
452.         self.assertSequenceEqual(ModelState.from_model(FooBar).bases, ['migrations.foo', 'migrations.bar'])
453.         ModelState.from_model(SubFooBar).render(apps)
454.         self.assertSequenceEqual(ModelState.from_model(SubFooBar).bases, ['migrations.foobar'])
455. 
456.     def test_render_project_dependencies(self):
457.         """
458.         The ProjectState render method correctly renders models
459.         to account for inter-model base dependencies.
460.         """
461.         new_apps = Apps()
462. 
463.         class A(models.Model):
464.             class Meta:
465.                 app_label = "migrations"
466.                 apps = new_apps
467. 
468.         class B(A):
469.             class Meta:
470.                 app_label = "migrations"
471.                 apps = new_apps
472. 
473.         class C(B):
474.             class Meta:
475.                 app_label = "migrations"
476.                 apps = new_apps
477. 
478.         class D(A):
479.             class Meta:
480.                 app_label = "migrations"
481.                 apps = new_apps
482. 
483.         class E(B):
484.             class Meta:
485.                 app_label = "migrations"
486.                 apps = new_apps
487.                 proxy = True
488. 
489.         class F(D):
490.             class Meta:
491.                 app_label = "migrations"
492.                 apps = new_apps
493.                 proxy = True
494. 
495.         # Make a ProjectState and render it
496.         project_state = ProjectState()
497.         project_state.add_model(ModelState.from_model(A))
498.         project_state.add_model(ModelState.from_model(B))
499.         project_state.add_model(ModelState.from_model(C))
500.         project_state.add_model(ModelState.from_model(D))
501.         project_state.add_model(ModelState.from_model(E))
502.         project_state.add_model(ModelState.from_model(F))
503.         final_apps = project_state.apps
504.         self.assertEqual(len(final_apps.get_models()), 6)
505. 
506.         # Now make an invalid ProjectState and make sure it fails
507.         project_state = ProjectState()
508.         project_state.add_model(ModelState.from_model(A))
509.         project_state.add_model(ModelState.from_model(B))
510.         project_state.add_model(ModelState.from_model(C))
511.         project_state.add_model(ModelState.from_model(F))
512.         with self.assertRaises(InvalidBasesError):
513.             project_state.apps
514. 
515.     def test_render_unique_app_labels(self):
516.         """
517.         The ProjectState render method doesn't raise an
518.         ImproperlyConfigured exception about unique labels if two dotted app
519.         names have the same last part.
520.         """
521.         class A(models.Model):
522.             class Meta:
523.                 app_label = "django.contrib.auth"
524. 
525.         class B(models.Model):
526.             class Meta:
527.                 app_label = "vendor.auth"
528. 
529.         # Make a ProjectState and render it
530.         project_state = ProjectState()
531.         project_state.add_model(ModelState.from_model(A))
532.         project_state.add_model(ModelState.from_model(B))
533.         self.assertEqual(len(project_state.apps.get_models()), 2)
534. 
535.     def test_reload_related_model_on_non_relational_fields(self):
536.         """
537.         The model is reloaded even on changes that are not involved in
538.         relations. Other models pointing to or from it are also reloaded.
539.         """
540.         project_state = ProjectState()
541.         project_state.apps  # Render project state.
542.         project_state.add_model(ModelState('migrations', 'A', []))
543.         project_state.add_model(ModelState('migrations', 'B', [
544.             ('a', models.ForeignKey('A', models.CASCADE)),
545.         ]))
546.         project_state.add_model(ModelState('migrations', 'C', [
547.             ('b', models.ForeignKey('B', models.CASCADE)),
548.             ('name', models.TextField()),
549.         ]))
550.         project_state.add_model(ModelState('migrations', 'D', [
551.             ('a', models.ForeignKey('A', models.CASCADE)),
552.         ]))
553.         operation = AlterField(
554.             model_name='C',
555.             name='name',
556.             field=models.TextField(blank=True),
557.         )
558.         operation.state_forwards('migrations', project_state)
559.         project_state.reload_model('migrations', 'a', delay=True)
560.         A = project_state.apps.get_model('migrations.A')
561.         B = project_state.apps.get_model('migrations.B')
562.         D = project_state.apps.get_model('migrations.D')
563.         self.assertIs(B._meta.get_field('a').related_model, A)
564.         self.assertIs(D._meta.get_field('a').related_model, A)
565. 
566.     def test_reload_model_relationship_consistency(self):
567.         project_state = ProjectState()
568.         project_state.add_model(ModelState('migrations', 'A', []))
569.         project_state.add_model(ModelState('migrations', 'B', [
570.             ('a', models.ForeignKey('A', models.CASCADE)),
571.         ]))
572.         project_state.add_model(ModelState('migrations', 'C', [
573.             ('b', models.ForeignKey('B', models.CASCADE)),
574.         ]))
575.         A = project_state.apps.get_model('migrations.A')
576.         B = project_state.apps.get_model('migrations.B')
577.         C = project_state.apps.get_model('migrations.C')
578.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
579.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
580.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
581. 
582.         project_state.reload_model('migrations', 'a', delay=True)
583.         A = project_state.apps.get_model('migrations.A')
584.         B = project_state.apps.get_model('migrations.B')
585.         C = project_state.apps.get_model('migrations.C')
586.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
587.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
588.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
589. 
590.     def test_add_relations(self):
591.         """
592.         #24573 - Adding relations to existing models should reload the
593.         referenced models too.
594.         """
595.         new_apps = Apps()
596. 
597.         class A(models.Model):
598.             class Meta:
599.                 app_label = 'something'
600.                 apps = new_apps
601. 
602.         class B(A):
603.             class Meta:
604.                 app_label = 'something'
605.                 apps = new_apps
606. 
607.         class C(models.Model):
608.             class Meta:
609.                 app_label = 'something'
610.                 apps = new_apps
611. 
612.         project_state = ProjectState()
613.         project_state.add_model(ModelState.from_model(A))
614.         project_state.add_model(ModelState.from_model(B))
615.         project_state.add_model(ModelState.from_model(C))
616. 
617.         project_state.apps  # We need to work with rendered models
618. 
619.         old_state = project_state.clone()
620.         model_a_old = old_state.apps.get_model('something', 'A')
621.         model_b_old = old_state.apps.get_model('something', 'B')
622.         model_c_old = old_state.apps.get_model('something', 'C')
623.         # The relations between the old models are correct
624.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
625.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
626. 
627.         operation = AddField('c', 'to_a', models.OneToOneField(
628.             'something.A',
629.             models.CASCADE,
630.             related_name='from_c',
631.         ))
632.         operation.state_forwards('something', project_state)
633.         model_a_new = project_state.apps.get_model('something', 'A')
634.         model_b_new = project_state.apps.get_model('something', 'B')
635.         model_c_new = project_state.apps.get_model('something', 'C')
636. 
637.         # All models have changed
638.         self.assertIsNot(model_a_old, model_a_new)
639.         self.assertIsNot(model_b_old, model_b_new)
640.         self.assertIsNot(model_c_old, model_c_new)
641.         # The relations between the old models still hold
642.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
643.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
644.         # The relations between the new models correct
645.         self.assertIs(model_a_new._meta.get_field('b').related_model, model_b_new)
646.         self.assertIs(model_b_new._meta.get_field('a_ptr').related_model, model_a_new)
647.         self.assertIs(model_a_new._meta.get_field('from_c').related_model, model_c_new)
648.         self.assertIs(model_c_new._meta.get_field('to_a').related_model, model_a_new)
649. 
650.     def test_remove_relations(self):
651.         """
652.         #24225 - Relations between models are updated while
653.         remaining the relations and references for models of an old state.
654.         """
655.         new_apps = Apps()
656. 
657.         class A(models.Model):
658.             class Meta:
659.                 app_label = "something"
660.                 apps = new_apps
661. 
662.         class B(models.Model):
663.             to_a = models.ForeignKey(A, models.CASCADE)
664. 
665.             class Meta:
666.                 app_label = "something"
667.                 apps = new_apps
668. 
669.         def get_model_a(state):
670.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
671. 
672.         project_state = ProjectState()
673.         project_state.add_model(ModelState.from_model(A))
674.         project_state.add_model(ModelState.from_model(B))
675.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
676.         old_state = project_state.clone()
677. 
678.         operation = RemoveField("b", "to_a")
679.         operation.state_forwards("something", project_state)
680.         # Model from old_state still has the relation
681.         model_a_old = get_model_a(old_state)
682.         model_a_new = get_model_a(project_state)
683.         self.assertIsNot(model_a_old, model_a_new)
684.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
685.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
686. 
687.         # Same test for deleted model
688.         project_state = ProjectState()
689.         project_state.add_model(ModelState.from_model(A))
690.         project_state.add_model(ModelState.from_model(B))
691.         old_state = project_state.clone()
692. 
693.         operation = DeleteModel("b")
694.         operation.state_forwards("something", project_state)
695.         model_a_old = get_model_a(old_state)
696.         model_a_new = get_model_a(project_state)
697.         self.assertIsNot(model_a_old, model_a_new)
698.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
699.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
700. 
701.     def test_self_relation(self):
702.         """
703.         #24513 - Modifying an object pointing to itself would cause it to be
704.         rendered twice and thus breaking its related M2M through objects.
705.         """
706.         class A(models.Model):
707.             to_a = models.ManyToManyField('something.A', symmetrical=False)
708. 
709.             class Meta:
710.                 app_label = "something"
711. 
712.         def get_model_a(state):
713.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
714. 
715.         project_state = ProjectState()
716.         project_state.add_model(ModelState.from_model(A))
717.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
718.         old_state = project_state.clone()
719. 
720.         operation = AlterField(
721.             model_name="a",
722.             name="to_a",
723.             field=models.ManyToManyField("something.A", symmetrical=False, blank=True)
724.         )
725.         # At this point the model would be rendered twice causing its related
726.         # M2M through objects to point to an old copy and thus breaking their
727.         # attribute lookup.
728.         operation.state_forwards("something", project_state)
729. 
730.         model_a_old = get_model_a(old_state)
731.         model_a_new = get_model_a(project_state)
732.         self.assertIsNot(model_a_old, model_a_new)
733. 
734.         # The old model's _meta is still consistent
735.         field_to_a_old = model_a_old._meta.get_field("to_a")
736.         self.assertEqual(field_to_a_old.m2m_field_name(), "from_a")
737.         self.assertEqual(field_to_a_old.m2m_reverse_field_name(), "to_a")
738.         self.assertIs(field_to_a_old.related_model, model_a_old)
739.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('to_a').related_model, model_a_old)
740.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('from_a').related_model, model_a_old)
741. 
742.         # The new model's _meta is still consistent
743.         field_to_a_new = model_a_new._meta.get_field("to_a")
744.         self.assertEqual(field_to_a_new.m2m_field_name(), "from_a")
745.         self.assertEqual(field_to_a_new.m2m_reverse_field_name(), "to_a")
746.         self.assertIs(field_to_a_new.related_model, model_a_new)
747.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('to_a').related_model, model_a_new)
748.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('from_a').related_model, model_a_new)
749. 
750.     def test_equality(self):
751.         """
752.         == and != are implemented correctly.
753.         """
754.         # Test two things that should be equal
755.         project_state = ProjectState()
756.         project_state.add_model(ModelState(
757.             "migrations",
758.             "Tag",
759.             [
760.                 ("id", models.AutoField(primary_key=True)),
761.                 ("name", models.CharField(max_length=100)),
762.                 ("hidden", models.BooleanField()),
763.             ],
764.             {},
765.             None,
766.         ))
767.         project_state.apps  # Fill the apps cached property
768.         other_state = project_state.clone()
769.         self.assertEqual(project_state, project_state)
770.         self.assertEqual(project_state, other_state)
771.         self.assertIs(project_state != project_state, False)
772.         self.assertIs(project_state != other_state, False)
773.         self.assertNotEqual(project_state.apps, other_state.apps)
774. 
775.         # Make a very small change (max_len 99) and see if that affects it
776.         project_state = ProjectState()
777.         project_state.add_model(ModelState(
778.             "migrations",
779.             "Tag",
780.             [
781.                 ("id", models.AutoField(primary_key=True)),
782.                 ("name", models.CharField(max_length=99)),
783.                 ("hidden", models.BooleanField()),
784.             ],
785.             {},
786.             None,
787.         ))
788.         self.assertNotEqual(project_state, other_state)
789.         self.assertIs(project_state == other_state, False)
790. 
791.     def test_dangling_references_throw_error(self):
792.         new_apps = Apps()
793. 
794.         class Author(models.Model):
795.             name = models.TextField()
796. 
797.             class Meta:
798.                 app_label = "migrations"
799.                 apps = new_apps
800. 
801.         class Publisher(models.Model):
802.             name = models.TextField()
803. 
804.             class Meta:
805.                 app_label = "migrations"
806.                 apps = new_apps
807. 
808.         class Book(models.Model):
809.             author = models.ForeignKey(Author, models.CASCADE)
810.             publisher = models.ForeignKey(Publisher, models.CASCADE)
811. 
812.             class Meta:
813.                 app_label = "migrations"
814.                 apps = new_apps
815. 
816.         class Magazine(models.Model):
817.             authors = models.ManyToManyField(Author)
818. 
819.             class Meta:
820.                 app_label = "migrations"
821.                 apps = new_apps
822. 
823.         # Make a valid ProjectState and render it
824.         project_state = ProjectState()
825.         project_state.add_model(ModelState.from_model(Author))
826.         project_state.add_model(ModelState.from_model(Publisher))
827.         project_state.add_model(ModelState.from_model(Book))
828.         project_state.add_model(ModelState.from_model(Magazine))
829.         self.assertEqual(len(project_state.apps.get_models()), 4)
830. 
831.         # now make an invalid one with a ForeignKey
832.         project_state = ProjectState()
833.         project_state.add_model(ModelState.from_model(Book))
834.         msg = (
835.             "The field migrations.Book.author was declared with a lazy reference "
836.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
837.             "The field migrations.Book.publisher was declared with a lazy reference "
838.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'."
839.         )
840.         with self.assertRaisesMessage(ValueError, msg):
841.             project_state.apps
842. 
843.         # And another with ManyToManyField.
844.         project_state = ProjectState()
845.         project_state.add_model(ModelState.from_model(Magazine))
846.         msg = (
847.             "The field migrations.Magazine.authors was declared with a lazy reference "
848.             "to 'migrations.author\', but app 'migrations' doesn't provide model 'author'.\n"
849.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
850.             "to \'migrations.author\', but app 'migrations' doesn't provide model 'author'."
851.         )
852.         with self.assertRaisesMessage(ValueError, msg):
853.             project_state.apps
854. 
855.         # And now with multiple models and multiple fields.
856.         project_state.add_model(ModelState.from_model(Book))
857.         msg = (
858.             "The field migrations.Book.author was declared with a lazy reference "
859.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
860.             "The field migrations.Book.publisher was declared with a lazy reference "
861.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'.\n"
862.             "The field migrations.Magazine.authors was declared with a lazy reference "
863.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
864.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
865.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'."
866.         )
867.         with self.assertRaisesMessage(ValueError, msg):
868.             project_state.apps
869. 
870.     def test_reference_mixed_case_app_label(self):
871.         new_apps = Apps()
872. 
873.         class Author(models.Model):
874.             class Meta:
875.                 app_label = 'MiXedCase_migrations'
876.                 apps = new_apps
877. 
878.         class Book(models.Model):
879.             author = models.ForeignKey(Author, models.CASCADE)
880. 
881.             class Meta:
882.                 app_label = 'MiXedCase_migrations'
883.                 apps = new_apps
884. 
885.         class Magazine(models.Model):
886.             authors = models.ManyToManyField(Author)
887. 
888.             class Meta:
889.                 app_label = 'MiXedCase_migrations'
890.                 apps = new_apps
891. 
892.         project_state = ProjectState()
893.         project_state.add_model(ModelState.from_model(Author))
894.         project_state.add_model(ModelState.from_model(Book))
895.         project_state.add_model(ModelState.from_model(Magazine))
896.         self.assertEqual(len(project_state.apps.get_models()), 3)
897. 
898.     def test_real_apps(self):
899.         """
900.         Including real apps can resolve dangling FK errors.
901.         This test relies on the fact that contenttypes is always loaded.
902.         """
903.         new_apps = Apps()
904. 
905.         class TestModel(models.Model):
906.             ct = models.ForeignKey("contenttypes.ContentType", models.CASCADE)
907. 
908.             class Meta:
909.                 app_label = "migrations"
910.                 apps = new_apps
911. 
912.         # If we just stick it into an empty state it should fail
913.         project_state = ProjectState()
914.         project_state.add_model(ModelState.from_model(TestModel))
915.         with self.assertRaises(ValueError):
916.             project_state.apps
917. 
918.         # If we include the real app it should succeed
919.         project_state = ProjectState(real_apps={'contenttypes'})
920.         project_state.add_model(ModelState.from_model(TestModel))
921.         rendered_state = project_state.apps
922.         self.assertEqual(
923.             len([x for x in rendered_state.get_models() if x._meta.app_label == "migrations"]),
924.             1,
925.         )
926. 
927.     def test_ignore_order_wrt(self):
928.         """
929.         Makes sure ProjectState doesn't include OrderWrt fields when
930.         making from existing models.
931.         """
932.         new_apps = Apps()
933. 
934.         class Author(models.Model):
935.             name = models.TextField()
936. 
937.             class Meta:
938.                 app_label = "migrations"
939.                 apps = new_apps
940. 
941.         class Book(models.Model):
942.             author = models.ForeignKey(Author, models.CASCADE)
943. 
944.             class Meta:
945.                 app_label = "migrations"
946.                 apps = new_apps
947.                 order_with_respect_to = "author"
948. 
949.         # Make a valid ProjectState and render it
950.         project_state = ProjectState()
951.         project_state.add_model(ModelState.from_model(Author))
952.         project_state.add_model(ModelState.from_model(Book))
953.         self.assertEqual(
954.             list(project_state.models['migrations', 'book'].fields),
955.             ["id", "author"],
956.         )
957. 
958.     def test_manager_refer_correct_model_version(self):
959.         """
960.         #24147 - Managers refer to the correct version of a
961.         historical model
962.         """
963.         project_state = ProjectState()
964.         project_state.add_model(ModelState(
965.             app_label="migrations",
966.             name="Tag",
967.             fields=[
968.                 ("id", models.AutoField(primary_key=True)),
969.                 ("hidden", models.BooleanField()),
970.             ],
971.             managers=[
972.                 ('food_mgr', FoodManager('a', 'b')),
973.                 ('food_qs', FoodQuerySet.as_manager()),
974.             ]
975.         ))
976. 
977.         old_model = project_state.apps.get_model('migrations', 'tag')
978. 
979.         new_state = project_state.clone()
980.         operation = RemoveField("tag", "hidden")
981.         operation.state_forwards("migrations", new_state)
982. 
983.         new_model = new_state.apps.get_model('migrations', 'tag')
984. 
985.         self.assertIsNot(old_model, new_model)
986.         self.assertIs(old_model, old_model.food_mgr.model)
987.         self.assertIs(old_model, old_model.food_qs.model)
988.         self.assertIs(new_model, new_model.food_mgr.model)
989.         self.assertIs(new_model, new_model.food_qs.model)
990.         self.assertIsNot(old_model.food_mgr, new_model.food_mgr)
991.         self.assertIsNot(old_model.food_qs, new_model.food_qs)
992.         self.assertIsNot(old_model.food_mgr.model, new_model.food_mgr.model)
993.         self.assertIsNot(old_model.food_qs.model, new_model.food_qs.model)
994. 
995.     def test_choices_iterator(self):
996.         """
997.         #24483 - ProjectState.from_apps should not destructively consume
998.         Field.choices iterators.
999.         """
1000.         new_apps = Apps(["migrations"])
1001.         choices = [('a', 'A'), ('b', 'B')]
1002. 
1003.         class Author(models.Model):
1004.             name = models.CharField(max_length=255)
1005.             choice = models.CharField(max_length=255, choices=iter(choices))
1006. 
1007.             class Meta:
1008.                 app_label = "migrations"
1009.                 apps = new_apps
1010. 
1011.         ProjectState.from_apps(new_apps)
1012.         choices_field = Author._meta.get_field('choice')
1013.         self.assertEqual(list(choices_field.choices), choices)
1014. 
1015. 
1016. class ModelStateTests(SimpleTestCase):
1017.     def test_custom_model_base(self):
1018.         state = ModelState.from_model(ModelWithCustomBase)
1019.         self.assertEqual(state.bases, (models.Model,))
1020. 
1021.     def test_bound_field_sanity_check(self):
1022.         field = models.CharField(max_length=1)
1023.         field.model = models.Model
1024.         with self.assertRaisesMessage(ValueError, 'ModelState.fields cannot be bound to a model - "field" is.'):
1025.             ModelState('app', 'Model', [('field', field)])
1026. 
1027.     def test_sanity_check_to(self):
1028.         field = models.ForeignKey(UnicodeModel, models.CASCADE)
1029.         with self.assertRaisesMessage(
1030.             ValueError,
1031.             'ModelState.fields cannot refer to a model class - "field.to" does. '
1032.             'Use a string reference instead.'
1033.         ):
1034.             ModelState('app', 'Model', [('field', field)])
1035. 
1036.     def test_sanity_check_through(self):
1037.         field = models.ManyToManyField('UnicodeModel')
1038.         field.remote_field.through = UnicodeModel
1039.         with self.assertRaisesMessage(
1040.             ValueError,
1041.             'ModelState.fields cannot refer to a model class - "field.through" does. '
1042.             'Use a string reference instead.'
1043.         ):
1044.             ModelState('app', 'Model', [('field', field)])
1045. 
1046.     def test_sanity_index_name(self):
1047.         field = models.IntegerField()
1048.         options = {'indexes': [models.Index(fields=['field'])]}
1049.         msg = (
1050.             "Indexes passed to ModelState require a name attribute. <Index: "
1051.             "fields=['field']> doesn't have one."
1052.         )
1053.         with self.assertRaisesMessage(ValueError, msg):
1054.             ModelState('app', 'Model', [('field', field)], options=options)
1055. 
1056.     def test_fields_immutability(self):
1057.         """
1058.         Rendering a model state doesn't alter its internal fields.
1059.         """
1060.         apps = Apps()
1061.         field = models.CharField(max_length=1)
1062.         state = ModelState('app', 'Model', [('name', field)])
1063.         Model = state.render(apps)
1064.         self.assertNotEqual(Model._meta.get_field('name'), field)
1065. 
1066.     def test_repr(self):
1067.         field = models.CharField(max_length=1)
1068.         state = ModelState('app', 'Model', [('name', field)], bases=['app.A', 'app.B', 'app.C'])
1069.         self.assertEqual(repr(state), "<ModelState: 'app.Model'>")
1070. 
1071.         project_state = ProjectState()
1072.         project_state.add_model(state)
1073.         with self.assertRaisesMessage(InvalidBasesError, "Cannot resolve bases for [<ModelState: 'app.Model'>]"):
1074.             project_state.apps
1075. 
1076.     def test_fields_ordering_equality(self):
1077.         state = ModelState(
1078.             'migrations',
1079.             'Tag',
1080.             [
1081.                 ('id', models.AutoField(primary_key=True)),
1082.                 ('name', models.CharField(max_length=100)),
1083.                 ('hidden', models.BooleanField()),
1084.             ],
1085.         )
1086.         reordered_state = ModelState(
1087.             'migrations',
1088.             'Tag',
1089.             [
1090.                 ('id', models.AutoField(primary_key=True)),
1091.                 # Purposely re-ordered.
1092.                 ('hidden', models.BooleanField()),
1093.                 ('name', models.CharField(max_length=100)),
1094.             ],
1095.         )
1096.         self.assertEqual(state, reordered_state)
1097. 
1098.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1099.     def test_create_swappable(self):
1100.         """
1101.         Tests making a ProjectState from an Apps with a swappable model
1102.         """
1103.         new_apps = Apps(['migrations'])
1104. 
1105.         class Author(models.Model):
1106.             name = models.CharField(max_length=255)
1107.             bio = models.TextField()
1108.             age = models.IntegerField(blank=True, null=True)
1109. 
1110.             class Meta:
1111.                 app_label = 'migrations'
1112.                 apps = new_apps
1113.                 swappable = 'TEST_SWAPPABLE_MODEL'
1114. 
1115.         author_state = ModelState.from_model(Author)
1116.         self.assertEqual(author_state.app_label, 'migrations')
1117.         self.assertEqual(author_state.name, 'Author')
1118.         self.assertEqual(list(author_state.fields), ['id', 'name', 'bio', 'age'])
1119.         self.assertEqual(author_state.fields['name'].max_length, 255)
1120.         self.assertIs(author_state.fields['bio'].null, False)
1121.         self.assertIs(author_state.fields['age'].null, True)
1122.         self.assertEqual(author_state.options, {'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], "constraints": []})
1123.         self.assertEqual(author_state.bases, (models.Model,))
1124.         self.assertEqual(author_state.managers, [])
1125. 
1126.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1127.     def test_create_swappable_from_abstract(self):
1128.         """
1129.         A swappable model inheriting from a hierarchy:
1130.         concrete -> abstract -> concrete.
1131.         """
1132.         new_apps = Apps(['migrations'])
1133. 
1134.         class SearchableLocation(models.Model):
1135.             keywords = models.CharField(max_length=256)
1136. 
1137.             class Meta:
1138.                 app_label = 'migrations'
1139.                 apps = new_apps
1140. 
1141.         class Station(SearchableLocation):
1142.             name = models.CharField(max_length=128)
1143. 
1144.             class Meta:
1145.                 abstract = True
1146. 
1147.         class BusStation(Station):
1148.             bus_routes = models.CharField(max_length=128)
1149.             inbound = models.BooleanField(default=False)
1150. 
1151.             class Meta(Station.Meta):
1152.                 app_label = 'migrations'
1153.                 apps = new_apps
1154.                 swappable = 'TEST_SWAPPABLE_MODEL'
1155. 
1156.         station_state = ModelState.from_model(BusStation)
1157.         self.assertEqual(station_state.app_label, 'migrations')
1158.         self.assertEqual(station_state.name, 'BusStation')
1159.         self.assertEqual(
1160.             list(station_state.fields),
1161.             ['searchablelocation_ptr', 'name', 'bus_routes', 'inbound']
1162.         )
1163.         self.assertEqual(station_state.fields['name'].max_length, 128)
1164.         self.assertIs(station_state.fields['bus_routes'].null, False)
1165.         self.assertEqual(
1166.             station_state.options,
1167.             {'abstract': False, 'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], 'constraints': []}
1168.         )
1169.         self.assertEqual(station_state.bases, ('migrations.searchablelocation',))
1170.         self.assertEqual(station_state.managers, [])
1171. 
1172.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1173.     def test_custom_manager_swappable(self):
1174.         """
1175.         Tests making a ProjectState from unused models with custom managers
1176.         """
1177.         new_apps = Apps(['migrations'])
1178. 
1179.         class Food(models.Model):
1180. 
1181.             food_mgr = FoodManager('a', 'b')
1182.             food_qs = FoodQuerySet.as_manager()
1183.             food_no_mgr = NoMigrationFoodManager('x', 'y')
1184. 
1185.             class Meta:
1186.                 app_label = "migrations"
1187.                 apps = new_apps
1188.                 swappable = 'TEST_SWAPPABLE_MODEL'
1189. 
1190.         food_state = ModelState.from_model(Food)
1191. 
1192.         # The default manager is used in migrations
1193.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
1194.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
1195. 
1196.     @isolate_apps('migrations', 'django.contrib.contenttypes')
1197.     def test_order_with_respect_to_private_field(self):
1198.         class PrivateFieldModel(models.Model):
1199.             content_type = models.ForeignKey('contenttypes.ContentType', models.CASCADE)
1200.             object_id = models.PositiveIntegerField()
1201.             private = GenericForeignKey()
1202. 
1203.             class Meta:
1204.                 order_with_respect_to = 'private'
1205. 
1206.         state = ModelState.from_model(PrivateFieldModel)
1207.         self.assertNotIn('order_with_respect_to', state.options)
1208. 
1209.     @isolate_apps('migrations')
1210.     def test_abstract_model_children_inherit_indexes(self):
1211.         class Abstract(models.Model):
1212.             name = models.CharField(max_length=50)
1213. 
1214.             class Meta:
1215.                 app_label = 'migrations'
1216.                 abstract = True
1217.                 indexes = [models.Index(fields=['name'])]
1218. 
1219.         class Child1(Abstract):
1220.             pass
1221. 
1222.         class Child2(Abstract):
1223.             pass
1224. 
1225.         child1_state = ModelState.from_model(Child1)
1226.         child2_state = ModelState.from_model(Child2)
1227.         index_names = [index.name for index in child1_state.options['indexes']]
1228.         self.assertEqual(index_names, ['migrations__name_b0afd7_idx'])
1229.         index_names = [index.name for index in child2_state.options['indexes']]
1230.         self.assertEqual(index_names, ['migrations__name_016466_idx'])
1231. 
1232.         # Modifying the state doesn't modify the index on the model.
1233.         child1_state.options['indexes'][0].name = 'bar'
1234.         self.assertEqual(Child1._meta.indexes[0].name, 'migrations__name_b0afd7_idx')
1235. 
1236.     @isolate_apps('migrations')
1237.     def test_explicit_index_name(self):
1238.         class TestModel(models.Model):
1239.             name = models.CharField(max_length=50)
1240. 
1241.             class Meta:
1242.                 app_label = 'migrations'
1243.                 indexes = [models.Index(fields=['name'], name='foo_idx')]
1244. 
1245.         model_state = ModelState.from_model(TestModel)
1246.         index_names = [index.name for index in model_state.options['indexes']]
1247.         self.assertEqual(index_names, ['foo_idx'])
1248. 
1249.     @isolate_apps('migrations')
1250.     def test_from_model_constraints(self):
1251.         class ModelWithConstraints(models.Model):
1252.             size = models.IntegerField()
1253. 
1254.             class Meta:
1255.                 constraints = [models.CheckConstraint(check=models.Q(size__gt=1), name='size_gt_1')]
1256. 
1257.         state = ModelState.from_model(ModelWithConstraints)
1258.         model_constraints = ModelWithConstraints._meta.constraints
1259.         state_constraints = state.options['constraints']
1260.         self.assertEqual(model_constraints, state_constraints)
1261.         self.assertIsNot(model_constraints, state_constraints)
1262.         self.assertIsNot(model_constraints[0], state_constraints[0])
1263. 
1264. 
1265. class RelatedModelsTests(SimpleTestCase):
1266. 
1267.     def setUp(self):
1268.         self.apps = Apps(['migrations.related_models_app'])
1269. 
1270.     def create_model(self, name, foreign_keys=[], bases=(), abstract=False, proxy=False):
1271.         test_name = 'related_models_app'
1272.         assert not (abstract and proxy)
1273.         meta_contents = {
1274.             'abstract': abstract,
1275.             'app_label': test_name,
1276.             'apps': self.apps,
1277.             'proxy': proxy,
1278.         }
1279.         meta = type("Meta", (), meta_contents)
1280.         if not bases:
1281.             bases = (models.Model,)
1282.         body = {
1283.             'Meta': meta,
1284.             '__module__': "__fake__",
1285.         }
1286.         fname_base = fname = '%s_%%d' % name.lower()
1287.         for i, fk in enumerate(foreign_keys, 1):
1288.             fname = fname_base % i
1289.             body[fname] = fk
1290.         return type(name, bases, body)
1291. 
1292.     def assertRelated(self, model, needle):
1293.         self.assertEqual(
1294.             get_related_models_recursive(model),
1295.             {(n._meta.app_label, n._meta.model_name) for n in needle},
1296.         )
1297. 
1298.     def test_unrelated(self):
1299.         A = self.create_model("A")
1300.         B = self.create_model("B")
1301.         self.assertRelated(A, [])
1302.         self.assertRelated(B, [])
1303. 
1304.     def test_direct_fk(self):
1305.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1306.         B = self.create_model("B")
1307.         self.assertRelated(A, [B])
1308.         self.assertRelated(B, [A])
1309. 
1310.     def test_direct_hidden_fk(self):
1311.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE, related_name='+')])
1312.         B = self.create_model("B")
1313.         self.assertRelated(A, [B])
1314.         self.assertRelated(B, [A])
1315. 
1316.     def test_fk_through_proxy(self):
1317.         A = self.create_model("A")
1318.         B = self.create_model("B", bases=(A,), proxy=True)
1319.         C = self.create_model("C", bases=(B,), proxy=True)
1320.         D = self.create_model("D", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1321.         self.assertRelated(A, [B, C, D])
1322.         self.assertRelated(B, [A, C, D])
1323.         self.assertRelated(C, [A, B, D])
1324.         self.assertRelated(D, [A, B, C])
1325. 
1326.     def test_nested_fk(self):
1327.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1328.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1329.         C = self.create_model("C")
1330.         self.assertRelated(A, [B, C])
1331.         self.assertRelated(B, [A, C])
1332.         self.assertRelated(C, [A, B])
1333. 
1334.     def test_two_sided(self):
1335.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1336.         B = self.create_model("B", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1337.         self.assertRelated(A, [B])
1338.         self.assertRelated(B, [A])
1339. 
1340.     def test_circle(self):
1341.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1342.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1343.         C = self.create_model("C", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1344.         self.assertRelated(A, [B, C])
1345.         self.assertRelated(B, [A, C])
1346.         self.assertRelated(C, [A, B])
1347. 
1348.     def test_base(self):
1349.         A = self.create_model("A")
1350.         B = self.create_model("B", bases=(A,))
1351.         self.assertRelated(A, [B])
1352.         self.assertRelated(B, [A])
1353. 
1354.     def test_nested_base(self):
1355.         A = self.create_model("A")
1356.         B = self.create_model("B", bases=(A,))
1357.         C = self.create_model("C", bases=(B,))
1358.         self.assertRelated(A, [B, C])
1359.         self.assertRelated(B, [A, C])
1360.         self.assertRelated(C, [A, B])
1361. 
1362.     def test_multiple_bases(self):
1363.         A = self.create_model("A")
1364.         B = self.create_model("B")
1365.         C = self.create_model("C", bases=(A, B,))
1366.         self.assertRelated(A, [B, C])
1367.         self.assertRelated(B, [A, C])
1368.         self.assertRelated(C, [A, B])
1369. 
1370.     def test_multiple_nested_bases(self):
1371.         A = self.create_model("A")
1372.         B = self.create_model("B")
1373.         C = self.create_model("C", bases=(A, B,))
1374.         D = self.create_model("D")
1375.         E = self.create_model("E", bases=(D,))
1376.         F = self.create_model("F", bases=(C, E,))
1377.         Y = self.create_model("Y")
1378.         Z = self.create_model("Z", bases=(Y,))
1379.         self.assertRelated(A, [B, C, D, E, F])
1380.         self.assertRelated(B, [A, C, D, E, F])
1381.         self.assertRelated(C, [A, B, D, E, F])
1382.         self.assertRelated(D, [A, B, C, E, F])
1383.         self.assertRelated(E, [A, B, C, D, F])
1384.         self.assertRelated(F, [A, B, C, D, E])
1385.         self.assertRelated(Y, [Z])
1386.         self.assertRelated(Z, [Y])
1387. 
1388.     def test_base_to_base_fk(self):
1389.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Y', models.CASCADE)])
1390.         B = self.create_model("B", bases=(A,))
1391.         Y = self.create_model("Y")
1392.         Z = self.create_model("Z", bases=(Y,))
1393.         self.assertRelated(A, [B, Y, Z])
1394.         self.assertRelated(B, [A, Y, Z])
1395.         self.assertRelated(Y, [A, B, Z])
1396.         self.assertRelated(Z, [A, B, Y])
1397. 
1398.     def test_base_to_subclass_fk(self):
1399.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Z', models.CASCADE)])
1400.         B = self.create_model("B", bases=(A,))
1401.         Y = self.create_model("Y")
1402.         Z = self.create_model("Z", bases=(Y,))
1403.         self.assertRelated(A, [B, Y, Z])
1404.         self.assertRelated(B, [A, Y, Z])
1405.         self.assertRelated(Y, [A, B, Z])
1406.         self.assertRelated(Z, [A, B, Y])
1407. 
1408.     def test_direct_m2m(self):
1409.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B')])
1410.         B = self.create_model("B")
1411.         self.assertRelated(A, [A.a_1.rel.through, B])
1412.         self.assertRelated(B, [A, A.a_1.rel.through])
1413. 
1414.     def test_direct_m2m_self(self):
1415.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A')])
1416.         self.assertRelated(A, [A.a_1.rel.through])
1417. 
1418.     def test_intermediate_m2m_self(self):
1419.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A', through='T')])
1420.         T = self.create_model("T", foreign_keys=[
1421.             models.ForeignKey('A', models.CASCADE),
1422.             models.ForeignKey('A', models.CASCADE),
1423.         ])
1424.         self.assertRelated(A, [T])
1425.         self.assertRelated(T, [A])
1426. 
1427.     def test_intermediate_m2m(self):
1428.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1429.         B = self.create_model("B")
1430.         T = self.create_model("T", foreign_keys=[
1431.             models.ForeignKey('A', models.CASCADE),
1432.             models.ForeignKey('B', models.CASCADE),
1433.         ])
1434.         self.assertRelated(A, [B, T])
1435.         self.assertRelated(B, [A, T])
1436.         self.assertRelated(T, [A, B])
1437. 
1438.     def test_intermediate_m2m_extern_fk(self):
1439.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1440.         B = self.create_model("B")
1441.         Z = self.create_model("Z")
1442.         T = self.create_model("T", foreign_keys=[
1443.             models.ForeignKey('A', models.CASCADE),
1444.             models.ForeignKey('B', models.CASCADE),
1445.             models.ForeignKey('Z', models.CASCADE),
1446.         ])
1447.         self.assertRelated(A, [B, T, Z])
1448.         self.assertRelated(B, [A, T, Z])
1449.         self.assertRelated(T, [A, B, Z])
1450.         self.assertRelated(Z, [A, B, T])
1451. 
1452.     def test_intermediate_m2m_base(self):
1453.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1454.         B = self.create_model("B")
1455.         S = self.create_model("S")
1456.         T = self.create_model("T", foreign_keys=[
1457.             models.ForeignKey('A', models.CASCADE),
1458.             models.ForeignKey('B', models.CASCADE),
1459.         ], bases=(S,))
1460.         self.assertRelated(A, [B, S, T])
1461.         self.assertRelated(B, [A, S, T])
1462.         self.assertRelated(S, [A, B, T])
1463.         self.assertRelated(T, [A, B, S])
1464. 
1465.     def test_generic_fk(self):
1466.         A = self.create_model("A", foreign_keys=[
1467.             models.ForeignKey('B', models.CASCADE),
1468.             GenericForeignKey(),
1469.         ])
1470.         B = self.create_model("B", foreign_keys=[
1471.             models.ForeignKey('C', models.CASCADE),
1472.         ])
1473.         self.assertRelated(A, [B])
1474.         self.assertRelated(B, [A])
1475. 
1476.     def test_abstract_base(self):
1477.         A = self.create_model("A", abstract=True)
1478.         B = self.create_model("B", bases=(A,))
1479.         self.assertRelated(A, [B])
1480.         self.assertRelated(B, [])
1481. 
1482.     def test_nested_abstract_base(self):
1483.         A = self.create_model("A", abstract=True)
1484.         B = self.create_model("B", bases=(A,), abstract=True)
1485.         C = self.create_model("C", bases=(B,))
1486.         self.assertRelated(A, [B, C])
1487.         self.assertRelated(B, [C])
1488.         self.assertRelated(C, [])
1489. 
1490.     def test_proxy_base(self):
1491.         A = self.create_model("A")
1492.         B = self.create_model("B", bases=(A,), proxy=True)
1493.         self.assertRelated(A, [B])
1494.         self.assertRelated(B, [])
1495. 
1496.     def test_nested_proxy_base(self):
1497.         A = self.create_model("A")
1498.         B = self.create_model("B", bases=(A,), proxy=True)
1499.         C = self.create_model("C", bases=(B,), proxy=True)
1500.         self.assertRelated(A, [B, C])
1501.         self.assertRelated(B, [C])
1502.         self.assertRelated(C, [])
1503. 
1504.     def test_multiple_mixed_bases(self):
1505.         A = self.create_model("A", abstract=True)
1506.         M = self.create_model("M")
1507.         P = self.create_model("P")
1508.         Q = self.create_model("Q", bases=(P,), proxy=True)
1509.         Z = self.create_model("Z", bases=(A, M, Q))
1510.         # M has a pointer O2O field p_ptr to P
1511.         self.assertRelated(A, [M, P, Q, Z])
1512.         self.assertRelated(M, [P, Q, Z])
1513.         self.assertRelated(P, [M, Q, Z])
1514.         self.assertRelated(Q, [M, P, Z])
1515.         self.assertRelated(Z, [M, P, Q])

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 09:06:28,446 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants test cases for a change in `ProjectState.__init__` related to the `real_apps` parameter. The provided test file, `tests/migrations/test_state.py`, has one direct use case (`test_real_apps`). However, many other tests use `ProjectState.from_apps()` or `project_state.clone()` to instantiate `ProjectState`. To determine if these are relevant test cases, I need to inspect the implementation of `from_apps()` and `clone()` to see how they call `ProjectState.__init__` and how they handle the `real_apps` parameter. This implementation is in `django/db/migrations/state.py`, which is not in the current context.' query='Please provide the full content of django/db/migrations/state.py.' extra_requirements='If the full file is too large, please at least provide the implementation of the `ProjectState` class, including the `__init__`, `clone`, and `from_apps` methods.' purpose='This will allow me to understand all the ways `ProjectState` is instantiated in the tests and select the three most relevant test cases that cover the usage of the `real_apps` parameter.'
2025-12-23 09:06:28,447 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of django/db/migrations/state.py.
2025-12-23 09:06:28,447 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 09:06:28,448 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 09:06:28,448 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 09:06:28,448 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of django/db/migrations/state.py.
Extra requirements: If the full file is too large, please at least provide the implementation of the `ProjectState` class, including the `__init__`, `clone`, and `from_apps` methods.
Purpose: This will allow me to understand all the ways `ProjectState` is instantiated in the tests and select the three most relevant test cases that cover the usage of the `real_apps` parameter.
2025-12-23 09:06:32,282 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will first attempt to retrieve the entire content of `django/db/migrations/state.py`. If the file proves to be too large for a single read, I will then specifically locate the `ProjectState` class within it. Finally, I will extract and provide the implementations of its `__init__`, `clone`, and `from_apps` methods.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/migrations/state.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2159, 'candidates_token_count': 98, 'total_token_count': 2513, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2159}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 98}], 'thoughts_token_count': 256, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2856085641043527, 'model_name': 'gemini-2.5-pro'} id='run--442cd651-0641-4c82-a9f7-98f6fde21290-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/migrations/state.py'}, 'id': 'a4d4fe3e-6ad4-4e9d-9f3b-7b8587310856', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2159, 'output_tokens': 98, 'total_tokens': 2513, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 256}}
2025-12-23 09:06:36,804 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the initial 500 lines of the `django/db/migrations/state.py` file. Since the file is larger than that, I will now proceed to read the remaining content to provide you with the complete file.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "django/db/migrations/state.py", "end_line": 2000.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10419, 'candidates_token_count': 80, 'total_token_count': 10694, 'cached_content_token_count': 1861, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10419}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1861}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 80}], 'thoughts_token_count': 195}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2319239616394043, 'model_name': 'gemini-2.5-pro'} id='run--c0bef58b-062a-4fdb-bf98-e1f421e6975e-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'django/db/migrations/state.py', 'end_line': 2000.0}, 'id': '346fbd98-0e3c-4bdf-866b-6729db3ce882', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10419, 'output_tokens': 80, 'total_tokens': 10694, 'input_token_details': {'cache_read': 1861}, 'output_token_details': {'reasoning': 195}}
2025-12-23 09:06:49,128 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of `django/db/migrations/state.py`. The file was read in two parts to ensure the full content was captured. You can now view the complete file in the tool output.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 15436, 'candidates_token_count': 46, 'total_token_count': 16759, 'cached_content_token_count': 9487, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15436}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9487}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 46}], 'thoughts_token_count': 1277}, 'finish_reason': 'STOP', 'avg_logprobs': -4.526921811311142, 'model_name': 'gemini-2.5-pro'} id='run--39cf91f7-2304-41f5-9352-1112959cfadf-0' usage_metadata={'input_tokens': 15436, 'output_tokens': 46, 'total_tokens': 16759, 'input_token_details': {'cache_read': 9487}, 'output_token_details': {'reasoning': 1277}}
2025-12-23 09:06:49,136 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of django/db/migrations/state.py.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If the full file is too large, please at least provide the implementation of the `ProjectState` class, including the `__init__`, `clone`, and `from_apps` methods.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
This will allow me to understand all the ways `ProjectState` is instantiated in the tests and select the three most relevant test cases that cover the usage of the `real_apps` parameter.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/migrations/state.py
Line number range: 1 - 500
Content:
1. import copy
2. from collections import defaultdict
3. from contextlib import contextmanager
4. from functools import partial
5. 
6. from django.apps import AppConfig
7. from django.apps.registry import Apps, apps as global_apps
8. from django.conf import settings
9. from django.core.exceptions import FieldDoesNotExist
10. from django.db import models
11. from django.db.migrations.utils import field_is_referenced, get_references
12. from django.db.models import NOT_PROVIDED
13. from django.db.models.fields.related import RECURSIVE_RELATIONSHIP_CONSTANT
14. from django.db.models.options import DEFAULT_NAMES, normalize_together
15. from django.db.models.utils import make_model_tuple
16. from django.utils.functional import cached_property
17. from django.utils.module_loading import import_string
18. from django.utils.version import get_docs_version
19. 
20. from .exceptions import InvalidBasesError
21. from .utils import resolve_relation
22. 
23. 
24. def _get_app_label_and_model_name(model, app_label=''):
25.     if isinstance(model, str):
26.         split = model.split('.', 1)
27.         return tuple(split) if len(split) == 2 else (app_label, split[0])
28.     else:
29.         return model._meta.app_label, model._meta.model_name
30. 
31. 
32. def _get_related_models(m):
33.     """Return all models that have a direct relationship to the given model."""
34.     related_models = [
35.         subclass for subclass in m.__subclasses__()
36.         if issubclass(subclass, models.Model)
37.     ]
38.     related_fields_models = set()
39.     for f in m._meta.get_fields(include_parents=True, include_hidden=True):
40.         if f.is_relation and f.related_model is not None and not isinstance(f.related_model, str):
41.             related_fields_models.add(f.model)
42.             related_models.append(f.related_model)
43.     # Reverse accessors of foreign keys to proxy models are attached to their
44.     # concrete proxied model.
45.     opts = m._meta
46.     if opts.proxy and m in related_fields_models:
47.         related_models.append(opts.concrete_model)
48.     return related_models
49. 
50. 
51. def get_related_models_tuples(model):
52.     """
53.     Return a list of typical (app_label, model_name) tuples for all related
54.     models for the given model.
55.     """
56.     return {
57.         (rel_mod._meta.app_label, rel_mod._meta.model_name)
58.         for rel_mod in _get_related_models(model)
59.     }
60. 
61. 
62. def get_related_models_recursive(model):
63.     """
64.     Return all models that have a direct or indirect relationship
65.     to the given model.
66. 
67.     Relationships are either defined by explicit relational fields, like
68.     ForeignKey, ManyToManyField or OneToOneField, or by inheriting from another
69.     model (a superclass is related to its subclasses, but not vice versa). Note,
70.     however, that a model inheriting from a concrete model is also related to
71.     its superclass through the implicit *_ptr OneToOneField on the subclass.
72.     """
73.     seen = set()
74.     queue = _get_related_models(model)
75.     for rel_mod in queue:
76.         rel_app_label, rel_model_name = rel_mod._meta.app_label, rel_mod._meta.model_name
77.         if (rel_app_label, rel_model_name) in seen:
78.             continue
79.         seen.add((rel_app_label, rel_model_name))
80.         queue.extend(_get_related_models(rel_mod))
81.     return seen - {(model._meta.app_label, model._meta.model_name)}
82. 
83. 
84. class ProjectState:
85.     """
86.     Represent the entire project's overall state. This is the item that is
87.     passed around - do it here rather than at the app level so that cross-app
88.     FKs/etc. resolve properly.
89.     """
90. 
91.     def __init__(self, models=None, real_apps=None):
92.         self.models = models or {}
93.         # Apps to include from main registry, usually unmigrated ones
94.         if real_apps:
95.             self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
96.         else:
97.             self.real_apps = set()
98.         self.is_delayed = False
99.         # {remote_model_key: {model_key: [(field_name, field)]}}
100.         self.relations = None
101. 
102.     def add_model(self, model_state):
103.         app_label, model_name = model_state.app_label, model_state.name_lower
104.         self.models[(app_label, model_name)] = model_state
105.         if 'apps' in self.__dict__:  # hasattr would cache the property
106.             self.reload_model(app_label, model_name)
107. 
108.     def remove_model(self, app_label, model_name):
109.         del self.models[app_label, model_name]
110.         if 'apps' in self.__dict__:  # hasattr would cache the property
111.             self.apps.unregister_model(app_label, model_name)
112.             # Need to do this explicitly since unregister_model() doesn't clear
113.             # the cache automatically (#24513)
114.             self.apps.clear_cache()
115. 
116.     def rename_model(self, app_label, old_name, new_name):
117.         # Add a new model.
118.         old_name_lower = old_name.lower()
119.         new_name_lower = new_name.lower()
120.         renamed_model = self.models[app_label, old_name_lower].clone()
121.         renamed_model.name = new_name
122.         self.models[app_label, new_name_lower] = renamed_model
123.         # Repoint all fields pointing to the old model to the new one.
124.         old_model_tuple = (app_label, old_name_lower)
125.         new_remote_model = f'{app_label}.{new_name}'
126.         to_reload = set()
127.         for model_state, name, field, reference in get_references(self, old_model_tuple):
128.             changed_field = None
129.             if reference.to:
130.                 changed_field = field.clone()
131.                 changed_field.remote_field.model = new_remote_model
132.             if reference.through:
133.                 if changed_field is None:
134.                     changed_field = field.clone()
135.                 changed_field.remote_field.through = new_remote_model
136.             if changed_field:
137.                 model_state.fields[name] = changed_field
138.                 to_reload.add((model_state.app_label, model_state.name_lower))
139.         # Reload models related to old model before removing the old model.
140.         self.reload_models(to_reload, delay=True)
141.         # Remove the old model.
142.         self.remove_model(app_label, old_name_lower)
143.         self.reload_model(app_label, new_name_lower, delay=True)
144. 
145.     def alter_model_options(self, app_label, model_name, options, option_keys=None):
146.         model_state = self.models[app_label, model_name]
147.         model_state.options = {**model_state.options, **options}
148.         if option_keys:
149.             for key in option_keys:
150.                 if key not in options:
151.                     model_state.options.pop(key, False)
152.         self.reload_model(app_label, model_name, delay=True)
153. 
154.     def alter_model_managers(self, app_label, model_name, managers):
155.         model_state = self.models[app_label, model_name]
156.         model_state.managers = list(managers)
157.         self.reload_model(app_label, model_name, delay=True)
158. 
159.     def _append_option(self, app_label, model_name, option_name, obj):
160.         model_state = self.models[app_label, model_name]
161.         model_state.options[option_name] = [*model_state.options[option_name], obj]
162.         self.reload_model(app_label, model_name, delay=True)
163. 
164.     def _remove_option(self, app_label, model_name, option_name, obj_name):
165.         model_state = self.models[app_label, model_name]
166.         objs = model_state.options[option_name]
167.         model_state.options[option_name] = [obj for obj in objs if obj.name != obj_name]
168.         self.reload_model(app_label, model_name, delay=True)
169. 
170.     def add_index(self, app_label, model_name, index):
171.         self._append_option(app_label, model_name, 'indexes', index)
172. 
173.     def remove_index(self, app_label, model_name, index_name):
174.         self._remove_option(app_label, model_name, 'indexes', index_name)
175. 
176.     def add_constraint(self, app_label, model_name, constraint):
177.         self._append_option(app_label, model_name, 'constraints', constraint)
178. 
179.     def remove_constraint(self, app_label, model_name, constraint_name):
180.         self._remove_option(app_label, model_name, 'constraints', constraint_name)
181. 
182.     def add_field(self, app_label, model_name, name, field, preserve_default):
183.         # If preserve default is off, don't use the default for future state.
184.         if not preserve_default:
185.             field = field.clone()
186.             field.default = NOT_PROVIDED
187.         else:
188.             field = field
189.         self.models[app_label, model_name].fields[name] = field
190.         # Delay rendering of relationships if it's not a relational field.
191.         delay = not field.is_relation
192.         self.reload_model(app_label, model_name, delay=delay)
193. 
194.     def remove_field(self, app_label, model_name, name):
195.         model_state = self.models[app_label, model_name]
196.         old_field = model_state.fields.pop(name)
197.         # Delay rendering of relationships if it's not a relational field.
198.         delay = not old_field.is_relation
199.         self.reload_model(app_label, model_name, delay=delay)
200. 
201.     def alter_field(self, app_label, model_name, name, field, preserve_default):
202.         if not preserve_default:
203.             field = field.clone()
204.             field.default = NOT_PROVIDED
205.         else:
206.             field = field
207.         model_state = self.models[app_label, model_name]
208.         model_state.fields[name] = field
209.         # TODO: investigate if old relational fields must be reloaded or if
210.         # it's sufficient if the new field is (#27737).
211.         # Delay rendering of relationships if it's not a relational field and
212.         # not referenced by a foreign key.
213.         delay = (
214.             not field.is_relation and
215.             not field_is_referenced(self, (app_label, model_name), (name, field))
216.         )
217.         self.reload_model(app_label, model_name, delay=delay)
218. 
219.     def rename_field(self, app_label, model_name, old_name, new_name):
220.         model_state = self.models[app_label, model_name]
221.         # Rename the field.
222.         fields = model_state.fields
223.         try:
224.             found = fields.pop(old_name)
225.         except KeyError:
226.             raise FieldDoesNotExist(
227.                 f"{app_label}.{model_name} has no field named '{old_name}'"
228.             )
229.         fields[new_name] = found
230.         for field in fields.values():
231.             # Fix from_fields to refer to the new field.
232.             from_fields = getattr(field, 'from_fields', None)
233.             if from_fields:
234.                 field.from_fields = tuple([
235.                     new_name if from_field_name == old_name else from_field_name
236.                     for from_field_name in from_fields
237.                 ])
238.         # Fix index/unique_together to refer to the new field.
239.         options = model_state.options
240.         for option in ('index_together', 'unique_together'):
241.             if option in options:
242.                 options[option] = [
243.                     [new_name if n == old_name else n for n in together]
244.                     for together in options[option]
245.                 ]
246.         # Fix to_fields to refer to the new field.
247.         delay = True
248.         references = get_references(self, (app_label, model_name), (old_name, found))
249.         for *_, field, reference in references:
250.             delay = False
251.             if reference.to:
252.                 remote_field, to_fields = reference.to
253.                 if getattr(remote_field, 'field_name', None) == old_name:
254.                     remote_field.field_name = new_name
255.                 if to_fields:
256.                     field.to_fields = tuple([
257.                         new_name if to_field_name == old_name else to_field_name
258.                         for to_field_name in to_fields
259.                     ])
260.         self.reload_model(app_label, model_name, delay=delay)
261. 
262.     def _find_reload_model(self, app_label, model_name, delay=False):
263.         if delay:
264.             self.is_delayed = True
265. 
266.         related_models = set()
267. 
268.         try:
269.             old_model = self.apps.get_model(app_label, model_name)
270.         except LookupError:
271.             pass
272.         else:
273.             # Get all relations to and from the old model before reloading,
274.             # as _meta.apps may change
275.             if delay:
276.                 related_models = get_related_models_tuples(old_model)
277.             else:
278.                 related_models = get_related_models_recursive(old_model)
279. 
280.         # Get all outgoing references from the model to be rendered
281.         model_state = self.models[(app_label, model_name)]
282.         # Directly related models are the models pointed to by ForeignKeys,
283.         # OneToOneFields, and ManyToManyFields.
284.         direct_related_models = set()
285.         for field in model_state.fields.values():
286.             if field.is_relation:
287.                 if field.remote_field.model == RECURSIVE_RELATIONSHIP_CONSTANT:
288.                     continue
289.                 rel_app_label, rel_model_name = _get_app_label_and_model_name(field.related_model, app_label)
290.                 direct_related_models.add((rel_app_label, rel_model_name.lower()))
291. 
292.         # For all direct related models recursively get all related models.
293.         related_models.update(direct_related_models)
294.         for rel_app_label, rel_model_name in direct_related_models:
295.             try:
296.                 rel_model = self.apps.get_model(rel_app_label, rel_model_name)
297.             except LookupError:
298.                 pass
299.             else:
300.                 if delay:
301.                     related_models.update(get_related_models_tuples(rel_model))
302.                 else:
303.                     related_models.update(get_related_models_recursive(rel_model))
304. 
305.         # Include the model itself
306.         related_models.add((app_label, model_name))
307. 
308.         return related_models
309. 
310.     def reload_model(self, app_label, model_name, delay=False):
311.         if 'apps' in self.__dict__:  # hasattr would cache the property
312.             related_models = self._find_reload_model(app_label, model_name, delay)
313.             self._reload(related_models)
314. 
315.     def reload_models(self, models, delay=True):
316.         if 'apps' in self.__dict__:  # hasattr would cache the property
317.             related_models = set()
318.             for app_label, model_name in models:
319.                 related_models.update(self._find_reload_model(app_label, model_name, delay))
320.             self._reload(related_models)
321. 
322.     def _reload(self, related_models):
323.         # Unregister all related models
324.         with self.apps.bulk_update():
325.             for rel_app_label, rel_model_name in related_models:
326.                 self.apps.unregister_model(rel_app_label, rel_model_name)
327. 
328.         states_to_be_rendered = []
329.         # Gather all models states of those models that will be rerendered.
330.         # This includes:
331.         # 1. All related models of unmigrated apps
332.         for model_state in self.apps.real_models:
333.             if (model_state.app_label, model_state.name_lower) in related_models:
334.                 states_to_be_rendered.append(model_state)
335. 
336.         # 2. All related models of migrated apps
337.         for rel_app_label, rel_model_name in related_models:
338.             try:
339.                 model_state = self.models[rel_app_label, rel_model_name]
340.             except KeyError:
341.                 pass
342.             else:
343.                 states_to_be_rendered.append(model_state)
344. 
345.         # Render all models
346.         self.apps.render_multiple(states_to_be_rendered)
347. 
348.     def resolve_fields_and_relations(self):
349.         # Resolve fields.
350.         for model_state in self.models.values():
351.             for field_name, field in model_state.fields.items():
352.                 field.name = field_name
353.         # Resolve relations.
354.         # {remote_model_key: {model_key: [(field_name, field)]}}
355.         self.relations = defaultdict(partial(defaultdict, list))
356.         concretes, proxies = self._get_concrete_models_mapping_and_proxy_models()
357. 
358.         for model_key in concretes:
359.             model_state = self.models[model_key]
360.             for field_name, field in model_state.fields.items():
361.                 remote_field = field.remote_field
362.                 if not remote_field:
363.                     continue
364.                 remote_model_key = resolve_relation(remote_field.model, *model_key)
365.                 if remote_model_key[0] not in self.real_apps and remote_model_key in concretes:
366.                     remote_model_key = concretes[remote_model_key]
367.                 self.relations[remote_model_key][model_key].append((field_name, field))
368. 
369.                 through = getattr(remote_field, 'through', None)
370.                 if not through:
371.                     continue
372.                 through_model_key = resolve_relation(through, *model_key)
373.                 if through_model_key[0] not in self.real_apps and through_model_key in concretes:
374.                     through_model_key = concretes[through_model_key]
375.                 self.relations[through_model_key][model_key].append((field_name, field))
376.         for model_key in proxies:
377.             self.relations[model_key] = self.relations[concretes[model_key]]
378. 
379.     def get_concrete_model_key(self, model):
380.         concrete_models_mapping, _ = self._get_concrete_models_mapping_and_proxy_models()
381.         model_key = make_model_tuple(model)
382.         return concrete_models_mapping[model_key]
383. 
384.     def _get_concrete_models_mapping_and_proxy_models(self):
385.         concrete_models_mapping = {}
386.         proxy_models = {}
387.         # Split models to proxy and concrete models.
388.         for model_key, model_state in self.models.items():
389.             if model_state.options.get('proxy'):
390.                 proxy_models[model_key] = model_state
391.                 # Find a concrete model for the proxy.
392.                 concrete_models_mapping[model_key] = self._find_concrete_model_from_proxy(
393.                     proxy_models, model_state,
394.                 )
395.             else:
396.                 concrete_models_mapping[model_key] = model_key
397.         return concrete_models_mapping, proxy_models
398. 
399.     def _find_concrete_model_from_proxy(self, proxy_models, model_state):
400.         for base in model_state.bases:
401.             base_key = make_model_tuple(base)
402.             base_state = proxy_models.get(base_key)
403.             if not base_state:
404.                 # Concrete model found, stop looking at bases.
405.                 return base_key
406.             return self._find_concrete_model_from_proxy(proxy_models, base_state)
407. 
408.     def clone(self):
409.         """Return an exact copy of this ProjectState."""
410.         new_state = ProjectState(
411.             models={k: v.clone() for k, v in self.models.items()},
412.             real_apps=self.real_apps,
413.         )
414.         if 'apps' in self.__dict__:
415.             new_state.apps = self.apps.clone()
416.         new_state.is_delayed = self.is_delayed
417.         return new_state
418. 
419.     def clear_delayed_apps_cache(self):
420.         if self.is_delayed and 'apps' in self.__dict__:
421.             del self.__dict__['apps']
422. 
423.     @cached_property
424.     def apps(self):
425.         return StateApps(self.real_apps, self.models)
426. 
427.     @classmethod
428.     def from_apps(cls, apps):
429.         """Take an Apps and return a ProjectState matching it."""
430.         app_models = {}
431.         for model in apps.get_models(include_swapped=True):
432.             model_state = ModelState.from_model(model)
433.             app_models[(model_state.app_label, model_state.name_lower)] = model_state
434.         return cls(app_models)
435. 
436.     def __eq__(self, other):
437.         return self.models == other.models and self.real_apps == other.real_apps
438. 
439. 
440. class AppConfigStub(AppConfig):
441.     """Stub of an AppConfig. Only provides a label and a dict of models."""
442.     def __init__(self, label):
443.         self.apps = None
444.         self.models = {}
445.         # App-label and app-name are not the same thing, so technically passing
446.         # in the label here is wrong. In practice, migrations don't care about
447.         # the app name, but we need something unique, and the label works fine.
448.         self.label = label
449.         self.name = label
450. 
451.     def import_models(self):
452.         self.models = self.apps.all_models[self.label]
453. 
454. 
455. class StateApps(Apps):
456.     """
457.     Subclass of the global Apps registry class to better handle dynamic model
458.     additions and removals.
459.     """
460.     def __init__(self, real_apps, models, ignore_swappable=False):
461.         # Any apps in self.real_apps should have all their models included
462.         # in the render. We don't use the original model instances as there
463.         # are some variables that refer to the Apps object.
464.         # FKs/M2Ms from real apps are also not included as they just
465.         # mess things up with partial states (due to lack of dependencies)
466.         self.real_models = []
467.         for app_label in real_apps:
468.             app = global_apps.get_app_config(app_label)
469.             for model in app.get_models():
470.                 self.real_models.append(ModelState.from_model(model, exclude_rels=True))
471.         # Populate the app registry with a stub for each application.
472.         app_labels = {model_state.app_label for model_state in models.values()}
473.         app_configs = [AppConfigStub(label) for label in sorted([*real_apps, *app_labels])]
474.         super().__init__(app_configs)
475. 
476.         # These locks get in the way of copying as implemented in clone(),
477.         # which is called whenever Django duplicates a StateApps before
478.         # updating it.
479.         self._lock = None
480.         self.ready_event = None
481. 
482.         self.render_multiple([*models.values(), *self.real_models])
483. 
484.         # There shouldn't be any operations pending at this point.
485.         from django.core.checks.model_checks import _check_lazy_references
486.         ignore = {make_model_tuple(settings.AUTH_USER_MODEL)} if ignore_swappable else set()
487.         errors = _check_lazy_references(self, ignore=ignore)
488.         if errors:
489.             raise ValueError("\n".join(error.msg for error in errors))
490. 
491.     @contextmanager
492.     def bulk_update(self):
493.         # Avoid clearing each model's cache for each change. Instead, clear
494.         # all caches when we're finished updating the model instances.
495.         ready = self.ready
496.         self.ready = False
497.         try:
498.             yield
499.         finally:
500.             self.ready = ready


File: django/db/migrations/state.py
Line number range: 501 - 2000
Content:
501.             self.clear_cache()
502. 
503.     def render_multiple(self, model_states):
504.         # We keep trying to render the models in a loop, ignoring invalid
505.         # base errors, until the size of the unrendered models doesn't
506.         # decrease by at least one, meaning there's a base dependency loop/
507.         # missing base.
508.         if not model_states:
509.             return
510.         # Prevent that all model caches are expired for each render.
511.         with self.bulk_update():
512.             unrendered_models = model_states
513.             while unrendered_models:
514.                 new_unrendered_models = []
515.                 for model in unrendered_models:
516.                     try:
517.                         model.render(self)
518.                     except InvalidBasesError:
519.                         new_unrendered_models.append(model)
520.                 if len(new_unrendered_models) == len(unrendered_models):
521.                     raise InvalidBasesError(
522.                         "Cannot resolve bases for %r\nThis can happen if you are inheriting models from an "
523.                         "app with migrations (e.g. contrib.auth)\n in an app with no migrations; see "
524.                         "https://docs.djangoproject.com/en/%s/topics/migrations/#dependencies "
525.                         "for more" % (new_unrendered_models, get_docs_version())
526.                     )
527.                 unrendered_models = new_unrendered_models
528. 
529.     def clone(self):
530.         """Return a clone of this registry."""
531.         clone = StateApps([], {})
532.         clone.all_models = copy.deepcopy(self.all_models)
533.         clone.app_configs = copy.deepcopy(self.app_configs)
534.         # Set the pointer to the correct app registry.
535.         for app_config in clone.app_configs.values():
536.             app_config.apps = clone
537.         # No need to actually clone them, they'll never change
538.         clone.real_models = self.real_models
539.         return clone
540. 
541.     def register_model(self, app_label, model):
542.         self.all_models[app_label][model._meta.model_name] = model
543.         if app_label not in self.app_configs:
544.             self.app_configs[app_label] = AppConfigStub(app_label)
545.             self.app_configs[app_label].apps = self
546.         self.app_configs[app_label].models[model._meta.model_name] = model
547.         self.do_pending_operations(model)
548.         self.clear_cache()
549. 
550.     def unregister_model(self, app_label, model_name):
551.         try:
552.             del self.all_models[app_label][model_name]
553.             del self.app_configs[app_label].models[model_name]
554.         except KeyError:
555.             pass
556. 
557. 
558. class ModelState:
559.     """
560.     Represent a Django Model. Don't use the actual Model class as it's not
561.     designed to have its options changed - instead, mutate this one and then
562.     render it into a Model as required.
563. 
564.     Note that while you are allowed to mutate .fields, you are not allowed
565.     to mutate the Field instances inside there themselves - you must instead
566.     assign new ones, as these are not detached during a clone.
567.     """
568. 
569.     def __init__(self, app_label, name, fields, options=None, bases=None, managers=None):
570.         self.app_label = app_label
571.         self.name = name
572.         self.fields = dict(fields)
573.         self.options = options or {}
574.         self.options.setdefault('indexes', [])
575.         self.options.setdefault('constraints', [])
576.         self.bases = bases or (models.Model,)
577.         self.managers = managers or []
578.         for name, field in self.fields.items():
579.             # Sanity-check that fields are NOT already bound to a model.
580.             if hasattr(field, 'model'):
581.                 raise ValueError(
582.                     'ModelState.fields cannot be bound to a model - "%s" is.' % name
583.                 )
584.             # Sanity-check that relation fields are NOT referring to a model class.
585.             if field.is_relation and hasattr(field.related_model, '_meta'):
586.                 raise ValueError(
587.                     'ModelState.fields cannot refer to a model class - "%s.to" does. '
588.                     'Use a string reference instead.' % name
589.                 )
590.             if field.many_to_many and hasattr(field.remote_field.through, '_meta'):
591.                 raise ValueError(
592.                     'ModelState.fields cannot refer to a model class - "%s.through" does. '
593.                     'Use a string reference instead.' % name
594.                 )
595.         # Sanity-check that indexes have their name set.
596.         for index in self.options['indexes']:
597.             if not index.name:
598.                 raise ValueError(
599.                     "Indexes passed to ModelState require a name attribute. "
600.                     "%r doesn't have one." % index
601.                 )
602. 
603.     @cached_property
604.     def name_lower(self):
605.         return self.name.lower()
606. 
607.     def get_field(self, field_name):
608.         field_name = (
609.             self.options['order_with_respect_to']
610.             if field_name == '_order'
611.             else field_name
612.         )
613.         return self.fields[field_name]
614. 
615.     @classmethod
616.     def from_model(cls, model, exclude_rels=False):
617.         """Given a model, return a ModelState representing it."""
618.         # Deconstruct the fields
619.         fields = []
620.         for field in model._meta.local_fields:
621.             if getattr(field, "remote_field", None) and exclude_rels:
622.                 continue
623.             if isinstance(field, models.OrderWrt):
624.                 continue
625.             name = field.name
626.             try:
627.                 fields.append((name, field.clone()))
628.             except TypeError as e:
629.                 raise TypeError("Couldn't reconstruct field %s on %s: %s" % (
630.                     name,
631.                     model._meta.label,
632.                     e,
633.                 ))
634.         if not exclude_rels:
635.             for field in model._meta.local_many_to_many:
636.                 name = field.name
637.                 try:
638.                     fields.append((name, field.clone()))
639.                 except TypeError as e:
640.                     raise TypeError("Couldn't reconstruct m2m field %s on %s: %s" % (
641.                         name,
642.                         model._meta.object_name,
643.                         e,
644.                     ))
645.         # Extract the options
646.         options = {}
647.         for name in DEFAULT_NAMES:
648.             # Ignore some special options
649.             if name in ["apps", "app_label"]:
650.                 continue
651.             elif name in model._meta.original_attrs:
652.                 if name == "unique_together":
653.                     ut = model._meta.original_attrs["unique_together"]
654.                     options[name] = set(normalize_together(ut))
655.                 elif name == "index_together":
656.                     it = model._meta.original_attrs["index_together"]
657.                     options[name] = set(normalize_together(it))
658.                 elif name == "indexes":
659.                     indexes = [idx.clone() for idx in model._meta.indexes]
660.                     for index in indexes:
661.                         if not index.name:
662.                             index.set_name_with_model(model)
663.                     options['indexes'] = indexes
664.                 elif name == 'constraints':
665.                     options['constraints'] = [con.clone() for con in model._meta.constraints]
666.                 else:
667.                     options[name] = model._meta.original_attrs[name]
668.         # If we're ignoring relationships, remove all field-listing model
669.         # options (that option basically just means "make a stub model")
670.         if exclude_rels:
671.             for key in ["unique_together", "index_together", "order_with_respect_to"]:
672.                 if key in options:
673.                     del options[key]
674.         # Private fields are ignored, so remove options that refer to them.
675.         elif options.get('order_with_respect_to') in {field.name for field in model._meta.private_fields}:
676.             del options['order_with_respect_to']
677. 
678.         def flatten_bases(model):
679.             bases = []
680.             for base in model.__bases__:
681.                 if hasattr(base, "_meta") and base._meta.abstract:
682.                     bases.extend(flatten_bases(base))
683.                 else:
684.                     bases.append(base)
685.             return bases
686. 
687.         # We can't rely on __mro__ directly because we only want to flatten
688.         # abstract models and not the whole tree. However by recursing on
689.         # __bases__ we may end up with duplicates and ordering issues, we
690.         # therefore discard any duplicates and reorder the bases according
691.         # to their index in the MRO.
692.         flattened_bases = sorted(set(flatten_bases(model)), key=lambda x: model.__mro__.index(x))
693. 
694.         # Make our record
695.         bases = tuple(
696.             (
697.                 base._meta.label_lower
698.                 if hasattr(base, "_meta") else
699.                 base
700.             )
701.             for base in flattened_bases
702.         )
703.         # Ensure at least one base inherits from models.Model
704.         if not any((isinstance(base, str) or issubclass(base, models.Model)) for base in bases):
705.             bases = (models.Model,)
706. 
707.         managers = []
708.         manager_names = set()
709.         default_manager_shim = None
710.         for manager in model._meta.managers:
711.             if manager.name in manager_names:
712.                 # Skip overridden managers.
713.                 continue
714.             elif manager.use_in_migrations:
715.                 # Copy managers usable in migrations.
716.                 new_manager = copy.copy(manager)
717.                 new_manager._set_creation_counter()
718.             elif manager is model._base_manager or manager is model._default_manager:
719.                 # Shim custom managers used as default and base managers.
720.                 new_manager = models.Manager()
721.                 new_manager.model = manager.model
722.                 new_manager.name = manager.name
723.                 if manager is model._default_manager:
724.                     default_manager_shim = new_manager
725.             else:
726.                 continue
727.             manager_names.add(manager.name)
728.             managers.append((manager.name, new_manager))
729. 
730.         # Ignore a shimmed default manager called objects if it's the only one.
731.         if managers == [('objects', default_manager_shim)]:
732.             managers = []
733. 
734.         # Construct the new ModelState
735.         return cls(
736.             model._meta.app_label,
737.             model._meta.object_name,
738.             fields,
739.             options,
740.             bases,
741.             managers,
742.         )
743. 
744.     def construct_managers(self):
745.         """Deep-clone the managers using deconstruction."""
746.         # Sort all managers by their creation counter
747.         sorted_managers = sorted(self.managers, key=lambda v: v[1].creation_counter)
748.         for mgr_name, manager in sorted_managers:
749.             as_manager, manager_path, qs_path, args, kwargs = manager.deconstruct()
750.             if as_manager:
751.                 qs_class = import_string(qs_path)
752.                 yield mgr_name, qs_class.as_manager()
753.             else:
754.                 manager_class = import_string(manager_path)
755.                 yield mgr_name, manager_class(*args, **kwargs)
756. 
757.     def clone(self):
758.         """Return an exact copy of this ModelState."""
759.         return self.__class__(
760.             app_label=self.app_label,
761.             name=self.name,
762.             fields=dict(self.fields),
763.             # Since options are shallow-copied here, operations such as
764.             # AddIndex must replace their option (e.g 'indexes') rather
765.             # than mutating it.
766.             options=dict(self.options),
767.             bases=self.bases,
768.             managers=list(self.managers),
769.         )
770. 
771.     def render(self, apps):
772.         """Create a Model object from our current state into the given apps."""
773.         # First, make a Meta object
774.         meta_contents = {'app_label': self.app_label, 'apps': apps, **self.options}
775.         meta = type("Meta", (), meta_contents)
776.         # Then, work out our bases
777.         try:
778.             bases = tuple(
779.                 (apps.get_model(base) if isinstance(base, str) else base)
780.                 for base in self.bases
781.             )
782.         except LookupError:
783.             raise InvalidBasesError("Cannot resolve one or more bases from %r" % (self.bases,))
784.         # Clone fields for the body, add other bits.
785.         body = {name: field.clone() for name, field in self.fields.items()}
786.         body['Meta'] = meta
787.         body['__module__'] = "__fake__"
788. 
789.         # Restore managers
790.         body.update(self.construct_managers())
791.         # Then, make a Model object (apps.register_model is called in __new__)
792.         return type(self.name, bases, body)
793. 
794.     def get_index_by_name(self, name):
795.         for index in self.options['indexes']:
796.             if index.name == name:
797.                 return index
798.         raise ValueError("No index named %s on model %s" % (name, self.name))
799. 
800.     def get_constraint_by_name(self, name):
801.         for constraint in self.options['constraints']:
802.             if constraint.name == name:
803.                 return constraint
804.         raise ValueError('No constraint named %s on model %s' % (name, self.name))
805. 
806.     def __repr__(self):
807.         return "<%s: '%s.%s'>" % (self.__class__.__name__, self.app_label, self.name)
808. 
809.     def __eq__(self, other):
810.         return (
811.             (self.app_label == other.app_label) and
812.             (self.name == other.name) and
813.             (len(self.fields) == len(other.fields)) and
814.             all(
815.                 k1 == k2 and f1.deconstruct()[1:] == f2.deconstruct()[1:]
816.                 for (k1, f1), (k2, f2) in zip(
817.                     sorted(self.fields.items()),
818.                     sorted(other.fields.items()),
819.                 )
820.             ) and
821.             (self.options == other.options) and
822.             (self.bases == other.bases) and
823.             (self.managers == other.managers)
824.         )

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 09:07:03,834 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user asks for the full content of the file 'django/db/migrations/state.py'.\n   - The user also has a specific interest in the 'ProjectState' class, including its '__init__', 'clone', and 'from_apps' methods, to understand its instantiation and the use of the 'real_apps' parameter.\n\n2. Extended relevance:\n   - The provided context contains the entire content of 'django/db/migrations/state.py' from line 1 to 824.\n   - This directly fulfills the primary request.\n   - It also includes the full implementation of the 'ProjectState' class (lines 84-438), covering the requested methods ('__init__', 'clone', 'from_apps') and more.\n   - The file also contains related classes like 'StateApps' and 'ModelState' which are crucial for a complete understanding of how migration states are managed in Django, thus providing essential context for the user's purpose.", relative_path='django/db/migrations/state.py', start_line=1, end_line=824)]
2025-12-23 09:07:03,836 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of django/db/migrations/state.py.
2025-12-23 09:07:03,836 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 09:07:03,836 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 09:07:03,836 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-23 09:07:03,837 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-23 09:07:03,838 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_block_error.html
    |   |   ├── test_extends_block_error_parent.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: ProjectState.__init__() can assume its real_apps argument is a set

Description: Description
	
​PR #14760 made all calls to ProjectState.__init__() pass real_apps as a set. In ​ProjectState.__init__() now, then, instead of checking that real_apps is a set and converting it to a set if not, it can just assert that it's a set when non-None. (Presumably the construction of new ProjectState objects is part of Django's internal API.) I had made this comment on the PR, but it wasn't important enough to hold up the PR because another PR was depending on it getting merged.

Patch information:
diff --git a/django/db/migrations/state.py b/django/db/migrations/state.py
index 088f5c41f0..7b3ad45610 100644
--- a/django/db/migrations/state.py
+++ b/django/db/migrations/state.py
@@ -91,8 +91,9 @@ class ProjectState:
     def __init__(self, models=None, real_apps=None):
         self.models = models or {}
         # Apps to include from main registry, usually unmigrated ones
-        if real_apps:
-            self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
+        if real_apps is not None:
+            assert isinstance(real_apps, set), "real_apps must be a set"
+            self.real_apps = real_apps
         else:
             self.real_apps = set()
         self.is_delayed = False


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_state.py`.
Extra Requirements: 
Purpose: To find test cases that instantiate `ProjectState` and verify its behavior, which is directly related to the user's query.

Previous refined query 2:
Essential Query: Please provide the full content of django/db/migrations/state.py.
Extra Requirements: If the full file is too large, please at least provide the implementation of the `ProjectState` class, including the `__init__`, `clone`, and `from_apps` methods.
Purpose: This will allow me to understand all the ways `ProjectState` is instantiated in the tests and select the three most relevant test cases that cover the usage of the `real_apps` parameter.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: django/db/migrations/state.py
Line number range: 1 - 824
Content:
1. import copy
2. from collections import defaultdict
3. from contextlib import contextmanager
4. from functools import partial
5. 
6. from django.apps import AppConfig
7. from django.apps.registry import Apps, apps as global_apps
8. from django.conf import settings
9. from django.core.exceptions import FieldDoesNotExist
10. from django.db import models
11. from django.db.migrations.utils import field_is_referenced, get_references
12. from django.db.models import NOT_PROVIDED
13. from django.db.models.fields.related import RECURSIVE_RELATIONSHIP_CONSTANT
14. from django.db.models.options import DEFAULT_NAMES, normalize_together
15. from django.db.models.utils import make_model_tuple
16. from django.utils.functional import cached_property
17. from django.utils.module_loading import import_string
18. from django.utils.version import get_docs_version
19. 
20. from .exceptions import InvalidBasesError
21. from .utils import resolve_relation
22. 
23. 
24. def _get_app_label_and_model_name(model, app_label=''):
25.     if isinstance(model, str):
26.         split = model.split('.', 1)
27.         return tuple(split) if len(split) == 2 else (app_label, split[0])
28.     else:
29.         return model._meta.app_label, model._meta.model_name
30. 
31. 
32. def _get_related_models(m):
33.     """Return all models that have a direct relationship to the given model."""
34.     related_models = [
35.         subclass for subclass in m.__subclasses__()
36.         if issubclass(subclass, models.Model)
37.     ]
38.     related_fields_models = set()
39.     for f in m._meta.get_fields(include_parents=True, include_hidden=True):
40.         if f.is_relation and f.related_model is not None and not isinstance(f.related_model, str):
41.             related_fields_models.add(f.model)
42.             related_models.append(f.related_model)
43.     # Reverse accessors of foreign keys to proxy models are attached to their
44.     # concrete proxied model.
45.     opts = m._meta
46.     if opts.proxy and m in related_fields_models:
47.         related_models.append(opts.concrete_model)
48.     return related_models
49. 
50. 
51. def get_related_models_tuples(model):
52.     """
53.     Return a list of typical (app_label, model_name) tuples for all related
54.     models for the given model.
55.     """
56.     return {
57.         (rel_mod._meta.app_label, rel_mod._meta.model_name)
58.         for rel_mod in _get_related_models(model)
59.     }
60. 
61. 
62. def get_related_models_recursive(model):
63.     """
64.     Return all models that have a direct or indirect relationship
65.     to the given model.
66. 
67.     Relationships are either defined by explicit relational fields, like
68.     ForeignKey, ManyToManyField or OneToOneField, or by inheriting from another
69.     model (a superclass is related to its subclasses, but not vice versa). Note,
70.     however, that a model inheriting from a concrete model is also related to
71.     its superclass through the implicit *_ptr OneToOneField on the subclass.
72.     """
73.     seen = set()
74.     queue = _get_related_models(model)
75.     for rel_mod in queue:
76.         rel_app_label, rel_model_name = rel_mod._meta.app_label, rel_mod._meta.model_name
77.         if (rel_app_label, rel_model_name) in seen:
78.             continue
79.         seen.add((rel_app_label, rel_model_name))
80.         queue.extend(_get_related_models(rel_mod))
81.     return seen - {(model._meta.app_label, model._meta.model_name)}
82. 
83. 
84. class ProjectState:
85.     """
86.     Represent the entire project's overall state. This is the item that is
87.     passed around - do it here rather than at the app level so that cross-app
88.     FKs/etc. resolve properly.
89.     """
90. 
91.     def __init__(self, models=None, real_apps=None):
92.         self.models = models or {}
93.         # Apps to include from main registry, usually unmigrated ones
94.         if real_apps:
95.             self.real_apps = real_apps if isinstance(real_apps, set) else set(real_apps)
96.         else:
97.             self.real_apps = set()
98.         self.is_delayed = False
99.         # {remote_model_key: {model_key: [(field_name, field)]}}
100.         self.relations = None
101. 
102.     def add_model(self, model_state):
103.         app_label, model_name = model_state.app_label, model_state.name_lower
104.         self.models[(app_label, model_name)] = model_state
105.         if 'apps' in self.__dict__:  # hasattr would cache the property
106.             self.reload_model(app_label, model_name)
107. 
108.     def remove_model(self, app_label, model_name):
109.         del self.models[app_label, model_name]
110.         if 'apps' in self.__dict__:  # hasattr would cache the property
111.             self.apps.unregister_model(app_label, model_name)
112.             # Need to do this explicitly since unregister_model() doesn't clear
113.             # the cache automatically (#24513)
114.             self.apps.clear_cache()
115. 
116.     def rename_model(self, app_label, old_name, new_name):
117.         # Add a new model.
118.         old_name_lower = old_name.lower()
119.         new_name_lower = new_name.lower()
120.         renamed_model = self.models[app_label, old_name_lower].clone()
121.         renamed_model.name = new_name
122.         self.models[app_label, new_name_lower] = renamed_model
123.         # Repoint all fields pointing to the old model to the new one.
124.         old_model_tuple = (app_label, old_name_lower)
125.         new_remote_model = f'{app_label}.{new_name}'
126.         to_reload = set()
127.         for model_state, name, field, reference in get_references(self, old_model_tuple):
128.             changed_field = None
129.             if reference.to:
130.                 changed_field = field.clone()
131.                 changed_field.remote_field.model = new_remote_model
132.             if reference.through:
133.                 if changed_field is None:
134.                     changed_field = field.clone()
135.                 changed_field.remote_field.through = new_remote_model
136.             if changed_field:
137.                 model_state.fields[name] = changed_field
138.                 to_reload.add((model_state.app_label, model_state.name_lower))
139.         # Reload models related to old model before removing the old model.
140.         self.reload_models(to_reload, delay=True)
141.         # Remove the old model.
142.         self.remove_model(app_label, old_name_lower)
143.         self.reload_model(app_label, new_name_lower, delay=True)
144. 
145.     def alter_model_options(self, app_label, model_name, options, option_keys=None):
146.         model_state = self.models[app_label, model_name]
147.         model_state.options = {**model_state.options, **options}
148.         if option_keys:
149.             for key in option_keys:
150.                 if key not in options:
151.                     model_state.options.pop(key, False)
152.         self.reload_model(app_label, model_name, delay=True)
153. 
154.     def alter_model_managers(self, app_label, model_name, managers):
155.         model_state = self.models[app_label, model_name]
156.         model_state.managers = list(managers)
157.         self.reload_model(app_label, model_name, delay=True)
158. 
159.     def _append_option(self, app_label, model_name, option_name, obj):
160.         model_state = self.models[app_label, model_name]
161.         model_state.options[option_name] = [*model_state.options[option_name], obj]
162.         self.reload_model(app_label, model_name, delay=True)
163. 
164.     def _remove_option(self, app_label, model_name, option_name, obj_name):
165.         model_state = self.models[app_label, model_name]
166.         objs = model_state.options[option_name]
167.         model_state.options[option_name] = [obj for obj in objs if obj.name != obj_name]
168.         self.reload_model(app_label, model_name, delay=True)
169. 
170.     def add_index(self, app_label, model_name, index):
171.         self._append_option(app_label, model_name, 'indexes', index)
172. 
173.     def remove_index(self, app_label, model_name, index_name):
174.         self._remove_option(app_label, model_name, 'indexes', index_name)
175. 
176.     def add_constraint(self, app_label, model_name, constraint):
177.         self._append_option(app_label, model_name, 'constraints', constraint)
178. 
179.     def remove_constraint(self, app_label, model_name, constraint_name):
180.         self._remove_option(app_label, model_name, 'constraints', constraint_name)
181. 
182.     def add_field(self, app_label, model_name, name, field, preserve_default):
183.         # If preserve default is off, don't use the default for future state.
184.         if not preserve_default:
185.             field = field.clone()
186.             field.default = NOT_PROVIDED
187.         else:
188.             field = field
189.         self.models[app_label, model_name].fields[name] = field
190.         # Delay rendering of relationships if it's not a relational field.
191.         delay = not field.is_relation
192.         self.reload_model(app_label, model_name, delay=delay)
193. 
194.     def remove_field(self, app_label, model_name, name):
195.         model_state = self.models[app_label, model_name]
196.         old_field = model_state.fields.pop(name)
197.         # Delay rendering of relationships if it's not a relational field.
198.         delay = not old_field.is_relation
199.         self.reload_model(app_label, model_name, delay=delay)
200. 
201.     def alter_field(self, app_label, model_name, name, field, preserve_default):
202.         if not preserve_default:
203.             field = field.clone()
204.             field.default = NOT_PROVIDED
205.         else:
206.             field = field
207.         model_state = self.models[app_label, model_name]
208.         model_state.fields[name] = field
209.         # TODO: investigate if old relational fields must be reloaded or if
210.         # it's sufficient if the new field is (#27737).
211.         # Delay rendering of relationships if it's not a relational field and
212.         # not referenced by a foreign key.
213.         delay = (
214.             not field.is_relation and
215.             not field_is_referenced(self, (app_label, model_name), (name, field))
216.         )
217.         self.reload_model(app_label, model_name, delay=delay)
218. 
219.     def rename_field(self, app_label, model_name, old_name, new_name):
220.         model_state = self.models[app_label, model_name]
221.         # Rename the field.
222.         fields = model_state.fields
223.         try:
224.             found = fields.pop(old_name)
225.         except KeyError:
226.             raise FieldDoesNotExist(
227.                 f"{app_label}.{model_name} has no field named '{old_name}'"
228.             )
229.         fields[new_name] = found
230.         for field in fields.values():
231.             # Fix from_fields to refer to the new field.
232.             from_fields = getattr(field, 'from_fields', None)
233.             if from_fields:
234.                 field.from_fields = tuple([
235.                     new_name if from_field_name == old_name else from_field_name
236.                     for from_field_name in from_fields
237.                 ])
238.         # Fix index/unique_together to refer to the new field.
239.         options = model_state.options
240.         for option in ('index_together', 'unique_together'):
241.             if option in options:
242.                 options[option] = [
243.                     [new_name if n == old_name else n for n in together]
244.                     for together in options[option]
245.                 ]
246.         # Fix to_fields to refer to the new field.
247.         delay = True
248.         references = get_references(self, (app_label, model_name), (old_name, found))
249.         for *_, field, reference in references:
250.             delay = False
251.             if reference.to:
252.                 remote_field, to_fields = reference.to
253.                 if getattr(remote_field, 'field_name', None) == old_name:
254.                     remote_field.field_name = new_name
255.                 if to_fields:
256.                     field.to_fields = tuple([
257.                         new_name if to_field_name == old_name else to_field_name
258.                         for to_field_name in to_fields
259.                     ])
260.         self.reload_model(app_label, model_name, delay=delay)
261. 
262.     def _find_reload_model(self, app_label, model_name, delay=False):
263.         if delay:
264.             self.is_delayed = True
265. 
266.         related_models = set()
267. 
268.         try:
269.             old_model = self.apps.get_model(app_label, model_name)
270.         except LookupError:
271.             pass
272.         else:
273.             # Get all relations to and from the old model before reloading,
274.             # as _meta.apps may change
275.             if delay:
276.                 related_models = get_related_models_tuples(old_model)
277.             else:
278.                 related_models = get_related_models_recursive(old_model)
279. 
280.         # Get all outgoing references from the model to be rendered
281.         model_state = self.models[(app_label, model_name)]
282.         # Directly related models are the models pointed to by ForeignKeys,
283.         # OneToOneFields, and ManyToManyFields.
284.         direct_related_models = set()
285.         for field in model_state.fields.values():
286.             if field.is_relation:
287.                 if field.remote_field.model == RECURSIVE_RELATIONSHIP_CONSTANT:
288.                     continue
289.                 rel_app_label, rel_model_name = _get_app_label_and_model_name(field.related_model, app_label)
290.                 direct_related_models.add((rel_app_label, rel_model_name.lower()))
291. 
292.         # For all direct related models recursively get all related models.
293.         related_models.update(direct_related_models)
294.         for rel_app_label, rel_model_name in direct_related_models:
295.             try:
296.                 rel_model = self.apps.get_model(rel_app_label, rel_model_name)
297.             except LookupError:
298.                 pass
299.             else:
300.                 if delay:
301.                     related_models.update(get_related_models_tuples(rel_model))
302.                 else:
303.                     related_models.update(get_related_models_recursive(rel_model))
304. 
305.         # Include the model itself
306.         related_models.add((app_label, model_name))
307. 
308.         return related_models
309. 
310.     def reload_model(self, app_label, model_name, delay=False):
311.         if 'apps' in self.__dict__:  # hasattr would cache the property
312.             related_models = self._find_reload_model(app_label, model_name, delay)
313.             self._reload(related_models)
314. 
315.     def reload_models(self, models, delay=True):
316.         if 'apps' in self.__dict__:  # hasattr would cache the property
317.             related_models = set()
318.             for app_label, model_name in models:
319.                 related_models.update(self._find_reload_model(app_label, model_name, delay))
320.             self._reload(related_models)
321. 
322.     def _reload(self, related_models):
323.         # Unregister all related models
324.         with self.apps.bulk_update():
325.             for rel_app_label, rel_model_name in related_models:
326.                 self.apps.unregister_model(rel_app_label, rel_model_name)
327. 
328.         states_to_be_rendered = []
329.         # Gather all models states of those models that will be rerendered.
330.         # This includes:
331.         # 1. All related models of unmigrated apps
332.         for model_state in self.apps.real_models:
333.             if (model_state.app_label, model_state.name_lower) in related_models:
334.                 states_to_be_rendered.append(model_state)
335. 
336.         # 2. All related models of migrated apps
337.         for rel_app_label, rel_model_name in related_models:
338.             try:
339.                 model_state = self.models[rel_app_label, rel_model_name]
340.             except KeyError:
341.                 pass
342.             else:
343.                 states_to_be_rendered.append(model_state)
344. 
345.         # Render all models
346.         self.apps.render_multiple(states_to_be_rendered)
347. 
348.     def resolve_fields_and_relations(self):
349.         # Resolve fields.
350.         for model_state in self.models.values():
351.             for field_name, field in model_state.fields.items():
352.                 field.name = field_name
353.         # Resolve relations.
354.         # {remote_model_key: {model_key: [(field_name, field)]}}
355.         self.relations = defaultdict(partial(defaultdict, list))
356.         concretes, proxies = self._get_concrete_models_mapping_and_proxy_models()
357. 
358.         for model_key in concretes:
359.             model_state = self.models[model_key]
360.             for field_name, field in model_state.fields.items():
361.                 remote_field = field.remote_field
362.                 if not remote_field:
363.                     continue
364.                 remote_model_key = resolve_relation(remote_field.model, *model_key)
365.                 if remote_model_key[0] not in self.real_apps and remote_model_key in concretes:
366.                     remote_model_key = concretes[remote_model_key]
367.                 self.relations[remote_model_key][model_key].append((field_name, field))
368. 
369.                 through = getattr(remote_field, 'through', None)
370.                 if not through:
371.                     continue
372.                 through_model_key = resolve_relation(through, *model_key)
373.                 if through_model_key[0] not in self.real_apps and through_model_key in concretes:
374.                     through_model_key = concretes[through_model_key]
375.                 self.relations[through_model_key][model_key].append((field_name, field))
376.         for model_key in proxies:
377.             self.relations[model_key] = self.relations[concretes[model_key]]
378. 
379.     def get_concrete_model_key(self, model):
380.         concrete_models_mapping, _ = self._get_concrete_models_mapping_and_proxy_models()
381.         model_key = make_model_tuple(model)
382.         return concrete_models_mapping[model_key]
383. 
384.     def _get_concrete_models_mapping_and_proxy_models(self):
385.         concrete_models_mapping = {}
386.         proxy_models = {}
387.         # Split models to proxy and concrete models.
388.         for model_key, model_state in self.models.items():
389.             if model_state.options.get('proxy'):
390.                 proxy_models[model_key] = model_state
391.                 # Find a concrete model for the proxy.
392.                 concrete_models_mapping[model_key] = self._find_concrete_model_from_proxy(
393.                     proxy_models, model_state,
394.                 )
395.             else:
396.                 concrete_models_mapping[model_key] = model_key
397.         return concrete_models_mapping, proxy_models
398. 
399.     def _find_concrete_model_from_proxy(self, proxy_models, model_state):
400.         for base in model_state.bases:
401.             base_key = make_model_tuple(base)
402.             base_state = proxy_models.get(base_key)
403.             if not base_state:
404.                 # Concrete model found, stop looking at bases.
405.                 return base_key
406.             return self._find_concrete_model_from_proxy(proxy_models, base_state)
407. 
408.     def clone(self):
409.         """Return an exact copy of this ProjectState."""
410.         new_state = ProjectState(
411.             models={k: v.clone() for k, v in self.models.items()},
412.             real_apps=self.real_apps,
413.         )
414.         if 'apps' in self.__dict__:
415.             new_state.apps = self.apps.clone()
416.         new_state.is_delayed = self.is_delayed
417.         return new_state
418. 
419.     def clear_delayed_apps_cache(self):
420.         if self.is_delayed and 'apps' in self.__dict__:
421.             del self.__dict__['apps']
422. 
423.     @cached_property
424.     def apps(self):
425.         return StateApps(self.real_apps, self.models)
426. 
427.     @classmethod
428.     def from_apps(cls, apps):
429.         """Take an Apps and return a ProjectState matching it."""
430.         app_models = {}
431.         for model in apps.get_models(include_swapped=True):
432.             model_state = ModelState.from_model(model)
433.             app_models[(model_state.app_label, model_state.name_lower)] = model_state
434.         return cls(app_models)
435. 
436.     def __eq__(self, other):
437.         return self.models == other.models and self.real_apps == other.real_apps
438. 
439. 
440. class AppConfigStub(AppConfig):
441.     """Stub of an AppConfig. Only provides a label and a dict of models."""
442.     def __init__(self, label):
443.         self.apps = None
444.         self.models = {}
445.         # App-label and app-name are not the same thing, so technically passing
446.         # in the label here is wrong. In practice, migrations don't care about
447.         # the app name, but we need something unique, and the label works fine.
448.         self.label = label
449.         self.name = label
450. 
451.     def import_models(self):
452.         self.models = self.apps.all_models[self.label]
453. 
454. 
455. class StateApps(Apps):
456.     """
457.     Subclass of the global Apps registry class to better handle dynamic model
458.     additions and removals.
459.     """
460.     def __init__(self, real_apps, models, ignore_swappable=False):
461.         # Any apps in self.real_apps should have all their models included
462.         # in the render. We don't use the original model instances as there
463.         # are some variables that refer to the Apps object.
464.         # FKs/M2Ms from real apps are also not included as they just
465.         # mess things up with partial states (due to lack of dependencies)
466.         self.real_models = []
467.         for app_label in real_apps:
468.             app = global_apps.get_app_config(app_label)
469.             for model in app.get_models():
470.                 self.real_models.append(ModelState.from_model(model, exclude_rels=True))
471.         # Populate the app registry with a stub for each application.
472.         app_labels = {model_state.app_label for model_state in models.values()}
473.         app_configs = [AppConfigStub(label) for label in sorted([*real_apps, *app_labels])]
474.         super().__init__(app_configs)
475. 
476.         # These locks get in the way of copying as implemented in clone(),
477.         # which is called whenever Django duplicates a StateApps before
478.         # updating it.
479.         self._lock = None
480.         self.ready_event = None
481. 
482.         self.render_multiple([*models.values(), *self.real_models])
483. 
484.         # There shouldn't be any operations pending at this point.
485.         from django.core.checks.model_checks import _check_lazy_references
486.         ignore = {make_model_tuple(settings.AUTH_USER_MODEL)} if ignore_swappable else set()
487.         errors = _check_lazy_references(self, ignore=ignore)
488.         if errors:
489.             raise ValueError("\n".join(error.msg for error in errors))
490. 
491.     @contextmanager
492.     def bulk_update(self):
493.         # Avoid clearing each model's cache for each change. Instead, clear
494.         # all caches when we're finished updating the model instances.
495.         ready = self.ready
496.         self.ready = False
497.         try:
498.             yield
499.         finally:
500.             self.ready = ready
501.             self.clear_cache()
502. 
503.     def render_multiple(self, model_states):
504.         # We keep trying to render the models in a loop, ignoring invalid
505.         # base errors, until the size of the unrendered models doesn't
506.         # decrease by at least one, meaning there's a base dependency loop/
507.         # missing base.
508.         if not model_states:
509.             return
510.         # Prevent that all model caches are expired for each render.
511.         with self.bulk_update():
512.             unrendered_models = model_states
513.             while unrendered_models:
514.                 new_unrendered_models = []
515.                 for model in unrendered_models:
516.                     try:
517.                         model.render(self)
518.                     except InvalidBasesError:
519.                         new_unrendered_models.append(model)
520.                 if len(new_unrendered_models) == len(unrendered_models):
521.                     raise InvalidBasesError(
522.                         "Cannot resolve bases for %r\nThis can happen if you are inheriting models from an "
523.                         "app with migrations (e.g. contrib.auth)\n in an app with no migrations; see "
524.                         "https://docs.djangoproject.com/en/%s/topics/migrations/#dependencies "
525.                         "for more" % (new_unrendered_models, get_docs_version())
526.                     )
527.                 unrendered_models = new_unrendered_models
528. 
529.     def clone(self):
530.         """Return a clone of this registry."""
531.         clone = StateApps([], {})
532.         clone.all_models = copy.deepcopy(self.all_models)
533.         clone.app_configs = copy.deepcopy(self.app_configs)
534.         # Set the pointer to the correct app registry.
535.         for app_config in clone.app_configs.values():
536.             app_config.apps = clone
537.         # No need to actually clone them, they'll never change
538.         clone.real_models = self.real_models
539.         return clone
540. 
541.     def register_model(self, app_label, model):
542.         self.all_models[app_label][model._meta.model_name] = model
543.         if app_label not in self.app_configs:
544.             self.app_configs[app_label] = AppConfigStub(app_label)
545.             self.app_configs[app_label].apps = self
546.         self.app_configs[app_label].models[model._meta.model_name] = model
547.         self.do_pending_operations(model)
548.         self.clear_cache()
549. 
550.     def unregister_model(self, app_label, model_name):
551.         try:
552.             del self.all_models[app_label][model_name]
553.             del self.app_configs[app_label].models[model_name]
554.         except KeyError:
555.             pass
556. 
557. 
558. class ModelState:
559.     """
560.     Represent a Django Model. Don't use the actual Model class as it's not
561.     designed to have its options changed - instead, mutate this one and then
562.     render it into a Model as required.
563. 
564.     Note that while you are allowed to mutate .fields, you are not allowed
565.     to mutate the Field instances inside there themselves - you must instead
566.     assign new ones, as these are not detached during a clone.
567.     """
568. 
569.     def __init__(self, app_label, name, fields, options=None, bases=None, managers=None):
570.         self.app_label = app_label
571.         self.name = name
572.         self.fields = dict(fields)
573.         self.options = options or {}
574.         self.options.setdefault('indexes', [])
575.         self.options.setdefault('constraints', [])
576.         self.bases = bases or (models.Model,)
577.         self.managers = managers or []
578.         for name, field in self.fields.items():
579.             # Sanity-check that fields are NOT already bound to a model.
580.             if hasattr(field, 'model'):
581.                 raise ValueError(
582.                     'ModelState.fields cannot be bound to a model - "%s" is.' % name
583.                 )
584.             # Sanity-check that relation fields are NOT referring to a model class.
585.             if field.is_relation and hasattr(field.related_model, '_meta'):
586.                 raise ValueError(
587.                     'ModelState.fields cannot refer to a model class - "%s.to" does. '
588.                     'Use a string reference instead.' % name
589.                 )
590.             if field.many_to_many and hasattr(field.remote_field.through, '_meta'):
591.                 raise ValueError(
592.                     'ModelState.fields cannot refer to a model class - "%s.through" does. '
593.                     'Use a string reference instead.' % name
594.                 )
595.         # Sanity-check that indexes have their name set.
596.         for index in self.options['indexes']:
597.             if not index.name:
598.                 raise ValueError(
599.                     "Indexes passed to ModelState require a name attribute. "
600.                     "%r doesn't have one." % index
601.                 )
602. 
603.     @cached_property
604.     def name_lower(self):
605.         return self.name.lower()
606. 
607.     def get_field(self, field_name):
608.         field_name = (
609.             self.options['order_with_respect_to']
610.             if field_name == '_order'
611.             else field_name
612.         )
613.         return self.fields[field_name]
614. 
615.     @classmethod
616.     def from_model(cls, model, exclude_rels=False):
617.         """Given a model, return a ModelState representing it."""
618.         # Deconstruct the fields
619.         fields = []
620.         for field in model._meta.local_fields:
621.             if getattr(field, "remote_field", None) and exclude_rels:
622.                 continue
623.             if isinstance(field, models.OrderWrt):
624.                 continue
625.             name = field.name
626.             try:
627.                 fields.append((name, field.clone()))
628.             except TypeError as e:
629.                 raise TypeError("Couldn't reconstruct field %s on %s: %s" % (
630.                     name,
631.                     model._meta.label,
632.                     e,
633.                 ))
634.         if not exclude_rels:
635.             for field in model._meta.local_many_to_many:
636.                 name = field.name
637.                 try:
638.                     fields.append((name, field.clone()))
639.                 except TypeError as e:
640.                     raise TypeError("Couldn't reconstruct m2m field %s on %s: %s" % (
641.                         name,
642.                         model._meta.object_name,
643.                         e,
644.                     ))
645.         # Extract the options
646.         options = {}
647.         for name in DEFAULT_NAMES:
648.             # Ignore some special options
649.             if name in ["apps", "app_label"]:
650.                 continue
651.             elif name in model._meta.original_attrs:
652.                 if name == "unique_together":
653.                     ut = model._meta.original_attrs["unique_together"]
654.                     options[name] = set(normalize_together(ut))
655.                 elif name == "index_together":
656.                     it = model._meta.original_attrs["index_together"]
657.                     options[name] = set(normalize_together(it))
658.                 elif name == "indexes":
659.                     indexes = [idx.clone() for idx in model._meta.indexes]
660.                     for index in indexes:
661.                         if not index.name:
662.                             index.set_name_with_model(model)
663.                     options['indexes'] = indexes
664.                 elif name == 'constraints':
665.                     options['constraints'] = [con.clone() for con in model._meta.constraints]
666.                 else:
667.                     options[name] = model._meta.original_attrs[name]
668.         # If we're ignoring relationships, remove all field-listing model
669.         # options (that option basically just means "make a stub model")
670.         if exclude_rels:
671.             for key in ["unique_together", "index_together", "order_with_respect_to"]:
672.                 if key in options:
673.                     del options[key]
674.         # Private fields are ignored, so remove options that refer to them.
675.         elif options.get('order_with_respect_to') in {field.name for field in model._meta.private_fields}:
676.             del options['order_with_respect_to']
677. 
678.         def flatten_bases(model):
679.             bases = []
680.             for base in model.__bases__:
681.                 if hasattr(base, "_meta") and base._meta.abstract:
682.                     bases.extend(flatten_bases(base))
683.                 else:
684.                     bases.append(base)
685.             return bases
686. 
687.         # We can't rely on __mro__ directly because we only want to flatten
688.         # abstract models and not the whole tree. However by recursing on
689.         # __bases__ we may end up with duplicates and ordering issues, we
690.         # therefore discard any duplicates and reorder the bases according
691.         # to their index in the MRO.
692.         flattened_bases = sorted(set(flatten_bases(model)), key=lambda x: model.__mro__.index(x))
693. 
694.         # Make our record
695.         bases = tuple(
696.             (
697.                 base._meta.label_lower
698.                 if hasattr(base, "_meta") else
699.                 base
700.             )
701.             for base in flattened_bases
702.         )
703.         # Ensure at least one base inherits from models.Model
704.         if not any((isinstance(base, str) or issubclass(base, models.Model)) for base in bases):
705.             bases = (models.Model,)
706. 
707.         managers = []
708.         manager_names = set()
709.         default_manager_shim = None
710.         for manager in model._meta.managers:
711.             if manager.name in manager_names:
712.                 # Skip overridden managers.
713.                 continue
714.             elif manager.use_in_migrations:
715.                 # Copy managers usable in migrations.
716.                 new_manager = copy.copy(manager)
717.                 new_manager._set_creation_counter()
718.             elif manager is model._base_manager or manager is model._default_manager:
719.                 # Shim custom managers used as default and base managers.
720.                 new_manager = models.Manager()
721.                 new_manager.model = manager.model
722.                 new_manager.name = manager.name
723.                 if manager is model._default_manager:
724.                     default_manager_shim = new_manager
725.             else:
726.                 continue
727.             manager_names.add(manager.name)
728.             managers.append((manager.name, new_manager))
729. 
730.         # Ignore a shimmed default manager called objects if it's the only one.
731.         if managers == [('objects', default_manager_shim)]:
732.             managers = []
733. 
734.         # Construct the new ModelState
735.         return cls(
736.             model._meta.app_label,
737.             model._meta.object_name,
738.             fields,
739.             options,
740.             bases,
741.             managers,
742.         )
743. 
744.     def construct_managers(self):
745.         """Deep-clone the managers using deconstruction."""
746.         # Sort all managers by their creation counter
747.         sorted_managers = sorted(self.managers, key=lambda v: v[1].creation_counter)
748.         for mgr_name, manager in sorted_managers:
749.             as_manager, manager_path, qs_path, args, kwargs = manager.deconstruct()
750.             if as_manager:
751.                 qs_class = import_string(qs_path)
752.                 yield mgr_name, qs_class.as_manager()
753.             else:
754.                 manager_class = import_string(manager_path)
755.                 yield mgr_name, manager_class(*args, **kwargs)
756. 
757.     def clone(self):
758.         """Return an exact copy of this ModelState."""
759.         return self.__class__(
760.             app_label=self.app_label,
761.             name=self.name,
762.             fields=dict(self.fields),
763.             # Since options are shallow-copied here, operations such as
764.             # AddIndex must replace their option (e.g 'indexes') rather
765.             # than mutating it.
766.             options=dict(self.options),
767.             bases=self.bases,
768.             managers=list(self.managers),
769.         )
770. 
771.     def render(self, apps):
772.         """Create a Model object from our current state into the given apps."""
773.         # First, make a Meta object
774.         meta_contents = {'app_label': self.app_label, 'apps': apps, **self.options}
775.         meta = type("Meta", (), meta_contents)
776.         # Then, work out our bases
777.         try:
778.             bases = tuple(
779.                 (apps.get_model(base) if isinstance(base, str) else base)
780.                 for base in self.bases
781.             )
782.         except LookupError:
783.             raise InvalidBasesError("Cannot resolve one or more bases from %r" % (self.bases,))
784.         # Clone fields for the body, add other bits.
785.         body = {name: field.clone() for name, field in self.fields.items()}
786.         body['Meta'] = meta
787.         body['__module__'] = "__fake__"
788. 
789.         # Restore managers
790.         body.update(self.construct_managers())
791.         # Then, make a Model object (apps.register_model is called in __new__)
792.         return type(self.name, bases, body)
793. 
794.     def get_index_by_name(self, name):
795.         for index in self.options['indexes']:
796.             if index.name == name:
797.                 return index
798.         raise ValueError("No index named %s on model %s" % (name, self.name))
799. 
800.     def get_constraint_by_name(self, name):
801.         for constraint in self.options['constraints']:
802.             if constraint.name == name:
803.                 return constraint
804.         raise ValueError('No constraint named %s on model %s' % (name, self.name))
805. 
806.     def __repr__(self):
807.         return "<%s: '%s.%s'>" % (self.__class__.__name__, self.app_label, self.name)
808. 
809.     def __eq__(self, other):
810.         return (
811.             (self.app_label == other.app_label) and
812.             (self.name == other.name) and
813.             (len(self.fields) == len(other.fields)) and
814.             all(
815.                 k1 == k2 and f1.deconstruct()[1:] == f2.deconstruct()[1:]
816.                 for (k1, f1), (k2, f2) in zip(
817.                     sorted(self.fields.items()),
818.                     sorted(other.fields.items()),
819.                 )
820.             ) and
821.             (self.options == other.options) and
822.             (self.bases == other.bases) and
823.             (self.managers == other.managers)
824.         )


File: tests/migrations/test_state.py
Line number range: 1 - 1515
Content:
1. from django.apps.registry import Apps
2. from django.contrib.contenttypes.fields import GenericForeignKey
3. from django.db import models
4. from django.db.migrations.exceptions import InvalidBasesError
5. from django.db.migrations.operations import (
6.     AddField, AlterField, DeleteModel, RemoveField,
7. )
8. from django.db.migrations.state import (
9.     ModelState, ProjectState, get_related_models_recursive,
10. )
11. from django.test import SimpleTestCase, override_settings
12. from django.test.utils import isolate_apps
13. 
14. from .models import (
15.     FoodManager, FoodQuerySet, ModelWithCustomBase, NoMigrationFoodManager,
16.     UnicodeModel,
17. )
18. 
19. 
20. class StateTests(SimpleTestCase):
21.     """
22.     Tests state construction, rendering and modification by operations.
23.     """
24. 
25.     def test_create(self):
26.         """
27.         Tests making a ProjectState from an Apps
28.         """
29. 
30.         new_apps = Apps(["migrations"])
31. 
32.         class Author(models.Model):
33.             name = models.CharField(max_length=255)
34.             bio = models.TextField()
35.             age = models.IntegerField(blank=True, null=True)
36. 
37.             class Meta:
38.                 app_label = "migrations"
39.                 apps = new_apps
40.                 unique_together = ["name", "bio"]
41.                 index_together = ["bio", "age"]
42. 
43.         class AuthorProxy(Author):
44.             class Meta:
45.                 app_label = "migrations"
46.                 apps = new_apps
47.                 proxy = True
48.                 ordering = ["name"]
49. 
50.         class SubAuthor(Author):
51.             width = models.FloatField(null=True)
52. 
53.             class Meta:
54.                 app_label = "migrations"
55.                 apps = new_apps
56. 
57.         class Book(models.Model):
58.             title = models.CharField(max_length=1000)
59.             author = models.ForeignKey(Author, models.CASCADE)
60.             contributors = models.ManyToManyField(Author)
61. 
62.             class Meta:
63.                 app_label = "migrations"
64.                 apps = new_apps
65.                 verbose_name = "tome"
66.                 db_table = "test_tome"
67.                 indexes = [models.Index(fields=['title'])]
68. 
69.         class Food(models.Model):
70. 
71.             food_mgr = FoodManager('a', 'b')
72.             food_qs = FoodQuerySet.as_manager()
73.             food_no_mgr = NoMigrationFoodManager('x', 'y')
74. 
75.             class Meta:
76.                 app_label = "migrations"
77.                 apps = new_apps
78. 
79.         class FoodNoManagers(models.Model):
80. 
81.             class Meta:
82.                 app_label = "migrations"
83.                 apps = new_apps
84. 
85.         class FoodNoDefaultManager(models.Model):
86. 
87.             food_no_mgr = NoMigrationFoodManager('x', 'y')
88.             food_mgr = FoodManager('a', 'b')
89.             food_qs = FoodQuerySet.as_manager()
90. 
91.             class Meta:
92.                 app_label = "migrations"
93.                 apps = new_apps
94. 
95.         mgr1 = FoodManager('a', 'b')
96.         mgr2 = FoodManager('x', 'y', c=3, d=4)
97. 
98.         class FoodOrderedManagers(models.Model):
99.             # The managers on this model should be ordered by their creation
100.             # counter and not by the order in model body
101. 
102.             food_no_mgr = NoMigrationFoodManager('x', 'y')
103.             food_mgr2 = mgr2
104.             food_mgr1 = mgr1
105. 
106.             class Meta:
107.                 app_label = "migrations"
108.                 apps = new_apps
109. 
110.         project_state = ProjectState.from_apps(new_apps)
111.         author_state = project_state.models['migrations', 'author']
112.         author_proxy_state = project_state.models['migrations', 'authorproxy']
113.         sub_author_state = project_state.models['migrations', 'subauthor']
114.         book_state = project_state.models['migrations', 'book']
115.         food_state = project_state.models['migrations', 'food']
116.         food_no_managers_state = project_state.models['migrations', 'foodnomanagers']
117.         food_no_default_manager_state = project_state.models['migrations', 'foodnodefaultmanager']
118.         food_order_manager_state = project_state.models['migrations', 'foodorderedmanagers']
119.         book_index = models.Index(fields=['title'])
120.         book_index.set_name_with_model(Book)
121. 
122.         self.assertEqual(author_state.app_label, "migrations")
123.         self.assertEqual(author_state.name, "Author")
124.         self.assertEqual(list(author_state.fields), ["id", "name", "bio", "age"])
125.         self.assertEqual(author_state.fields['name'].max_length, 255)
126.         self.assertIs(author_state.fields['bio'].null, False)
127.         self.assertIs(author_state.fields['age'].null, True)
128.         self.assertEqual(
129.             author_state.options,
130.             {
131.                 "unique_together": {("name", "bio")},
132.                 "index_together": {("bio", "age")},
133.                 "indexes": [],
134.                 "constraints": [],
135.             }
136.         )
137.         self.assertEqual(author_state.bases, (models.Model,))
138. 
139.         self.assertEqual(book_state.app_label, "migrations")
140.         self.assertEqual(book_state.name, "Book")
141.         self.assertEqual(list(book_state.fields), ["id", "title", "author", "contributors"])
142.         self.assertEqual(book_state.fields['title'].max_length, 1000)
143.         self.assertIs(book_state.fields['author'].null, False)
144.         self.assertEqual(book_state.fields['contributors'].__class__.__name__, 'ManyToManyField')
145.         self.assertEqual(
146.             book_state.options,
147.             {"verbose_name": "tome", "db_table": "test_tome", "indexes": [book_index], "constraints": []},
148.         )
149.         self.assertEqual(book_state.bases, (models.Model,))
150. 
151.         self.assertEqual(author_proxy_state.app_label, "migrations")
152.         self.assertEqual(author_proxy_state.name, "AuthorProxy")
153.         self.assertEqual(author_proxy_state.fields, {})
154.         self.assertEqual(
155.             author_proxy_state.options,
156.             {"proxy": True, "ordering": ["name"], "indexes": [], "constraints": []},
157.         )
158.         self.assertEqual(author_proxy_state.bases, ("migrations.author",))
159. 
160.         self.assertEqual(sub_author_state.app_label, "migrations")
161.         self.assertEqual(sub_author_state.name, "SubAuthor")
162.         self.assertEqual(len(sub_author_state.fields), 2)
163.         self.assertEqual(sub_author_state.bases, ("migrations.author",))
164. 
165.         # The default manager is used in migrations
166.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
167.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_state.managers))
168.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
169. 
170.         # No explicit managers defined. Migrations will fall back to the default
171.         self.assertEqual(food_no_managers_state.managers, [])
172. 
173.         # food_mgr is used in migration but isn't the default mgr, hence add the
174.         # default
175.         self.assertEqual([name for name, mgr in food_no_default_manager_state.managers],
176.                          ['food_no_mgr', 'food_mgr'])
177.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_no_default_manager_state.managers))
178.         self.assertEqual(food_no_default_manager_state.managers[0][1].__class__, models.Manager)
179.         self.assertIsInstance(food_no_default_manager_state.managers[1][1], FoodManager)
180. 
181.         self.assertEqual([name for name, mgr in food_order_manager_state.managers],
182.                          ['food_mgr1', 'food_mgr2'])
183.         self.assertTrue(all(isinstance(name, str) for name, mgr in food_order_manager_state.managers))
184.         self.assertEqual([mgr.args for name, mgr in food_order_manager_state.managers],
185.                          [('a', 'b', 1, 2), ('x', 'y', 3, 4)])
186. 
187.     def test_custom_default_manager_added_to_the_model_state(self):
188.         """
189.         When the default manager of the model is a custom manager,
190.         it needs to be added to the model state.
191.         """
192.         new_apps = Apps(['migrations'])
193.         custom_manager = models.Manager()
194. 
195.         class Author(models.Model):
196.             objects = models.TextField()
197.             authors = custom_manager
198. 
199.             class Meta:
200.                 app_label = 'migrations'
201.                 apps = new_apps
202. 
203.         project_state = ProjectState.from_apps(new_apps)
204.         author_state = project_state.models['migrations', 'author']
205.         self.assertEqual(author_state.managers, [('authors', custom_manager)])
206. 
207.     def test_custom_default_manager_named_objects_with_false_migration_flag(self):
208.         """
209.         When a manager is added with a name of 'objects' but it does not
210.         have `use_in_migrations = True`, no migration should be added to the
211.         model state (#26643).
212.         """
213.         new_apps = Apps(['migrations'])
214. 
215.         class Author(models.Model):
216.             objects = models.Manager()
217. 
218.             class Meta:
219.                 app_label = 'migrations'
220.                 apps = new_apps
221. 
222.         project_state = ProjectState.from_apps(new_apps)
223.         author_state = project_state.models['migrations', 'author']
224.         self.assertEqual(author_state.managers, [])
225. 
226.     def test_no_duplicate_managers(self):
227.         """
228.         When a manager is added with `use_in_migrations = True` and a parent
229.         model had a manager with the same name and `use_in_migrations = True`,
230.         the parent's manager shouldn't appear in the model state (#26881).
231.         """
232.         new_apps = Apps(['migrations'])
233. 
234.         class PersonManager(models.Manager):
235.             use_in_migrations = True
236. 
237.         class Person(models.Model):
238.             objects = PersonManager()
239. 
240.             class Meta:
241.                 abstract = True
242. 
243.         class BossManager(PersonManager):
244.             use_in_migrations = True
245. 
246.         class Boss(Person):
247.             objects = BossManager()
248. 
249.             class Meta:
250.                 app_label = 'migrations'
251.                 apps = new_apps
252. 
253.         project_state = ProjectState.from_apps(new_apps)
254.         boss_state = project_state.models['migrations', 'boss']
255.         self.assertEqual(boss_state.managers, [('objects', Boss.objects)])
256. 
257.     def test_custom_default_manager(self):
258.         new_apps = Apps(['migrations'])
259. 
260.         class Author(models.Model):
261.             manager1 = models.Manager()
262.             manager2 = models.Manager()
263. 
264.             class Meta:
265.                 app_label = 'migrations'
266.                 apps = new_apps
267.                 default_manager_name = 'manager2'
268. 
269.         project_state = ProjectState.from_apps(new_apps)
270.         author_state = project_state.models['migrations', 'author']
271.         self.assertEqual(author_state.options['default_manager_name'], 'manager2')
272.         self.assertEqual(author_state.managers, [('manager2', Author.manager1)])
273. 
274.     def test_custom_base_manager(self):
275.         new_apps = Apps(['migrations'])
276. 
277.         class Author(models.Model):
278.             manager1 = models.Manager()
279.             manager2 = models.Manager()
280. 
281.             class Meta:
282.                 app_label = 'migrations'
283.                 apps = new_apps
284.                 base_manager_name = 'manager2'
285. 
286.         class Author2(models.Model):
287.             manager1 = models.Manager()
288.             manager2 = models.Manager()
289. 
290.             class Meta:
291.                 app_label = 'migrations'
292.                 apps = new_apps
293.                 base_manager_name = 'manager1'
294. 
295.         project_state = ProjectState.from_apps(new_apps)
296. 
297.         author_state = project_state.models['migrations', 'author']
298.         self.assertEqual(author_state.options['base_manager_name'], 'manager2')
299.         self.assertEqual(author_state.managers, [
300.             ('manager1', Author.manager1),
301.             ('manager2', Author.manager2),
302.         ])
303. 
304.         author2_state = project_state.models['migrations', 'author2']
305.         self.assertEqual(author2_state.options['base_manager_name'], 'manager1')
306.         self.assertEqual(author2_state.managers, [
307.             ('manager1', Author2.manager1),
308.         ])
309. 
310.     def test_apps_bulk_update(self):
311.         """
312.         StateApps.bulk_update() should update apps.ready to False and reset
313.         the value afterward.
314.         """
315.         project_state = ProjectState()
316.         apps = project_state.apps
317.         with apps.bulk_update():
318.             self.assertFalse(apps.ready)
319.         self.assertTrue(apps.ready)
320.         with self.assertRaises(ValueError):
321.             with apps.bulk_update():
322.                 self.assertFalse(apps.ready)
323.                 raise ValueError()
324.         self.assertTrue(apps.ready)
325. 
326.     def test_render(self):
327.         """
328.         Tests rendering a ProjectState into an Apps.
329.         """
330.         project_state = ProjectState()
331.         project_state.add_model(ModelState(
332.             app_label="migrations",
333.             name="Tag",
334.             fields=[
335.                 ("id", models.AutoField(primary_key=True)),
336.                 ("name", models.CharField(max_length=100)),
337.                 ("hidden", models.BooleanField()),
338.             ],
339.         ))
340.         project_state.add_model(ModelState(
341.             app_label="migrations",
342.             name="SubTag",
343.             fields=[
344.                 ('tag_ptr', models.OneToOneField(
345.                     'migrations.Tag',
346.                     models.CASCADE,
347.                     auto_created=True,
348.                     parent_link=True,
349.                     primary_key=True,
350.                     to_field='id',
351.                     serialize=False,
352.                 )),
353.                 ("awesome", models.BooleanField()),
354.             ],
355.             bases=("migrations.Tag",),
356.         ))
357. 
358.         base_mgr = models.Manager()
359.         mgr1 = FoodManager('a', 'b')
360.         mgr2 = FoodManager('x', 'y', c=3, d=4)
361.         project_state.add_model(ModelState(
362.             app_label="migrations",
363.             name="Food",
364.             fields=[
365.                 ("id", models.AutoField(primary_key=True)),
366.             ],
367.             managers=[
368.                 # The ordering we really want is objects, mgr1, mgr2
369.                 ('default', base_mgr),
370.                 ('food_mgr2', mgr2),
371.                 ('food_mgr1', mgr1),
372.             ]
373.         ))
374. 
375.         new_apps = project_state.apps
376.         self.assertEqual(new_apps.get_model("migrations", "Tag")._meta.get_field("name").max_length, 100)
377.         self.assertIs(new_apps.get_model("migrations", "Tag")._meta.get_field("hidden").null, False)
378. 
379.         self.assertEqual(len(new_apps.get_model("migrations", "SubTag")._meta.local_fields), 2)
380. 
381.         Food = new_apps.get_model("migrations", "Food")
382.         self.assertEqual([mgr.name for mgr in Food._meta.managers],
383.                          ['default', 'food_mgr1', 'food_mgr2'])
384.         self.assertTrue(all(isinstance(mgr.name, str) for mgr in Food._meta.managers))
385.         self.assertEqual([mgr.__class__ for mgr in Food._meta.managers],
386.                          [models.Manager, FoodManager, FoodManager])
387. 
388.     def test_render_model_inheritance(self):
389.         class Book(models.Model):
390.             title = models.CharField(max_length=1000)
391. 
392.             class Meta:
393.                 app_label = "migrations"
394.                 apps = Apps()
395. 
396.         class Novel(Book):
397.             class Meta:
398.                 app_label = "migrations"
399.                 apps = Apps()
400. 
401.         # First, test rendering individually
402.         apps = Apps(["migrations"])
403. 
404.         # We shouldn't be able to render yet
405.         ms = ModelState.from_model(Novel)
406.         with self.assertRaises(InvalidBasesError):
407.             ms.render(apps)
408. 
409.         # Once the parent model is in the app registry, it should be fine
410.         ModelState.from_model(Book).render(apps)
411.         ModelState.from_model(Novel).render(apps)
412. 
413.     def test_render_model_with_multiple_inheritance(self):
414.         class Foo(models.Model):
415.             class Meta:
416.                 app_label = "migrations"
417.                 apps = Apps()
418. 
419.         class Bar(models.Model):
420.             class Meta:
421.                 app_label = "migrations"
422.                 apps = Apps()
423. 
424.         class FooBar(Foo, Bar):
425.             class Meta:
426.                 app_label = "migrations"
427.                 apps = Apps()
428. 
429.         class AbstractSubFooBar(FooBar):
430.             class Meta:
431.                 abstract = True
432.                 apps = Apps()
433. 
434.         class SubFooBar(AbstractSubFooBar):
435.             class Meta:
436.                 app_label = "migrations"
437.                 apps = Apps()
438. 
439.         apps = Apps(["migrations"])
440. 
441.         # We shouldn't be able to render yet
442.         ms = ModelState.from_model(FooBar)
443.         with self.assertRaises(InvalidBasesError):
444.             ms.render(apps)
445. 
446.         # Once the parent models are in the app registry, it should be fine
447.         ModelState.from_model(Foo).render(apps)
448.         self.assertSequenceEqual(ModelState.from_model(Foo).bases, [models.Model])
449.         ModelState.from_model(Bar).render(apps)
450.         self.assertSequenceEqual(ModelState.from_model(Bar).bases, [models.Model])
451.         ModelState.from_model(FooBar).render(apps)
452.         self.assertSequenceEqual(ModelState.from_model(FooBar).bases, ['migrations.foo', 'migrations.bar'])
453.         ModelState.from_model(SubFooBar).render(apps)
454.         self.assertSequenceEqual(ModelState.from_model(SubFooBar).bases, ['migrations.foobar'])
455. 
456.     def test_render_project_dependencies(self):
457.         """
458.         The ProjectState render method correctly renders models
459.         to account for inter-model base dependencies.
460.         """
461.         new_apps = Apps()
462. 
463.         class A(models.Model):
464.             class Meta:
465.                 app_label = "migrations"
466.                 apps = new_apps
467. 
468.         class B(A):
469.             class Meta:
470.                 app_label = "migrations"
471.                 apps = new_apps
472. 
473.         class C(B):
474.             class Meta:
475.                 app_label = "migrations"
476.                 apps = new_apps
477. 
478.         class D(A):
479.             class Meta:
480.                 app_label = "migrations"
481.                 apps = new_apps
482. 
483.         class E(B):
484.             class Meta:
485.                 app_label = "migrations"
486.                 apps = new_apps
487.                 proxy = True
488. 
489.         class F(D):
490.             class Meta:
491.                 app_label = "migrations"
492.                 apps = new_apps
493.                 proxy = True
494. 
495.         # Make a ProjectState and render it
496.         project_state = ProjectState()
497.         project_state.add_model(ModelState.from_model(A))
498.         project_state.add_model(ModelState.from_model(B))
499.         project_state.add_model(ModelState.from_model(C))
500.         project_state.add_model(ModelState.from_model(D))
501.         project_state.add_model(ModelState.from_model(E))
502.         project_state.add_model(ModelState.from_model(F))
503.         final_apps = project_state.apps
504.         self.assertEqual(len(final_apps.get_models()), 6)
505. 
506.         # Now make an invalid ProjectState and make sure it fails
507.         project_state = ProjectState()
508.         project_state.add_model(ModelState.from_model(A))
509.         project_state.add_model(ModelState.from_model(B))
510.         project_state.add_model(ModelState.from_model(C))
511.         project_state.add_model(ModelState.from_model(F))
512.         with self.assertRaises(InvalidBasesError):
513.             project_state.apps
514. 
515.     def test_render_unique_app_labels(self):
516.         """
517.         The ProjectState render method doesn't raise an
518.         ImproperlyConfigured exception about unique labels if two dotted app
519.         names have the same last part.
520.         """
521.         class A(models.Model):
522.             class Meta:
523.                 app_label = "django.contrib.auth"
524. 
525.         class B(models.Model):
526.             class Meta:
527.                 app_label = "vendor.auth"
528. 
529.         # Make a ProjectState and render it
530.         project_state = ProjectState()
531.         project_state.add_model(ModelState.from_model(A))
532.         project_state.add_model(ModelState.from_model(B))
533.         self.assertEqual(len(project_state.apps.get_models()), 2)
534. 
535.     def test_reload_related_model_on_non_relational_fields(self):
536.         """
537.         The model is reloaded even on changes that are not involved in
538.         relations. Other models pointing to or from it are also reloaded.
539.         """
540.         project_state = ProjectState()
541.         project_state.apps  # Render project state.
542.         project_state.add_model(ModelState('migrations', 'A', []))
543.         project_state.add_model(ModelState('migrations', 'B', [
544.             ('a', models.ForeignKey('A', models.CASCADE)),
545.         ]))
546.         project_state.add_model(ModelState('migrations', 'C', [
547.             ('b', models.ForeignKey('B', models.CASCADE)),
548.             ('name', models.TextField()),
549.         ]))
550.         project_state.add_model(ModelState('migrations', 'D', [
551.             ('a', models.ForeignKey('A', models.CASCADE)),
552.         ]))
553.         operation = AlterField(
554.             model_name='C',
555.             name='name',
556.             field=models.TextField(blank=True),
557.         )
558.         operation.state_forwards('migrations', project_state)
559.         project_state.reload_model('migrations', 'a', delay=True)
560.         A = project_state.apps.get_model('migrations.A')
561.         B = project_state.apps.get_model('migrations.B')
562.         D = project_state.apps.get_model('migrations.D')
563.         self.assertIs(B._meta.get_field('a').related_model, A)
564.         self.assertIs(D._meta.get_field('a').related_model, A)
565. 
566.     def test_reload_model_relationship_consistency(self):
567.         project_state = ProjectState()
568.         project_state.add_model(ModelState('migrations', 'A', []))
569.         project_state.add_model(ModelState('migrations', 'B', [
570.             ('a', models.ForeignKey('A', models.CASCADE)),
571.         ]))
572.         project_state.add_model(ModelState('migrations', 'C', [
573.             ('b', models.ForeignKey('B', models.CASCADE)),
574.         ]))
575.         A = project_state.apps.get_model('migrations.A')
576.         B = project_state.apps.get_model('migrations.B')
577.         C = project_state.apps.get_model('migrations.C')
578.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
579.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
580.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
581. 
582.         project_state.reload_model('migrations', 'a', delay=True)
583.         A = project_state.apps.get_model('migrations.A')
584.         B = project_state.apps.get_model('migrations.B')
585.         C = project_state.apps.get_model('migrations.C')
586.         self.assertEqual([r.related_model for r in A._meta.related_objects], [B])
587.         self.assertEqual([r.related_model for r in B._meta.related_objects], [C])
588.         self.assertEqual([r.related_model for r in C._meta.related_objects], [])
589. 
590.     def test_add_relations(self):
591.         """
592.         #24573 - Adding relations to existing models should reload the
593.         referenced models too.
594.         """
595.         new_apps = Apps()
596. 
597.         class A(models.Model):
598.             class Meta:
599.                 app_label = 'something'
600.                 apps = new_apps
601. 
602.         class B(A):
603.             class Meta:
604.                 app_label = 'something'
605.                 apps = new_apps
606. 
607.         class C(models.Model):
608.             class Meta:
609.                 app_label = 'something'
610.                 apps = new_apps
611. 
612.         project_state = ProjectState()
613.         project_state.add_model(ModelState.from_model(A))
614.         project_state.add_model(ModelState.from_model(B))
615.         project_state.add_model(ModelState.from_model(C))
616. 
617.         project_state.apps  # We need to work with rendered models
618. 
619.         old_state = project_state.clone()
620.         model_a_old = old_state.apps.get_model('something', 'A')
621.         model_b_old = old_state.apps.get_model('something', 'B')
622.         model_c_old = old_state.apps.get_model('something', 'C')
623.         # The relations between the old models are correct
624.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
625.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
626. 
627.         operation = AddField('c', 'to_a', models.OneToOneField(
628.             'something.A',
629.             models.CASCADE,
630.             related_name='from_c',
631.         ))
632.         operation.state_forwards('something', project_state)
633.         model_a_new = project_state.apps.get_model('something', 'A')
634.         model_b_new = project_state.apps.get_model('something', 'B')
635.         model_c_new = project_state.apps.get_model('something', 'C')
636. 
637.         # All models have changed
638.         self.assertIsNot(model_a_old, model_a_new)
639.         self.assertIsNot(model_b_old, model_b_new)
640.         self.assertIsNot(model_c_old, model_c_new)
641.         # The relations between the old models still hold
642.         self.assertIs(model_a_old._meta.get_field('b').related_model, model_b_old)
643.         self.assertIs(model_b_old._meta.get_field('a_ptr').related_model, model_a_old)
644.         # The relations between the new models correct
645.         self.assertIs(model_a_new._meta.get_field('b').related_model, model_b_new)
646.         self.assertIs(model_b_new._meta.get_field('a_ptr').related_model, model_a_new)
647.         self.assertIs(model_a_new._meta.get_field('from_c').related_model, model_c_new)
648.         self.assertIs(model_c_new._meta.get_field('to_a').related_model, model_a_new)
649. 
650.     def test_remove_relations(self):
651.         """
652.         #24225 - Relations between models are updated while
653.         remaining the relations and references for models of an old state.
654.         """
655.         new_apps = Apps()
656. 
657.         class A(models.Model):
658.             class Meta:
659.                 app_label = "something"
660.                 apps = new_apps
661. 
662.         class B(models.Model):
663.             to_a = models.ForeignKey(A, models.CASCADE)
664. 
665.             class Meta:
666.                 app_label = "something"
667.                 apps = new_apps
668. 
669.         def get_model_a(state):
670.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
671. 
672.         project_state = ProjectState()
673.         project_state.add_model(ModelState.from_model(A))
674.         project_state.add_model(ModelState.from_model(B))
675.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
676.         old_state = project_state.clone()
677. 
678.         operation = RemoveField("b", "to_a")
679.         operation.state_forwards("something", project_state)
680.         # Model from old_state still has the relation
681.         model_a_old = get_model_a(old_state)
682.         model_a_new = get_model_a(project_state)
683.         self.assertIsNot(model_a_old, model_a_new)
684.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
685.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
686. 
687.         # Same test for deleted model
688.         project_state = ProjectState()
689.         project_state.add_model(ModelState.from_model(A))
690.         project_state.add_model(ModelState.from_model(B))
691.         old_state = project_state.clone()
692. 
693.         operation = DeleteModel("b")
694.         operation.state_forwards("something", project_state)
695.         model_a_old = get_model_a(old_state)
696.         model_a_new = get_model_a(project_state)
697.         self.assertIsNot(model_a_old, model_a_new)
698.         self.assertEqual(len(model_a_old._meta.related_objects), 1)
699.         self.assertEqual(len(model_a_new._meta.related_objects), 0)
700. 
701.     def test_self_relation(self):
702.         """
703.         #24513 - Modifying an object pointing to itself would cause it to be
704.         rendered twice and thus breaking its related M2M through objects.
705.         """
706.         class A(models.Model):
707.             to_a = models.ManyToManyField('something.A', symmetrical=False)
708. 
709.             class Meta:
710.                 app_label = "something"
711. 
712.         def get_model_a(state):
713.             return [mod for mod in state.apps.get_models() if mod._meta.model_name == 'a'][0]
714. 
715.         project_state = ProjectState()
716.         project_state.add_model(ModelState.from_model(A))
717.         self.assertEqual(len(get_model_a(project_state)._meta.related_objects), 1)
718.         old_state = project_state.clone()
719. 
720.         operation = AlterField(
721.             model_name="a",
722.             name="to_a",
723.             field=models.ManyToManyField("something.A", symmetrical=False, blank=True)
724.         )
725.         # At this point the model would be rendered twice causing its related
726.         # M2M through objects to point to an old copy and thus breaking their
727.         # attribute lookup.
728.         operation.state_forwards("something", project_state)
729. 
730.         model_a_old = get_model_a(old_state)
731.         model_a_new = get_model_a(project_state)
732.         self.assertIsNot(model_a_old, model_a_new)
733. 
734.         # The old model's _meta is still consistent
735.         field_to_a_old = model_a_old._meta.get_field("to_a")
736.         self.assertEqual(field_to_a_old.m2m_field_name(), "from_a")
737.         self.assertEqual(field_to_a_old.m2m_reverse_field_name(), "to_a")
738.         self.assertIs(field_to_a_old.related_model, model_a_old)
739.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('to_a').related_model, model_a_old)
740.         self.assertIs(field_to_a_old.remote_field.through._meta.get_field('from_a').related_model, model_a_old)
741. 
742.         # The new model's _meta is still consistent
743.         field_to_a_new = model_a_new._meta.get_field("to_a")
744.         self.assertEqual(field_to_a_new.m2m_field_name(), "from_a")
745.         self.assertEqual(field_to_a_new.m2m_reverse_field_name(), "to_a")
746.         self.assertIs(field_to_a_new.related_model, model_a_new)
747.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('to_a').related_model, model_a_new)
748.         self.assertIs(field_to_a_new.remote_field.through._meta.get_field('from_a').related_model, model_a_new)
749. 
750.     def test_equality(self):
751.         """
752.         == and != are implemented correctly.
753.         """
754.         # Test two things that should be equal
755.         project_state = ProjectState()
756.         project_state.add_model(ModelState(
757.             "migrations",
758.             "Tag",
759.             [
760.                 ("id", models.AutoField(primary_key=True)),
761.                 ("name", models.CharField(max_length=100)),
762.                 ("hidden", models.BooleanField()),
763.             ],
764.             {},
765.             None,
766.         ))
767.         project_state.apps  # Fill the apps cached property
768.         other_state = project_state.clone()
769.         self.assertEqual(project_state, project_state)
770.         self.assertEqual(project_state, other_state)
771.         self.assertIs(project_state != project_state, False)
772.         self.assertIs(project_state != other_state, False)
773.         self.assertNotEqual(project_state.apps, other_state.apps)
774. 
775.         # Make a very small change (max_len 99) and see if that affects it
776.         project_state = ProjectState()
777.         project_state.add_model(ModelState(
778.             "migrations",
779.             "Tag",
780.             [
781.                 ("id", models.AutoField(primary_key=True)),
782.                 ("name", models.CharField(max_length=99)),
783.                 ("hidden", models.BooleanField()),
784.             ],
785.             {},
786.             None,
787.         ))
788.         self.assertNotEqual(project_state, other_state)
789.         self.assertIs(project_state == other_state, False)
790. 
791.     def test_dangling_references_throw_error(self):
792.         new_apps = Apps()
793. 
794.         class Author(models.Model):
795.             name = models.TextField()
796. 
797.             class Meta:
798.                 app_label = "migrations"
799.                 apps = new_apps
800. 
801.         class Publisher(models.Model):
802.             name = models.TextField()
803. 
804.             class Meta:
805.                 app_label = "migrations"
806.                 apps = new_apps
807. 
808.         class Book(models.Model):
809.             author = models.ForeignKey(Author, models.CASCADE)
810.             publisher = models.ForeignKey(Publisher, models.CASCADE)
811. 
812.             class Meta:
813.                 app_label = "migrations"
814.                 apps = new_apps
815. 
816.         class Magazine(models.Model):
817.             authors = models.ManyToManyField(Author)
818. 
819.             class Meta:
820.                 app_label = "migrations"
821.                 apps = new_apps
822. 
823.         # Make a valid ProjectState and render it
824.         project_state = ProjectState()
825.         project_state.add_model(ModelState.from_model(Author))
826.         project_state.add_model(ModelState.from_model(Publisher))
827.         project_state.add_model(ModelState.from_model(Book))
828.         project_state.add_model(ModelState.from_model(Magazine))
829.         self.assertEqual(len(project_state.apps.get_models()), 4)
830. 
831.         # now make an invalid one with a ForeignKey
832.         project_state = ProjectState()
833.         project_state.add_model(ModelState.from_model(Book))
834.         msg = (
835.             "The field migrations.Book.author was declared with a lazy reference "
836.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
837.             "The field migrations.Book.publisher was declared with a lazy reference "
838.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'."
839.         )
840.         with self.assertRaisesMessage(ValueError, msg):
841.             project_state.apps
842. 
843.         # And another with ManyToManyField.
844.         project_state = ProjectState()
845.         project_state.add_model(ModelState.from_model(Magazine))
846.         msg = (
847.             "The field migrations.Magazine.authors was declared with a lazy reference "
848.             "to 'migrations.author\', but app 'migrations' doesn't provide model 'author'.\n"
849.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
850.             "to \'migrations.author\', but app 'migrations' doesn't provide model 'author'."
851.         )
852.         with self.assertRaisesMessage(ValueError, msg):
853.             project_state.apps
854. 
855.         # And now with multiple models and multiple fields.
856.         project_state.add_model(ModelState.from_model(Book))
857.         msg = (
858.             "The field migrations.Book.author was declared with a lazy reference "
859.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
860.             "The field migrations.Book.publisher was declared with a lazy reference "
861.             "to 'migrations.publisher', but app 'migrations' doesn't provide model 'publisher'.\n"
862.             "The field migrations.Magazine.authors was declared with a lazy reference "
863.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'.\n"
864.             "The field migrations.Magazine_authors.author was declared with a lazy reference "
865.             "to 'migrations.author', but app 'migrations' doesn't provide model 'author'."
866.         )
867.         with self.assertRaisesMessage(ValueError, msg):
868.             project_state.apps
869. 
870.     def test_reference_mixed_case_app_label(self):
871.         new_apps = Apps()
872. 
873.         class Author(models.Model):
874.             class Meta:
875.                 app_label = 'MiXedCase_migrations'
876.                 apps = new_apps
877. 
878.         class Book(models.Model):
879.             author = models.ForeignKey(Author, models.CASCADE)
880. 
881.             class Meta:
882.                 app_label = 'MiXedCase_migrations'
883.                 apps = new_apps
884. 
885.         class Magazine(models.Model):
886.             authors = models.ManyToManyField(Author)
887. 
888.             class Meta:
889.                 app_label = 'MiXedCase_migrations'
890.                 apps = new_apps
891. 
892.         project_state = ProjectState()
893.         project_state.add_model(ModelState.from_model(Author))
894.         project_state.add_model(ModelState.from_model(Book))
895.         project_state.add_model(ModelState.from_model(Magazine))
896.         self.assertEqual(len(project_state.apps.get_models()), 3)
897. 
898.     def test_real_apps(self):
899.         """
900.         Including real apps can resolve dangling FK errors.
901.         This test relies on the fact that contenttypes is always loaded.
902.         """
903.         new_apps = Apps()
904. 
905.         class TestModel(models.Model):
906.             ct = models.ForeignKey("contenttypes.ContentType", models.CASCADE)
907. 
908.             class Meta:
909.                 app_label = "migrations"
910.                 apps = new_apps
911. 
912.         # If we just stick it into an empty state it should fail
913.         project_state = ProjectState()
914.         project_state.add_model(ModelState.from_model(TestModel))
915.         with self.assertRaises(ValueError):
916.             project_state.apps
917. 
918.         # If we include the real app it should succeed
919.         project_state = ProjectState(real_apps={'contenttypes'})
920.         project_state.add_model(ModelState.from_model(TestModel))
921.         rendered_state = project_state.apps
922.         self.assertEqual(
923.             len([x for x in rendered_state.get_models() if x._meta.app_label == "migrations"]),
924.             1,
925.         )
926. 
927.     def test_ignore_order_wrt(self):
928.         """
929.         Makes sure ProjectState doesn't include OrderWrt fields when
930.         making from existing models.
931.         """
932.         new_apps = Apps()
933. 
934.         class Author(models.Model):
935.             name = models.TextField()
936. 
937.             class Meta:
938.                 app_label = "migrations"
939.                 apps = new_apps
940. 
941.         class Book(models.Model):
942.             author = models.ForeignKey(Author, models.CASCADE)
943. 
944.             class Meta:
945.                 app_label = "migrations"
946.                 apps = new_apps
947.                 order_with_respect_to = "author"
948. 
949.         # Make a valid ProjectState and render it
950.         project_state = ProjectState()
951.         project_state.add_model(ModelState.from_model(Author))
952.         project_state.add_model(ModelState.from_model(Book))
953.         self.assertEqual(
954.             list(project_state.models['migrations', 'book'].fields),
955.             ["id", "author"],
956.         )
957. 
958.     def test_manager_refer_correct_model_version(self):
959.         """
960.         #24147 - Managers refer to the correct version of a
961.         historical model
962.         """
963.         project_state = ProjectState()
964.         project_state.add_model(ModelState(
965.             app_label="migrations",
966.             name="Tag",
967.             fields=[
968.                 ("id", models.AutoField(primary_key=True)),
969.                 ("hidden", models.BooleanField()),
970.             ],
971.             managers=[
972.                 ('food_mgr', FoodManager('a', 'b')),
973.                 ('food_qs', FoodQuerySet.as_manager()),
974.             ]
975.         ))
976. 
977.         old_model = project_state.apps.get_model('migrations', 'tag')
978. 
979.         new_state = project_state.clone()
980.         operation = RemoveField("tag", "hidden")
981.         operation.state_forwards("migrations", new_state)
982. 
983.         new_model = new_state.apps.get_model('migrations', 'tag')
984. 
985.         self.assertIsNot(old_model, new_model)
986.         self.assertIs(old_model, old_model.food_mgr.model)
987.         self.assertIs(old_model, old_model.food_qs.model)
988.         self.assertIs(new_model, new_model.food_mgr.model)
989.         self.assertIs(new_model, new_model.food_qs.model)
990.         self.assertIsNot(old_model.food_mgr, new_model.food_mgr)
991.         self.assertIsNot(old_model.food_qs, new_model.food_qs)
992.         self.assertIsNot(old_model.food_mgr.model, new_model.food_mgr.model)
993.         self.assertIsNot(old_model.food_qs.model, new_model.food_qs.model)
994. 
995.     def test_choices_iterator(self):
996.         """
997.         #24483 - ProjectState.from_apps should not destructively consume
998.         Field.choices iterators.
999.         """
1000.         new_apps = Apps(["migrations"])
1001.         choices = [('a', 'A'), ('b', 'B')]
1002. 
1003.         class Author(models.Model):
1004.             name = models.CharField(max_length=255)
1005.             choice = models.CharField(max_length=255, choices=iter(choices))
1006. 
1007.             class Meta:
1008.                 app_label = "migrations"
1009.                 apps = new_apps
1010. 
1011.         ProjectState.from_apps(new_apps)
1012.         choices_field = Author._meta.get_field('choice')
1013.         self.assertEqual(list(choices_field.choices), choices)
1014. 
1015. 
1016. class ModelStateTests(SimpleTestCase):
1017.     def test_custom_model_base(self):
1018.         state = ModelState.from_model(ModelWithCustomBase)
1019.         self.assertEqual(state.bases, (models.Model,))
1020. 
1021.     def test_bound_field_sanity_check(self):
1022.         field = models.CharField(max_length=1)
1023.         field.model = models.Model
1024.         with self.assertRaisesMessage(ValueError, 'ModelState.fields cannot be bound to a model - "field" is.'):
1025.             ModelState('app', 'Model', [('field', field)])
1026. 
1027.     def test_sanity_check_to(self):
1028.         field = models.ForeignKey(UnicodeModel, models.CASCADE)
1029.         with self.assertRaisesMessage(
1030.             ValueError,
1031.             'ModelState.fields cannot refer to a model class - "field.to" does. '
1032.             'Use a string reference instead.'
1033.         ):
1034.             ModelState('app', 'Model', [('field', field)])
1035. 
1036.     def test_sanity_check_through(self):
1037.         field = models.ManyToManyField('UnicodeModel')
1038.         field.remote_field.through = UnicodeModel
1039.         with self.assertRaisesMessage(
1040.             ValueError,
1041.             'ModelState.fields cannot refer to a model class - "field.through" does. '
1042.             'Use a string reference instead.'
1043.         ):
1044.             ModelState('app', 'Model', [('field', field)])
1045. 
1046.     def test_sanity_index_name(self):
1047.         field = models.IntegerField()
1048.         options = {'indexes': [models.Index(fields=['field'])]}
1049.         msg = (
1050.             "Indexes passed to ModelState require a name attribute. <Index: "
1051.             "fields=['field']> doesn't have one."
1052.         )
1053.         with self.assertRaisesMessage(ValueError, msg):
1054.             ModelState('app', 'Model', [('field', field)], options=options)
1055. 
1056.     def test_fields_immutability(self):
1057.         """
1058.         Rendering a model state doesn't alter its internal fields.
1059.         """
1060.         apps = Apps()
1061.         field = models.CharField(max_length=1)
1062.         state = ModelState('app', 'Model', [('name', field)])
1063.         Model = state.render(apps)
1064.         self.assertNotEqual(Model._meta.get_field('name'), field)
1065. 
1066.     def test_repr(self):
1067.         field = models.CharField(max_length=1)
1068.         state = ModelState('app', 'Model', [('name', field)], bases=['app.A', 'app.B', 'app.C'])
1069.         self.assertEqual(repr(state), "<ModelState: 'app.Model'>")
1070. 
1071.         project_state = ProjectState()
1072.         project_state.add_model(state)
1073.         with self.assertRaisesMessage(InvalidBasesError, "Cannot resolve bases for [<ModelState: 'app.Model'>]"):
1074.             project_state.apps
1075. 
1076.     def test_fields_ordering_equality(self):
1077.         state = ModelState(
1078.             'migrations',
1079.             'Tag',
1080.             [
1081.                 ('id', models.AutoField(primary_key=True)),
1082.                 ('name', models.CharField(max_length=100)),
1083.                 ('hidden', models.BooleanField()),
1084.             ],
1085.         )
1086.         reordered_state = ModelState(
1087.             'migrations',
1088.             'Tag',
1089.             [
1090.                 ('id', models.AutoField(primary_key=True)),
1091.                 # Purposely re-ordered.
1092.                 ('hidden', models.BooleanField()),
1093.                 ('name', models.CharField(max_length=100)),
1094.             ],
1095.         )
1096.         self.assertEqual(state, reordered_state)
1097. 
1098.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1099.     def test_create_swappable(self):
1100.         """
1101.         Tests making a ProjectState from an Apps with a swappable model
1102.         """
1103.         new_apps = Apps(['migrations'])
1104. 
1105.         class Author(models.Model):
1106.             name = models.CharField(max_length=255)
1107.             bio = models.TextField()
1108.             age = models.IntegerField(blank=True, null=True)
1109. 
1110.             class Meta:
1111.                 app_label = 'migrations'
1112.                 apps = new_apps
1113.                 swappable = 'TEST_SWAPPABLE_MODEL'
1114. 
1115.         author_state = ModelState.from_model(Author)
1116.         self.assertEqual(author_state.app_label, 'migrations')
1117.         self.assertEqual(author_state.name, 'Author')
1118.         self.assertEqual(list(author_state.fields), ['id', 'name', 'bio', 'age'])
1119.         self.assertEqual(author_state.fields['name'].max_length, 255)
1120.         self.assertIs(author_state.fields['bio'].null, False)
1121.         self.assertIs(author_state.fields['age'].null, True)
1122.         self.assertEqual(author_state.options, {'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], "constraints": []})
1123.         self.assertEqual(author_state.bases, (models.Model,))
1124.         self.assertEqual(author_state.managers, [])
1125. 
1126.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1127.     def test_create_swappable_from_abstract(self):
1128.         """
1129.         A swappable model inheriting from a hierarchy:
1130.         concrete -> abstract -> concrete.
1131.         """
1132.         new_apps = Apps(['migrations'])
1133. 
1134.         class SearchableLocation(models.Model):
1135.             keywords = models.CharField(max_length=256)
1136. 
1137.             class Meta:
1138.                 app_label = 'migrations'
1139.                 apps = new_apps
1140. 
1141.         class Station(SearchableLocation):
1142.             name = models.CharField(max_length=128)
1143. 
1144.             class Meta:
1145.                 abstract = True
1146. 
1147.         class BusStation(Station):
1148.             bus_routes = models.CharField(max_length=128)
1149.             inbound = models.BooleanField(default=False)
1150. 
1151.             class Meta(Station.Meta):
1152.                 app_label = 'migrations'
1153.                 apps = new_apps
1154.                 swappable = 'TEST_SWAPPABLE_MODEL'
1155. 
1156.         station_state = ModelState.from_model(BusStation)
1157.         self.assertEqual(station_state.app_label, 'migrations')
1158.         self.assertEqual(station_state.name, 'BusStation')
1159.         self.assertEqual(
1160.             list(station_state.fields),
1161.             ['searchablelocation_ptr', 'name', 'bus_routes', 'inbound']
1162.         )
1163.         self.assertEqual(station_state.fields['name'].max_length, 128)
1164.         self.assertIs(station_state.fields['bus_routes'].null, False)
1165.         self.assertEqual(
1166.             station_state.options,
1167.             {'abstract': False, 'swappable': 'TEST_SWAPPABLE_MODEL', 'indexes': [], 'constraints': []}
1168.         )
1169.         self.assertEqual(station_state.bases, ('migrations.searchablelocation',))
1170.         self.assertEqual(station_state.managers, [])
1171. 
1172.     @override_settings(TEST_SWAPPABLE_MODEL='migrations.SomeFakeModel')
1173.     def test_custom_manager_swappable(self):
1174.         """
1175.         Tests making a ProjectState from unused models with custom managers
1176.         """
1177.         new_apps = Apps(['migrations'])
1178. 
1179.         class Food(models.Model):
1180. 
1181.             food_mgr = FoodManager('a', 'b')
1182.             food_qs = FoodQuerySet.as_manager()
1183.             food_no_mgr = NoMigrationFoodManager('x', 'y')
1184. 
1185.             class Meta:
1186.                 app_label = "migrations"
1187.                 apps = new_apps
1188.                 swappable = 'TEST_SWAPPABLE_MODEL'
1189. 
1190.         food_state = ModelState.from_model(Food)
1191. 
1192.         # The default manager is used in migrations
1193.         self.assertEqual([name for name, mgr in food_state.managers], ['food_mgr'])
1194.         self.assertEqual(food_state.managers[0][1].args, ('a', 'b', 1, 2))
1195. 
1196.     @isolate_apps('migrations', 'django.contrib.contenttypes')
1197.     def test_order_with_respect_to_private_field(self):
1198.         class PrivateFieldModel(models.Model):
1199.             content_type = models.ForeignKey('contenttypes.ContentType', models.CASCADE)
1200.             object_id = models.PositiveIntegerField()
1201.             private = GenericForeignKey()
1202. 
1203.             class Meta:
1204.                 order_with_respect_to = 'private'
1205. 
1206.         state = ModelState.from_model(PrivateFieldModel)
1207.         self.assertNotIn('order_with_respect_to', state.options)
1208. 
1209.     @isolate_apps('migrations')
1210.     def test_abstract_model_children_inherit_indexes(self):
1211.         class Abstract(models.Model):
1212.             name = models.CharField(max_length=50)
1213. 
1214.             class Meta:
1215.                 app_label = 'migrations'
1216.                 abstract = True
1217.                 indexes = [models.Index(fields=['name'])]
1218. 
1219.         class Child1(Abstract):
1220.             pass
1221. 
1222.         class Child2(Abstract):
1223.             pass
1224. 
1225.         child1_state = ModelState.from_model(Child1)
1226.         child2_state = ModelState.from_model(Child2)
1227.         index_names = [index.name for index in child1_state.options['indexes']]
1228.         self.assertEqual(index_names, ['migrations__name_b0afd7_idx'])
1229.         index_names = [index.name for index in child2_state.options['indexes']]
1230.         self.assertEqual(index_names, ['migrations__name_016466_idx'])
1231. 
1232.         # Modifying the state doesn't modify the index on the model.
1233.         child1_state.options['indexes'][0].name = 'bar'
1234.         self.assertEqual(Child1._meta.indexes[0].name, 'migrations__name_b0afd7_idx')
1235. 
1236.     @isolate_apps('migrations')
1237.     def test_explicit_index_name(self):
1238.         class TestModel(models.Model):
1239.             name = models.CharField(max_length=50)
1240. 
1241.             class Meta:
1242.                 app_label = 'migrations'
1243.                 indexes = [models.Index(fields=['name'], name='foo_idx')]
1244. 
1245.         model_state = ModelState.from_model(TestModel)
1246.         index_names = [index.name for index in model_state.options['indexes']]
1247.         self.assertEqual(index_names, ['foo_idx'])
1248. 
1249.     @isolate_apps('migrations')
1250.     def test_from_model_constraints(self):
1251.         class ModelWithConstraints(models.Model):
1252.             size = models.IntegerField()
1253. 
1254.             class Meta:
1255.                 constraints = [models.CheckConstraint(check=models.Q(size__gt=1), name='size_gt_1')]
1256. 
1257.         state = ModelState.from_model(ModelWithConstraints)
1258.         model_constraints = ModelWithConstraints._meta.constraints
1259.         state_constraints = state.options['constraints']
1260.         self.assertEqual(model_constraints, state_constraints)
1261.         self.assertIsNot(model_constraints, state_constraints)
1262.         self.assertIsNot(model_constraints[0], state_constraints[0])
1263. 
1264. 
1265. class RelatedModelsTests(SimpleTestCase):
1266. 
1267.     def setUp(self):
1268.         self.apps = Apps(['migrations.related_models_app'])
1269. 
1270.     def create_model(self, name, foreign_keys=[], bases=(), abstract=False, proxy=False):
1271.         test_name = 'related_models_app'
1272.         assert not (abstract and proxy)
1273.         meta_contents = {
1274.             'abstract': abstract,
1275.             'app_label': test_name,
1276.             'apps': self.apps,
1277.             'proxy': proxy,
1278.         }
1279.         meta = type("Meta", (), meta_contents)
1280.         if not bases:
1281.             bases = (models.Model,)
1282.         body = {
1283.             'Meta': meta,
1284.             '__module__': "__fake__",
1285.         }
1286.         fname_base = fname = '%s_%%d' % name.lower()
1287.         for i, fk in enumerate(foreign_keys, 1):
1288.             fname = fname_base % i
1289.             body[fname] = fk
1290.         return type(name, bases, body)
1291. 
1292.     def assertRelated(self, model, needle):
1293.         self.assertEqual(
1294.             get_related_models_recursive(model),
1295.             {(n._meta.app_label, n._meta.model_name) for n in needle},
1296.         )
1297. 
1298.     def test_unrelated(self):
1299.         A = self.create_model("A")
1300.         B = self.create_model("B")
1301.         self.assertRelated(A, [])
1302.         self.assertRelated(B, [])
1303. 
1304.     def test_direct_fk(self):
1305.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1306.         B = self.create_model("B")
1307.         self.assertRelated(A, [B])
1308.         self.assertRelated(B, [A])
1309. 
1310.     def test_direct_hidden_fk(self):
1311.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE, related_name='+')])
1312.         B = self.create_model("B")
1313.         self.assertRelated(A, [B])
1314.         self.assertRelated(B, [A])
1315. 
1316.     def test_fk_through_proxy(self):
1317.         A = self.create_model("A")
1318.         B = self.create_model("B", bases=(A,), proxy=True)
1319.         C = self.create_model("C", bases=(B,), proxy=True)
1320.         D = self.create_model("D", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1321.         self.assertRelated(A, [B, C, D])
1322.         self.assertRelated(B, [A, C, D])
1323.         self.assertRelated(C, [A, B, D])
1324.         self.assertRelated(D, [A, B, C])
1325. 
1326.     def test_nested_fk(self):
1327.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1328.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1329.         C = self.create_model("C")
1330.         self.assertRelated(A, [B, C])
1331.         self.assertRelated(B, [A, C])
1332.         self.assertRelated(C, [A, B])
1333. 
1334.     def test_two_sided(self):
1335.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1336.         B = self.create_model("B", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1337.         self.assertRelated(A, [B])
1338.         self.assertRelated(B, [A])
1339. 
1340.     def test_circle(self):
1341.         A = self.create_model("A", foreign_keys=[models.ForeignKey('B', models.CASCADE)])
1342.         B = self.create_model("B", foreign_keys=[models.ForeignKey('C', models.CASCADE)])
1343.         C = self.create_model("C", foreign_keys=[models.ForeignKey('A', models.CASCADE)])
1344.         self.assertRelated(A, [B, C])
1345.         self.assertRelated(B, [A, C])
1346.         self.assertRelated(C, [A, B])
1347. 
1348.     def test_base(self):
1349.         A = self.create_model("A")
1350.         B = self.create_model("B", bases=(A,))
1351.         self.assertRelated(A, [B])
1352.         self.assertRelated(B, [A])
1353. 
1354.     def test_nested_base(self):
1355.         A = self.create_model("A")
1356.         B = self.create_model("B", bases=(A,))
1357.         C = self.create_model("C", bases=(B,))
1358.         self.assertRelated(A, [B, C])
1359.         self.assertRelated(B, [A, C])
1360.         self.assertRelated(C, [A, B])
1361. 
1362.     def test_multiple_bases(self):
1363.         A = self.create_model("A")
1364.         B = self.create_model("B")
1365.         C = self.create_model("C", bases=(A, B,))
1366.         self.assertRelated(A, [B, C])
1367.         self.assertRelated(B, [A, C])
1368.         self.assertRelated(C, [A, B])
1369. 
1370.     def test_multiple_nested_bases(self):
1371.         A = self.create_model("A")
1372.         B = self.create_model("B")
1373.         C = self.create_model("C", bases=(A, B,))
1374.         D = self.create_model("D")
1375.         E = self.create_model("E", bases=(D,))
1376.         F = self.create_model("F", bases=(C, E,))
1377.         Y = self.create_model("Y")
1378.         Z = self.create_model("Z", bases=(Y,))
1379.         self.assertRelated(A, [B, C, D, E, F])
1380.         self.assertRelated(B, [A, C, D, E, F])
1381.         self.assertRelated(C, [A, B, D, E, F])
1382.         self.assertRelated(D, [A, B, C, E, F])
1383.         self.assertRelated(E, [A, B, C, D, F])
1384.         self.assertRelated(F, [A, B, C, D, E])
1385.         self.assertRelated(Y, [Z])
1386.         self.assertRelated(Z, [Y])
1387. 
1388.     def test_base_to_base_fk(self):
1389.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Y', models.CASCADE)])
1390.         B = self.create_model("B", bases=(A,))
1391.         Y = self.create_model("Y")
1392.         Z = self.create_model("Z", bases=(Y,))
1393.         self.assertRelated(A, [B, Y, Z])
1394.         self.assertRelated(B, [A, Y, Z])
1395.         self.assertRelated(Y, [A, B, Z])
1396.         self.assertRelated(Z, [A, B, Y])
1397. 
1398.     def test_base_to_subclass_fk(self):
1399.         A = self.create_model("A", foreign_keys=[models.ForeignKey('Z', models.CASCADE)])
1400.         B = self.create_model("B", bases=(A,))
1401.         Y = self.create_model("Y")
1402.         Z = self.create_model("Z", bases=(Y,))
1403.         self.assertRelated(A, [B, Y, Z])
1404.         self.assertRelated(B, [A, Y, Z])
1405.         self.assertRelated(Y, [A, B, Z])
1406.         self.assertRelated(Z, [A, B, Y])
1407. 
1408.     def test_direct_m2m(self):
1409.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B')])
1410.         B = self.create_model("B")
1411.         self.assertRelated(A, [A.a_1.rel.through, B])
1412.         self.assertRelated(B, [A, A.a_1.rel.through])
1413. 
1414.     def test_direct_m2m_self(self):
1415.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A')])
1416.         self.assertRelated(A, [A.a_1.rel.through])
1417. 
1418.     def test_intermediate_m2m_self(self):
1419.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('A', through='T')])
1420.         T = self.create_model("T", foreign_keys=[
1421.             models.ForeignKey('A', models.CASCADE),
1422.             models.ForeignKey('A', models.CASCADE),
1423.         ])
1424.         self.assertRelated(A, [T])
1425.         self.assertRelated(T, [A])
1426. 
1427.     def test_intermediate_m2m(self):
1428.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1429.         B = self.create_model("B")
1430.         T = self.create_model("T", foreign_keys=[
1431.             models.ForeignKey('A', models.CASCADE),
1432.             models.ForeignKey('B', models.CASCADE),
1433.         ])
1434.         self.assertRelated(A, [B, T])
1435.         self.assertRelated(B, [A, T])
1436.         self.assertRelated(T, [A, B])
1437. 
1438.     def test_intermediate_m2m_extern_fk(self):
1439.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1440.         B = self.create_model("B")
1441.         Z = self.create_model("Z")
1442.         T = self.create_model("T", foreign_keys=[
1443.             models.ForeignKey('A', models.CASCADE),
1444.             models.ForeignKey('B', models.CASCADE),
1445.             models.ForeignKey('Z', models.CASCADE),
1446.         ])
1447.         self.assertRelated(A, [B, T, Z])
1448.         self.assertRelated(B, [A, T, Z])
1449.         self.assertRelated(T, [A, B, Z])
1450.         self.assertRelated(Z, [A, B, T])
1451. 
1452.     def test_intermediate_m2m_base(self):
1453.         A = self.create_model("A", foreign_keys=[models.ManyToManyField('B', through='T')])
1454.         B = self.create_model("B")
1455.         S = self.create_model("S")
1456.         T = self.create_model("T", foreign_keys=[
1457.             models.ForeignKey('A', models.CASCADE),
1458.             models.ForeignKey('B', models.CASCADE),
1459.         ], bases=(S,))
1460.         self.assertRelated(A, [B, S, T])
1461.         self.assertRelated(B, [A, S, T])
1462.         self.assertRelated(S, [A, B, T])
1463.         self.assertRelated(T, [A, B, S])
1464. 
1465.     def test_generic_fk(self):
1466.         A = self.create_model("A", foreign_keys=[
1467.             models.ForeignKey('B', models.CASCADE),
1468.             GenericForeignKey(),
1469.         ])
1470.         B = self.create_model("B", foreign_keys=[
1471.             models.ForeignKey('C', models.CASCADE),
1472.         ])
1473.         self.assertRelated(A, [B])
1474.         self.assertRelated(B, [A])
1475. 
1476.     def test_abstract_base(self):
1477.         A = self.create_model("A", abstract=True)
1478.         B = self.create_model("B", bases=(A,))
1479.         self.assertRelated(A, [B])
1480.         self.assertRelated(B, [])
1481. 
1482.     def test_nested_abstract_base(self):
1483.         A = self.create_model("A", abstract=True)
1484.         B = self.create_model("B", bases=(A,), abstract=True)
1485.         C = self.create_model("C", bases=(B,))
1486.         self.assertRelated(A, [B, C])
1487.         self.assertRelated(B, [C])
1488.         self.assertRelated(C, [])
1489. 
1490.     def test_proxy_base(self):
1491.         A = self.create_model("A")
1492.         B = self.create_model("B", bases=(A,), proxy=True)
1493.         self.assertRelated(A, [B])
1494.         self.assertRelated(B, [])
1495. 
1496.     def test_nested_proxy_base(self):
1497.         A = self.create_model("A")
1498.         B = self.create_model("B", bases=(A,), proxy=True)
1499.         C = self.create_model("C", bases=(B,), proxy=True)
1500.         self.assertRelated(A, [B, C])
1501.         self.assertRelated(B, [C])
1502.         self.assertRelated(C, [])
1503. 
1504.     def test_multiple_mixed_bases(self):
1505.         A = self.create_model("A", abstract=True)
1506.         M = self.create_model("M")
1507.         P = self.create_model("P")
1508.         Q = self.create_model("Q", bases=(P,), proxy=True)
1509.         Z = self.create_model("Z", bases=(A, M, Q))
1510.         # M has a pointer O2O field p_ptr to P
1511.         self.assertRelated(A, [M, P, Q, Z])
1512.         self.assertRelated(M, [P, Q, Z])
1513.         self.assertRelated(P, [M, Q, Z])
1514.         self.assertRelated(Q, [M, P, Z])
1515.         self.assertRelated(Z, [M, P, Q])

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 09:08:17,443 - thread-129109720028864.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The provided context is sufficient to identify three relevant test cases. I have the file `django/db/migrations/state.py` which contains the `ProjectState` class that is being modified. I also have `tests/migrations/test_state.py` which contains tests for this class. I have identified three test cases from this file that are relevant to the user's query: `test_real_apps` which directly tests the `real_apps` parameter, `test_dangling_references_throw_error` which provides context on why `real_apps` is useful, and `test_equality` which tests the `clone()` method, an alternative initialization path for `ProjectState` that also uses `real_apps`. These three tests cover the functionality well. Therefore, no additional context is needed." query='' extra_requirements='' purpose=''
2025-12-23 09:08:17,444 - thread-129109720028864.prometheus_context_collector - INFO - Successfully retrieved 2 context snippets
