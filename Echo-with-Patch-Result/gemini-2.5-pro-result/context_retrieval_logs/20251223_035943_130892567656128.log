2025-12-23 03:59:43,054 - thread-130892567656128.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: flush() on self.stdout/stderr management commands doesn't work.

Description: Description
	
flush() is notably called during migrate command; it doesn't work, and a long migration effectively prints to stderr no relevant information up until the end:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
Then nothing more, but the migration is being done.
Then at the end of the real migration, the rest is flushed:
 Applying myapp.0002_auto_20200817_1030... OK
Expected behavior:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
 Applying myapp.0002_auto_20200817_1030...
then work
then OK

Patch information:
diff --git a/django/core/management/base.py b/django/core/management/base.py
index e6cbf8c64f..94592f6a11 100644
--- a/django/core/management/base.py
+++ b/django/core/management/base.py
@@ -117,7 +117,7 @@ class DjangoHelpFormatter(HelpFormatter):
         super().add_arguments(self._reordered_actions(actions))
 
 
-class OutputWrapper(TextIOBase):
+class OutputWrapper:
     """
     Wrapper around stdout/stderr
     """
@@ -150,6 +150,8 @@ class OutputWrapper(TextIOBase):
         style_func = style_func or self.style_func
         self._out.write(style_func(msg))
 
+TextIOBase.register(OutputWrapper)
+
 
 class BaseCommand:
     """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 03:59:43,674 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   └── SECURITY.md
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── bin
|   |   └── django-admin.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── test_django_admin_py.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_password_reset_timeout_days.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_default_hashing_algorithm.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_json_deprecation.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_deprecation.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   ├── test_is_ajax_deprecations.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_if_equal.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: flush() on self.stdout/stderr management commands doesn't work.

Description: Description
	
flush() is notably called during migrate command; it doesn't work, and a long migration effectively prints to stderr no relevant information up until the end:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
Then nothing more, but the migration is being done.
Then at the end of the real migration, the rest is flushed:
 Applying myapp.0002_auto_20200817_1030... OK
Expected behavior:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
 Applying myapp.0002_auto_20200817_1030...
then work
then OK

Patch information:
diff --git a/django/core/management/base.py b/django/core/management/base.py
index e6cbf8c64f..94592f6a11 100644
--- a/django/core/management/base.py
+++ b/django/core/management/base.py
@@ -117,7 +117,7 @@ class DjangoHelpFormatter(HelpFormatter):
         super().add_arguments(self._reordered_actions(actions))
 
 
-class OutputWrapper(TextIOBase):
+class OutputWrapper:
     """
     Wrapper around stdout/stderr
     """
@@ -150,6 +150,8 @@ class OutputWrapper(TextIOBase):
         style_func = style_func or self.style_func
         self._out.write(style_func(msg))
 
+TextIOBase.register(OutputWrapper)
+
 
 class BaseCommand:
     """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:00:02,535 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user is reporting a bug about `flush()` not working on `self.stdout/stderr` in Django management commands. To find relevant test cases, I need to examine tests that execute management commands and inspect their output. The most logical place to start is the test suite for management commands themselves. The current context is empty, so I have no code to analyze. I will start by requesting the main test file for admin scripts.' query='Please provide the full content of tests/admin_scripts/tests.py.' extra_requirements='' purpose='This file is likely to contain tests for the core management command functionality, including how command output is handled and tested, which is directly relevant to the bug report.'
2025-12-23 04:00:02,536 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/admin_scripts/tests.py.
2025-12-23 04:00:02,536 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:00:02,536 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:00:02,537 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:00:02,537 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/admin_scripts/tests.py.
Purpose: This file is likely to contain tests for the core management command functionality, including how command output is handled and tested, which is directly relevant to the bug report.
2025-12-23 04:00:05,048 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the entire content of the file located at `tests/admin_scripts/tests.py`, as you requested. This will allow you to examine the tests related to the core management command functionality and how command output is handled.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/admin_scripts/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2108, 'candidates_token_count': 71, 'total_token_count': 2298, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2108}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 71}], 'thoughts_token_count': 119, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1238646708743673, 'model_name': 'gemini-2.5-pro'} id='run--f3945ecf-9286-4977-abd1-be6ad0a9e10d-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_scripts/tests.py'}, 'id': 'e0c2d7ec-247a-42bb-8253-ead41e721b43', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2108, 'output_tokens': 71, 'total_tokens': 2298, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 119}}
2025-12-23 04:00:09,375 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the first 500 lines of the file and will now read the remaining content to provide you with the complete file.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/admin_scripts/tests.py", "end_line": 2000.0, "start_line": 501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10774, 'candidates_token_count': 57, 'total_token_count': 11140, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10774}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 57}], 'thoughts_token_count': 309, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2511767671819319, 'model_name': 'gemini-2.5-pro'} id='run--80aa14b0-5776-4c7b-ae51-ed0288797721-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/admin_scripts/tests.py', 'end_line': 2000.0, 'start_line': 501.0}, 'id': 'd5564786-16ea-4ddd-aa3f-69b7745abcb8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10774, 'output_tokens': 57, 'total_tokens': 11140, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 309}}
2025-12-23 04:00:12,054 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the complete content of `tests/admin_scripts/tests.py`. The file has been read in its entirety, and you can now access all of its contents for your review. This should provide the necessary context regarding the tests for the core management command functionality.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 37497, 'candidates_token_count': 57, 'total_token_count': 37647, 'cached_content_token_count': 9573, 'prompt_tokens_details': [{'modality': 1, 'token_count': 37497}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9573}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 57}], 'thoughts_token_count': 93}, 'finish_reason': 'STOP', 'avg_logprobs': -0.38899655927691545, 'model_name': 'gemini-2.5-pro'} id='run--8eeb0f8c-7175-4090-b0ff-979b1ed5e923-0' usage_metadata={'input_tokens': 37497, 'output_tokens': 57, 'total_tokens': 37647, 'input_token_details': {'cache_read': 9573}, 'output_token_details': {'reasoning': 93}}
2025-12-23 04:00:12,057 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/admin_scripts/tests.py.
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is likely to contain tests for the core management command functionality, including how command output is handled and tested, which is directly relevant to the bug report.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/admin_scripts/tests.py
Line number range: 1 - 500
Content:
1. """
2. A series of tests to establish that the command-line management tools work as
3. advertised - especially with regards to the handling of the
4. DJANGO_SETTINGS_MODULE and default settings.py files.
5. """
6. import os
7. import re
8. import shutil
9. import socket
10. import subprocess
11. import sys
12. import tempfile
13. import unittest
14. from io import StringIO
15. from unittest import mock
16. 
17. from django import conf, get_version
18. from django.conf import settings
19. from django.core.management import (
20.     BaseCommand, CommandError, call_command, color,
21. )
22. from django.core.management.commands.loaddata import Command as LoaddataCommand
23. from django.core.management.commands.runserver import (
24.     Command as RunserverCommand,
25. )
26. from django.core.management.commands.testserver import (
27.     Command as TestserverCommand,
28. )
29. from django.db import ConnectionHandler, connection
30. from django.db.migrations.recorder import MigrationRecorder
31. from django.test import (
32.     LiveServerTestCase, SimpleTestCase, TestCase, override_settings,
33. )
34. 
35. custom_templates_dir = os.path.join(os.path.dirname(__file__), 'custom_templates')
36. 
37. SYSTEM_CHECK_MSG = 'System check identified no issues'
38. 
39. 
40. class AdminScriptTestCase(SimpleTestCase):
41.     def setUp(self):
42.         tmpdir = tempfile.TemporaryDirectory()
43.         self.addCleanup(tmpdir.cleanup)
44.         # os.path.realpath() is required for temporary directories on macOS,
45.         # where `/var` is a symlink to `/private/var`.
46.         self.test_dir = os.path.realpath(os.path.join(tmpdir.name, 'test_project'))
47.         os.mkdir(self.test_dir)
48. 
49.     def write_settings(self, filename, apps=None, is_dir=False, sdict=None, extra=None):
50.         if is_dir:
51.             settings_dir = os.path.join(self.test_dir, filename)
52.             os.mkdir(settings_dir)
53.             settings_file_path = os.path.join(settings_dir, '__init__.py')
54.         else:
55.             settings_file_path = os.path.join(self.test_dir, filename)
56. 
57.         with open(settings_file_path, 'w') as settings_file:
58.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
59.             if extra:
60.                 settings_file.write("%s\n" % extra)
61.             exports = [
62.                 'DATABASES',
63.                 'ROOT_URLCONF',
64.                 'SECRET_KEY',
65.             ]
66.             for s in exports:
67.                 if hasattr(settings, s):
68.                     o = getattr(settings, s)
69.                     if not isinstance(o, (dict, tuple, list)):
70.                         o = "'%s'" % o
71.                     settings_file.write("%s = %s\n" % (s, o))
72. 
73.             if apps is None:
74.                 apps = ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts']
75. 
76.             settings_file.write("INSTALLED_APPS = %s\n" % apps)
77. 
78.             if sdict:
79.                 for k, v in sdict.items():
80.                     settings_file.write("%s = %s\n" % (k, v))
81. 
82.     def _ext_backend_paths(self):
83.         """
84.         Returns the paths for any external backend packages.
85.         """
86.         paths = []
87.         for backend in settings.DATABASES.values():
88.             package = backend['ENGINE'].split('.')[0]
89.             if package != 'django':
90.                 backend_pkg = __import__(package)
91.                 backend_dir = os.path.dirname(backend_pkg.__file__)
92.                 paths.append(os.path.dirname(backend_dir))
93.         return paths
94. 
95.     def run_test(self, args, settings_file=None, apps=None):
96.         base_dir = os.path.dirname(self.test_dir)
97.         # The base dir for Django's tests is one level up.
98.         tests_dir = os.path.dirname(os.path.dirname(__file__))
99.         # The base dir for Django is one level above the test dir. We don't use
100.         # `import django` to figure that out, so we don't pick up a Django
101.         # from site-packages or similar.
102.         django_dir = os.path.dirname(tests_dir)
103.         ext_backend_base_dirs = self._ext_backend_paths()
104. 
105.         # Define a temporary environment for the subprocess
106.         test_environ = os.environ.copy()
107. 
108.         # Set the test environment
109.         if settings_file:
110.             test_environ['DJANGO_SETTINGS_MODULE'] = settings_file
111.         elif 'DJANGO_SETTINGS_MODULE' in test_environ:
112.             del test_environ['DJANGO_SETTINGS_MODULE']
113.         python_path = [base_dir, django_dir, tests_dir]
114.         python_path.extend(ext_backend_base_dirs)
115.         test_environ['PYTHONPATH'] = os.pathsep.join(python_path)
116.         test_environ['PYTHONWARNINGS'] = ''
117. 
118.         p = subprocess.run(
119.             [sys.executable, *args],
120.             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
121.             cwd=self.test_dir,
122.             env=test_environ, universal_newlines=True,
123.         )
124.         return p.stdout, p.stderr
125. 
126.     def run_django_admin(self, args, settings_file=None):
127.         return self.run_test(['-m', 'django', *args], settings_file)
128. 
129.     def run_manage(self, args, settings_file=None, manage_py=None):
130.         template_manage_py = (
131.             os.path.join(os.path.dirname(__file__), manage_py)
132.             if manage_py else
133.             os.path.join(os.path.dirname(conf.__file__), 'project_template', 'manage.py-tpl')
134.         )
135.         test_manage_py = os.path.join(self.test_dir, 'manage.py')
136.         shutil.copyfile(template_manage_py, test_manage_py)
137. 
138.         with open(test_manage_py) as fp:
139.             manage_py_contents = fp.read()
140.         manage_py_contents = manage_py_contents.replace(
141.             "{{ project_name }}", "test_project")
142.         with open(test_manage_py, 'w') as fp:
143.             fp.write(manage_py_contents)
144. 
145.         return self.run_test(['./manage.py', *args], settings_file)
146. 
147.     def assertNoOutput(self, stream):
148.         "Utility assertion: assert that the given stream is empty"
149.         self.assertEqual(len(stream), 0, "Stream should be empty: actually contains '%s'" % stream)
150. 
151.     def assertOutput(self, stream, msg, regex=False):
152.         "Utility assertion: assert that the given message exists in the output"
153.         if regex:
154.             self.assertIsNotNone(
155.                 re.search(msg, stream),
156.                 "'%s' does not match actual output text '%s'" % (msg, stream)
157.             )
158.         else:
159.             self.assertIn(msg, stream, "'%s' does not match actual output text '%s'" % (msg, stream))
160. 
161.     def assertNotInOutput(self, stream, msg):
162.         "Utility assertion: assert that the given message doesn't exist in the output"
163.         self.assertNotIn(msg, stream, "'%s' matches actual output text '%s'" % (msg, stream))
164. 
165. ##########################################################################
166. # DJANGO ADMIN TESTS
167. # This first series of test classes checks the environment processing
168. # of the django-admin.py script
169. ##########################################################################
170. 
171. 
172. class DjangoAdminNoSettings(AdminScriptTestCase):
173.     "A series of tests for django-admin.py when there is no settings.py file."
174. 
175.     def test_builtin_command(self):
176.         "no settings: django-admin builtin commands fail with an error when no settings provided"
177.         args = ['check', 'admin_scripts']
178.         out, err = self.run_django_admin(args)
179.         self.assertNoOutput(out)
180.         self.assertOutput(err, 'settings are not configured')
181. 
182.     def test_builtin_with_bad_settings(self):
183.         "no settings: django-admin builtin commands fail if settings file (from argument) doesn't exist"
184.         args = ['check', '--settings=bad_settings', 'admin_scripts']
185.         out, err = self.run_django_admin(args)
186.         self.assertNoOutput(out)
187.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
188. 
189.     def test_builtin_with_bad_environment(self):
190.         "no settings: django-admin builtin commands fail if settings file (from environment) doesn't exist"
191.         args = ['check', 'admin_scripts']
192.         out, err = self.run_django_admin(args, 'bad_settings')
193.         self.assertNoOutput(out)
194.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
195. 
196.     def test_commands_with_invalid_settings(self):
197.         """
198.         Commands that don't require settings succeed if the settings file
199.         doesn't exist.
200.         """
201.         args = ['startproject']
202.         out, err = self.run_django_admin(args, settings_file='bad_settings')
203.         self.assertNoOutput(out)
204.         self.assertOutput(err, "You must provide a project name", regex=True)
205. 
206. 
207. class DjangoAdminDefaultSettings(AdminScriptTestCase):
208.     """A series of tests for django-admin.py when using a settings.py file that
209.     contains the test application.
210.     """
211.     def setUp(self):
212.         super().setUp()
213.         self.write_settings('settings.py')
214. 
215.     def test_builtin_command(self):
216.         "default: django-admin builtin commands fail with an error when no settings provided"
217.         args = ['check', 'admin_scripts']
218.         out, err = self.run_django_admin(args)
219.         self.assertNoOutput(out)
220.         self.assertOutput(err, 'settings are not configured')
221. 
222.     def test_builtin_with_settings(self):
223.         "default: django-admin builtin commands succeed if settings are provided as argument"
224.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
225.         out, err = self.run_django_admin(args)
226.         self.assertNoOutput(err)
227.         self.assertOutput(out, SYSTEM_CHECK_MSG)
228. 
229.     def test_builtin_with_environment(self):
230.         "default: django-admin builtin commands succeed if settings are provided in the environment"
231.         args = ['check', 'admin_scripts']
232.         out, err = self.run_django_admin(args, 'test_project.settings')
233.         self.assertNoOutput(err)
234.         self.assertOutput(out, SYSTEM_CHECK_MSG)
235. 
236.     def test_builtin_with_bad_settings(self):
237.         "default: django-admin builtin commands fail if settings file (from argument) doesn't exist"
238.         args = ['check', '--settings=bad_settings', 'admin_scripts']
239.         out, err = self.run_django_admin(args)
240.         self.assertNoOutput(out)
241.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
242. 
243.     def test_builtin_with_bad_environment(self):
244.         "default: django-admin builtin commands fail if settings file (from environment) doesn't exist"
245.         args = ['check', 'admin_scripts']
246.         out, err = self.run_django_admin(args, 'bad_settings')
247.         self.assertNoOutput(out)
248.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
249. 
250.     def test_custom_command(self):
251.         "default: django-admin can't execute user commands if it isn't provided settings"
252.         args = ['noargs_command']
253.         out, err = self.run_django_admin(args)
254.         self.assertNoOutput(out)
255.         self.assertOutput(err, "No Django settings specified")
256.         self.assertOutput(err, "Unknown command: 'noargs_command'")
257. 
258.     def test_custom_command_with_settings(self):
259.         "default: django-admin can execute user commands if settings are provided as argument"
260.         args = ['noargs_command', '--settings=test_project.settings']
261.         out, err = self.run_django_admin(args)
262.         self.assertNoOutput(err)
263.         self.assertOutput(out, "EXECUTE: noargs_command")
264. 
265.     def test_custom_command_with_environment(self):
266.         "default: django-admin can execute user commands if settings are provided in environment"
267.         args = ['noargs_command']
268.         out, err = self.run_django_admin(args, 'test_project.settings')
269.         self.assertNoOutput(err)
270.         self.assertOutput(out, "EXECUTE: noargs_command")
271. 
272. 
273. class DjangoAdminFullPathDefaultSettings(AdminScriptTestCase):
274.     """A series of tests for django-admin.py when using a settings.py file that
275.     contains the test application specified using a full path.
276.     """
277.     def setUp(self):
278.         super().setUp()
279.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes',
280.                                             'admin_scripts', 'admin_scripts.complex_app'])
281. 
282.     def test_builtin_command(self):
283.         "fulldefault: django-admin builtin commands fail with an error when no settings provided"
284.         args = ['check', 'admin_scripts']
285.         out, err = self.run_django_admin(args)
286.         self.assertNoOutput(out)
287.         self.assertOutput(err, 'settings are not configured')
288. 
289.     def test_builtin_with_settings(self):
290.         "fulldefault: django-admin builtin commands succeed if a settings file is provided"
291.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
292.         out, err = self.run_django_admin(args)
293.         self.assertNoOutput(err)
294.         self.assertOutput(out, SYSTEM_CHECK_MSG)
295. 
296.     def test_builtin_with_environment(self):
297.         "fulldefault: django-admin builtin commands succeed if the environment contains settings"
298.         args = ['check', 'admin_scripts']
299.         out, err = self.run_django_admin(args, 'test_project.settings')
300.         self.assertNoOutput(err)
301.         self.assertOutput(out, SYSTEM_CHECK_MSG)
302. 
303.     def test_builtin_with_bad_settings(self):
304.         "fulldefault: django-admin builtin commands fail if settings file (from argument) doesn't exist"
305.         args = ['check', '--settings=bad_settings', 'admin_scripts']
306.         out, err = self.run_django_admin(args)
307.         self.assertNoOutput(out)
308.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
309. 
310.     def test_builtin_with_bad_environment(self):
311.         "fulldefault: django-admin builtin commands fail if settings file (from environment) doesn't exist"
312.         args = ['check', 'admin_scripts']
313.         out, err = self.run_django_admin(args, 'bad_settings')
314.         self.assertNoOutput(out)
315.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
316. 
317.     def test_custom_command(self):
318.         "fulldefault: django-admin can't execute user commands unless settings are provided"
319.         args = ['noargs_command']
320.         out, err = self.run_django_admin(args)
321.         self.assertNoOutput(out)
322.         self.assertOutput(err, "No Django settings specified")
323.         self.assertOutput(err, "Unknown command: 'noargs_command'")
324. 
325.     def test_custom_command_with_settings(self):
326.         "fulldefault: django-admin can execute user commands if settings are provided as argument"
327.         args = ['noargs_command', '--settings=test_project.settings']
328.         out, err = self.run_django_admin(args)
329.         self.assertNoOutput(err)
330.         self.assertOutput(out, "EXECUTE: noargs_command")
331. 
332.     def test_custom_command_with_environment(self):
333.         "fulldefault: django-admin can execute user commands if settings are provided in environment"
334.         args = ['noargs_command']
335.         out, err = self.run_django_admin(args, 'test_project.settings')
336.         self.assertNoOutput(err)
337.         self.assertOutput(out, "EXECUTE: noargs_command")
338. 
339. 
340. class DjangoAdminMinimalSettings(AdminScriptTestCase):
341.     """A series of tests for django-admin.py when using a settings.py file that
342.     doesn't contain the test application.
343.     """
344.     def setUp(self):
345.         super().setUp()
346.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
347. 
348.     def test_builtin_command(self):
349.         "minimal: django-admin builtin commands fail with an error when no settings provided"
350.         args = ['check', 'admin_scripts']
351.         out, err = self.run_django_admin(args)
352.         self.assertNoOutput(out)
353.         self.assertOutput(err, 'settings are not configured')
354. 
355.     def test_builtin_with_settings(self):
356.         "minimal: django-admin builtin commands fail if settings are provided as argument"
357.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
358.         out, err = self.run_django_admin(args)
359.         self.assertNoOutput(out)
360.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
361. 
362.     def test_builtin_with_environment(self):
363.         "minimal: django-admin builtin commands fail if settings are provided in the environment"
364.         args = ['check', 'admin_scripts']
365.         out, err = self.run_django_admin(args, 'test_project.settings')
366.         self.assertNoOutput(out)
367.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
368. 
369.     def test_builtin_with_bad_settings(self):
370.         "minimal: django-admin builtin commands fail if settings file (from argument) doesn't exist"
371.         args = ['check', '--settings=bad_settings', 'admin_scripts']
372.         out, err = self.run_django_admin(args)
373.         self.assertNoOutput(out)
374.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
375. 
376.     def test_builtin_with_bad_environment(self):
377.         "minimal: django-admin builtin commands fail if settings file (from environment) doesn't exist"
378.         args = ['check', 'admin_scripts']
379.         out, err = self.run_django_admin(args, 'bad_settings')
380.         self.assertNoOutput(out)
381.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
382. 
383.     def test_custom_command(self):
384.         "minimal: django-admin can't execute user commands unless settings are provided"
385.         args = ['noargs_command']
386.         out, err = self.run_django_admin(args)
387.         self.assertNoOutput(out)
388.         self.assertOutput(err, "No Django settings specified")
389.         self.assertOutput(err, "Unknown command: 'noargs_command'")
390. 
391.     def test_custom_command_with_settings(self):
392.         "minimal: django-admin can't execute user commands, even if settings are provided as argument"
393.         args = ['noargs_command', '--settings=test_project.settings']
394.         out, err = self.run_django_admin(args)
395.         self.assertNoOutput(out)
396.         self.assertOutput(err, "Unknown command: 'noargs_command'")
397. 
398.     def test_custom_command_with_environment(self):
399.         "minimal: django-admin can't execute user commands, even if settings are provided in environment"
400.         args = ['noargs_command']
401.         out, err = self.run_django_admin(args, 'test_project.settings')
402.         self.assertNoOutput(out)
403.         self.assertOutput(err, "Unknown command: 'noargs_command'")
404. 
405. 
406. class DjangoAdminAlternateSettings(AdminScriptTestCase):
407.     """A series of tests for django-admin.py when using a settings file
408.     with a name other than 'settings.py'.
409.     """
410.     def setUp(self):
411.         super().setUp()
412.         self.write_settings('alternate_settings.py')
413. 
414.     def test_builtin_command(self):
415.         "alternate: django-admin builtin commands fail with an error when no settings provided"
416.         args = ['check', 'admin_scripts']
417.         out, err = self.run_django_admin(args)
418.         self.assertNoOutput(out)
419.         self.assertOutput(err, 'settings are not configured')
420. 
421.     def test_builtin_with_settings(self):
422.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
423.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
424.         out, err = self.run_django_admin(args)
425.         self.assertNoOutput(err)
426.         self.assertOutput(out, SYSTEM_CHECK_MSG)
427. 
428.     def test_builtin_with_environment(self):
429.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
430.         args = ['check', 'admin_scripts']
431.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
432.         self.assertNoOutput(err)
433.         self.assertOutput(out, SYSTEM_CHECK_MSG)
434. 
435.     def test_builtin_with_bad_settings(self):
436.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
437.         args = ['check', '--settings=bad_settings', 'admin_scripts']
438.         out, err = self.run_django_admin(args)
439.         self.assertNoOutput(out)
440.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
441. 
442.     def test_builtin_with_bad_environment(self):
443.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
444.         args = ['check', 'admin_scripts']
445.         out, err = self.run_django_admin(args, 'bad_settings')
446.         self.assertNoOutput(out)
447.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
448. 
449.     def test_custom_command(self):
450.         "alternate: django-admin can't execute user commands unless settings are provided"
451.         args = ['noargs_command']
452.         out, err = self.run_django_admin(args)
453.         self.assertNoOutput(out)
454.         self.assertOutput(err, "No Django settings specified")
455.         self.assertOutput(err, "Unknown command: 'noargs_command'")
456. 
457.     def test_custom_command_with_settings(self):
458.         "alternate: django-admin can execute user commands if settings are provided as argument"
459.         args = ['noargs_command', '--settings=test_project.alternate_settings']
460.         out, err = self.run_django_admin(args)
461.         self.assertNoOutput(err)
462.         self.assertOutput(out, "EXECUTE: noargs_command")
463. 
464.     def test_custom_command_with_environment(self):
465.         "alternate: django-admin can execute user commands if settings are provided in environment"
466.         args = ['noargs_command']
467.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
468.         self.assertNoOutput(err)
469.         self.assertOutput(out, "EXECUTE: noargs_command")
470. 
471. 
472. class DjangoAdminMultipleSettings(AdminScriptTestCase):
473.     """A series of tests for django-admin.py when multiple settings files
474.     (including the default 'settings.py') are available. The default settings
475.     file is insufficient for performing the operations described, so the
476.     alternate settings must be used by the running script.
477.     """
478.     def setUp(self):
479.         super().setUp()
480.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
481.         self.write_settings('alternate_settings.py')
482. 
483.     def test_builtin_command(self):
484.         "alternate: django-admin builtin commands fail with an error when no settings provided"
485.         args = ['check', 'admin_scripts']
486.         out, err = self.run_django_admin(args)
487.         self.assertNoOutput(out)
488.         self.assertOutput(err, 'settings are not configured')
489. 
490.     def test_builtin_with_settings(self):
491.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
492.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
493.         out, err = self.run_django_admin(args)
494.         self.assertNoOutput(err)
495.         self.assertOutput(out, SYSTEM_CHECK_MSG)
496. 
497.     def test_builtin_with_environment(self):
498.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
499.         args = ['check', 'admin_scripts']
500.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')


File: tests/admin_scripts/tests.py
Line number range: 501 - 2000
Content:
501.         self.assertNoOutput(err)
502.         self.assertOutput(out, SYSTEM_CHECK_MSG)
503. 
504.     def test_builtin_with_bad_settings(self):
505.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
506.         args = ['check', '--settings=bad_settings', 'admin_scripts']
507.         out, err = self.run_django_admin(args)
508.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
509. 
510.     def test_builtin_with_bad_environment(self):
511.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
512.         args = ['check', 'admin_scripts']
513.         out, err = self.run_django_admin(args, 'bad_settings')
514.         self.assertNoOutput(out)
515.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
516. 
517.     def test_custom_command(self):
518.         "alternate: django-admin can't execute user commands unless settings are provided"
519.         args = ['noargs_command']
520.         out, err = self.run_django_admin(args)
521.         self.assertNoOutput(out)
522.         self.assertOutput(err, "No Django settings specified")
523.         self.assertOutput(err, "Unknown command: 'noargs_command'")
524. 
525.     def test_custom_command_with_settings(self):
526.         "alternate: django-admin can execute user commands if settings are provided as argument"
527.         args = ['noargs_command', '--settings=test_project.alternate_settings']
528.         out, err = self.run_django_admin(args)
529.         self.assertNoOutput(err)
530.         self.assertOutput(out, "EXECUTE: noargs_command")
531. 
532.     def test_custom_command_with_environment(self):
533.         "alternate: django-admin can execute user commands if settings are provided in environment"
534.         args = ['noargs_command']
535.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
536.         self.assertNoOutput(err)
537.         self.assertOutput(out, "EXECUTE: noargs_command")
538. 
539. 
540. class DjangoAdminSettingsDirectory(AdminScriptTestCase):
541.     """
542.     A series of tests for django-admin.py when the settings file is in a
543.     directory. (see #9751).
544.     """
545. 
546.     def setUp(self):
547.         super().setUp()
548.         self.write_settings('settings', is_dir=True)
549. 
550.     def test_setup_environ(self):
551.         "directory: startapp creates the correct directory"
552.         args = ['startapp', 'settings_test']
553.         app_path = os.path.join(self.test_dir, 'settings_test')
554.         out, err = self.run_django_admin(args, 'test_project.settings')
555.         self.assertNoOutput(err)
556.         self.assertTrue(os.path.exists(app_path))
557.         with open(os.path.join(app_path, 'apps.py')) as f:
558.             content = f.read()
559.             self.assertIn("class SettingsTestConfig(AppConfig)", content)
560.             self.assertIn("name = 'settings_test'", content)
561. 
562.     def test_setup_environ_custom_template(self):
563.         "directory: startapp creates the correct directory with a custom template"
564.         template_path = os.path.join(custom_templates_dir, 'app_template')
565.         args = ['startapp', '--template', template_path, 'custom_settings_test']
566.         app_path = os.path.join(self.test_dir, 'custom_settings_test')
567.         out, err = self.run_django_admin(args, 'test_project.settings')
568.         self.assertNoOutput(err)
569.         self.assertTrue(os.path.exists(app_path))
570.         self.assertTrue(os.path.exists(os.path.join(app_path, 'api.py')))
571. 
572.     def test_startapp_unicode_name(self):
573.         """startapp creates the correct directory with Unicode characters."""
574.         args = ['startapp', 'こんにちは']
575.         app_path = os.path.join(self.test_dir, 'こんにちは')
576.         out, err = self.run_django_admin(args, 'test_project.settings')
577.         self.assertNoOutput(err)
578.         self.assertTrue(os.path.exists(app_path))
579.         with open(os.path.join(app_path, 'apps.py'), encoding='utf8') as f:
580.             content = f.read()
581.             self.assertIn("class こんにちはConfig(AppConfig)", content)
582.             self.assertIn("name = 'こんにちは'", content)
583. 
584.     def test_builtin_command(self):
585.         "directory: django-admin builtin commands fail with an error when no settings provided"
586.         args = ['check', 'admin_scripts']
587.         out, err = self.run_django_admin(args)
588.         self.assertNoOutput(out)
589.         self.assertOutput(err, 'settings are not configured')
590. 
591.     def test_builtin_with_bad_settings(self):
592.         "directory: django-admin builtin commands fail if settings file (from argument) doesn't exist"
593.         args = ['check', '--settings=bad_settings', 'admin_scripts']
594.         out, err = self.run_django_admin(args)
595.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
596. 
597.     def test_builtin_with_bad_environment(self):
598.         "directory: django-admin builtin commands fail if settings file (from environment) doesn't exist"
599.         args = ['check', 'admin_scripts']
600.         out, err = self.run_django_admin(args, 'bad_settings')
601.         self.assertNoOutput(out)
602.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
603. 
604.     def test_custom_command(self):
605.         "directory: django-admin can't execute user commands unless settings are provided"
606.         args = ['noargs_command']
607.         out, err = self.run_django_admin(args)
608.         self.assertNoOutput(out)
609.         self.assertOutput(err, "No Django settings specified")
610.         self.assertOutput(err, "Unknown command: 'noargs_command'")
611. 
612.     def test_builtin_with_settings(self):
613.         "directory: django-admin builtin commands succeed if settings are provided as argument"
614.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
615.         out, err = self.run_django_admin(args)
616.         self.assertNoOutput(err)
617.         self.assertOutput(out, SYSTEM_CHECK_MSG)
618. 
619.     def test_builtin_with_environment(self):
620.         "directory: django-admin builtin commands succeed if settings are provided in the environment"
621.         args = ['check', 'admin_scripts']
622.         out, err = self.run_django_admin(args, 'test_project.settings')
623.         self.assertNoOutput(err)
624.         self.assertOutput(out, SYSTEM_CHECK_MSG)
625. 
626. 
627. ##########################################################################
628. # MANAGE.PY TESTS
629. # This next series of test classes checks the environment processing
630. # of the generated manage.py script
631. ##########################################################################
632. 
633. class ManageManuallyConfiguredSettings(AdminScriptTestCase):
634.     """Customized manage.py calling settings.configure()."""
635.     def test_non_existent_command_output(self):
636.         out, err = self.run_manage(['invalid_command'], manage_py='configured_settings_manage.py')
637.         self.assertNoOutput(out)
638.         self.assertOutput(err, "Unknown command: 'invalid_command'")
639.         self.assertNotInOutput(err, 'No Django settings specified')
640. 
641. 
642. class ManageNoSettings(AdminScriptTestCase):
643.     "A series of tests for manage.py when there is no settings.py file."
644. 
645.     def test_builtin_command(self):
646.         "no settings: manage.py builtin commands fail with an error when no settings provided"
647.         args = ['check', 'admin_scripts']
648.         out, err = self.run_manage(args)
649.         self.assertNoOutput(out)
650.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
651. 
652.     def test_builtin_with_bad_settings(self):
653.         "no settings: manage.py builtin commands fail if settings file (from argument) doesn't exist"
654.         args = ['check', '--settings=bad_settings', 'admin_scripts']
655.         out, err = self.run_manage(args)
656.         self.assertNoOutput(out)
657.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
658. 
659.     def test_builtin_with_bad_environment(self):
660.         "no settings: manage.py builtin commands fail if settings file (from environment) doesn't exist"
661.         args = ['check', 'admin_scripts']
662.         out, err = self.run_manage(args, 'bad_settings')
663.         self.assertNoOutput(out)
664.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
665. 
666. 
667. class ManageDefaultSettings(AdminScriptTestCase):
668.     """A series of tests for manage.py when using a settings.py file that
669.     contains the test application.
670.     """
671.     def setUp(self):
672.         super().setUp()
673.         self.write_settings('settings.py')
674. 
675.     def test_builtin_command(self):
676.         "default: manage.py builtin commands succeed when default settings are appropriate"
677.         args = ['check', 'admin_scripts']
678.         out, err = self.run_manage(args)
679.         self.assertNoOutput(err)
680.         self.assertOutput(out, SYSTEM_CHECK_MSG)
681. 
682.     def test_builtin_with_settings(self):
683.         "default: manage.py builtin commands succeed if settings are provided as argument"
684.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
685.         out, err = self.run_manage(args)
686.         self.assertNoOutput(err)
687.         self.assertOutput(out, SYSTEM_CHECK_MSG)
688. 
689.     def test_builtin_with_environment(self):
690.         "default: manage.py builtin commands succeed if settings are provided in the environment"
691.         args = ['check', 'admin_scripts']
692.         out, err = self.run_manage(args, 'test_project.settings')
693.         self.assertNoOutput(err)
694.         self.assertOutput(out, SYSTEM_CHECK_MSG)
695. 
696.     def test_builtin_with_bad_settings(self):
697.         "default: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
698.         args = ['check', '--settings=bad_settings', 'admin_scripts']
699.         out, err = self.run_manage(args)
700.         self.assertNoOutput(out)
701.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
702. 
703.     def test_builtin_with_bad_environment(self):
704.         "default: manage.py builtin commands fail if settings file (from environment) doesn't exist"
705.         args = ['check', 'admin_scripts']
706.         out, err = self.run_manage(args, 'bad_settings')
707.         self.assertNoOutput(out)
708.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
709. 
710.     def test_custom_command(self):
711.         "default: manage.py can execute user commands when default settings are appropriate"
712.         args = ['noargs_command']
713.         out, err = self.run_manage(args)
714.         self.assertNoOutput(err)
715.         self.assertOutput(out, "EXECUTE: noargs_command")
716. 
717.     def test_custom_command_with_settings(self):
718.         "default: manage.py can execute user commands when settings are provided as argument"
719.         args = ['noargs_command', '--settings=test_project.settings']
720.         out, err = self.run_manage(args)
721.         self.assertNoOutput(err)
722.         self.assertOutput(out, "EXECUTE: noargs_command")
723. 
724.     def test_custom_command_with_environment(self):
725.         "default: manage.py can execute user commands when settings are provided in environment"
726.         args = ['noargs_command']
727.         out, err = self.run_manage(args, 'test_project.settings')
728.         self.assertNoOutput(err)
729.         self.assertOutput(out, "EXECUTE: noargs_command")
730. 
731. 
732. class ManageFullPathDefaultSettings(AdminScriptTestCase):
733.     """A series of tests for manage.py when using a settings.py file that
734.     contains the test application specified using a full path.
735.     """
736.     def setUp(self):
737.         super().setUp()
738.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts'])
739. 
740.     def test_builtin_command(self):
741.         "fulldefault: manage.py builtin commands succeed when default settings are appropriate"
742.         args = ['check', 'admin_scripts']
743.         out, err = self.run_manage(args)
744.         self.assertNoOutput(err)
745.         self.assertOutput(out, SYSTEM_CHECK_MSG)
746. 
747.     def test_builtin_with_settings(self):
748.         "fulldefault: manage.py builtin commands succeed if settings are provided as argument"
749.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
750.         out, err = self.run_manage(args)
751.         self.assertNoOutput(err)
752.         self.assertOutput(out, SYSTEM_CHECK_MSG)
753. 
754.     def test_builtin_with_environment(self):
755.         "fulldefault: manage.py builtin commands succeed if settings are provided in the environment"
756.         args = ['check', 'admin_scripts']
757.         out, err = self.run_manage(args, 'test_project.settings')
758.         self.assertNoOutput(err)
759.         self.assertOutput(out, SYSTEM_CHECK_MSG)
760. 
761.     def test_builtin_with_bad_settings(self):
762.         "fulldefault: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
763.         args = ['check', '--settings=bad_settings', 'admin_scripts']
764.         out, err = self.run_manage(args)
765.         self.assertNoOutput(out)
766.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
767. 
768.     def test_builtin_with_bad_environment(self):
769.         "fulldefault: manage.py builtin commands fail if settings file (from environment) doesn't exist"
770.         args = ['check', 'admin_scripts']
771.         out, err = self.run_manage(args, 'bad_settings')
772.         self.assertNoOutput(out)
773.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
774. 
775.     def test_custom_command(self):
776.         "fulldefault: manage.py can execute user commands when default settings are appropriate"
777.         args = ['noargs_command']
778.         out, err = self.run_manage(args)
779.         self.assertNoOutput(err)
780.         self.assertOutput(out, "EXECUTE: noargs_command")
781. 
782.     def test_custom_command_with_settings(self):
783.         "fulldefault: manage.py can execute user commands when settings are provided as argument"
784.         args = ['noargs_command', '--settings=test_project.settings']
785.         out, err = self.run_manage(args)
786.         self.assertNoOutput(err)
787.         self.assertOutput(out, "EXECUTE: noargs_command")
788. 
789.     def test_custom_command_with_environment(self):
790.         "fulldefault: manage.py can execute user commands when settings are provided in environment"
791.         args = ['noargs_command']
792.         out, err = self.run_manage(args, 'test_project.settings')
793.         self.assertNoOutput(err)
794.         self.assertOutput(out, "EXECUTE: noargs_command")
795. 
796. 
797. class ManageMinimalSettings(AdminScriptTestCase):
798.     """A series of tests for manage.py when using a settings.py file that
799.     doesn't contain the test application.
800.     """
801.     def setUp(self):
802.         super().setUp()
803.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
804. 
805.     def test_builtin_command(self):
806.         "minimal: manage.py builtin commands fail with an error when no settings provided"
807.         args = ['check', 'admin_scripts']
808.         out, err = self.run_manage(args)
809.         self.assertNoOutput(out)
810.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
811. 
812.     def test_builtin_with_settings(self):
813.         "minimal: manage.py builtin commands fail if settings are provided as argument"
814.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
815.         out, err = self.run_manage(args)
816.         self.assertNoOutput(out)
817.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
818. 
819.     def test_builtin_with_environment(self):
820.         "minimal: manage.py builtin commands fail if settings are provided in the environment"
821.         args = ['check', 'admin_scripts']
822.         out, err = self.run_manage(args, 'test_project.settings')
823.         self.assertNoOutput(out)
824.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
825. 
826.     def test_builtin_with_bad_settings(self):
827.         "minimal: manage.py builtin commands fail if settings file (from argument) doesn't exist"
828.         args = ['check', '--settings=bad_settings', 'admin_scripts']
829.         out, err = self.run_manage(args)
830.         self.assertNoOutput(out)
831.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
832. 
833.     def test_builtin_with_bad_environment(self):
834.         "minimal: manage.py builtin commands fail if settings file (from environment) doesn't exist"
835.         args = ['check', 'admin_scripts']
836.         out, err = self.run_manage(args, 'bad_settings')
837.         self.assertNoOutput(out)
838.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
839. 
840.     def test_custom_command(self):
841.         "minimal: manage.py can't execute user commands without appropriate settings"
842.         args = ['noargs_command']
843.         out, err = self.run_manage(args)
844.         self.assertNoOutput(out)
845.         self.assertOutput(err, "Unknown command: 'noargs_command'")
846. 
847.     def test_custom_command_with_settings(self):
848.         "minimal: manage.py can't execute user commands, even if settings are provided as argument"
849.         args = ['noargs_command', '--settings=test_project.settings']
850.         out, err = self.run_manage(args)
851.         self.assertNoOutput(out)
852.         self.assertOutput(err, "Unknown command: 'noargs_command'")
853. 
854.     def test_custom_command_with_environment(self):
855.         "minimal: manage.py can't execute user commands, even if settings are provided in environment"
856.         args = ['noargs_command']
857.         out, err = self.run_manage(args, 'test_project.settings')
858.         self.assertNoOutput(out)
859.         self.assertOutput(err, "Unknown command: 'noargs_command'")
860. 
861. 
862. class ManageAlternateSettings(AdminScriptTestCase):
863.     """A series of tests for manage.py when using a settings file
864.     with a name other than 'settings.py'.
865.     """
866.     def setUp(self):
867.         super().setUp()
868.         self.write_settings('alternate_settings.py')
869. 
870.     def test_builtin_command(self):
871.         "alternate: manage.py builtin commands fail with an error when no default settings provided"
872.         args = ['check', 'admin_scripts']
873.         out, err = self.run_manage(args)
874.         self.assertNoOutput(out)
875.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
876. 
877.     def test_builtin_with_settings(self):
878.         "alternate: manage.py builtin commands work with settings provided as argument"
879.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
880.         out, err = self.run_manage(args)
881.         self.assertOutput(out, SYSTEM_CHECK_MSG)
882.         self.assertNoOutput(err)
883. 
884.     def test_builtin_with_environment(self):
885.         "alternate: manage.py builtin commands work if settings are provided in the environment"
886.         args = ['check', 'admin_scripts']
887.         out, err = self.run_manage(args, 'alternate_settings')
888.         self.assertOutput(out, SYSTEM_CHECK_MSG)
889.         self.assertNoOutput(err)
890. 
891.     def test_builtin_with_bad_settings(self):
892.         "alternate: manage.py builtin commands fail if settings file (from argument) doesn't exist"
893.         args = ['check', '--settings=bad_settings', 'admin_scripts']
894.         out, err = self.run_manage(args)
895.         self.assertNoOutput(out)
896.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
897. 
898.     def test_builtin_with_bad_environment(self):
899.         "alternate: manage.py builtin commands fail if settings file (from environment) doesn't exist"
900.         args = ['check', 'admin_scripts']
901.         out, err = self.run_manage(args, 'bad_settings')
902.         self.assertNoOutput(out)
903.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
904. 
905.     def test_custom_command(self):
906.         "alternate: manage.py can't execute user commands without settings"
907.         args = ['noargs_command']
908.         out, err = self.run_manage(args)
909.         self.assertNoOutput(out)
910.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
911. 
912.     def test_custom_command_with_settings(self):
913.         "alternate: manage.py can execute user commands if settings are provided as argument"
914.         args = ['noargs_command', '--settings=alternate_settings']
915.         out, err = self.run_manage(args)
916.         self.assertOutput(
917.             out,
918.             "EXECUTE: noargs_command options=[('force_color', False), "
919.             "('no_color', False), ('pythonpath', None), ('settings', "
920.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
921.         )
922.         self.assertNoOutput(err)
923. 
924.     def test_custom_command_with_environment(self):
925.         "alternate: manage.py can execute user commands if settings are provided in environment"
926.         args = ['noargs_command']
927.         out, err = self.run_manage(args, 'alternate_settings')
928.         self.assertOutput(
929.             out,
930.             "EXECUTE: noargs_command options=[('force_color', False), "
931.             "('no_color', False), ('pythonpath', None), ('settings', None), "
932.             "('traceback', False), ('verbosity', 1)]"
933.         )
934.         self.assertNoOutput(err)
935. 
936.     def test_custom_command_output_color(self):
937.         "alternate: manage.py output syntax color can be deactivated with the `--no-color` option"
938.         args = ['noargs_command', '--no-color', '--settings=alternate_settings']
939.         out, err = self.run_manage(args)
940.         self.assertOutput(
941.             out,
942.             "EXECUTE: noargs_command options=[('force_color', False), "
943.             "('no_color', True), ('pythonpath', None), ('settings', "
944.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
945.         )
946.         self.assertNoOutput(err)
947. 
948. 
949. class ManageMultipleSettings(AdminScriptTestCase):
950.     """A series of tests for manage.py when multiple settings files
951.     (including the default 'settings.py') are available. The default settings
952.     file is insufficient for performing the operations described, so the
953.     alternate settings must be used by the running script.
954.     """
955.     def setUp(self):
956.         super().setUp()
957.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
958.         self.write_settings('alternate_settings.py')
959. 
960.     def test_builtin_command(self):
961.         "multiple: manage.py builtin commands fail with an error when no settings provided"
962.         args = ['check', 'admin_scripts']
963.         out, err = self.run_manage(args)
964.         self.assertNoOutput(out)
965.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
966. 
967.     def test_builtin_with_settings(self):
968.         "multiple: manage.py builtin commands succeed if settings are provided as argument"
969.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
970.         out, err = self.run_manage(args)
971.         self.assertNoOutput(err)
972.         self.assertOutput(out, SYSTEM_CHECK_MSG)
973. 
974.     def test_builtin_with_environment(self):
975.         "multiple: manage.py can execute builtin commands if settings are provided in the environment"
976.         args = ['check', 'admin_scripts']
977.         out, err = self.run_manage(args, 'alternate_settings')
978.         self.assertNoOutput(err)
979.         self.assertOutput(out, SYSTEM_CHECK_MSG)
980. 
981.     def test_builtin_with_bad_settings(self):
982.         "multiple: manage.py builtin commands fail if settings file (from argument) doesn't exist"
983.         args = ['check', '--settings=bad_settings', 'admin_scripts']
984.         out, err = self.run_manage(args)
985.         self.assertNoOutput(out)
986.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
987. 
988.     def test_builtin_with_bad_environment(self):
989.         "multiple: manage.py builtin commands fail if settings file (from environment) doesn't exist"
990.         args = ['check', 'admin_scripts']
991.         out, err = self.run_manage(args, 'bad_settings')
992.         self.assertNoOutput(out)
993.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
994. 
995.     def test_custom_command(self):
996.         "multiple: manage.py can't execute user commands using default settings"
997.         args = ['noargs_command']
998.         out, err = self.run_manage(args)
999.         self.assertNoOutput(out)
1000.         self.assertOutput(err, "Unknown command: 'noargs_command'")
1001. 
1002.     def test_custom_command_with_settings(self):
1003.         "multiple: manage.py can execute user commands if settings are provided as argument"
1004.         args = ['noargs_command', '--settings=alternate_settings']
1005.         out, err = self.run_manage(args)
1006.         self.assertNoOutput(err)
1007.         self.assertOutput(out, "EXECUTE: noargs_command")
1008. 
1009.     def test_custom_command_with_environment(self):
1010.         "multiple: manage.py can execute user commands if settings are provided in environment"
1011.         args = ['noargs_command']
1012.         out, err = self.run_manage(args, 'alternate_settings')
1013.         self.assertNoOutput(err)
1014.         self.assertOutput(out, "EXECUTE: noargs_command")
1015. 
1016. 
1017. class ManageSettingsWithSettingsErrors(AdminScriptTestCase):
1018.     """
1019.     Tests for manage.py when using the default settings.py file containing
1020.     runtime errors.
1021.     """
1022.     def write_settings_with_import_error(self, filename):
1023.         settings_file_path = os.path.join(self.test_dir, filename)
1024.         with open(settings_file_path, 'w') as settings_file:
1025.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
1026.             settings_file.write('# The next line will cause an import error:\nimport foo42bar\n')
1027. 
1028.     def test_import_error(self):
1029.         """
1030.         import error: manage.py builtin commands shows useful diagnostic info
1031.         when settings with import errors is provided (#14130).
1032.         """
1033.         self.write_settings_with_import_error('settings.py')
1034.         args = ['check', 'admin_scripts']
1035.         out, err = self.run_manage(args)
1036.         self.assertNoOutput(out)
1037.         self.assertOutput(err, "No module named")
1038.         self.assertOutput(err, "foo42bar")
1039. 
1040.     def test_attribute_error(self):
1041.         """
1042.         manage.py builtin commands does not swallow attribute error due to bad
1043.         settings (#18845).
1044.         """
1045.         self.write_settings('settings.py', sdict={'BAD_VAR': 'INSTALLED_APPS.crash'})
1046.         args = ['collectstatic', 'admin_scripts']
1047.         out, err = self.run_manage(args)
1048.         self.assertNoOutput(out)
1049.         self.assertOutput(err, "AttributeError: 'list' object has no attribute 'crash'")
1050. 
1051.     def test_key_error(self):
1052.         self.write_settings('settings.py', sdict={'BAD_VAR': 'DATABASES["blah"]'})
1053.         args = ['collectstatic', 'admin_scripts']
1054.         out, err = self.run_manage(args)
1055.         self.assertNoOutput(out)
1056.         self.assertOutput(err, "KeyError: 'blah'")
1057. 
1058.     def test_help(self):
1059.         """
1060.         Test listing available commands output note when only core commands are
1061.         available.
1062.         """
1063.         self.write_settings(
1064.             'settings.py',
1065.             extra='from django.core.exceptions import ImproperlyConfigured\n'
1066.                   'raise ImproperlyConfigured()',
1067.         )
1068.         args = ['help']
1069.         out, err = self.run_manage(args)
1070.         self.assertOutput(out, 'only Django core commands are listed')
1071.         self.assertNoOutput(err)
1072. 
1073. 
1074. class ManageCheck(AdminScriptTestCase):
1075.     def test_nonexistent_app(self):
1076.         """check reports an error on a nonexistent app in INSTALLED_APPS."""
1077.         self.write_settings(
1078.             'settings.py',
1079.             apps=['admin_scriptz.broken_app'],
1080.             sdict={'USE_I18N': False},
1081.         )
1082.         args = ['check']
1083.         out, err = self.run_manage(args)
1084.         self.assertNoOutput(out)
1085.         self.assertOutput(err, 'ModuleNotFoundError')
1086.         self.assertOutput(err, 'No module named')
1087.         self.assertOutput(err, 'admin_scriptz')
1088. 
1089.     def test_broken_app(self):
1090.         """ manage.py check reports an ImportError if an app's models.py
1091.         raises one on import """
1092. 
1093.         self.write_settings('settings.py', apps=['admin_scripts.broken_app'])
1094.         args = ['check']
1095.         out, err = self.run_manage(args)
1096.         self.assertNoOutput(out)
1097.         self.assertOutput(err, 'ImportError')
1098. 
1099.     def test_complex_app(self):
1100.         """ manage.py check does not raise an ImportError validating a
1101.         complex app with nested calls to load_app """
1102. 
1103.         self.write_settings(
1104.             'settings.py',
1105.             apps=[
1106.                 'admin_scripts.complex_app',
1107.                 'admin_scripts.simple_app',
1108.                 'django.contrib.admin.apps.SimpleAdminConfig',
1109.                 'django.contrib.auth',
1110.                 'django.contrib.contenttypes',
1111.                 'django.contrib.messages',
1112.             ],
1113.             sdict={
1114.                 'DEBUG': True,
1115.                 'MIDDLEWARE': [
1116.                     'django.contrib.messages.middleware.MessageMiddleware',
1117.                     'django.contrib.auth.middleware.AuthenticationMiddleware',
1118.                     'django.contrib.sessions.middleware.SessionMiddleware',
1119.                 ],
1120.                 'TEMPLATES': [
1121.                     {
1122.                         'BACKEND': 'django.template.backends.django.DjangoTemplates',
1123.                         'DIRS': [],
1124.                         'APP_DIRS': True,
1125.                         'OPTIONS': {
1126.                             'context_processors': [
1127.                                 'django.template.context_processors.request',
1128.                                 'django.contrib.auth.context_processors.auth',
1129.                                 'django.contrib.messages.context_processors.messages',
1130.                             ],
1131.                         },
1132.                     },
1133.                 ],
1134.             }
1135.         )
1136.         args = ['check']
1137.         out, err = self.run_manage(args)
1138.         self.assertNoOutput(err)
1139.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1140. 
1141.     def test_app_with_import(self):
1142.         """ manage.py check does not raise errors when an app imports a base
1143.         class that itself has an abstract base. """
1144. 
1145.         self.write_settings(
1146.             'settings.py',
1147.             apps=[
1148.                 'admin_scripts.app_with_import',
1149.                 'django.contrib.auth',
1150.                 'django.contrib.contenttypes',
1151.                 'django.contrib.sites',
1152.             ],
1153.             sdict={'DEBUG': True},
1154.         )
1155.         args = ['check']
1156.         out, err = self.run_manage(args)
1157.         self.assertNoOutput(err)
1158.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1159. 
1160.     def test_output_format(self):
1161.         """ All errors/warnings should be sorted by level and by message. """
1162. 
1163.         self.write_settings(
1164.             'settings.py',
1165.             apps=[
1166.                 'admin_scripts.app_raising_messages',
1167.                 'django.contrib.auth',
1168.                 'django.contrib.contenttypes',
1169.             ],
1170.             sdict={'DEBUG': True},
1171.         )
1172.         args = ['check']
1173.         out, err = self.run_manage(args)
1174.         expected_err = (
1175.             "SystemCheckError: System check identified some issues:\n"
1176.             "\n"
1177.             "ERRORS:\n"
1178.             "?: An error\n"
1179.             "\tHINT: Error hint\n"
1180.             "\n"
1181.             "WARNINGS:\n"
1182.             "a: Second warning\n"
1183.             "obj: First warning\n"
1184.             "\tHINT: Hint\n"
1185.             "\n"
1186.             "System check identified 3 issues (0 silenced).\n"
1187.         )
1188.         self.assertEqual(err, expected_err)
1189.         self.assertNoOutput(out)
1190. 
1191.     def test_warning_does_not_halt(self):
1192.         """
1193.         When there are only warnings or less serious messages, then Django
1194.         should not prevent user from launching their project, so `check`
1195.         command should not raise `CommandError` exception.
1196. 
1197.         In this test we also test output format.
1198.         """
1199. 
1200.         self.write_settings(
1201.             'settings.py',
1202.             apps=[
1203.                 'admin_scripts.app_raising_warning',
1204.                 'django.contrib.auth',
1205.                 'django.contrib.contenttypes',
1206.             ],
1207.             sdict={'DEBUG': True},
1208.         )
1209.         args = ['check']
1210.         out, err = self.run_manage(args)
1211.         expected_err = (
1212.             "System check identified some issues:\n"  # No "CommandError: " part
1213.             "\n"
1214.             "WARNINGS:\n"
1215.             "?: A warning\n"
1216.             "\n"
1217.             "System check identified 1 issue (0 silenced).\n"
1218.         )
1219.         self.assertEqual(err, expected_err)
1220.         self.assertNoOutput(out)
1221. 
1222. 
1223. class ManageRunserver(SimpleTestCase):
1224.     def setUp(self):
1225.         def monkey_run(*args, **options):
1226.             return
1227. 
1228.         self.output = StringIO()
1229.         self.cmd = RunserverCommand(stdout=self.output)
1230.         self.cmd.run = monkey_run
1231. 
1232.     def assertServerSettings(self, addr, port, ipv6=False, raw_ipv6=False):
1233.         self.assertEqual(self.cmd.addr, addr)
1234.         self.assertEqual(self.cmd.port, port)
1235.         self.assertEqual(self.cmd.use_ipv6, ipv6)
1236.         self.assertEqual(self.cmd._raw_ipv6, raw_ipv6)
1237. 
1238.     def test_runserver_addrport(self):
1239.         call_command(self.cmd)
1240.         self.assertServerSettings('127.0.0.1', '8000')
1241. 
1242.         call_command(self.cmd, addrport="1.2.3.4:8000")
1243.         self.assertServerSettings('1.2.3.4', '8000')
1244. 
1245.         call_command(self.cmd, addrport="7000")
1246.         self.assertServerSettings('127.0.0.1', '7000')
1247. 
1248.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1249.     def test_runner_addrport_ipv6(self):
1250.         call_command(self.cmd, addrport="", use_ipv6=True)
1251.         self.assertServerSettings('::1', '8000', ipv6=True, raw_ipv6=True)
1252. 
1253.         call_command(self.cmd, addrport="7000", use_ipv6=True)
1254.         self.assertServerSettings('::1', '7000', ipv6=True, raw_ipv6=True)
1255. 
1256.         call_command(self.cmd, addrport="[2001:0db8:1234:5678::9]:7000")
1257.         self.assertServerSettings('2001:0db8:1234:5678::9', '7000', ipv6=True, raw_ipv6=True)
1258. 
1259.     def test_runner_hostname(self):
1260.         call_command(self.cmd, addrport="localhost:8000")
1261.         self.assertServerSettings('localhost', '8000')
1262. 
1263.         call_command(self.cmd, addrport="test.domain.local:7000")
1264.         self.assertServerSettings('test.domain.local', '7000')
1265. 
1266.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1267.     def test_runner_hostname_ipv6(self):
1268.         call_command(self.cmd, addrport="test.domain.local:7000", use_ipv6=True)
1269.         self.assertServerSettings('test.domain.local', '7000', ipv6=True)
1270. 
1271.     def test_runner_custom_defaults(self):
1272.         self.cmd.default_addr = '0.0.0.0'
1273.         self.cmd.default_port = '5000'
1274.         call_command(self.cmd)
1275.         self.assertServerSettings('0.0.0.0', '5000')
1276. 
1277.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1278.     def test_runner_custom_defaults_ipv6(self):
1279.         self.cmd.default_addr_ipv6 = '::'
1280.         call_command(self.cmd, use_ipv6=True)
1281.         self.assertServerSettings('::', '8000', ipv6=True, raw_ipv6=True)
1282. 
1283.     def test_runner_ambiguous(self):
1284.         # Only 4 characters, all of which could be in an ipv6 address
1285.         call_command(self.cmd, addrport="beef:7654")
1286.         self.assertServerSettings('beef', '7654')
1287. 
1288.         # Uses only characters that could be in an ipv6 address
1289.         call_command(self.cmd, addrport="deadbeef:7654")
1290.         self.assertServerSettings('deadbeef', '7654')
1291. 
1292.     def test_no_database(self):
1293.         """
1294.         Ensure runserver.check_migrations doesn't choke on empty DATABASES.
1295.         """
1296.         tested_connections = ConnectionHandler({})
1297.         with mock.patch('django.core.management.base.connections', new=tested_connections):
1298.             self.cmd.check_migrations()
1299. 
1300.     def test_readonly_database(self):
1301.         """
1302.         runserver.check_migrations() doesn't choke when a database is read-only.
1303.         """
1304.         with mock.patch.object(MigrationRecorder, 'has_table', return_value=False):
1305.             self.cmd.check_migrations()
1306.         # You have # ...
1307.         self.assertIn('unapplied migration(s)', self.output.getvalue())
1308. 
1309. 
1310. class ManageRunserverMigrationWarning(TestCase):
1311. 
1312.     def setUp(self):
1313.         self.stdout = StringIO()
1314.         self.runserver_command = RunserverCommand(stdout=self.stdout)
1315. 
1316.     @override_settings(INSTALLED_APPS=["admin_scripts.app_waiting_migration"])
1317.     def test_migration_warning_one_app(self):
1318.         self.runserver_command.check_migrations()
1319.         output = self.stdout.getvalue()
1320.         self.assertIn('You have 1 unapplied migration(s)', output)
1321.         self.assertIn('apply the migrations for app(s): app_waiting_migration.', output)
1322. 
1323.     @override_settings(
1324.         INSTALLED_APPS=[
1325.             "admin_scripts.app_waiting_migration",
1326.             "admin_scripts.another_app_waiting_migration",
1327.         ],
1328.     )
1329.     def test_migration_warning_multiple_apps(self):
1330.         self.runserver_command.check_migrations()
1331.         output = self.stdout.getvalue()
1332.         self.assertIn('You have 2 unapplied migration(s)', output)
1333.         self.assertIn(
1334.             'apply the migrations for app(s): another_app_waiting_migration, '
1335.             'app_waiting_migration.', output
1336.         )
1337. 
1338. 
1339. class ManageRunserverEmptyAllowedHosts(AdminScriptTestCase):
1340.     def setUp(self):
1341.         super().setUp()
1342.         self.write_settings('settings.py', sdict={
1343.             'ALLOWED_HOSTS': [],
1344.             'DEBUG': False,
1345.         })
1346. 
1347.     def test_empty_allowed_hosts_error(self):
1348.         out, err = self.run_manage(['runserver'])
1349.         self.assertNoOutput(out)
1350.         self.assertOutput(err, 'CommandError: You must set settings.ALLOWED_HOSTS if DEBUG is False.')
1351. 
1352. 
1353. class ManageTestserver(SimpleTestCase):
1354. 
1355.     @mock.patch.object(TestserverCommand, 'handle', return_value='')
1356.     def test_testserver_handle_params(self, mock_handle):
1357.         out = StringIO()
1358.         call_command('testserver', 'blah.json', stdout=out)
1359.         mock_handle.assert_called_with(
1360.             'blah.json',
1361.             stdout=out, settings=None, pythonpath=None, verbosity=1,
1362.             traceback=False, addrport='', no_color=False, use_ipv6=False,
1363.             skip_checks=True, interactive=True, force_color=False,
1364.         )
1365. 
1366.     @mock.patch('django.db.connection.creation.create_test_db', return_value='test_db')
1367.     @mock.patch.object(LoaddataCommand, 'handle', return_value='')
1368.     @mock.patch.object(RunserverCommand, 'handle', return_value='')
1369.     def test_params_to_runserver(self, mock_runserver_handle, mock_loaddata_handle, mock_create_test_db):
1370.         call_command('testserver', 'blah.json')
1371.         mock_runserver_handle.assert_called_with(
1372.             addrport='',
1373.             force_color=False,
1374.             insecure_serving=False,
1375.             no_color=False,
1376.             pythonpath=None,
1377.             settings=None,
1378.             shutdown_message=(
1379.                 "\nServer stopped.\nNote that the test database, 'test_db', "
1380.                 "has not been deleted. You can explore it on your own."
1381.             ),
1382.             skip_checks=True,
1383.             traceback=False,
1384.             use_ipv6=False,
1385.             use_reloader=False,
1386.             use_static_handler=True,
1387.             use_threading=connection.features.test_db_allows_multiple_connections,
1388.             verbosity=1,
1389.         )
1390. 
1391. 
1392. ##########################################################################
1393. # COMMAND PROCESSING TESTS
1394. # user-space commands are correctly handled - in particular, arguments to
1395. # the commands are correctly parsed and processed.
1396. ##########################################################################
1397. class ColorCommand(BaseCommand):
1398.     requires_system_checks = []
1399. 
1400.     def handle(self, *args, **options):
1401.         self.stdout.write('Hello, world!', self.style.ERROR)
1402.         self.stderr.write('Hello, world!', self.style.ERROR)
1403. 
1404. 
1405. class CommandTypes(AdminScriptTestCase):
1406.     "Tests for the various types of base command types that can be defined."
1407.     def setUp(self):
1408.         super().setUp()
1409.         self.write_settings('settings.py')
1410. 
1411.     def test_version(self):
1412.         "version is handled as a special case"
1413.         args = ['version']
1414.         out, err = self.run_manage(args)
1415.         self.assertNoOutput(err)
1416.         self.assertOutput(out, get_version())
1417. 
1418.     def test_version_alternative(self):
1419.         "--version is equivalent to version"
1420.         args1, args2 = ['version'], ['--version']
1421.         # It's possible one outputs on stderr and the other on stdout, hence the set
1422.         self.assertEqual(set(self.run_manage(args1)), set(self.run_manage(args2)))
1423. 
1424.     def test_help(self):
1425.         "help is handled as a special case"
1426.         args = ['help']
1427.         out, err = self.run_manage(args)
1428.         self.assertOutput(out, "Type 'manage.py help <subcommand>' for help on a specific subcommand.")
1429.         self.assertOutput(out, '[django]')
1430.         self.assertOutput(out, 'startapp')
1431.         self.assertOutput(out, 'startproject')
1432. 
1433.     def test_help_commands(self):
1434.         "help --commands shows the list of all available commands"
1435.         args = ['help', '--commands']
1436.         out, err = self.run_manage(args)
1437.         self.assertNotInOutput(out, 'usage:')
1438.         self.assertNotInOutput(out, 'Options:')
1439.         self.assertNotInOutput(out, '[django]')
1440.         self.assertOutput(out, 'startapp')
1441.         self.assertOutput(out, 'startproject')
1442.         self.assertNotInOutput(out, '\n\n')
1443. 
1444.     def test_help_alternative(self):
1445.         "--help is equivalent to help"
1446.         args1, args2 = ['help'], ['--help']
1447.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1448. 
1449.     def test_help_short_altert(self):
1450.         "-h is handled as a short form of --help"
1451.         args1, args2 = ['--help'], ['-h']
1452.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1453. 
1454.     def test_specific_help(self):
1455.         "--help can be used on a specific command"
1456.         args = ['check', '--help']
1457.         out, err = self.run_manage(args)
1458.         self.assertNoOutput(err)
1459.         # Command-specific options like --tag appear before options common to
1460.         # all commands like --version.
1461.         tag_location = out.find('--tag')
1462.         version_location = out.find('--version')
1463.         self.assertNotEqual(tag_location, -1)
1464.         self.assertNotEqual(version_location, -1)
1465.         self.assertLess(tag_location, version_location)
1466.         self.assertOutput(out, "Checks the entire Django project for potential problems.")
1467. 
1468.     def test_color_style(self):
1469.         style = color.no_style()
1470.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1471. 
1472.         style = color.make_style('nocolor')
1473.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1474. 
1475.         style = color.make_style('dark')
1476.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1477.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1478. 
1479.         # Default palette has color.
1480.         style = color.make_style('')
1481.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1482.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1483. 
1484.     def test_command_color(self):
1485.         out = StringIO()
1486.         err = StringIO()
1487.         command = ColorCommand(stdout=out, stderr=err)
1488.         call_command(command)
1489.         if color.supports_color():
1490.             self.assertIn('Hello, world!\n', out.getvalue())
1491.             self.assertIn('Hello, world!\n', err.getvalue())
1492.             self.assertNotEqual(out.getvalue(), 'Hello, world!\n')
1493.             self.assertNotEqual(err.getvalue(), 'Hello, world!\n')
1494.         else:
1495.             self.assertEqual(out.getvalue(), 'Hello, world!\n')
1496.             self.assertEqual(err.getvalue(), 'Hello, world!\n')
1497. 
1498.     def test_command_no_color(self):
1499.         "--no-color prevent colorization of the output"
1500.         out = StringIO()
1501.         err = StringIO()
1502.         command = ColorCommand(stdout=out, stderr=err, no_color=True)
1503.         call_command(command)
1504.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1505.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1506. 
1507.         out = StringIO()
1508.         err = StringIO()
1509.         command = ColorCommand(stdout=out, stderr=err)
1510.         call_command(command, no_color=True)
1511.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1512.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1513. 
1514.     def test_force_color_execute(self):
1515.         out = StringIO()
1516.         err = StringIO()
1517.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1518.             command = ColorCommand(stdout=out, stderr=err)
1519.             call_command(command, force_color=True)
1520.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1521.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1522. 
1523.     def test_force_color_command_init(self):
1524.         out = StringIO()
1525.         err = StringIO()
1526.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1527.             command = ColorCommand(stdout=out, stderr=err, force_color=True)
1528.             call_command(command)
1529.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1530.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1531. 
1532.     def test_no_color_force_color_mutually_exclusive_execute(self):
1533.         msg = "The --no-color and --force-color options can't be used together."
1534.         with self.assertRaisesMessage(CommandError, msg):
1535.             call_command(BaseCommand(), no_color=True, force_color=True)
1536. 
1537.     def test_no_color_force_color_mutually_exclusive_command_init(self):
1538.         msg = "'no_color' and 'force_color' can't be used together."
1539.         with self.assertRaisesMessage(CommandError, msg):
1540.             call_command(BaseCommand(no_color=True, force_color=True))
1541. 
1542.     def test_custom_stdout(self):
1543.         class Command(BaseCommand):
1544.             requires_system_checks = []
1545. 
1546.             def handle(self, *args, **options):
1547.                 self.stdout.write("Hello, World!")
1548. 
1549.         out = StringIO()
1550.         command = Command(stdout=out)
1551.         call_command(command)
1552.         self.assertEqual(out.getvalue(), "Hello, World!\n")
1553.         out.truncate(0)
1554.         new_out = StringIO()
1555.         call_command(command, stdout=new_out)
1556.         self.assertEqual(out.getvalue(), "")
1557.         self.assertEqual(new_out.getvalue(), "Hello, World!\n")
1558. 
1559.     def test_custom_stderr(self):
1560.         class Command(BaseCommand):
1561.             requires_system_checks = []
1562. 
1563.             def handle(self, *args, **options):
1564.                 self.stderr.write("Hello, World!")
1565. 
1566.         err = StringIO()
1567.         command = Command(stderr=err)
1568.         call_command(command)
1569.         self.assertEqual(err.getvalue(), "Hello, World!\n")
1570.         err.truncate(0)
1571.         new_err = StringIO()
1572.         call_command(command, stderr=new_err)
1573.         self.assertEqual(err.getvalue(), "")
1574.         self.assertEqual(new_err.getvalue(), "Hello, World!\n")
1575. 
1576.     def test_base_command(self):
1577.         "User BaseCommands can execute when a label is provided"
1578.         args = ['base_command', 'testlabel']
1579.         expected_labels = "('testlabel',)"
1580.         self._test_base_command(args, expected_labels)
1581. 
1582.     def test_base_command_no_label(self):
1583.         "User BaseCommands can execute when no labels are provided"
1584.         args = ['base_command']
1585.         expected_labels = "()"
1586.         self._test_base_command(args, expected_labels)
1587. 
1588.     def test_base_command_multiple_label(self):
1589.         "User BaseCommands can execute when no labels are provided"
1590.         args = ['base_command', 'testlabel', 'anotherlabel']
1591.         expected_labels = "('testlabel', 'anotherlabel')"
1592.         self._test_base_command(args, expected_labels)
1593. 
1594.     def test_base_command_with_option(self):
1595.         "User BaseCommands can execute with options when a label is provided"
1596.         args = ['base_command', 'testlabel', '--option_a=x']
1597.         expected_labels = "('testlabel',)"
1598.         self._test_base_command(args, expected_labels, option_a="'x'")
1599. 
1600.     def test_base_command_with_options(self):
1601.         "User BaseCommands can execute with multiple options when a label is provided"
1602.         args = ['base_command', 'testlabel', '-a', 'x', '--option_b=y']
1603.         expected_labels = "('testlabel',)"
1604.         self._test_base_command(args, expected_labels, option_a="'x'", option_b="'y'")
1605. 
1606.     def test_base_command_with_wrong_option(self):
1607.         "User BaseCommands outputs command usage when wrong option is specified"
1608.         args = ['base_command', '--invalid']
1609.         out, err = self.run_manage(args)
1610.         self.assertNoOutput(out)
1611.         self.assertOutput(err, "usage: manage.py base_command")
1612.         self.assertOutput(err, "error: unrecognized arguments: --invalid")
1613. 
1614.     def _test_base_command(self, args, labels, option_a="'1'", option_b="'2'"):
1615.         out, err = self.run_manage(args)
1616. 
1617.         expected_out = (
1618.             "EXECUTE:BaseCommand labels=%s, "
1619.             "options=[('force_color', False), ('no_color', False), "
1620.             "('option_a', %s), ('option_b', %s), ('option_c', '3'), "
1621.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1622.             "('verbosity', 1)]") % (labels, option_a, option_b)
1623.         self.assertNoOutput(err)
1624.         self.assertOutput(out, expected_out)
1625. 
1626.     def test_base_run_from_argv(self):
1627.         """
1628.         Test run_from_argv properly terminates even with custom execute() (#19665)
1629.         Also test proper traceback display.
1630.         """
1631.         err = StringIO()
1632.         command = BaseCommand(stderr=err)
1633. 
1634.         def raise_command_error(*args, **kwargs):
1635.             raise CommandError("Custom error")
1636. 
1637.         command.execute = lambda args: args  # This will trigger TypeError
1638. 
1639.         # If the Exception is not CommandError it should always
1640.         # raise the original exception.
1641.         with self.assertRaises(TypeError):
1642.             command.run_from_argv(['', ''])
1643. 
1644.         # If the Exception is CommandError and --traceback is not present
1645.         # this command should raise a SystemExit and don't print any
1646.         # traceback to the stderr.
1647.         command.execute = raise_command_error
1648.         err.truncate(0)
1649.         with self.assertRaises(SystemExit):
1650.             command.run_from_argv(['', ''])
1651.         err_message = err.getvalue()
1652.         self.assertNotIn("Traceback", err_message)
1653.         self.assertIn("CommandError", err_message)
1654. 
1655.         # If the Exception is CommandError and --traceback is present
1656.         # this command should raise the original CommandError as if it
1657.         # were not a CommandError.
1658.         err.truncate(0)
1659.         with self.assertRaises(CommandError):
1660.             command.run_from_argv(['', '', '--traceback'])
1661. 
1662.     def test_run_from_argv_non_ascii_error(self):
1663.         """
1664.         Non-ASCII message of CommandError does not raise any
1665.         UnicodeDecodeError in run_from_argv.
1666.         """
1667.         def raise_command_error(*args, **kwargs):
1668.             raise CommandError("Erreur personnalisée")
1669. 
1670.         command = BaseCommand(stderr=StringIO())
1671.         command.execute = raise_command_error
1672. 
1673.         with self.assertRaises(SystemExit):
1674.             command.run_from_argv(['', ''])
1675. 
1676.     def test_run_from_argv_closes_connections(self):
1677.         """
1678.         A command called from the command line should close connections after
1679.         being executed (#21255).
1680.         """
1681.         command = BaseCommand()
1682.         command.check = lambda: []
1683.         command.handle = lambda *args, **kwargs: args
1684.         with mock.patch('django.core.management.base.connections') as mock_connections:
1685.             command.run_from_argv(['', ''])
1686.         # Test connections have been closed
1687.         self.assertTrue(mock_connections.close_all.called)
1688. 
1689.     def test_noargs(self):
1690.         "NoArg Commands can be executed"
1691.         args = ['noargs_command']
1692.         out, err = self.run_manage(args)
1693.         self.assertNoOutput(err)
1694.         self.assertOutput(
1695.             out,
1696.             "EXECUTE: noargs_command options=[('force_color', False), "
1697.             "('no_color', False), ('pythonpath', None), ('settings', None), "
1698.             "('traceback', False), ('verbosity', 1)]"
1699.         )
1700. 
1701.     def test_noargs_with_args(self):
1702.         "NoArg Commands raise an error if an argument is provided"
1703.         args = ['noargs_command', 'argument']
1704.         out, err = self.run_manage(args)
1705.         self.assertOutput(err, "error: unrecognized arguments: argument")
1706. 
1707.     def test_app_command(self):
1708.         "User AppCommands can execute when a single app name is provided"
1709.         args = ['app_command', 'auth']
1710.         out, err = self.run_manage(args)
1711.         self.assertNoOutput(err)
1712.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1713.         self.assertOutput(
1714.             out,
1715.             ", options=[('force_color', False), ('no_color', False), "
1716.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1717.             "('verbosity', 1)]"
1718.         )
1719. 
1720.     def test_app_command_no_apps(self):
1721.         "User AppCommands raise an error when no app name is provided"
1722.         args = ['app_command']
1723.         out, err = self.run_manage(args)
1724.         self.assertOutput(err, 'error: Enter at least one application label.')
1725. 
1726.     def test_app_command_multiple_apps(self):
1727.         "User AppCommands raise an error when multiple app names are provided"
1728.         args = ['app_command', 'auth', 'contenttypes']
1729.         out, err = self.run_manage(args)
1730.         self.assertNoOutput(err)
1731.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1732.         self.assertOutput(
1733.             out,
1734.             ", options=[('force_color', False), ('no_color', False), "
1735.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1736.             "('verbosity', 1)]"
1737.         )
1738.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.contenttypes, options=")
1739.         self.assertOutput(
1740.             out,
1741.             ", options=[('force_color', False), ('no_color', False), "
1742.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1743.             "('verbosity', 1)]"
1744.         )
1745. 
1746.     def test_app_command_invalid_app_label(self):
1747.         "User AppCommands can execute when a single app name is provided"
1748.         args = ['app_command', 'NOT_AN_APP']
1749.         out, err = self.run_manage(args)
1750.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1751. 
1752.     def test_app_command_some_invalid_app_labels(self):
1753.         "User AppCommands can execute when some of the provided app names are invalid"
1754.         args = ['app_command', 'auth', 'NOT_AN_APP']
1755.         out, err = self.run_manage(args)
1756.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1757. 
1758.     def test_label_command(self):
1759.         "User LabelCommands can execute when a label is provided"
1760.         args = ['label_command', 'testlabel']
1761.         out, err = self.run_manage(args)
1762.         self.assertNoOutput(err)
1763.         self.assertOutput(
1764.             out,
1765.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1766.             "False), ('no_color', False), ('pythonpath', None), ('settings', "
1767.             "None), ('traceback', False), ('verbosity', 1)]"
1768.         )
1769. 
1770.     def test_label_command_no_label(self):
1771.         "User LabelCommands raise an error if no label is provided"
1772.         args = ['label_command']
1773.         out, err = self.run_manage(args)
1774.         self.assertOutput(err, 'Enter at least one label')
1775. 
1776.     def test_label_command_multiple_label(self):
1777.         "User LabelCommands are executed multiple times if multiple labels are provided"
1778.         args = ['label_command', 'testlabel', 'anotherlabel']
1779.         out, err = self.run_manage(args)
1780.         self.assertNoOutput(err)
1781.         self.assertOutput(
1782.             out,
1783.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1784.             "False), ('no_color', False), ('pythonpath', None), "
1785.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1786.         )
1787.         self.assertOutput(
1788.             out,
1789.             "EXECUTE:LabelCommand label=anotherlabel, options=[('force_color', "
1790.             "False), ('no_color', False), ('pythonpath', None), "
1791.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1792.         )
1793. 
1794. 
1795. class Discovery(SimpleTestCase):
1796. 
1797.     def test_precedence(self):
1798.         """
1799.         Apps listed first in INSTALLED_APPS have precedence.
1800.         """
1801.         with self.settings(INSTALLED_APPS=['admin_scripts.complex_app',
1802.                                            'admin_scripts.simple_app',
1803.                                            'django.contrib.auth',
1804.                                            'django.contrib.contenttypes']):
1805.             out = StringIO()
1806.             call_command('duplicate', stdout=out)
1807.             self.assertEqual(out.getvalue().strip(), 'complex_app')
1808.         with self.settings(INSTALLED_APPS=['admin_scripts.simple_app',
1809.                                            'admin_scripts.complex_app',
1810.                                            'django.contrib.auth',
1811.                                            'django.contrib.contenttypes']):
1812.             out = StringIO()
1813.             call_command('duplicate', stdout=out)
1814.             self.assertEqual(out.getvalue().strip(), 'simple_app')
1815. 
1816. 
1817. class ArgumentOrder(AdminScriptTestCase):
1818.     """Tests for 2-stage argument parsing scheme.
1819. 
1820.     django-admin command arguments are parsed in 2 parts; the core arguments
1821.     (--settings, --traceback and --pythonpath) are parsed using a basic parser,
1822.     ignoring any unknown options. Then the full settings are
1823.     passed to the command parser, which extracts commands of interest to the
1824.     individual command.
1825.     """
1826.     def setUp(self):
1827.         super().setUp()
1828.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
1829.         self.write_settings('alternate_settings.py')
1830. 
1831.     def test_setting_then_option(self):
1832.         """ Options passed after settings are correctly handled. """
1833.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '--option_a=x']
1834.         self._test(args)
1835. 
1836.     def test_setting_then_short_option(self):
1837.         """ Short options passed after settings are correctly handled. """
1838.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '-a', 'x']
1839.         self._test(args)
1840. 
1841.     def test_option_then_setting(self):
1842.         """ Options passed before settings are correctly handled. """
1843.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings']
1844.         self._test(args)
1845. 
1846.     def test_short_option_then_setting(self):
1847.         """ Short options passed before settings are correctly handled. """
1848.         args = ['base_command', 'testlabel', '-a', 'x', '--settings=alternate_settings']
1849.         self._test(args)
1850. 
1851.     def test_option_then_setting_then_option(self):
1852.         """ Options are correctly handled when they are passed before and after
1853.         a setting. """
1854.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings', '--option_b=y']
1855.         self._test(args, option_b="'y'")
1856. 
1857.     def _test(self, args, option_b="'2'"):
1858.         out, err = self.run_manage(args)
1859.         self.assertNoOutput(err)
1860.         self.assertOutput(
1861.             out,
1862.             "EXECUTE:BaseCommand labels=('testlabel',), options=["
1863.             "('force_color', False), ('no_color', False), ('option_a', 'x'), "
1864.             "('option_b', %s), ('option_c', '3'), ('pythonpath', None), "
1865.             "('settings', 'alternate_settings'), ('traceback', False), "
1866.             "('verbosity', 1)]" % option_b
1867.         )
1868. 
1869. 
1870. @override_settings(ROOT_URLCONF='admin_scripts.urls')
1871. class StartProject(LiveServerTestCase, AdminScriptTestCase):
1872. 
1873.     available_apps = [
1874.         'admin_scripts',
1875.         'django.contrib.auth',
1876.         'django.contrib.contenttypes',
1877.         'django.contrib.sessions',
1878.     ]
1879. 
1880.     def test_wrong_args(self):
1881.         "Make sure passing the wrong kinds of arguments outputs an error and prints usage"
1882.         out, err = self.run_django_admin(['startproject'])
1883.         self.assertNoOutput(out)
1884.         self.assertOutput(err, "usage:")
1885.         self.assertOutput(err, "You must provide a project name.")
1886. 
1887.     def test_simple_project(self):
1888.         "Make sure the startproject management command creates a project"
1889.         args = ['startproject', 'testproject']
1890.         testproject_dir = os.path.join(self.test_dir, 'testproject')
1891. 
1892.         out, err = self.run_django_admin(args)
1893.         self.assertNoOutput(err)
1894.         self.assertTrue(os.path.isdir(testproject_dir))
1895. 
1896.         # running again..
1897.         out, err = self.run_django_admin(args)
1898.         self.assertNoOutput(out)
1899.         self.assertOutput(
1900.             err,
1901.             "CommandError: 'testproject' conflicts with the name of an "
1902.             "existing Python module and cannot be used as a project name. "
1903.             "Please try another name.",
1904.         )
1905. 
1906.     def test_invalid_project_name(self):
1907.         "Make sure the startproject management command validates a project name"
1908.         for bad_name in ('7testproject', '../testproject'):
1909.             with self.subTest(project_name=bad_name):
1910.                 args = ['startproject', bad_name]
1911.                 testproject_dir = os.path.join(self.test_dir, bad_name)
1912. 
1913.                 out, err = self.run_django_admin(args)
1914.                 self.assertOutput(
1915.                     err,
1916.                     "Error: '%s' is not a valid project name. Please make "
1917.                     "sure the name is a valid identifier." % bad_name
1918.                 )
1919.                 self.assertFalse(os.path.exists(testproject_dir))
1920. 
1921.     def test_importable_project_name(self):
1922.         """
1923.         startproject validates that project name doesn't clash with existing
1924.         Python modules.
1925.         """
1926.         bad_name = 'os'
1927.         args = ['startproject', bad_name]
1928.         testproject_dir = os.path.join(self.test_dir, bad_name)
1929. 
1930.         out, err = self.run_django_admin(args)
1931.         self.assertOutput(
1932.             err,
1933.             "CommandError: 'os' conflicts with the name of an existing "
1934.             "Python module and cannot be used as a project name. Please try "
1935.             "another name."
1936.         )
1937.         self.assertFalse(os.path.exists(testproject_dir))
1938. 
1939.     def test_simple_project_different_directory(self):
1940.         "Make sure the startproject management command creates a project in a specific directory"
1941.         args = ['startproject', 'testproject', 'othertestproject']
1942.         testproject_dir = os.path.join(self.test_dir, 'othertestproject')
1943.         os.mkdir(testproject_dir)
1944. 
1945.         out, err = self.run_django_admin(args)
1946.         self.assertNoOutput(err)
1947.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'manage.py')))
1948. 
1949.         # running again..
1950.         out, err = self.run_django_admin(args)
1951.         self.assertNoOutput(out)
1952.         self.assertOutput(
1953.             err,
1954.             "already exists. Overlaying a project into an existing directory "
1955.             "won't replace conflicting files."
1956.         )
1957. 
1958.     def test_custom_project_template(self):
1959.         "Make sure the startproject management command is able to use a different project template"
1960.         template_path = os.path.join(custom_templates_dir, 'project_template')
1961.         args = ['startproject', '--template', template_path, 'customtestproject']
1962.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1963. 
1964.         out, err = self.run_django_admin(args)
1965.         self.assertNoOutput(err)
1966.         self.assertTrue(os.path.isdir(testproject_dir))
1967.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1968. 
1969.     def test_template_dir_with_trailing_slash(self):
1970.         "Ticket 17475: Template dir passed has a trailing path separator"
1971.         template_path = os.path.join(custom_templates_dir, 'project_template' + os.sep)
1972.         args = ['startproject', '--template', template_path, 'customtestproject']
1973.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1974. 
1975.         out, err = self.run_django_admin(args)
1976.         self.assertNoOutput(err)
1977.         self.assertTrue(os.path.isdir(testproject_dir))
1978.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1979. 
1980.     def test_custom_project_template_from_tarball_by_path(self):
1981.         "Make sure the startproject management command is able to use a different project template from a tarball"
1982.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1983.         args = ['startproject', '--template', template_path, 'tarballtestproject']
1984.         testproject_dir = os.path.join(self.test_dir, 'tarballtestproject')
1985. 
1986.         out, err = self.run_django_admin(args)
1987.         self.assertNoOutput(err)
1988.         self.assertTrue(os.path.isdir(testproject_dir))
1989.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'run.py')))
1990. 
1991.     def test_custom_project_template_from_tarball_to_alternative_location(self):
1992.         "Startproject can use a project template from a tarball and create it in a specified location"
1993.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1994.         args = ['startproject', '--template', template_path, 'tarballtestproject', 'altlocation']
1995.         testproject_dir = os.path.join(self.test_dir, 'altlocation')
1996.         os.mkdir(testproject_dir)
1997. 
1998.         out, err = self.run_django_admin(args)
1999.         self.assertNoOutput(err)
2000.         self.assertTrue(os.path.isdir(testproject_dir))

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:00:17,321 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user requested the full content of the file 'tests/admin_scripts/tests.py'. The provided context contains the entire content of this file from line 1 to 2000.", relative_path='tests/admin_scripts/tests.py', start_line=1, end_line=2000)]
2025-12-23 04:00:17,326 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/admin_scripts/tests.py.
2025-12-23 04:00:17,326 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:00:17,326 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:00:17,327 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-23 04:00:17,327 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-23 04:00:17,328 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   └── SECURITY.md
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── bin
|   |   └── django-admin.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── test_django_admin_py.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_password_reset_timeout_days.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_default_hashing_algorithm.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_json_deprecation.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_deprecation.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   ├── test_is_ajax_deprecations.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_if_equal.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: flush() on self.stdout/stderr management commands doesn't work.

Description: Description
	
flush() is notably called during migrate command; it doesn't work, and a long migration effectively prints to stderr no relevant information up until the end:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
Then nothing more, but the migration is being done.
Then at the end of the real migration, the rest is flushed:
 Applying myapp.0002_auto_20200817_1030... OK
Expected behavior:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
 Applying myapp.0002_auto_20200817_1030...
then work
then OK

Patch information:
diff --git a/django/core/management/base.py b/django/core/management/base.py
index e6cbf8c64f..94592f6a11 100644
--- a/django/core/management/base.py
+++ b/django/core/management/base.py
@@ -117,7 +117,7 @@ class DjangoHelpFormatter(HelpFormatter):
         super().add_arguments(self._reordered_actions(actions))
 
 
-class OutputWrapper(TextIOBase):
+class OutputWrapper:
     """
     Wrapper around stdout/stderr
     """
@@ -150,6 +150,8 @@ class OutputWrapper(TextIOBase):
         style_func = style_func or self.style_func
         self._out.write(style_func(msg))
 
+TextIOBase.register(OutputWrapper)
+
 
 class BaseCommand:
     """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of tests/admin_scripts/tests.py.
Extra Requirements: 
Purpose: This file is likely to contain tests for the core management command functionality, including how command output is handled and tested, which is directly relevant to the bug report.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/admin_scripts/tests.py
Line number range: 1 - 2000
Content:
1. """
2. A series of tests to establish that the command-line management tools work as
3. advertised - especially with regards to the handling of the
4. DJANGO_SETTINGS_MODULE and default settings.py files.
5. """
6. import os
7. import re
8. import shutil
9. import socket
10. import subprocess
11. import sys
12. import tempfile
13. import unittest
14. from io import StringIO
15. from unittest import mock
16. 
17. from django import conf, get_version
18. from django.conf import settings
19. from django.core.management import (
20.     BaseCommand, CommandError, call_command, color,
21. )
22. from django.core.management.commands.loaddata import Command as LoaddataCommand
23. from django.core.management.commands.runserver import (
24.     Command as RunserverCommand,
25. )
26. from django.core.management.commands.testserver import (
27.     Command as TestserverCommand,
28. )
29. from django.db import ConnectionHandler, connection
30. from django.db.migrations.recorder import MigrationRecorder
31. from django.test import (
32.     LiveServerTestCase, SimpleTestCase, TestCase, override_settings,
33. )
34. 
35. custom_templates_dir = os.path.join(os.path.dirname(__file__), 'custom_templates')
36. 
37. SYSTEM_CHECK_MSG = 'System check identified no issues'
38. 
39. 
40. class AdminScriptTestCase(SimpleTestCase):
41.     def setUp(self):
42.         tmpdir = tempfile.TemporaryDirectory()
43.         self.addCleanup(tmpdir.cleanup)
44.         # os.path.realpath() is required for temporary directories on macOS,
45.         # where `/var` is a symlink to `/private/var`.
46.         self.test_dir = os.path.realpath(os.path.join(tmpdir.name, 'test_project'))
47.         os.mkdir(self.test_dir)
48. 
49.     def write_settings(self, filename, apps=None, is_dir=False, sdict=None, extra=None):
50.         if is_dir:
51.             settings_dir = os.path.join(self.test_dir, filename)
52.             os.mkdir(settings_dir)
53.             settings_file_path = os.path.join(settings_dir, '__init__.py')
54.         else:
55.             settings_file_path = os.path.join(self.test_dir, filename)
56. 
57.         with open(settings_file_path, 'w') as settings_file:
58.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
59.             if extra:
60.                 settings_file.write("%s\n" % extra)
61.             exports = [
62.                 'DATABASES',
63.                 'ROOT_URLCONF',
64.                 'SECRET_KEY',
65.             ]
66.             for s in exports:
67.                 if hasattr(settings, s):
68.                     o = getattr(settings, s)
69.                     if not isinstance(o, (dict, tuple, list)):
70.                         o = "'%s'" % o
71.                     settings_file.write("%s = %s\n" % (s, o))
72. 
73.             if apps is None:
74.                 apps = ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts']
75. 
76.             settings_file.write("INSTALLED_APPS = %s\n" % apps)
77. 
78.             if sdict:
79.                 for k, v in sdict.items():
80.                     settings_file.write("%s = %s\n" % (k, v))
81. 
82.     def _ext_backend_paths(self):
83.         """
84.         Returns the paths for any external backend packages.
85.         """
86.         paths = []
87.         for backend in settings.DATABASES.values():
88.             package = backend['ENGINE'].split('.')[0]
89.             if package != 'django':
90.                 backend_pkg = __import__(package)
91.                 backend_dir = os.path.dirname(backend_pkg.__file__)
92.                 paths.append(os.path.dirname(backend_dir))
93.         return paths
94. 
95.     def run_test(self, args, settings_file=None, apps=None):
96.         base_dir = os.path.dirname(self.test_dir)
97.         # The base dir for Django's tests is one level up.
98.         tests_dir = os.path.dirname(os.path.dirname(__file__))
99.         # The base dir for Django is one level above the test dir. We don't use
100.         # `import django` to figure that out, so we don't pick up a Django
101.         # from site-packages or similar.
102.         django_dir = os.path.dirname(tests_dir)
103.         ext_backend_base_dirs = self._ext_backend_paths()
104. 
105.         # Define a temporary environment for the subprocess
106.         test_environ = os.environ.copy()
107. 
108.         # Set the test environment
109.         if settings_file:
110.             test_environ['DJANGO_SETTINGS_MODULE'] = settings_file
111.         elif 'DJANGO_SETTINGS_MODULE' in test_environ:
112.             del test_environ['DJANGO_SETTINGS_MODULE']
113.         python_path = [base_dir, django_dir, tests_dir]
114.         python_path.extend(ext_backend_base_dirs)
115.         test_environ['PYTHONPATH'] = os.pathsep.join(python_path)
116.         test_environ['PYTHONWARNINGS'] = ''
117. 
118.         p = subprocess.run(
119.             [sys.executable, *args],
120.             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
121.             cwd=self.test_dir,
122.             env=test_environ, universal_newlines=True,
123.         )
124.         return p.stdout, p.stderr
125. 
126.     def run_django_admin(self, args, settings_file=None):
127.         return self.run_test(['-m', 'django', *args], settings_file)
128. 
129.     def run_manage(self, args, settings_file=None, manage_py=None):
130.         template_manage_py = (
131.             os.path.join(os.path.dirname(__file__), manage_py)
132.             if manage_py else
133.             os.path.join(os.path.dirname(conf.__file__), 'project_template', 'manage.py-tpl')
134.         )
135.         test_manage_py = os.path.join(self.test_dir, 'manage.py')
136.         shutil.copyfile(template_manage_py, test_manage_py)
137. 
138.         with open(test_manage_py) as fp:
139.             manage_py_contents = fp.read()
140.         manage_py_contents = manage_py_contents.replace(
141.             "{{ project_name }}", "test_project")
142.         with open(test_manage_py, 'w') as fp:
143.             fp.write(manage_py_contents)
144. 
145.         return self.run_test(['./manage.py', *args], settings_file)
146. 
147.     def assertNoOutput(self, stream):
148.         "Utility assertion: assert that the given stream is empty"
149.         self.assertEqual(len(stream), 0, "Stream should be empty: actually contains '%s'" % stream)
150. 
151.     def assertOutput(self, stream, msg, regex=False):
152.         "Utility assertion: assert that the given message exists in the output"
153.         if regex:
154.             self.assertIsNotNone(
155.                 re.search(msg, stream),
156.                 "'%s' does not match actual output text '%s'" % (msg, stream)
157.             )
158.         else:
159.             self.assertIn(msg, stream, "'%s' does not match actual output text '%s'" % (msg, stream))
160. 
161.     def assertNotInOutput(self, stream, msg):
162.         "Utility assertion: assert that the given message doesn't exist in the output"
163.         self.assertNotIn(msg, stream, "'%s' matches actual output text '%s'" % (msg, stream))
164. 
165. ##########################################################################
166. # DJANGO ADMIN TESTS
167. # This first series of test classes checks the environment processing
168. # of the django-admin.py script
169. ##########################################################################
170. 
171. 
172. class DjangoAdminNoSettings(AdminScriptTestCase):
173.     "A series of tests for django-admin.py when there is no settings.py file."
174. 
175.     def test_builtin_command(self):
176.         "no settings: django-admin builtin commands fail with an error when no settings provided"
177.         args = ['check', 'admin_scripts']
178.         out, err = self.run_django_admin(args)
179.         self.assertNoOutput(out)
180.         self.assertOutput(err, 'settings are not configured')
181. 
182.     def test_builtin_with_bad_settings(self):
183.         "no settings: django-admin builtin commands fail if settings file (from argument) doesn't exist"
184.         args = ['check', '--settings=bad_settings', 'admin_scripts']
185.         out, err = self.run_django_admin(args)
186.         self.assertNoOutput(out)
187.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
188. 
189.     def test_builtin_with_bad_environment(self):
190.         "no settings: django-admin builtin commands fail if settings file (from environment) doesn't exist"
191.         args = ['check', 'admin_scripts']
192.         out, err = self.run_django_admin(args, 'bad_settings')
193.         self.assertNoOutput(out)
194.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
195. 
196.     def test_commands_with_invalid_settings(self):
197.         """
198.         Commands that don't require settings succeed if the settings file
199.         doesn't exist.
200.         """
201.         args = ['startproject']
202.         out, err = self.run_django_admin(args, settings_file='bad_settings')
203.         self.assertNoOutput(out)
204.         self.assertOutput(err, "You must provide a project name", regex=True)
205. 
206. 
207. class DjangoAdminDefaultSettings(AdminScriptTestCase):
208.     """A series of tests for django-admin.py when using a settings.py file that
209.     contains the test application.
210.     """
211.     def setUp(self):
212.         super().setUp()
213.         self.write_settings('settings.py')
214. 
215.     def test_builtin_command(self):
216.         "default: django-admin builtin commands fail with an error when no settings provided"
217.         args = ['check', 'admin_scripts']
218.         out, err = self.run_django_admin(args)
219.         self.assertNoOutput(out)
220.         self.assertOutput(err, 'settings are not configured')
221. 
222.     def test_builtin_with_settings(self):
223.         "default: django-admin builtin commands succeed if settings are provided as argument"
224.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
225.         out, err = self.run_django_admin(args)
226.         self.assertNoOutput(err)
227.         self.assertOutput(out, SYSTEM_CHECK_MSG)
228. 
229.     def test_builtin_with_environment(self):
230.         "default: django-admin builtin commands succeed if settings are provided in the environment"
231.         args = ['check', 'admin_scripts']
232.         out, err = self.run_django_admin(args, 'test_project.settings')
233.         self.assertNoOutput(err)
234.         self.assertOutput(out, SYSTEM_CHECK_MSG)
235. 
236.     def test_builtin_with_bad_settings(self):
237.         "default: django-admin builtin commands fail if settings file (from argument) doesn't exist"
238.         args = ['check', '--settings=bad_settings', 'admin_scripts']
239.         out, err = self.run_django_admin(args)
240.         self.assertNoOutput(out)
241.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
242. 
243.     def test_builtin_with_bad_environment(self):
244.         "default: django-admin builtin commands fail if settings file (from environment) doesn't exist"
245.         args = ['check', 'admin_scripts']
246.         out, err = self.run_django_admin(args, 'bad_settings')
247.         self.assertNoOutput(out)
248.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
249. 
250.     def test_custom_command(self):
251.         "default: django-admin can't execute user commands if it isn't provided settings"
252.         args = ['noargs_command']
253.         out, err = self.run_django_admin(args)
254.         self.assertNoOutput(out)
255.         self.assertOutput(err, "No Django settings specified")
256.         self.assertOutput(err, "Unknown command: 'noargs_command'")
257. 
258.     def test_custom_command_with_settings(self):
259.         "default: django-admin can execute user commands if settings are provided as argument"
260.         args = ['noargs_command', '--settings=test_project.settings']
261.         out, err = self.run_django_admin(args)
262.         self.assertNoOutput(err)
263.         self.assertOutput(out, "EXECUTE: noargs_command")
264. 
265.     def test_custom_command_with_environment(self):
266.         "default: django-admin can execute user commands if settings are provided in environment"
267.         args = ['noargs_command']
268.         out, err = self.run_django_admin(args, 'test_project.settings')
269.         self.assertNoOutput(err)
270.         self.assertOutput(out, "EXECUTE: noargs_command")
271. 
272. 
273. class DjangoAdminFullPathDefaultSettings(AdminScriptTestCase):
274.     """A series of tests for django-admin.py when using a settings.py file that
275.     contains the test application specified using a full path.
276.     """
277.     def setUp(self):
278.         super().setUp()
279.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes',
280.                                             'admin_scripts', 'admin_scripts.complex_app'])
281. 
282.     def test_builtin_command(self):
283.         "fulldefault: django-admin builtin commands fail with an error when no settings provided"
284.         args = ['check', 'admin_scripts']
285.         out, err = self.run_django_admin(args)
286.         self.assertNoOutput(out)
287.         self.assertOutput(err, 'settings are not configured')
288. 
289.     def test_builtin_with_settings(self):
290.         "fulldefault: django-admin builtin commands succeed if a settings file is provided"
291.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
292.         out, err = self.run_django_admin(args)
293.         self.assertNoOutput(err)
294.         self.assertOutput(out, SYSTEM_CHECK_MSG)
295. 
296.     def test_builtin_with_environment(self):
297.         "fulldefault: django-admin builtin commands succeed if the environment contains settings"
298.         args = ['check', 'admin_scripts']
299.         out, err = self.run_django_admin(args, 'test_project.settings')
300.         self.assertNoOutput(err)
301.         self.assertOutput(out, SYSTEM_CHECK_MSG)
302. 
303.     def test_builtin_with_bad_settings(self):
304.         "fulldefault: django-admin builtin commands fail if settings file (from argument) doesn't exist"
305.         args = ['check', '--settings=bad_settings', 'admin_scripts']
306.         out, err = self.run_django_admin(args)
307.         self.assertNoOutput(out)
308.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
309. 
310.     def test_builtin_with_bad_environment(self):
311.         "fulldefault: django-admin builtin commands fail if settings file (from environment) doesn't exist"
312.         args = ['check', 'admin_scripts']
313.         out, err = self.run_django_admin(args, 'bad_settings')
314.         self.assertNoOutput(out)
315.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
316. 
317.     def test_custom_command(self):
318.         "fulldefault: django-admin can't execute user commands unless settings are provided"
319.         args = ['noargs_command']
320.         out, err = self.run_django_admin(args)
321.         self.assertNoOutput(out)
322.         self.assertOutput(err, "No Django settings specified")
323.         self.assertOutput(err, "Unknown command: 'noargs_command'")
324. 
325.     def test_custom_command_with_settings(self):
326.         "fulldefault: django-admin can execute user commands if settings are provided as argument"
327.         args = ['noargs_command', '--settings=test_project.settings']
328.         out, err = self.run_django_admin(args)
329.         self.assertNoOutput(err)
330.         self.assertOutput(out, "EXECUTE: noargs_command")
331. 
332.     def test_custom_command_with_environment(self):
333.         "fulldefault: django-admin can execute user commands if settings are provided in environment"
334.         args = ['noargs_command']
335.         out, err = self.run_django_admin(args, 'test_project.settings')
336.         self.assertNoOutput(err)
337.         self.assertOutput(out, "EXECUTE: noargs_command")
338. 
339. 
340. class DjangoAdminMinimalSettings(AdminScriptTestCase):
341.     """A series of tests for django-admin.py when using a settings.py file that
342.     doesn't contain the test application.
343.     """
344.     def setUp(self):
345.         super().setUp()
346.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
347. 
348.     def test_builtin_command(self):
349.         "minimal: django-admin builtin commands fail with an error when no settings provided"
350.         args = ['check', 'admin_scripts']
351.         out, err = self.run_django_admin(args)
352.         self.assertNoOutput(out)
353.         self.assertOutput(err, 'settings are not configured')
354. 
355.     def test_builtin_with_settings(self):
356.         "minimal: django-admin builtin commands fail if settings are provided as argument"
357.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
358.         out, err = self.run_django_admin(args)
359.         self.assertNoOutput(out)
360.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
361. 
362.     def test_builtin_with_environment(self):
363.         "minimal: django-admin builtin commands fail if settings are provided in the environment"
364.         args = ['check', 'admin_scripts']
365.         out, err = self.run_django_admin(args, 'test_project.settings')
366.         self.assertNoOutput(out)
367.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
368. 
369.     def test_builtin_with_bad_settings(self):
370.         "minimal: django-admin builtin commands fail if settings file (from argument) doesn't exist"
371.         args = ['check', '--settings=bad_settings', 'admin_scripts']
372.         out, err = self.run_django_admin(args)
373.         self.assertNoOutput(out)
374.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
375. 
376.     def test_builtin_with_bad_environment(self):
377.         "minimal: django-admin builtin commands fail if settings file (from environment) doesn't exist"
378.         args = ['check', 'admin_scripts']
379.         out, err = self.run_django_admin(args, 'bad_settings')
380.         self.assertNoOutput(out)
381.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
382. 
383.     def test_custom_command(self):
384.         "minimal: django-admin can't execute user commands unless settings are provided"
385.         args = ['noargs_command']
386.         out, err = self.run_django_admin(args)
387.         self.assertNoOutput(out)
388.         self.assertOutput(err, "No Django settings specified")
389.         self.assertOutput(err, "Unknown command: 'noargs_command'")
390. 
391.     def test_custom_command_with_settings(self):
392.         "minimal: django-admin can't execute user commands, even if settings are provided as argument"
393.         args = ['noargs_command', '--settings=test_project.settings']
394.         out, err = self.run_django_admin(args)
395.         self.assertNoOutput(out)
396.         self.assertOutput(err, "Unknown command: 'noargs_command'")
397. 
398.     def test_custom_command_with_environment(self):
399.         "minimal: django-admin can't execute user commands, even if settings are provided in environment"
400.         args = ['noargs_command']
401.         out, err = self.run_django_admin(args, 'test_project.settings')
402.         self.assertNoOutput(out)
403.         self.assertOutput(err, "Unknown command: 'noargs_command'")
404. 
405. 
406. class DjangoAdminAlternateSettings(AdminScriptTestCase):
407.     """A series of tests for django-admin.py when using a settings file
408.     with a name other than 'settings.py'.
409.     """
410.     def setUp(self):
411.         super().setUp()
412.         self.write_settings('alternate_settings.py')
413. 
414.     def test_builtin_command(self):
415.         "alternate: django-admin builtin commands fail with an error when no settings provided"
416.         args = ['check', 'admin_scripts']
417.         out, err = self.run_django_admin(args)
418.         self.assertNoOutput(out)
419.         self.assertOutput(err, 'settings are not configured')
420. 
421.     def test_builtin_with_settings(self):
422.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
423.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
424.         out, err = self.run_django_admin(args)
425.         self.assertNoOutput(err)
426.         self.assertOutput(out, SYSTEM_CHECK_MSG)
427. 
428.     def test_builtin_with_environment(self):
429.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
430.         args = ['check', 'admin_scripts']
431.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
432.         self.assertNoOutput(err)
433.         self.assertOutput(out, SYSTEM_CHECK_MSG)
434. 
435.     def test_builtin_with_bad_settings(self):
436.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
437.         args = ['check', '--settings=bad_settings', 'admin_scripts']
438.         out, err = self.run_django_admin(args)
439.         self.assertNoOutput(out)
440.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
441. 
442.     def test_builtin_with_bad_environment(self):
443.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
444.         args = ['check', 'admin_scripts']
445.         out, err = self.run_django_admin(args, 'bad_settings')
446.         self.assertNoOutput(out)
447.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
448. 
449.     def test_custom_command(self):
450.         "alternate: django-admin can't execute user commands unless settings are provided"
451.         args = ['noargs_command']
452.         out, err = self.run_django_admin(args)
453.         self.assertNoOutput(out)
454.         self.assertOutput(err, "No Django settings specified")
455.         self.assertOutput(err, "Unknown command: 'noargs_command'")
456. 
457.     def test_custom_command_with_settings(self):
458.         "alternate: django-admin can execute user commands if settings are provided as argument"
459.         args = ['noargs_command', '--settings=test_project.alternate_settings']
460.         out, err = self.run_django_admin(args)
461.         self.assertNoOutput(err)
462.         self.assertOutput(out, "EXECUTE: noargs_command")
463. 
464.     def test_custom_command_with_environment(self):
465.         "alternate: django-admin can execute user commands if settings are provided in environment"
466.         args = ['noargs_command']
467.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
468.         self.assertNoOutput(err)
469.         self.assertOutput(out, "EXECUTE: noargs_command")
470. 
471. 
472. class DjangoAdminMultipleSettings(AdminScriptTestCase):
473.     """A series of tests for django-admin.py when multiple settings files
474.     (including the default 'settings.py') are available. The default settings
475.     file is insufficient for performing the operations described, so the
476.     alternate settings must be used by the running script.
477.     """
478.     def setUp(self):
479.         super().setUp()
480.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
481.         self.write_settings('alternate_settings.py')
482. 
483.     def test_builtin_command(self):
484.         "alternate: django-admin builtin commands fail with an error when no settings provided"
485.         args = ['check', 'admin_scripts']
486.         out, err = self.run_django_admin(args)
487.         self.assertNoOutput(out)
488.         self.assertOutput(err, 'settings are not configured')
489. 
490.     def test_builtin_with_settings(self):
491.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
492.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
493.         out, err = self.run_django_admin(args)
494.         self.assertNoOutput(err)
495.         self.assertOutput(out, SYSTEM_CHECK_MSG)
496. 
497.     def test_builtin_with_environment(self):
498.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
499.         args = ['check', 'admin_scripts']
500.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
501.         self.assertNoOutput(err)
502.         self.assertOutput(out, SYSTEM_CHECK_MSG)
503. 
504.     def test_builtin_with_bad_settings(self):
505.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
506.         args = ['check', '--settings=bad_settings', 'admin_scripts']
507.         out, err = self.run_django_admin(args)
508.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
509. 
510.     def test_builtin_with_bad_environment(self):
511.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
512.         args = ['check', 'admin_scripts']
513.         out, err = self.run_django_admin(args, 'bad_settings')
514.         self.assertNoOutput(out)
515.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
516. 
517.     def test_custom_command(self):
518.         "alternate: django-admin can't execute user commands unless settings are provided"
519.         args = ['noargs_command']
520.         out, err = self.run_django_admin(args)
521.         self.assertNoOutput(out)
522.         self.assertOutput(err, "No Django settings specified")
523.         self.assertOutput(err, "Unknown command: 'noargs_command'")
524. 
525.     def test_custom_command_with_settings(self):
526.         "alternate: django-admin can execute user commands if settings are provided as argument"
527.         args = ['noargs_command', '--settings=test_project.alternate_settings']
528.         out, err = self.run_django_admin(args)
529.         self.assertNoOutput(err)
530.         self.assertOutput(out, "EXECUTE: noargs_command")
531. 
532.     def test_custom_command_with_environment(self):
533.         "alternate: django-admin can execute user commands if settings are provided in environment"
534.         args = ['noargs_command']
535.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
536.         self.assertNoOutput(err)
537.         self.assertOutput(out, "EXECUTE: noargs_command")
538. 
539. 
540. class DjangoAdminSettingsDirectory(AdminScriptTestCase):
541.     """
542.     A series of tests for django-admin.py when the settings file is in a
543.     directory. (see #9751).
544.     """
545. 
546.     def setUp(self):
547.         super().setUp()
548.         self.write_settings('settings', is_dir=True)
549. 
550.     def test_setup_environ(self):
551.         "directory: startapp creates the correct directory"
552.         args = ['startapp', 'settings_test']
553.         app_path = os.path.join(self.test_dir, 'settings_test')
554.         out, err = self.run_django_admin(args, 'test_project.settings')
555.         self.assertNoOutput(err)
556.         self.assertTrue(os.path.exists(app_path))
557.         with open(os.path.join(app_path, 'apps.py')) as f:
558.             content = f.read()
559.             self.assertIn("class SettingsTestConfig(AppConfig)", content)
560.             self.assertIn("name = 'settings_test'", content)
561. 
562.     def test_setup_environ_custom_template(self):
563.         "directory: startapp creates the correct directory with a custom template"
564.         template_path = os.path.join(custom_templates_dir, 'app_template')
565.         args = ['startapp', '--template', template_path, 'custom_settings_test']
566.         app_path = os.path.join(self.test_dir, 'custom_settings_test')
567.         out, err = self.run_django_admin(args, 'test_project.settings')
568.         self.assertNoOutput(err)
569.         self.assertTrue(os.path.exists(app_path))
570.         self.assertTrue(os.path.exists(os.path.join(app_path, 'api.py')))
571. 
572.     def test_startapp_unicode_name(self):
573.         """startapp creates the correct directory with Unicode characters."""
574.         args = ['startapp', 'こんにちは']
575.         app_path = os.path.join(self.test_dir, 'こんにちは')
576.         out, err = self.run_django_admin(args, 'test_project.settings')
577.         self.assertNoOutput(err)
578.         self.assertTrue(os.path.exists(app_path))
579.         with open(os.path.join(app_path, 'apps.py'), encoding='utf8') as f:
580.             content = f.read()
581.             self.assertIn("class こんにちはConfig(AppConfig)", content)
582.             self.assertIn("name = 'こんにちは'", content)
583. 
584.     def test_builtin_command(self):
585.         "directory: django-admin builtin commands fail with an error when no settings provided"
586.         args = ['check', 'admin_scripts']
587.         out, err = self.run_django_admin(args)
588.         self.assertNoOutput(out)
589.         self.assertOutput(err, 'settings are not configured')
590. 
591.     def test_builtin_with_bad_settings(self):
592.         "directory: django-admin builtin commands fail if settings file (from argument) doesn't exist"
593.         args = ['check', '--settings=bad_settings', 'admin_scripts']
594.         out, err = self.run_django_admin(args)
595.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
596. 
597.     def test_builtin_with_bad_environment(self):
598.         "directory: django-admin builtin commands fail if settings file (from environment) doesn't exist"
599.         args = ['check', 'admin_scripts']
600.         out, err = self.run_django_admin(args, 'bad_settings')
601.         self.assertNoOutput(out)
602.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
603. 
604.     def test_custom_command(self):
605.         "directory: django-admin can't execute user commands unless settings are provided"
606.         args = ['noargs_command']
607.         out, err = self.run_django_admin(args)
608.         self.assertNoOutput(out)
609.         self.assertOutput(err, "No Django settings specified")
610.         self.assertOutput(err, "Unknown command: 'noargs_command'")
611. 
612.     def test_builtin_with_settings(self):
613.         "directory: django-admin builtin commands succeed if settings are provided as argument"
614.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
615.         out, err = self.run_django_admin(args)
616.         self.assertNoOutput(err)
617.         self.assertOutput(out, SYSTEM_CHECK_MSG)
618. 
619.     def test_builtin_with_environment(self):
620.         "directory: django-admin builtin commands succeed if settings are provided in the environment"
621.         args = ['check', 'admin_scripts']
622.         out, err = self.run_django_admin(args, 'test_project.settings')
623.         self.assertNoOutput(err)
624.         self.assertOutput(out, SYSTEM_CHECK_MSG)
625. 
626. 
627. ##########################################################################
628. # MANAGE.PY TESTS
629. # This next series of test classes checks the environment processing
630. # of the generated manage.py script
631. ##########################################################################
632. 
633. class ManageManuallyConfiguredSettings(AdminScriptTestCase):
634.     """Customized manage.py calling settings.configure()."""
635.     def test_non_existent_command_output(self):
636.         out, err = self.run_manage(['invalid_command'], manage_py='configured_settings_manage.py')
637.         self.assertNoOutput(out)
638.         self.assertOutput(err, "Unknown command: 'invalid_command'")
639.         self.assertNotInOutput(err, 'No Django settings specified')
640. 
641. 
642. class ManageNoSettings(AdminScriptTestCase):
643.     "A series of tests for manage.py when there is no settings.py file."
644. 
645.     def test_builtin_command(self):
646.         "no settings: manage.py builtin commands fail with an error when no settings provided"
647.         args = ['check', 'admin_scripts']
648.         out, err = self.run_manage(args)
649.         self.assertNoOutput(out)
650.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
651. 
652.     def test_builtin_with_bad_settings(self):
653.         "no settings: manage.py builtin commands fail if settings file (from argument) doesn't exist"
654.         args = ['check', '--settings=bad_settings', 'admin_scripts']
655.         out, err = self.run_manage(args)
656.         self.assertNoOutput(out)
657.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
658. 
659.     def test_builtin_with_bad_environment(self):
660.         "no settings: manage.py builtin commands fail if settings file (from environment) doesn't exist"
661.         args = ['check', 'admin_scripts']
662.         out, err = self.run_manage(args, 'bad_settings')
663.         self.assertNoOutput(out)
664.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
665. 
666. 
667. class ManageDefaultSettings(AdminScriptTestCase):
668.     """A series of tests for manage.py when using a settings.py file that
669.     contains the test application.
670.     """
671.     def setUp(self):
672.         super().setUp()
673.         self.write_settings('settings.py')
674. 
675.     def test_builtin_command(self):
676.         "default: manage.py builtin commands succeed when default settings are appropriate"
677.         args = ['check', 'admin_scripts']
678.         out, err = self.run_manage(args)
679.         self.assertNoOutput(err)
680.         self.assertOutput(out, SYSTEM_CHECK_MSG)
681. 
682.     def test_builtin_with_settings(self):
683.         "default: manage.py builtin commands succeed if settings are provided as argument"
684.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
685.         out, err = self.run_manage(args)
686.         self.assertNoOutput(err)
687.         self.assertOutput(out, SYSTEM_CHECK_MSG)
688. 
689.     def test_builtin_with_environment(self):
690.         "default: manage.py builtin commands succeed if settings are provided in the environment"
691.         args = ['check', 'admin_scripts']
692.         out, err = self.run_manage(args, 'test_project.settings')
693.         self.assertNoOutput(err)
694.         self.assertOutput(out, SYSTEM_CHECK_MSG)
695. 
696.     def test_builtin_with_bad_settings(self):
697.         "default: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
698.         args = ['check', '--settings=bad_settings', 'admin_scripts']
699.         out, err = self.run_manage(args)
700.         self.assertNoOutput(out)
701.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
702. 
703.     def test_builtin_with_bad_environment(self):
704.         "default: manage.py builtin commands fail if settings file (from environment) doesn't exist"
705.         args = ['check', 'admin_scripts']
706.         out, err = self.run_manage(args, 'bad_settings')
707.         self.assertNoOutput(out)
708.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
709. 
710.     def test_custom_command(self):
711.         "default: manage.py can execute user commands when default settings are appropriate"
712.         args = ['noargs_command']
713.         out, err = self.run_manage(args)
714.         self.assertNoOutput(err)
715.         self.assertOutput(out, "EXECUTE: noargs_command")
716. 
717.     def test_custom_command_with_settings(self):
718.         "default: manage.py can execute user commands when settings are provided as argument"
719.         args = ['noargs_command', '--settings=test_project.settings']
720.         out, err = self.run_manage(args)
721.         self.assertNoOutput(err)
722.         self.assertOutput(out, "EXECUTE: noargs_command")
723. 
724.     def test_custom_command_with_environment(self):
725.         "default: manage.py can execute user commands when settings are provided in environment"
726.         args = ['noargs_command']
727.         out, err = self.run_manage(args, 'test_project.settings')
728.         self.assertNoOutput(err)
729.         self.assertOutput(out, "EXECUTE: noargs_command")
730. 
731. 
732. class ManageFullPathDefaultSettings(AdminScriptTestCase):
733.     """A series of tests for manage.py when using a settings.py file that
734.     contains the test application specified using a full path.
735.     """
736.     def setUp(self):
737.         super().setUp()
738.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts'])
739. 
740.     def test_builtin_command(self):
741.         "fulldefault: manage.py builtin commands succeed when default settings are appropriate"
742.         args = ['check', 'admin_scripts']
743.         out, err = self.run_manage(args)
744.         self.assertNoOutput(err)
745.         self.assertOutput(out, SYSTEM_CHECK_MSG)
746. 
747.     def test_builtin_with_settings(self):
748.         "fulldefault: manage.py builtin commands succeed if settings are provided as argument"
749.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
750.         out, err = self.run_manage(args)
751.         self.assertNoOutput(err)
752.         self.assertOutput(out, SYSTEM_CHECK_MSG)
753. 
754.     def test_builtin_with_environment(self):
755.         "fulldefault: manage.py builtin commands succeed if settings are provided in the environment"
756.         args = ['check', 'admin_scripts']
757.         out, err = self.run_manage(args, 'test_project.settings')
758.         self.assertNoOutput(err)
759.         self.assertOutput(out, SYSTEM_CHECK_MSG)
760. 
761.     def test_builtin_with_bad_settings(self):
762.         "fulldefault: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
763.         args = ['check', '--settings=bad_settings', 'admin_scripts']
764.         out, err = self.run_manage(args)
765.         self.assertNoOutput(out)
766.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
767. 
768.     def test_builtin_with_bad_environment(self):
769.         "fulldefault: manage.py builtin commands fail if settings file (from environment) doesn't exist"
770.         args = ['check', 'admin_scripts']
771.         out, err = self.run_manage(args, 'bad_settings')
772.         self.assertNoOutput(out)
773.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
774. 
775.     def test_custom_command(self):
776.         "fulldefault: manage.py can execute user commands when default settings are appropriate"
777.         args = ['noargs_command']
778.         out, err = self.run_manage(args)
779.         self.assertNoOutput(err)
780.         self.assertOutput(out, "EXECUTE: noargs_command")
781. 
782.     def test_custom_command_with_settings(self):
783.         "fulldefault: manage.py can execute user commands when settings are provided as argument"
784.         args = ['noargs_command', '--settings=test_project.settings']
785.         out, err = self.run_manage(args)
786.         self.assertNoOutput(err)
787.         self.assertOutput(out, "EXECUTE: noargs_command")
788. 
789.     def test_custom_command_with_environment(self):
790.         "fulldefault: manage.py can execute user commands when settings are provided in environment"
791.         args = ['noargs_command']
792.         out, err = self.run_manage(args, 'test_project.settings')
793.         self.assertNoOutput(err)
794.         self.assertOutput(out, "EXECUTE: noargs_command")
795. 
796. 
797. class ManageMinimalSettings(AdminScriptTestCase):
798.     """A series of tests for manage.py when using a settings.py file that
799.     doesn't contain the test application.
800.     """
801.     def setUp(self):
802.         super().setUp()
803.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
804. 
805.     def test_builtin_command(self):
806.         "minimal: manage.py builtin commands fail with an error when no settings provided"
807.         args = ['check', 'admin_scripts']
808.         out, err = self.run_manage(args)
809.         self.assertNoOutput(out)
810.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
811. 
812.     def test_builtin_with_settings(self):
813.         "minimal: manage.py builtin commands fail if settings are provided as argument"
814.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
815.         out, err = self.run_manage(args)
816.         self.assertNoOutput(out)
817.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
818. 
819.     def test_builtin_with_environment(self):
820.         "minimal: manage.py builtin commands fail if settings are provided in the environment"
821.         args = ['check', 'admin_scripts']
822.         out, err = self.run_manage(args, 'test_project.settings')
823.         self.assertNoOutput(out)
824.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
825. 
826.     def test_builtin_with_bad_settings(self):
827.         "minimal: manage.py builtin commands fail if settings file (from argument) doesn't exist"
828.         args = ['check', '--settings=bad_settings', 'admin_scripts']
829.         out, err = self.run_manage(args)
830.         self.assertNoOutput(out)
831.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
832. 
833.     def test_builtin_with_bad_environment(self):
834.         "minimal: manage.py builtin commands fail if settings file (from environment) doesn't exist"
835.         args = ['check', 'admin_scripts']
836.         out, err = self.run_manage(args, 'bad_settings')
837.         self.assertNoOutput(out)
838.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
839. 
840.     def test_custom_command(self):
841.         "minimal: manage.py can't execute user commands without appropriate settings"
842.         args = ['noargs_command']
843.         out, err = self.run_manage(args)
844.         self.assertNoOutput(out)
845.         self.assertOutput(err, "Unknown command: 'noargs_command'")
846. 
847.     def test_custom_command_with_settings(self):
848.         "minimal: manage.py can't execute user commands, even if settings are provided as argument"
849.         args = ['noargs_command', '--settings=test_project.settings']
850.         out, err = self.run_manage(args)
851.         self.assertNoOutput(out)
852.         self.assertOutput(err, "Unknown command: 'noargs_command'")
853. 
854.     def test_custom_command_with_environment(self):
855.         "minimal: manage.py can't execute user commands, even if settings are provided in environment"
856.         args = ['noargs_command']
857.         out, err = self.run_manage(args, 'test_project.settings')
858.         self.assertNoOutput(out)
859.         self.assertOutput(err, "Unknown command: 'noargs_command'")
860. 
861. 
862. class ManageAlternateSettings(AdminScriptTestCase):
863.     """A series of tests for manage.py when using a settings file
864.     with a name other than 'settings.py'.
865.     """
866.     def setUp(self):
867.         super().setUp()
868.         self.write_settings('alternate_settings.py')
869. 
870.     def test_builtin_command(self):
871.         "alternate: manage.py builtin commands fail with an error when no default settings provided"
872.         args = ['check', 'admin_scripts']
873.         out, err = self.run_manage(args)
874.         self.assertNoOutput(out)
875.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
876. 
877.     def test_builtin_with_settings(self):
878.         "alternate: manage.py builtin commands work with settings provided as argument"
879.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
880.         out, err = self.run_manage(args)
881.         self.assertOutput(out, SYSTEM_CHECK_MSG)
882.         self.assertNoOutput(err)
883. 
884.     def test_builtin_with_environment(self):
885.         "alternate: manage.py builtin commands work if settings are provided in the environment"
886.         args = ['check', 'admin_scripts']
887.         out, err = self.run_manage(args, 'alternate_settings')
888.         self.assertOutput(out, SYSTEM_CHECK_MSG)
889.         self.assertNoOutput(err)
890. 
891.     def test_builtin_with_bad_settings(self):
892.         "alternate: manage.py builtin commands fail if settings file (from argument) doesn't exist"
893.         args = ['check', '--settings=bad_settings', 'admin_scripts']
894.         out, err = self.run_manage(args)
895.         self.assertNoOutput(out)
896.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
897. 
898.     def test_builtin_with_bad_environment(self):
899.         "alternate: manage.py builtin commands fail if settings file (from environment) doesn't exist"
900.         args = ['check', 'admin_scripts']
901.         out, err = self.run_manage(args, 'bad_settings')
902.         self.assertNoOutput(out)
903.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
904. 
905.     def test_custom_command(self):
906.         "alternate: manage.py can't execute user commands without settings"
907.         args = ['noargs_command']
908.         out, err = self.run_manage(args)
909.         self.assertNoOutput(out)
910.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
911. 
912.     def test_custom_command_with_settings(self):
913.         "alternate: manage.py can execute user commands if settings are provided as argument"
914.         args = ['noargs_command', '--settings=alternate_settings']
915.         out, err = self.run_manage(args)
916.         self.assertOutput(
917.             out,
918.             "EXECUTE: noargs_command options=[('force_color', False), "
919.             "('no_color', False), ('pythonpath', None), ('settings', "
920.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
921.         )
922.         self.assertNoOutput(err)
923. 
924.     def test_custom_command_with_environment(self):
925.         "alternate: manage.py can execute user commands if settings are provided in environment"
926.         args = ['noargs_command']
927.         out, err = self.run_manage(args, 'alternate_settings')
928.         self.assertOutput(
929.             out,
930.             "EXECUTE: noargs_command options=[('force_color', False), "
931.             "('no_color', False), ('pythonpath', None), ('settings', None), "
932.             "('traceback', False), ('verbosity', 1)]"
933.         )
934.         self.assertNoOutput(err)
935. 
936.     def test_custom_command_output_color(self):
937.         "alternate: manage.py output syntax color can be deactivated with the `--no-color` option"
938.         args = ['noargs_command', '--no-color', '--settings=alternate_settings']
939.         out, err = self.run_manage(args)
940.         self.assertOutput(
941.             out,
942.             "EXECUTE: noargs_command options=[('force_color', False), "
943.             "('no_color', True), ('pythonpath', None), ('settings', "
944.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
945.         )
946.         self.assertNoOutput(err)
947. 
948. 
949. class ManageMultipleSettings(AdminScriptTestCase):
950.     """A series of tests for manage.py when multiple settings files
951.     (including the default 'settings.py') are available. The default settings
952.     file is insufficient for performing the operations described, so the
953.     alternate settings must be used by the running script.
954.     """
955.     def setUp(self):
956.         super().setUp()
957.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
958.         self.write_settings('alternate_settings.py')
959. 
960.     def test_builtin_command(self):
961.         "multiple: manage.py builtin commands fail with an error when no settings provided"
962.         args = ['check', 'admin_scripts']
963.         out, err = self.run_manage(args)
964.         self.assertNoOutput(out)
965.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
966. 
967.     def test_builtin_with_settings(self):
968.         "multiple: manage.py builtin commands succeed if settings are provided as argument"
969.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
970.         out, err = self.run_manage(args)
971.         self.assertNoOutput(err)
972.         self.assertOutput(out, SYSTEM_CHECK_MSG)
973. 
974.     def test_builtin_with_environment(self):
975.         "multiple: manage.py can execute builtin commands if settings are provided in the environment"
976.         args = ['check', 'admin_scripts']
977.         out, err = self.run_manage(args, 'alternate_settings')
978.         self.assertNoOutput(err)
979.         self.assertOutput(out, SYSTEM_CHECK_MSG)
980. 
981.     def test_builtin_with_bad_settings(self):
982.         "multiple: manage.py builtin commands fail if settings file (from argument) doesn't exist"
983.         args = ['check', '--settings=bad_settings', 'admin_scripts']
984.         out, err = self.run_manage(args)
985.         self.assertNoOutput(out)
986.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
987. 
988.     def test_builtin_with_bad_environment(self):
989.         "multiple: manage.py builtin commands fail if settings file (from environment) doesn't exist"
990.         args = ['check', 'admin_scripts']
991.         out, err = self.run_manage(args, 'bad_settings')
992.         self.assertNoOutput(out)
993.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
994. 
995.     def test_custom_command(self):
996.         "multiple: manage.py can't execute user commands using default settings"
997.         args = ['noargs_command']
998.         out, err = self.run_manage(args)
999.         self.assertNoOutput(out)
1000.         self.assertOutput(err, "Unknown command: 'noargs_command'")
1001. 
1002.     def test_custom_command_with_settings(self):
1003.         "multiple: manage.py can execute user commands if settings are provided as argument"
1004.         args = ['noargs_command', '--settings=alternate_settings']
1005.         out, err = self.run_manage(args)
1006.         self.assertNoOutput(err)
1007.         self.assertOutput(out, "EXECUTE: noargs_command")
1008. 
1009.     def test_custom_command_with_environment(self):
1010.         "multiple: manage.py can execute user commands if settings are provided in environment"
1011.         args = ['noargs_command']
1012.         out, err = self.run_manage(args, 'alternate_settings')
1013.         self.assertNoOutput(err)
1014.         self.assertOutput(out, "EXECUTE: noargs_command")
1015. 
1016. 
1017. class ManageSettingsWithSettingsErrors(AdminScriptTestCase):
1018.     """
1019.     Tests for manage.py when using the default settings.py file containing
1020.     runtime errors.
1021.     """
1022.     def write_settings_with_import_error(self, filename):
1023.         settings_file_path = os.path.join(self.test_dir, filename)
1024.         with open(settings_file_path, 'w') as settings_file:
1025.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
1026.             settings_file.write('# The next line will cause an import error:\nimport foo42bar\n')
1027. 
1028.     def test_import_error(self):
1029.         """
1030.         import error: manage.py builtin commands shows useful diagnostic info
1031.         when settings with import errors is provided (#14130).
1032.         """
1033.         self.write_settings_with_import_error('settings.py')
1034.         args = ['check', 'admin_scripts']
1035.         out, err = self.run_manage(args)
1036.         self.assertNoOutput(out)
1037.         self.assertOutput(err, "No module named")
1038.         self.assertOutput(err, "foo42bar")
1039. 
1040.     def test_attribute_error(self):
1041.         """
1042.         manage.py builtin commands does not swallow attribute error due to bad
1043.         settings (#18845).
1044.         """
1045.         self.write_settings('settings.py', sdict={'BAD_VAR': 'INSTALLED_APPS.crash'})
1046.         args = ['collectstatic', 'admin_scripts']
1047.         out, err = self.run_manage(args)
1048.         self.assertNoOutput(out)
1049.         self.assertOutput(err, "AttributeError: 'list' object has no attribute 'crash'")
1050. 
1051.     def test_key_error(self):
1052.         self.write_settings('settings.py', sdict={'BAD_VAR': 'DATABASES["blah"]'})
1053.         args = ['collectstatic', 'admin_scripts']
1054.         out, err = self.run_manage(args)
1055.         self.assertNoOutput(out)
1056.         self.assertOutput(err, "KeyError: 'blah'")
1057. 
1058.     def test_help(self):
1059.         """
1060.         Test listing available commands output note when only core commands are
1061.         available.
1062.         """
1063.         self.write_settings(
1064.             'settings.py',
1065.             extra='from django.core.exceptions import ImproperlyConfigured\n'
1066.                   'raise ImproperlyConfigured()',
1067.         )
1068.         args = ['help']
1069.         out, err = self.run_manage(args)
1070.         self.assertOutput(out, 'only Django core commands are listed')
1071.         self.assertNoOutput(err)
1072. 
1073. 
1074. class ManageCheck(AdminScriptTestCase):
1075.     def test_nonexistent_app(self):
1076.         """check reports an error on a nonexistent app in INSTALLED_APPS."""
1077.         self.write_settings(
1078.             'settings.py',
1079.             apps=['admin_scriptz.broken_app'],
1080.             sdict={'USE_I18N': False},
1081.         )
1082.         args = ['check']
1083.         out, err = self.run_manage(args)
1084.         self.assertNoOutput(out)
1085.         self.assertOutput(err, 'ModuleNotFoundError')
1086.         self.assertOutput(err, 'No module named')
1087.         self.assertOutput(err, 'admin_scriptz')
1088. 
1089.     def test_broken_app(self):
1090.         """ manage.py check reports an ImportError if an app's models.py
1091.         raises one on import """
1092. 
1093.         self.write_settings('settings.py', apps=['admin_scripts.broken_app'])
1094.         args = ['check']
1095.         out, err = self.run_manage(args)
1096.         self.assertNoOutput(out)
1097.         self.assertOutput(err, 'ImportError')
1098. 
1099.     def test_complex_app(self):
1100.         """ manage.py check does not raise an ImportError validating a
1101.         complex app with nested calls to load_app """
1102. 
1103.         self.write_settings(
1104.             'settings.py',
1105.             apps=[
1106.                 'admin_scripts.complex_app',
1107.                 'admin_scripts.simple_app',
1108.                 'django.contrib.admin.apps.SimpleAdminConfig',
1109.                 'django.contrib.auth',
1110.                 'django.contrib.contenttypes',
1111.                 'django.contrib.messages',
1112.             ],
1113.             sdict={
1114.                 'DEBUG': True,
1115.                 'MIDDLEWARE': [
1116.                     'django.contrib.messages.middleware.MessageMiddleware',
1117.                     'django.contrib.auth.middleware.AuthenticationMiddleware',
1118.                     'django.contrib.sessions.middleware.SessionMiddleware',
1119.                 ],
1120.                 'TEMPLATES': [
1121.                     {
1122.                         'BACKEND': 'django.template.backends.django.DjangoTemplates',
1123.                         'DIRS': [],
1124.                         'APP_DIRS': True,
1125.                         'OPTIONS': {
1126.                             'context_processors': [
1127.                                 'django.template.context_processors.request',
1128.                                 'django.contrib.auth.context_processors.auth',
1129.                                 'django.contrib.messages.context_processors.messages',
1130.                             ],
1131.                         },
1132.                     },
1133.                 ],
1134.             }
1135.         )
1136.         args = ['check']
1137.         out, err = self.run_manage(args)
1138.         self.assertNoOutput(err)
1139.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1140. 
1141.     def test_app_with_import(self):
1142.         """ manage.py check does not raise errors when an app imports a base
1143.         class that itself has an abstract base. """
1144. 
1145.         self.write_settings(
1146.             'settings.py',
1147.             apps=[
1148.                 'admin_scripts.app_with_import',
1149.                 'django.contrib.auth',
1150.                 'django.contrib.contenttypes',
1151.                 'django.contrib.sites',
1152.             ],
1153.             sdict={'DEBUG': True},
1154.         )
1155.         args = ['check']
1156.         out, err = self.run_manage(args)
1157.         self.assertNoOutput(err)
1158.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1159. 
1160.     def test_output_format(self):
1161.         """ All errors/warnings should be sorted by level and by message. """
1162. 
1163.         self.write_settings(
1164.             'settings.py',
1165.             apps=[
1166.                 'admin_scripts.app_raising_messages',
1167.                 'django.contrib.auth',
1168.                 'django.contrib.contenttypes',
1169.             ],
1170.             sdict={'DEBUG': True},
1171.         )
1172.         args = ['check']
1173.         out, err = self.run_manage(args)
1174.         expected_err = (
1175.             "SystemCheckError: System check identified some issues:\n"
1176.             "\n"
1177.             "ERRORS:\n"
1178.             "?: An error\n"
1179.             "\tHINT: Error hint\n"
1180.             "\n"
1181.             "WARNINGS:\n"
1182.             "a: Second warning\n"
1183.             "obj: First warning\n"
1184.             "\tHINT: Hint\n"
1185.             "\n"
1186.             "System check identified 3 issues (0 silenced).\n"
1187.         )
1188.         self.assertEqual(err, expected_err)
1189.         self.assertNoOutput(out)
1190. 
1191.     def test_warning_does_not_halt(self):
1192.         """
1193.         When there are only warnings or less serious messages, then Django
1194.         should not prevent user from launching their project, so `check`
1195.         command should not raise `CommandError` exception.
1196. 
1197.         In this test we also test output format.
1198.         """
1199. 
1200.         self.write_settings(
1201.             'settings.py',
1202.             apps=[
1203.                 'admin_scripts.app_raising_warning',
1204.                 'django.contrib.auth',
1205.                 'django.contrib.contenttypes',
1206.             ],
1207.             sdict={'DEBUG': True},
1208.         )
1209.         args = ['check']
1210.         out, err = self.run_manage(args)
1211.         expected_err = (
1212.             "System check identified some issues:\n"  # No "CommandError: " part
1213.             "\n"
1214.             "WARNINGS:\n"
1215.             "?: A warning\n"
1216.             "\n"
1217.             "System check identified 1 issue (0 silenced).\n"
1218.         )
1219.         self.assertEqual(err, expected_err)
1220.         self.assertNoOutput(out)
1221. 
1222. 
1223. class ManageRunserver(SimpleTestCase):
1224.     def setUp(self):
1225.         def monkey_run(*args, **options):
1226.             return
1227. 
1228.         self.output = StringIO()
1229.         self.cmd = RunserverCommand(stdout=self.output)
1230.         self.cmd.run = monkey_run
1231. 
1232.     def assertServerSettings(self, addr, port, ipv6=False, raw_ipv6=False):
1233.         self.assertEqual(self.cmd.addr, addr)
1234.         self.assertEqual(self.cmd.port, port)
1235.         self.assertEqual(self.cmd.use_ipv6, ipv6)
1236.         self.assertEqual(self.cmd._raw_ipv6, raw_ipv6)
1237. 
1238.     def test_runserver_addrport(self):
1239.         call_command(self.cmd)
1240.         self.assertServerSettings('127.0.0.1', '8000')
1241. 
1242.         call_command(self.cmd, addrport="1.2.3.4:8000")
1243.         self.assertServerSettings('1.2.3.4', '8000')
1244. 
1245.         call_command(self.cmd, addrport="7000")
1246.         self.assertServerSettings('127.0.0.1', '7000')
1247. 
1248.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1249.     def test_runner_addrport_ipv6(self):
1250.         call_command(self.cmd, addrport="", use_ipv6=True)
1251.         self.assertServerSettings('::1', '8000', ipv6=True, raw_ipv6=True)
1252. 
1253.         call_command(self.cmd, addrport="7000", use_ipv6=True)
1254.         self.assertServerSettings('::1', '7000', ipv6=True, raw_ipv6=True)
1255. 
1256.         call_command(self.cmd, addrport="[2001:0db8:1234:5678::9]:7000")
1257.         self.assertServerSettings('2001:0db8:1234:5678::9', '7000', ipv6=True, raw_ipv6=True)
1258. 
1259.     def test_runner_hostname(self):
1260.         call_command(self.cmd, addrport="localhost:8000")
1261.         self.assertServerSettings('localhost', '8000')
1262. 
1263.         call_command(self.cmd, addrport="test.domain.local:7000")
1264.         self.assertServerSettings('test.domain.local', '7000')
1265. 
1266.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1267.     def test_runner_hostname_ipv6(self):
1268.         call_command(self.cmd, addrport="test.domain.local:7000", use_ipv6=True)
1269.         self.assertServerSettings('test.domain.local', '7000', ipv6=True)
1270. 
1271.     def test_runner_custom_defaults(self):
1272.         self.cmd.default_addr = '0.0.0.0'
1273.         self.cmd.default_port = '5000'
1274.         call_command(self.cmd)
1275.         self.assertServerSettings('0.0.0.0', '5000')
1276. 
1277.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1278.     def test_runner_custom_defaults_ipv6(self):
1279.         self.cmd.default_addr_ipv6 = '::'
1280.         call_command(self.cmd, use_ipv6=True)
1281.         self.assertServerSettings('::', '8000', ipv6=True, raw_ipv6=True)
1282. 
1283.     def test_runner_ambiguous(self):
1284.         # Only 4 characters, all of which could be in an ipv6 address
1285.         call_command(self.cmd, addrport="beef:7654")
1286.         self.assertServerSettings('beef', '7654')
1287. 
1288.         # Uses only characters that could be in an ipv6 address
1289.         call_command(self.cmd, addrport="deadbeef:7654")
1290.         self.assertServerSettings('deadbeef', '7654')
1291. 
1292.     def test_no_database(self):
1293.         """
1294.         Ensure runserver.check_migrations doesn't choke on empty DATABASES.
1295.         """
1296.         tested_connections = ConnectionHandler({})
1297.         with mock.patch('django.core.management.base.connections', new=tested_connections):
1298.             self.cmd.check_migrations()
1299. 
1300.     def test_readonly_database(self):
1301.         """
1302.         runserver.check_migrations() doesn't choke when a database is read-only.
1303.         """
1304.         with mock.patch.object(MigrationRecorder, 'has_table', return_value=False):
1305.             self.cmd.check_migrations()
1306.         # You have # ...
1307.         self.assertIn('unapplied migration(s)', self.output.getvalue())
1308. 
1309. 
1310. class ManageRunserverMigrationWarning(TestCase):
1311. 
1312.     def setUp(self):
1313.         self.stdout = StringIO()
1314.         self.runserver_command = RunserverCommand(stdout=self.stdout)
1315. 
1316.     @override_settings(INSTALLED_APPS=["admin_scripts.app_waiting_migration"])
1317.     def test_migration_warning_one_app(self):
1318.         self.runserver_command.check_migrations()
1319.         output = self.stdout.getvalue()
1320.         self.assertIn('You have 1 unapplied migration(s)', output)
1321.         self.assertIn('apply the migrations for app(s): app_waiting_migration.', output)
1322. 
1323.     @override_settings(
1324.         INSTALLED_APPS=[
1325.             "admin_scripts.app_waiting_migration",
1326.             "admin_scripts.another_app_waiting_migration",
1327.         ],
1328.     )
1329.     def test_migration_warning_multiple_apps(self):
1330.         self.runserver_command.check_migrations()
1331.         output = self.stdout.getvalue()
1332.         self.assertIn('You have 2 unapplied migration(s)', output)
1333.         self.assertIn(
1334.             'apply the migrations for app(s): another_app_waiting_migration, '
1335.             'app_waiting_migration.', output
1336.         )
1337. 
1338. 
1339. class ManageRunserverEmptyAllowedHosts(AdminScriptTestCase):
1340.     def setUp(self):
1341.         super().setUp()
1342.         self.write_settings('settings.py', sdict={
1343.             'ALLOWED_HOSTS': [],
1344.             'DEBUG': False,
1345.         })
1346. 
1347.     def test_empty_allowed_hosts_error(self):
1348.         out, err = self.run_manage(['runserver'])
1349.         self.assertNoOutput(out)
1350.         self.assertOutput(err, 'CommandError: You must set settings.ALLOWED_HOSTS if DEBUG is False.')
1351. 
1352. 
1353. class ManageTestserver(SimpleTestCase):
1354. 
1355.     @mock.patch.object(TestserverCommand, 'handle', return_value='')
1356.     def test_testserver_handle_params(self, mock_handle):
1357.         out = StringIO()
1358.         call_command('testserver', 'blah.json', stdout=out)
1359.         mock_handle.assert_called_with(
1360.             'blah.json',
1361.             stdout=out, settings=None, pythonpath=None, verbosity=1,
1362.             traceback=False, addrport='', no_color=False, use_ipv6=False,
1363.             skip_checks=True, interactive=True, force_color=False,
1364.         )
1365. 
1366.     @mock.patch('django.db.connection.creation.create_test_db', return_value='test_db')
1367.     @mock.patch.object(LoaddataCommand, 'handle', return_value='')
1368.     @mock.patch.object(RunserverCommand, 'handle', return_value='')
1369.     def test_params_to_runserver(self, mock_runserver_handle, mock_loaddata_handle, mock_create_test_db):
1370.         call_command('testserver', 'blah.json')
1371.         mock_runserver_handle.assert_called_with(
1372.             addrport='',
1373.             force_color=False,
1374.             insecure_serving=False,
1375.             no_color=False,
1376.             pythonpath=None,
1377.             settings=None,
1378.             shutdown_message=(
1379.                 "\nServer stopped.\nNote that the test database, 'test_db', "
1380.                 "has not been deleted. You can explore it on your own."
1381.             ),
1382.             skip_checks=True,
1383.             traceback=False,
1384.             use_ipv6=False,
1385.             use_reloader=False,
1386.             use_static_handler=True,
1387.             use_threading=connection.features.test_db_allows_multiple_connections,
1388.             verbosity=1,
1389.         )
1390. 
1391. 
1392. ##########################################################################
1393. # COMMAND PROCESSING TESTS
1394. # user-space commands are correctly handled - in particular, arguments to
1395. # the commands are correctly parsed and processed.
1396. ##########################################################################
1397. class ColorCommand(BaseCommand):
1398.     requires_system_checks = []
1399. 
1400.     def handle(self, *args, **options):
1401.         self.stdout.write('Hello, world!', self.style.ERROR)
1402.         self.stderr.write('Hello, world!', self.style.ERROR)
1403. 
1404. 
1405. class CommandTypes(AdminScriptTestCase):
1406.     "Tests for the various types of base command types that can be defined."
1407.     def setUp(self):
1408.         super().setUp()
1409.         self.write_settings('settings.py')
1410. 
1411.     def test_version(self):
1412.         "version is handled as a special case"
1413.         args = ['version']
1414.         out, err = self.run_manage(args)
1415.         self.assertNoOutput(err)
1416.         self.assertOutput(out, get_version())
1417. 
1418.     def test_version_alternative(self):
1419.         "--version is equivalent to version"
1420.         args1, args2 = ['version'], ['--version']
1421.         # It's possible one outputs on stderr and the other on stdout, hence the set
1422.         self.assertEqual(set(self.run_manage(args1)), set(self.run_manage(args2)))
1423. 
1424.     def test_help(self):
1425.         "help is handled as a special case"
1426.         args = ['help']
1427.         out, err = self.run_manage(args)
1428.         self.assertOutput(out, "Type 'manage.py help <subcommand>' for help on a specific subcommand.")
1429.         self.assertOutput(out, '[django]')
1430.         self.assertOutput(out, 'startapp')
1431.         self.assertOutput(out, 'startproject')
1432. 
1433.     def test_help_commands(self):
1434.         "help --commands shows the list of all available commands"
1435.         args = ['help', '--commands']
1436.         out, err = self.run_manage(args)
1437.         self.assertNotInOutput(out, 'usage:')
1438.         self.assertNotInOutput(out, 'Options:')
1439.         self.assertNotInOutput(out, '[django]')
1440.         self.assertOutput(out, 'startapp')
1441.         self.assertOutput(out, 'startproject')
1442.         self.assertNotInOutput(out, '\n\n')
1443. 
1444.     def test_help_alternative(self):
1445.         "--help is equivalent to help"
1446.         args1, args2 = ['help'], ['--help']
1447.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1448. 
1449.     def test_help_short_altert(self):
1450.         "-h is handled as a short form of --help"
1451.         args1, args2 = ['--help'], ['-h']
1452.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1453. 
1454.     def test_specific_help(self):
1455.         "--help can be used on a specific command"
1456.         args = ['check', '--help']
1457.         out, err = self.run_manage(args)
1458.         self.assertNoOutput(err)
1459.         # Command-specific options like --tag appear before options common to
1460.         # all commands like --version.
1461.         tag_location = out.find('--tag')
1462.         version_location = out.find('--version')
1463.         self.assertNotEqual(tag_location, -1)
1464.         self.assertNotEqual(version_location, -1)
1465.         self.assertLess(tag_location, version_location)
1466.         self.assertOutput(out, "Checks the entire Django project for potential problems.")
1467. 
1468.     def test_color_style(self):
1469.         style = color.no_style()
1470.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1471. 
1472.         style = color.make_style('nocolor')
1473.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1474. 
1475.         style = color.make_style('dark')
1476.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1477.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1478. 
1479.         # Default palette has color.
1480.         style = color.make_style('')
1481.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1482.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1483. 
1484.     def test_command_color(self):
1485.         out = StringIO()
1486.         err = StringIO()
1487.         command = ColorCommand(stdout=out, stderr=err)
1488.         call_command(command)
1489.         if color.supports_color():
1490.             self.assertIn('Hello, world!\n', out.getvalue())
1491.             self.assertIn('Hello, world!\n', err.getvalue())
1492.             self.assertNotEqual(out.getvalue(), 'Hello, world!\n')
1493.             self.assertNotEqual(err.getvalue(), 'Hello, world!\n')
1494.         else:
1495.             self.assertEqual(out.getvalue(), 'Hello, world!\n')
1496.             self.assertEqual(err.getvalue(), 'Hello, world!\n')
1497. 
1498.     def test_command_no_color(self):
1499.         "--no-color prevent colorization of the output"
1500.         out = StringIO()
1501.         err = StringIO()
1502.         command = ColorCommand(stdout=out, stderr=err, no_color=True)
1503.         call_command(command)
1504.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1505.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1506. 
1507.         out = StringIO()
1508.         err = StringIO()
1509.         command = ColorCommand(stdout=out, stderr=err)
1510.         call_command(command, no_color=True)
1511.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1512.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1513. 
1514.     def test_force_color_execute(self):
1515.         out = StringIO()
1516.         err = StringIO()
1517.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1518.             command = ColorCommand(stdout=out, stderr=err)
1519.             call_command(command, force_color=True)
1520.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1521.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1522. 
1523.     def test_force_color_command_init(self):
1524.         out = StringIO()
1525.         err = StringIO()
1526.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1527.             command = ColorCommand(stdout=out, stderr=err, force_color=True)
1528.             call_command(command)
1529.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1530.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1531. 
1532.     def test_no_color_force_color_mutually_exclusive_execute(self):
1533.         msg = "The --no-color and --force-color options can't be used together."
1534.         with self.assertRaisesMessage(CommandError, msg):
1535.             call_command(BaseCommand(), no_color=True, force_color=True)
1536. 
1537.     def test_no_color_force_color_mutually_exclusive_command_init(self):
1538.         msg = "'no_color' and 'force_color' can't be used together."
1539.         with self.assertRaisesMessage(CommandError, msg):
1540.             call_command(BaseCommand(no_color=True, force_color=True))
1541. 
1542.     def test_custom_stdout(self):
1543.         class Command(BaseCommand):
1544.             requires_system_checks = []
1545. 
1546.             def handle(self, *args, **options):
1547.                 self.stdout.write("Hello, World!")
1548. 
1549.         out = StringIO()
1550.         command = Command(stdout=out)
1551.         call_command(command)
1552.         self.assertEqual(out.getvalue(), "Hello, World!\n")
1553.         out.truncate(0)
1554.         new_out = StringIO()
1555.         call_command(command, stdout=new_out)
1556.         self.assertEqual(out.getvalue(), "")
1557.         self.assertEqual(new_out.getvalue(), "Hello, World!\n")
1558. 
1559.     def test_custom_stderr(self):
1560.         class Command(BaseCommand):
1561.             requires_system_checks = []
1562. 
1563.             def handle(self, *args, **options):
1564.                 self.stderr.write("Hello, World!")
1565. 
1566.         err = StringIO()
1567.         command = Command(stderr=err)
1568.         call_command(command)
1569.         self.assertEqual(err.getvalue(), "Hello, World!\n")
1570.         err.truncate(0)
1571.         new_err = StringIO()
1572.         call_command(command, stderr=new_err)
1573.         self.assertEqual(err.getvalue(), "")
1574.         self.assertEqual(new_err.getvalue(), "Hello, World!\n")
1575. 
1576.     def test_base_command(self):
1577.         "User BaseCommands can execute when a label is provided"
1578.         args = ['base_command', 'testlabel']
1579.         expected_labels = "('testlabel',)"
1580.         self._test_base_command(args, expected_labels)
1581. 
1582.     def test_base_command_no_label(self):
1583.         "User BaseCommands can execute when no labels are provided"
1584.         args = ['base_command']
1585.         expected_labels = "()"
1586.         self._test_base_command(args, expected_labels)
1587. 
1588.     def test_base_command_multiple_label(self):
1589.         "User BaseCommands can execute when no labels are provided"
1590.         args = ['base_command', 'testlabel', 'anotherlabel']
1591.         expected_labels = "('testlabel', 'anotherlabel')"
1592.         self._test_base_command(args, expected_labels)
1593. 
1594.     def test_base_command_with_option(self):
1595.         "User BaseCommands can execute with options when a label is provided"
1596.         args = ['base_command', 'testlabel', '--option_a=x']
1597.         expected_labels = "('testlabel',)"
1598.         self._test_base_command(args, expected_labels, option_a="'x'")
1599. 
1600.     def test_base_command_with_options(self):
1601.         "User BaseCommands can execute with multiple options when a label is provided"
1602.         args = ['base_command', 'testlabel', '-a', 'x', '--option_b=y']
1603.         expected_labels = "('testlabel',)"
1604.         self._test_base_command(args, expected_labels, option_a="'x'", option_b="'y'")
1605. 
1606.     def test_base_command_with_wrong_option(self):
1607.         "User BaseCommands outputs command usage when wrong option is specified"
1608.         args = ['base_command', '--invalid']
1609.         out, err = self.run_manage(args)
1610.         self.assertNoOutput(out)
1611.         self.assertOutput(err, "usage: manage.py base_command")
1612.         self.assertOutput(err, "error: unrecognized arguments: --invalid")
1613. 
1614.     def _test_base_command(self, args, labels, option_a="'1'", option_b="'2'"):
1615.         out, err = self.run_manage(args)
1616. 
1617.         expected_out = (
1618.             "EXECUTE:BaseCommand labels=%s, "
1619.             "options=[('force_color', False), ('no_color', False), "
1620.             "('option_a', %s), ('option_b', %s), ('option_c', '3'), "
1621.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1622.             "('verbosity', 1)]") % (labels, option_a, option_b)
1623.         self.assertNoOutput(err)
1624.         self.assertOutput(out, expected_out)
1625. 
1626.     def test_base_run_from_argv(self):
1627.         """
1628.         Test run_from_argv properly terminates even with custom execute() (#19665)
1629.         Also test proper traceback display.
1630.         """
1631.         err = StringIO()
1632.         command = BaseCommand(stderr=err)
1633. 
1634.         def raise_command_error(*args, **kwargs):
1635.             raise CommandError("Custom error")
1636. 
1637.         command.execute = lambda args: args  # This will trigger TypeError
1638. 
1639.         # If the Exception is not CommandError it should always
1640.         # raise the original exception.
1641.         with self.assertRaises(TypeError):
1642.             command.run_from_argv(['', ''])
1643. 
1644.         # If the Exception is CommandError and --traceback is not present
1645.         # this command should raise a SystemExit and don't print any
1646.         # traceback to the stderr.
1647.         command.execute = raise_command_error
1648.         err.truncate(0)
1649.         with self.assertRaises(SystemExit):
1650.             command.run_from_argv(['', ''])
1651.         err_message = err.getvalue()
1652.         self.assertNotIn("Traceback", err_message)
1653.         self.assertIn("CommandError", err_message)
1654. 
1655.         # If the Exception is CommandError and --traceback is present
1656.         # this command should raise the original CommandError as if it
1657.         # were not a CommandError.
1658.         err.truncate(0)
1659.         with self.assertRaises(CommandError):
1660.             command.run_from_argv(['', '', '--traceback'])
1661. 
1662.     def test_run_from_argv_non_ascii_error(self):
1663.         """
1664.         Non-ASCII message of CommandError does not raise any
1665.         UnicodeDecodeError in run_from_argv.
1666.         """
1667.         def raise_command_error(*args, **kwargs):
1668.             raise CommandError("Erreur personnalisée")
1669. 
1670.         command = BaseCommand(stderr=StringIO())
1671.         command.execute = raise_command_error
1672. 
1673.         with self.assertRaises(SystemExit):
1674.             command.run_from_argv(['', ''])
1675. 
1676.     def test_run_from_argv_closes_connections(self):
1677.         """
1678.         A command called from the command line should close connections after
1679.         being executed (#21255).
1680.         """
1681.         command = BaseCommand()
1682.         command.check = lambda: []
1683.         command.handle = lambda *args, **kwargs: args
1684.         with mock.patch('django.core.management.base.connections') as mock_connections:
1685.             command.run_from_argv(['', ''])
1686.         # Test connections have been closed
1687.         self.assertTrue(mock_connections.close_all.called)
1688. 
1689.     def test_noargs(self):
1690.         "NoArg Commands can be executed"
1691.         args = ['noargs_command']
1692.         out, err = self.run_manage(args)
1693.         self.assertNoOutput(err)
1694.         self.assertOutput(
1695.             out,
1696.             "EXECUTE: noargs_command options=[('force_color', False), "
1697.             "('no_color', False), ('pythonpath', None), ('settings', None), "
1698.             "('traceback', False), ('verbosity', 1)]"
1699.         )
1700. 
1701.     def test_noargs_with_args(self):
1702.         "NoArg Commands raise an error if an argument is provided"
1703.         args = ['noargs_command', 'argument']
1704.         out, err = self.run_manage(args)
1705.         self.assertOutput(err, "error: unrecognized arguments: argument")
1706. 
1707.     def test_app_command(self):
1708.         "User AppCommands can execute when a single app name is provided"
1709.         args = ['app_command', 'auth']
1710.         out, err = self.run_manage(args)
1711.         self.assertNoOutput(err)
1712.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1713.         self.assertOutput(
1714.             out,
1715.             ", options=[('force_color', False), ('no_color', False), "
1716.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1717.             "('verbosity', 1)]"
1718.         )
1719. 
1720.     def test_app_command_no_apps(self):
1721.         "User AppCommands raise an error when no app name is provided"
1722.         args = ['app_command']
1723.         out, err = self.run_manage(args)
1724.         self.assertOutput(err, 'error: Enter at least one application label.')
1725. 
1726.     def test_app_command_multiple_apps(self):
1727.         "User AppCommands raise an error when multiple app names are provided"
1728.         args = ['app_command', 'auth', 'contenttypes']
1729.         out, err = self.run_manage(args)
1730.         self.assertNoOutput(err)
1731.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1732.         self.assertOutput(
1733.             out,
1734.             ", options=[('force_color', False), ('no_color', False), "
1735.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1736.             "('verbosity', 1)]"
1737.         )
1738.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.contenttypes, options=")
1739.         self.assertOutput(
1740.             out,
1741.             ", options=[('force_color', False), ('no_color', False), "
1742.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1743.             "('verbosity', 1)]"
1744.         )
1745. 
1746.     def test_app_command_invalid_app_label(self):
1747.         "User AppCommands can execute when a single app name is provided"
1748.         args = ['app_command', 'NOT_AN_APP']
1749.         out, err = self.run_manage(args)
1750.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1751. 
1752.     def test_app_command_some_invalid_app_labels(self):
1753.         "User AppCommands can execute when some of the provided app names are invalid"
1754.         args = ['app_command', 'auth', 'NOT_AN_APP']
1755.         out, err = self.run_manage(args)
1756.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1757. 
1758.     def test_label_command(self):
1759.         "User LabelCommands can execute when a label is provided"
1760.         args = ['label_command', 'testlabel']
1761.         out, err = self.run_manage(args)
1762.         self.assertNoOutput(err)
1763.         self.assertOutput(
1764.             out,
1765.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1766.             "False), ('no_color', False), ('pythonpath', None), ('settings', "
1767.             "None), ('traceback', False), ('verbosity', 1)]"
1768.         )
1769. 
1770.     def test_label_command_no_label(self):
1771.         "User LabelCommands raise an error if no label is provided"
1772.         args = ['label_command']
1773.         out, err = self.run_manage(args)
1774.         self.assertOutput(err, 'Enter at least one label')
1775. 
1776.     def test_label_command_multiple_label(self):
1777.         "User LabelCommands are executed multiple times if multiple labels are provided"
1778.         args = ['label_command', 'testlabel', 'anotherlabel']
1779.         out, err = self.run_manage(args)
1780.         self.assertNoOutput(err)
1781.         self.assertOutput(
1782.             out,
1783.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1784.             "False), ('no_color', False), ('pythonpath', None), "
1785.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1786.         )
1787.         self.assertOutput(
1788.             out,
1789.             "EXECUTE:LabelCommand label=anotherlabel, options=[('force_color', "
1790.             "False), ('no_color', False), ('pythonpath', None), "
1791.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1792.         )
1793. 
1794. 
1795. class Discovery(SimpleTestCase):
1796. 
1797.     def test_precedence(self):
1798.         """
1799.         Apps listed first in INSTALLED_APPS have precedence.
1800.         """
1801.         with self.settings(INSTALLED_APPS=['admin_scripts.complex_app',
1802.                                            'admin_scripts.simple_app',
1803.                                            'django.contrib.auth',
1804.                                            'django.contrib.contenttypes']):
1805.             out = StringIO()
1806.             call_command('duplicate', stdout=out)
1807.             self.assertEqual(out.getvalue().strip(), 'complex_app')
1808.         with self.settings(INSTALLED_APPS=['admin_scripts.simple_app',
1809.                                            'admin_scripts.complex_app',
1810.                                            'django.contrib.auth',
1811.                                            'django.contrib.contenttypes']):
1812.             out = StringIO()
1813.             call_command('duplicate', stdout=out)
1814.             self.assertEqual(out.getvalue().strip(), 'simple_app')
1815. 
1816. 
1817. class ArgumentOrder(AdminScriptTestCase):
1818.     """Tests for 2-stage argument parsing scheme.
1819. 
1820.     django-admin command arguments are parsed in 2 parts; the core arguments
1821.     (--settings, --traceback and --pythonpath) are parsed using a basic parser,
1822.     ignoring any unknown options. Then the full settings are
1823.     passed to the command parser, which extracts commands of interest to the
1824.     individual command.
1825.     """
1826.     def setUp(self):
1827.         super().setUp()
1828.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
1829.         self.write_settings('alternate_settings.py')
1830. 
1831.     def test_setting_then_option(self):
1832.         """ Options passed after settings are correctly handled. """
1833.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '--option_a=x']
1834.         self._test(args)
1835. 
1836.     def test_setting_then_short_option(self):
1837.         """ Short options passed after settings are correctly handled. """
1838.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '-a', 'x']
1839.         self._test(args)
1840. 
1841.     def test_option_then_setting(self):
1842.         """ Options passed before settings are correctly handled. """
1843.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings']
1844.         self._test(args)
1845. 
1846.     def test_short_option_then_setting(self):
1847.         """ Short options passed before settings are correctly handled. """
1848.         args = ['base_command', 'testlabel', '-a', 'x', '--settings=alternate_settings']
1849.         self._test(args)
1850. 
1851.     def test_option_then_setting_then_option(self):
1852.         """ Options are correctly handled when they are passed before and after
1853.         a setting. """
1854.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings', '--option_b=y']
1855.         self._test(args, option_b="'y'")
1856. 
1857.     def _test(self, args, option_b="'2'"):
1858.         out, err = self.run_manage(args)
1859.         self.assertNoOutput(err)
1860.         self.assertOutput(
1861.             out,
1862.             "EXECUTE:BaseCommand labels=('testlabel',), options=["
1863.             "('force_color', False), ('no_color', False), ('option_a', 'x'), "
1864.             "('option_b', %s), ('option_c', '3'), ('pythonpath', None), "
1865.             "('settings', 'alternate_settings'), ('traceback', False), "
1866.             "('verbosity', 1)]" % option_b
1867.         )
1868. 
1869. 
1870. @override_settings(ROOT_URLCONF='admin_scripts.urls')
1871. class StartProject(LiveServerTestCase, AdminScriptTestCase):
1872. 
1873.     available_apps = [
1874.         'admin_scripts',
1875.         'django.contrib.auth',
1876.         'django.contrib.contenttypes',
1877.         'django.contrib.sessions',
1878.     ]
1879. 
1880.     def test_wrong_args(self):
1881.         "Make sure passing the wrong kinds of arguments outputs an error and prints usage"
1882.         out, err = self.run_django_admin(['startproject'])
1883.         self.assertNoOutput(out)
1884.         self.assertOutput(err, "usage:")
1885.         self.assertOutput(err, "You must provide a project name.")
1886. 
1887.     def test_simple_project(self):
1888.         "Make sure the startproject management command creates a project"
1889.         args = ['startproject', 'testproject']
1890.         testproject_dir = os.path.join(self.test_dir, 'testproject')
1891. 
1892.         out, err = self.run_django_admin(args)
1893.         self.assertNoOutput(err)
1894.         self.assertTrue(os.path.isdir(testproject_dir))
1895. 
1896.         # running again..
1897.         out, err = self.run_django_admin(args)
1898.         self.assertNoOutput(out)
1899.         self.assertOutput(
1900.             err,
1901.             "CommandError: 'testproject' conflicts with the name of an "
1902.             "existing Python module and cannot be used as a project name. "
1903.             "Please try another name.",
1904.         )
1905. 
1906.     def test_invalid_project_name(self):
1907.         "Make sure the startproject management command validates a project name"
1908.         for bad_name in ('7testproject', '../testproject'):
1909.             with self.subTest(project_name=bad_name):
1910.                 args = ['startproject', bad_name]
1911.                 testproject_dir = os.path.join(self.test_dir, bad_name)
1912. 
1913.                 out, err = self.run_django_admin(args)
1914.                 self.assertOutput(
1915.                     err,
1916.                     "Error: '%s' is not a valid project name. Please make "
1917.                     "sure the name is a valid identifier." % bad_name
1918.                 )
1919.                 self.assertFalse(os.path.exists(testproject_dir))
1920. 
1921.     def test_importable_project_name(self):
1922.         """
1923.         startproject validates that project name doesn't clash with existing
1924.         Python modules.
1925.         """
1926.         bad_name = 'os'
1927.         args = ['startproject', bad_name]
1928.         testproject_dir = os.path.join(self.test_dir, bad_name)
1929. 
1930.         out, err = self.run_django_admin(args)
1931.         self.assertOutput(
1932.             err,
1933.             "CommandError: 'os' conflicts with the name of an existing "
1934.             "Python module and cannot be used as a project name. Please try "
1935.             "another name."
1936.         )
1937.         self.assertFalse(os.path.exists(testproject_dir))
1938. 
1939.     def test_simple_project_different_directory(self):
1940.         "Make sure the startproject management command creates a project in a specific directory"
1941.         args = ['startproject', 'testproject', 'othertestproject']
1942.         testproject_dir = os.path.join(self.test_dir, 'othertestproject')
1943.         os.mkdir(testproject_dir)
1944. 
1945.         out, err = self.run_django_admin(args)
1946.         self.assertNoOutput(err)
1947.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'manage.py')))
1948. 
1949.         # running again..
1950.         out, err = self.run_django_admin(args)
1951.         self.assertNoOutput(out)
1952.         self.assertOutput(
1953.             err,
1954.             "already exists. Overlaying a project into an existing directory "
1955.             "won't replace conflicting files."
1956.         )
1957. 
1958.     def test_custom_project_template(self):
1959.         "Make sure the startproject management command is able to use a different project template"
1960.         template_path = os.path.join(custom_templates_dir, 'project_template')
1961.         args = ['startproject', '--template', template_path, 'customtestproject']
1962.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1963. 
1964.         out, err = self.run_django_admin(args)
1965.         self.assertNoOutput(err)
1966.         self.assertTrue(os.path.isdir(testproject_dir))
1967.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1968. 
1969.     def test_template_dir_with_trailing_slash(self):
1970.         "Ticket 17475: Template dir passed has a trailing path separator"
1971.         template_path = os.path.join(custom_templates_dir, 'project_template' + os.sep)
1972.         args = ['startproject', '--template', template_path, 'customtestproject']
1973.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1974. 
1975.         out, err = self.run_django_admin(args)
1976.         self.assertNoOutput(err)
1977.         self.assertTrue(os.path.isdir(testproject_dir))
1978.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1979. 
1980.     def test_custom_project_template_from_tarball_by_path(self):
1981.         "Make sure the startproject management command is able to use a different project template from a tarball"
1982.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1983.         args = ['startproject', '--template', template_path, 'tarballtestproject']
1984.         testproject_dir = os.path.join(self.test_dir, 'tarballtestproject')
1985. 
1986.         out, err = self.run_django_admin(args)
1987.         self.assertNoOutput(err)
1988.         self.assertTrue(os.path.isdir(testproject_dir))
1989.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'run.py')))
1990. 
1991.     def test_custom_project_template_from_tarball_to_alternative_location(self):
1992.         "Startproject can use a project template from a tarball and create it in a specified location"
1993.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1994.         args = ['startproject', '--template', template_path, 'tarballtestproject', 'altlocation']
1995.         testproject_dir = os.path.join(self.test_dir, 'altlocation')
1996.         os.mkdir(testproject_dir)
1997. 
1998.         out, err = self.run_django_admin(args)
1999.         self.assertNoOutput(err)
2000.         self.assertTrue(os.path.isdir(testproject_dir))

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:01:03,613 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user is reporting an issue with `flush()` not working on `stdout`/`stderr` during management commands, specifically mentioning the `migrate` command. The current context from `tests/admin_scripts/tests.py` provides general command-line script testing but lacks specific tests for the `migrate` command's output and its flushing behavior. To find relevant tests, I need to look at tests for the `migrate` command itself." query='Please provide the full content of tests/migrations/test_commands.py' extra_requirements='' purpose='This file is expected to contain tests for the `migrate` command, which will help in finding or creating a test case that reproduces the reported output buffering issue.'
2025-12-23 04:01:03,614 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_commands.py
2025-12-23 04:01:03,614 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:01:03,615 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:01:03,616 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:01:03,616 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_commands.py
Purpose: This file is expected to contain tests for the `migrate` command, which will help in finding or creating a test case that reproduces the reported output buffering issue.
2025-12-23 04:01:06,362 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the file `tests/migrations/test_commands.py` as requested. This file contains tests for the `migrate` command, which will be useful for understanding the existing test structure and potentially adding a new test case.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_commands.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2107, 'candidates_token_count': 75, 'total_token_count': 2298, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2107}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 75}], 'thoughts_token_count': 116, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12698340098063152, 'model_name': 'gemini-2.5-pro'} id='run--c2dbfde2-d960-4f3c-9480-227d9847604b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_commands.py'}, 'id': '1dc7a5c5-30a0-4739-8579-eba73fdcbc6d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2107, 'output_tokens': 75, 'total_tokens': 2298, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 116}}
2025-12-23 04:01:11,302 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the file `tests/migrations/test_commands.py` as requested. This file contains tests for the `migrate` command, which will be useful for understanding the existing test structure and potentially adding a new test case.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10726, 'candidates_token_count': 52, 'total_token_count': 11200, 'cached_content_token_count': 1819, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10726}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1819}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 52}], 'thoughts_token_count': 422}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7701685245220478, 'model_name': 'gemini-2.5-pro'} id='run--0930522c-8c6b-4e80-9462-e44a7e0bb4aa-0' usage_metadata={'input_tokens': 10726, 'output_tokens': 52, 'total_tokens': 11200, 'input_token_details': {'cache_read': 1819}, 'output_token_details': {'reasoning': 422}}
2025-12-23 04:01:11,303 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_commands.py
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is expected to contain tests for the `migrate` command, which will help in finding or creating a test case that reproduces the reported output buffering issue.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_commands.py
Line number range: 1 - 500
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. 
20. from .models import UnicodeModel, UnserializableModel
21. from .routers import TestRouter
22. from .test_base import MigrationTestBase
23. 
24. 
25. class MigrateTests(MigrationTestBase):
26.     """
27.     Tests running the migrate command.
28.     """
29.     databases = {'default', 'other'}
30. 
31.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
32.     def test_migrate(self):
33.         """
34.         Tests basic usage of the migrate command.
35.         """
36.         # No tables are created
37.         self.assertTableNotExists("migrations_author")
38.         self.assertTableNotExists("migrations_tribble")
39.         self.assertTableNotExists("migrations_book")
40.         # Run the migrations to 0001 only
41.         stdout = io.StringIO()
42.         call_command('migrate', 'migrations', '0001', verbosity=1, stdout=stdout, no_color=True)
43.         stdout = stdout.getvalue()
44.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
45.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
46.         # The correct tables exist
47.         self.assertTableExists("migrations_author")
48.         self.assertTableExists("migrations_tribble")
49.         self.assertTableNotExists("migrations_book")
50.         # Run migrations all the way
51.         call_command("migrate", verbosity=0)
52.         # The correct tables exist
53.         self.assertTableExists("migrations_author")
54.         self.assertTableNotExists("migrations_tribble")
55.         self.assertTableExists("migrations_book")
56.         # Unmigrate everything
57.         stdout = io.StringIO()
58.         call_command('migrate', 'migrations', 'zero', verbosity=1, stdout=stdout, no_color=True)
59.         stdout = stdout.getvalue()
60.         self.assertIn('Unapply all migrations: migrations', stdout)
61.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
62.         # Tables are gone
63.         self.assertTableNotExists("migrations_author")
64.         self.assertTableNotExists("migrations_tribble")
65.         self.assertTableNotExists("migrations_book")
66. 
67.     @override_settings(INSTALLED_APPS=[
68.         'django.contrib.auth',
69.         'django.contrib.contenttypes',
70.         'migrations.migrations_test_apps.migrated_app',
71.     ])
72.     def test_migrate_with_system_checks(self):
73.         out = io.StringIO()
74.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
75.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
76. 
77.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
78.     def test_app_without_migrations(self):
79.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
80.         with self.assertRaisesMessage(CommandError, msg):
81.             call_command('migrate', app_label='unmigrated_app_syncdb')
82. 
83.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
84.     def test_ambiguous_prefix(self):
85.         msg = (
86.             "More than one migration matches 'a' in app 'migrations'. Please "
87.             "be more specific."
88.         )
89.         with self.assertRaisesMessage(CommandError, msg):
90.             call_command('migrate', app_label='migrations', migration_name='a')
91. 
92.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
93.     def test_unknown_prefix(self):
94.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
95.         with self.assertRaisesMessage(CommandError, msg):
96.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
97. 
98.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
99.     def test_migrate_initial_false(self):
100.         """
101.         `Migration.initial = False` skips fake-initial detection.
102.         """
103.         # Make sure no tables are created
104.         self.assertTableNotExists("migrations_author")
105.         self.assertTableNotExists("migrations_tribble")
106.         # Run the migrations to 0001 only
107.         call_command("migrate", "migrations", "0001", verbosity=0)
108.         # Fake rollback
109.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
110.         # Make sure fake-initial detection does not run
111.         with self.assertRaises(DatabaseError):
112.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
113. 
114.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
115.         # Real rollback
116.         call_command("migrate", "migrations", "zero", verbosity=0)
117.         # Make sure it's all gone
118.         self.assertTableNotExists("migrations_author")
119.         self.assertTableNotExists("migrations_tribble")
120.         self.assertTableNotExists("migrations_book")
121. 
122.     @override_settings(
123.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
124.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
125.     )
126.     def test_migrate_fake_initial(self):
127.         """
128.         --fake-initial only works if all tables created in the initial
129.         migration of an app exists. Database routers must be obeyed when doing
130.         that check.
131.         """
132.         # Make sure no tables are created
133.         for db in self.databases:
134.             self.assertTableNotExists("migrations_author", using=db)
135.             self.assertTableNotExists("migrations_tribble", using=db)
136.         # Run the migrations to 0001 only
137.         call_command("migrate", "migrations", "0001", verbosity=0)
138.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
139.         # Make sure the right tables exist
140.         self.assertTableExists("migrations_author")
141.         self.assertTableNotExists("migrations_tribble")
142.         # Also check the "other" database
143.         self.assertTableNotExists("migrations_author", using="other")
144.         self.assertTableExists("migrations_tribble", using="other")
145. 
146.         # Fake a roll-back
147.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
148.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
149.         # Make sure the tables still exist
150.         self.assertTableExists("migrations_author")
151.         self.assertTableExists("migrations_tribble", using="other")
152.         # Try to run initial migration
153.         with self.assertRaises(DatabaseError):
154.             call_command("migrate", "migrations", "0001", verbosity=0)
155.         # Run initial migration with an explicit --fake-initial
156.         out = io.StringIO()
157.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
158.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
159.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
160.         self.assertIn(
161.             "migrations.0001_initial... faked",
162.             out.getvalue().lower()
163.         )
164.         try:
165.             # Run migrations all the way.
166.             call_command('migrate', verbosity=0)
167.             call_command('migrate', verbosity=0, database="other")
168.             self.assertTableExists('migrations_author')
169.             self.assertTableNotExists('migrations_tribble')
170.             self.assertTableExists('migrations_book')
171.             self.assertTableNotExists('migrations_author', using='other')
172.             self.assertTableNotExists('migrations_tribble', using='other')
173.             self.assertTableNotExists('migrations_book', using='other')
174.             # Fake a roll-back.
175.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
176.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
177.             self.assertTableExists('migrations_author')
178.             self.assertTableNotExists('migrations_tribble')
179.             self.assertTableExists('migrations_book')
180.             # Run initial migration.
181.             with self.assertRaises(DatabaseError):
182.                 call_command('migrate', 'migrations', verbosity=0)
183.             # Run initial migration with an explicit --fake-initial.
184.             with self.assertRaises(DatabaseError):
185.                 # Fails because "migrations_tribble" does not exist but needs
186.                 # to in order to make --fake-initial work.
187.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
188.             # Fake an apply.
189.             call_command('migrate', 'migrations', fake=True, verbosity=0)
190.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
191.         finally:
192.             # Unmigrate everything.
193.             call_command('migrate', 'migrations', 'zero', verbosity=0)
194.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
195.         # Make sure it's all gone
196.         for db in self.databases:
197.             self.assertTableNotExists("migrations_author", using=db)
198.             self.assertTableNotExists("migrations_tribble", using=db)
199.             self.assertTableNotExists("migrations_book", using=db)
200. 
201.     @skipUnlessDBFeature('ignores_table_name_case')
202.     def test_migrate_fake_initial_case_insensitive(self):
203.         with override_settings(MIGRATION_MODULES={
204.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
205.         }):
206.             call_command('migrate', 'migrations', '0001', verbosity=0)
207.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
208. 
209.         with override_settings(MIGRATION_MODULES={
210.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
211.         }):
212.             out = io.StringIO()
213.             call_command(
214.                 'migrate',
215.                 'migrations',
216.                 '0001',
217.                 fake_initial=True,
218.                 stdout=out,
219.                 verbosity=1,
220.                 no_color=True,
221.             )
222.             self.assertIn(
223.                 'migrations.0001_initial... faked',
224.                 out.getvalue().lower(),
225.             )
226. 
227.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
228.     def test_migrate_fake_split_initial(self):
229.         """
230.         Split initial migrations can be faked with --fake-initial.
231.         """
232.         call_command("migrate", "migrations", "0002", verbosity=0)
233.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
234.         out = io.StringIO()
235.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
236.             call_command("migrate", "migrations", "0002", fake_initial=True, stdout=out, verbosity=1)
237.         value = out.getvalue().lower()
238.         self.assertIn("migrations.0001_initial... faked", value)
239.         self.assertIn("migrations.0002_second... faked", value)
240.         # Fake an apply
241.         call_command("migrate", "migrations", fake=True, verbosity=0)
242.         # Unmigrate everything
243.         call_command("migrate", "migrations", "zero", verbosity=0)
244. 
245.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
246.     def test_migrate_conflict_exit(self):
247.         """
248.         migrate exits if it detects a conflict.
249.         """
250.         msg = (
251.             "Conflicting migrations detected; multiple leaf nodes in the "
252.             "migration graph: (0002_conflicting_second, 0002_second in "
253.             "migrations).\n"
254.             "To fix them run 'python manage.py makemigrations --merge'"
255.         )
256.         with self.assertRaisesMessage(CommandError, msg):
257.             call_command("migrate", "migrations")
258. 
259.     @override_settings(MIGRATION_MODULES={
260.         'migrations': 'migrations.test_migrations',
261.     })
262.     def test_migrate_check(self):
263.         with self.assertRaises(SystemExit):
264.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
265.         self.assertTableNotExists('migrations_author')
266.         self.assertTableNotExists('migrations_tribble')
267.         self.assertTableNotExists('migrations_book')
268. 
269.     @override_settings(MIGRATION_MODULES={
270.         'migrations': 'migrations.test_migrations_plan',
271.     })
272.     def test_migrate_check_plan(self):
273.         out = io.StringIO()
274.         with self.assertRaises(SystemExit):
275.             call_command(
276.                 'migrate',
277.                 'migrations',
278.                 '0001',
279.                 check_unapplied=True,
280.                 plan=True,
281.                 stdout=out,
282.                 no_color=True,
283.             )
284.         self.assertEqual(
285.             'Planned operations:\n'
286.             'migrations.0001_initial\n'
287.             '    Create model Salamander\n'
288.             '    Raw Python operation -> Grow salamander tail.\n',
289.             out.getvalue(),
290.         )
291. 
292.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
293.     def test_showmigrations_list(self):
294.         """
295.         showmigrations --list  displays migrations and whether or not they're
296.         applied.
297.         """
298.         out = io.StringIO()
299.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
300.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
301.         self.assertEqual(
302.             '\x1b[1mmigrations\n\x1b[0m'
303.             ' [ ] 0001_initial\n'
304.             ' [ ] 0002_second\n',
305.             out.getvalue().lower()
306.         )
307. 
308.         call_command("migrate", "migrations", "0001", verbosity=0)
309. 
310.         out = io.StringIO()
311.         # Giving the explicit app_label tests for selective `show_list` in the command
312.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
313.         self.assertEqual(
314.             'migrations\n'
315.             ' [x] 0001_initial\n'
316.             ' [ ] 0002_second\n',
317.             out.getvalue().lower()
318.         )
319.         out = io.StringIO()
320.         # Applied datetimes are displayed at verbosity 2+.
321.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
322.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
323.         self.assertEqual(
324.             'migrations\n'
325.             ' [x] 0001_initial (applied at %s)\n'
326.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
327.             out.getvalue().lower()
328.         )
329.         # Cleanup by unmigrating everything
330.         call_command("migrate", "migrations", "zero", verbosity=0)
331. 
332.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
333.     def test_showmigrations_plan(self):
334.         """
335.         Tests --plan output of showmigrations command
336.         """
337.         out = io.StringIO()
338.         call_command("showmigrations", format='plan', stdout=out)
339.         self.assertEqual(
340.             "[ ]  migrations.0001_initial\n"
341.             "[ ]  migrations.0003_third\n"
342.             "[ ]  migrations.0002_second\n",
343.             out.getvalue().lower()
344.         )
345. 
346.         out = io.StringIO()
347.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
348.         self.assertEqual(
349.             "[ ]  migrations.0001_initial\n"
350.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
351.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
352.             out.getvalue().lower()
353.         )
354.         call_command("migrate", "migrations", "0003", verbosity=0)
355. 
356.         out = io.StringIO()
357.         call_command("showmigrations", format='plan', stdout=out)
358.         self.assertEqual(
359.             "[x]  migrations.0001_initial\n"
360.             "[x]  migrations.0003_third\n"
361.             "[ ]  migrations.0002_second\n",
362.             out.getvalue().lower()
363.         )
364. 
365.         out = io.StringIO()
366.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
367.         self.assertEqual(
368.             "[x]  migrations.0001_initial\n"
369.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
370.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
371.             out.getvalue().lower()
372.         )
373. 
374.         # Cleanup by unmigrating everything
375.         call_command("migrate", "migrations", "zero", verbosity=0)
376. 
377.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
378.     def test_migrate_plan(self):
379.         """Tests migrate --plan output."""
380.         out = io.StringIO()
381.         # Show the plan up to the third migration.
382.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
383.         self.assertEqual(
384.             'Planned operations:\n'
385.             'migrations.0001_initial\n'
386.             '    Create model Salamander\n'
387.             '    Raw Python operation -> Grow salamander tail.\n'
388.             'migrations.0002_second\n'
389.             '    Create model Book\n'
390.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
391.             'migrations.0003_third\n'
392.             '    Create model Author\n'
393.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
394.             out.getvalue()
395.         )
396.         try:
397.             # Migrate to the third migration.
398.             call_command('migrate', 'migrations', '0003', verbosity=0)
399.             out = io.StringIO()
400.             # Show the plan for when there is nothing to apply.
401.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
402.             self.assertEqual(
403.                 'Planned operations:\n'
404.                 '  No planned migration operations.\n',
405.                 out.getvalue()
406.             )
407.             out = io.StringIO()
408.             # Show the plan for reverse migration back to 0001.
409.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
410.             self.assertEqual(
411.                 'Planned operations:\n'
412.                 'migrations.0003_third\n'
413.                 '    Undo Create model Author\n'
414.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
415.                 'migrations.0002_second\n'
416.                 '    Undo Create model Book\n'
417.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
418.                 out.getvalue()
419.             )
420.             out = io.StringIO()
421.             # Show the migration plan to fourth, with truncated details.
422.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
423.             self.assertEqual(
424.                 'Planned operations:\n'
425.                 'migrations.0004_fourth\n'
426.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
427.                 out.getvalue()
428.             )
429.             # Show the plan when an operation is irreversible.
430.             # Migrate to the fourth migration.
431.             call_command('migrate', 'migrations', '0004', verbosity=0)
432.             out = io.StringIO()
433.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
434.             self.assertEqual(
435.                 'Planned operations:\n'
436.                 'migrations.0004_fourth\n'
437.                 '    Raw SQL operation -> IRREVERSIBLE\n',
438.                 out.getvalue()
439.             )
440.             out = io.StringIO()
441.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
442.             # Operation is marked as irreversible only in the revert plan.
443.             self.assertEqual(
444.                 'Planned operations:\n'
445.                 'migrations.0005_fifth\n'
446.                 '    Raw Python operation\n'
447.                 '    Raw Python operation\n'
448.                 '    Raw Python operation -> Feed salamander.\n',
449.                 out.getvalue()
450.             )
451.             call_command('migrate', 'migrations', '0005', verbosity=0)
452.             out = io.StringIO()
453.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
454.             self.assertEqual(
455.                 'Planned operations:\n'
456.                 'migrations.0005_fifth\n'
457.                 '    Raw Python operation -> IRREVERSIBLE\n'
458.                 '    Raw Python operation -> IRREVERSIBLE\n'
459.                 '    Raw Python operation\n',
460.                 out.getvalue()
461.             )
462.         finally:
463.             # Cleanup by unmigrating everything: fake the irreversible, then
464.             # migrate all to zero.
465.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
466.             call_command('migrate', 'migrations', 'zero', verbosity=0)
467. 
468.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
469.     def test_showmigrations_no_migrations(self):
470.         out = io.StringIO()
471.         call_command('showmigrations', stdout=out, no_color=True)
472.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
473. 
474.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
475.     def test_showmigrations_unmigrated_app(self):
476.         out = io.StringIO()
477.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
478.         self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
479. 
480.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
481.     def test_showmigrations_plan_no_migrations(self):
482.         """
483.         Tests --plan output of showmigrations command without migrations
484.         """
485.         out = io.StringIO()
486.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
487.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
488. 
489.         out = io.StringIO()
490.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
491.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
492. 
493.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
494.     def test_showmigrations_plan_squashed(self):
495.         """
496.         Tests --plan output of showmigrations command with squashed migrations.
497.         """
498.         out = io.StringIO()
499.         call_command("showmigrations", format='plan', stdout=out)
500.         self.assertEqual(

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:01:15,567 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of the file 'tests/migrations/test_commands.py'.\n2. Extended relevance:\n   - The provided context contains the entire content of the requested file, from line 1 to 500. Therefore, the whole file is relevant to fulfill the user's request.", relative_path='tests/migrations/test_commands.py', start_line=1, end_line=500)]
2025-12-23 04:01:15,569 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_commands.py
2025-12-23 04:01:15,569 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:01:15,569 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:01:15,570 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-23 04:01:15,570 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-23 04:01:15,571 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   └── SECURITY.md
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── bin
|   |   └── django-admin.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── test_django_admin_py.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_password_reset_timeout_days.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_default_hashing_algorithm.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_json_deprecation.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_deprecation.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   ├── test_is_ajax_deprecations.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_deprecation.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_if_equal.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
    ├── test_runner
    |   ├── __init__.py
    |   ├── models.py
    |   ├── runner.py
    |   ├── test_debug_sql.py
    |   ├── test_discover_runner.py
    |   ├── test_parallel.py
    |   └── tests.py
    ├── test_runner_apps
    |   ├── __init__.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: flush() on self.stdout/stderr management commands doesn't work.

Description: Description
	
flush() is notably called during migrate command; it doesn't work, and a long migration effectively prints to stderr no relevant information up until the end:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
Then nothing more, but the migration is being done.
Then at the end of the real migration, the rest is flushed:
 Applying myapp.0002_auto_20200817_1030... OK
Expected behavior:
Operations to perform:
 Apply all migrations: myapp
Running migrations:
 Applying myapp.0002_auto_20200817_1030...
then work
then OK

Patch information:
diff --git a/django/core/management/base.py b/django/core/management/base.py
index e6cbf8c64f..94592f6a11 100644
--- a/django/core/management/base.py
+++ b/django/core/management/base.py
@@ -117,7 +117,7 @@ class DjangoHelpFormatter(HelpFormatter):
         super().add_arguments(self._reordered_actions(actions))
 
 
-class OutputWrapper(TextIOBase):
+class OutputWrapper:
     """
     Wrapper around stdout/stderr
     """
@@ -150,6 +150,8 @@ class OutputWrapper(TextIOBase):
         style_func = style_func or self.style_func
         self._out.write(style_func(msg))
 
+TextIOBase.register(OutputWrapper)
+
 
 class BaseCommand:
     """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of tests/admin_scripts/tests.py.
Extra Requirements: 
Purpose: This file is likely to contain tests for the core management command functionality, including how command output is handled and tested, which is directly relevant to the bug report.

Previous refined query 2:
Essential Query: Please provide the full content of tests/migrations/test_commands.py
Extra Requirements: 
Purpose: This file is expected to contain tests for the `migrate` command, which will help in finding or creating a test case that reproduces the reported output buffering issue.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/admin_scripts/tests.py
Line number range: 1 - 2000
Content:
1. """
2. A series of tests to establish that the command-line management tools work as
3. advertised - especially with regards to the handling of the
4. DJANGO_SETTINGS_MODULE and default settings.py files.
5. """
6. import os
7. import re
8. import shutil
9. import socket
10. import subprocess
11. import sys
12. import tempfile
13. import unittest
14. from io import StringIO
15. from unittest import mock
16. 
17. from django import conf, get_version
18. from django.conf import settings
19. from django.core.management import (
20.     BaseCommand, CommandError, call_command, color,
21. )
22. from django.core.management.commands.loaddata import Command as LoaddataCommand
23. from django.core.management.commands.runserver import (
24.     Command as RunserverCommand,
25. )
26. from django.core.management.commands.testserver import (
27.     Command as TestserverCommand,
28. )
29. from django.db import ConnectionHandler, connection
30. from django.db.migrations.recorder import MigrationRecorder
31. from django.test import (
32.     LiveServerTestCase, SimpleTestCase, TestCase, override_settings,
33. )
34. 
35. custom_templates_dir = os.path.join(os.path.dirname(__file__), 'custom_templates')
36. 
37. SYSTEM_CHECK_MSG = 'System check identified no issues'
38. 
39. 
40. class AdminScriptTestCase(SimpleTestCase):
41.     def setUp(self):
42.         tmpdir = tempfile.TemporaryDirectory()
43.         self.addCleanup(tmpdir.cleanup)
44.         # os.path.realpath() is required for temporary directories on macOS,
45.         # where `/var` is a symlink to `/private/var`.
46.         self.test_dir = os.path.realpath(os.path.join(tmpdir.name, 'test_project'))
47.         os.mkdir(self.test_dir)
48. 
49.     def write_settings(self, filename, apps=None, is_dir=False, sdict=None, extra=None):
50.         if is_dir:
51.             settings_dir = os.path.join(self.test_dir, filename)
52.             os.mkdir(settings_dir)
53.             settings_file_path = os.path.join(settings_dir, '__init__.py')
54.         else:
55.             settings_file_path = os.path.join(self.test_dir, filename)
56. 
57.         with open(settings_file_path, 'w') as settings_file:
58.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
59.             if extra:
60.                 settings_file.write("%s\n" % extra)
61.             exports = [
62.                 'DATABASES',
63.                 'ROOT_URLCONF',
64.                 'SECRET_KEY',
65.             ]
66.             for s in exports:
67.                 if hasattr(settings, s):
68.                     o = getattr(settings, s)
69.                     if not isinstance(o, (dict, tuple, list)):
70.                         o = "'%s'" % o
71.                     settings_file.write("%s = %s\n" % (s, o))
72. 
73.             if apps is None:
74.                 apps = ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts']
75. 
76.             settings_file.write("INSTALLED_APPS = %s\n" % apps)
77. 
78.             if sdict:
79.                 for k, v in sdict.items():
80.                     settings_file.write("%s = %s\n" % (k, v))
81. 
82.     def _ext_backend_paths(self):
83.         """
84.         Returns the paths for any external backend packages.
85.         """
86.         paths = []
87.         for backend in settings.DATABASES.values():
88.             package = backend['ENGINE'].split('.')[0]
89.             if package != 'django':
90.                 backend_pkg = __import__(package)
91.                 backend_dir = os.path.dirname(backend_pkg.__file__)
92.                 paths.append(os.path.dirname(backend_dir))
93.         return paths
94. 
95.     def run_test(self, args, settings_file=None, apps=None):
96.         base_dir = os.path.dirname(self.test_dir)
97.         # The base dir for Django's tests is one level up.
98.         tests_dir = os.path.dirname(os.path.dirname(__file__))
99.         # The base dir for Django is one level above the test dir. We don't use
100.         # `import django` to figure that out, so we don't pick up a Django
101.         # from site-packages or similar.
102.         django_dir = os.path.dirname(tests_dir)
103.         ext_backend_base_dirs = self._ext_backend_paths()
104. 
105.         # Define a temporary environment for the subprocess
106.         test_environ = os.environ.copy()
107. 
108.         # Set the test environment
109.         if settings_file:
110.             test_environ['DJANGO_SETTINGS_MODULE'] = settings_file
111.         elif 'DJANGO_SETTINGS_MODULE' in test_environ:
112.             del test_environ['DJANGO_SETTINGS_MODULE']
113.         python_path = [base_dir, django_dir, tests_dir]
114.         python_path.extend(ext_backend_base_dirs)
115.         test_environ['PYTHONPATH'] = os.pathsep.join(python_path)
116.         test_environ['PYTHONWARNINGS'] = ''
117. 
118.         p = subprocess.run(
119.             [sys.executable, *args],
120.             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
121.             cwd=self.test_dir,
122.             env=test_environ, universal_newlines=True,
123.         )
124.         return p.stdout, p.stderr
125. 
126.     def run_django_admin(self, args, settings_file=None):
127.         return self.run_test(['-m', 'django', *args], settings_file)
128. 
129.     def run_manage(self, args, settings_file=None, manage_py=None):
130.         template_manage_py = (
131.             os.path.join(os.path.dirname(__file__), manage_py)
132.             if manage_py else
133.             os.path.join(os.path.dirname(conf.__file__), 'project_template', 'manage.py-tpl')
134.         )
135.         test_manage_py = os.path.join(self.test_dir, 'manage.py')
136.         shutil.copyfile(template_manage_py, test_manage_py)
137. 
138.         with open(test_manage_py) as fp:
139.             manage_py_contents = fp.read()
140.         manage_py_contents = manage_py_contents.replace(
141.             "{{ project_name }}", "test_project")
142.         with open(test_manage_py, 'w') as fp:
143.             fp.write(manage_py_contents)
144. 
145.         return self.run_test(['./manage.py', *args], settings_file)
146. 
147.     def assertNoOutput(self, stream):
148.         "Utility assertion: assert that the given stream is empty"
149.         self.assertEqual(len(stream), 0, "Stream should be empty: actually contains '%s'" % stream)
150. 
151.     def assertOutput(self, stream, msg, regex=False):
152.         "Utility assertion: assert that the given message exists in the output"
153.         if regex:
154.             self.assertIsNotNone(
155.                 re.search(msg, stream),
156.                 "'%s' does not match actual output text '%s'" % (msg, stream)
157.             )
158.         else:
159.             self.assertIn(msg, stream, "'%s' does not match actual output text '%s'" % (msg, stream))
160. 
161.     def assertNotInOutput(self, stream, msg):
162.         "Utility assertion: assert that the given message doesn't exist in the output"
163.         self.assertNotIn(msg, stream, "'%s' matches actual output text '%s'" % (msg, stream))
164. 
165. ##########################################################################
166. # DJANGO ADMIN TESTS
167. # This first series of test classes checks the environment processing
168. # of the django-admin.py script
169. ##########################################################################
170. 
171. 
172. class DjangoAdminNoSettings(AdminScriptTestCase):
173.     "A series of tests for django-admin.py when there is no settings.py file."
174. 
175.     def test_builtin_command(self):
176.         "no settings: django-admin builtin commands fail with an error when no settings provided"
177.         args = ['check', 'admin_scripts']
178.         out, err = self.run_django_admin(args)
179.         self.assertNoOutput(out)
180.         self.assertOutput(err, 'settings are not configured')
181. 
182.     def test_builtin_with_bad_settings(self):
183.         "no settings: django-admin builtin commands fail if settings file (from argument) doesn't exist"
184.         args = ['check', '--settings=bad_settings', 'admin_scripts']
185.         out, err = self.run_django_admin(args)
186.         self.assertNoOutput(out)
187.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
188. 
189.     def test_builtin_with_bad_environment(self):
190.         "no settings: django-admin builtin commands fail if settings file (from environment) doesn't exist"
191.         args = ['check', 'admin_scripts']
192.         out, err = self.run_django_admin(args, 'bad_settings')
193.         self.assertNoOutput(out)
194.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
195. 
196.     def test_commands_with_invalid_settings(self):
197.         """
198.         Commands that don't require settings succeed if the settings file
199.         doesn't exist.
200.         """
201.         args = ['startproject']
202.         out, err = self.run_django_admin(args, settings_file='bad_settings')
203.         self.assertNoOutput(out)
204.         self.assertOutput(err, "You must provide a project name", regex=True)
205. 
206. 
207. class DjangoAdminDefaultSettings(AdminScriptTestCase):
208.     """A series of tests for django-admin.py when using a settings.py file that
209.     contains the test application.
210.     """
211.     def setUp(self):
212.         super().setUp()
213.         self.write_settings('settings.py')
214. 
215.     def test_builtin_command(self):
216.         "default: django-admin builtin commands fail with an error when no settings provided"
217.         args = ['check', 'admin_scripts']
218.         out, err = self.run_django_admin(args)
219.         self.assertNoOutput(out)
220.         self.assertOutput(err, 'settings are not configured')
221. 
222.     def test_builtin_with_settings(self):
223.         "default: django-admin builtin commands succeed if settings are provided as argument"
224.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
225.         out, err = self.run_django_admin(args)
226.         self.assertNoOutput(err)
227.         self.assertOutput(out, SYSTEM_CHECK_MSG)
228. 
229.     def test_builtin_with_environment(self):
230.         "default: django-admin builtin commands succeed if settings are provided in the environment"
231.         args = ['check', 'admin_scripts']
232.         out, err = self.run_django_admin(args, 'test_project.settings')
233.         self.assertNoOutput(err)
234.         self.assertOutput(out, SYSTEM_CHECK_MSG)
235. 
236.     def test_builtin_with_bad_settings(self):
237.         "default: django-admin builtin commands fail if settings file (from argument) doesn't exist"
238.         args = ['check', '--settings=bad_settings', 'admin_scripts']
239.         out, err = self.run_django_admin(args)
240.         self.assertNoOutput(out)
241.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
242. 
243.     def test_builtin_with_bad_environment(self):
244.         "default: django-admin builtin commands fail if settings file (from environment) doesn't exist"
245.         args = ['check', 'admin_scripts']
246.         out, err = self.run_django_admin(args, 'bad_settings')
247.         self.assertNoOutput(out)
248.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
249. 
250.     def test_custom_command(self):
251.         "default: django-admin can't execute user commands if it isn't provided settings"
252.         args = ['noargs_command']
253.         out, err = self.run_django_admin(args)
254.         self.assertNoOutput(out)
255.         self.assertOutput(err, "No Django settings specified")
256.         self.assertOutput(err, "Unknown command: 'noargs_command'")
257. 
258.     def test_custom_command_with_settings(self):
259.         "default: django-admin can execute user commands if settings are provided as argument"
260.         args = ['noargs_command', '--settings=test_project.settings']
261.         out, err = self.run_django_admin(args)
262.         self.assertNoOutput(err)
263.         self.assertOutput(out, "EXECUTE: noargs_command")
264. 
265.     def test_custom_command_with_environment(self):
266.         "default: django-admin can execute user commands if settings are provided in environment"
267.         args = ['noargs_command']
268.         out, err = self.run_django_admin(args, 'test_project.settings')
269.         self.assertNoOutput(err)
270.         self.assertOutput(out, "EXECUTE: noargs_command")
271. 
272. 
273. class DjangoAdminFullPathDefaultSettings(AdminScriptTestCase):
274.     """A series of tests for django-admin.py when using a settings.py file that
275.     contains the test application specified using a full path.
276.     """
277.     def setUp(self):
278.         super().setUp()
279.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes',
280.                                             'admin_scripts', 'admin_scripts.complex_app'])
281. 
282.     def test_builtin_command(self):
283.         "fulldefault: django-admin builtin commands fail with an error when no settings provided"
284.         args = ['check', 'admin_scripts']
285.         out, err = self.run_django_admin(args)
286.         self.assertNoOutput(out)
287.         self.assertOutput(err, 'settings are not configured')
288. 
289.     def test_builtin_with_settings(self):
290.         "fulldefault: django-admin builtin commands succeed if a settings file is provided"
291.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
292.         out, err = self.run_django_admin(args)
293.         self.assertNoOutput(err)
294.         self.assertOutput(out, SYSTEM_CHECK_MSG)
295. 
296.     def test_builtin_with_environment(self):
297.         "fulldefault: django-admin builtin commands succeed if the environment contains settings"
298.         args = ['check', 'admin_scripts']
299.         out, err = self.run_django_admin(args, 'test_project.settings')
300.         self.assertNoOutput(err)
301.         self.assertOutput(out, SYSTEM_CHECK_MSG)
302. 
303.     def test_builtin_with_bad_settings(self):
304.         "fulldefault: django-admin builtin commands fail if settings file (from argument) doesn't exist"
305.         args = ['check', '--settings=bad_settings', 'admin_scripts']
306.         out, err = self.run_django_admin(args)
307.         self.assertNoOutput(out)
308.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
309. 
310.     def test_builtin_with_bad_environment(self):
311.         "fulldefault: django-admin builtin commands fail if settings file (from environment) doesn't exist"
312.         args = ['check', 'admin_scripts']
313.         out, err = self.run_django_admin(args, 'bad_settings')
314.         self.assertNoOutput(out)
315.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
316. 
317.     def test_custom_command(self):
318.         "fulldefault: django-admin can't execute user commands unless settings are provided"
319.         args = ['noargs_command']
320.         out, err = self.run_django_admin(args)
321.         self.assertNoOutput(out)
322.         self.assertOutput(err, "No Django settings specified")
323.         self.assertOutput(err, "Unknown command: 'noargs_command'")
324. 
325.     def test_custom_command_with_settings(self):
326.         "fulldefault: django-admin can execute user commands if settings are provided as argument"
327.         args = ['noargs_command', '--settings=test_project.settings']
328.         out, err = self.run_django_admin(args)
329.         self.assertNoOutput(err)
330.         self.assertOutput(out, "EXECUTE: noargs_command")
331. 
332.     def test_custom_command_with_environment(self):
333.         "fulldefault: django-admin can execute user commands if settings are provided in environment"
334.         args = ['noargs_command']
335.         out, err = self.run_django_admin(args, 'test_project.settings')
336.         self.assertNoOutput(err)
337.         self.assertOutput(out, "EXECUTE: noargs_command")
338. 
339. 
340. class DjangoAdminMinimalSettings(AdminScriptTestCase):
341.     """A series of tests for django-admin.py when using a settings.py file that
342.     doesn't contain the test application.
343.     """
344.     def setUp(self):
345.         super().setUp()
346.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
347. 
348.     def test_builtin_command(self):
349.         "minimal: django-admin builtin commands fail with an error when no settings provided"
350.         args = ['check', 'admin_scripts']
351.         out, err = self.run_django_admin(args)
352.         self.assertNoOutput(out)
353.         self.assertOutput(err, 'settings are not configured')
354. 
355.     def test_builtin_with_settings(self):
356.         "minimal: django-admin builtin commands fail if settings are provided as argument"
357.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
358.         out, err = self.run_django_admin(args)
359.         self.assertNoOutput(out)
360.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
361. 
362.     def test_builtin_with_environment(self):
363.         "minimal: django-admin builtin commands fail if settings are provided in the environment"
364.         args = ['check', 'admin_scripts']
365.         out, err = self.run_django_admin(args, 'test_project.settings')
366.         self.assertNoOutput(out)
367.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
368. 
369.     def test_builtin_with_bad_settings(self):
370.         "minimal: django-admin builtin commands fail if settings file (from argument) doesn't exist"
371.         args = ['check', '--settings=bad_settings', 'admin_scripts']
372.         out, err = self.run_django_admin(args)
373.         self.assertNoOutput(out)
374.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
375. 
376.     def test_builtin_with_bad_environment(self):
377.         "minimal: django-admin builtin commands fail if settings file (from environment) doesn't exist"
378.         args = ['check', 'admin_scripts']
379.         out, err = self.run_django_admin(args, 'bad_settings')
380.         self.assertNoOutput(out)
381.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
382. 
383.     def test_custom_command(self):
384.         "minimal: django-admin can't execute user commands unless settings are provided"
385.         args = ['noargs_command']
386.         out, err = self.run_django_admin(args)
387.         self.assertNoOutput(out)
388.         self.assertOutput(err, "No Django settings specified")
389.         self.assertOutput(err, "Unknown command: 'noargs_command'")
390. 
391.     def test_custom_command_with_settings(self):
392.         "minimal: django-admin can't execute user commands, even if settings are provided as argument"
393.         args = ['noargs_command', '--settings=test_project.settings']
394.         out, err = self.run_django_admin(args)
395.         self.assertNoOutput(out)
396.         self.assertOutput(err, "Unknown command: 'noargs_command'")
397. 
398.     def test_custom_command_with_environment(self):
399.         "minimal: django-admin can't execute user commands, even if settings are provided in environment"
400.         args = ['noargs_command']
401.         out, err = self.run_django_admin(args, 'test_project.settings')
402.         self.assertNoOutput(out)
403.         self.assertOutput(err, "Unknown command: 'noargs_command'")
404. 
405. 
406. class DjangoAdminAlternateSettings(AdminScriptTestCase):
407.     """A series of tests for django-admin.py when using a settings file
408.     with a name other than 'settings.py'.
409.     """
410.     def setUp(self):
411.         super().setUp()
412.         self.write_settings('alternate_settings.py')
413. 
414.     def test_builtin_command(self):
415.         "alternate: django-admin builtin commands fail with an error when no settings provided"
416.         args = ['check', 'admin_scripts']
417.         out, err = self.run_django_admin(args)
418.         self.assertNoOutput(out)
419.         self.assertOutput(err, 'settings are not configured')
420. 
421.     def test_builtin_with_settings(self):
422.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
423.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
424.         out, err = self.run_django_admin(args)
425.         self.assertNoOutput(err)
426.         self.assertOutput(out, SYSTEM_CHECK_MSG)
427. 
428.     def test_builtin_with_environment(self):
429.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
430.         args = ['check', 'admin_scripts']
431.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
432.         self.assertNoOutput(err)
433.         self.assertOutput(out, SYSTEM_CHECK_MSG)
434. 
435.     def test_builtin_with_bad_settings(self):
436.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
437.         args = ['check', '--settings=bad_settings', 'admin_scripts']
438.         out, err = self.run_django_admin(args)
439.         self.assertNoOutput(out)
440.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
441. 
442.     def test_builtin_with_bad_environment(self):
443.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
444.         args = ['check', 'admin_scripts']
445.         out, err = self.run_django_admin(args, 'bad_settings')
446.         self.assertNoOutput(out)
447.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
448. 
449.     def test_custom_command(self):
450.         "alternate: django-admin can't execute user commands unless settings are provided"
451.         args = ['noargs_command']
452.         out, err = self.run_django_admin(args)
453.         self.assertNoOutput(out)
454.         self.assertOutput(err, "No Django settings specified")
455.         self.assertOutput(err, "Unknown command: 'noargs_command'")
456. 
457.     def test_custom_command_with_settings(self):
458.         "alternate: django-admin can execute user commands if settings are provided as argument"
459.         args = ['noargs_command', '--settings=test_project.alternate_settings']
460.         out, err = self.run_django_admin(args)
461.         self.assertNoOutput(err)
462.         self.assertOutput(out, "EXECUTE: noargs_command")
463. 
464.     def test_custom_command_with_environment(self):
465.         "alternate: django-admin can execute user commands if settings are provided in environment"
466.         args = ['noargs_command']
467.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
468.         self.assertNoOutput(err)
469.         self.assertOutput(out, "EXECUTE: noargs_command")
470. 
471. 
472. class DjangoAdminMultipleSettings(AdminScriptTestCase):
473.     """A series of tests for django-admin.py when multiple settings files
474.     (including the default 'settings.py') are available. The default settings
475.     file is insufficient for performing the operations described, so the
476.     alternate settings must be used by the running script.
477.     """
478.     def setUp(self):
479.         super().setUp()
480.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
481.         self.write_settings('alternate_settings.py')
482. 
483.     def test_builtin_command(self):
484.         "alternate: django-admin builtin commands fail with an error when no settings provided"
485.         args = ['check', 'admin_scripts']
486.         out, err = self.run_django_admin(args)
487.         self.assertNoOutput(out)
488.         self.assertOutput(err, 'settings are not configured')
489. 
490.     def test_builtin_with_settings(self):
491.         "alternate: django-admin builtin commands succeed if settings are provided as argument"
492.         args = ['check', '--settings=test_project.alternate_settings', 'admin_scripts']
493.         out, err = self.run_django_admin(args)
494.         self.assertNoOutput(err)
495.         self.assertOutput(out, SYSTEM_CHECK_MSG)
496. 
497.     def test_builtin_with_environment(self):
498.         "alternate: django-admin builtin commands succeed if settings are provided in the environment"
499.         args = ['check', 'admin_scripts']
500.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
501.         self.assertNoOutput(err)
502.         self.assertOutput(out, SYSTEM_CHECK_MSG)
503. 
504.     def test_builtin_with_bad_settings(self):
505.         "alternate: django-admin builtin commands fail if settings file (from argument) doesn't exist"
506.         args = ['check', '--settings=bad_settings', 'admin_scripts']
507.         out, err = self.run_django_admin(args)
508.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
509. 
510.     def test_builtin_with_bad_environment(self):
511.         "alternate: django-admin builtin commands fail if settings file (from environment) doesn't exist"
512.         args = ['check', 'admin_scripts']
513.         out, err = self.run_django_admin(args, 'bad_settings')
514.         self.assertNoOutput(out)
515.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
516. 
517.     def test_custom_command(self):
518.         "alternate: django-admin can't execute user commands unless settings are provided"
519.         args = ['noargs_command']
520.         out, err = self.run_django_admin(args)
521.         self.assertNoOutput(out)
522.         self.assertOutput(err, "No Django settings specified")
523.         self.assertOutput(err, "Unknown command: 'noargs_command'")
524. 
525.     def test_custom_command_with_settings(self):
526.         "alternate: django-admin can execute user commands if settings are provided as argument"
527.         args = ['noargs_command', '--settings=test_project.alternate_settings']
528.         out, err = self.run_django_admin(args)
529.         self.assertNoOutput(err)
530.         self.assertOutput(out, "EXECUTE: noargs_command")
531. 
532.     def test_custom_command_with_environment(self):
533.         "alternate: django-admin can execute user commands if settings are provided in environment"
534.         args = ['noargs_command']
535.         out, err = self.run_django_admin(args, 'test_project.alternate_settings')
536.         self.assertNoOutput(err)
537.         self.assertOutput(out, "EXECUTE: noargs_command")
538. 
539. 
540. class DjangoAdminSettingsDirectory(AdminScriptTestCase):
541.     """
542.     A series of tests for django-admin.py when the settings file is in a
543.     directory. (see #9751).
544.     """
545. 
546.     def setUp(self):
547.         super().setUp()
548.         self.write_settings('settings', is_dir=True)
549. 
550.     def test_setup_environ(self):
551.         "directory: startapp creates the correct directory"
552.         args = ['startapp', 'settings_test']
553.         app_path = os.path.join(self.test_dir, 'settings_test')
554.         out, err = self.run_django_admin(args, 'test_project.settings')
555.         self.assertNoOutput(err)
556.         self.assertTrue(os.path.exists(app_path))
557.         with open(os.path.join(app_path, 'apps.py')) as f:
558.             content = f.read()
559.             self.assertIn("class SettingsTestConfig(AppConfig)", content)
560.             self.assertIn("name = 'settings_test'", content)
561. 
562.     def test_setup_environ_custom_template(self):
563.         "directory: startapp creates the correct directory with a custom template"
564.         template_path = os.path.join(custom_templates_dir, 'app_template')
565.         args = ['startapp', '--template', template_path, 'custom_settings_test']
566.         app_path = os.path.join(self.test_dir, 'custom_settings_test')
567.         out, err = self.run_django_admin(args, 'test_project.settings')
568.         self.assertNoOutput(err)
569.         self.assertTrue(os.path.exists(app_path))
570.         self.assertTrue(os.path.exists(os.path.join(app_path, 'api.py')))
571. 
572.     def test_startapp_unicode_name(self):
573.         """startapp creates the correct directory with Unicode characters."""
574.         args = ['startapp', 'こんにちは']
575.         app_path = os.path.join(self.test_dir, 'こんにちは')
576.         out, err = self.run_django_admin(args, 'test_project.settings')
577.         self.assertNoOutput(err)
578.         self.assertTrue(os.path.exists(app_path))
579.         with open(os.path.join(app_path, 'apps.py'), encoding='utf8') as f:
580.             content = f.read()
581.             self.assertIn("class こんにちはConfig(AppConfig)", content)
582.             self.assertIn("name = 'こんにちは'", content)
583. 
584.     def test_builtin_command(self):
585.         "directory: django-admin builtin commands fail with an error when no settings provided"
586.         args = ['check', 'admin_scripts']
587.         out, err = self.run_django_admin(args)
588.         self.assertNoOutput(out)
589.         self.assertOutput(err, 'settings are not configured')
590. 
591.     def test_builtin_with_bad_settings(self):
592.         "directory: django-admin builtin commands fail if settings file (from argument) doesn't exist"
593.         args = ['check', '--settings=bad_settings', 'admin_scripts']
594.         out, err = self.run_django_admin(args)
595.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
596. 
597.     def test_builtin_with_bad_environment(self):
598.         "directory: django-admin builtin commands fail if settings file (from environment) doesn't exist"
599.         args = ['check', 'admin_scripts']
600.         out, err = self.run_django_admin(args, 'bad_settings')
601.         self.assertNoOutput(out)
602.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
603. 
604.     def test_custom_command(self):
605.         "directory: django-admin can't execute user commands unless settings are provided"
606.         args = ['noargs_command']
607.         out, err = self.run_django_admin(args)
608.         self.assertNoOutput(out)
609.         self.assertOutput(err, "No Django settings specified")
610.         self.assertOutput(err, "Unknown command: 'noargs_command'")
611. 
612.     def test_builtin_with_settings(self):
613.         "directory: django-admin builtin commands succeed if settings are provided as argument"
614.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
615.         out, err = self.run_django_admin(args)
616.         self.assertNoOutput(err)
617.         self.assertOutput(out, SYSTEM_CHECK_MSG)
618. 
619.     def test_builtin_with_environment(self):
620.         "directory: django-admin builtin commands succeed if settings are provided in the environment"
621.         args = ['check', 'admin_scripts']
622.         out, err = self.run_django_admin(args, 'test_project.settings')
623.         self.assertNoOutput(err)
624.         self.assertOutput(out, SYSTEM_CHECK_MSG)
625. 
626. 
627. ##########################################################################
628. # MANAGE.PY TESTS
629. # This next series of test classes checks the environment processing
630. # of the generated manage.py script
631. ##########################################################################
632. 
633. class ManageManuallyConfiguredSettings(AdminScriptTestCase):
634.     """Customized manage.py calling settings.configure()."""
635.     def test_non_existent_command_output(self):
636.         out, err = self.run_manage(['invalid_command'], manage_py='configured_settings_manage.py')
637.         self.assertNoOutput(out)
638.         self.assertOutput(err, "Unknown command: 'invalid_command'")
639.         self.assertNotInOutput(err, 'No Django settings specified')
640. 
641. 
642. class ManageNoSettings(AdminScriptTestCase):
643.     "A series of tests for manage.py when there is no settings.py file."
644. 
645.     def test_builtin_command(self):
646.         "no settings: manage.py builtin commands fail with an error when no settings provided"
647.         args = ['check', 'admin_scripts']
648.         out, err = self.run_manage(args)
649.         self.assertNoOutput(out)
650.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
651. 
652.     def test_builtin_with_bad_settings(self):
653.         "no settings: manage.py builtin commands fail if settings file (from argument) doesn't exist"
654.         args = ['check', '--settings=bad_settings', 'admin_scripts']
655.         out, err = self.run_manage(args)
656.         self.assertNoOutput(out)
657.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
658. 
659.     def test_builtin_with_bad_environment(self):
660.         "no settings: manage.py builtin commands fail if settings file (from environment) doesn't exist"
661.         args = ['check', 'admin_scripts']
662.         out, err = self.run_manage(args, 'bad_settings')
663.         self.assertNoOutput(out)
664.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
665. 
666. 
667. class ManageDefaultSettings(AdminScriptTestCase):
668.     """A series of tests for manage.py when using a settings.py file that
669.     contains the test application.
670.     """
671.     def setUp(self):
672.         super().setUp()
673.         self.write_settings('settings.py')
674. 
675.     def test_builtin_command(self):
676.         "default: manage.py builtin commands succeed when default settings are appropriate"
677.         args = ['check', 'admin_scripts']
678.         out, err = self.run_manage(args)
679.         self.assertNoOutput(err)
680.         self.assertOutput(out, SYSTEM_CHECK_MSG)
681. 
682.     def test_builtin_with_settings(self):
683.         "default: manage.py builtin commands succeed if settings are provided as argument"
684.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
685.         out, err = self.run_manage(args)
686.         self.assertNoOutput(err)
687.         self.assertOutput(out, SYSTEM_CHECK_MSG)
688. 
689.     def test_builtin_with_environment(self):
690.         "default: manage.py builtin commands succeed if settings are provided in the environment"
691.         args = ['check', 'admin_scripts']
692.         out, err = self.run_manage(args, 'test_project.settings')
693.         self.assertNoOutput(err)
694.         self.assertOutput(out, SYSTEM_CHECK_MSG)
695. 
696.     def test_builtin_with_bad_settings(self):
697.         "default: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
698.         args = ['check', '--settings=bad_settings', 'admin_scripts']
699.         out, err = self.run_manage(args)
700.         self.assertNoOutput(out)
701.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
702. 
703.     def test_builtin_with_bad_environment(self):
704.         "default: manage.py builtin commands fail if settings file (from environment) doesn't exist"
705.         args = ['check', 'admin_scripts']
706.         out, err = self.run_manage(args, 'bad_settings')
707.         self.assertNoOutput(out)
708.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
709. 
710.     def test_custom_command(self):
711.         "default: manage.py can execute user commands when default settings are appropriate"
712.         args = ['noargs_command']
713.         out, err = self.run_manage(args)
714.         self.assertNoOutput(err)
715.         self.assertOutput(out, "EXECUTE: noargs_command")
716. 
717.     def test_custom_command_with_settings(self):
718.         "default: manage.py can execute user commands when settings are provided as argument"
719.         args = ['noargs_command', '--settings=test_project.settings']
720.         out, err = self.run_manage(args)
721.         self.assertNoOutput(err)
722.         self.assertOutput(out, "EXECUTE: noargs_command")
723. 
724.     def test_custom_command_with_environment(self):
725.         "default: manage.py can execute user commands when settings are provided in environment"
726.         args = ['noargs_command']
727.         out, err = self.run_manage(args, 'test_project.settings')
728.         self.assertNoOutput(err)
729.         self.assertOutput(out, "EXECUTE: noargs_command")
730. 
731. 
732. class ManageFullPathDefaultSettings(AdminScriptTestCase):
733.     """A series of tests for manage.py when using a settings.py file that
734.     contains the test application specified using a full path.
735.     """
736.     def setUp(self):
737.         super().setUp()
738.         self.write_settings('settings.py', ['django.contrib.auth', 'django.contrib.contenttypes', 'admin_scripts'])
739. 
740.     def test_builtin_command(self):
741.         "fulldefault: manage.py builtin commands succeed when default settings are appropriate"
742.         args = ['check', 'admin_scripts']
743.         out, err = self.run_manage(args)
744.         self.assertNoOutput(err)
745.         self.assertOutput(out, SYSTEM_CHECK_MSG)
746. 
747.     def test_builtin_with_settings(self):
748.         "fulldefault: manage.py builtin commands succeed if settings are provided as argument"
749.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
750.         out, err = self.run_manage(args)
751.         self.assertNoOutput(err)
752.         self.assertOutput(out, SYSTEM_CHECK_MSG)
753. 
754.     def test_builtin_with_environment(self):
755.         "fulldefault: manage.py builtin commands succeed if settings are provided in the environment"
756.         args = ['check', 'admin_scripts']
757.         out, err = self.run_manage(args, 'test_project.settings')
758.         self.assertNoOutput(err)
759.         self.assertOutput(out, SYSTEM_CHECK_MSG)
760. 
761.     def test_builtin_with_bad_settings(self):
762.         "fulldefault: manage.py builtin commands succeed if settings file (from argument) doesn't exist"
763.         args = ['check', '--settings=bad_settings', 'admin_scripts']
764.         out, err = self.run_manage(args)
765.         self.assertNoOutput(out)
766.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
767. 
768.     def test_builtin_with_bad_environment(self):
769.         "fulldefault: manage.py builtin commands fail if settings file (from environment) doesn't exist"
770.         args = ['check', 'admin_scripts']
771.         out, err = self.run_manage(args, 'bad_settings')
772.         self.assertNoOutput(out)
773.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
774. 
775.     def test_custom_command(self):
776.         "fulldefault: manage.py can execute user commands when default settings are appropriate"
777.         args = ['noargs_command']
778.         out, err = self.run_manage(args)
779.         self.assertNoOutput(err)
780.         self.assertOutput(out, "EXECUTE: noargs_command")
781. 
782.     def test_custom_command_with_settings(self):
783.         "fulldefault: manage.py can execute user commands when settings are provided as argument"
784.         args = ['noargs_command', '--settings=test_project.settings']
785.         out, err = self.run_manage(args)
786.         self.assertNoOutput(err)
787.         self.assertOutput(out, "EXECUTE: noargs_command")
788. 
789.     def test_custom_command_with_environment(self):
790.         "fulldefault: manage.py can execute user commands when settings are provided in environment"
791.         args = ['noargs_command']
792.         out, err = self.run_manage(args, 'test_project.settings')
793.         self.assertNoOutput(err)
794.         self.assertOutput(out, "EXECUTE: noargs_command")
795. 
796. 
797. class ManageMinimalSettings(AdminScriptTestCase):
798.     """A series of tests for manage.py when using a settings.py file that
799.     doesn't contain the test application.
800.     """
801.     def setUp(self):
802.         super().setUp()
803.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
804. 
805.     def test_builtin_command(self):
806.         "minimal: manage.py builtin commands fail with an error when no settings provided"
807.         args = ['check', 'admin_scripts']
808.         out, err = self.run_manage(args)
809.         self.assertNoOutput(out)
810.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
811. 
812.     def test_builtin_with_settings(self):
813.         "minimal: manage.py builtin commands fail if settings are provided as argument"
814.         args = ['check', '--settings=test_project.settings', 'admin_scripts']
815.         out, err = self.run_manage(args)
816.         self.assertNoOutput(out)
817.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
818. 
819.     def test_builtin_with_environment(self):
820.         "minimal: manage.py builtin commands fail if settings are provided in the environment"
821.         args = ['check', 'admin_scripts']
822.         out, err = self.run_manage(args, 'test_project.settings')
823.         self.assertNoOutput(out)
824.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
825. 
826.     def test_builtin_with_bad_settings(self):
827.         "minimal: manage.py builtin commands fail if settings file (from argument) doesn't exist"
828.         args = ['check', '--settings=bad_settings', 'admin_scripts']
829.         out, err = self.run_manage(args)
830.         self.assertNoOutput(out)
831.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
832. 
833.     def test_builtin_with_bad_environment(self):
834.         "minimal: manage.py builtin commands fail if settings file (from environment) doesn't exist"
835.         args = ['check', 'admin_scripts']
836.         out, err = self.run_manage(args, 'bad_settings')
837.         self.assertNoOutput(out)
838.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
839. 
840.     def test_custom_command(self):
841.         "minimal: manage.py can't execute user commands without appropriate settings"
842.         args = ['noargs_command']
843.         out, err = self.run_manage(args)
844.         self.assertNoOutput(out)
845.         self.assertOutput(err, "Unknown command: 'noargs_command'")
846. 
847.     def test_custom_command_with_settings(self):
848.         "minimal: manage.py can't execute user commands, even if settings are provided as argument"
849.         args = ['noargs_command', '--settings=test_project.settings']
850.         out, err = self.run_manage(args)
851.         self.assertNoOutput(out)
852.         self.assertOutput(err, "Unknown command: 'noargs_command'")
853. 
854.     def test_custom_command_with_environment(self):
855.         "minimal: manage.py can't execute user commands, even if settings are provided in environment"
856.         args = ['noargs_command']
857.         out, err = self.run_manage(args, 'test_project.settings')
858.         self.assertNoOutput(out)
859.         self.assertOutput(err, "Unknown command: 'noargs_command'")
860. 
861. 
862. class ManageAlternateSettings(AdminScriptTestCase):
863.     """A series of tests for manage.py when using a settings file
864.     with a name other than 'settings.py'.
865.     """
866.     def setUp(self):
867.         super().setUp()
868.         self.write_settings('alternate_settings.py')
869. 
870.     def test_builtin_command(self):
871.         "alternate: manage.py builtin commands fail with an error when no default settings provided"
872.         args = ['check', 'admin_scripts']
873.         out, err = self.run_manage(args)
874.         self.assertNoOutput(out)
875.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
876. 
877.     def test_builtin_with_settings(self):
878.         "alternate: manage.py builtin commands work with settings provided as argument"
879.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
880.         out, err = self.run_manage(args)
881.         self.assertOutput(out, SYSTEM_CHECK_MSG)
882.         self.assertNoOutput(err)
883. 
884.     def test_builtin_with_environment(self):
885.         "alternate: manage.py builtin commands work if settings are provided in the environment"
886.         args = ['check', 'admin_scripts']
887.         out, err = self.run_manage(args, 'alternate_settings')
888.         self.assertOutput(out, SYSTEM_CHECK_MSG)
889.         self.assertNoOutput(err)
890. 
891.     def test_builtin_with_bad_settings(self):
892.         "alternate: manage.py builtin commands fail if settings file (from argument) doesn't exist"
893.         args = ['check', '--settings=bad_settings', 'admin_scripts']
894.         out, err = self.run_manage(args)
895.         self.assertNoOutput(out)
896.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
897. 
898.     def test_builtin_with_bad_environment(self):
899.         "alternate: manage.py builtin commands fail if settings file (from environment) doesn't exist"
900.         args = ['check', 'admin_scripts']
901.         out, err = self.run_manage(args, 'bad_settings')
902.         self.assertNoOutput(out)
903.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
904. 
905.     def test_custom_command(self):
906.         "alternate: manage.py can't execute user commands without settings"
907.         args = ['noargs_command']
908.         out, err = self.run_manage(args)
909.         self.assertNoOutput(out)
910.         self.assertOutput(err, r"No module named '?(test_project\.)?settings'?", regex=True)
911. 
912.     def test_custom_command_with_settings(self):
913.         "alternate: manage.py can execute user commands if settings are provided as argument"
914.         args = ['noargs_command', '--settings=alternate_settings']
915.         out, err = self.run_manage(args)
916.         self.assertOutput(
917.             out,
918.             "EXECUTE: noargs_command options=[('force_color', False), "
919.             "('no_color', False), ('pythonpath', None), ('settings', "
920.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
921.         )
922.         self.assertNoOutput(err)
923. 
924.     def test_custom_command_with_environment(self):
925.         "alternate: manage.py can execute user commands if settings are provided in environment"
926.         args = ['noargs_command']
927.         out, err = self.run_manage(args, 'alternate_settings')
928.         self.assertOutput(
929.             out,
930.             "EXECUTE: noargs_command options=[('force_color', False), "
931.             "('no_color', False), ('pythonpath', None), ('settings', None), "
932.             "('traceback', False), ('verbosity', 1)]"
933.         )
934.         self.assertNoOutput(err)
935. 
936.     def test_custom_command_output_color(self):
937.         "alternate: manage.py output syntax color can be deactivated with the `--no-color` option"
938.         args = ['noargs_command', '--no-color', '--settings=alternate_settings']
939.         out, err = self.run_manage(args)
940.         self.assertOutput(
941.             out,
942.             "EXECUTE: noargs_command options=[('force_color', False), "
943.             "('no_color', True), ('pythonpath', None), ('settings', "
944.             "'alternate_settings'), ('traceback', False), ('verbosity', 1)]"
945.         )
946.         self.assertNoOutput(err)
947. 
948. 
949. class ManageMultipleSettings(AdminScriptTestCase):
950.     """A series of tests for manage.py when multiple settings files
951.     (including the default 'settings.py') are available. The default settings
952.     file is insufficient for performing the operations described, so the
953.     alternate settings must be used by the running script.
954.     """
955.     def setUp(self):
956.         super().setUp()
957.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
958.         self.write_settings('alternate_settings.py')
959. 
960.     def test_builtin_command(self):
961.         "multiple: manage.py builtin commands fail with an error when no settings provided"
962.         args = ['check', 'admin_scripts']
963.         out, err = self.run_manage(args)
964.         self.assertNoOutput(out)
965.         self.assertOutput(err, "No installed app with label 'admin_scripts'.")
966. 
967.     def test_builtin_with_settings(self):
968.         "multiple: manage.py builtin commands succeed if settings are provided as argument"
969.         args = ['check', '--settings=alternate_settings', 'admin_scripts']
970.         out, err = self.run_manage(args)
971.         self.assertNoOutput(err)
972.         self.assertOutput(out, SYSTEM_CHECK_MSG)
973. 
974.     def test_builtin_with_environment(self):
975.         "multiple: manage.py can execute builtin commands if settings are provided in the environment"
976.         args = ['check', 'admin_scripts']
977.         out, err = self.run_manage(args, 'alternate_settings')
978.         self.assertNoOutput(err)
979.         self.assertOutput(out, SYSTEM_CHECK_MSG)
980. 
981.     def test_builtin_with_bad_settings(self):
982.         "multiple: manage.py builtin commands fail if settings file (from argument) doesn't exist"
983.         args = ['check', '--settings=bad_settings', 'admin_scripts']
984.         out, err = self.run_manage(args)
985.         self.assertNoOutput(out)
986.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
987. 
988.     def test_builtin_with_bad_environment(self):
989.         "multiple: manage.py builtin commands fail if settings file (from environment) doesn't exist"
990.         args = ['check', 'admin_scripts']
991.         out, err = self.run_manage(args, 'bad_settings')
992.         self.assertNoOutput(out)
993.         self.assertOutput(err, "No module named '?bad_settings'?", regex=True)
994. 
995.     def test_custom_command(self):
996.         "multiple: manage.py can't execute user commands using default settings"
997.         args = ['noargs_command']
998.         out, err = self.run_manage(args)
999.         self.assertNoOutput(out)
1000.         self.assertOutput(err, "Unknown command: 'noargs_command'")
1001. 
1002.     def test_custom_command_with_settings(self):
1003.         "multiple: manage.py can execute user commands if settings are provided as argument"
1004.         args = ['noargs_command', '--settings=alternate_settings']
1005.         out, err = self.run_manage(args)
1006.         self.assertNoOutput(err)
1007.         self.assertOutput(out, "EXECUTE: noargs_command")
1008. 
1009.     def test_custom_command_with_environment(self):
1010.         "multiple: manage.py can execute user commands if settings are provided in environment"
1011.         args = ['noargs_command']
1012.         out, err = self.run_manage(args, 'alternate_settings')
1013.         self.assertNoOutput(err)
1014.         self.assertOutput(out, "EXECUTE: noargs_command")
1015. 
1016. 
1017. class ManageSettingsWithSettingsErrors(AdminScriptTestCase):
1018.     """
1019.     Tests for manage.py when using the default settings.py file containing
1020.     runtime errors.
1021.     """
1022.     def write_settings_with_import_error(self, filename):
1023.         settings_file_path = os.path.join(self.test_dir, filename)
1024.         with open(settings_file_path, 'w') as settings_file:
1025.             settings_file.write('# Settings file automatically generated by admin_scripts test case\n')
1026.             settings_file.write('# The next line will cause an import error:\nimport foo42bar\n')
1027. 
1028.     def test_import_error(self):
1029.         """
1030.         import error: manage.py builtin commands shows useful diagnostic info
1031.         when settings with import errors is provided (#14130).
1032.         """
1033.         self.write_settings_with_import_error('settings.py')
1034.         args = ['check', 'admin_scripts']
1035.         out, err = self.run_manage(args)
1036.         self.assertNoOutput(out)
1037.         self.assertOutput(err, "No module named")
1038.         self.assertOutput(err, "foo42bar")
1039. 
1040.     def test_attribute_error(self):
1041.         """
1042.         manage.py builtin commands does not swallow attribute error due to bad
1043.         settings (#18845).
1044.         """
1045.         self.write_settings('settings.py', sdict={'BAD_VAR': 'INSTALLED_APPS.crash'})
1046.         args = ['collectstatic', 'admin_scripts']
1047.         out, err = self.run_manage(args)
1048.         self.assertNoOutput(out)
1049.         self.assertOutput(err, "AttributeError: 'list' object has no attribute 'crash'")
1050. 
1051.     def test_key_error(self):
1052.         self.write_settings('settings.py', sdict={'BAD_VAR': 'DATABASES["blah"]'})
1053.         args = ['collectstatic', 'admin_scripts']
1054.         out, err = self.run_manage(args)
1055.         self.assertNoOutput(out)
1056.         self.assertOutput(err, "KeyError: 'blah'")
1057. 
1058.     def test_help(self):
1059.         """
1060.         Test listing available commands output note when only core commands are
1061.         available.
1062.         """
1063.         self.write_settings(
1064.             'settings.py',
1065.             extra='from django.core.exceptions import ImproperlyConfigured\n'
1066.                   'raise ImproperlyConfigured()',
1067.         )
1068.         args = ['help']
1069.         out, err = self.run_manage(args)
1070.         self.assertOutput(out, 'only Django core commands are listed')
1071.         self.assertNoOutput(err)
1072. 
1073. 
1074. class ManageCheck(AdminScriptTestCase):
1075.     def test_nonexistent_app(self):
1076.         """check reports an error on a nonexistent app in INSTALLED_APPS."""
1077.         self.write_settings(
1078.             'settings.py',
1079.             apps=['admin_scriptz.broken_app'],
1080.             sdict={'USE_I18N': False},
1081.         )
1082.         args = ['check']
1083.         out, err = self.run_manage(args)
1084.         self.assertNoOutput(out)
1085.         self.assertOutput(err, 'ModuleNotFoundError')
1086.         self.assertOutput(err, 'No module named')
1087.         self.assertOutput(err, 'admin_scriptz')
1088. 
1089.     def test_broken_app(self):
1090.         """ manage.py check reports an ImportError if an app's models.py
1091.         raises one on import """
1092. 
1093.         self.write_settings('settings.py', apps=['admin_scripts.broken_app'])
1094.         args = ['check']
1095.         out, err = self.run_manage(args)
1096.         self.assertNoOutput(out)
1097.         self.assertOutput(err, 'ImportError')
1098. 
1099.     def test_complex_app(self):
1100.         """ manage.py check does not raise an ImportError validating a
1101.         complex app with nested calls to load_app """
1102. 
1103.         self.write_settings(
1104.             'settings.py',
1105.             apps=[
1106.                 'admin_scripts.complex_app',
1107.                 'admin_scripts.simple_app',
1108.                 'django.contrib.admin.apps.SimpleAdminConfig',
1109.                 'django.contrib.auth',
1110.                 'django.contrib.contenttypes',
1111.                 'django.contrib.messages',
1112.             ],
1113.             sdict={
1114.                 'DEBUG': True,
1115.                 'MIDDLEWARE': [
1116.                     'django.contrib.messages.middleware.MessageMiddleware',
1117.                     'django.contrib.auth.middleware.AuthenticationMiddleware',
1118.                     'django.contrib.sessions.middleware.SessionMiddleware',
1119.                 ],
1120.                 'TEMPLATES': [
1121.                     {
1122.                         'BACKEND': 'django.template.backends.django.DjangoTemplates',
1123.                         'DIRS': [],
1124.                         'APP_DIRS': True,
1125.                         'OPTIONS': {
1126.                             'context_processors': [
1127.                                 'django.template.context_processors.request',
1128.                                 'django.contrib.auth.context_processors.auth',
1129.                                 'django.contrib.messages.context_processors.messages',
1130.                             ],
1131.                         },
1132.                     },
1133.                 ],
1134.             }
1135.         )
1136.         args = ['check']
1137.         out, err = self.run_manage(args)
1138.         self.assertNoOutput(err)
1139.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1140. 
1141.     def test_app_with_import(self):
1142.         """ manage.py check does not raise errors when an app imports a base
1143.         class that itself has an abstract base. """
1144. 
1145.         self.write_settings(
1146.             'settings.py',
1147.             apps=[
1148.                 'admin_scripts.app_with_import',
1149.                 'django.contrib.auth',
1150.                 'django.contrib.contenttypes',
1151.                 'django.contrib.sites',
1152.             ],
1153.             sdict={'DEBUG': True},
1154.         )
1155.         args = ['check']
1156.         out, err = self.run_manage(args)
1157.         self.assertNoOutput(err)
1158.         self.assertEqual(out, 'System check identified no issues (0 silenced).\n')
1159. 
1160.     def test_output_format(self):
1161.         """ All errors/warnings should be sorted by level and by message. """
1162. 
1163.         self.write_settings(
1164.             'settings.py',
1165.             apps=[
1166.                 'admin_scripts.app_raising_messages',
1167.                 'django.contrib.auth',
1168.                 'django.contrib.contenttypes',
1169.             ],
1170.             sdict={'DEBUG': True},
1171.         )
1172.         args = ['check']
1173.         out, err = self.run_manage(args)
1174.         expected_err = (
1175.             "SystemCheckError: System check identified some issues:\n"
1176.             "\n"
1177.             "ERRORS:\n"
1178.             "?: An error\n"
1179.             "\tHINT: Error hint\n"
1180.             "\n"
1181.             "WARNINGS:\n"
1182.             "a: Second warning\n"
1183.             "obj: First warning\n"
1184.             "\tHINT: Hint\n"
1185.             "\n"
1186.             "System check identified 3 issues (0 silenced).\n"
1187.         )
1188.         self.assertEqual(err, expected_err)
1189.         self.assertNoOutput(out)
1190. 
1191.     def test_warning_does_not_halt(self):
1192.         """
1193.         When there are only warnings or less serious messages, then Django
1194.         should not prevent user from launching their project, so `check`
1195.         command should not raise `CommandError` exception.
1196. 
1197.         In this test we also test output format.
1198.         """
1199. 
1200.         self.write_settings(
1201.             'settings.py',
1202.             apps=[
1203.                 'admin_scripts.app_raising_warning',
1204.                 'django.contrib.auth',
1205.                 'django.contrib.contenttypes',
1206.             ],
1207.             sdict={'DEBUG': True},
1208.         )
1209.         args = ['check']
1210.         out, err = self.run_manage(args)
1211.         expected_err = (
1212.             "System check identified some issues:\n"  # No "CommandError: " part
1213.             "\n"
1214.             "WARNINGS:\n"
1215.             "?: A warning\n"
1216.             "\n"
1217.             "System check identified 1 issue (0 silenced).\n"
1218.         )
1219.         self.assertEqual(err, expected_err)
1220.         self.assertNoOutput(out)
1221. 
1222. 
1223. class ManageRunserver(SimpleTestCase):
1224.     def setUp(self):
1225.         def monkey_run(*args, **options):
1226.             return
1227. 
1228.         self.output = StringIO()
1229.         self.cmd = RunserverCommand(stdout=self.output)
1230.         self.cmd.run = monkey_run
1231. 
1232.     def assertServerSettings(self, addr, port, ipv6=False, raw_ipv6=False):
1233.         self.assertEqual(self.cmd.addr, addr)
1234.         self.assertEqual(self.cmd.port, port)
1235.         self.assertEqual(self.cmd.use_ipv6, ipv6)
1236.         self.assertEqual(self.cmd._raw_ipv6, raw_ipv6)
1237. 
1238.     def test_runserver_addrport(self):
1239.         call_command(self.cmd)
1240.         self.assertServerSettings('127.0.0.1', '8000')
1241. 
1242.         call_command(self.cmd, addrport="1.2.3.4:8000")
1243.         self.assertServerSettings('1.2.3.4', '8000')
1244. 
1245.         call_command(self.cmd, addrport="7000")
1246.         self.assertServerSettings('127.0.0.1', '7000')
1247. 
1248.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1249.     def test_runner_addrport_ipv6(self):
1250.         call_command(self.cmd, addrport="", use_ipv6=True)
1251.         self.assertServerSettings('::1', '8000', ipv6=True, raw_ipv6=True)
1252. 
1253.         call_command(self.cmd, addrport="7000", use_ipv6=True)
1254.         self.assertServerSettings('::1', '7000', ipv6=True, raw_ipv6=True)
1255. 
1256.         call_command(self.cmd, addrport="[2001:0db8:1234:5678::9]:7000")
1257.         self.assertServerSettings('2001:0db8:1234:5678::9', '7000', ipv6=True, raw_ipv6=True)
1258. 
1259.     def test_runner_hostname(self):
1260.         call_command(self.cmd, addrport="localhost:8000")
1261.         self.assertServerSettings('localhost', '8000')
1262. 
1263.         call_command(self.cmd, addrport="test.domain.local:7000")
1264.         self.assertServerSettings('test.domain.local', '7000')
1265. 
1266.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1267.     def test_runner_hostname_ipv6(self):
1268.         call_command(self.cmd, addrport="test.domain.local:7000", use_ipv6=True)
1269.         self.assertServerSettings('test.domain.local', '7000', ipv6=True)
1270. 
1271.     def test_runner_custom_defaults(self):
1272.         self.cmd.default_addr = '0.0.0.0'
1273.         self.cmd.default_port = '5000'
1274.         call_command(self.cmd)
1275.         self.assertServerSettings('0.0.0.0', '5000')
1276. 
1277.     @unittest.skipUnless(socket.has_ipv6, "platform doesn't support IPv6")
1278.     def test_runner_custom_defaults_ipv6(self):
1279.         self.cmd.default_addr_ipv6 = '::'
1280.         call_command(self.cmd, use_ipv6=True)
1281.         self.assertServerSettings('::', '8000', ipv6=True, raw_ipv6=True)
1282. 
1283.     def test_runner_ambiguous(self):
1284.         # Only 4 characters, all of which could be in an ipv6 address
1285.         call_command(self.cmd, addrport="beef:7654")
1286.         self.assertServerSettings('beef', '7654')
1287. 
1288.         # Uses only characters that could be in an ipv6 address
1289.         call_command(self.cmd, addrport="deadbeef:7654")
1290.         self.assertServerSettings('deadbeef', '7654')
1291. 
1292.     def test_no_database(self):
1293.         """
1294.         Ensure runserver.check_migrations doesn't choke on empty DATABASES.
1295.         """
1296.         tested_connections = ConnectionHandler({})
1297.         with mock.patch('django.core.management.base.connections', new=tested_connections):
1298.             self.cmd.check_migrations()
1299. 
1300.     def test_readonly_database(self):
1301.         """
1302.         runserver.check_migrations() doesn't choke when a database is read-only.
1303.         """
1304.         with mock.patch.object(MigrationRecorder, 'has_table', return_value=False):
1305.             self.cmd.check_migrations()
1306.         # You have # ...
1307.         self.assertIn('unapplied migration(s)', self.output.getvalue())
1308. 
1309. 
1310. class ManageRunserverMigrationWarning(TestCase):
1311. 
1312.     def setUp(self):
1313.         self.stdout = StringIO()
1314.         self.runserver_command = RunserverCommand(stdout=self.stdout)
1315. 
1316.     @override_settings(INSTALLED_APPS=["admin_scripts.app_waiting_migration"])
1317.     def test_migration_warning_one_app(self):
1318.         self.runserver_command.check_migrations()
1319.         output = self.stdout.getvalue()
1320.         self.assertIn('You have 1 unapplied migration(s)', output)
1321.         self.assertIn('apply the migrations for app(s): app_waiting_migration.', output)
1322. 
1323.     @override_settings(
1324.         INSTALLED_APPS=[
1325.             "admin_scripts.app_waiting_migration",
1326.             "admin_scripts.another_app_waiting_migration",
1327.         ],
1328.     )
1329.     def test_migration_warning_multiple_apps(self):
1330.         self.runserver_command.check_migrations()
1331.         output = self.stdout.getvalue()
1332.         self.assertIn('You have 2 unapplied migration(s)', output)
1333.         self.assertIn(
1334.             'apply the migrations for app(s): another_app_waiting_migration, '
1335.             'app_waiting_migration.', output
1336.         )
1337. 
1338. 
1339. class ManageRunserverEmptyAllowedHosts(AdminScriptTestCase):
1340.     def setUp(self):
1341.         super().setUp()
1342.         self.write_settings('settings.py', sdict={
1343.             'ALLOWED_HOSTS': [],
1344.             'DEBUG': False,
1345.         })
1346. 
1347.     def test_empty_allowed_hosts_error(self):
1348.         out, err = self.run_manage(['runserver'])
1349.         self.assertNoOutput(out)
1350.         self.assertOutput(err, 'CommandError: You must set settings.ALLOWED_HOSTS if DEBUG is False.')
1351. 
1352. 
1353. class ManageTestserver(SimpleTestCase):
1354. 
1355.     @mock.patch.object(TestserverCommand, 'handle', return_value='')
1356.     def test_testserver_handle_params(self, mock_handle):
1357.         out = StringIO()
1358.         call_command('testserver', 'blah.json', stdout=out)
1359.         mock_handle.assert_called_with(
1360.             'blah.json',
1361.             stdout=out, settings=None, pythonpath=None, verbosity=1,
1362.             traceback=False, addrport='', no_color=False, use_ipv6=False,
1363.             skip_checks=True, interactive=True, force_color=False,
1364.         )
1365. 
1366.     @mock.patch('django.db.connection.creation.create_test_db', return_value='test_db')
1367.     @mock.patch.object(LoaddataCommand, 'handle', return_value='')
1368.     @mock.patch.object(RunserverCommand, 'handle', return_value='')
1369.     def test_params_to_runserver(self, mock_runserver_handle, mock_loaddata_handle, mock_create_test_db):
1370.         call_command('testserver', 'blah.json')
1371.         mock_runserver_handle.assert_called_with(
1372.             addrport='',
1373.             force_color=False,
1374.             insecure_serving=False,
1375.             no_color=False,
1376.             pythonpath=None,
1377.             settings=None,
1378.             shutdown_message=(
1379.                 "\nServer stopped.\nNote that the test database, 'test_db', "
1380.                 "has not been deleted. You can explore it on your own."
1381.             ),
1382.             skip_checks=True,
1383.             traceback=False,
1384.             use_ipv6=False,
1385.             use_reloader=False,
1386.             use_static_handler=True,
1387.             use_threading=connection.features.test_db_allows_multiple_connections,
1388.             verbosity=1,
1389.         )
1390. 
1391. 
1392. ##########################################################################
1393. # COMMAND PROCESSING TESTS
1394. # user-space commands are correctly handled - in particular, arguments to
1395. # the commands are correctly parsed and processed.
1396. ##########################################################################
1397. class ColorCommand(BaseCommand):
1398.     requires_system_checks = []
1399. 
1400.     def handle(self, *args, **options):
1401.         self.stdout.write('Hello, world!', self.style.ERROR)
1402.         self.stderr.write('Hello, world!', self.style.ERROR)
1403. 
1404. 
1405. class CommandTypes(AdminScriptTestCase):
1406.     "Tests for the various types of base command types that can be defined."
1407.     def setUp(self):
1408.         super().setUp()
1409.         self.write_settings('settings.py')
1410. 
1411.     def test_version(self):
1412.         "version is handled as a special case"
1413.         args = ['version']
1414.         out, err = self.run_manage(args)
1415.         self.assertNoOutput(err)
1416.         self.assertOutput(out, get_version())
1417. 
1418.     def test_version_alternative(self):
1419.         "--version is equivalent to version"
1420.         args1, args2 = ['version'], ['--version']
1421.         # It's possible one outputs on stderr and the other on stdout, hence the set
1422.         self.assertEqual(set(self.run_manage(args1)), set(self.run_manage(args2)))
1423. 
1424.     def test_help(self):
1425.         "help is handled as a special case"
1426.         args = ['help']
1427.         out, err = self.run_manage(args)
1428.         self.assertOutput(out, "Type 'manage.py help <subcommand>' for help on a specific subcommand.")
1429.         self.assertOutput(out, '[django]')
1430.         self.assertOutput(out, 'startapp')
1431.         self.assertOutput(out, 'startproject')
1432. 
1433.     def test_help_commands(self):
1434.         "help --commands shows the list of all available commands"
1435.         args = ['help', '--commands']
1436.         out, err = self.run_manage(args)
1437.         self.assertNotInOutput(out, 'usage:')
1438.         self.assertNotInOutput(out, 'Options:')
1439.         self.assertNotInOutput(out, '[django]')
1440.         self.assertOutput(out, 'startapp')
1441.         self.assertOutput(out, 'startproject')
1442.         self.assertNotInOutput(out, '\n\n')
1443. 
1444.     def test_help_alternative(self):
1445.         "--help is equivalent to help"
1446.         args1, args2 = ['help'], ['--help']
1447.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1448. 
1449.     def test_help_short_altert(self):
1450.         "-h is handled as a short form of --help"
1451.         args1, args2 = ['--help'], ['-h']
1452.         self.assertEqual(self.run_manage(args1), self.run_manage(args2))
1453. 
1454.     def test_specific_help(self):
1455.         "--help can be used on a specific command"
1456.         args = ['check', '--help']
1457.         out, err = self.run_manage(args)
1458.         self.assertNoOutput(err)
1459.         # Command-specific options like --tag appear before options common to
1460.         # all commands like --version.
1461.         tag_location = out.find('--tag')
1462.         version_location = out.find('--version')
1463.         self.assertNotEqual(tag_location, -1)
1464.         self.assertNotEqual(version_location, -1)
1465.         self.assertLess(tag_location, version_location)
1466.         self.assertOutput(out, "Checks the entire Django project for potential problems.")
1467. 
1468.     def test_color_style(self):
1469.         style = color.no_style()
1470.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1471. 
1472.         style = color.make_style('nocolor')
1473.         self.assertEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1474. 
1475.         style = color.make_style('dark')
1476.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1477.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1478. 
1479.         # Default palette has color.
1480.         style = color.make_style('')
1481.         self.assertIn('Hello, world!', style.ERROR('Hello, world!'))
1482.         self.assertNotEqual(style.ERROR('Hello, world!'), 'Hello, world!')
1483. 
1484.     def test_command_color(self):
1485.         out = StringIO()
1486.         err = StringIO()
1487.         command = ColorCommand(stdout=out, stderr=err)
1488.         call_command(command)
1489.         if color.supports_color():
1490.             self.assertIn('Hello, world!\n', out.getvalue())
1491.             self.assertIn('Hello, world!\n', err.getvalue())
1492.             self.assertNotEqual(out.getvalue(), 'Hello, world!\n')
1493.             self.assertNotEqual(err.getvalue(), 'Hello, world!\n')
1494.         else:
1495.             self.assertEqual(out.getvalue(), 'Hello, world!\n')
1496.             self.assertEqual(err.getvalue(), 'Hello, world!\n')
1497. 
1498.     def test_command_no_color(self):
1499.         "--no-color prevent colorization of the output"
1500.         out = StringIO()
1501.         err = StringIO()
1502.         command = ColorCommand(stdout=out, stderr=err, no_color=True)
1503.         call_command(command)
1504.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1505.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1506. 
1507.         out = StringIO()
1508.         err = StringIO()
1509.         command = ColorCommand(stdout=out, stderr=err)
1510.         call_command(command, no_color=True)
1511.         self.assertEqual(out.getvalue(), 'Hello, world!\n')
1512.         self.assertEqual(err.getvalue(), 'Hello, world!\n')
1513. 
1514.     def test_force_color_execute(self):
1515.         out = StringIO()
1516.         err = StringIO()
1517.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1518.             command = ColorCommand(stdout=out, stderr=err)
1519.             call_command(command, force_color=True)
1520.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1521.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1522. 
1523.     def test_force_color_command_init(self):
1524.         out = StringIO()
1525.         err = StringIO()
1526.         with mock.patch.object(sys.stdout, 'isatty', lambda: False):
1527.             command = ColorCommand(stdout=out, stderr=err, force_color=True)
1528.             call_command(command)
1529.         self.assertEqual(out.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1530.         self.assertEqual(err.getvalue(), '\x1b[31;1mHello, world!\n\x1b[0m')
1531. 
1532.     def test_no_color_force_color_mutually_exclusive_execute(self):
1533.         msg = "The --no-color and --force-color options can't be used together."
1534.         with self.assertRaisesMessage(CommandError, msg):
1535.             call_command(BaseCommand(), no_color=True, force_color=True)
1536. 
1537.     def test_no_color_force_color_mutually_exclusive_command_init(self):
1538.         msg = "'no_color' and 'force_color' can't be used together."
1539.         with self.assertRaisesMessage(CommandError, msg):
1540.             call_command(BaseCommand(no_color=True, force_color=True))
1541. 
1542.     def test_custom_stdout(self):
1543.         class Command(BaseCommand):
1544.             requires_system_checks = []
1545. 
1546.             def handle(self, *args, **options):
1547.                 self.stdout.write("Hello, World!")
1548. 
1549.         out = StringIO()
1550.         command = Command(stdout=out)
1551.         call_command(command)
1552.         self.assertEqual(out.getvalue(), "Hello, World!\n")
1553.         out.truncate(0)
1554.         new_out = StringIO()
1555.         call_command(command, stdout=new_out)
1556.         self.assertEqual(out.getvalue(), "")
1557.         self.assertEqual(new_out.getvalue(), "Hello, World!\n")
1558. 
1559.     def test_custom_stderr(self):
1560.         class Command(BaseCommand):
1561.             requires_system_checks = []
1562. 
1563.             def handle(self, *args, **options):
1564.                 self.stderr.write("Hello, World!")
1565. 
1566.         err = StringIO()
1567.         command = Command(stderr=err)
1568.         call_command(command)
1569.         self.assertEqual(err.getvalue(), "Hello, World!\n")
1570.         err.truncate(0)
1571.         new_err = StringIO()
1572.         call_command(command, stderr=new_err)
1573.         self.assertEqual(err.getvalue(), "")
1574.         self.assertEqual(new_err.getvalue(), "Hello, World!\n")
1575. 
1576.     def test_base_command(self):
1577.         "User BaseCommands can execute when a label is provided"
1578.         args = ['base_command', 'testlabel']
1579.         expected_labels = "('testlabel',)"
1580.         self._test_base_command(args, expected_labels)
1581. 
1582.     def test_base_command_no_label(self):
1583.         "User BaseCommands can execute when no labels are provided"
1584.         args = ['base_command']
1585.         expected_labels = "()"
1586.         self._test_base_command(args, expected_labels)
1587. 
1588.     def test_base_command_multiple_label(self):
1589.         "User BaseCommands can execute when no labels are provided"
1590.         args = ['base_command', 'testlabel', 'anotherlabel']
1591.         expected_labels = "('testlabel', 'anotherlabel')"
1592.         self._test_base_command(args, expected_labels)
1593. 
1594.     def test_base_command_with_option(self):
1595.         "User BaseCommands can execute with options when a label is provided"
1596.         args = ['base_command', 'testlabel', '--option_a=x']
1597.         expected_labels = "('testlabel',)"
1598.         self._test_base_command(args, expected_labels, option_a="'x'")
1599. 
1600.     def test_base_command_with_options(self):
1601.         "User BaseCommands can execute with multiple options when a label is provided"
1602.         args = ['base_command', 'testlabel', '-a', 'x', '--option_b=y']
1603.         expected_labels = "('testlabel',)"
1604.         self._test_base_command(args, expected_labels, option_a="'x'", option_b="'y'")
1605. 
1606.     def test_base_command_with_wrong_option(self):
1607.         "User BaseCommands outputs command usage when wrong option is specified"
1608.         args = ['base_command', '--invalid']
1609.         out, err = self.run_manage(args)
1610.         self.assertNoOutput(out)
1611.         self.assertOutput(err, "usage: manage.py base_command")
1612.         self.assertOutput(err, "error: unrecognized arguments: --invalid")
1613. 
1614.     def _test_base_command(self, args, labels, option_a="'1'", option_b="'2'"):
1615.         out, err = self.run_manage(args)
1616. 
1617.         expected_out = (
1618.             "EXECUTE:BaseCommand labels=%s, "
1619.             "options=[('force_color', False), ('no_color', False), "
1620.             "('option_a', %s), ('option_b', %s), ('option_c', '3'), "
1621.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1622.             "('verbosity', 1)]") % (labels, option_a, option_b)
1623.         self.assertNoOutput(err)
1624.         self.assertOutput(out, expected_out)
1625. 
1626.     def test_base_run_from_argv(self):
1627.         """
1628.         Test run_from_argv properly terminates even with custom execute() (#19665)
1629.         Also test proper traceback display.
1630.         """
1631.         err = StringIO()
1632.         command = BaseCommand(stderr=err)
1633. 
1634.         def raise_command_error(*args, **kwargs):
1635.             raise CommandError("Custom error")
1636. 
1637.         command.execute = lambda args: args  # This will trigger TypeError
1638. 
1639.         # If the Exception is not CommandError it should always
1640.         # raise the original exception.
1641.         with self.assertRaises(TypeError):
1642.             command.run_from_argv(['', ''])
1643. 
1644.         # If the Exception is CommandError and --traceback is not present
1645.         # this command should raise a SystemExit and don't print any
1646.         # traceback to the stderr.
1647.         command.execute = raise_command_error
1648.         err.truncate(0)
1649.         with self.assertRaises(SystemExit):
1650.             command.run_from_argv(['', ''])
1651.         err_message = err.getvalue()
1652.         self.assertNotIn("Traceback", err_message)
1653.         self.assertIn("CommandError", err_message)
1654. 
1655.         # If the Exception is CommandError and --traceback is present
1656.         # this command should raise the original CommandError as if it
1657.         # were not a CommandError.
1658.         err.truncate(0)
1659.         with self.assertRaises(CommandError):
1660.             command.run_from_argv(['', '', '--traceback'])
1661. 
1662.     def test_run_from_argv_non_ascii_error(self):
1663.         """
1664.         Non-ASCII message of CommandError does not raise any
1665.         UnicodeDecodeError in run_from_argv.
1666.         """
1667.         def raise_command_error(*args, **kwargs):
1668.             raise CommandError("Erreur personnalisée")
1669. 
1670.         command = BaseCommand(stderr=StringIO())
1671.         command.execute = raise_command_error
1672. 
1673.         with self.assertRaises(SystemExit):
1674.             command.run_from_argv(['', ''])
1675. 
1676.     def test_run_from_argv_closes_connections(self):
1677.         """
1678.         A command called from the command line should close connections after
1679.         being executed (#21255).
1680.         """
1681.         command = BaseCommand()
1682.         command.check = lambda: []
1683.         command.handle = lambda *args, **kwargs: args
1684.         with mock.patch('django.core.management.base.connections') as mock_connections:
1685.             command.run_from_argv(['', ''])
1686.         # Test connections have been closed
1687.         self.assertTrue(mock_connections.close_all.called)
1688. 
1689.     def test_noargs(self):
1690.         "NoArg Commands can be executed"
1691.         args = ['noargs_command']
1692.         out, err = self.run_manage(args)
1693.         self.assertNoOutput(err)
1694.         self.assertOutput(
1695.             out,
1696.             "EXECUTE: noargs_command options=[('force_color', False), "
1697.             "('no_color', False), ('pythonpath', None), ('settings', None), "
1698.             "('traceback', False), ('verbosity', 1)]"
1699.         )
1700. 
1701.     def test_noargs_with_args(self):
1702.         "NoArg Commands raise an error if an argument is provided"
1703.         args = ['noargs_command', 'argument']
1704.         out, err = self.run_manage(args)
1705.         self.assertOutput(err, "error: unrecognized arguments: argument")
1706. 
1707.     def test_app_command(self):
1708.         "User AppCommands can execute when a single app name is provided"
1709.         args = ['app_command', 'auth']
1710.         out, err = self.run_manage(args)
1711.         self.assertNoOutput(err)
1712.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1713.         self.assertOutput(
1714.             out,
1715.             ", options=[('force_color', False), ('no_color', False), "
1716.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1717.             "('verbosity', 1)]"
1718.         )
1719. 
1720.     def test_app_command_no_apps(self):
1721.         "User AppCommands raise an error when no app name is provided"
1722.         args = ['app_command']
1723.         out, err = self.run_manage(args)
1724.         self.assertOutput(err, 'error: Enter at least one application label.')
1725. 
1726.     def test_app_command_multiple_apps(self):
1727.         "User AppCommands raise an error when multiple app names are provided"
1728.         args = ['app_command', 'auth', 'contenttypes']
1729.         out, err = self.run_manage(args)
1730.         self.assertNoOutput(err)
1731.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.auth, options=")
1732.         self.assertOutput(
1733.             out,
1734.             ", options=[('force_color', False), ('no_color', False), "
1735.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1736.             "('verbosity', 1)]"
1737.         )
1738.         self.assertOutput(out, "EXECUTE:AppCommand name=django.contrib.contenttypes, options=")
1739.         self.assertOutput(
1740.             out,
1741.             ", options=[('force_color', False), ('no_color', False), "
1742.             "('pythonpath', None), ('settings', None), ('traceback', False), "
1743.             "('verbosity', 1)]"
1744.         )
1745. 
1746.     def test_app_command_invalid_app_label(self):
1747.         "User AppCommands can execute when a single app name is provided"
1748.         args = ['app_command', 'NOT_AN_APP']
1749.         out, err = self.run_manage(args)
1750.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1751. 
1752.     def test_app_command_some_invalid_app_labels(self):
1753.         "User AppCommands can execute when some of the provided app names are invalid"
1754.         args = ['app_command', 'auth', 'NOT_AN_APP']
1755.         out, err = self.run_manage(args)
1756.         self.assertOutput(err, "No installed app with label 'NOT_AN_APP'.")
1757. 
1758.     def test_label_command(self):
1759.         "User LabelCommands can execute when a label is provided"
1760.         args = ['label_command', 'testlabel']
1761.         out, err = self.run_manage(args)
1762.         self.assertNoOutput(err)
1763.         self.assertOutput(
1764.             out,
1765.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1766.             "False), ('no_color', False), ('pythonpath', None), ('settings', "
1767.             "None), ('traceback', False), ('verbosity', 1)]"
1768.         )
1769. 
1770.     def test_label_command_no_label(self):
1771.         "User LabelCommands raise an error if no label is provided"
1772.         args = ['label_command']
1773.         out, err = self.run_manage(args)
1774.         self.assertOutput(err, 'Enter at least one label')
1775. 
1776.     def test_label_command_multiple_label(self):
1777.         "User LabelCommands are executed multiple times if multiple labels are provided"
1778.         args = ['label_command', 'testlabel', 'anotherlabel']
1779.         out, err = self.run_manage(args)
1780.         self.assertNoOutput(err)
1781.         self.assertOutput(
1782.             out,
1783.             "EXECUTE:LabelCommand label=testlabel, options=[('force_color', "
1784.             "False), ('no_color', False), ('pythonpath', None), "
1785.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1786.         )
1787.         self.assertOutput(
1788.             out,
1789.             "EXECUTE:LabelCommand label=anotherlabel, options=[('force_color', "
1790.             "False), ('no_color', False), ('pythonpath', None), "
1791.             "('settings', None), ('traceback', False), ('verbosity', 1)]"
1792.         )
1793. 
1794. 
1795. class Discovery(SimpleTestCase):
1796. 
1797.     def test_precedence(self):
1798.         """
1799.         Apps listed first in INSTALLED_APPS have precedence.
1800.         """
1801.         with self.settings(INSTALLED_APPS=['admin_scripts.complex_app',
1802.                                            'admin_scripts.simple_app',
1803.                                            'django.contrib.auth',
1804.                                            'django.contrib.contenttypes']):
1805.             out = StringIO()
1806.             call_command('duplicate', stdout=out)
1807.             self.assertEqual(out.getvalue().strip(), 'complex_app')
1808.         with self.settings(INSTALLED_APPS=['admin_scripts.simple_app',
1809.                                            'admin_scripts.complex_app',
1810.                                            'django.contrib.auth',
1811.                                            'django.contrib.contenttypes']):
1812.             out = StringIO()
1813.             call_command('duplicate', stdout=out)
1814.             self.assertEqual(out.getvalue().strip(), 'simple_app')
1815. 
1816. 
1817. class ArgumentOrder(AdminScriptTestCase):
1818.     """Tests for 2-stage argument parsing scheme.
1819. 
1820.     django-admin command arguments are parsed in 2 parts; the core arguments
1821.     (--settings, --traceback and --pythonpath) are parsed using a basic parser,
1822.     ignoring any unknown options. Then the full settings are
1823.     passed to the command parser, which extracts commands of interest to the
1824.     individual command.
1825.     """
1826.     def setUp(self):
1827.         super().setUp()
1828.         self.write_settings('settings.py', apps=['django.contrib.auth', 'django.contrib.contenttypes'])
1829.         self.write_settings('alternate_settings.py')
1830. 
1831.     def test_setting_then_option(self):
1832.         """ Options passed after settings are correctly handled. """
1833.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '--option_a=x']
1834.         self._test(args)
1835. 
1836.     def test_setting_then_short_option(self):
1837.         """ Short options passed after settings are correctly handled. """
1838.         args = ['base_command', 'testlabel', '--settings=alternate_settings', '-a', 'x']
1839.         self._test(args)
1840. 
1841.     def test_option_then_setting(self):
1842.         """ Options passed before settings are correctly handled. """
1843.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings']
1844.         self._test(args)
1845. 
1846.     def test_short_option_then_setting(self):
1847.         """ Short options passed before settings are correctly handled. """
1848.         args = ['base_command', 'testlabel', '-a', 'x', '--settings=alternate_settings']
1849.         self._test(args)
1850. 
1851.     def test_option_then_setting_then_option(self):
1852.         """ Options are correctly handled when they are passed before and after
1853.         a setting. """
1854.         args = ['base_command', 'testlabel', '--option_a=x', '--settings=alternate_settings', '--option_b=y']
1855.         self._test(args, option_b="'y'")
1856. 
1857.     def _test(self, args, option_b="'2'"):
1858.         out, err = self.run_manage(args)
1859.         self.assertNoOutput(err)
1860.         self.assertOutput(
1861.             out,
1862.             "EXECUTE:BaseCommand labels=('testlabel',), options=["
1863.             "('force_color', False), ('no_color', False), ('option_a', 'x'), "
1864.             "('option_b', %s), ('option_c', '3'), ('pythonpath', None), "
1865.             "('settings', 'alternate_settings'), ('traceback', False), "
1866.             "('verbosity', 1)]" % option_b
1867.         )
1868. 
1869. 
1870. @override_settings(ROOT_URLCONF='admin_scripts.urls')
1871. class StartProject(LiveServerTestCase, AdminScriptTestCase):
1872. 
1873.     available_apps = [
1874.         'admin_scripts',
1875.         'django.contrib.auth',
1876.         'django.contrib.contenttypes',
1877.         'django.contrib.sessions',
1878.     ]
1879. 
1880.     def test_wrong_args(self):
1881.         "Make sure passing the wrong kinds of arguments outputs an error and prints usage"
1882.         out, err = self.run_django_admin(['startproject'])
1883.         self.assertNoOutput(out)
1884.         self.assertOutput(err, "usage:")
1885.         self.assertOutput(err, "You must provide a project name.")
1886. 
1887.     def test_simple_project(self):
1888.         "Make sure the startproject management command creates a project"
1889.         args = ['startproject', 'testproject']
1890.         testproject_dir = os.path.join(self.test_dir, 'testproject')
1891. 
1892.         out, err = self.run_django_admin(args)
1893.         self.assertNoOutput(err)
1894.         self.assertTrue(os.path.isdir(testproject_dir))
1895. 
1896.         # running again..
1897.         out, err = self.run_django_admin(args)
1898.         self.assertNoOutput(out)
1899.         self.assertOutput(
1900.             err,
1901.             "CommandError: 'testproject' conflicts with the name of an "
1902.             "existing Python module and cannot be used as a project name. "
1903.             "Please try another name.",
1904.         )
1905. 
1906.     def test_invalid_project_name(self):
1907.         "Make sure the startproject management command validates a project name"
1908.         for bad_name in ('7testproject', '../testproject'):
1909.             with self.subTest(project_name=bad_name):
1910.                 args = ['startproject', bad_name]
1911.                 testproject_dir = os.path.join(self.test_dir, bad_name)
1912. 
1913.                 out, err = self.run_django_admin(args)
1914.                 self.assertOutput(
1915.                     err,
1916.                     "Error: '%s' is not a valid project name. Please make "
1917.                     "sure the name is a valid identifier." % bad_name
1918.                 )
1919.                 self.assertFalse(os.path.exists(testproject_dir))
1920. 
1921.     def test_importable_project_name(self):
1922.         """
1923.         startproject validates that project name doesn't clash with existing
1924.         Python modules.
1925.         """
1926.         bad_name = 'os'
1927.         args = ['startproject', bad_name]
1928.         testproject_dir = os.path.join(self.test_dir, bad_name)
1929. 
1930.         out, err = self.run_django_admin(args)
1931.         self.assertOutput(
1932.             err,
1933.             "CommandError: 'os' conflicts with the name of an existing "
1934.             "Python module and cannot be used as a project name. Please try "
1935.             "another name."
1936.         )
1937.         self.assertFalse(os.path.exists(testproject_dir))
1938. 
1939.     def test_simple_project_different_directory(self):
1940.         "Make sure the startproject management command creates a project in a specific directory"
1941.         args = ['startproject', 'testproject', 'othertestproject']
1942.         testproject_dir = os.path.join(self.test_dir, 'othertestproject')
1943.         os.mkdir(testproject_dir)
1944. 
1945.         out, err = self.run_django_admin(args)
1946.         self.assertNoOutput(err)
1947.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'manage.py')))
1948. 
1949.         # running again..
1950.         out, err = self.run_django_admin(args)
1951.         self.assertNoOutput(out)
1952.         self.assertOutput(
1953.             err,
1954.             "already exists. Overlaying a project into an existing directory "
1955.             "won't replace conflicting files."
1956.         )
1957. 
1958.     def test_custom_project_template(self):
1959.         "Make sure the startproject management command is able to use a different project template"
1960.         template_path = os.path.join(custom_templates_dir, 'project_template')
1961.         args = ['startproject', '--template', template_path, 'customtestproject']
1962.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1963. 
1964.         out, err = self.run_django_admin(args)
1965.         self.assertNoOutput(err)
1966.         self.assertTrue(os.path.isdir(testproject_dir))
1967.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1968. 
1969.     def test_template_dir_with_trailing_slash(self):
1970.         "Ticket 17475: Template dir passed has a trailing path separator"
1971.         template_path = os.path.join(custom_templates_dir, 'project_template' + os.sep)
1972.         args = ['startproject', '--template', template_path, 'customtestproject']
1973.         testproject_dir = os.path.join(self.test_dir, 'customtestproject')
1974. 
1975.         out, err = self.run_django_admin(args)
1976.         self.assertNoOutput(err)
1977.         self.assertTrue(os.path.isdir(testproject_dir))
1978.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'additional_dir')))
1979. 
1980.     def test_custom_project_template_from_tarball_by_path(self):
1981.         "Make sure the startproject management command is able to use a different project template from a tarball"
1982.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1983.         args = ['startproject', '--template', template_path, 'tarballtestproject']
1984.         testproject_dir = os.path.join(self.test_dir, 'tarballtestproject')
1985. 
1986.         out, err = self.run_django_admin(args)
1987.         self.assertNoOutput(err)
1988.         self.assertTrue(os.path.isdir(testproject_dir))
1989.         self.assertTrue(os.path.exists(os.path.join(testproject_dir, 'run.py')))
1990. 
1991.     def test_custom_project_template_from_tarball_to_alternative_location(self):
1992.         "Startproject can use a project template from a tarball and create it in a specified location"
1993.         template_path = os.path.join(custom_templates_dir, 'project_template.tgz')
1994.         args = ['startproject', '--template', template_path, 'tarballtestproject', 'altlocation']
1995.         testproject_dir = os.path.join(self.test_dir, 'altlocation')
1996.         os.mkdir(testproject_dir)
1997. 
1998.         out, err = self.run_django_admin(args)
1999.         self.assertNoOutput(err)
2000.         self.assertTrue(os.path.isdir(testproject_dir))


File: tests/migrations/test_commands.py
Line number range: 1 - 500
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. 
20. from .models import UnicodeModel, UnserializableModel
21. from .routers import TestRouter
22. from .test_base import MigrationTestBase
23. 
24. 
25. class MigrateTests(MigrationTestBase):
26.     """
27.     Tests running the migrate command.
28.     """
29.     databases = {'default', 'other'}
30. 
31.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
32.     def test_migrate(self):
33.         """
34.         Tests basic usage of the migrate command.
35.         """
36.         # No tables are created
37.         self.assertTableNotExists("migrations_author")
38.         self.assertTableNotExists("migrations_tribble")
39.         self.assertTableNotExists("migrations_book")
40.         # Run the migrations to 0001 only
41.         stdout = io.StringIO()
42.         call_command('migrate', 'migrations', '0001', verbosity=1, stdout=stdout, no_color=True)
43.         stdout = stdout.getvalue()
44.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
45.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
46.         # The correct tables exist
47.         self.assertTableExists("migrations_author")
48.         self.assertTableExists("migrations_tribble")
49.         self.assertTableNotExists("migrations_book")
50.         # Run migrations all the way
51.         call_command("migrate", verbosity=0)
52.         # The correct tables exist
53.         self.assertTableExists("migrations_author")
54.         self.assertTableNotExists("migrations_tribble")
55.         self.assertTableExists("migrations_book")
56.         # Unmigrate everything
57.         stdout = io.StringIO()
58.         call_command('migrate', 'migrations', 'zero', verbosity=1, stdout=stdout, no_color=True)
59.         stdout = stdout.getvalue()
60.         self.assertIn('Unapply all migrations: migrations', stdout)
61.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
62.         # Tables are gone
63.         self.assertTableNotExists("migrations_author")
64.         self.assertTableNotExists("migrations_tribble")
65.         self.assertTableNotExists("migrations_book")
66. 
67.     @override_settings(INSTALLED_APPS=[
68.         'django.contrib.auth',
69.         'django.contrib.contenttypes',
70.         'migrations.migrations_test_apps.migrated_app',
71.     ])
72.     def test_migrate_with_system_checks(self):
73.         out = io.StringIO()
74.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
75.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
76. 
77.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
78.     def test_app_without_migrations(self):
79.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
80.         with self.assertRaisesMessage(CommandError, msg):
81.             call_command('migrate', app_label='unmigrated_app_syncdb')
82. 
83.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
84.     def test_ambiguous_prefix(self):
85.         msg = (
86.             "More than one migration matches 'a' in app 'migrations'. Please "
87.             "be more specific."
88.         )
89.         with self.assertRaisesMessage(CommandError, msg):
90.             call_command('migrate', app_label='migrations', migration_name='a')
91. 
92.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
93.     def test_unknown_prefix(self):
94.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
95.         with self.assertRaisesMessage(CommandError, msg):
96.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
97. 
98.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
99.     def test_migrate_initial_false(self):
100.         """
101.         `Migration.initial = False` skips fake-initial detection.
102.         """
103.         # Make sure no tables are created
104.         self.assertTableNotExists("migrations_author")
105.         self.assertTableNotExists("migrations_tribble")
106.         # Run the migrations to 0001 only
107.         call_command("migrate", "migrations", "0001", verbosity=0)
108.         # Fake rollback
109.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
110.         # Make sure fake-initial detection does not run
111.         with self.assertRaises(DatabaseError):
112.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
113. 
114.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
115.         # Real rollback
116.         call_command("migrate", "migrations", "zero", verbosity=0)
117.         # Make sure it's all gone
118.         self.assertTableNotExists("migrations_author")
119.         self.assertTableNotExists("migrations_tribble")
120.         self.assertTableNotExists("migrations_book")
121. 
122.     @override_settings(
123.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
124.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
125.     )
126.     def test_migrate_fake_initial(self):
127.         """
128.         --fake-initial only works if all tables created in the initial
129.         migration of an app exists. Database routers must be obeyed when doing
130.         that check.
131.         """
132.         # Make sure no tables are created
133.         for db in self.databases:
134.             self.assertTableNotExists("migrations_author", using=db)
135.             self.assertTableNotExists("migrations_tribble", using=db)
136.         # Run the migrations to 0001 only
137.         call_command("migrate", "migrations", "0001", verbosity=0)
138.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
139.         # Make sure the right tables exist
140.         self.assertTableExists("migrations_author")
141.         self.assertTableNotExists("migrations_tribble")
142.         # Also check the "other" database
143.         self.assertTableNotExists("migrations_author", using="other")
144.         self.assertTableExists("migrations_tribble", using="other")
145. 
146.         # Fake a roll-back
147.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
148.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
149.         # Make sure the tables still exist
150.         self.assertTableExists("migrations_author")
151.         self.assertTableExists("migrations_tribble", using="other")
152.         # Try to run initial migration
153.         with self.assertRaises(DatabaseError):
154.             call_command("migrate", "migrations", "0001", verbosity=0)
155.         # Run initial migration with an explicit --fake-initial
156.         out = io.StringIO()
157.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
158.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
159.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
160.         self.assertIn(
161.             "migrations.0001_initial... faked",
162.             out.getvalue().lower()
163.         )
164.         try:
165.             # Run migrations all the way.
166.             call_command('migrate', verbosity=0)
167.             call_command('migrate', verbosity=0, database="other")
168.             self.assertTableExists('migrations_author')
169.             self.assertTableNotExists('migrations_tribble')
170.             self.assertTableExists('migrations_book')
171.             self.assertTableNotExists('migrations_author', using='other')
172.             self.assertTableNotExists('migrations_tribble', using='other')
173.             self.assertTableNotExists('migrations_book', using='other')
174.             # Fake a roll-back.
175.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
176.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
177.             self.assertTableExists('migrations_author')
178.             self.assertTableNotExists('migrations_tribble')
179.             self.assertTableExists('migrations_book')
180.             # Run initial migration.
181.             with self.assertRaises(DatabaseError):
182.                 call_command('migrate', 'migrations', verbosity=0)
183.             # Run initial migration with an explicit --fake-initial.
184.             with self.assertRaises(DatabaseError):
185.                 # Fails because "migrations_tribble" does not exist but needs
186.                 # to in order to make --fake-initial work.
187.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
188.             # Fake an apply.
189.             call_command('migrate', 'migrations', fake=True, verbosity=0)
190.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
191.         finally:
192.             # Unmigrate everything.
193.             call_command('migrate', 'migrations', 'zero', verbosity=0)
194.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
195.         # Make sure it's all gone
196.         for db in self.databases:
197.             self.assertTableNotExists("migrations_author", using=db)
198.             self.assertTableNotExists("migrations_tribble", using=db)
199.             self.assertTableNotExists("migrations_book", using=db)
200. 
201.     @skipUnlessDBFeature('ignores_table_name_case')
202.     def test_migrate_fake_initial_case_insensitive(self):
203.         with override_settings(MIGRATION_MODULES={
204.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
205.         }):
206.             call_command('migrate', 'migrations', '0001', verbosity=0)
207.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
208. 
209.         with override_settings(MIGRATION_MODULES={
210.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
211.         }):
212.             out = io.StringIO()
213.             call_command(
214.                 'migrate',
215.                 'migrations',
216.                 '0001',
217.                 fake_initial=True,
218.                 stdout=out,
219.                 verbosity=1,
220.                 no_color=True,
221.             )
222.             self.assertIn(
223.                 'migrations.0001_initial... faked',
224.                 out.getvalue().lower(),
225.             )
226. 
227.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
228.     def test_migrate_fake_split_initial(self):
229.         """
230.         Split initial migrations can be faked with --fake-initial.
231.         """
232.         call_command("migrate", "migrations", "0002", verbosity=0)
233.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
234.         out = io.StringIO()
235.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
236.             call_command("migrate", "migrations", "0002", fake_initial=True, stdout=out, verbosity=1)
237.         value = out.getvalue().lower()
238.         self.assertIn("migrations.0001_initial... faked", value)
239.         self.assertIn("migrations.0002_second... faked", value)
240.         # Fake an apply
241.         call_command("migrate", "migrations", fake=True, verbosity=0)
242.         # Unmigrate everything
243.         call_command("migrate", "migrations", "zero", verbosity=0)
244. 
245.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
246.     def test_migrate_conflict_exit(self):
247.         """
248.         migrate exits if it detects a conflict.
249.         """
250.         msg = (
251.             "Conflicting migrations detected; multiple leaf nodes in the "
252.             "migration graph: (0002_conflicting_second, 0002_second in "
253.             "migrations).\n"
254.             "To fix them run 'python manage.py makemigrations --merge'"
255.         )
256.         with self.assertRaisesMessage(CommandError, msg):
257.             call_command("migrate", "migrations")
258. 
259.     @override_settings(MIGRATION_MODULES={
260.         'migrations': 'migrations.test_migrations',
261.     })
262.     def test_migrate_check(self):
263.         with self.assertRaises(SystemExit):
264.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
265.         self.assertTableNotExists('migrations_author')
266.         self.assertTableNotExists('migrations_tribble')
267.         self.assertTableNotExists('migrations_book')
268. 
269.     @override_settings(MIGRATION_MODULES={
270.         'migrations': 'migrations.test_migrations_plan',
271.     })
272.     def test_migrate_check_plan(self):
273.         out = io.StringIO()
274.         with self.assertRaises(SystemExit):
275.             call_command(
276.                 'migrate',
277.                 'migrations',
278.                 '0001',
279.                 check_unapplied=True,
280.                 plan=True,
281.                 stdout=out,
282.                 no_color=True,
283.             )
284.         self.assertEqual(
285.             'Planned operations:\n'
286.             'migrations.0001_initial\n'
287.             '    Create model Salamander\n'
288.             '    Raw Python operation -> Grow salamander tail.\n',
289.             out.getvalue(),
290.         )
291. 
292.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
293.     def test_showmigrations_list(self):
294.         """
295.         showmigrations --list  displays migrations and whether or not they're
296.         applied.
297.         """
298.         out = io.StringIO()
299.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
300.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
301.         self.assertEqual(
302.             '\x1b[1mmigrations\n\x1b[0m'
303.             ' [ ] 0001_initial\n'
304.             ' [ ] 0002_second\n',
305.             out.getvalue().lower()
306.         )
307. 
308.         call_command("migrate", "migrations", "0001", verbosity=0)
309. 
310.         out = io.StringIO()
311.         # Giving the explicit app_label tests for selective `show_list` in the command
312.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
313.         self.assertEqual(
314.             'migrations\n'
315.             ' [x] 0001_initial\n'
316.             ' [ ] 0002_second\n',
317.             out.getvalue().lower()
318.         )
319.         out = io.StringIO()
320.         # Applied datetimes are displayed at verbosity 2+.
321.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
322.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
323.         self.assertEqual(
324.             'migrations\n'
325.             ' [x] 0001_initial (applied at %s)\n'
326.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
327.             out.getvalue().lower()
328.         )
329.         # Cleanup by unmigrating everything
330.         call_command("migrate", "migrations", "zero", verbosity=0)
331. 
332.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
333.     def test_showmigrations_plan(self):
334.         """
335.         Tests --plan output of showmigrations command
336.         """
337.         out = io.StringIO()
338.         call_command("showmigrations", format='plan', stdout=out)
339.         self.assertEqual(
340.             "[ ]  migrations.0001_initial\n"
341.             "[ ]  migrations.0003_third\n"
342.             "[ ]  migrations.0002_second\n",
343.             out.getvalue().lower()
344.         )
345. 
346.         out = io.StringIO()
347.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
348.         self.assertEqual(
349.             "[ ]  migrations.0001_initial\n"
350.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
351.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
352.             out.getvalue().lower()
353.         )
354.         call_command("migrate", "migrations", "0003", verbosity=0)
355. 
356.         out = io.StringIO()
357.         call_command("showmigrations", format='plan', stdout=out)
358.         self.assertEqual(
359.             "[x]  migrations.0001_initial\n"
360.             "[x]  migrations.0003_third\n"
361.             "[ ]  migrations.0002_second\n",
362.             out.getvalue().lower()
363.         )
364. 
365.         out = io.StringIO()
366.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
367.         self.assertEqual(
368.             "[x]  migrations.0001_initial\n"
369.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
370.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
371.             out.getvalue().lower()
372.         )
373. 
374.         # Cleanup by unmigrating everything
375.         call_command("migrate", "migrations", "zero", verbosity=0)
376. 
377.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
378.     def test_migrate_plan(self):
379.         """Tests migrate --plan output."""
380.         out = io.StringIO()
381.         # Show the plan up to the third migration.
382.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
383.         self.assertEqual(
384.             'Planned operations:\n'
385.             'migrations.0001_initial\n'
386.             '    Create model Salamander\n'
387.             '    Raw Python operation -> Grow salamander tail.\n'
388.             'migrations.0002_second\n'
389.             '    Create model Book\n'
390.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
391.             'migrations.0003_third\n'
392.             '    Create model Author\n'
393.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
394.             out.getvalue()
395.         )
396.         try:
397.             # Migrate to the third migration.
398.             call_command('migrate', 'migrations', '0003', verbosity=0)
399.             out = io.StringIO()
400.             # Show the plan for when there is nothing to apply.
401.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
402.             self.assertEqual(
403.                 'Planned operations:\n'
404.                 '  No planned migration operations.\n',
405.                 out.getvalue()
406.             )
407.             out = io.StringIO()
408.             # Show the plan for reverse migration back to 0001.
409.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
410.             self.assertEqual(
411.                 'Planned operations:\n'
412.                 'migrations.0003_third\n'
413.                 '    Undo Create model Author\n'
414.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
415.                 'migrations.0002_second\n'
416.                 '    Undo Create model Book\n'
417.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
418.                 out.getvalue()
419.             )
420.             out = io.StringIO()
421.             # Show the migration plan to fourth, with truncated details.
422.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
423.             self.assertEqual(
424.                 'Planned operations:\n'
425.                 'migrations.0004_fourth\n'
426.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
427.                 out.getvalue()
428.             )
429.             # Show the plan when an operation is irreversible.
430.             # Migrate to the fourth migration.
431.             call_command('migrate', 'migrations', '0004', verbosity=0)
432.             out = io.StringIO()
433.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
434.             self.assertEqual(
435.                 'Planned operations:\n'
436.                 'migrations.0004_fourth\n'
437.                 '    Raw SQL operation -> IRREVERSIBLE\n',
438.                 out.getvalue()
439.             )
440.             out = io.StringIO()
441.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
442.             # Operation is marked as irreversible only in the revert plan.
443.             self.assertEqual(
444.                 'Planned operations:\n'
445.                 'migrations.0005_fifth\n'
446.                 '    Raw Python operation\n'
447.                 '    Raw Python operation\n'
448.                 '    Raw Python operation -> Feed salamander.\n',
449.                 out.getvalue()
450.             )
451.             call_command('migrate', 'migrations', '0005', verbosity=0)
452.             out = io.StringIO()
453.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
454.             self.assertEqual(
455.                 'Planned operations:\n'
456.                 'migrations.0005_fifth\n'
457.                 '    Raw Python operation -> IRREVERSIBLE\n'
458.                 '    Raw Python operation -> IRREVERSIBLE\n'
459.                 '    Raw Python operation\n',
460.                 out.getvalue()
461.             )
462.         finally:
463.             # Cleanup by unmigrating everything: fake the irreversible, then
464.             # migrate all to zero.
465.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
466.             call_command('migrate', 'migrations', 'zero', verbosity=0)
467. 
468.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
469.     def test_showmigrations_no_migrations(self):
470.         out = io.StringIO()
471.         call_command('showmigrations', stdout=out, no_color=True)
472.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
473. 
474.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
475.     def test_showmigrations_unmigrated_app(self):
476.         out = io.StringIO()
477.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
478.         self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
479. 
480.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
481.     def test_showmigrations_plan_no_migrations(self):
482.         """
483.         Tests --plan output of showmigrations command without migrations
484.         """
485.         out = io.StringIO()
486.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
487.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
488. 
489.         out = io.StringIO()
490.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
491.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
492. 
493.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
494.     def test_showmigrations_plan_squashed(self):
495.         """
496.         Tests --plan output of showmigrations command with squashed migrations.
497.         """
498.         out = io.StringIO()
499.         call_command("showmigrations", format='plan', stdout=out)
500.         self.assertEqual(

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:02:25,923 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants three complete test cases. One of the most relevant test files, `tests/migrations/test_commands.py`, contains tests that inherit from `MigrationTestBase`. This base class is defined in `tests/migrations/test_base.py`, which is not in the current context. To provide complete and runnable test cases from `tests/migrations/test_commands.py`, I need the definition of `MigrationTestBase`.' query='Please provide the full content of tests/migrations/test_base.py.' extra_requirements='' purpose='This file is required to understand the setup and helper methods used in the migration command tests, allowing me to select and present complete and relevant test cases.'
2025-12-23 04:02:25,924 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_base.py.
2025-12-23 04:02:25,924 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:02:25,925 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:02:25,925 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:02:25,925 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_base.py.
Purpose: This file is required to understand the setup and helper methods used in the migration command tests, allowing me to select and present complete and relevant test cases.
2025-12-23 04:02:28,104 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_base.py"}'}, '__gemini_function_call_thought_signatures__': {'e99a7de1-914d-4ad0-a19a-70e0bfa8cb29': 'CtgDAY89a1+WAYwZ0YvTe8Vd0ie3LlVNkYgTswJIho2Xn5DkUamrYCaYpWU9+wUzdn6iGS9uyiSuJruJKh+dffqFOGk5d7RYHk9T7Cs0JbR3ONIL5/iq1UFVaxGhv25TXJSgF24zxX4ww2hv4W1k/Y/5hoMJogY7KG1EaT2UoQY7RcQgjabQ1fZQ1luayW/GR0j0x0QNgCnjElxaNDy86mxKAgeKPIj2YIMLCLTSMqAkH7Tyvc2PWriuzQQYqESsrmSKrLPcgBhRbK0KkC+GyrfPwd8ipPGC5Eh7waFQEWlRnW7oCUTapUvVta5WDQMfOwyMuXIYxC6tY/+BXrsLagYWBkoGS7mKriZUJqJ5a5WisomQ1OEXr+YSXERuerBnZZxAKeF7Orh23OjJzPGRYpAL7iYF64oUAb+nYRDejyBUdlK5du+TY35YjGYXAY2cEtlfamNAYxrjsxjRRcselqtb5XDJCnFnF4s5jy55mi/KYgoKCQBDo19NK9T3+cUCjDcTYdxb6nnW5rK5HgNX5unIMdSKzcDLiKp5ZtIXcp5QQoudZXlc25SJG4IZ/ls29zib4xcWduhJxrceuSed3ufwANAdlO5N/bK0gfHwhEubxU17Um/UcySqPw=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2106, 'candidates_token_count': 23, 'total_token_count': 2251, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2106}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 122, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15172872336014456, 'model_name': 'gemini-2.5-pro'} id='run--9e9b9399-2cf3-46d4-8559-0076a722c18a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_base.py'}, 'id': 'e99a7de1-914d-4ad0-a19a-70e0bfa8cb29', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2106, 'output_tokens': 23, 'total_tokens': 2251, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 122}}
2025-12-23 04:02:31,072 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of the file `tests/migrations/test_base.py`. This file contains two main classes, `MigrationTestBase` and `OperationTestBase`, which provide a comprehensive set of tools and helper methods for testing database migrations and schema operations within the Django framework. The code includes functionalities for asserting table and column existence, managing temporary migration modules, and applying and unapplying migration operations for testing purposes.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 6409, 'candidates_token_count': 88, 'total_token_count': 6607, 'cached_content_token_count': 1771, 'prompt_tokens_details': [{'modality': 1, 'token_count': 6531}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1771}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 88}], 'thoughts_token_count': 110}, 'finish_reason': 'STOP', 'avg_logprobs': -0.24649342623623935, 'model_name': 'gemini-2.5-pro'} id='run--03659250-ce84-4c6d-917c-a81ab36ca95d-0' usage_metadata={'input_tokens': 6409, 'output_tokens': 88, 'total_tokens': 6607, 'input_token_details': {'cache_read': 1771}, 'output_token_details': {'reasoning': 110}}
2025-12-23 04:02:31,074 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_base.py.
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is required to understand the setup and helper methods used in the migration command tests, allowing me to select and present complete and relevant test cases.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_base.py
Line number range: 1 - 291
Content:
1. import os
2. import shutil
3. import tempfile
4. from contextlib import contextmanager
5. from importlib import import_module
6. 
7. from django.apps import apps
8. from django.db import connection, connections, migrations, models
9. from django.db.migrations.migration import Migration
10. from django.db.migrations.recorder import MigrationRecorder
11. from django.db.migrations.state import ProjectState
12. from django.test import TransactionTestCase
13. from django.test.utils import extend_sys_path
14. from django.utils.module_loading import module_dir
15. 
16. 
17. class MigrationTestBase(TransactionTestCase):
18.     """
19.     Contains an extended set of asserts for testing migrations and schema operations.
20.     """
21. 
22.     available_apps = ["migrations"]
23.     databases = {'default', 'other'}
24. 
25.     def tearDown(self):
26.         # Reset applied-migrations state.
27.         for db in self.databases:
28.             recorder = MigrationRecorder(connections[db])
29.             recorder.migration_qs.filter(app='migrations').delete()
30. 
31.     def get_table_description(self, table, using='default'):
32.         with connections[using].cursor() as cursor:
33.             return connections[using].introspection.get_table_description(cursor, table)
34. 
35.     def assertTableExists(self, table, using='default'):
36.         with connections[using].cursor() as cursor:
37.             self.assertIn(table, connections[using].introspection.table_names(cursor))
38. 
39.     def assertTableNotExists(self, table, using='default'):
40.         with connections[using].cursor() as cursor:
41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))
42. 
43.     def assertColumnExists(self, table, column, using='default'):
44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])
45. 
46.     def assertColumnNotExists(self, table, column, using='default'):
47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])
48. 
49.     def _get_column_allows_null(self, table, column, using):
50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]
51. 
52.     def assertColumnNull(self, table, column, using='default'):
53.         self.assertTrue(self._get_column_allows_null(table, column, using))
54. 
55.     def assertColumnNotNull(self, table, column, using='default'):
56.         self.assertFalse(self._get_column_allows_null(table, column, using))
57. 
58.     def assertIndexExists(self, table, columns, value=True, using='default', index_type=None):
59.         with connections[using].cursor() as cursor:
60.             self.assertEqual(
61.                 value,
62.                 any(
63.                     c["index"]
64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
65.                     if (
66.                         c['columns'] == list(columns) and
67.                         (index_type is None or c['type'] == index_type) and
68.                         not c['unique']
69.                     )
70.                 ),
71.             )
72. 
73.     def assertIndexNotExists(self, table, columns):
74.         return self.assertIndexExists(table, columns, False)
75. 
76.     def assertConstraintExists(self, table, name, value=True, using='default'):
77.         with connections[using].cursor() as cursor:
78.             constraints = connections[using].introspection.get_constraints(cursor, table).items()
79.             self.assertEqual(
80.                 value,
81.                 any(c['check'] for n, c in constraints if n == name),
82.             )
83. 
84.     def assertConstraintNotExists(self, table, name):
85.         return self.assertConstraintExists(table, name, False)
86. 
87.     def assertUniqueConstraintExists(self, table, columns, value=True, using='default'):
88.         with connections[using].cursor() as cursor:
89.             constraints = connections[using].introspection.get_constraints(cursor, table).values()
90.             self.assertEqual(
91.                 value,
92.                 any(c['unique'] for c in constraints if c['columns'] == list(columns)),
93.             )
94. 
95.     def assertFKExists(self, table, columns, to, value=True, using='default'):
96.         with connections[using].cursor() as cursor:
97.             self.assertEqual(
98.                 value,
99.                 any(
100.                     c["foreign_key"] == to
101.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
102.                     if c['columns'] == list(columns)
103.                 ),
104.             )
105. 
106.     def assertFKNotExists(self, table, columns, to):
107.         return self.assertFKExists(table, columns, to, False)
108. 
109.     @contextmanager
110.     def temporary_migration_module(self, app_label='migrations', module=None):
111.         """
112.         Allows testing management commands in a temporary migrations module.
113. 
114.         Wrap all invocations to makemigrations and squashmigrations with this
115.         context manager in order to avoid creating migration files in your
116.         source tree inadvertently.
117. 
118.         Takes the application label that will be passed to makemigrations or
119.         squashmigrations and the Python path to a migrations module.
120. 
121.         The migrations module is used as a template for creating the temporary
122.         migrations module. If it isn't provided, the application's migrations
123.         module is used, if it exists.
124. 
125.         Returns the filesystem path to the temporary migrations module.
126.         """
127.         with tempfile.TemporaryDirectory() as temp_dir:
128.             target_dir = tempfile.mkdtemp(dir=temp_dir)
129.             with open(os.path.join(target_dir, '__init__.py'), 'w'):
130.                 pass
131.             target_migrations_dir = os.path.join(target_dir, 'migrations')
132. 
133.             if module is None:
134.                 module = apps.get_app_config(app_label).name + '.migrations'
135. 
136.             try:
137.                 source_migrations_dir = module_dir(import_module(module))
138.             except (ImportError, ValueError):
139.                 pass
140.             else:
141.                 shutil.copytree(source_migrations_dir, target_migrations_dir)
142. 
143.             with extend_sys_path(temp_dir):
144.                 new_module = os.path.basename(target_dir) + '.migrations'
145.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):
146.                     yield target_migrations_dir
147. 
148. 
149. class OperationTestBase(MigrationTestBase):
150.     """Common functions to help test operations."""
151. 
152.     @classmethod
153.     def setUpClass(cls):
154.         super().setUpClass()
155.         cls._initial_table_names = frozenset(connection.introspection.table_names())
156. 
157.     def tearDown(self):
158.         self.cleanup_test_tables()
159.         super().tearDown()
160. 
161.     def cleanup_test_tables(self):
162.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names
163.         with connection.schema_editor() as editor:
164.             with connection.constraint_checks_disabled():
165.                 for table_name in table_names:
166.                     editor.execute(editor.sql_delete_table % {
167.                         'table': editor.quote_name(table_name),
168.                     })
169. 
170.     def apply_operations(self, app_label, project_state, operations, atomic=True):
171.         migration = Migration('name', app_label)
172.         migration.operations = operations
173.         with connection.schema_editor(atomic=atomic) as editor:
174.             return migration.apply(project_state, editor)
175. 
176.     def unapply_operations(self, app_label, project_state, operations, atomic=True):
177.         migration = Migration('name', app_label)
178.         migration.operations = operations
179.         with connection.schema_editor(atomic=atomic) as editor:
180.             return migration.unapply(project_state, editor)
181. 
182.     def make_test_state(self, app_label, operation, **kwargs):
183.         """
184.         Makes a test state using set_up_test_model and returns the
185.         original state and the state after the migration is applied.
186.         """
187.         project_state = self.set_up_test_model(app_label, **kwargs)
188.         new_state = project_state.clone()
189.         operation.state_forwards(app_label, new_state)
190.         return project_state, new_state
191. 
192.     def set_up_test_model(
193.         self, app_label, second_model=False, third_model=False, index=False,
194.         multicol_index=False, related_model=False, mti_model=False,
195.         proxy_model=False, manager_model=False, unique_together=False,
196.         options=False, db_table=None, index_together=False, constraints=None,
197.     ):
198.         """Creates a test model state and database table."""
199.         # Make the "current" state.
200.         model_options = {
201.             'swappable': 'TEST_SWAP_MODEL',
202.             'index_together': [['weight', 'pink']] if index_together else [],
203.             'unique_together': [['pink', 'weight']] if unique_together else [],
204.         }
205.         if options:
206.             model_options['permissions'] = [('can_groom', 'Can groom')]
207.         if db_table:
208.             model_options['db_table'] = db_table
209.         operations = [migrations.CreateModel(
210.             'Pony',
211.             [
212.                 ('id', models.AutoField(primary_key=True)),
213.                 ('pink', models.IntegerField(default=3)),
214.                 ('weight', models.FloatField()),
215.             ],
216.             options=model_options,
217.         )]
218.         if index:
219.             operations.append(migrations.AddIndex(
220.                 'Pony',
221.                 models.Index(fields=['pink'], name='pony_pink_idx'),
222.             ))
223.         if multicol_index:
224.             operations.append(migrations.AddIndex(
225.                 'Pony',
226.                 models.Index(fields=['pink', 'weight'], name='pony_test_idx'),
227.             ))
228.         if constraints:
229.             for constraint in constraints:
230.                 operations.append(migrations.AddConstraint('Pony', constraint))
231.         if second_model:
232.             operations.append(migrations.CreateModel(
233.                 'Stable',
234.                 [
235.                     ('id', models.AutoField(primary_key=True)),
236.                 ]
237.             ))
238.         if third_model:
239.             operations.append(migrations.CreateModel(
240.                 'Van',
241.                 [
242.                     ('id', models.AutoField(primary_key=True)),
243.                 ]
244.             ))
245.         if related_model:
246.             operations.append(migrations.CreateModel(
247.                 'Rider',
248.                 [
249.                     ('id', models.AutoField(primary_key=True)),
250.                     ('pony', models.ForeignKey('Pony', models.CASCADE)),
251.                     ('friend', models.ForeignKey('self', models.CASCADE))
252.                 ],
253.             ))
254.         if mti_model:
255.             operations.append(migrations.CreateModel(
256.                 'ShetlandPony',
257.                 fields=[
258.                     ('pony_ptr', models.OneToOneField(
259.                         'Pony',
260.                         models.CASCADE,
261.                         auto_created=True,
262.                         parent_link=True,
263.                         primary_key=True,
264.                         to_field='id',
265.                         serialize=False,
266.                     )),
267.                     ('cuteness', models.IntegerField(default=1)),
268.                 ],
269.                 bases=['%s.Pony' % app_label],
270.             ))
271.         if proxy_model:
272.             operations.append(migrations.CreateModel(
273.                 'ProxyPony',
274.                 fields=[],
275.                 options={'proxy': True},
276.                 bases=['%s.Pony' % app_label],
277.             ))
278.         if manager_model:
279.             from .models import FoodManager, FoodQuerySet
280.             operations.append(migrations.CreateModel(
281.                 'Food',
282.                 fields=[
283.                     ('id', models.AutoField(primary_key=True)),
284.                 ],
285.                 managers=[
286.                     ('food_qs', FoodQuerySet.as_manager()),
287.                     ('food_mgr', FoodManager('a', 'b')),
288.                     ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
289.                 ]
290.             ))
291.         return self.apply_operations(app_label, ProjectState(), operations)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:02:35,702 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user has requested the full content of the file 'tests/migrations/test_base.py'. The provided context contains the entire file from line 1 to 291, so I am returning the whole file as requested.", relative_path='tests/migrations/test_base.py', start_line=1, end_line=291)]
2025-12-23 04:02:35,703 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_base.py.
2025-12-23 04:02:35,703 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:02:35,704 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:02:35,704 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 2 existing contexts
2025-12-23 04:02:35,704 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-23 04:02:35,705 - thread-130892567656128.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-23 04:02:35,705 - thread-130892567656128.prometheus_context_collector - INFO - Successfully retrieved 3 context snippets
