2025-12-21 08:06:48,191 - thread-126571857839808.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Case() crashes with ~Q(pk__in=[]).

Description: Description
	
The following code generates a syntax error. 
User.objects.annotate(
	_a=Case(
		When(~Q(pk__in=[]), then=Value(True)),
		default=Value(False),
		output_field=BooleanField(),
	)
).order_by("-a").values("pk")
The error is: 
ProgrammingError: syntax error at or near "THEN"
LINE 1: ..._user"."id" FROM "users_user" ORDER BY CASE WHEN THEN true ...
The generated SQL is: 
SELECT "users_user"."id" FROM "users_user" ORDER BY CASE WHEN THEN True ELSE False END ASC
I expected behavior to annotate all rows with the value True since they all match.
Relevant because ~Q(pkin=[]) is a sentinel value that is sometimes returned by application code.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 822968ef56..d913bc3172 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1383,14 +1383,32 @@ class Case(SQLiteNumericMixin, Expression):
         template_params = {**self.extra, **extra_context}
         case_parts = []
         sql_params = []
+        forced_default = None
         for case in self.cases:
             try:
-                case_sql, case_params = compiler.compile(case)
+                condition_sql, condition_params = compiler.compile(case.condition)
             except EmptyResultSet:
                 continue
+            # If the condition matches everything, short-circuit.
+            if not condition_sql:
+                result_sql, result_params = compiler.compile(case.result)
+                if not case_parts:
+                    sql = result_sql
+                    params = result_params
+                    if self._output_field_or_none is not None:
+                        sql = connection.ops.unification_cast_sql(self.output_field) % sql
+                    return sql, params
+                forced_default = (result_sql, result_params)
+                break
+            result_sql, result_params = compiler.compile(case.result)
+            case_sql = f"WHEN {condition_sql} THEN {result_sql}"
             case_parts.append(case_sql)
-            sql_params.extend(case_params)
-        default_sql, default_params = compiler.compile(self.default)
+            sql_params.extend(condition_params)
+            sql_params.extend(result_params)
+        if forced_default is not None:
+            default_sql, default_params = forced_default
+        else:
+            default_sql, default_params = compiler.compile(self.default)
         if not case_parts:
             return default_sql, default_params
         case_joiner = case_joiner or self.case_joiner


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

2025-12-21 08:06:48,307 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── async_queryset
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Case() crashes with ~Q(pk__in=[]).

Description: Description
	
The following code generates a syntax error. 
User.objects.annotate(
	_a=Case(
		When(~Q(pk__in=[]), then=Value(True)),
		default=Value(False),
		output_field=BooleanField(),
	)
).order_by("-a").values("pk")
The error is: 
ProgrammingError: syntax error at or near "THEN"
LINE 1: ..._user"."id" FROM "users_user" ORDER BY CASE WHEN THEN true ...
The generated SQL is: 
SELECT "users_user"."id" FROM "users_user" ORDER BY CASE WHEN THEN True ELSE False END ASC
I expected behavior to annotate all rows with the value True since they all match.
Relevant because ~Q(pkin=[]) is a sentinel value that is sometimes returned by application code.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 822968ef56..d913bc3172 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1383,14 +1383,32 @@ class Case(SQLiteNumericMixin, Expression):
         template_params = {**self.extra, **extra_context}
         case_parts = []
         sql_params = []
+        forced_default = None
         for case in self.cases:
             try:
-                case_sql, case_params = compiler.compile(case)
+                condition_sql, condition_params = compiler.compile(case.condition)
             except EmptyResultSet:
                 continue
+            # If the condition matches everything, short-circuit.
+            if not condition_sql:
+                result_sql, result_params = compiler.compile(case.result)
+                if not case_parts:
+                    sql = result_sql
+                    params = result_params
+                    if self._output_field_or_none is not None:
+                        sql = connection.ops.unification_cast_sql(self.output_field) % sql
+                    return sql, params
+                forced_default = (result_sql, result_params)
+                break
+            result_sql, result_params = compiler.compile(case.result)
+            case_sql = f"WHEN {condition_sql} THEN {result_sql}"
             case_parts.append(case_sql)
-            sql_params.extend(case_params)
-        default_sql, default_params = compiler.compile(self.default)
+            sql_params.extend(condition_params)
+            sql_params.extend(result_params)
+        if forced_default is not None:
+            default_sql, default_params = forced_default
+        else:
+            default_sql, default_params = compiler.compile(self.default)
         if not case_parts:
             return default_sql, default_params
         case_joiner = case_joiner or self.case_joiner


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 08:07:44,783 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's issue is about a crash in `Case()` expression. The patch provided is in `django/db/models/expressions.py` and modifies the `Case.as_sql` method. To understand the issue and the patch, I need to see the full implementation of the `Case` class and its related `When` class, which are both defined in `django/db/models/expressions.py`." query='Please provide the full content of `django/db/models/expressions.py`.' extra_requirements='' purpose='I need to examine the implementation of `Case` and `When` expressions to understand how they are compiled into SQL and why the provided `~Q(pk__in=[])` condition causes a syntax error.'
2025-12-21 08:07:44,784 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/expressions.py`.
2025-12-21 08:07:44,785 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 08:07:44,785 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 08:07:44,786 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 08:07:44,786 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/expressions.py`.
Purpose: I need to examine the implementation of `Case` and `When` expressions to understand how they are compiled into SQL and why the provided `~Q(pk__in=[])` condition causes a syntax error.
2025-12-21 08:07:47,597 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `django/db/models/expressions.py` so you can examine the implementation of the `Case` and `When` expressions. This will help you understand how they are compiled into SQL and why the `~Q(pk__in=[])` condition is causing a syntax error.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/expressions.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2120, 'candidates_token_count': 89, 'total_token_count': 2422, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2120}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 89}], 'thoughts_token_count': 213, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1579646206973644, 'model_name': 'gemini-2.5-pro'} id='run--5d656f23-319a-4ad7-a420-6ed5a7a2d2db-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/expressions.py'}, 'id': '0dbcd4ae-ad7c-48ef-b855-13ab835e9d54', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2120, 'output_tokens': 89, 'total_tokens': 2422, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 213}}
2025-12-21 08:07:50,291 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've provided the initial part of the `django/db/models/expressions.py` file. Since the file is quite large, I will now retrieve the remaining content to give you the complete picture. This will allow for a full analysis of the `Case` and `When` constructs." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "django/db/models/expressions.py", "end_line": 1500.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 8574, 'candidates_token_count': 90, 'total_token_count': 8760, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8574}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 90}], 'thoughts_token_count': 96, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.18240943484836156, 'model_name': 'gemini-2.5-pro'} id='run--accb6f57-fd7e-41e4-a615-b86eb3f749b8-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'django/db/models/expressions.py', 'end_line': 1500.0}, 'id': 'fa4d1442-d492-4c29-b836-ab0f7ce8045a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 8574, 'output_tokens': 90, 'total_tokens': 8760, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 96}}
2025-12-21 08:07:51,996 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now retrieved the full content of `django/db/models/expressions.py`. You can now proceed with your analysis of the `Case` and `When` expressions to understand the root cause of the SQL syntax error. The complete code is available for your review.\n' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 22943, 'candidates_token_count': 57, 'total_token_count': 23000, 'cached_content_token_count': 7694, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22943}], 'cache_tokens_details': [{'modality': 1, 'token_count': 7694}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 57}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10752083125867341, 'model_name': 'gemini-2.5-pro'} id='run--ea3a7170-76d6-4bd1-99be-3b824e2b13ee-0' usage_metadata={'input_tokens': 22943, 'output_tokens': 57, 'total_tokens': 23000, 'input_token_details': {'cache_read': 7694}}
2025-12-21 08:07:51,998 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/expressions.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to examine the implementation of `Case` and `When` expressions to understand how they are compiled into SQL and why the provided `~Q(pk__in=[])` condition causes a syntax error.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/expressions.py
Line number range: 1 - 500
Content:
1. import copy
2. import datetime
3. import functools
4. import inspect
5. import warnings
6. from collections import defaultdict
7. from decimal import Decimal
8. from uuid import UUID
9. 
10. from django.core.exceptions import EmptyResultSet, FieldError
11. from django.db import DatabaseError, NotSupportedError, connection
12. from django.db.models import fields
13. from django.db.models.constants import LOOKUP_SEP
14. from django.db.models.query_utils import Q
15. from django.utils.deconstruct import deconstructible
16. from django.utils.deprecation import RemovedInDjango50Warning
17. from django.utils.functional import cached_property
18. from django.utils.hashable import make_hashable
19. 
20. 
21. class SQLiteNumericMixin:
22.     """
23.     Some expressions with output_field=DecimalField() must be cast to
24.     numeric to be properly filtered.
25.     """
26. 
27.     def as_sqlite(self, compiler, connection, **extra_context):
28.         sql, params = self.as_sql(compiler, connection, **extra_context)
29.         try:
30.             if self.output_field.get_internal_type() == "DecimalField":
31.                 sql = "CAST(%s AS NUMERIC)" % sql
32.         except FieldError:
33.             pass
34.         return sql, params
35. 
36. 
37. class Combinable:
38.     """
39.     Provide the ability to combine one or two objects with
40.     some connector. For example F('foo') + F('bar').
41.     """
42. 
43.     # Arithmetic connectors
44.     ADD = "+"
45.     SUB = "-"
46.     MUL = "*"
47.     DIV = "/"
48.     POW = "^"
49.     # The following is a quoted % operator - it is quoted because it can be
50.     # used in strings that also have parameter substitution.
51.     MOD = "%%"
52. 
53.     # Bitwise operators - note that these are generated by .bitand()
54.     # and .bitor(), the '&' and '|' are reserved for boolean operator
55.     # usage.
56.     BITAND = "&"
57.     BITOR = "|"
58.     BITLEFTSHIFT = "<<"
59.     BITRIGHTSHIFT = ">>"
60.     BITXOR = "#"
61. 
62.     def _combine(self, other, connector, reversed):
63.         if not hasattr(other, "resolve_expression"):
64.             # everything must be resolvable to an expression
65.             other = Value(other)
66. 
67.         if reversed:
68.             return CombinedExpression(other, connector, self)
69.         return CombinedExpression(self, connector, other)
70. 
71.     #############
72.     # OPERATORS #
73.     #############
74. 
75.     def __neg__(self):
76.         return self._combine(-1, self.MUL, False)
77. 
78.     def __add__(self, other):
79.         return self._combine(other, self.ADD, False)
80. 
81.     def __sub__(self, other):
82.         return self._combine(other, self.SUB, False)
83. 
84.     def __mul__(self, other):
85.         return self._combine(other, self.MUL, False)
86. 
87.     def __truediv__(self, other):
88.         return self._combine(other, self.DIV, False)
89. 
90.     def __mod__(self, other):
91.         return self._combine(other, self.MOD, False)
92. 
93.     def __pow__(self, other):
94.         return self._combine(other, self.POW, False)
95. 
96.     def __and__(self, other):
97.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
98.             return Q(self) & Q(other)
99.         raise NotImplementedError(
100.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
101.         )
102. 
103.     def bitand(self, other):
104.         return self._combine(other, self.BITAND, False)
105. 
106.     def bitleftshift(self, other):
107.         return self._combine(other, self.BITLEFTSHIFT, False)
108. 
109.     def bitrightshift(self, other):
110.         return self._combine(other, self.BITRIGHTSHIFT, False)
111. 
112.     def __xor__(self, other):
113.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
114.             return Q(self) ^ Q(other)
115.         raise NotImplementedError(
116.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
117.         )
118. 
119.     def bitxor(self, other):
120.         return self._combine(other, self.BITXOR, False)
121. 
122.     def __or__(self, other):
123.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
124.             return Q(self) | Q(other)
125.         raise NotImplementedError(
126.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
127.         )
128. 
129.     def bitor(self, other):
130.         return self._combine(other, self.BITOR, False)
131. 
132.     def __radd__(self, other):
133.         return self._combine(other, self.ADD, True)
134. 
135.     def __rsub__(self, other):
136.         return self._combine(other, self.SUB, True)
137. 
138.     def __rmul__(self, other):
139.         return self._combine(other, self.MUL, True)
140. 
141.     def __rtruediv__(self, other):
142.         return self._combine(other, self.DIV, True)
143. 
144.     def __rmod__(self, other):
145.         return self._combine(other, self.MOD, True)
146. 
147.     def __rpow__(self, other):
148.         return self._combine(other, self.POW, True)
149. 
150.     def __rand__(self, other):
151.         raise NotImplementedError(
152.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
153.         )
154. 
155.     def __ror__(self, other):
156.         raise NotImplementedError(
157.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
158.         )
159. 
160.     def __rxor__(self, other):
161.         raise NotImplementedError(
162.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
163.         )
164. 
165. 
166. class BaseExpression:
167.     """Base class for all query expressions."""
168. 
169.     empty_result_set_value = NotImplemented
170.     # aggregate specific fields
171.     is_summary = False
172.     _output_field_resolved_to_none = False
173.     # Can the expression be used in a WHERE clause?
174.     filterable = True
175.     # Can the expression can be used as a source expression in Window?
176.     window_compatible = False
177. 
178.     def __init__(self, output_field=None):
179.         if output_field is not None:
180.             self.output_field = output_field
181. 
182.     def __getstate__(self):
183.         state = self.__dict__.copy()
184.         state.pop("convert_value", None)
185.         return state
186. 
187.     def get_db_converters(self, connection):
188.         return (
189.             []
190.             if self.convert_value is self._convert_value_noop
191.             else [self.convert_value]
192.         ) + self.output_field.get_db_converters(connection)
193. 
194.     def get_source_expressions(self):
195.         return []
196. 
197.     def set_source_expressions(self, exprs):
198.         assert not exprs
199. 
200.     def _parse_expressions(self, *expressions):
201.         return [
202.             arg
203.             if hasattr(arg, "resolve_expression")
204.             else (F(arg) if isinstance(arg, str) else Value(arg))
205.             for arg in expressions
206.         ]
207. 
208.     def as_sql(self, compiler, connection):
209.         """
210.         Responsible for returning a (sql, [params]) tuple to be included
211.         in the current query.
212. 
213.         Different backends can provide their own implementation, by
214.         providing an `as_{vendor}` method and patching the Expression:
215. 
216.         ```
217.         def override_as_sql(self, compiler, connection):
218.             # custom logic
219.             return super().as_sql(compiler, connection)
220.         setattr(Expression, 'as_' + connection.vendor, override_as_sql)
221.         ```
222. 
223.         Arguments:
224.          * compiler: the query compiler responsible for generating the query.
225.            Must have a compile method, returning a (sql, [params]) tuple.
226.            Calling compiler(value) will return a quoted `value`.
227. 
228.          * connection: the database connection used for the current query.
229. 
230.         Return: (sql, params)
231.           Where `sql` is a string containing ordered sql parameters to be
232.           replaced with the elements of the list `params`.
233.         """
234.         raise NotImplementedError("Subclasses must implement as_sql()")
235. 
236.     @cached_property
237.     def contains_aggregate(self):
238.         return any(
239.             expr and expr.contains_aggregate for expr in self.get_source_expressions()
240.         )
241. 
242.     @cached_property
243.     def contains_over_clause(self):
244.         return any(
245.             expr and expr.contains_over_clause for expr in self.get_source_expressions()
246.         )
247. 
248.     @cached_property
249.     def contains_column_references(self):
250.         return any(
251.             expr and expr.contains_column_references
252.             for expr in self.get_source_expressions()
253.         )
254. 
255.     def resolve_expression(
256.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
257.     ):
258.         """
259.         Provide the chance to do any preprocessing or validation before being
260.         added to the query.
261. 
262.         Arguments:
263.          * query: the backend query implementation
264.          * allow_joins: boolean allowing or denying use of joins
265.            in this query
266.          * reuse: a set of reusable joins for multijoins
267.          * summarize: a terminal aggregate clause
268.          * for_save: whether this expression about to be used in a save or update
269. 
270.         Return: an Expression to be added to the query.
271.         """
272.         c = self.copy()
273.         c.is_summary = summarize
274.         c.set_source_expressions(
275.             [
276.                 expr.resolve_expression(query, allow_joins, reuse, summarize)
277.                 if expr
278.                 else None
279.                 for expr in c.get_source_expressions()
280.             ]
281.         )
282.         return c
283. 
284.     @property
285.     def conditional(self):
286.         return isinstance(self.output_field, fields.BooleanField)
287. 
288.     @property
289.     def field(self):
290.         return self.output_field
291. 
292.     @cached_property
293.     def output_field(self):
294.         """Return the output type of this expressions."""
295.         output_field = self._resolve_output_field()
296.         if output_field is None:
297.             self._output_field_resolved_to_none = True
298.             raise FieldError("Cannot resolve expression type, unknown output_field")
299.         return output_field
300. 
301.     @cached_property
302.     def _output_field_or_none(self):
303.         """
304.         Return the output field of this expression, or None if
305.         _resolve_output_field() didn't return an output type.
306.         """
307.         try:
308.             return self.output_field
309.         except FieldError:
310.             if not self._output_field_resolved_to_none:
311.                 raise
312. 
313.     def _resolve_output_field(self):
314.         """
315.         Attempt to infer the output type of the expression.
316. 
317.         As a guess, if the output fields of all source fields match then simply
318.         infer the same type here.
319. 
320.         If a source's output field resolves to None, exclude it from this check.
321.         If all sources are None, then an error is raised higher up the stack in
322.         the output_field property.
323.         """
324.         # This guess is mostly a bad idea, but there is quite a lot of code
325.         # (especially 3rd party Func subclasses) that depend on it, we'd need a
326.         # deprecation path to fix it.
327.         sources_iter = (
328.             source for source in self.get_source_fields() if source is not None
329.         )
330.         for output_field in sources_iter:
331.             for source in sources_iter:
332.                 if not isinstance(output_field, source.__class__):
333.                     raise FieldError(
334.                         "Expression contains mixed types: %s, %s. You must "
335.                         "set output_field."
336.                         % (
337.                             output_field.__class__.__name__,
338.                             source.__class__.__name__,
339.                         )
340.                     )
341.             return output_field
342. 
343.     @staticmethod
344.     def _convert_value_noop(value, expression, connection):
345.         return value
346. 
347.     @cached_property
348.     def convert_value(self):
349.         """
350.         Expressions provide their own converters because users have the option
351.         of manually specifying the output_field which may be a different type
352.         from the one the database returns.
353.         """
354.         field = self.output_field
355.         internal_type = field.get_internal_type()
356.         if internal_type == "FloatField":
357.             return (
358.                 lambda value, expression, connection: None
359.                 if value is None
360.                 else float(value)
361.             )
362.         elif internal_type.endswith("IntegerField"):
363.             return (
364.                 lambda value, expression, connection: None
365.                 if value is None
366.                 else int(value)
367.             )
368.         elif internal_type == "DecimalField":
369.             return (
370.                 lambda value, expression, connection: None
371.                 if value is None
372.                 else Decimal(value)
373.             )
374.         return self._convert_value_noop
375. 
376.     def get_lookup(self, lookup):
377.         return self.output_field.get_lookup(lookup)
378. 
379.     def get_transform(self, name):
380.         return self.output_field.get_transform(name)
381. 
382.     def relabeled_clone(self, change_map):
383.         clone = self.copy()
384.         clone.set_source_expressions(
385.             [
386.                 e.relabeled_clone(change_map) if e is not None else None
387.                 for e in self.get_source_expressions()
388.             ]
389.         )
390.         return clone
391. 
392.     def replace_references(self, references_map):
393.         clone = self.copy()
394.         clone.set_source_expressions(
395.             [
396.                 expr.replace_references(references_map)
397.                 for expr in self.get_source_expressions()
398.             ]
399.         )
400.         return clone
401. 
402.     def copy(self):
403.         return copy.copy(self)
404. 
405.     def prefix_references(self, prefix):
406.         clone = self.copy()
407.         clone.set_source_expressions(
408.             [
409.                 F(f"{prefix}{expr.name}")
410.                 if isinstance(expr, F)
411.                 else expr.prefix_references(prefix)
412.                 for expr in self.get_source_expressions()
413.             ]
414.         )
415.         return clone
416. 
417.     def get_group_by_cols(self, alias=None):
418.         if not self.contains_aggregate:
419.             return [self]
420.         cols = []
421.         for source in self.get_source_expressions():
422.             cols.extend(source.get_group_by_cols())
423.         return cols
424. 
425.     def get_source_fields(self):
426.         """Return the underlying field types used by this aggregate."""
427.         return [e._output_field_or_none for e in self.get_source_expressions()]
428. 
429.     def asc(self, **kwargs):
430.         return OrderBy(self, **kwargs)
431. 
432.     def desc(self, **kwargs):
433.         return OrderBy(self, descending=True, **kwargs)
434. 
435.     def reverse_ordering(self):
436.         return self
437. 
438.     def flatten(self):
439.         """
440.         Recursively yield this expression and all subexpressions, in
441.         depth-first order.
442.         """
443.         yield self
444.         for expr in self.get_source_expressions():
445.             if expr:
446.                 if hasattr(expr, "flatten"):
447.                     yield from expr.flatten()
448.                 else:
449.                     yield expr
450. 
451.     def select_format(self, compiler, sql, params):
452.         """
453.         Custom format for select clauses. For example, EXISTS expressions need
454.         to be wrapped in CASE WHEN on Oracle.
455.         """
456.         if hasattr(self.output_field, "select_format"):
457.             return self.output_field.select_format(compiler, sql, params)
458.         return sql, params
459. 
460. 
461. @deconstructible
462. class Expression(BaseExpression, Combinable):
463.     """An expression that can be combined with other expressions."""
464. 
465.     @cached_property
466.     def identity(self):
467.         constructor_signature = inspect.signature(self.__init__)
468.         args, kwargs = self._constructor_args
469.         signature = constructor_signature.bind_partial(*args, **kwargs)
470.         signature.apply_defaults()
471.         arguments = signature.arguments.items()
472.         identity = [self.__class__]
473.         for arg, value in arguments:
474.             if isinstance(value, fields.Field):
475.                 if value.name and value.model:
476.                     value = (value.model._meta.label, value.name)
477.                 else:
478.                     value = type(value)
479.             else:
480.                 value = make_hashable(value)
481.             identity.append((arg, value))
482.         return tuple(identity)
483. 
484.     def __eq__(self, other):
485.         if not isinstance(other, Expression):
486.             return NotImplemented
487.         return other.identity == self.identity
488. 
489.     def __hash__(self):
490.         return hash(self.identity)
491. 
492. 
493. # Type inference for CombinedExpression.output_field.
494. # Missing items will result in FieldError, by design.
495. #
496. # The current approach for NULL is based on lowest common denominator behavior
497. # i.e. if one of the supported databases is raising an error (rather than
498. # return NULL) for `val <op> NULL`, then Django raises FieldError.
499. NoneType = type(None)
500.


File: django/db/models/expressions.py
Line number range: 501 - 1500
Content:
501. _connector_combinations = [
502.     # Numeric operations - operands of same type.
503.     {
504.         connector: [
505.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
506.             (fields.FloatField, fields.FloatField, fields.FloatField),
507.             (fields.DecimalField, fields.DecimalField, fields.DecimalField),
508.         ]
509.         for connector in (
510.             Combinable.ADD,
511.             Combinable.SUB,
512.             Combinable.MUL,
513.             # Behavior for DIV with integer arguments follows Postgres/SQLite,
514.             # not MySQL/Oracle.
515.             Combinable.DIV,
516.             Combinable.MOD,
517.             Combinable.POW,
518.         )
519.     },
520.     # Numeric operations - operands of different type.
521.     {
522.         connector: [
523.             (fields.IntegerField, fields.DecimalField, fields.DecimalField),
524.             (fields.DecimalField, fields.IntegerField, fields.DecimalField),
525.             (fields.IntegerField, fields.FloatField, fields.FloatField),
526.             (fields.FloatField, fields.IntegerField, fields.FloatField),
527.         ]
528.         for connector in (
529.             Combinable.ADD,
530.             Combinable.SUB,
531.             Combinable.MUL,
532.             Combinable.DIV,
533.         )
534.     },
535.     # Bitwise operators.
536.     {
537.         connector: [
538.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
539.         ]
540.         for connector in (
541.             Combinable.BITAND,
542.             Combinable.BITOR,
543.             Combinable.BITLEFTSHIFT,
544.             Combinable.BITRIGHTSHIFT,
545.             Combinable.BITXOR,
546.         )
547.     },
548.     # Numeric with NULL.
549.     {
550.         connector: [
551.             (field_type, NoneType, field_type),
552.             (NoneType, field_type, field_type),
553.         ]
554.         for connector in (
555.             Combinable.ADD,
556.             Combinable.SUB,
557.             Combinable.MUL,
558.             Combinable.DIV,
559.             Combinable.MOD,
560.             Combinable.POW,
561.         )
562.         for field_type in (fields.IntegerField, fields.DecimalField, fields.FloatField)
563.     },
564.     # Date/DateTimeField/DurationField/TimeField.
565.     {
566.         Combinable.ADD: [
567.             # Date/DateTimeField.
568.             (fields.DateField, fields.DurationField, fields.DateTimeField),
569.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
570.             (fields.DurationField, fields.DateField, fields.DateTimeField),
571.             (fields.DurationField, fields.DateTimeField, fields.DateTimeField),
572.             # DurationField.
573.             (fields.DurationField, fields.DurationField, fields.DurationField),
574.             # TimeField.
575.             (fields.TimeField, fields.DurationField, fields.TimeField),
576.             (fields.DurationField, fields.TimeField, fields.TimeField),
577.         ],
578.     },
579.     {
580.         Combinable.SUB: [
581.             # Date/DateTimeField.
582.             (fields.DateField, fields.DurationField, fields.DateTimeField),
583.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
584.             (fields.DateField, fields.DateField, fields.DurationField),
585.             (fields.DateField, fields.DateTimeField, fields.DurationField),
586.             (fields.DateTimeField, fields.DateField, fields.DurationField),
587.             (fields.DateTimeField, fields.DateTimeField, fields.DurationField),
588.             # DurationField.
589.             (fields.DurationField, fields.DurationField, fields.DurationField),
590.             # TimeField.
591.             (fields.TimeField, fields.DurationField, fields.TimeField),
592.             (fields.TimeField, fields.TimeField, fields.DurationField),
593.         ],
594.     },
595. ]
596. 
597. _connector_combinators = defaultdict(list)
598. 
599. 
600. def register_combinable_fields(lhs, connector, rhs, result):
601.     """
602.     Register combinable types:
603.         lhs <connector> rhs -> result
604.     e.g.
605.         register_combinable_fields(
606.             IntegerField, Combinable.ADD, FloatField, FloatField
607.         )
608.     """
609.     _connector_combinators[connector].append((lhs, rhs, result))
610. 
611. 
612. for d in _connector_combinations:
613.     for connector, field_types in d.items():
614.         for lhs, rhs, result in field_types:
615.             register_combinable_fields(lhs, connector, rhs, result)
616. 
617. 
618. @functools.lru_cache(maxsize=128)
619. def _resolve_combined_type(connector, lhs_type, rhs_type):
620.     combinators = _connector_combinators.get(connector, ())
621.     for combinator_lhs_type, combinator_rhs_type, combined_type in combinators:
622.         if issubclass(lhs_type, combinator_lhs_type) and issubclass(
623.             rhs_type, combinator_rhs_type
624.         ):
625.             return combined_type
626. 
627. 
628. class CombinedExpression(SQLiteNumericMixin, Expression):
629.     def __init__(self, lhs, connector, rhs, output_field=None):
630.         super().__init__(output_field=output_field)
631.         self.connector = connector
632.         self.lhs = lhs
633.         self.rhs = rhs
634. 
635.     def __repr__(self):
636.         return "<{}: {}>".format(self.__class__.__name__, self)
637. 
638.     def __str__(self):
639.         return "{} {} {}".format(self.lhs, self.connector, self.rhs)
640. 
641.     def get_source_expressions(self):
642.         return [self.lhs, self.rhs]
643. 
644.     def set_source_expressions(self, exprs):
645.         self.lhs, self.rhs = exprs
646. 
647.     def _resolve_output_field(self):
648.         # We avoid using super() here for reasons given in
649.         # Expression._resolve_output_field()
650.         combined_type = _resolve_combined_type(
651.             self.connector,
652.             type(self.lhs._output_field_or_none),
653.             type(self.rhs._output_field_or_none),
654.         )
655.         if combined_type is None:
656.             raise FieldError(
657.                 f"Cannot infer type of {self.connector!r} expression involving these "
658.                 f"types: {self.lhs.output_field.__class__.__name__}, "
659.                 f"{self.rhs.output_field.__class__.__name__}. You must set "
660.                 f"output_field."
661.             )
662.         return combined_type()
663. 
664.     def as_sql(self, compiler, connection):
665.         expressions = []
666.         expression_params = []
667.         sql, params = compiler.compile(self.lhs)
668.         expressions.append(sql)
669.         expression_params.extend(params)
670.         sql, params = compiler.compile(self.rhs)
671.         expressions.append(sql)
672.         expression_params.extend(params)
673.         # order of precedence
674.         expression_wrapper = "(%s)"
675.         sql = connection.ops.combine_expression(self.connector, expressions)
676.         return expression_wrapper % sql, expression_params
677. 
678.     def resolve_expression(
679.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
680.     ):
681.         lhs = self.lhs.resolve_expression(
682.             query, allow_joins, reuse, summarize, for_save
683.         )
684.         rhs = self.rhs.resolve_expression(
685.             query, allow_joins, reuse, summarize, for_save
686.         )
687.         if not isinstance(self, (DurationExpression, TemporalSubtraction)):
688.             try:
689.                 lhs_type = lhs.output_field.get_internal_type()
690.             except (AttributeError, FieldError):
691.                 lhs_type = None
692.             try:
693.                 rhs_type = rhs.output_field.get_internal_type()
694.             except (AttributeError, FieldError):
695.                 rhs_type = None
696.             if "DurationField" in {lhs_type, rhs_type} and lhs_type != rhs_type:
697.                 return DurationExpression(
698.                     self.lhs, self.connector, self.rhs
699.                 ).resolve_expression(
700.                     query,
701.                     allow_joins,
702.                     reuse,
703.                     summarize,
704.                     for_save,
705.                 )
706.             datetime_fields = {"DateField", "DateTimeField", "TimeField"}
707.             if (
708.                 self.connector == self.SUB
709.                 and lhs_type in datetime_fields
710.                 and lhs_type == rhs_type
711.             ):
712.                 return TemporalSubtraction(self.lhs, self.rhs).resolve_expression(
713.                     query,
714.                     allow_joins,
715.                     reuse,
716.                     summarize,
717.                     for_save,
718.                 )
719.         c = self.copy()
720.         c.is_summary = summarize
721.         c.lhs = lhs
722.         c.rhs = rhs
723.         return c
724. 
725. 
726. class DurationExpression(CombinedExpression):
727.     def compile(self, side, compiler, connection):
728.         try:
729.             output = side.output_field
730.         except FieldError:
731.             pass
732.         else:
733.             if output.get_internal_type() == "DurationField":
734.                 sql, params = compiler.compile(side)
735.                 return connection.ops.format_for_duration_arithmetic(sql), params
736.         return compiler.compile(side)
737. 
738.     def as_sql(self, compiler, connection):
739.         if connection.features.has_native_duration_field:
740.             return super().as_sql(compiler, connection)
741.         connection.ops.check_expression_support(self)
742.         expressions = []
743.         expression_params = []
744.         sql, params = self.compile(self.lhs, compiler, connection)
745.         expressions.append(sql)
746.         expression_params.extend(params)
747.         sql, params = self.compile(self.rhs, compiler, connection)
748.         expressions.append(sql)
749.         expression_params.extend(params)
750.         # order of precedence
751.         expression_wrapper = "(%s)"
752.         sql = connection.ops.combine_duration_expression(self.connector, expressions)
753.         return expression_wrapper % sql, expression_params
754. 
755.     def as_sqlite(self, compiler, connection, **extra_context):
756.         sql, params = self.as_sql(compiler, connection, **extra_context)
757.         if self.connector in {Combinable.MUL, Combinable.DIV}:
758.             try:
759.                 lhs_type = self.lhs.output_field.get_internal_type()
760.                 rhs_type = self.rhs.output_field.get_internal_type()
761.             except (AttributeError, FieldError):
762.                 pass
763.             else:
764.                 allowed_fields = {
765.                     "DecimalField",
766.                     "DurationField",
767.                     "FloatField",
768.                     "IntegerField",
769.                 }
770.                 if lhs_type not in allowed_fields or rhs_type not in allowed_fields:
771.                     raise DatabaseError(
772.                         f"Invalid arguments for operator {self.connector}."
773.                     )
774.         return sql, params
775. 
776. 
777. class TemporalSubtraction(CombinedExpression):
778.     output_field = fields.DurationField()
779. 
780.     def __init__(self, lhs, rhs):
781.         super().__init__(lhs, self.SUB, rhs)
782. 
783.     def as_sql(self, compiler, connection):
784.         connection.ops.check_expression_support(self)
785.         lhs = compiler.compile(self.lhs)
786.         rhs = compiler.compile(self.rhs)
787.         return connection.ops.subtract_temporals(
788.             self.lhs.output_field.get_internal_type(), lhs, rhs
789.         )
790. 
791. 
792. @deconstructible(path="django.db.models.F")
793. class F(Combinable):
794.     """An object capable of resolving references to existing query objects."""
795. 
796.     def __init__(self, name):
797.         """
798.         Arguments:
799.          * name: the name of the field this expression references
800.         """
801.         self.name = name
802. 
803.     def __repr__(self):
804.         return "{}({})".format(self.__class__.__name__, self.name)
805. 
806.     def resolve_expression(
807.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
808.     ):
809.         return query.resolve_ref(self.name, allow_joins, reuse, summarize)
810. 
811.     def replace_references(self, references_map):
812.         return references_map.get(self.name, self)
813. 
814.     def asc(self, **kwargs):
815.         return OrderBy(self, **kwargs)
816. 
817.     def desc(self, **kwargs):
818.         return OrderBy(self, descending=True, **kwargs)
819. 
820.     def __eq__(self, other):
821.         return self.__class__ == other.__class__ and self.name == other.name
822. 
823.     def __hash__(self):
824.         return hash(self.name)
825. 
826. 
827. class ResolvedOuterRef(F):
828.     """
829.     An object that contains a reference to an outer query.
830. 
831.     In this case, the reference to the outer query has been resolved because
832.     the inner query has been used as a subquery.
833.     """
834. 
835.     contains_aggregate = False
836. 
837.     def as_sql(self, *args, **kwargs):
838.         raise ValueError(
839.             "This queryset contains a reference to an outer query and may "
840.             "only be used in a subquery."
841.         )
842. 
843.     def resolve_expression(self, *args, **kwargs):
844.         col = super().resolve_expression(*args, **kwargs)
845.         # FIXME: Rename possibly_multivalued to multivalued and fix detection
846.         # for non-multivalued JOINs (e.g. foreign key fields). This should take
847.         # into account only many-to-many and one-to-many relationships.
848.         col.possibly_multivalued = LOOKUP_SEP in self.name
849.         return col
850. 
851.     def relabeled_clone(self, relabels):
852.         return self
853. 
854.     def get_group_by_cols(self, alias=None):
855.         return []
856. 
857. 
858. class OuterRef(F):
859.     contains_aggregate = False
860. 
861.     def resolve_expression(self, *args, **kwargs):
862.         if isinstance(self.name, self.__class__):
863.             return self.name
864.         return ResolvedOuterRef(self.name)
865. 
866.     def relabeled_clone(self, relabels):
867.         return self
868. 
869. 
870. @deconstructible(path="django.db.models.Func")
871. class Func(SQLiteNumericMixin, Expression):
872.     """An SQL function call."""
873. 
874.     function = None
875.     template = "%(function)s(%(expressions)s)"
876.     arg_joiner = ", "
877.     arity = None  # The number of arguments the function accepts.
878. 
879.     def __init__(self, *expressions, output_field=None, **extra):
880.         if self.arity is not None and len(expressions) != self.arity:
881.             raise TypeError(
882.                 "'%s' takes exactly %s %s (%s given)"
883.                 % (
884.                     self.__class__.__name__,
885.                     self.arity,
886.                     "argument" if self.arity == 1 else "arguments",
887.                     len(expressions),
888.                 )
889.             )
890.         super().__init__(output_field=output_field)
891.         self.source_expressions = self._parse_expressions(*expressions)
892.         self.extra = extra
893. 
894.     def __repr__(self):
895.         args = self.arg_joiner.join(str(arg) for arg in self.source_expressions)
896.         extra = {**self.extra, **self._get_repr_options()}
897.         if extra:
898.             extra = ", ".join(
899.                 str(key) + "=" + str(val) for key, val in sorted(extra.items())
900.             )
901.             return "{}({}, {})".format(self.__class__.__name__, args, extra)
902.         return "{}({})".format(self.__class__.__name__, args)
903. 
904.     def _get_repr_options(self):
905.         """Return a dict of extra __init__() options to include in the repr."""
906.         return {}
907. 
908.     def get_source_expressions(self):
909.         return self.source_expressions
910. 
911.     def set_source_expressions(self, exprs):
912.         self.source_expressions = exprs
913. 
914.     def resolve_expression(
915.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
916.     ):
917.         c = self.copy()
918.         c.is_summary = summarize
919.         for pos, arg in enumerate(c.source_expressions):
920.             c.source_expressions[pos] = arg.resolve_expression(
921.                 query, allow_joins, reuse, summarize, for_save
922.             )
923.         return c
924. 
925.     def as_sql(
926.         self,
927.         compiler,
928.         connection,
929.         function=None,
930.         template=None,
931.         arg_joiner=None,
932.         **extra_context,
933.     ):
934.         connection.ops.check_expression_support(self)
935.         sql_parts = []
936.         params = []
937.         for arg in self.source_expressions:
938.             try:
939.                 arg_sql, arg_params = compiler.compile(arg)
940.             except EmptyResultSet:
941.                 empty_result_set_value = getattr(
942.                     arg, "empty_result_set_value", NotImplemented
943.                 )
944.                 if empty_result_set_value is NotImplemented:
945.                     raise
946.                 arg_sql, arg_params = compiler.compile(Value(empty_result_set_value))
947.             sql_parts.append(arg_sql)
948.             params.extend(arg_params)
949.         data = {**self.extra, **extra_context}
950.         # Use the first supplied value in this order: the parameter to this
951.         # method, a value supplied in __init__()'s **extra (the value in
952.         # `data`), or the value defined on the class.
953.         if function is not None:
954.             data["function"] = function
955.         else:
956.             data.setdefault("function", self.function)
957.         template = template or data.get("template", self.template)
958.         arg_joiner = arg_joiner or data.get("arg_joiner", self.arg_joiner)
959.         data["expressions"] = data["field"] = arg_joiner.join(sql_parts)
960.         return template % data, params
961. 
962.     def copy(self):
963.         copy = super().copy()
964.         copy.source_expressions = self.source_expressions[:]
965.         copy.extra = self.extra.copy()
966.         return copy
967. 
968. 
969. @deconstructible(path="django.db.models.Value")
970. class Value(SQLiteNumericMixin, Expression):
971.     """Represent a wrapped value as a node within an expression."""
972. 
973.     # Provide a default value for `for_save` in order to allow unresolved
974.     # instances to be compiled until a decision is taken in #25425.
975.     for_save = False
976. 
977.     def __init__(self, value, output_field=None):
978.         """
979.         Arguments:
980.          * value: the value this expression represents. The value will be
981.            added into the sql parameter list and properly quoted.
982. 
983.          * output_field: an instance of the model field type that this
984.            expression will return, such as IntegerField() or CharField().
985.         """
986.         super().__init__(output_field=output_field)
987.         self.value = value
988. 
989.     def __repr__(self):
990.         return f"{self.__class__.__name__}({self.value!r})"
991. 
992.     def as_sql(self, compiler, connection):
993.         connection.ops.check_expression_support(self)
994.         val = self.value
995.         output_field = self._output_field_or_none
996.         if output_field is not None:
997.             if self.for_save:
998.                 val = output_field.get_db_prep_save(val, connection=connection)
999.             else:
1000.                 val = output_field.get_db_prep_value(val, connection=connection)
1001.             if hasattr(output_field, "get_placeholder"):
1002.                 return output_field.get_placeholder(val, compiler, connection), [val]
1003.         if val is None:
1004.             # cx_Oracle does not always convert None to the appropriate
1005.             # NULL type (like in case expressions using numbers), so we
1006.             # use a literal SQL NULL
1007.             return "NULL", []
1008.         return "%s", [val]
1009. 
1010.     def resolve_expression(
1011.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1012.     ):
1013.         c = super().resolve_expression(query, allow_joins, reuse, summarize, for_save)
1014.         c.for_save = for_save
1015.         return c
1016. 
1017.     def get_group_by_cols(self, alias=None):
1018.         return []
1019. 
1020.     def _resolve_output_field(self):
1021.         if isinstance(self.value, str):
1022.             return fields.CharField()
1023.         if isinstance(self.value, bool):
1024.             return fields.BooleanField()
1025.         if isinstance(self.value, int):
1026.             return fields.IntegerField()
1027.         if isinstance(self.value, float):
1028.             return fields.FloatField()
1029.         if isinstance(self.value, datetime.datetime):
1030.             return fields.DateTimeField()
1031.         if isinstance(self.value, datetime.date):
1032.             return fields.DateField()
1033.         if isinstance(self.value, datetime.time):
1034.             return fields.TimeField()
1035.         if isinstance(self.value, datetime.timedelta):
1036.             return fields.DurationField()
1037.         if isinstance(self.value, Decimal):
1038.             return fields.DecimalField()
1039.         if isinstance(self.value, bytes):
1040.             return fields.BinaryField()
1041.         if isinstance(self.value, UUID):
1042.             return fields.UUIDField()
1043. 
1044.     @property
1045.     def empty_result_set_value(self):
1046.         return self.value
1047. 
1048. 
1049. class RawSQL(Expression):
1050.     def __init__(self, sql, params, output_field=None):
1051.         if output_field is None:
1052.             output_field = fields.Field()
1053.         self.sql, self.params = sql, params
1054.         super().__init__(output_field=output_field)
1055. 
1056.     def __repr__(self):
1057.         return "{}({}, {})".format(self.__class__.__name__, self.sql, self.params)
1058. 
1059.     def as_sql(self, compiler, connection):
1060.         return "(%s)" % self.sql, self.params
1061. 
1062.     def get_group_by_cols(self, alias=None):
1063.         return [self]
1064. 
1065.     def resolve_expression(
1066.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1067.     ):
1068.         # Resolve parents fields used in raw SQL.
1069.         if query.model:
1070.             for parent in query.model._meta.get_parent_list():
1071.                 for parent_field in parent._meta.local_fields:
1072.                     _, column_name = parent_field.get_attname_column()
1073.                     if column_name.lower() in self.sql.lower():
1074.                         query.resolve_ref(
1075.                             parent_field.name, allow_joins, reuse, summarize
1076.                         )
1077.                         break
1078.         return super().resolve_expression(
1079.             query, allow_joins, reuse, summarize, for_save
1080.         )
1081. 
1082. 
1083. class Star(Expression):
1084.     def __repr__(self):
1085.         return "'*'"
1086. 
1087.     def as_sql(self, compiler, connection):
1088.         return "*", []
1089. 
1090. 
1091. class Col(Expression):
1092. 
1093.     contains_column_references = True
1094.     possibly_multivalued = False
1095. 
1096.     def __init__(self, alias, target, output_field=None):
1097.         if output_field is None:
1098.             output_field = target
1099.         super().__init__(output_field=output_field)
1100.         self.alias, self.target = alias, target
1101. 
1102.     def __repr__(self):
1103.         alias, target = self.alias, self.target
1104.         identifiers = (alias, str(target)) if alias else (str(target),)
1105.         return "{}({})".format(self.__class__.__name__, ", ".join(identifiers))
1106. 
1107.     def as_sql(self, compiler, connection):
1108.         alias, column = self.alias, self.target.column
1109.         identifiers = (alias, column) if alias else (column,)
1110.         sql = ".".join(map(compiler.quote_name_unless_alias, identifiers))
1111.         return sql, []
1112. 
1113.     def relabeled_clone(self, relabels):
1114.         if self.alias is None:
1115.             return self
1116.         return self.__class__(
1117.             relabels.get(self.alias, self.alias), self.target, self.output_field
1118.         )
1119. 
1120.     def get_group_by_cols(self, alias=None):
1121.         return [self]
1122. 
1123.     def get_db_converters(self, connection):
1124.         if self.target == self.output_field:
1125.             return self.output_field.get_db_converters(connection)
1126.         return self.output_field.get_db_converters(
1127.             connection
1128.         ) + self.target.get_db_converters(connection)
1129. 
1130. 
1131. class Ref(Expression):
1132.     """
1133.     Reference to column alias of the query. For example, Ref('sum_cost') in
1134.     qs.annotate(sum_cost=Sum('cost')) query.
1135.     """
1136. 
1137.     def __init__(self, refs, source):
1138.         super().__init__()
1139.         self.refs, self.source = refs, source
1140. 
1141.     def __repr__(self):
1142.         return "{}({}, {})".format(self.__class__.__name__, self.refs, self.source)
1143. 
1144.     def get_source_expressions(self):
1145.         return [self.source]
1146. 
1147.     def set_source_expressions(self, exprs):
1148.         (self.source,) = exprs
1149. 
1150.     def resolve_expression(
1151.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1152.     ):
1153.         # The sub-expression `source` has already been resolved, as this is
1154.         # just a reference to the name of `source`.
1155.         return self
1156. 
1157.     def relabeled_clone(self, relabels):
1158.         return self
1159. 
1160.     def as_sql(self, compiler, connection):
1161.         return connection.ops.quote_name(self.refs), []
1162. 
1163.     def get_group_by_cols(self, alias=None):
1164.         return [self]
1165. 
1166. 
1167. class ExpressionList(Func):
1168.     """
1169.     An expression containing multiple expressions. Can be used to provide a
1170.     list of expressions as an argument to another expression, like a partition
1171.     clause.
1172.     """
1173. 
1174.     template = "%(expressions)s"
1175. 
1176.     def __init__(self, *expressions, **extra):
1177.         if not expressions:
1178.             raise ValueError(
1179.                 "%s requires at least one expression." % self.__class__.__name__
1180.             )
1181.         super().__init__(*expressions, **extra)
1182. 
1183.     def __str__(self):
1184.         return self.arg_joiner.join(str(arg) for arg in self.source_expressions)
1185. 
1186.     def as_sqlite(self, compiler, connection, **extra_context):
1187.         # Casting to numeric is unnecessary.
1188.         return self.as_sql(compiler, connection, **extra_context)
1189. 
1190. 
1191. class OrderByList(Func):
1192.     template = "ORDER BY %(expressions)s"
1193. 
1194.     def __init__(self, *expressions, **extra):
1195.         expressions = (
1196.             (
1197.                 OrderBy(F(expr[1:]), descending=True)
1198.                 if isinstance(expr, str) and expr[0] == "-"
1199.                 else expr
1200.             )
1201.             for expr in expressions
1202.         )
1203.         super().__init__(*expressions, **extra)
1204. 
1205.     def as_sql(self, *args, **kwargs):
1206.         if not self.source_expressions:
1207.             return "", ()
1208.         return super().as_sql(*args, **kwargs)
1209. 
1210. 
1211. @deconstructible(path="django.db.models.ExpressionWrapper")
1212. class ExpressionWrapper(SQLiteNumericMixin, Expression):
1213.     """
1214.     An expression that can wrap another expression so that it can provide
1215.     extra context to the inner expression, such as the output_field.
1216.     """
1217. 
1218.     def __init__(self, expression, output_field):
1219.         super().__init__(output_field=output_field)
1220.         self.expression = expression
1221. 
1222.     def set_source_expressions(self, exprs):
1223.         self.expression = exprs[0]
1224. 
1225.     def get_source_expressions(self):
1226.         return [self.expression]
1227. 
1228.     def get_group_by_cols(self, alias=None):
1229.         if isinstance(self.expression, Expression):
1230.             expression = self.expression.copy()
1231.             expression.output_field = self.output_field
1232.             return expression.get_group_by_cols(alias=alias)
1233.         # For non-expressions e.g. an SQL WHERE clause, the entire
1234.         # `expression` must be included in the GROUP BY clause.
1235.         return super().get_group_by_cols()
1236. 
1237.     def as_sql(self, compiler, connection):
1238.         return compiler.compile(self.expression)
1239. 
1240.     def __repr__(self):
1241.         return "{}({})".format(self.__class__.__name__, self.expression)
1242. 
1243. 
1244. @deconstructible(path="django.db.models.When")
1245. class When(Expression):
1246.     template = "WHEN %(condition)s THEN %(result)s"
1247.     # This isn't a complete conditional expression, must be used in Case().
1248.     conditional = False
1249. 
1250.     def __init__(self, condition=None, then=None, **lookups):
1251.         if lookups:
1252.             if condition is None:
1253.                 condition, lookups = Q(**lookups), None
1254.             elif getattr(condition, "conditional", False):
1255.                 condition, lookups = Q(condition, **lookups), None
1256.         if condition is None or not getattr(condition, "conditional", False) or lookups:
1257.             raise TypeError(
1258.                 "When() supports a Q object, a boolean expression, or lookups "
1259.                 "as a condition."
1260.             )
1261.         if isinstance(condition, Q) and not condition:
1262.             raise ValueError("An empty Q() can't be used as a When() condition.")
1263.         super().__init__(output_field=None)
1264.         self.condition = condition
1265.         self.result = self._parse_expressions(then)[0]
1266. 
1267.     def __str__(self):
1268.         return "WHEN %r THEN %r" % (self.condition, self.result)
1269. 
1270.     def __repr__(self):
1271.         return "<%s: %s>" % (self.__class__.__name__, self)
1272. 
1273.     def get_source_expressions(self):
1274.         return [self.condition, self.result]
1275. 
1276.     def set_source_expressions(self, exprs):
1277.         self.condition, self.result = exprs
1278. 
1279.     def get_source_fields(self):
1280.         # We're only interested in the fields of the result expressions.
1281.         return [self.result._output_field_or_none]
1282. 
1283.     def resolve_expression(
1284.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1285.     ):
1286.         c = self.copy()
1287.         c.is_summary = summarize
1288.         if hasattr(c.condition, "resolve_expression"):
1289.             c.condition = c.condition.resolve_expression(
1290.                 query, allow_joins, reuse, summarize, False
1291.             )
1292.         c.result = c.result.resolve_expression(
1293.             query, allow_joins, reuse, summarize, for_save
1294.         )
1295.         return c
1296. 
1297.     def as_sql(self, compiler, connection, template=None, **extra_context):
1298.         connection.ops.check_expression_support(self)
1299.         template_params = extra_context
1300.         sql_params = []
1301.         condition_sql, condition_params = compiler.compile(self.condition)
1302.         template_params["condition"] = condition_sql
1303.         sql_params.extend(condition_params)
1304.         result_sql, result_params = compiler.compile(self.result)
1305.         template_params["result"] = result_sql
1306.         sql_params.extend(result_params)
1307.         template = template or self.template
1308.         return template % template_params, sql_params
1309. 
1310.     def get_group_by_cols(self, alias=None):
1311.         # This is not a complete expression and cannot be used in GROUP BY.
1312.         cols = []
1313.         for source in self.get_source_expressions():
1314.             cols.extend(source.get_group_by_cols())
1315.         return cols
1316. 
1317. 
1318. @deconstructible(path="django.db.models.Case")
1319. class Case(SQLiteNumericMixin, Expression):
1320.     """
1321.     An SQL searched CASE expression:
1322. 
1323.         CASE
1324.             WHEN n > 0
1325.                 THEN 'positive'
1326.             WHEN n < 0
1327.                 THEN 'negative'
1328.             ELSE 'zero'
1329.         END
1330.     """
1331. 
1332.     template = "CASE %(cases)s ELSE %(default)s END"
1333.     case_joiner = " "
1334. 
1335.     def __init__(self, *cases, default=None, output_field=None, **extra):
1336.         if not all(isinstance(case, When) for case in cases):
1337.             raise TypeError("Positional arguments must all be When objects.")
1338.         super().__init__(output_field)
1339.         self.cases = list(cases)
1340.         self.default = self._parse_expressions(default)[0]
1341.         self.extra = extra
1342. 
1343.     def __str__(self):
1344.         return "CASE %s, ELSE %r" % (
1345.             ", ".join(str(c) for c in self.cases),
1346.             self.default,
1347.         )
1348. 
1349.     def __repr__(self):
1350.         return "<%s: %s>" % (self.__class__.__name__, self)
1351. 
1352.     def get_source_expressions(self):
1353.         return self.cases + [self.default]
1354. 
1355.     def set_source_expressions(self, exprs):
1356.         *self.cases, self.default = exprs
1357. 
1358.     def resolve_expression(
1359.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1360.     ):
1361.         c = self.copy()
1362.         c.is_summary = summarize
1363.         for pos, case in enumerate(c.cases):
1364.             c.cases[pos] = case.resolve_expression(
1365.                 query, allow_joins, reuse, summarize, for_save
1366.             )
1367.         c.default = c.default.resolve_expression(
1368.             query, allow_joins, reuse, summarize, for_save
1369.         )
1370.         return c
1371. 
1372.     def copy(self):
1373.         c = super().copy()
1374.         c.cases = c.cases[:]
1375.         return c
1376. 
1377.     def as_sql(
1378.         self, compiler, connection, template=None, case_joiner=None, **extra_context
1379.     ):
1380.         connection.ops.check_expression_support(self)
1381.         if not self.cases:
1382.             return compiler.compile(self.default)
1383.         template_params = {**self.extra, **extra_context}
1384.         case_parts = []
1385.         sql_params = []
1386.         for case in self.cases:
1387.             try:
1388.                 case_sql, case_params = compiler.compile(case)
1389.             except EmptyResultSet:
1390.                 continue
1391.             case_parts.append(case_sql)
1392.             sql_params.extend(case_params)
1393.         default_sql, default_params = compiler.compile(self.default)
1394.         if not case_parts:
1395.             return default_sql, default_params
1396.         case_joiner = case_joiner or self.case_joiner
1397.         template_params["cases"] = case_joiner.join(case_parts)
1398.         template_params["default"] = default_sql
1399.         sql_params.extend(default_params)
1400.         template = template or template_params.get("template", self.template)
1401.         sql = template % template_params
1402.         if self._output_field_or_none is not None:
1403.             sql = connection.ops.unification_cast_sql(self.output_field) % sql
1404.         return sql, sql_params
1405. 
1406.     def get_group_by_cols(self, alias=None):
1407.         if not self.cases:
1408.             return self.default.get_group_by_cols(alias)
1409.         return super().get_group_by_cols(alias)
1410. 
1411. 
1412. class Subquery(BaseExpression, Combinable):
1413.     """
1414.     An explicit subquery. It may contain OuterRef() references to the outer
1415.     query which will be resolved when it is applied to that query.
1416.     """
1417. 
1418.     template = "(%(subquery)s)"
1419.     contains_aggregate = False
1420.     empty_result_set_value = None
1421. 
1422.     def __init__(self, queryset, output_field=None, **extra):
1423.         # Allow the usage of both QuerySet and sql.Query objects.
1424.         self.query = getattr(queryset, "query", queryset).clone()
1425.         self.query.subquery = True
1426.         self.extra = extra
1427.         super().__init__(output_field)
1428. 
1429.     def get_source_expressions(self):
1430.         return [self.query]
1431. 
1432.     def set_source_expressions(self, exprs):
1433.         self.query = exprs[0]
1434. 
1435.     def _resolve_output_field(self):
1436.         return self.query.output_field
1437. 
1438.     def copy(self):
1439.         clone = super().copy()
1440.         clone.query = clone.query.clone()
1441.         return clone
1442. 
1443.     @property
1444.     def external_aliases(self):
1445.         return self.query.external_aliases
1446. 
1447.     def get_external_cols(self):
1448.         return self.query.get_external_cols()
1449. 
1450.     def as_sql(self, compiler, connection, template=None, query=None, **extra_context):
1451.         connection.ops.check_expression_support(self)
1452.         template_params = {**self.extra, **extra_context}
1453.         query = query or self.query
1454.         subquery_sql, sql_params = query.as_sql(compiler, connection)
1455.         template_params["subquery"] = subquery_sql[1:-1]
1456. 
1457.         template = template or template_params.get("template", self.template)
1458.         sql = template % template_params
1459.         return sql, sql_params
1460. 
1461.     def get_group_by_cols(self, alias=None):
1462.         # If this expression is referenced by an alias for an explicit GROUP BY
1463.         # through values() a reference to this expression and not the
1464.         # underlying .query must be returned to ensure external column
1465.         # references are not grouped against as well.
1466.         if alias:
1467.             return [Ref(alias, self)]
1468.         return self.query.get_group_by_cols()
1469. 
1470. 
1471. class Exists(Subquery):
1472.     template = "EXISTS(%(subquery)s)"
1473.     output_field = fields.BooleanField()
1474. 
1475.     def __init__(self, queryset, negated=False, **kwargs):
1476.         self.negated = negated
1477.         super().__init__(queryset, **kwargs)
1478. 
1479.     def __invert__(self):
1480.         clone = self.copy()
1481.         clone.negated = not self.negated
1482.         return clone
1483. 
1484.     def as_sql(self, compiler, connection, template=None, **extra_context):
1485.         query = self.query.exists(using=connection.alias)
1486.         try:
1487.             sql, params = super().as_sql(
1488.                 compiler,
1489.                 connection,
1490.                 template=template,
1491.                 query=query,
1492.                 **extra_context,
1493.             )
1494.         except EmptyResultSet:
1495.             if self.negated:
1496.                 features = compiler.connection.features
1497.                 if not features.supports_boolean_expr_in_select_clause:
1498.                     return "1=1", ()
1499.                 return compiler.compile(Value(True))
1500.             raise

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 08:08:02,170 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly asked for the full content of the file `django/db/models/expressions.py`.\n\n2. Extended relevance:\n   - The user's stated purpose is to examine the `Case` and `When` expressions within this file. The full file content is necessary to understand the implementation of these classes, their helper classes, and how they are compiled into SQL. The provided context covers lines 1-1500 of the file, which fulfills the user's request.", relative_path='django/db/models/expressions.py', start_line=1, end_line=1500)]
2025-12-21 08:08:02,173 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `django/db/models/expressions.py`.
2025-12-21 08:08:02,173 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 08:08:02,173 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 08:08:02,173 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-21 08:08:02,173 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-21 08:08:02,174 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── async_queryset
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Case() crashes with ~Q(pk__in=[]).

Description: Description
	
The following code generates a syntax error. 
User.objects.annotate(
	_a=Case(
		When(~Q(pk__in=[]), then=Value(True)),
		default=Value(False),
		output_field=BooleanField(),
	)
).order_by("-a").values("pk")
The error is: 
ProgrammingError: syntax error at or near "THEN"
LINE 1: ..._user"."id" FROM "users_user" ORDER BY CASE WHEN THEN true ...
The generated SQL is: 
SELECT "users_user"."id" FROM "users_user" ORDER BY CASE WHEN THEN True ELSE False END ASC
I expected behavior to annotate all rows with the value True since they all match.
Relevant because ~Q(pkin=[]) is a sentinel value that is sometimes returned by application code.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 822968ef56..d913bc3172 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1383,14 +1383,32 @@ class Case(SQLiteNumericMixin, Expression):
         template_params = {**self.extra, **extra_context}
         case_parts = []
         sql_params = []
+        forced_default = None
         for case in self.cases:
             try:
-                case_sql, case_params = compiler.compile(case)
+                condition_sql, condition_params = compiler.compile(case.condition)
             except EmptyResultSet:
                 continue
+            # If the condition matches everything, short-circuit.
+            if not condition_sql:
+                result_sql, result_params = compiler.compile(case.result)
+                if not case_parts:
+                    sql = result_sql
+                    params = result_params
+                    if self._output_field_or_none is not None:
+                        sql = connection.ops.unification_cast_sql(self.output_field) % sql
+                    return sql, params
+                forced_default = (result_sql, result_params)
+                break
+            result_sql, result_params = compiler.compile(case.result)
+            case_sql = f"WHEN {condition_sql} THEN {result_sql}"
             case_parts.append(case_sql)
-            sql_params.extend(case_params)
-        default_sql, default_params = compiler.compile(self.default)
+            sql_params.extend(condition_params)
+            sql_params.extend(result_params)
+        if forced_default is not None:
+            default_sql, default_params = forced_default
+        else:
+            default_sql, default_params = compiler.compile(self.default)
         if not case_parts:
             return default_sql, default_params
         case_joiner = case_joiner or self.case_joiner


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `django/db/models/expressions.py`.
Extra Requirements: 
Purpose: I need to examine the implementation of `Case` and `When` expressions to understand how they are compiled into SQL and why the provided `~Q(pk__in=[])` condition causes a syntax error.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: django/db/models/expressions.py
Line number range: 1 - 1500
Content:
1. import copy
2. import datetime
3. import functools
4. import inspect
5. import warnings
6. from collections import defaultdict
7. from decimal import Decimal
8. from uuid import UUID
9. 
10. from django.core.exceptions import EmptyResultSet, FieldError
11. from django.db import DatabaseError, NotSupportedError, connection
12. from django.db.models import fields
13. from django.db.models.constants import LOOKUP_SEP
14. from django.db.models.query_utils import Q
15. from django.utils.deconstruct import deconstructible
16. from django.utils.deprecation import RemovedInDjango50Warning
17. from django.utils.functional import cached_property
18. from django.utils.hashable import make_hashable
19. 
20. 
21. class SQLiteNumericMixin:
22.     """
23.     Some expressions with output_field=DecimalField() must be cast to
24.     numeric to be properly filtered.
25.     """
26. 
27.     def as_sqlite(self, compiler, connection, **extra_context):
28.         sql, params = self.as_sql(compiler, connection, **extra_context)
29.         try:
30.             if self.output_field.get_internal_type() == "DecimalField":
31.                 sql = "CAST(%s AS NUMERIC)" % sql
32.         except FieldError:
33.             pass
34.         return sql, params
35. 
36. 
37. class Combinable:
38.     """
39.     Provide the ability to combine one or two objects with
40.     some connector. For example F('foo') + F('bar').
41.     """
42. 
43.     # Arithmetic connectors
44.     ADD = "+"
45.     SUB = "-"
46.     MUL = "*"
47.     DIV = "/"
48.     POW = "^"
49.     # The following is a quoted % operator - it is quoted because it can be
50.     # used in strings that also have parameter substitution.
51.     MOD = "%%"
52. 
53.     # Bitwise operators - note that these are generated by .bitand()
54.     # and .bitor(), the '&' and '|' are reserved for boolean operator
55.     # usage.
56.     BITAND = "&"
57.     BITOR = "|"
58.     BITLEFTSHIFT = "<<"
59.     BITRIGHTSHIFT = ">>"
60.     BITXOR = "#"
61. 
62.     def _combine(self, other, connector, reversed):
63.         if not hasattr(other, "resolve_expression"):
64.             # everything must be resolvable to an expression
65.             other = Value(other)
66. 
67.         if reversed:
68.             return CombinedExpression(other, connector, self)
69.         return CombinedExpression(self, connector, other)
70. 
71.     #############
72.     # OPERATORS #
73.     #############
74. 
75.     def __neg__(self):
76.         return self._combine(-1, self.MUL, False)
77. 
78.     def __add__(self, other):
79.         return self._combine(other, self.ADD, False)
80. 
81.     def __sub__(self, other):
82.         return self._combine(other, self.SUB, False)
83. 
84.     def __mul__(self, other):
85.         return self._combine(other, self.MUL, False)
86. 
87.     def __truediv__(self, other):
88.         return self._combine(other, self.DIV, False)
89. 
90.     def __mod__(self, other):
91.         return self._combine(other, self.MOD, False)
92. 
93.     def __pow__(self, other):
94.         return self._combine(other, self.POW, False)
95. 
96.     def __and__(self, other):
97.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
98.             return Q(self) & Q(other)
99.         raise NotImplementedError(
100.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
101.         )
102. 
103.     def bitand(self, other):
104.         return self._combine(other, self.BITAND, False)
105. 
106.     def bitleftshift(self, other):
107.         return self._combine(other, self.BITLEFTSHIFT, False)
108. 
109.     def bitrightshift(self, other):
110.         return self._combine(other, self.BITRIGHTSHIFT, False)
111. 
112.     def __xor__(self, other):
113.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
114.             return Q(self) ^ Q(other)
115.         raise NotImplementedError(
116.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
117.         )
118. 
119.     def bitxor(self, other):
120.         return self._combine(other, self.BITXOR, False)
121. 
122.     def __or__(self, other):
123.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
124.             return Q(self) | Q(other)
125.         raise NotImplementedError(
126.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
127.         )
128. 
129.     def bitor(self, other):
130.         return self._combine(other, self.BITOR, False)
131. 
132.     def __radd__(self, other):
133.         return self._combine(other, self.ADD, True)
134. 
135.     def __rsub__(self, other):
136.         return self._combine(other, self.SUB, True)
137. 
138.     def __rmul__(self, other):
139.         return self._combine(other, self.MUL, True)
140. 
141.     def __rtruediv__(self, other):
142.         return self._combine(other, self.DIV, True)
143. 
144.     def __rmod__(self, other):
145.         return self._combine(other, self.MOD, True)
146. 
147.     def __rpow__(self, other):
148.         return self._combine(other, self.POW, True)
149. 
150.     def __rand__(self, other):
151.         raise NotImplementedError(
152.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
153.         )
154. 
155.     def __ror__(self, other):
156.         raise NotImplementedError(
157.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
158.         )
159. 
160.     def __rxor__(self, other):
161.         raise NotImplementedError(
162.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
163.         )
164. 
165. 
166. class BaseExpression:
167.     """Base class for all query expressions."""
168. 
169.     empty_result_set_value = NotImplemented
170.     # aggregate specific fields
171.     is_summary = False
172.     _output_field_resolved_to_none = False
173.     # Can the expression be used in a WHERE clause?
174.     filterable = True
175.     # Can the expression can be used as a source expression in Window?
176.     window_compatible = False
177. 
178.     def __init__(self, output_field=None):
179.         if output_field is not None:
180.             self.output_field = output_field
181. 
182.     def __getstate__(self):
183.         state = self.__dict__.copy()
184.         state.pop("convert_value", None)
185.         return state
186. 
187.     def get_db_converters(self, connection):
188.         return (
189.             []
190.             if self.convert_value is self._convert_value_noop
191.             else [self.convert_value]
192.         ) + self.output_field.get_db_converters(connection)
193. 
194.     def get_source_expressions(self):
195.         return []
196. 
197.     def set_source_expressions(self, exprs):
198.         assert not exprs
199. 
200.     def _parse_expressions(self, *expressions):
201.         return [
202.             arg
203.             if hasattr(arg, "resolve_expression")
204.             else (F(arg) if isinstance(arg, str) else Value(arg))
205.             for arg in expressions
206.         ]
207. 
208.     def as_sql(self, compiler, connection):
209.         """
210.         Responsible for returning a (sql, [params]) tuple to be included
211.         in the current query.
212. 
213.         Different backends can provide their own implementation, by
214.         providing an `as_{vendor}` method and patching the Expression:
215. 
216.         ```
217.         def override_as_sql(self, compiler, connection):
218.             # custom logic
219.             return super().as_sql(compiler, connection)
220.         setattr(Expression, 'as_' + connection.vendor, override_as_sql)
221.         ```
222. 
223.         Arguments:
224.          * compiler: the query compiler responsible for generating the query.
225.            Must have a compile method, returning a (sql, [params]) tuple.
226.            Calling compiler(value) will return a quoted `value`.
227. 
228.          * connection: the database connection used for the current query.
229. 
230.         Return: (sql, params)
231.           Where `sql` is a string containing ordered sql parameters to be
232.           replaced with the elements of the list `params`.
233.         """
234.         raise NotImplementedError("Subclasses must implement as_sql()")
235. 
236.     @cached_property
237.     def contains_aggregate(self):
238.         return any(
239.             expr and expr.contains_aggregate for expr in self.get_source_expressions()
240.         )
241. 
242.     @cached_property
243.     def contains_over_clause(self):
244.         return any(
245.             expr and expr.contains_over_clause for expr in self.get_source_expressions()
246.         )
247. 
248.     @cached_property
249.     def contains_column_references(self):
250.         return any(
251.             expr and expr.contains_column_references
252.             for expr in self.get_source_expressions()
253.         )
254. 
255.     def resolve_expression(
256.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
257.     ):
258.         """
259.         Provide the chance to do any preprocessing or validation before being
260.         added to the query.
261. 
262.         Arguments:
263.          * query: the backend query implementation
264.          * allow_joins: boolean allowing or denying use of joins
265.            in this query
266.          * reuse: a set of reusable joins for multijoins
267.          * summarize: a terminal aggregate clause
268.          * for_save: whether this expression about to be used in a save or update
269. 
270.         Return: an Expression to be added to the query.
271.         """
272.         c = self.copy()
273.         c.is_summary = summarize
274.         c.set_source_expressions(
275.             [
276.                 expr.resolve_expression(query, allow_joins, reuse, summarize)
277.                 if expr
278.                 else None
279.                 for expr in c.get_source_expressions()
280.             ]
281.         )
282.         return c
283. 
284.     @property
285.     def conditional(self):
286.         return isinstance(self.output_field, fields.BooleanField)
287. 
288.     @property
289.     def field(self):
290.         return self.output_field
291. 
292.     @cached_property
293.     def output_field(self):
294.         """Return the output type of this expressions."""
295.         output_field = self._resolve_output_field()
296.         if output_field is None:
297.             self._output_field_resolved_to_none = True
298.             raise FieldError("Cannot resolve expression type, unknown output_field")
299.         return output_field
300. 
301.     @cached_property
302.     def _output_field_or_none(self):
303.         """
304.         Return the output field of this expression, or None if
305.         _resolve_output_field() didn't return an output type.
306.         """
307.         try:
308.             return self.output_field
309.         except FieldError:
310.             if not self._output_field_resolved_to_none:
311.                 raise
312. 
313.     def _resolve_output_field(self):
314.         """
315.         Attempt to infer the output type of the expression.
316. 
317.         As a guess, if the output fields of all source fields match then simply
318.         infer the same type here.
319. 
320.         If a source's output field resolves to None, exclude it from this check.
321.         If all sources are None, then an error is raised higher up the stack in
322.         the output_field property.
323.         """
324.         # This guess is mostly a bad idea, but there is quite a lot of code
325.         # (especially 3rd party Func subclasses) that depend on it, we'd need a
326.         # deprecation path to fix it.
327.         sources_iter = (
328.             source for source in self.get_source_fields() if source is not None
329.         )
330.         for output_field in sources_iter:
331.             for source in sources_iter:
332.                 if not isinstance(output_field, source.__class__):
333.                     raise FieldError(
334.                         "Expression contains mixed types: %s, %s. You must "
335.                         "set output_field."
336.                         % (
337.                             output_field.__class__.__name__,
338.                             source.__class__.__name__,
339.                         )
340.                     )
341.             return output_field
342. 
343.     @staticmethod
344.     def _convert_value_noop(value, expression, connection):
345.         return value
346. 
347.     @cached_property
348.     def convert_value(self):
349.         """
350.         Expressions provide their own converters because users have the option
351.         of manually specifying the output_field which may be a different type
352.         from the one the database returns.
353.         """
354.         field = self.output_field
355.         internal_type = field.get_internal_type()
356.         if internal_type == "FloatField":
357.             return (
358.                 lambda value, expression, connection: None
359.                 if value is None
360.                 else float(value)
361.             )
362.         elif internal_type.endswith("IntegerField"):
363.             return (
364.                 lambda value, expression, connection: None
365.                 if value is None
366.                 else int(value)
367.             )
368.         elif internal_type == "DecimalField":
369.             return (
370.                 lambda value, expression, connection: None
371.                 if value is None
372.                 else Decimal(value)
373.             )
374.         return self._convert_value_noop
375. 
376.     def get_lookup(self, lookup):
377.         return self.output_field.get_lookup(lookup)
378. 
379.     def get_transform(self, name):
380.         return self.output_field.get_transform(name)
381. 
382.     def relabeled_clone(self, change_map):
383.         clone = self.copy()
384.         clone.set_source_expressions(
385.             [
386.                 e.relabeled_clone(change_map) if e is not None else None
387.                 for e in self.get_source_expressions()
388.             ]
389.         )
390.         return clone
391. 
392.     def replace_references(self, references_map):
393.         clone = self.copy()
394.         clone.set_source_expressions(
395.             [
396.                 expr.replace_references(references_map)
397.                 for expr in self.get_source_expressions()
398.             ]
399.         )
400.         return clone
401. 
402.     def copy(self):
403.         return copy.copy(self)
404. 
405.     def prefix_references(self, prefix):
406.         clone = self.copy()
407.         clone.set_source_expressions(
408.             [
409.                 F(f"{prefix}{expr.name}")
410.                 if isinstance(expr, F)
411.                 else expr.prefix_references(prefix)
412.                 for expr in self.get_source_expressions()
413.             ]
414.         )
415.         return clone
416. 
417.     def get_group_by_cols(self, alias=None):
418.         if not self.contains_aggregate:
419.             return [self]
420.         cols = []
421.         for source in self.get_source_expressions():
422.             cols.extend(source.get_group_by_cols())
423.         return cols
424. 
425.     def get_source_fields(self):
426.         """Return the underlying field types used by this aggregate."""
427.         return [e._output_field_or_none for e in self.get_source_expressions()]
428. 
429.     def asc(self, **kwargs):
430.         return OrderBy(self, **kwargs)
431. 
432.     def desc(self, **kwargs):
433.         return OrderBy(self, descending=True, **kwargs)
434. 
435.     def reverse_ordering(self):
436.         return self
437. 
438.     def flatten(self):
439.         """
440.         Recursively yield this expression and all subexpressions, in
441.         depth-first order.
442.         """
443.         yield self
444.         for expr in self.get_source_expressions():
445.             if expr:
446.                 if hasattr(expr, "flatten"):
447.                     yield from expr.flatten()
448.                 else:
449.                     yield expr
450. 
451.     def select_format(self, compiler, sql, params):
452.         """
453.         Custom format for select clauses. For example, EXISTS expressions need
454.         to be wrapped in CASE WHEN on Oracle.
455.         """
456.         if hasattr(self.output_field, "select_format"):
457.             return self.output_field.select_format(compiler, sql, params)
458.         return sql, params
459. 
460. 
461. @deconstructible
462. class Expression(BaseExpression, Combinable):
463.     """An expression that can be combined with other expressions."""
464. 
465.     @cached_property
466.     def identity(self):
467.         constructor_signature = inspect.signature(self.__init__)
468.         args, kwargs = self._constructor_args
469.         signature = constructor_signature.bind_partial(*args, **kwargs)
470.         signature.apply_defaults()
471.         arguments = signature.arguments.items()
472.         identity = [self.__class__]
473.         for arg, value in arguments:
474.             if isinstance(value, fields.Field):
475.                 if value.name and value.model:
476.                     value = (value.model._meta.label, value.name)
477.                 else:
478.                     value = type(value)
479.             else:
480.                 value = make_hashable(value)
481.             identity.append((arg, value))
482.         return tuple(identity)
483. 
484.     def __eq__(self, other):
485.         if not isinstance(other, Expression):
486.             return NotImplemented
487.         return other.identity == self.identity
488. 
489.     def __hash__(self):
490.         return hash(self.identity)
491. 
492. 
493. # Type inference for CombinedExpression.output_field.
494. # Missing items will result in FieldError, by design.
495. #
496. # The current approach for NULL is based on lowest common denominator behavior
497. # i.e. if one of the supported databases is raising an error (rather than
498. # return NULL) for `val <op> NULL`, then Django raises FieldError.
499. NoneType = type(None)
500. 
501. _connector_combinations = [
502.     # Numeric operations - operands of same type.
503.     {
504.         connector: [
505.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
506.             (fields.FloatField, fields.FloatField, fields.FloatField),
507.             (fields.DecimalField, fields.DecimalField, fields.DecimalField),
508.         ]
509.         for connector in (
510.             Combinable.ADD,
511.             Combinable.SUB,
512.             Combinable.MUL,
513.             # Behavior for DIV with integer arguments follows Postgres/SQLite,
514.             # not MySQL/Oracle.
515.             Combinable.DIV,
516.             Combinable.MOD,
517.             Combinable.POW,
518.         )
519.     },
520.     # Numeric operations - operands of different type.
521.     {
522.         connector: [
523.             (fields.IntegerField, fields.DecimalField, fields.DecimalField),
524.             (fields.DecimalField, fields.IntegerField, fields.DecimalField),
525.             (fields.IntegerField, fields.FloatField, fields.FloatField),
526.             (fields.FloatField, fields.IntegerField, fields.FloatField),
527.         ]
528.         for connector in (
529.             Combinable.ADD,
530.             Combinable.SUB,
531.             Combinable.MUL,
532.             Combinable.DIV,
533.         )
534.     },
535.     # Bitwise operators.
536.     {
537.         connector: [
538.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
539.         ]
540.         for connector in (
541.             Combinable.BITAND,
542.             Combinable.BITOR,
543.             Combinable.BITLEFTSHIFT,
544.             Combinable.BITRIGHTSHIFT,
545.             Combinable.BITXOR,
546.         )
547.     },
548.     # Numeric with NULL.
549.     {
550.         connector: [
551.             (field_type, NoneType, field_type),
552.             (NoneType, field_type, field_type),
553.         ]
554.         for connector in (
555.             Combinable.ADD,
556.             Combinable.SUB,
557.             Combinable.MUL,
558.             Combinable.DIV,
559.             Combinable.MOD,
560.             Combinable.POW,
561.         )
562.         for field_type in (fields.IntegerField, fields.DecimalField, fields.FloatField)
563.     },
564.     # Date/DateTimeField/DurationField/TimeField.
565.     {
566.         Combinable.ADD: [
567.             # Date/DateTimeField.
568.             (fields.DateField, fields.DurationField, fields.DateTimeField),
569.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
570.             (fields.DurationField, fields.DateField, fields.DateTimeField),
571.             (fields.DurationField, fields.DateTimeField, fields.DateTimeField),
572.             # DurationField.
573.             (fields.DurationField, fields.DurationField, fields.DurationField),
574.             # TimeField.
575.             (fields.TimeField, fields.DurationField, fields.TimeField),
576.             (fields.DurationField, fields.TimeField, fields.TimeField),
577.         ],
578.     },
579.     {
580.         Combinable.SUB: [
581.             # Date/DateTimeField.
582.             (fields.DateField, fields.DurationField, fields.DateTimeField),
583.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
584.             (fields.DateField, fields.DateField, fields.DurationField),
585.             (fields.DateField, fields.DateTimeField, fields.DurationField),
586.             (fields.DateTimeField, fields.DateField, fields.DurationField),
587.             (fields.DateTimeField, fields.DateTimeField, fields.DurationField),
588.             # DurationField.
589.             (fields.DurationField, fields.DurationField, fields.DurationField),
590.             # TimeField.
591.             (fields.TimeField, fields.DurationField, fields.TimeField),
592.             (fields.TimeField, fields.TimeField, fields.DurationField),
593.         ],
594.     },
595. ]
596. 
597. _connector_combinators = defaultdict(list)
598. 
599. 
600. def register_combinable_fields(lhs, connector, rhs, result):
601.     """
602.     Register combinable types:
603.         lhs <connector> rhs -> result
604.     e.g.
605.         register_combinable_fields(
606.             IntegerField, Combinable.ADD, FloatField, FloatField
607.         )
608.     """
609.     _connector_combinators[connector].append((lhs, rhs, result))
610. 
611. 
612. for d in _connector_combinations:
613.     for connector, field_types in d.items():
614.         for lhs, rhs, result in field_types:
615.             register_combinable_fields(lhs, connector, rhs, result)
616. 
617. 
618. @functools.lru_cache(maxsize=128)
619. def _resolve_combined_type(connector, lhs_type, rhs_type):
620.     combinators = _connector_combinators.get(connector, ())
621.     for combinator_lhs_type, combinator_rhs_type, combined_type in combinators:
622.         if issubclass(lhs_type, combinator_lhs_type) and issubclass(
623.             rhs_type, combinator_rhs_type
624.         ):
625.             return combined_type
626. 
627. 
628. class CombinedExpression(SQLiteNumericMixin, Expression):
629.     def __init__(self, lhs, connector, rhs, output_field=None):
630.         super().__init__(output_field=output_field)
631.         self.connector = connector
632.         self.lhs = lhs
633.         self.rhs = rhs
634. 
635.     def __repr__(self):
636.         return "<{}: {}>".format(self.__class__.__name__, self)
637. 
638.     def __str__(self):
639.         return "{} {} {}".format(self.lhs, self.connector, self.rhs)
640. 
641.     def get_source_expressions(self):
642.         return [self.lhs, self.rhs]
643. 
644.     def set_source_expressions(self, exprs):
645.         self.lhs, self.rhs = exprs
646. 
647.     def _resolve_output_field(self):
648.         # We avoid using super() here for reasons given in
649.         # Expression._resolve_output_field()
650.         combined_type = _resolve_combined_type(
651.             self.connector,
652.             type(self.lhs._output_field_or_none),
653.             type(self.rhs._output_field_or_none),
654.         )
655.         if combined_type is None:
656.             raise FieldError(
657.                 f"Cannot infer type of {self.connector!r} expression involving these "
658.                 f"types: {self.lhs.output_field.__class__.__name__}, "
659.                 f"{self.rhs.output_field.__class__.__name__}. You must set "
660.                 f"output_field."
661.             )
662.         return combined_type()
663. 
664.     def as_sql(self, compiler, connection):
665.         expressions = []
666.         expression_params = []
667.         sql, params = compiler.compile(self.lhs)
668.         expressions.append(sql)
669.         expression_params.extend(params)
670.         sql, params = compiler.compile(self.rhs)
671.         expressions.append(sql)
672.         expression_params.extend(params)
673.         # order of precedence
674.         expression_wrapper = "(%s)"
675.         sql = connection.ops.combine_expression(self.connector, expressions)
676.         return expression_wrapper % sql, expression_params
677. 
678.     def resolve_expression(
679.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
680.     ):
681.         lhs = self.lhs.resolve_expression(
682.             query, allow_joins, reuse, summarize, for_save
683.         )
684.         rhs = self.rhs.resolve_expression(
685.             query, allow_joins, reuse, summarize, for_save
686.         )
687.         if not isinstance(self, (DurationExpression, TemporalSubtraction)):
688.             try:
689.                 lhs_type = lhs.output_field.get_internal_type()
690.             except (AttributeError, FieldError):
691.                 lhs_type = None
692.             try:
693.                 rhs_type = rhs.output_field.get_internal_type()
694.             except (AttributeError, FieldError):
695.                 rhs_type = None
696.             if "DurationField" in {lhs_type, rhs_type} and lhs_type != rhs_type:
697.                 return DurationExpression(
698.                     self.lhs, self.connector, self.rhs
699.                 ).resolve_expression(
700.                     query,
701.                     allow_joins,
702.                     reuse,
703.                     summarize,
704.                     for_save,
705.                 )
706.             datetime_fields = {"DateField", "DateTimeField", "TimeField"}
707.             if (
708.                 self.connector == self.SUB
709.                 and lhs_type in datetime_fields
710.                 and lhs_type == rhs_type
711.             ):
712.                 return TemporalSubtraction(self.lhs, self.rhs).resolve_expression(
713.                     query,
714.                     allow_joins,
715.                     reuse,
716.                     summarize,
717.                     for_save,
718.                 )
719.         c = self.copy()
720.         c.is_summary = summarize
721.         c.lhs = lhs
722.         c.rhs = rhs
723.         return c
724. 
725. 
726. class DurationExpression(CombinedExpression):
727.     def compile(self, side, compiler, connection):
728.         try:
729.             output = side.output_field
730.         except FieldError:
731.             pass
732.         else:
733.             if output.get_internal_type() == "DurationField":
734.                 sql, params = compiler.compile(side)
735.                 return connection.ops.format_for_duration_arithmetic(sql), params
736.         return compiler.compile(side)
737. 
738.     def as_sql(self, compiler, connection):
739.         if connection.features.has_native_duration_field:
740.             return super().as_sql(compiler, connection)
741.         connection.ops.check_expression_support(self)
742.         expressions = []
743.         expression_params = []
744.         sql, params = self.compile(self.lhs, compiler, connection)
745.         expressions.append(sql)
746.         expression_params.extend(params)
747.         sql, params = self.compile(self.rhs, compiler, connection)
748.         expressions.append(sql)
749.         expression_params.extend(params)
750.         # order of precedence
751.         expression_wrapper = "(%s)"
752.         sql = connection.ops.combine_duration_expression(self.connector, expressions)
753.         return expression_wrapper % sql, expression_params
754. 
755.     def as_sqlite(self, compiler, connection, **extra_context):
756.         sql, params = self.as_sql(compiler, connection, **extra_context)
757.         if self.connector in {Combinable.MUL, Combinable.DIV}:
758.             try:
759.                 lhs_type = self.lhs.output_field.get_internal_type()
760.                 rhs_type = self.rhs.output_field.get_internal_type()
761.             except (AttributeError, FieldError):
762.                 pass
763.             else:
764.                 allowed_fields = {
765.                     "DecimalField",
766.                     "DurationField",
767.                     "FloatField",
768.                     "IntegerField",
769.                 }
770.                 if lhs_type not in allowed_fields or rhs_type not in allowed_fields:
771.                     raise DatabaseError(
772.                         f"Invalid arguments for operator {self.connector}."
773.                     )
774.         return sql, params
775. 
776. 
777. class TemporalSubtraction(CombinedExpression):
778.     output_field = fields.DurationField()
779. 
780.     def __init__(self, lhs, rhs):
781.         super().__init__(lhs, self.SUB, rhs)
782. 
783.     def as_sql(self, compiler, connection):
784.         connection.ops.check_expression_support(self)
785.         lhs = compiler.compile(self.lhs)
786.         rhs = compiler.compile(self.rhs)
787.         return connection.ops.subtract_temporals(
788.             self.lhs.output_field.get_internal_type(), lhs, rhs
789.         )
790. 
791. 
792. @deconstructible(path="django.db.models.F")
793. class F(Combinable):
794.     """An object capable of resolving references to existing query objects."""
795. 
796.     def __init__(self, name):
797.         """
798.         Arguments:
799.          * name: the name of the field this expression references
800.         """
801.         self.name = name
802. 
803.     def __repr__(self):
804.         return "{}({})".format(self.__class__.__name__, self.name)
805. 
806.     def resolve_expression(
807.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
808.     ):
809.         return query.resolve_ref(self.name, allow_joins, reuse, summarize)
810. 
811.     def replace_references(self, references_map):
812.         return references_map.get(self.name, self)
813. 
814.     def asc(self, **kwargs):
815.         return OrderBy(self, **kwargs)
816. 
817.     def desc(self, **kwargs):
818.         return OrderBy(self, descending=True, **kwargs)
819. 
820.     def __eq__(self, other):
821.         return self.__class__ == other.__class__ and self.name == other.name
822. 
823.     def __hash__(self):
824.         return hash(self.name)
825. 
826. 
827. class ResolvedOuterRef(F):
828.     """
829.     An object that contains a reference to an outer query.
830. 
831.     In this case, the reference to the outer query has been resolved because
832.     the inner query has been used as a subquery.
833.     """
834. 
835.     contains_aggregate = False
836. 
837.     def as_sql(self, *args, **kwargs):
838.         raise ValueError(
839.             "This queryset contains a reference to an outer query and may "
840.             "only be used in a subquery."
841.         )
842. 
843.     def resolve_expression(self, *args, **kwargs):
844.         col = super().resolve_expression(*args, **kwargs)
845.         # FIXME: Rename possibly_multivalued to multivalued and fix detection
846.         # for non-multivalued JOINs (e.g. foreign key fields). This should take
847.         # into account only many-to-many and one-to-many relationships.
848.         col.possibly_multivalued = LOOKUP_SEP in self.name
849.         return col
850. 
851.     def relabeled_clone(self, relabels):
852.         return self
853. 
854.     def get_group_by_cols(self, alias=None):
855.         return []
856. 
857. 
858. class OuterRef(F):
859.     contains_aggregate = False
860. 
861.     def resolve_expression(self, *args, **kwargs):
862.         if isinstance(self.name, self.__class__):
863.             return self.name
864.         return ResolvedOuterRef(self.name)
865. 
866.     def relabeled_clone(self, relabels):
867.         return self
868. 
869. 
870. @deconstructible(path="django.db.models.Func")
871. class Func(SQLiteNumericMixin, Expression):
872.     """An SQL function call."""
873. 
874.     function = None
875.     template = "%(function)s(%(expressions)s)"
876.     arg_joiner = ", "
877.     arity = None  # The number of arguments the function accepts.
878. 
879.     def __init__(self, *expressions, output_field=None, **extra):
880.         if self.arity is not None and len(expressions) != self.arity:
881.             raise TypeError(
882.                 "'%s' takes exactly %s %s (%s given)"
883.                 % (
884.                     self.__class__.__name__,
885.                     self.arity,
886.                     "argument" if self.arity == 1 else "arguments",
887.                     len(expressions),
888.                 )
889.             )
890.         super().__init__(output_field=output_field)
891.         self.source_expressions = self._parse_expressions(*expressions)
892.         self.extra = extra
893. 
894.     def __repr__(self):
895.         args = self.arg_joiner.join(str(arg) for arg in self.source_expressions)
896.         extra = {**self.extra, **self._get_repr_options()}
897.         if extra:
898.             extra = ", ".join(
899.                 str(key) + "=" + str(val) for key, val in sorted(extra.items())
900.             )
901.             return "{}({}, {})".format(self.__class__.__name__, args, extra)
902.         return "{}({})".format(self.__class__.__name__, args)
903. 
904.     def _get_repr_options(self):
905.         """Return a dict of extra __init__() options to include in the repr."""
906.         return {}
907. 
908.     def get_source_expressions(self):
909.         return self.source_expressions
910. 
911.     def set_source_expressions(self, exprs):
912.         self.source_expressions = exprs
913. 
914.     def resolve_expression(
915.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
916.     ):
917.         c = self.copy()
918.         c.is_summary = summarize
919.         for pos, arg in enumerate(c.source_expressions):
920.             c.source_expressions[pos] = arg.resolve_expression(
921.                 query, allow_joins, reuse, summarize, for_save
922.             )
923.         return c
924. 
925.     def as_sql(
926.         self,
927.         compiler,
928.         connection,
929.         function=None,
930.         template=None,
931.         arg_joiner=None,
932.         **extra_context,
933.     ):
934.         connection.ops.check_expression_support(self)
935.         sql_parts = []
936.         params = []
937.         for arg in self.source_expressions:
938.             try:
939.                 arg_sql, arg_params = compiler.compile(arg)
940.             except EmptyResultSet:
941.                 empty_result_set_value = getattr(
942.                     arg, "empty_result_set_value", NotImplemented
943.                 )
944.                 if empty_result_set_value is NotImplemented:
945.                     raise
946.                 arg_sql, arg_params = compiler.compile(Value(empty_result_set_value))
947.             sql_parts.append(arg_sql)
948.             params.extend(arg_params)
949.         data = {**self.extra, **extra_context}
950.         # Use the first supplied value in this order: the parameter to this
951.         # method, a value supplied in __init__()'s **extra (the value in
952.         # `data`), or the value defined on the class.
953.         if function is not None:
954.             data["function"] = function
955.         else:
956.             data.setdefault("function", self.function)
957.         template = template or data.get("template", self.template)
958.         arg_joiner = arg_joiner or data.get("arg_joiner", self.arg_joiner)
959.         data["expressions"] = data["field"] = arg_joiner.join(sql_parts)
960.         return template % data, params
961. 
962.     def copy(self):
963.         copy = super().copy()
964.         copy.source_expressions = self.source_expressions[:]
965.         copy.extra = self.extra.copy()
966.         return copy
967. 
968. 
969. @deconstructible(path="django.db.models.Value")
970. class Value(SQLiteNumericMixin, Expression):
971.     """Represent a wrapped value as a node within an expression."""
972. 
973.     # Provide a default value for `for_save` in order to allow unresolved
974.     # instances to be compiled until a decision is taken in #25425.
975.     for_save = False
976. 
977.     def __init__(self, value, output_field=None):
978.         """
979.         Arguments:
980.          * value: the value this expression represents. The value will be
981.            added into the sql parameter list and properly quoted.
982. 
983.          * output_field: an instance of the model field type that this
984.            expression will return, such as IntegerField() or CharField().
985.         """
986.         super().__init__(output_field=output_field)
987.         self.value = value
988. 
989.     def __repr__(self):
990.         return f"{self.__class__.__name__}({self.value!r})"
991. 
992.     def as_sql(self, compiler, connection):
993.         connection.ops.check_expression_support(self)
994.         val = self.value
995.         output_field = self._output_field_or_none
996.         if output_field is not None:
997.             if self.for_save:
998.                 val = output_field.get_db_prep_save(val, connection=connection)
999.             else:
1000.                 val = output_field.get_db_prep_value(val, connection=connection)
1001.             if hasattr(output_field, "get_placeholder"):
1002.                 return output_field.get_placeholder(val, compiler, connection), [val]
1003.         if val is None:
1004.             # cx_Oracle does not always convert None to the appropriate
1005.             # NULL type (like in case expressions using numbers), so we
1006.             # use a literal SQL NULL
1007.             return "NULL", []
1008.         return "%s", [val]
1009. 
1010.     def resolve_expression(
1011.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1012.     ):
1013.         c = super().resolve_expression(query, allow_joins, reuse, summarize, for_save)
1014.         c.for_save = for_save
1015.         return c
1016. 
1017.     def get_group_by_cols(self, alias=None):
1018.         return []
1019. 
1020.     def _resolve_output_field(self):
1021.         if isinstance(self.value, str):
1022.             return fields.CharField()
1023.         if isinstance(self.value, bool):
1024.             return fields.BooleanField()
1025.         if isinstance(self.value, int):
1026.             return fields.IntegerField()
1027.         if isinstance(self.value, float):
1028.             return fields.FloatField()
1029.         if isinstance(self.value, datetime.datetime):
1030.             return fields.DateTimeField()
1031.         if isinstance(self.value, datetime.date):
1032.             return fields.DateField()
1033.         if isinstance(self.value, datetime.time):
1034.             return fields.TimeField()
1035.         if isinstance(self.value, datetime.timedelta):
1036.             return fields.DurationField()
1037.         if isinstance(self.value, Decimal):
1038.             return fields.DecimalField()
1039.         if isinstance(self.value, bytes):
1040.             return fields.BinaryField()
1041.         if isinstance(self.value, UUID):
1042.             return fields.UUIDField()
1043. 
1044.     @property
1045.     def empty_result_set_value(self):
1046.         return self.value
1047. 
1048. 
1049. class RawSQL(Expression):
1050.     def __init__(self, sql, params, output_field=None):
1051.         if output_field is None:
1052.             output_field = fields.Field()
1053.         self.sql, self.params = sql, params
1054.         super().__init__(output_field=output_field)
1055. 
1056.     def __repr__(self):
1057.         return "{}({}, {})".format(self.__class__.__name__, self.sql, self.params)
1058. 
1059.     def as_sql(self, compiler, connection):
1060.         return "(%s)" % self.sql, self.params
1061. 
1062.     def get_group_by_cols(self, alias=None):
1063.         return [self]
1064. 
1065.     def resolve_expression(
1066.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1067.     ):
1068.         # Resolve parents fields used in raw SQL.
1069.         if query.model:
1070.             for parent in query.model._meta.get_parent_list():
1071.                 for parent_field in parent._meta.local_fields:
1072.                     _, column_name = parent_field.get_attname_column()
1073.                     if column_name.lower() in self.sql.lower():
1074.                         query.resolve_ref(
1075.                             parent_field.name, allow_joins, reuse, summarize
1076.                         )
1077.                         break
1078.         return super().resolve_expression(
1079.             query, allow_joins, reuse, summarize, for_save
1080.         )
1081. 
1082. 
1083. class Star(Expression):
1084.     def __repr__(self):
1085.         return "'*'"
1086. 
1087.     def as_sql(self, compiler, connection):
1088.         return "*", []
1089. 
1090. 
1091. class Col(Expression):
1092. 
1093.     contains_column_references = True
1094.     possibly_multivalued = False
1095. 
1096.     def __init__(self, alias, target, output_field=None):
1097.         if output_field is None:
1098.             output_field = target
1099.         super().__init__(output_field=output_field)
1100.         self.alias, self.target = alias, target
1101. 
1102.     def __repr__(self):
1103.         alias, target = self.alias, self.target
1104.         identifiers = (alias, str(target)) if alias else (str(target),)
1105.         return "{}({})".format(self.__class__.__name__, ", ".join(identifiers))
1106. 
1107.     def as_sql(self, compiler, connection):
1108.         alias, column = self.alias, self.target.column
1109.         identifiers = (alias, column) if alias else (column,)
1110.         sql = ".".join(map(compiler.quote_name_unless_alias, identifiers))
1111.         return sql, []
1112. 
1113.     def relabeled_clone(self, relabels):
1114.         if self.alias is None:
1115.             return self
1116.         return self.__class__(
1117.             relabels.get(self.alias, self.alias), self.target, self.output_field
1118.         )
1119. 
1120.     def get_group_by_cols(self, alias=None):
1121.         return [self]
1122. 
1123.     def get_db_converters(self, connection):
1124.         if self.target == self.output_field:
1125.             return self.output_field.get_db_converters(connection)
1126.         return self.output_field.get_db_converters(
1127.             connection
1128.         ) + self.target.get_db_converters(connection)
1129. 
1130. 
1131. class Ref(Expression):
1132.     """
1133.     Reference to column alias of the query. For example, Ref('sum_cost') in
1134.     qs.annotate(sum_cost=Sum('cost')) query.
1135.     """
1136. 
1137.     def __init__(self, refs, source):
1138.         super().__init__()
1139.         self.refs, self.source = refs, source
1140. 
1141.     def __repr__(self):
1142.         return "{}({}, {})".format(self.__class__.__name__, self.refs, self.source)
1143. 
1144.     def get_source_expressions(self):
1145.         return [self.source]
1146. 
1147.     def set_source_expressions(self, exprs):
1148.         (self.source,) = exprs
1149. 
1150.     def resolve_expression(
1151.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1152.     ):
1153.         # The sub-expression `source` has already been resolved, as this is
1154.         # just a reference to the name of `source`.
1155.         return self
1156. 
1157.     def relabeled_clone(self, relabels):
1158.         return self
1159. 
1160.     def as_sql(self, compiler, connection):
1161.         return connection.ops.quote_name(self.refs), []
1162. 
1163.     def get_group_by_cols(self, alias=None):
1164.         return [self]
1165. 
1166. 
1167. class ExpressionList(Func):
1168.     """
1169.     An expression containing multiple expressions. Can be used to provide a
1170.     list of expressions as an argument to another expression, like a partition
1171.     clause.
1172.     """
1173. 
1174.     template = "%(expressions)s"
1175. 
1176.     def __init__(self, *expressions, **extra):
1177.         if not expressions:
1178.             raise ValueError(
1179.                 "%s requires at least one expression." % self.__class__.__name__
1180.             )
1181.         super().__init__(*expressions, **extra)
1182. 
1183.     def __str__(self):
1184.         return self.arg_joiner.join(str(arg) for arg in self.source_expressions)
1185. 
1186.     def as_sqlite(self, compiler, connection, **extra_context):
1187.         # Casting to numeric is unnecessary.
1188.         return self.as_sql(compiler, connection, **extra_context)
1189. 
1190. 
1191. class OrderByList(Func):
1192.     template = "ORDER BY %(expressions)s"
1193. 
1194.     def __init__(self, *expressions, **extra):
1195.         expressions = (
1196.             (
1197.                 OrderBy(F(expr[1:]), descending=True)
1198.                 if isinstance(expr, str) and expr[0] == "-"
1199.                 else expr
1200.             )
1201.             for expr in expressions
1202.         )
1203.         super().__init__(*expressions, **extra)
1204. 
1205.     def as_sql(self, *args, **kwargs):
1206.         if not self.source_expressions:
1207.             return "", ()
1208.         return super().as_sql(*args, **kwargs)
1209. 
1210. 
1211. @deconstructible(path="django.db.models.ExpressionWrapper")
1212. class ExpressionWrapper(SQLiteNumericMixin, Expression):
1213.     """
1214.     An expression that can wrap another expression so that it can provide
1215.     extra context to the inner expression, such as the output_field.
1216.     """
1217. 
1218.     def __init__(self, expression, output_field):
1219.         super().__init__(output_field=output_field)
1220.         self.expression = expression
1221. 
1222.     def set_source_expressions(self, exprs):
1223.         self.expression = exprs[0]
1224. 
1225.     def get_source_expressions(self):
1226.         return [self.expression]
1227. 
1228.     def get_group_by_cols(self, alias=None):
1229.         if isinstance(self.expression, Expression):
1230.             expression = self.expression.copy()
1231.             expression.output_field = self.output_field
1232.             return expression.get_group_by_cols(alias=alias)
1233.         # For non-expressions e.g. an SQL WHERE clause, the entire
1234.         # `expression` must be included in the GROUP BY clause.
1235.         return super().get_group_by_cols()
1236. 
1237.     def as_sql(self, compiler, connection):
1238.         return compiler.compile(self.expression)
1239. 
1240.     def __repr__(self):
1241.         return "{}({})".format(self.__class__.__name__, self.expression)
1242. 
1243. 
1244. @deconstructible(path="django.db.models.When")
1245. class When(Expression):
1246.     template = "WHEN %(condition)s THEN %(result)s"
1247.     # This isn't a complete conditional expression, must be used in Case().
1248.     conditional = False
1249. 
1250.     def __init__(self, condition=None, then=None, **lookups):
1251.         if lookups:
1252.             if condition is None:
1253.                 condition, lookups = Q(**lookups), None
1254.             elif getattr(condition, "conditional", False):
1255.                 condition, lookups = Q(condition, **lookups), None
1256.         if condition is None or not getattr(condition, "conditional", False) or lookups:
1257.             raise TypeError(
1258.                 "When() supports a Q object, a boolean expression, or lookups "
1259.                 "as a condition."
1260.             )
1261.         if isinstance(condition, Q) and not condition:
1262.             raise ValueError("An empty Q() can't be used as a When() condition.")
1263.         super().__init__(output_field=None)
1264.         self.condition = condition
1265.         self.result = self._parse_expressions(then)[0]
1266. 
1267.     def __str__(self):
1268.         return "WHEN %r THEN %r" % (self.condition, self.result)
1269. 
1270.     def __repr__(self):
1271.         return "<%s: %s>" % (self.__class__.__name__, self)
1272. 
1273.     def get_source_expressions(self):
1274.         return [self.condition, self.result]
1275. 
1276.     def set_source_expressions(self, exprs):
1277.         self.condition, self.result = exprs
1278. 
1279.     def get_source_fields(self):
1280.         # We're only interested in the fields of the result expressions.
1281.         return [self.result._output_field_or_none]
1282. 
1283.     def resolve_expression(
1284.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1285.     ):
1286.         c = self.copy()
1287.         c.is_summary = summarize
1288.         if hasattr(c.condition, "resolve_expression"):
1289.             c.condition = c.condition.resolve_expression(
1290.                 query, allow_joins, reuse, summarize, False
1291.             )
1292.         c.result = c.result.resolve_expression(
1293.             query, allow_joins, reuse, summarize, for_save
1294.         )
1295.         return c
1296. 
1297.     def as_sql(self, compiler, connection, template=None, **extra_context):
1298.         connection.ops.check_expression_support(self)
1299.         template_params = extra_context
1300.         sql_params = []
1301.         condition_sql, condition_params = compiler.compile(self.condition)
1302.         template_params["condition"] = condition_sql
1303.         sql_params.extend(condition_params)
1304.         result_sql, result_params = compiler.compile(self.result)
1305.         template_params["result"] = result_sql
1306.         sql_params.extend(result_params)
1307.         template = template or self.template
1308.         return template % template_params, sql_params
1309. 
1310.     def get_group_by_cols(self, alias=None):
1311.         # This is not a complete expression and cannot be used in GROUP BY.
1312.         cols = []
1313.         for source in self.get_source_expressions():
1314.             cols.extend(source.get_group_by_cols())
1315.         return cols
1316. 
1317. 
1318. @deconstructible(path="django.db.models.Case")
1319. class Case(SQLiteNumericMixin, Expression):
1320.     """
1321.     An SQL searched CASE expression:
1322. 
1323.         CASE
1324.             WHEN n > 0
1325.                 THEN 'positive'
1326.             WHEN n < 0
1327.                 THEN 'negative'
1328.             ELSE 'zero'
1329.         END
1330.     """
1331. 
1332.     template = "CASE %(cases)s ELSE %(default)s END"
1333.     case_joiner = " "
1334. 
1335.     def __init__(self, *cases, default=None, output_field=None, **extra):
1336.         if not all(isinstance(case, When) for case in cases):
1337.             raise TypeError("Positional arguments must all be When objects.")
1338.         super().__init__(output_field)
1339.         self.cases = list(cases)
1340.         self.default = self._parse_expressions(default)[0]
1341.         self.extra = extra
1342. 
1343.     def __str__(self):
1344.         return "CASE %s, ELSE %r" % (
1345.             ", ".join(str(c) for c in self.cases),
1346.             self.default,
1347.         )
1348. 
1349.     def __repr__(self):
1350.         return "<%s: %s>" % (self.__class__.__name__, self)
1351. 
1352.     def get_source_expressions(self):
1353.         return self.cases + [self.default]
1354. 
1355.     def set_source_expressions(self, exprs):
1356.         *self.cases, self.default = exprs
1357. 
1358.     def resolve_expression(
1359.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1360.     ):
1361.         c = self.copy()
1362.         c.is_summary = summarize
1363.         for pos, case in enumerate(c.cases):
1364.             c.cases[pos] = case.resolve_expression(
1365.                 query, allow_joins, reuse, summarize, for_save
1366.             )
1367.         c.default = c.default.resolve_expression(
1368.             query, allow_joins, reuse, summarize, for_save
1369.         )
1370.         return c
1371. 
1372.     def copy(self):
1373.         c = super().copy()
1374.         c.cases = c.cases[:]
1375.         return c
1376. 
1377.     def as_sql(
1378.         self, compiler, connection, template=None, case_joiner=None, **extra_context
1379.     ):
1380.         connection.ops.check_expression_support(self)
1381.         if not self.cases:
1382.             return compiler.compile(self.default)
1383.         template_params = {**self.extra, **extra_context}
1384.         case_parts = []
1385.         sql_params = []
1386.         for case in self.cases:
1387.             try:
1388.                 case_sql, case_params = compiler.compile(case)
1389.             except EmptyResultSet:
1390.                 continue
1391.             case_parts.append(case_sql)
1392.             sql_params.extend(case_params)
1393.         default_sql, default_params = compiler.compile(self.default)
1394.         if not case_parts:
1395.             return default_sql, default_params
1396.         case_joiner = case_joiner or self.case_joiner
1397.         template_params["cases"] = case_joiner.join(case_parts)
1398.         template_params["default"] = default_sql
1399.         sql_params.extend(default_params)
1400.         template = template or template_params.get("template", self.template)
1401.         sql = template % template_params
1402.         if self._output_field_or_none is not None:
1403.             sql = connection.ops.unification_cast_sql(self.output_field) % sql
1404.         return sql, sql_params
1405. 
1406.     def get_group_by_cols(self, alias=None):
1407.         if not self.cases:
1408.             return self.default.get_group_by_cols(alias)
1409.         return super().get_group_by_cols(alias)
1410. 
1411. 
1412. class Subquery(BaseExpression, Combinable):
1413.     """
1414.     An explicit subquery. It may contain OuterRef() references to the outer
1415.     query which will be resolved when it is applied to that query.
1416.     """
1417. 
1418.     template = "(%(subquery)s)"
1419.     contains_aggregate = False
1420.     empty_result_set_value = None
1421. 
1422.     def __init__(self, queryset, output_field=None, **extra):
1423.         # Allow the usage of both QuerySet and sql.Query objects.
1424.         self.query = getattr(queryset, "query", queryset).clone()
1425.         self.query.subquery = True
1426.         self.extra = extra
1427.         super().__init__(output_field)
1428. 
1429.     def get_source_expressions(self):
1430.         return [self.query]
1431. 
1432.     def set_source_expressions(self, exprs):
1433.         self.query = exprs[0]
1434. 
1435.     def _resolve_output_field(self):
1436.         return self.query.output_field
1437. 
1438.     def copy(self):
1439.         clone = super().copy()
1440.         clone.query = clone.query.clone()
1441.         return clone
1442. 
1443.     @property
1444.     def external_aliases(self):
1445.         return self.query.external_aliases
1446. 
1447.     def get_external_cols(self):
1448.         return self.query.get_external_cols()
1449. 
1450.     def as_sql(self, compiler, connection, template=None, query=None, **extra_context):
1451.         connection.ops.check_expression_support(self)
1452.         template_params = {**self.extra, **extra_context}
1453.         query = query or self.query
1454.         subquery_sql, sql_params = query.as_sql(compiler, connection)
1455.         template_params["subquery"] = subquery_sql[1:-1]
1456. 
1457.         template = template or template_params.get("template", self.template)
1458.         sql = template % template_params
1459.         return sql, sql_params
1460. 
1461.     def get_group_by_cols(self, alias=None):
1462.         # If this expression is referenced by an alias for an explicit GROUP BY
1463.         # through values() a reference to this expression and not the
1464.         # underlying .query must be returned to ensure external column
1465.         # references are not grouped against as well.
1466.         if alias:
1467.             return [Ref(alias, self)]
1468.         return self.query.get_group_by_cols()
1469. 
1470. 
1471. class Exists(Subquery):
1472.     template = "EXISTS(%(subquery)s)"
1473.     output_field = fields.BooleanField()
1474. 
1475.     def __init__(self, queryset, negated=False, **kwargs):
1476.         self.negated = negated
1477.         super().__init__(queryset, **kwargs)
1478. 
1479.     def __invert__(self):
1480.         clone = self.copy()
1481.         clone.negated = not self.negated
1482.         return clone
1483. 
1484.     def as_sql(self, compiler, connection, template=None, **extra_context):
1485.         query = self.query.exists(using=connection.alias)
1486.         try:
1487.             sql, params = super().as_sql(
1488.                 compiler,
1489.                 connection,
1490.                 template=template,
1491.                 query=query,
1492.                 **extra_context,
1493.             )
1494.         except EmptyResultSet:
1495.             if self.negated:
1496.                 features = compiler.connection.features
1497.                 if not features.supports_boolean_expr_in_select_clause:
1498.                     return "1=1", ()
1499.                 return compiler.compile(Value(True))
1500.             raise

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 08:09:09,899 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's patch fixes a crash in `Case.as_sql` by handling cases where compiling a `When` condition results in an empty SQL string. The problematic condition is `~Q(pk__in=[])`. The current context (`django/db/models/expressions.py`) shows where the compilation is called (`compiler.compile(case.condition)`), but not how it's performed for a `Q` object. To understand why `~Q(pk__in=[])` compiles to an empty string, I need to examine the implementation of the SQL compiler, specifically the `compile` method." query='Please provide the full content of `django/db/models/sql/compiler.py`.' extra_requirements='' purpose='This will help me trace the compilation of the `Q` object and understand the root cause of the empty SQL string that leads to the syntax error.'
2025-12-21 08:09:09,900 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/sql/compiler.py`.
2025-12-21 08:09:09,900 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 08:09:09,901 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 08:09:09,901 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 08:09:09,901 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/sql/compiler.py`.
Purpose: This will help me trace the compilation of the `Q` object and understand the root cause of the empty SQL string that leads to the syntax error.
2025-12-21 08:09:11,988 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `django/db/models/sql/compiler.py` to help you trace the compilation of the `Q` object. This should assist in understanding the origin of the empty SQL string that is causing the syntax error.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/sql/compiler.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2109, 'candidates_token_count': 77, 'total_token_count': 2245, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2109}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 77}], 'thoughts_token_count': 59, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.07570661198009145, 'model_name': 'gemini-2.5-pro'} id='run--8520bbe9-0958-4c03-afaf-051c11a01da1-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/sql/compiler.py'}, 'id': 'ef263b3c-43ec-41a3-a9cf-b9fb354ae69b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2109, 'output_tokens': 77, 'total_tokens': 2245, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 59}}
2025-12-21 08:09:14,455 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have reviewed the initial section of the file `django/db/models/sql/compiler.py`. I will now proceed to read the subsequent part of the file to get the complete context.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "end_line": 1001.0, "relative_path": "django/db/models/sql/compiler.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9656, 'candidates_token_count': 71, 'total_token_count': 9792, 'cached_content_token_count': 1852, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9656}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1852}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 71}], 'thoughts_token_count': 65}, 'finish_reason': 'STOP', 'avg_logprobs': -0.21691479481441875, 'model_name': 'gemini-2.5-pro'} id='run--676aa397-c3d1-4043-b815-d9a7106f3bff-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'end_line': 1001.0, 'relative_path': 'django/db/models/sql/compiler.py'}, 'id': 'c72be9b9-a8e7-401a-9849-266d6081a336', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9656, 'output_tokens': 71, 'total_tokens': 9792, 'input_token_details': {'cache_read': 1852}, 'output_token_details': {'reasoning': 65}}
2025-12-21 08:09:23,670 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have now retrieved the full content of `django/db/models/sql/compiler.py` by reading it in two parts. This complete view of the file will be instrumental in tracing the `Q` object's compilation and identifying the cause of the empty SQL string and subsequent syntax error." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1001.0, "end_line": 1202.0, "relative_path": "django/db/models/sql/compiler.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17062, 'candidates_token_count': 92, 'total_token_count': 17876, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17062}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 92}], 'thoughts_token_count': 722, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.329519271850586, 'model_name': 'gemini-2.5-pro'} id='run--ea35908b-d0e2-40bc-a94e-05c7b2bcbc08-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1001.0, 'end_line': 1202.0, 'relative_path': 'django/db/models/sql/compiler.py'}, 'id': 'c83bf11a-7893-4fe7-bcb9-2943690b0d73', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17062, 'output_tokens': 92, 'total_tokens': 17876, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 722}}
2025-12-21 08:10:10,430 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the full content of `django/db/models/sql/compiler.py` as you requested. This file's `SQLCompiler` class is central to converting Django's `Query` objects into SQL. The compilation of a `Q` object is handled within the `compile` method, which then delegates to the `as_sql` method of the `where` node, and I believe that an empty or invalid SQL string, such as 'SELECT ', might be generated if a subquery in a UNION has no columns or tables, which could be the source of the syntax error." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 11872, 'end_index': 12155, 'uri': 'http://www.hackdig.com/08/hack-749343.htm', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 20291, 'candidates_token_count': 124, 'total_token_count': 25527, 'cached_content_token_count': 15378, 'prompt_tokens_details': [{'modality': 1, 'token_count': 20291}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15378}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 124}], 'thoughts_token_count': 5112}, 'finish_reason': 'STOP', 'avg_logprobs': -4.9710048552482355, 'model_name': 'gemini-2.5-pro'} id='run--e147369e-aa83-4fc0-9421-c2517fd42ffe-0' usage_metadata={'input_tokens': 20291, 'output_tokens': 124, 'total_tokens': 25527, 'input_token_details': {'cache_read': 15378}, 'output_token_details': {'reasoning': 5112}}
2025-12-21 08:10:10,440 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/sql/compiler.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
This will help me trace the compilation of the `Q` object and understand the root cause of the empty SQL string that leads to the syntax error.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/sql/compiler.py
Line number range: 1 - 500
Content:
1. import collections
2. import json
3. import re
4. from functools import partial
5. from itertools import chain
6. 
7. from django.core.exceptions import EmptyResultSet, FieldError
8. from django.db import DatabaseError, NotSupportedError
9. from django.db.models.constants import LOOKUP_SEP
10. from django.db.models.expressions import F, OrderBy, RawSQL, Ref, Value
11. from django.db.models.functions import Cast, Random
12. from django.db.models.query_utils import select_related_descend
13. from django.db.models.sql.constants import (
14.     CURSOR,
15.     GET_ITERATOR_CHUNK_SIZE,
16.     MULTI,
17.     NO_RESULTS,
18.     ORDER_DIR,
19.     SINGLE,
20. )
21. from django.db.models.sql.query import Query, get_order_dir
22. from django.db.models.sql.where import AND
23. from django.db.transaction import TransactionManagementError
24. from django.utils.functional import cached_property
25. from django.utils.hashable import make_hashable
26. from django.utils.regex_helper import _lazy_re_compile
27. 
28. 
29. class SQLCompiler:
30.     # Multiline ordering SQL clause may appear from RawSQL.
31.     ordering_parts = _lazy_re_compile(
32.         r"^(.*)\s(?:ASC|DESC).*",
33.         re.MULTILINE | re.DOTALL,
34.     )
35. 
36.     def __init__(self, query, connection, using, elide_empty=True):
37.         self.query = query
38.         self.connection = connection
39.         self.using = using
40.         # Some queries, e.g. coalesced aggregation, need to be executed even if
41.         # they would return an empty result set.
42.         self.elide_empty = elide_empty
43.         self.quote_cache = {"*": "*"}
44.         # The select, klass_info, and annotations are needed by QuerySet.iterator()
45.         # these are set as a side-effect of executing the query. Note that we calculate
46.         # separately a list of extra select columns needed for grammatical correctness
47.         # of the query, but these columns are not included in self.select.
48.         self.select = None
49.         self.annotation_col_map = None
50.         self.klass_info = None
51.         self._meta_ordering = None
52. 
53.     def __repr__(self):
54.         return (
55.             f"<{self.__class__.__qualname__} "
56.             f"model={self.query.model.__qualname__} "
57.             f"connection={self.connection!r} using={self.using!r}>"
58.         )
59. 
60.     def setup_query(self):
61.         if all(self.query.alias_refcount[a] == 0 for a in self.query.alias_map):
62.             self.query.get_initial_alias()
63.         self.select, self.klass_info, self.annotation_col_map = self.get_select()
64.         self.col_count = len(self.select)
65. 
66.     def pre_sql_setup(self):
67.         """
68.         Do any necessary class setup immediately prior to producing SQL. This
69.         is for things that can't necessarily be done in __init__ because we
70.         might not have all the pieces in place at that time.
71.         """
72.         self.setup_query()
73.         order_by = self.get_order_by()
74.         self.where, self.having = self.query.where.split_having()
75.         extra_select = self.get_extra_select(order_by, self.select)
76.         self.has_extra_select = bool(extra_select)
77.         group_by = self.get_group_by(self.select + extra_select, order_by)
78.         return extra_select, order_by, group_by
79. 
80.     def get_group_by(self, select, order_by):
81.         """
82.         Return a list of 2-tuples of form (sql, params).
83. 
84.         The logic of what exactly the GROUP BY clause contains is hard
85.         to describe in other words than "if it passes the test suite,
86.         then it is correct".
87.         """
88.         # Some examples:
89.         #     SomeModel.objects.annotate(Count('somecol'))
90.         #     GROUP BY: all fields of the model
91.         #
92.         #    SomeModel.objects.values('name').annotate(Count('somecol'))
93.         #    GROUP BY: name
94.         #
95.         #    SomeModel.objects.annotate(Count('somecol')).values('name')
96.         #    GROUP BY: all cols of the model
97.         #
98.         #    SomeModel.objects.values('name', 'pk')
99.         #    .annotate(Count('somecol')).values('pk')
100.         #    GROUP BY: name, pk
101.         #
102.         #    SomeModel.objects.values('name').annotate(Count('somecol')).values('pk')
103.         #    GROUP BY: name, pk
104.         #
105.         # In fact, the self.query.group_by is the minimal set to GROUP BY. It
106.         # can't be ever restricted to a smaller set, but additional columns in
107.         # HAVING, ORDER BY, and SELECT clauses are added to it. Unfortunately
108.         # the end result is that it is impossible to force the query to have
109.         # a chosen GROUP BY clause - you can almost do this by using the form:
110.         #     .values(*wanted_cols).annotate(AnAggregate())
111.         # but any later annotations, extra selects, values calls that
112.         # refer some column outside of the wanted_cols, order_by, or even
113.         # filter calls can alter the GROUP BY clause.
114. 
115.         # The query.group_by is either None (no GROUP BY at all), True
116.         # (group by select fields), or a list of expressions to be added
117.         # to the group by.
118.         if self.query.group_by is None:
119.             return []
120.         expressions = []
121.         if self.query.group_by is not True:
122.             # If the group by is set to a list (by .values() call most likely),
123.             # then we need to add everything in it to the GROUP BY clause.
124.             # Backwards compatibility hack for setting query.group_by. Remove
125.             # when  we have public API way of forcing the GROUP BY clause.
126.             # Converts string references to expressions.
127.             for expr in self.query.group_by:
128.                 if not hasattr(expr, "as_sql"):
129.                     expressions.append(self.query.resolve_ref(expr))
130.                 else:
131.                     expressions.append(expr)
132.         # Note that even if the group_by is set, it is only the minimal
133.         # set to group by. So, we need to add cols in select, order_by, and
134.         # having into the select in any case.
135.         ref_sources = {expr.source for expr in expressions if isinstance(expr, Ref)}
136.         for expr, _, _ in select:
137.             # Skip members of the select clause that are already included
138.             # by reference.
139.             if expr in ref_sources:
140.                 continue
141.             cols = expr.get_group_by_cols()
142.             for col in cols:
143.                 expressions.append(col)
144.         if not self._meta_ordering:
145.             for expr, (sql, params, is_ref) in order_by:
146.                 # Skip references to the SELECT clause, as all expressions in
147.                 # the SELECT clause are already part of the GROUP BY.
148.                 if not is_ref:
149.                     expressions.extend(expr.get_group_by_cols())
150.         having_group_by = self.having.get_group_by_cols() if self.having else ()
151.         for expr in having_group_by:
152.             expressions.append(expr)
153.         result = []
154.         seen = set()
155.         expressions = self.collapse_group_by(expressions, having_group_by)
156. 
157.         for expr in expressions:
158.             sql, params = self.compile(expr)
159.             sql, params = expr.select_format(self, sql, params)
160.             params_hash = make_hashable(params)
161.             if (sql, params_hash) not in seen:
162.                 result.append((sql, params))
163.                 seen.add((sql, params_hash))
164.         return result
165. 
166.     def collapse_group_by(self, expressions, having):
167.         # If the DB can group by primary key, then group by the primary key of
168.         # query's main model. Note that for PostgreSQL the GROUP BY clause must
169.         # include the primary key of every table, but for MySQL it is enough to
170.         # have the main table's primary key.
171.         if self.connection.features.allows_group_by_pk:
172.             # Determine if the main model's primary key is in the query.
173.             pk = None
174.             for expr in expressions:
175.                 # Is this a reference to query's base table primary key? If the
176.                 # expression isn't a Col-like, then skip the expression.
177.                 if (
178.                     getattr(expr, "target", None) == self.query.model._meta.pk
179.                     and getattr(expr, "alias", None) == self.query.base_table
180.                 ):
181.                     pk = expr
182.                     break
183.             # If the main model's primary key is in the query, group by that
184.             # field, HAVING expressions, and expressions associated with tables
185.             # that don't have a primary key included in the grouped columns.
186.             if pk:
187.                 pk_aliases = {
188.                     expr.alias
189.                     for expr in expressions
190.                     if hasattr(expr, "target") and expr.target.primary_key
191.                 }
192.                 expressions = [pk] + [
193.                     expr
194.                     for expr in expressions
195.                     if expr in having
196.                     or (
197.                         getattr(expr, "alias", None) is not None
198.                         and expr.alias not in pk_aliases
199.                     )
200.                 ]
201.         elif self.connection.features.allows_group_by_selected_pks:
202.             # Filter out all expressions associated with a table's primary key
203.             # present in the grouped columns. This is done by identifying all
204.             # tables that have their primary key included in the grouped
205.             # columns and removing non-primary key columns referring to them.
206.             # Unmanaged models are excluded because they could be representing
207.             # database views on which the optimization might not be allowed.
208.             pks = {
209.                 expr
210.                 for expr in expressions
211.                 if (
212.                     hasattr(expr, "target")
213.                     and expr.target.primary_key
214.                     and self.connection.features.allows_group_by_selected_pks_on_model(
215.                         expr.target.model
216.                     )
217.                 )
218.             }
219.             aliases = {expr.alias for expr in pks}
220.             expressions = [
221.                 expr
222.                 for expr in expressions
223.                 if expr in pks or getattr(expr, "alias", None) not in aliases
224.             ]
225.         return expressions
226. 
227.     def get_select(self):
228.         """
229.         Return three values:
230.         - a list of 3-tuples of (expression, (sql, params), alias)
231.         - a klass_info structure,
232.         - a dictionary of annotations
233. 
234.         The (sql, params) is what the expression will produce, and alias is the
235.         "AS alias" for the column (possibly None).
236. 
237.         The klass_info structure contains the following information:
238.         - The base model of the query.
239.         - Which columns for that model are present in the query (by
240.           position of the select clause).
241.         - related_klass_infos: [f, klass_info] to descent into
242. 
243.         The annotations is a dictionary of {'attname': column position} values.
244.         """
245.         select = []
246.         klass_info = None
247.         annotations = {}
248.         select_idx = 0
249.         for alias, (sql, params) in self.query.extra_select.items():
250.             annotations[alias] = select_idx
251.             select.append((RawSQL(sql, params), alias))
252.             select_idx += 1
253.         assert not (self.query.select and self.query.default_cols)
254.         if self.query.default_cols:
255.             cols = self.get_default_columns()
256.         else:
257.             # self.query.select is a special case. These columns never go to
258.             # any model.
259.             cols = self.query.select
260.         if cols:
261.             select_list = []
262.             for col in cols:
263.                 select_list.append(select_idx)
264.                 select.append((col, None))
265.                 select_idx += 1
266.             klass_info = {
267.                 "model": self.query.model,
268.                 "select_fields": select_list,
269.             }
270.         for alias, annotation in self.query.annotation_select.items():
271.             annotations[alias] = select_idx
272.             select.append((annotation, alias))
273.             select_idx += 1
274. 
275.         if self.query.select_related:
276.             related_klass_infos = self.get_related_selections(select)
277.             klass_info["related_klass_infos"] = related_klass_infos
278. 
279.             def get_select_from_parent(klass_info):
280.                 for ki in klass_info["related_klass_infos"]:
281.                     if ki["from_parent"]:
282.                         ki["select_fields"] = (
283.                             klass_info["select_fields"] + ki["select_fields"]
284.                         )
285.                     get_select_from_parent(ki)
286. 
287.             get_select_from_parent(klass_info)
288. 
289.         ret = []
290.         for col, alias in select:
291.             try:
292.                 sql, params = self.compile(col)
293.             except EmptyResultSet:
294.                 empty_result_set_value = getattr(
295.                     col, "empty_result_set_value", NotImplemented
296.                 )
297.                 if empty_result_set_value is NotImplemented:
298.                     # Select a predicate that's always False.
299.                     sql, params = "0", ()
300.                 else:
301.                     sql, params = self.compile(Value(empty_result_set_value))
302.             else:
303.                 sql, params = col.select_format(self, sql, params)
304.             ret.append((col, (sql, params), alias))
305.         return ret, klass_info, annotations
306. 
307.     def _order_by_pairs(self):
308.         if self.query.extra_order_by:
309.             ordering = self.query.extra_order_by
310.         elif not self.query.default_ordering:
311.             ordering = self.query.order_by
312.         elif self.query.order_by:
313.             ordering = self.query.order_by
314.         elif (meta := self.query.get_meta()) and meta.ordering:
315.             ordering = meta.ordering
316.             self._meta_ordering = ordering
317.         else:
318.             ordering = []
319.         if self.query.standard_ordering:
320.             default_order, _ = ORDER_DIR["ASC"]
321.         else:
322.             default_order, _ = ORDER_DIR["DESC"]
323. 
324.         for field in ordering:
325.             if hasattr(field, "resolve_expression"):
326.                 if isinstance(field, Value):
327.                     # output_field must be resolved for constants.
328.                     field = Cast(field, field.output_field)
329.                 if not isinstance(field, OrderBy):
330.                     field = field.asc()
331.                 if not self.query.standard_ordering:
332.                     field = field.copy()
333.                     field.reverse_ordering()
334.                 yield field, False
335.                 continue
336.             if field == "?":  # random
337.                 yield OrderBy(Random()), False
338.                 continue
339. 
340.             col, order = get_order_dir(field, default_order)
341.             descending = order == "DESC"
342. 
343.             if col in self.query.annotation_select:
344.                 # Reference to expression in SELECT clause
345.                 yield (
346.                     OrderBy(
347.                         Ref(col, self.query.annotation_select[col]),
348.                         descending=descending,
349.                     ),
350.                     True,
351.                 )
352.                 continue
353.             if col in self.query.annotations:
354.                 # References to an expression which is masked out of the SELECT
355.                 # clause.
356.                 if self.query.combinator and self.select:
357.                     # Don't use the resolved annotation because other
358.                     # combinated queries might define it differently.
359.                     expr = F(col)
360.                 else:
361.                     expr = self.query.annotations[col]
362.                     if isinstance(expr, Value):
363.                         # output_field must be resolved for constants.
364.                         expr = Cast(expr, expr.output_field)
365.                 yield OrderBy(expr, descending=descending), False
366.                 continue
367. 
368.             if "." in field:
369.                 # This came in through an extra(order_by=...) addition. Pass it
370.                 # on verbatim.
371.                 table, col = col.split(".", 1)
372.                 yield (
373.                     OrderBy(
374.                         RawSQL(
375.                             "%s.%s" % (self.quote_name_unless_alias(table), col), []
376.                         ),
377.                         descending=descending,
378.                     ),
379.                     False,
380.                 )
381.                 continue
382. 
383.             if self.query.extra and col in self.query.extra:
384.                 if col in self.query.extra_select:
385.                     yield (
386.                         OrderBy(
387.                             Ref(col, RawSQL(*self.query.extra[col])),
388.                             descending=descending,
389.                         ),
390.                         True,
391.                     )
392.                 else:
393.                     yield (
394.                         OrderBy(RawSQL(*self.query.extra[col]), descending=descending),
395.                         False,
396.                     )
397.             else:
398.                 if self.query.combinator and self.select:
399.                     # Don't use the first model's field because other
400.                     # combinated queries might define it differently.
401.                     yield OrderBy(F(col), descending=descending), False
402.                 else:
403.                     # 'col' is of the form 'field' or 'field1__field2' or
404.                     # '-field1__field2__field', etc.
405.                     yield from self.find_ordering_name(
406.                         field,
407.                         self.query.get_meta(),
408.                         default_order=default_order,
409.                     )
410. 
411.     def get_order_by(self):
412.         """
413.         Return a list of 2-tuples of the form (expr, (sql, params, is_ref)) for
414.         the ORDER BY clause.
415. 
416.         The order_by clause can alter the select clause (for example it can add
417.         aliases to clauses that do not yet have one, or it can add totally new
418.         select clauses).
419.         """
420.         result = []
421.         seen = set()
422. 
423.         for expr, is_ref in self._order_by_pairs():
424.             resolved = expr.resolve_expression(self.query, allow_joins=True, reuse=None)
425.             if self.query.combinator and self.select:
426.                 src = resolved.get_source_expressions()[0]
427.                 expr_src = expr.get_source_expressions()[0]
428.                 # Relabel order by columns to raw numbers if this is a combined
429.                 # query; necessary since the columns can't be referenced by the
430.                 # fully qualified name and the simple column names may collide.
431.                 for idx, (sel_expr, _, col_alias) in enumerate(self.select):
432.                     if is_ref and col_alias == src.refs:
433.                         src = src.source
434.                     elif col_alias and not (
435.                         isinstance(expr_src, F) and col_alias == expr_src.name
436.                     ):
437.                         continue
438.                     if src == sel_expr:
439.                         resolved.set_source_expressions([RawSQL("%d" % (idx + 1), ())])
440.                         break
441.                 else:
442.                     if col_alias:
443.                         raise DatabaseError(
444.                             "ORDER BY term does not match any column in the result set."
445.                         )
446.                     # Add column used in ORDER BY clause to the selected
447.                     # columns and to each combined query.
448.                     order_by_idx = len(self.query.select) + 1
449.                     col_name = f"__orderbycol{order_by_idx}"
450.                     for q in self.query.combined_queries:
451.                         q.add_annotation(expr_src, col_name)
452.                     self.query.add_select_col(resolved, col_name)
453.                     resolved.set_source_expressions([RawSQL(f"{order_by_idx}", ())])
454.             sql, params = self.compile(resolved)
455.             # Don't add the same column twice, but the order direction is
456.             # not taken into account so we strip it. When this entire method
457.             # is refactored into expressions, then we can check each part as we
458.             # generate it.
459.             without_ordering = self.ordering_parts.search(sql)[1]
460.             params_hash = make_hashable(params)
461.             if (without_ordering, params_hash) in seen:
462.                 continue
463.             seen.add((without_ordering, params_hash))
464.             result.append((resolved, (sql, params, is_ref)))
465.         return result
466. 
467.     def get_extra_select(self, order_by, select):
468.         extra_select = []
469.         if self.query.distinct and not self.query.distinct_fields:
470.             select_sql = [t[1] for t in select]
471.             for expr, (sql, params, is_ref) in order_by:
472.                 without_ordering = self.ordering_parts.search(sql)[1]
473.                 if not is_ref and (without_ordering, params) not in select_sql:
474.                     extra_select.append((expr, (without_ordering, params), None))
475.         return extra_select
476. 
477.     def quote_name_unless_alias(self, name):
478.         """
479.         A wrapper around connection.ops.quote_name that doesn't quote aliases
480.         for table names. This avoids problems with some SQL dialects that treat
481.         quoted strings specially (e.g. PostgreSQL).
482.         """
483.         if name in self.quote_cache:
484.             return self.quote_cache[name]
485.         if (
486.             (name in self.query.alias_map and name not in self.query.table_map)
487.             or name in self.query.extra_select
488.             or (
489.                 self.query.external_aliases.get(name)
490.                 and name not in self.query.table_map
491.             )
492.         ):
493.             self.quote_cache[name] = name
494.             return name
495.         r = self.connection.ops.quote_name(name)
496.         self.quote_cache[name] = r
497.         return r
498. 
499.     def compile(self, node):
500.         vendor_impl = getattr(node, "as_" + self.connection.vendor, None)


File: django/db/models/sql/compiler.py
Line number range: 501 - 1001
Content:
501.         if vendor_impl:
502.             sql, params = vendor_impl(self, self.connection)
503.         else:
504.             sql, params = node.as_sql(self, self.connection)
505.         return sql, params
506. 
507.     def get_combinator_sql(self, combinator, all):
508.         features = self.connection.features
509.         compilers = [
510.             query.get_compiler(self.using, self.connection, self.elide_empty)
511.             for query in self.query.combined_queries
512.             if not query.is_empty()
513.         ]
514.         if not features.supports_slicing_ordering_in_compound:
515.             for query, compiler in zip(self.query.combined_queries, compilers):
516.                 if query.low_mark or query.high_mark:
517.                     raise DatabaseError(
518.                         "LIMIT/OFFSET not allowed in subqueries of compound statements."
519.                     )
520.                 if compiler.get_order_by():
521.                     raise DatabaseError(
522.                         "ORDER BY not allowed in subqueries of compound statements."
523.                     )
524.         parts = ()
525.         for compiler in compilers:
526.             try:
527.                 # If the columns list is limited, then all combined queries
528.                 # must have the same columns list. Set the selects defined on
529.                 # the query on all combined queries, if not already set.
530.                 if not compiler.query.values_select and self.query.values_select:
531.                     compiler.query = compiler.query.clone()
532.                     compiler.query.set_values(
533.                         (
534.                             *self.query.extra_select,
535.                             *self.query.values_select,
536.                             *self.query.annotation_select,
537.                         )
538.                     )
539.                 part_sql, part_args = compiler.as_sql()
540.                 if compiler.query.combinator:
541.                     # Wrap in a subquery if wrapping in parentheses isn't
542.                     # supported.
543.                     if not features.supports_parentheses_in_compound:
544.                         part_sql = "SELECT * FROM ({})".format(part_sql)
545.                     # Add parentheses when combining with compound query if not
546.                     # already added for all compound queries.
547.                     elif (
548.                         self.query.subquery
549.                         or not features.supports_slicing_ordering_in_compound
550.                     ):
551.                         part_sql = "({})".format(part_sql)
552.                 elif (
553.                     self.query.subquery
554.                     and features.supports_slicing_ordering_in_compound
555.                 ):
556.                     part_sql = "({})".format(part_sql)
557.                 parts += ((part_sql, part_args),)
558.             except EmptyResultSet:
559.                 # Omit the empty queryset with UNION and with DIFFERENCE if the
560.                 # first queryset is nonempty.
561.                 if combinator == "union" or (combinator == "difference" and parts):
562.                     continue
563.                 raise
564.         if not parts:
565.             raise EmptyResultSet
566.         combinator_sql = self.connection.ops.set_operators[combinator]
567.         if all and combinator == "union":
568.             combinator_sql += " ALL"
569.         braces = "{}"
570.         if not self.query.subquery and features.supports_slicing_ordering_in_compound:
571.             braces = "({})"
572.         sql_parts, args_parts = zip(
573.             *((braces.format(sql), args) for sql, args in parts)
574.         )
575.         result = [" {} ".format(combinator_sql).join(sql_parts)]
576.         params = []
577.         for part in args_parts:
578.             params.extend(part)
579.         return result, params
580. 
581.     def as_sql(self, with_limits=True, with_col_aliases=False):
582.         """
583.         Create the SQL for this query. Return the SQL string and list of
584.         parameters.
585. 
586.         If 'with_limits' is False, any limit/offset information is not included
587.         in the query.
588.         """
589.         refcounts_before = self.query.alias_refcount.copy()
590.         try:
591.             extra_select, order_by, group_by = self.pre_sql_setup()
592.             for_update_part = None
593.             # Is a LIMIT/OFFSET clause needed?
594.             with_limit_offset = with_limits and (
595.                 self.query.high_mark is not None or self.query.low_mark
596.             )
597.             combinator = self.query.combinator
598.             features = self.connection.features
599.             if combinator:
600.                 if not getattr(features, "supports_select_{}".format(combinator)):
601.                     raise NotSupportedError(
602.                         "{} is not supported on this database backend.".format(
603.                             combinator
604.                         )
605.                     )
606.                 result, params = self.get_combinator_sql(
607.                     combinator, self.query.combinator_all
608.                 )
609.             else:
610.                 distinct_fields, distinct_params = self.get_distinct()
611.                 # This must come after 'select', 'ordering', and 'distinct'
612.                 # (see docstring of get_from_clause() for details).
613.                 from_, f_params = self.get_from_clause()
614.                 try:
615.                     where, w_params = (
616.                         self.compile(self.where) if self.where is not None else ("", [])
617.                     )
618.                 except EmptyResultSet:
619.                     if self.elide_empty:
620.                         raise
621.                     # Use a predicate that's always False.
622.                     where, w_params = "0 = 1", []
623.                 having, h_params = (
624.                     self.compile(self.having) if self.having is not None else ("", [])
625.                 )
626.                 result = ["SELECT"]
627.                 params = []
628. 
629.                 if self.query.distinct:
630.                     distinct_result, distinct_params = self.connection.ops.distinct_sql(
631.                         distinct_fields,
632.                         distinct_params,
633.                     )
634.                     result += distinct_result
635.                     params += distinct_params
636. 
637.                 out_cols = []
638.                 col_idx = 1
639.                 for _, (s_sql, s_params), alias in self.select + extra_select:
640.                     if alias:
641.                         s_sql = "%s AS %s" % (
642.                             s_sql,
643.                             self.connection.ops.quote_name(alias),
644.                         )
645.                     elif with_col_aliases:
646.                         s_sql = "%s AS %s" % (
647.                             s_sql,
648.                             self.connection.ops.quote_name("col%d" % col_idx),
649.                         )
650.                         col_idx += 1
651.                     params.extend(s_params)
652.                     out_cols.append(s_sql)
653. 
654.                 result += [", ".join(out_cols)]
655.                 if from_:
656.                     result += ["FROM", *from_]
657.                 elif self.connection.features.bare_select_suffix:
658.                     result += [self.connection.features.bare_select_suffix]
659.                 params.extend(f_params)
660. 
661.                 if self.query.select_for_update and features.has_select_for_update:
662.                     if (
663.                         self.connection.get_autocommit()
664.                         # Don't raise an exception when database doesn't
665.                         # support transactions, as it's a noop.
666.                         and features.supports_transactions
667.                     ):
668.                         raise TransactionManagementError(
669.                             "select_for_update cannot be used outside of a transaction."
670.                         )
671. 
672.                     if (
673.                         with_limit_offset
674.                         and not features.supports_select_for_update_with_limit
675.                     ):
676.                         raise NotSupportedError(
677.                             "LIMIT/OFFSET is not supported with "
678.                             "select_for_update on this database backend."
679.                         )
680.                     nowait = self.query.select_for_update_nowait
681.                     skip_locked = self.query.select_for_update_skip_locked
682.                     of = self.query.select_for_update_of
683.                     no_key = self.query.select_for_no_key_update
684.                     # If it's a NOWAIT/SKIP LOCKED/OF/NO KEY query but the
685.                     # backend doesn't support it, raise NotSupportedError to
686.                     # prevent a possible deadlock.
687.                     if nowait and not features.has_select_for_update_nowait:
688.                         raise NotSupportedError(
689.                             "NOWAIT is not supported on this database backend."
690.                         )
691.                     elif skip_locked and not features.has_select_for_update_skip_locked:
692.                         raise NotSupportedError(
693.                             "SKIP LOCKED is not supported on this database backend."
694.                         )
695.                     elif of and not features.has_select_for_update_of:
696.                         raise NotSupportedError(
697.                             "FOR UPDATE OF is not supported on this database backend."
698.                         )
699.                     elif no_key and not features.has_select_for_no_key_update:
700.                         raise NotSupportedError(
701.                             "FOR NO KEY UPDATE is not supported on this "
702.                             "database backend."
703.                         )
704.                     for_update_part = self.connection.ops.for_update_sql(
705.                         nowait=nowait,
706.                         skip_locked=skip_locked,
707.                         of=self.get_select_for_update_of_arguments(),
708.                         no_key=no_key,
709.                     )
710. 
711.                 if for_update_part and features.for_update_after_from:
712.                     result.append(for_update_part)
713. 
714.                 if where:
715.                     result.append("WHERE %s" % where)
716.                     params.extend(w_params)
717. 
718.                 grouping = []
719.                 for g_sql, g_params in group_by:
720.                     grouping.append(g_sql)
721.                     params.extend(g_params)
722.                 if grouping:
723.                     if distinct_fields:
724.                         raise NotImplementedError(
725.                             "annotate() + distinct(fields) is not implemented."
726.                         )
727.                     order_by = order_by or self.connection.ops.force_no_ordering()
728.                     result.append("GROUP BY %s" % ", ".join(grouping))
729.                     if self._meta_ordering:
730.                         order_by = None
731.                 if having:
732.                     result.append("HAVING %s" % having)
733.                     params.extend(h_params)
734. 
735.             if self.query.explain_info:
736.                 result.insert(
737.                     0,
738.                     self.connection.ops.explain_query_prefix(
739.                         self.query.explain_info.format,
740.                         **self.query.explain_info.options,
741.                     ),
742.                 )
743. 
744.             if order_by:
745.                 ordering = []
746.                 for _, (o_sql, o_params, _) in order_by:
747.                     ordering.append(o_sql)
748.                     params.extend(o_params)
749.                 result.append("ORDER BY %s" % ", ".join(ordering))
750. 
751.             if with_limit_offset:
752.                 result.append(
753.                     self.connection.ops.limit_offset_sql(
754.                         self.query.low_mark, self.query.high_mark
755.                     )
756.                 )
757. 
758.             if for_update_part and not features.for_update_after_from:
759.                 result.append(for_update_part)
760. 
761.             if self.query.subquery and extra_select:
762.                 # If the query is used as a subquery, the extra selects would
763.                 # result in more columns than the left-hand side expression is
764.                 # expecting. This can happen when a subquery uses a combination
765.                 # of order_by() and distinct(), forcing the ordering expressions
766.                 # to be selected as well. Wrap the query in another subquery
767.                 # to exclude extraneous selects.
768.                 sub_selects = []
769.                 sub_params = []
770.                 for index, (select, _, alias) in enumerate(self.select, start=1):
771.                     if not alias and with_col_aliases:
772.                         alias = "col%d" % index
773.                     if alias:
774.                         sub_selects.append(
775.                             "%s.%s"
776.                             % (
777.                                 self.connection.ops.quote_name("subquery"),
778.                                 self.connection.ops.quote_name(alias),
779.                             )
780.                         )
781.                     else:
782.                         select_clone = select.relabeled_clone(
783.                             {select.alias: "subquery"}
784.                         )
785.                         subselect, subparams = select_clone.as_sql(
786.                             self, self.connection
787.                         )
788.                         sub_selects.append(subselect)
789.                         sub_params.extend(subparams)
790.                 return "SELECT %s FROM (%s) subquery" % (
791.                     ", ".join(sub_selects),
792.                     " ".join(result),
793.                 ), tuple(sub_params + params)
794. 
795.             return " ".join(result), tuple(params)
796.         finally:
797.             # Finally do cleanup - get rid of the joins we created above.
798.             self.query.reset_refcounts(refcounts_before)
799. 
800.     def get_default_columns(self, start_alias=None, opts=None, from_parent=None):
801.         """
802.         Compute the default columns for selecting every field in the base
803.         model. Will sometimes be called to pull in related models (e.g. via
804.         select_related), in which case "opts" and "start_alias" will be given
805.         to provide a starting point for the traversal.
806. 
807.         Return a list of strings, quoted appropriately for use in SQL
808.         directly, as well as a set of aliases used in the select statement (if
809.         'as_pairs' is True, return a list of (alias, col_name) pairs instead
810.         of strings as the first component and None as the second component).
811.         """
812.         result = []
813.         if opts is None:
814.             if (opts := self.query.get_meta()) is None:
815.                 return result
816.         only_load = self.deferred_to_columns()
817.         start_alias = start_alias or self.query.get_initial_alias()
818.         # The 'seen_models' is used to optimize checking the needed parent
819.         # alias for a given field. This also includes None -> start_alias to
820.         # be used by local fields.
821.         seen_models = {None: start_alias}
822. 
823.         for field in opts.concrete_fields:
824.             model = field.model._meta.concrete_model
825.             # A proxy model will have a different model and concrete_model. We
826.             # will assign None if the field belongs to this model.
827.             if model == opts.model:
828.                 model = None
829.             if (
830.                 from_parent
831.                 and model is not None
832.                 and issubclass(
833.                     from_parent._meta.concrete_model, model._meta.concrete_model
834.                 )
835.             ):
836.                 # Avoid loading data for already loaded parents.
837.                 # We end up here in the case select_related() resolution
838.                 # proceeds from parent model to child model. In that case the
839.                 # parent model data is already present in the SELECT clause,
840.                 # and we want to avoid reloading the same data again.
841.                 continue
842.             if field.model in only_load and field.attname not in only_load[field.model]:
843.                 continue
844.             alias = self.query.join_parent_model(opts, model, start_alias, seen_models)
845.             column = field.get_col(alias)
846.             result.append(column)
847.         return result
848. 
849.     def get_distinct(self):
850.         """
851.         Return a quoted list of fields to use in DISTINCT ON part of the query.
852. 
853.         This method can alter the tables in the query, and thus it must be
854.         called before get_from_clause().
855.         """
856.         result = []
857.         params = []
858.         opts = self.query.get_meta()
859. 
860.         for name in self.query.distinct_fields:
861.             parts = name.split(LOOKUP_SEP)
862.             _, targets, alias, joins, path, _, transform_function = self._setup_joins(
863.                 parts, opts, None
864.             )
865.             targets, alias, _ = self.query.trim_joins(targets, joins, path)
866.             for target in targets:
867.                 if name in self.query.annotation_select:
868.                     result.append(self.connection.ops.quote_name(name))
869.                 else:
870.                     r, p = self.compile(transform_function(target, alias))
871.                     result.append(r)
872.                     params.append(p)
873.         return result, params
874. 
875.     def find_ordering_name(
876.         self, name, opts, alias=None, default_order="ASC", already_seen=None
877.     ):
878.         """
879.         Return the table alias (the name might be ambiguous, the alias will
880.         not be) and column name for ordering by the given 'name' parameter.
881.         The 'name' is of the form 'field1__field2__...__fieldN'.
882.         """
883.         name, order = get_order_dir(name, default_order)
884.         descending = order == "DESC"
885.         pieces = name.split(LOOKUP_SEP)
886.         (
887.             field,
888.             targets,
889.             alias,
890.             joins,
891.             path,
892.             opts,
893.             transform_function,
894.         ) = self._setup_joins(pieces, opts, alias)
895. 
896.         # If we get to this point and the field is a relation to another model,
897.         # append the default ordering for that model unless it is the pk
898.         # shortcut or the attribute name of the field that is specified.
899.         if (
900.             field.is_relation
901.             and opts.ordering
902.             and getattr(field, "attname", None) != pieces[-1]
903.             and name != "pk"
904.         ):
905.             # Firstly, avoid infinite loops.
906.             already_seen = already_seen or set()
907.             join_tuple = tuple(
908.                 getattr(self.query.alias_map[j], "join_cols", None) for j in joins
909.             )
910.             if join_tuple in already_seen:
911.                 raise FieldError("Infinite loop caused by ordering.")
912.             already_seen.add(join_tuple)
913. 
914.             results = []
915.             for item in opts.ordering:
916.                 if hasattr(item, "resolve_expression") and not isinstance(
917.                     item, OrderBy
918.                 ):
919.                     item = item.desc() if descending else item.asc()
920.                 if isinstance(item, OrderBy):
921.                     results.append(
922.                         (item.prefix_references(f"{name}{LOOKUP_SEP}"), False)
923.                     )
924.                     continue
925.                 results.extend(
926.                     (expr.prefix_references(f"{name}{LOOKUP_SEP}"), is_ref)
927.                     for expr, is_ref in self.find_ordering_name(
928.                         item, opts, alias, order, already_seen
929.                     )
930.                 )
931.             return results
932.         targets, alias, _ = self.query.trim_joins(targets, joins, path)
933.         return [
934.             (OrderBy(transform_function(t, alias), descending=descending), False)
935.             for t in targets
936.         ]
937. 
938.     def _setup_joins(self, pieces, opts, alias):
939.         """
940.         Helper method for get_order_by() and get_distinct().
941. 
942.         get_ordering() and get_distinct() must produce same target columns on
943.         same input, as the prefixes of get_ordering() and get_distinct() must
944.         match. Executing SQL where this is not true is an error.
945.         """
946.         alias = alias or self.query.get_initial_alias()
947.         field, targets, opts, joins, path, transform_function = self.query.setup_joins(
948.             pieces, opts, alias
949.         )
950.         alias = joins[-1]
951.         return field, targets, alias, joins, path, opts, transform_function
952. 
953.     def get_from_clause(self):
954.         """
955.         Return a list of strings that are joined together to go after the
956.         "FROM" part of the query, as well as a list any extra parameters that
957.         need to be included. Subclasses, can override this to create a
958.         from-clause via a "select".
959. 
960.         This should only be called after any SQL construction methods that
961.         might change the tables that are needed. This means the select columns,
962.         ordering, and distinct must be done first.
963.         """
964.         result = []
965.         params = []
966.         for alias in tuple(self.query.alias_map):
967.             if not self.query.alias_refcount[alias]:
968.                 continue
969.             try:
970.                 from_clause = self.query.alias_map[alias]
971.             except KeyError:
972.                 # Extra tables can end up in self.tables, but not in the
973.                 # alias_map if they aren't in a join. That's OK. We skip them.
974.                 continue
975.             clause_sql, clause_params = self.compile(from_clause)
976.             result.append(clause_sql)
977.             params.extend(clause_params)
978.         for t in self.query.extra_tables:
979.             alias, _ = self.query.table_alias(t)
980.             # Only add the alias if it's not already present (the table_alias()
981.             # call increments the refcount, so an alias refcount of one means
982.             # this is the only reference).
983.             if (
984.                 alias not in self.query.alias_map
985.                 or self.query.alias_refcount[alias] == 1
986.             ):
987.                 result.append(", %s" % self.quote_name_unless_alias(alias))
988.         return result, params
989. 
990.     def get_related_selections(
991.         self,
992.         select,
993.         opts=None,
994.         root_alias=None,
995.         cur_depth=1,
996.         requested=None,
997.         restricted=None,
998.     ):
999.         """
1000.         Fill in the information needed for a select_related query. The current
1001.         depth is measured as the number of connections away from the root model


File: django/db/models/sql/compiler.py
Line number range: 1001 - 1202
Content:
1001.         depth is measured as the number of connections away from the root model
1002.         (for example, cur_depth=1 means we are looking at models with direct
1003.         connections to the root model).
1004.         """
1005. 
1006.         def _get_field_choices():
1007.             direct_choices = (f.name for f in opts.fields if f.is_relation)
1008.             reverse_choices = (
1009.                 f.field.related_query_name()
1010.                 for f in opts.related_objects
1011.                 if f.field.unique
1012.             )
1013.             return chain(
1014.                 direct_choices, reverse_choices, self.query._filtered_relations
1015.             )
1016. 
1017.         related_klass_infos = []
1018.         if not restricted and cur_depth > self.query.max_depth:
1019.             # We've recursed far enough; bail out.
1020.             return related_klass_infos
1021. 
1022.         if not opts:
1023.             opts = self.query.get_meta()
1024.             root_alias = self.query.get_initial_alias()
1025.         only_load = self.deferred_to_columns()
1026. 
1027.         # Setup for the case when only particular related fields should be
1028.         # included in the related selection.
1029.         fields_found = set()
1030.         if requested is None:
1031.             restricted = isinstance(self.query.select_related, dict)
1032.             if restricted:
1033.                 requested = self.query.select_related
1034. 
1035.         def get_related_klass_infos(klass_info, related_klass_infos):
1036.             klass_info["related_klass_infos"] = related_klass_infos
1037. 
1038.         for f in opts.fields:
1039.             field_model = f.model._meta.concrete_model
1040.             fields_found.add(f.name)
1041. 
1042.             if restricted:
1043.                 next = requested.get(f.name, {})
1044.                 if not f.is_relation:
1045.                     # If a non-related field is used like a relation,
1046.                     # or if a single non-relational field is given.
1047.                     if next or f.name in requested:
1048.                         raise FieldError(
1049.                             "Non-relational field given in select_related: '%s'. "
1050.                             "Choices are: %s"
1051.                             % (
1052.                                 f.name,
1053.                                 ", ".join(_get_field_choices()) or "(none)",
1054.                             )
1055.                         )
1056.             else:
1057.                 next = False
1058. 
1059.             if not select_related_descend(
1060.                 f, restricted, requested, only_load.get(field_model)
1061.             ):
1062.                 continue
1063.             klass_info = {
1064.                 "model": f.remote_field.model,
1065.                 "field": f,
1066.                 "reverse": False,
1067.                 "local_setter": f.set_cached_value,
1068.                 "remote_setter": f.remote_field.set_cached_value
1069.                 if f.unique
1070.                 else lambda x, y: None,
1071.                 "from_parent": False,
1072.             }
1073.             related_klass_infos.append(klass_info)
1074.             select_fields = []
1075.             _, _, _, joins, _, _ = self.query.setup_joins([f.name], opts, root_alias)
1076.             alias = joins[-1]
1077.             columns = self.get_default_columns(
1078.                 start_alias=alias, opts=f.remote_field.model._meta
1079.             )
1080.             for col in columns:
1081.                 select_fields.append(len(select))
1082.                 select.append((col, None))
1083.             klass_info["select_fields"] = select_fields
1084.             next_klass_infos = self.get_related_selections(
1085.                 select,
1086.                 f.remote_field.model._meta,
1087.                 alias,
1088.                 cur_depth + 1,
1089.                 next,
1090.                 restricted,
1091.             )
1092.             get_related_klass_infos(klass_info, next_klass_infos)
1093. 
1094.         if restricted:
1095.             related_fields = [
1096.                 (o.field, o.related_model)
1097.                 for o in opts.related_objects
1098.                 if o.field.unique and not o.many_to_many
1099.             ]
1100.             for f, model in related_fields:
1101.                 if not select_related_descend(
1102.                     f, restricted, requested, only_load.get(model), reverse=True
1103.                 ):
1104.                     continue
1105. 
1106.                 related_field_name = f.related_query_name()
1107.                 fields_found.add(related_field_name)
1108. 
1109.                 join_info = self.query.setup_joins(
1110.                     [related_field_name], opts, root_alias
1111.                 )
1112.                 alias = join_info.joins[-1]
1113.                 from_parent = issubclass(model, opts.model) and model is not opts.model
1114.                 klass_info = {
1115.                     "model": model,
1116.                     "field": f,
1117.                     "reverse": True,
1118.                     "local_setter": f.remote_field.set_cached_value,
1119.                     "remote_setter": f.set_cached_value,
1120.                     "from_parent": from_parent,
1121.                 }
1122.                 related_klass_infos.append(klass_info)
1123.                 select_fields = []
1124.                 columns = self.get_default_columns(
1125.                     start_alias=alias, opts=model._meta, from_parent=opts.model
1126.                 )
1127.                 for col in columns:
1128.                     select_fields.append(len(select))
1129.                     select.append((col, None))
1130.                 klass_info["select_fields"] = select_fields
1131.                 next = requested.get(f.related_query_name(), {})
1132.                 next_klass_infos = self.get_related_selections(
1133.                     select, model._meta, alias, cur_depth + 1, next, restricted
1134.                 )
1135.                 get_related_klass_infos(klass_info, next_klass_infos)
1136. 
1137.             def local_setter(obj, from_obj):
1138.                 # Set a reverse fk object when relation is non-empty.
1139.                 if from_obj:
1140.                     f.remote_field.set_cached_value(from_obj, obj)
1141. 
1142.             def remote_setter(name, obj, from_obj):
1143.                 setattr(from_obj, name, obj)
1144. 
1145.             for name in list(requested):
1146.                 # Filtered relations work only on the topmost level.
1147.                 if cur_depth > 1:
1148.                     break
1149.                 if name in self.query._filtered_relations:
1150.                     fields_found.add(name)
1151.                     f, _, join_opts, joins, _, _ = self.query.setup_joins(
1152.                         [name], opts, root_alias
1153.                     )
1154.                     model = join_opts.model
1155.                     alias = joins[-1]
1156.                     from_parent = (
1157.                         issubclass(model, opts.model) and model is not opts.model
1158.                     )
1159.                     klass_info = {
1160.                         "model": model,
1161.                         "field": f,
1162.                         "reverse": True,
1163.                         "local_setter": local_setter,
1164.                         "remote_setter": partial(remote_setter, name),
1165.                         "from_parent": from_parent,
1166.                     }
1167.                     related_klass_infos.append(klass_info)
1168.                     select_fields = []
1169.                     columns = self.get_default_columns(
1170.                         start_alias=alias,
1171.                         opts=model._meta,
1172.                         from_parent=opts.model,
1173.                     )
1174.                     for col in columns:
1175.                         select_fields.append(len(select))
1176.                         select.append((col, None))
1177.                     klass_info["select_fields"] = select_fields
1178.                     next_requested = requested.get(name, {})
1179.                     next_klass_infos = self.get_related_selections(
1180.                         select,
1181.                         opts=model._meta,
1182.                         root_alias=alias,
1183.                         cur_depth=cur_depth + 1,
1184.                         requested=next_requested,
1185.                         restricted=restricted,
1186.                     )
1187.                     get_related_klass_infos(klass_info, next_klass_infos)
1188.             fields_not_found = set(requested).difference(fields_found)
1189.             if fields_not_found:
1190.                 invalid_fields = ("'%s'" % s for s in fields_not_found)
1191.                 raise FieldError(
1192.                     "Invalid field name(s) given in select_related: %s. "
1193.                     "Choices are: %s"
1194.                     % (
1195.                         ", ".join(invalid_fields),
1196.                         ", ".join(_get_field_choices()) or "(none)",
1197.                     )
1198.                 )
1199.         return related_klass_infos
1200. 
1201.     def get_select_for_update_of_arguments(self):
1202.         """

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 08:10:16,929 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user has requested the full content of the file `django/db/models/sql/compiler.py`. The provided context contains the entire file content from line 1 to 1202, which directly answers the user's query.", relative_path='django/db/models/sql/compiler.py', start_line=1, end_line=1202)]
2025-12-21 08:10:16,932 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `django/db/models/sql/compiler.py`.
2025-12-21 08:10:16,932 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 08:10:16,933 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 08:10:16,933 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-21 08:10:16,933 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-21 08:10:16,934 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── async_queryset
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Case() crashes with ~Q(pk__in=[]).

Description: Description
	
The following code generates a syntax error. 
User.objects.annotate(
	_a=Case(
		When(~Q(pk__in=[]), then=Value(True)),
		default=Value(False),
		output_field=BooleanField(),
	)
).order_by("-a").values("pk")
The error is: 
ProgrammingError: syntax error at or near "THEN"
LINE 1: ..._user"."id" FROM "users_user" ORDER BY CASE WHEN THEN true ...
The generated SQL is: 
SELECT "users_user"."id" FROM "users_user" ORDER BY CASE WHEN THEN True ELSE False END ASC
I expected behavior to annotate all rows with the value True since they all match.
Relevant because ~Q(pkin=[]) is a sentinel value that is sometimes returned by application code.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 822968ef56..d913bc3172 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1383,14 +1383,32 @@ class Case(SQLiteNumericMixin, Expression):
         template_params = {**self.extra, **extra_context}
         case_parts = []
         sql_params = []
+        forced_default = None
         for case in self.cases:
             try:
-                case_sql, case_params = compiler.compile(case)
+                condition_sql, condition_params = compiler.compile(case.condition)
             except EmptyResultSet:
                 continue
+            # If the condition matches everything, short-circuit.
+            if not condition_sql:
+                result_sql, result_params = compiler.compile(case.result)
+                if not case_parts:
+                    sql = result_sql
+                    params = result_params
+                    if self._output_field_or_none is not None:
+                        sql = connection.ops.unification_cast_sql(self.output_field) % sql
+                    return sql, params
+                forced_default = (result_sql, result_params)
+                break
+            result_sql, result_params = compiler.compile(case.result)
+            case_sql = f"WHEN {condition_sql} THEN {result_sql}"
             case_parts.append(case_sql)
-            sql_params.extend(case_params)
-        default_sql, default_params = compiler.compile(self.default)
+            sql_params.extend(condition_params)
+            sql_params.extend(result_params)
+        if forced_default is not None:
+            default_sql, default_params = forced_default
+        else:
+            default_sql, default_params = compiler.compile(self.default)
         if not case_parts:
             return default_sql, default_params
         case_joiner = case_joiner or self.case_joiner


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `django/db/models/expressions.py`.
Extra Requirements: 
Purpose: I need to examine the implementation of `Case` and `When` expressions to understand how they are compiled into SQL and why the provided `~Q(pk__in=[])` condition causes a syntax error.

Previous refined query 2:
Essential Query: Please provide the full content of `django/db/models/sql/compiler.py`.
Extra Requirements: 
Purpose: This will help me trace the compilation of the `Q` object and understand the root cause of the empty SQL string that leads to the syntax error.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: django/db/models/expressions.py
Line number range: 1 - 1500
Content:
1. import copy
2. import datetime
3. import functools
4. import inspect
5. import warnings
6. from collections import defaultdict
7. from decimal import Decimal
8. from uuid import UUID
9. 
10. from django.core.exceptions import EmptyResultSet, FieldError
11. from django.db import DatabaseError, NotSupportedError, connection
12. from django.db.models import fields
13. from django.db.models.constants import LOOKUP_SEP
14. from django.db.models.query_utils import Q
15. from django.utils.deconstruct import deconstructible
16. from django.utils.deprecation import RemovedInDjango50Warning
17. from django.utils.functional import cached_property
18. from django.utils.hashable import make_hashable
19. 
20. 
21. class SQLiteNumericMixin:
22.     """
23.     Some expressions with output_field=DecimalField() must be cast to
24.     numeric to be properly filtered.
25.     """
26. 
27.     def as_sqlite(self, compiler, connection, **extra_context):
28.         sql, params = self.as_sql(compiler, connection, **extra_context)
29.         try:
30.             if self.output_field.get_internal_type() == "DecimalField":
31.                 sql = "CAST(%s AS NUMERIC)" % sql
32.         except FieldError:
33.             pass
34.         return sql, params
35. 
36. 
37. class Combinable:
38.     """
39.     Provide the ability to combine one or two objects with
40.     some connector. For example F('foo') + F('bar').
41.     """
42. 
43.     # Arithmetic connectors
44.     ADD = "+"
45.     SUB = "-"
46.     MUL = "*"
47.     DIV = "/"
48.     POW = "^"
49.     # The following is a quoted % operator - it is quoted because it can be
50.     # used in strings that also have parameter substitution.
51.     MOD = "%%"
52. 
53.     # Bitwise operators - note that these are generated by .bitand()
54.     # and .bitor(), the '&' and '|' are reserved for boolean operator
55.     # usage.
56.     BITAND = "&"
57.     BITOR = "|"
58.     BITLEFTSHIFT = "<<"
59.     BITRIGHTSHIFT = ">>"
60.     BITXOR = "#"
61. 
62.     def _combine(self, other, connector, reversed):
63.         if not hasattr(other, "resolve_expression"):
64.             # everything must be resolvable to an expression
65.             other = Value(other)
66. 
67.         if reversed:
68.             return CombinedExpression(other, connector, self)
69.         return CombinedExpression(self, connector, other)
70. 
71.     #############
72.     # OPERATORS #
73.     #############
74. 
75.     def __neg__(self):
76.         return self._combine(-1, self.MUL, False)
77. 
78.     def __add__(self, other):
79.         return self._combine(other, self.ADD, False)
80. 
81.     def __sub__(self, other):
82.         return self._combine(other, self.SUB, False)
83. 
84.     def __mul__(self, other):
85.         return self._combine(other, self.MUL, False)
86. 
87.     def __truediv__(self, other):
88.         return self._combine(other, self.DIV, False)
89. 
90.     def __mod__(self, other):
91.         return self._combine(other, self.MOD, False)
92. 
93.     def __pow__(self, other):
94.         return self._combine(other, self.POW, False)
95. 
96.     def __and__(self, other):
97.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
98.             return Q(self) & Q(other)
99.         raise NotImplementedError(
100.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
101.         )
102. 
103.     def bitand(self, other):
104.         return self._combine(other, self.BITAND, False)
105. 
106.     def bitleftshift(self, other):
107.         return self._combine(other, self.BITLEFTSHIFT, False)
108. 
109.     def bitrightshift(self, other):
110.         return self._combine(other, self.BITRIGHTSHIFT, False)
111. 
112.     def __xor__(self, other):
113.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
114.             return Q(self) ^ Q(other)
115.         raise NotImplementedError(
116.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
117.         )
118. 
119.     def bitxor(self, other):
120.         return self._combine(other, self.BITXOR, False)
121. 
122.     def __or__(self, other):
123.         if getattr(self, "conditional", False) and getattr(other, "conditional", False):
124.             return Q(self) | Q(other)
125.         raise NotImplementedError(
126.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
127.         )
128. 
129.     def bitor(self, other):
130.         return self._combine(other, self.BITOR, False)
131. 
132.     def __radd__(self, other):
133.         return self._combine(other, self.ADD, True)
134. 
135.     def __rsub__(self, other):
136.         return self._combine(other, self.SUB, True)
137. 
138.     def __rmul__(self, other):
139.         return self._combine(other, self.MUL, True)
140. 
141.     def __rtruediv__(self, other):
142.         return self._combine(other, self.DIV, True)
143. 
144.     def __rmod__(self, other):
145.         return self._combine(other, self.MOD, True)
146. 
147.     def __rpow__(self, other):
148.         return self._combine(other, self.POW, True)
149. 
150.     def __rand__(self, other):
151.         raise NotImplementedError(
152.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
153.         )
154. 
155.     def __ror__(self, other):
156.         raise NotImplementedError(
157.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
158.         )
159. 
160.     def __rxor__(self, other):
161.         raise NotImplementedError(
162.             "Use .bitand(), .bitor(), and .bitxor() for bitwise logical operations."
163.         )
164. 
165. 
166. class BaseExpression:
167.     """Base class for all query expressions."""
168. 
169.     empty_result_set_value = NotImplemented
170.     # aggregate specific fields
171.     is_summary = False
172.     _output_field_resolved_to_none = False
173.     # Can the expression be used in a WHERE clause?
174.     filterable = True
175.     # Can the expression can be used as a source expression in Window?
176.     window_compatible = False
177. 
178.     def __init__(self, output_field=None):
179.         if output_field is not None:
180.             self.output_field = output_field
181. 
182.     def __getstate__(self):
183.         state = self.__dict__.copy()
184.         state.pop("convert_value", None)
185.         return state
186. 
187.     def get_db_converters(self, connection):
188.         return (
189.             []
190.             if self.convert_value is self._convert_value_noop
191.             else [self.convert_value]
192.         ) + self.output_field.get_db_converters(connection)
193. 
194.     def get_source_expressions(self):
195.         return []
196. 
197.     def set_source_expressions(self, exprs):
198.         assert not exprs
199. 
200.     def _parse_expressions(self, *expressions):
201.         return [
202.             arg
203.             if hasattr(arg, "resolve_expression")
204.             else (F(arg) if isinstance(arg, str) else Value(arg))
205.             for arg in expressions
206.         ]
207. 
208.     def as_sql(self, compiler, connection):
209.         """
210.         Responsible for returning a (sql, [params]) tuple to be included
211.         in the current query.
212. 
213.         Different backends can provide their own implementation, by
214.         providing an `as_{vendor}` method and patching the Expression:
215. 
216.         ```
217.         def override_as_sql(self, compiler, connection):
218.             # custom logic
219.             return super().as_sql(compiler, connection)
220.         setattr(Expression, 'as_' + connection.vendor, override_as_sql)
221.         ```
222. 
223.         Arguments:
224.          * compiler: the query compiler responsible for generating the query.
225.            Must have a compile method, returning a (sql, [params]) tuple.
226.            Calling compiler(value) will return a quoted `value`.
227. 
228.          * connection: the database connection used for the current query.
229. 
230.         Return: (sql, params)
231.           Where `sql` is a string containing ordered sql parameters to be
232.           replaced with the elements of the list `params`.
233.         """
234.         raise NotImplementedError("Subclasses must implement as_sql()")
235. 
236.     @cached_property
237.     def contains_aggregate(self):
238.         return any(
239.             expr and expr.contains_aggregate for expr in self.get_source_expressions()
240.         )
241. 
242.     @cached_property
243.     def contains_over_clause(self):
244.         return any(
245.             expr and expr.contains_over_clause for expr in self.get_source_expressions()
246.         )
247. 
248.     @cached_property
249.     def contains_column_references(self):
250.         return any(
251.             expr and expr.contains_column_references
252.             for expr in self.get_source_expressions()
253.         )
254. 
255.     def resolve_expression(
256.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
257.     ):
258.         """
259.         Provide the chance to do any preprocessing or validation before being
260.         added to the query.
261. 
262.         Arguments:
263.          * query: the backend query implementation
264.          * allow_joins: boolean allowing or denying use of joins
265.            in this query
266.          * reuse: a set of reusable joins for multijoins
267.          * summarize: a terminal aggregate clause
268.          * for_save: whether this expression about to be used in a save or update
269. 
270.         Return: an Expression to be added to the query.
271.         """
272.         c = self.copy()
273.         c.is_summary = summarize
274.         c.set_source_expressions(
275.             [
276.                 expr.resolve_expression(query, allow_joins, reuse, summarize)
277.                 if expr
278.                 else None
279.                 for expr in c.get_source_expressions()
280.             ]
281.         )
282.         return c
283. 
284.     @property
285.     def conditional(self):
286.         return isinstance(self.output_field, fields.BooleanField)
287. 
288.     @property
289.     def field(self):
290.         return self.output_field
291. 
292.     @cached_property
293.     def output_field(self):
294.         """Return the output type of this expressions."""
295.         output_field = self._resolve_output_field()
296.         if output_field is None:
297.             self._output_field_resolved_to_none = True
298.             raise FieldError("Cannot resolve expression type, unknown output_field")
299.         return output_field
300. 
301.     @cached_property
302.     def _output_field_or_none(self):
303.         """
304.         Return the output field of this expression, or None if
305.         _resolve_output_field() didn't return an output type.
306.         """
307.         try:
308.             return self.output_field
309.         except FieldError:
310.             if not self._output_field_resolved_to_none:
311.                 raise
312. 
313.     def _resolve_output_field(self):
314.         """
315.         Attempt to infer the output type of the expression.
316. 
317.         As a guess, if the output fields of all source fields match then simply
318.         infer the same type here.
319. 
320.         If a source's output field resolves to None, exclude it from this check.
321.         If all sources are None, then an error is raised higher up the stack in
322.         the output_field property.
323.         """
324.         # This guess is mostly a bad idea, but there is quite a lot of code
325.         # (especially 3rd party Func subclasses) that depend on it, we'd need a
326.         # deprecation path to fix it.
327.         sources_iter = (
328.             source for source in self.get_source_fields() if source is not None
329.         )
330.         for output_field in sources_iter:
331.             for source in sources_iter:
332.                 if not isinstance(output_field, source.__class__):
333.                     raise FieldError(
334.                         "Expression contains mixed types: %s, %s. You must "
335.                         "set output_field."
336.                         % (
337.                             output_field.__class__.__name__,
338.                             source.__class__.__name__,
339.                         )
340.                     )
341.             return output_field
342. 
343.     @staticmethod
344.     def _convert_value_noop(value, expression, connection):
345.         return value
346. 
347.     @cached_property
348.     def convert_value(self):
349.         """
350.         Expressions provide their own converters because users have the option
351.         of manually specifying the output_field which may be a different type
352.         from the one the database returns.
353.         """
354.         field = self.output_field
355.         internal_type = field.get_internal_type()
356.         if internal_type == "FloatField":
357.             return (
358.                 lambda value, expression, connection: None
359.                 if value is None
360.                 else float(value)
361.             )
362.         elif internal_type.endswith("IntegerField"):
363.             return (
364.                 lambda value, expression, connection: None
365.                 if value is None
366.                 else int(value)
367.             )
368.         elif internal_type == "DecimalField":
369.             return (
370.                 lambda value, expression, connection: None
371.                 if value is None
372.                 else Decimal(value)
373.             )
374.         return self._convert_value_noop
375. 
376.     def get_lookup(self, lookup):
377.         return self.output_field.get_lookup(lookup)
378. 
379.     def get_transform(self, name):
380.         return self.output_field.get_transform(name)
381. 
382.     def relabeled_clone(self, change_map):
383.         clone = self.copy()
384.         clone.set_source_expressions(
385.             [
386.                 e.relabeled_clone(change_map) if e is not None else None
387.                 for e in self.get_source_expressions()
388.             ]
389.         )
390.         return clone
391. 
392.     def replace_references(self, references_map):
393.         clone = self.copy()
394.         clone.set_source_expressions(
395.             [
396.                 expr.replace_references(references_map)
397.                 for expr in self.get_source_expressions()
398.             ]
399.         )
400.         return clone
401. 
402.     def copy(self):
403.         return copy.copy(self)
404. 
405.     def prefix_references(self, prefix):
406.         clone = self.copy()
407.         clone.set_source_expressions(
408.             [
409.                 F(f"{prefix}{expr.name}")
410.                 if isinstance(expr, F)
411.                 else expr.prefix_references(prefix)
412.                 for expr in self.get_source_expressions()
413.             ]
414.         )
415.         return clone
416. 
417.     def get_group_by_cols(self, alias=None):
418.         if not self.contains_aggregate:
419.             return [self]
420.         cols = []
421.         for source in self.get_source_expressions():
422.             cols.extend(source.get_group_by_cols())
423.         return cols
424. 
425.     def get_source_fields(self):
426.         """Return the underlying field types used by this aggregate."""
427.         return [e._output_field_or_none for e in self.get_source_expressions()]
428. 
429.     def asc(self, **kwargs):
430.         return OrderBy(self, **kwargs)
431. 
432.     def desc(self, **kwargs):
433.         return OrderBy(self, descending=True, **kwargs)
434. 
435.     def reverse_ordering(self):
436.         return self
437. 
438.     def flatten(self):
439.         """
440.         Recursively yield this expression and all subexpressions, in
441.         depth-first order.
442.         """
443.         yield self
444.         for expr in self.get_source_expressions():
445.             if expr:
446.                 if hasattr(expr, "flatten"):
447.                     yield from expr.flatten()
448.                 else:
449.                     yield expr
450. 
451.     def select_format(self, compiler, sql, params):
452.         """
453.         Custom format for select clauses. For example, EXISTS expressions need
454.         to be wrapped in CASE WHEN on Oracle.
455.         """
456.         if hasattr(self.output_field, "select_format"):
457.             return self.output_field.select_format(compiler, sql, params)
458.         return sql, params
459. 
460. 
461. @deconstructible
462. class Expression(BaseExpression, Combinable):
463.     """An expression that can be combined with other expressions."""
464. 
465.     @cached_property
466.     def identity(self):
467.         constructor_signature = inspect.signature(self.__init__)
468.         args, kwargs = self._constructor_args
469.         signature = constructor_signature.bind_partial(*args, **kwargs)
470.         signature.apply_defaults()
471.         arguments = signature.arguments.items()
472.         identity = [self.__class__]
473.         for arg, value in arguments:
474.             if isinstance(value, fields.Field):
475.                 if value.name and value.model:
476.                     value = (value.model._meta.label, value.name)
477.                 else:
478.                     value = type(value)
479.             else:
480.                 value = make_hashable(value)
481.             identity.append((arg, value))
482.         return tuple(identity)
483. 
484.     def __eq__(self, other):
485.         if not isinstance(other, Expression):
486.             return NotImplemented
487.         return other.identity == self.identity
488. 
489.     def __hash__(self):
490.         return hash(self.identity)
491. 
492. 
493. # Type inference for CombinedExpression.output_field.
494. # Missing items will result in FieldError, by design.
495. #
496. # The current approach for NULL is based on lowest common denominator behavior
497. # i.e. if one of the supported databases is raising an error (rather than
498. # return NULL) for `val <op> NULL`, then Django raises FieldError.
499. NoneType = type(None)
500. 
501. _connector_combinations = [
502.     # Numeric operations - operands of same type.
503.     {
504.         connector: [
505.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
506.             (fields.FloatField, fields.FloatField, fields.FloatField),
507.             (fields.DecimalField, fields.DecimalField, fields.DecimalField),
508.         ]
509.         for connector in (
510.             Combinable.ADD,
511.             Combinable.SUB,
512.             Combinable.MUL,
513.             # Behavior for DIV with integer arguments follows Postgres/SQLite,
514.             # not MySQL/Oracle.
515.             Combinable.DIV,
516.             Combinable.MOD,
517.             Combinable.POW,
518.         )
519.     },
520.     # Numeric operations - operands of different type.
521.     {
522.         connector: [
523.             (fields.IntegerField, fields.DecimalField, fields.DecimalField),
524.             (fields.DecimalField, fields.IntegerField, fields.DecimalField),
525.             (fields.IntegerField, fields.FloatField, fields.FloatField),
526.             (fields.FloatField, fields.IntegerField, fields.FloatField),
527.         ]
528.         for connector in (
529.             Combinable.ADD,
530.             Combinable.SUB,
531.             Combinable.MUL,
532.             Combinable.DIV,
533.         )
534.     },
535.     # Bitwise operators.
536.     {
537.         connector: [
538.             (fields.IntegerField, fields.IntegerField, fields.IntegerField),
539.         ]
540.         for connector in (
541.             Combinable.BITAND,
542.             Combinable.BITOR,
543.             Combinable.BITLEFTSHIFT,
544.             Combinable.BITRIGHTSHIFT,
545.             Combinable.BITXOR,
546.         )
547.     },
548.     # Numeric with NULL.
549.     {
550.         connector: [
551.             (field_type, NoneType, field_type),
552.             (NoneType, field_type, field_type),
553.         ]
554.         for connector in (
555.             Combinable.ADD,
556.             Combinable.SUB,
557.             Combinable.MUL,
558.             Combinable.DIV,
559.             Combinable.MOD,
560.             Combinable.POW,
561.         )
562.         for field_type in (fields.IntegerField, fields.DecimalField, fields.FloatField)
563.     },
564.     # Date/DateTimeField/DurationField/TimeField.
565.     {
566.         Combinable.ADD: [
567.             # Date/DateTimeField.
568.             (fields.DateField, fields.DurationField, fields.DateTimeField),
569.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
570.             (fields.DurationField, fields.DateField, fields.DateTimeField),
571.             (fields.DurationField, fields.DateTimeField, fields.DateTimeField),
572.             # DurationField.
573.             (fields.DurationField, fields.DurationField, fields.DurationField),
574.             # TimeField.
575.             (fields.TimeField, fields.DurationField, fields.TimeField),
576.             (fields.DurationField, fields.TimeField, fields.TimeField),
577.         ],
578.     },
579.     {
580.         Combinable.SUB: [
581.             # Date/DateTimeField.
582.             (fields.DateField, fields.DurationField, fields.DateTimeField),
583.             (fields.DateTimeField, fields.DurationField, fields.DateTimeField),
584.             (fields.DateField, fields.DateField, fields.DurationField),
585.             (fields.DateField, fields.DateTimeField, fields.DurationField),
586.             (fields.DateTimeField, fields.DateField, fields.DurationField),
587.             (fields.DateTimeField, fields.DateTimeField, fields.DurationField),
588.             # DurationField.
589.             (fields.DurationField, fields.DurationField, fields.DurationField),
590.             # TimeField.
591.             (fields.TimeField, fields.DurationField, fields.TimeField),
592.             (fields.TimeField, fields.TimeField, fields.DurationField),
593.         ],
594.     },
595. ]
596. 
597. _connector_combinators = defaultdict(list)
598. 
599. 
600. def register_combinable_fields(lhs, connector, rhs, result):
601.     """
602.     Register combinable types:
603.         lhs <connector> rhs -> result
604.     e.g.
605.         register_combinable_fields(
606.             IntegerField, Combinable.ADD, FloatField, FloatField
607.         )
608.     """
609.     _connector_combinators[connector].append((lhs, rhs, result))
610. 
611. 
612. for d in _connector_combinations:
613.     for connector, field_types in d.items():
614.         for lhs, rhs, result in field_types:
615.             register_combinable_fields(lhs, connector, rhs, result)
616. 
617. 
618. @functools.lru_cache(maxsize=128)
619. def _resolve_combined_type(connector, lhs_type, rhs_type):
620.     combinators = _connector_combinators.get(connector, ())
621.     for combinator_lhs_type, combinator_rhs_type, combined_type in combinators:
622.         if issubclass(lhs_type, combinator_lhs_type) and issubclass(
623.             rhs_type, combinator_rhs_type
624.         ):
625.             return combined_type
626. 
627. 
628. class CombinedExpression(SQLiteNumericMixin, Expression):
629.     def __init__(self, lhs, connector, rhs, output_field=None):
630.         super().__init__(output_field=output_field)
631.         self.connector = connector
632.         self.lhs = lhs
633.         self.rhs = rhs
634. 
635.     def __repr__(self):
636.         return "<{}: {}>".format(self.__class__.__name__, self)
637. 
638.     def __str__(self):
639.         return "{} {} {}".format(self.lhs, self.connector, self.rhs)
640. 
641.     def get_source_expressions(self):
642.         return [self.lhs, self.rhs]
643. 
644.     def set_source_expressions(self, exprs):
645.         self.lhs, self.rhs = exprs
646. 
647.     def _resolve_output_field(self):
648.         # We avoid using super() here for reasons given in
649.         # Expression._resolve_output_field()
650.         combined_type = _resolve_combined_type(
651.             self.connector,
652.             type(self.lhs._output_field_or_none),
653.             type(self.rhs._output_field_or_none),
654.         )
655.         if combined_type is None:
656.             raise FieldError(
657.                 f"Cannot infer type of {self.connector!r} expression involving these "
658.                 f"types: {self.lhs.output_field.__class__.__name__}, "
659.                 f"{self.rhs.output_field.__class__.__name__}. You must set "
660.                 f"output_field."
661.             )
662.         return combined_type()
663. 
664.     def as_sql(self, compiler, connection):
665.         expressions = []
666.         expression_params = []
667.         sql, params = compiler.compile(self.lhs)
668.         expressions.append(sql)
669.         expression_params.extend(params)
670.         sql, params = compiler.compile(self.rhs)
671.         expressions.append(sql)
672.         expression_params.extend(params)
673.         # order of precedence
674.         expression_wrapper = "(%s)"
675.         sql = connection.ops.combine_expression(self.connector, expressions)
676.         return expression_wrapper % sql, expression_params
677. 
678.     def resolve_expression(
679.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
680.     ):
681.         lhs = self.lhs.resolve_expression(
682.             query, allow_joins, reuse, summarize, for_save
683.         )
684.         rhs = self.rhs.resolve_expression(
685.             query, allow_joins, reuse, summarize, for_save
686.         )
687.         if not isinstance(self, (DurationExpression, TemporalSubtraction)):
688.             try:
689.                 lhs_type = lhs.output_field.get_internal_type()
690.             except (AttributeError, FieldError):
691.                 lhs_type = None
692.             try:
693.                 rhs_type = rhs.output_field.get_internal_type()
694.             except (AttributeError, FieldError):
695.                 rhs_type = None
696.             if "DurationField" in {lhs_type, rhs_type} and lhs_type != rhs_type:
697.                 return DurationExpression(
698.                     self.lhs, self.connector, self.rhs
699.                 ).resolve_expression(
700.                     query,
701.                     allow_joins,
702.                     reuse,
703.                     summarize,
704.                     for_save,
705.                 )
706.             datetime_fields = {"DateField", "DateTimeField", "TimeField"}
707.             if (
708.                 self.connector == self.SUB
709.                 and lhs_type in datetime_fields
710.                 and lhs_type == rhs_type
711.             ):
712.                 return TemporalSubtraction(self.lhs, self.rhs).resolve_expression(
713.                     query,
714.                     allow_joins,
715.                     reuse,
716.                     summarize,
717.                     for_save,
718.                 )
719.         c = self.copy()
720.         c.is_summary = summarize
721.         c.lhs = lhs
722.         c.rhs = rhs
723.         return c
724. 
725. 
726. class DurationExpression(CombinedExpression):
727.     def compile(self, side, compiler, connection):
728.         try:
729.             output = side.output_field
730.         except FieldError:
731.             pass
732.         else:
733.             if output.get_internal_type() == "DurationField":
734.                 sql, params = compiler.compile(side)
735.                 return connection.ops.format_for_duration_arithmetic(sql), params
736.         return compiler.compile(side)
737. 
738.     def as_sql(self, compiler, connection):
739.         if connection.features.has_native_duration_field:
740.             return super().as_sql(compiler, connection)
741.         connection.ops.check_expression_support(self)
742.         expressions = []
743.         expression_params = []
744.         sql, params = self.compile(self.lhs, compiler, connection)
745.         expressions.append(sql)
746.         expression_params.extend(params)
747.         sql, params = self.compile(self.rhs, compiler, connection)
748.         expressions.append(sql)
749.         expression_params.extend(params)
750.         # order of precedence
751.         expression_wrapper = "(%s)"
752.         sql = connection.ops.combine_duration_expression(self.connector, expressions)
753.         return expression_wrapper % sql, expression_params
754. 
755.     def as_sqlite(self, compiler, connection, **extra_context):
756.         sql, params = self.as_sql(compiler, connection, **extra_context)
757.         if self.connector in {Combinable.MUL, Combinable.DIV}:
758.             try:
759.                 lhs_type = self.lhs.output_field.get_internal_type()
760.                 rhs_type = self.rhs.output_field.get_internal_type()
761.             except (AttributeError, FieldError):
762.                 pass
763.             else:
764.                 allowed_fields = {
765.                     "DecimalField",
766.                     "DurationField",
767.                     "FloatField",
768.                     "IntegerField",
769.                 }
770.                 if lhs_type not in allowed_fields or rhs_type not in allowed_fields:
771.                     raise DatabaseError(
772.                         f"Invalid arguments for operator {self.connector}."
773.                     )
774.         return sql, params
775. 
776. 
777. class TemporalSubtraction(CombinedExpression):
778.     output_field = fields.DurationField()
779. 
780.     def __init__(self, lhs, rhs):
781.         super().__init__(lhs, self.SUB, rhs)
782. 
783.     def as_sql(self, compiler, connection):
784.         connection.ops.check_expression_support(self)
785.         lhs = compiler.compile(self.lhs)
786.         rhs = compiler.compile(self.rhs)
787.         return connection.ops.subtract_temporals(
788.             self.lhs.output_field.get_internal_type(), lhs, rhs
789.         )
790. 
791. 
792. @deconstructible(path="django.db.models.F")
793. class F(Combinable):
794.     """An object capable of resolving references to existing query objects."""
795. 
796.     def __init__(self, name):
797.         """
798.         Arguments:
799.          * name: the name of the field this expression references
800.         """
801.         self.name = name
802. 
803.     def __repr__(self):
804.         return "{}({})".format(self.__class__.__name__, self.name)
805. 
806.     def resolve_expression(
807.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
808.     ):
809.         return query.resolve_ref(self.name, allow_joins, reuse, summarize)
810. 
811.     def replace_references(self, references_map):
812.         return references_map.get(self.name, self)
813. 
814.     def asc(self, **kwargs):
815.         return OrderBy(self, **kwargs)
816. 
817.     def desc(self, **kwargs):
818.         return OrderBy(self, descending=True, **kwargs)
819. 
820.     def __eq__(self, other):
821.         return self.__class__ == other.__class__ and self.name == other.name
822. 
823.     def __hash__(self):
824.         return hash(self.name)
825. 
826. 
827. class ResolvedOuterRef(F):
828.     """
829.     An object that contains a reference to an outer query.
830. 
831.     In this case, the reference to the outer query has been resolved because
832.     the inner query has been used as a subquery.
833.     """
834. 
835.     contains_aggregate = False
836. 
837.     def as_sql(self, *args, **kwargs):
838.         raise ValueError(
839.             "This queryset contains a reference to an outer query and may "
840.             "only be used in a subquery."
841.         )
842. 
843.     def resolve_expression(self, *args, **kwargs):
844.         col = super().resolve_expression(*args, **kwargs)
845.         # FIXME: Rename possibly_multivalued to multivalued and fix detection
846.         # for non-multivalued JOINs (e.g. foreign key fields). This should take
847.         # into account only many-to-many and one-to-many relationships.
848.         col.possibly_multivalued = LOOKUP_SEP in self.name
849.         return col
850. 
851.     def relabeled_clone(self, relabels):
852.         return self
853. 
854.     def get_group_by_cols(self, alias=None):
855.         return []
856. 
857. 
858. class OuterRef(F):
859.     contains_aggregate = False
860. 
861.     def resolve_expression(self, *args, **kwargs):
862.         if isinstance(self.name, self.__class__):
863.             return self.name
864.         return ResolvedOuterRef(self.name)
865. 
866.     def relabeled_clone(self, relabels):
867.         return self
868. 
869. 
870. @deconstructible(path="django.db.models.Func")
871. class Func(SQLiteNumericMixin, Expression):
872.     """An SQL function call."""
873. 
874.     function = None
875.     template = "%(function)s(%(expressions)s)"
876.     arg_joiner = ", "
877.     arity = None  # The number of arguments the function accepts.
878. 
879.     def __init__(self, *expressions, output_field=None, **extra):
880.         if self.arity is not None and len(expressions) != self.arity:
881.             raise TypeError(
882.                 "'%s' takes exactly %s %s (%s given)"
883.                 % (
884.                     self.__class__.__name__,
885.                     self.arity,
886.                     "argument" if self.arity == 1 else "arguments",
887.                     len(expressions),
888.                 )
889.             )
890.         super().__init__(output_field=output_field)
891.         self.source_expressions = self._parse_expressions(*expressions)
892.         self.extra = extra
893. 
894.     def __repr__(self):
895.         args = self.arg_joiner.join(str(arg) for arg in self.source_expressions)
896.         extra = {**self.extra, **self._get_repr_options()}
897.         if extra:
898.             extra = ", ".join(
899.                 str(key) + "=" + str(val) for key, val in sorted(extra.items())
900.             )
901.             return "{}({}, {})".format(self.__class__.__name__, args, extra)
902.         return "{}({})".format(self.__class__.__name__, args)
903. 
904.     def _get_repr_options(self):
905.         """Return a dict of extra __init__() options to include in the repr."""
906.         return {}
907. 
908.     def get_source_expressions(self):
909.         return self.source_expressions
910. 
911.     def set_source_expressions(self, exprs):
912.         self.source_expressions = exprs
913. 
914.     def resolve_expression(
915.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
916.     ):
917.         c = self.copy()
918.         c.is_summary = summarize
919.         for pos, arg in enumerate(c.source_expressions):
920.             c.source_expressions[pos] = arg.resolve_expression(
921.                 query, allow_joins, reuse, summarize, for_save
922.             )
923.         return c
924. 
925.     def as_sql(
926.         self,
927.         compiler,
928.         connection,
929.         function=None,
930.         template=None,
931.         arg_joiner=None,
932.         **extra_context,
933.     ):
934.         connection.ops.check_expression_support(self)
935.         sql_parts = []
936.         params = []
937.         for arg in self.source_expressions:
938.             try:
939.                 arg_sql, arg_params = compiler.compile(arg)
940.             except EmptyResultSet:
941.                 empty_result_set_value = getattr(
942.                     arg, "empty_result_set_value", NotImplemented
943.                 )
944.                 if empty_result_set_value is NotImplemented:
945.                     raise
946.                 arg_sql, arg_params = compiler.compile(Value(empty_result_set_value))
947.             sql_parts.append(arg_sql)
948.             params.extend(arg_params)
949.         data = {**self.extra, **extra_context}
950.         # Use the first supplied value in this order: the parameter to this
951.         # method, a value supplied in __init__()'s **extra (the value in
952.         # `data`), or the value defined on the class.
953.         if function is not None:
954.             data["function"] = function
955.         else:
956.             data.setdefault("function", self.function)
957.         template = template or data.get("template", self.template)
958.         arg_joiner = arg_joiner or data.get("arg_joiner", self.arg_joiner)
959.         data["expressions"] = data["field"] = arg_joiner.join(sql_parts)
960.         return template % data, params
961. 
962.     def copy(self):
963.         copy = super().copy()
964.         copy.source_expressions = self.source_expressions[:]
965.         copy.extra = self.extra.copy()
966.         return copy
967. 
968. 
969. @deconstructible(path="django.db.models.Value")
970. class Value(SQLiteNumericMixin, Expression):
971.     """Represent a wrapped value as a node within an expression."""
972. 
973.     # Provide a default value for `for_save` in order to allow unresolved
974.     # instances to be compiled until a decision is taken in #25425.
975.     for_save = False
976. 
977.     def __init__(self, value, output_field=None):
978.         """
979.         Arguments:
980.          * value: the value this expression represents. The value will be
981.            added into the sql parameter list and properly quoted.
982. 
983.          * output_field: an instance of the model field type that this
984.            expression will return, such as IntegerField() or CharField().
985.         """
986.         super().__init__(output_field=output_field)
987.         self.value = value
988. 
989.     def __repr__(self):
990.         return f"{self.__class__.__name__}({self.value!r})"
991. 
992.     def as_sql(self, compiler, connection):
993.         connection.ops.check_expression_support(self)
994.         val = self.value
995.         output_field = self._output_field_or_none
996.         if output_field is not None:
997.             if self.for_save:
998.                 val = output_field.get_db_prep_save(val, connection=connection)
999.             else:
1000.                 val = output_field.get_db_prep_value(val, connection=connection)
1001.             if hasattr(output_field, "get_placeholder"):
1002.                 return output_field.get_placeholder(val, compiler, connection), [val]
1003.         if val is None:
1004.             # cx_Oracle does not always convert None to the appropriate
1005.             # NULL type (like in case expressions using numbers), so we
1006.             # use a literal SQL NULL
1007.             return "NULL", []
1008.         return "%s", [val]
1009. 
1010.     def resolve_expression(
1011.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1012.     ):
1013.         c = super().resolve_expression(query, allow_joins, reuse, summarize, for_save)
1014.         c.for_save = for_save
1015.         return c
1016. 
1017.     def get_group_by_cols(self, alias=None):
1018.         return []
1019. 
1020.     def _resolve_output_field(self):
1021.         if isinstance(self.value, str):
1022.             return fields.CharField()
1023.         if isinstance(self.value, bool):
1024.             return fields.BooleanField()
1025.         if isinstance(self.value, int):
1026.             return fields.IntegerField()
1027.         if isinstance(self.value, float):
1028.             return fields.FloatField()
1029.         if isinstance(self.value, datetime.datetime):
1030.             return fields.DateTimeField()
1031.         if isinstance(self.value, datetime.date):
1032.             return fields.DateField()
1033.         if isinstance(self.value, datetime.time):
1034.             return fields.TimeField()
1035.         if isinstance(self.value, datetime.timedelta):
1036.             return fields.DurationField()
1037.         if isinstance(self.value, Decimal):
1038.             return fields.DecimalField()
1039.         if isinstance(self.value, bytes):
1040.             return fields.BinaryField()
1041.         if isinstance(self.value, UUID):
1042.             return fields.UUIDField()
1043. 
1044.     @property
1045.     def empty_result_set_value(self):
1046.         return self.value
1047. 
1048. 
1049. class RawSQL(Expression):
1050.     def __init__(self, sql, params, output_field=None):
1051.         if output_field is None:
1052.             output_field = fields.Field()
1053.         self.sql, self.params = sql, params
1054.         super().__init__(output_field=output_field)
1055. 
1056.     def __repr__(self):
1057.         return "{}({}, {})".format(self.__class__.__name__, self.sql, self.params)
1058. 
1059.     def as_sql(self, compiler, connection):
1060.         return "(%s)" % self.sql, self.params
1061. 
1062.     def get_group_by_cols(self, alias=None):
1063.         return [self]
1064. 
1065.     def resolve_expression(
1066.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1067.     ):
1068.         # Resolve parents fields used in raw SQL.
1069.         if query.model:
1070.             for parent in query.model._meta.get_parent_list():
1071.                 for parent_field in parent._meta.local_fields:
1072.                     _, column_name = parent_field.get_attname_column()
1073.                     if column_name.lower() in self.sql.lower():
1074.                         query.resolve_ref(
1075.                             parent_field.name, allow_joins, reuse, summarize
1076.                         )
1077.                         break
1078.         return super().resolve_expression(
1079.             query, allow_joins, reuse, summarize, for_save
1080.         )
1081. 
1082. 
1083. class Star(Expression):
1084.     def __repr__(self):
1085.         return "'*'"
1086. 
1087.     def as_sql(self, compiler, connection):
1088.         return "*", []
1089. 
1090. 
1091. class Col(Expression):
1092. 
1093.     contains_column_references = True
1094.     possibly_multivalued = False
1095. 
1096.     def __init__(self, alias, target, output_field=None):
1097.         if output_field is None:
1098.             output_field = target
1099.         super().__init__(output_field=output_field)
1100.         self.alias, self.target = alias, target
1101. 
1102.     def __repr__(self):
1103.         alias, target = self.alias, self.target
1104.         identifiers = (alias, str(target)) if alias else (str(target),)
1105.         return "{}({})".format(self.__class__.__name__, ", ".join(identifiers))
1106. 
1107.     def as_sql(self, compiler, connection):
1108.         alias, column = self.alias, self.target.column
1109.         identifiers = (alias, column) if alias else (column,)
1110.         sql = ".".join(map(compiler.quote_name_unless_alias, identifiers))
1111.         return sql, []
1112. 
1113.     def relabeled_clone(self, relabels):
1114.         if self.alias is None:
1115.             return self
1116.         return self.__class__(
1117.             relabels.get(self.alias, self.alias), self.target, self.output_field
1118.         )
1119. 
1120.     def get_group_by_cols(self, alias=None):
1121.         return [self]
1122. 
1123.     def get_db_converters(self, connection):
1124.         if self.target == self.output_field:
1125.             return self.output_field.get_db_converters(connection)
1126.         return self.output_field.get_db_converters(
1127.             connection
1128.         ) + self.target.get_db_converters(connection)
1129. 
1130. 
1131. class Ref(Expression):
1132.     """
1133.     Reference to column alias of the query. For example, Ref('sum_cost') in
1134.     qs.annotate(sum_cost=Sum('cost')) query.
1135.     """
1136. 
1137.     def __init__(self, refs, source):
1138.         super().__init__()
1139.         self.refs, self.source = refs, source
1140. 
1141.     def __repr__(self):
1142.         return "{}({}, {})".format(self.__class__.__name__, self.refs, self.source)
1143. 
1144.     def get_source_expressions(self):
1145.         return [self.source]
1146. 
1147.     def set_source_expressions(self, exprs):
1148.         (self.source,) = exprs
1149. 
1150.     def resolve_expression(
1151.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1152.     ):
1153.         # The sub-expression `source` has already been resolved, as this is
1154.         # just a reference to the name of `source`.
1155.         return self
1156. 
1157.     def relabeled_clone(self, relabels):
1158.         return self
1159. 
1160.     def as_sql(self, compiler, connection):
1161.         return connection.ops.quote_name(self.refs), []
1162. 
1163.     def get_group_by_cols(self, alias=None):
1164.         return [self]
1165. 
1166. 
1167. class ExpressionList(Func):
1168.     """
1169.     An expression containing multiple expressions. Can be used to provide a
1170.     list of expressions as an argument to another expression, like a partition
1171.     clause.
1172.     """
1173. 
1174.     template = "%(expressions)s"
1175. 
1176.     def __init__(self, *expressions, **extra):
1177.         if not expressions:
1178.             raise ValueError(
1179.                 "%s requires at least one expression." % self.__class__.__name__
1180.             )
1181.         super().__init__(*expressions, **extra)
1182. 
1183.     def __str__(self):
1184.         return self.arg_joiner.join(str(arg) for arg in self.source_expressions)
1185. 
1186.     def as_sqlite(self, compiler, connection, **extra_context):
1187.         # Casting to numeric is unnecessary.
1188.         return self.as_sql(compiler, connection, **extra_context)
1189. 
1190. 
1191. class OrderByList(Func):
1192.     template = "ORDER BY %(expressions)s"
1193. 
1194.     def __init__(self, *expressions, **extra):
1195.         expressions = (
1196.             (
1197.                 OrderBy(F(expr[1:]), descending=True)
1198.                 if isinstance(expr, str) and expr[0] == "-"
1199.                 else expr
1200.             )
1201.             for expr in expressions
1202.         )
1203.         super().__init__(*expressions, **extra)
1204. 
1205.     def as_sql(self, *args, **kwargs):
1206.         if not self.source_expressions:
1207.             return "", ()
1208.         return super().as_sql(*args, **kwargs)
1209. 
1210. 
1211. @deconstructible(path="django.db.models.ExpressionWrapper")
1212. class ExpressionWrapper(SQLiteNumericMixin, Expression):
1213.     """
1214.     An expression that can wrap another expression so that it can provide
1215.     extra context to the inner expression, such as the output_field.
1216.     """
1217. 
1218.     def __init__(self, expression, output_field):
1219.         super().__init__(output_field=output_field)
1220.         self.expression = expression
1221. 
1222.     def set_source_expressions(self, exprs):
1223.         self.expression = exprs[0]
1224. 
1225.     def get_source_expressions(self):
1226.         return [self.expression]
1227. 
1228.     def get_group_by_cols(self, alias=None):
1229.         if isinstance(self.expression, Expression):
1230.             expression = self.expression.copy()
1231.             expression.output_field = self.output_field
1232.             return expression.get_group_by_cols(alias=alias)
1233.         # For non-expressions e.g. an SQL WHERE clause, the entire
1234.         # `expression` must be included in the GROUP BY clause.
1235.         return super().get_group_by_cols()
1236. 
1237.     def as_sql(self, compiler, connection):
1238.         return compiler.compile(self.expression)
1239. 
1240.     def __repr__(self):
1241.         return "{}({})".format(self.__class__.__name__, self.expression)
1242. 
1243. 
1244. @deconstructible(path="django.db.models.When")
1245. class When(Expression):
1246.     template = "WHEN %(condition)s THEN %(result)s"
1247.     # This isn't a complete conditional expression, must be used in Case().
1248.     conditional = False
1249. 
1250.     def __init__(self, condition=None, then=None, **lookups):
1251.         if lookups:
1252.             if condition is None:
1253.                 condition, lookups = Q(**lookups), None
1254.             elif getattr(condition, "conditional", False):
1255.                 condition, lookups = Q(condition, **lookups), None
1256.         if condition is None or not getattr(condition, "conditional", False) or lookups:
1257.             raise TypeError(
1258.                 "When() supports a Q object, a boolean expression, or lookups "
1259.                 "as a condition."
1260.             )
1261.         if isinstance(condition, Q) and not condition:
1262.             raise ValueError("An empty Q() can't be used as a When() condition.")
1263.         super().__init__(output_field=None)
1264.         self.condition = condition
1265.         self.result = self._parse_expressions(then)[0]
1266. 
1267.     def __str__(self):
1268.         return "WHEN %r THEN %r" % (self.condition, self.result)
1269. 
1270.     def __repr__(self):
1271.         return "<%s: %s>" % (self.__class__.__name__, self)
1272. 
1273.     def get_source_expressions(self):
1274.         return [self.condition, self.result]
1275. 
1276.     def set_source_expressions(self, exprs):
1277.         self.condition, self.result = exprs
1278. 
1279.     def get_source_fields(self):
1280.         # We're only interested in the fields of the result expressions.
1281.         return [self.result._output_field_or_none]
1282. 
1283.     def resolve_expression(
1284.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1285.     ):
1286.         c = self.copy()
1287.         c.is_summary = summarize
1288.         if hasattr(c.condition, "resolve_expression"):
1289.             c.condition = c.condition.resolve_expression(
1290.                 query, allow_joins, reuse, summarize, False
1291.             )
1292.         c.result = c.result.resolve_expression(
1293.             query, allow_joins, reuse, summarize, for_save
1294.         )
1295.         return c
1296. 
1297.     def as_sql(self, compiler, connection, template=None, **extra_context):
1298.         connection.ops.check_expression_support(self)
1299.         template_params = extra_context
1300.         sql_params = []
1301.         condition_sql, condition_params = compiler.compile(self.condition)
1302.         template_params["condition"] = condition_sql
1303.         sql_params.extend(condition_params)
1304.         result_sql, result_params = compiler.compile(self.result)
1305.         template_params["result"] = result_sql
1306.         sql_params.extend(result_params)
1307.         template = template or self.template
1308.         return template % template_params, sql_params
1309. 
1310.     def get_group_by_cols(self, alias=None):
1311.         # This is not a complete expression and cannot be used in GROUP BY.
1312.         cols = []
1313.         for source in self.get_source_expressions():
1314.             cols.extend(source.get_group_by_cols())
1315.         return cols
1316. 
1317. 
1318. @deconstructible(path="django.db.models.Case")
1319. class Case(SQLiteNumericMixin, Expression):
1320.     """
1321.     An SQL searched CASE expression:
1322. 
1323.         CASE
1324.             WHEN n > 0
1325.                 THEN 'positive'
1326.             WHEN n < 0
1327.                 THEN 'negative'
1328.             ELSE 'zero'
1329.         END
1330.     """
1331. 
1332.     template = "CASE %(cases)s ELSE %(default)s END"
1333.     case_joiner = " "
1334. 
1335.     def __init__(self, *cases, default=None, output_field=None, **extra):
1336.         if not all(isinstance(case, When) for case in cases):
1337.             raise TypeError("Positional arguments must all be When objects.")
1338.         super().__init__(output_field)
1339.         self.cases = list(cases)
1340.         self.default = self._parse_expressions(default)[0]
1341.         self.extra = extra
1342. 
1343.     def __str__(self):
1344.         return "CASE %s, ELSE %r" % (
1345.             ", ".join(str(c) for c in self.cases),
1346.             self.default,
1347.         )
1348. 
1349.     def __repr__(self):
1350.         return "<%s: %s>" % (self.__class__.__name__, self)
1351. 
1352.     def get_source_expressions(self):
1353.         return self.cases + [self.default]
1354. 
1355.     def set_source_expressions(self, exprs):
1356.         *self.cases, self.default = exprs
1357. 
1358.     def resolve_expression(
1359.         self, query=None, allow_joins=True, reuse=None, summarize=False, for_save=False
1360.     ):
1361.         c = self.copy()
1362.         c.is_summary = summarize
1363.         for pos, case in enumerate(c.cases):
1364.             c.cases[pos] = case.resolve_expression(
1365.                 query, allow_joins, reuse, summarize, for_save
1366.             )
1367.         c.default = c.default.resolve_expression(
1368.             query, allow_joins, reuse, summarize, for_save
1369.         )
1370.         return c
1371. 
1372.     def copy(self):
1373.         c = super().copy()
1374.         c.cases = c.cases[:]
1375.         return c
1376. 
1377.     def as_sql(
1378.         self, compiler, connection, template=None, case_joiner=None, **extra_context
1379.     ):
1380.         connection.ops.check_expression_support(self)
1381.         if not self.cases:
1382.             return compiler.compile(self.default)
1383.         template_params = {**self.extra, **extra_context}
1384.         case_parts = []
1385.         sql_params = []
1386.         for case in self.cases:
1387.             try:
1388.                 case_sql, case_params = compiler.compile(case)
1389.             except EmptyResultSet:
1390.                 continue
1391.             case_parts.append(case_sql)
1392.             sql_params.extend(case_params)
1393.         default_sql, default_params = compiler.compile(self.default)
1394.         if not case_parts:
1395.             return default_sql, default_params
1396.         case_joiner = case_joiner or self.case_joiner
1397.         template_params["cases"] = case_joiner.join(case_parts)
1398.         template_params["default"] = default_sql
1399.         sql_params.extend(default_params)
1400.         template = template or template_params.get("template", self.template)
1401.         sql = template % template_params
1402.         if self._output_field_or_none is not None:
1403.             sql = connection.ops.unification_cast_sql(self.output_field) % sql
1404.         return sql, sql_params
1405. 
1406.     def get_group_by_cols(self, alias=None):
1407.         if not self.cases:
1408.             return self.default.get_group_by_cols(alias)
1409.         return super().get_group_by_cols(alias)
1410. 
1411. 
1412. class Subquery(BaseExpression, Combinable):
1413.     """
1414.     An explicit subquery. It may contain OuterRef() references to the outer
1415.     query which will be resolved when it is applied to that query.
1416.     """
1417. 
1418.     template = "(%(subquery)s)"
1419.     contains_aggregate = False
1420.     empty_result_set_value = None
1421. 
1422.     def __init__(self, queryset, output_field=None, **extra):
1423.         # Allow the usage of both QuerySet and sql.Query objects.
1424.         self.query = getattr(queryset, "query", queryset).clone()
1425.         self.query.subquery = True
1426.         self.extra = extra
1427.         super().__init__(output_field)
1428. 
1429.     def get_source_expressions(self):
1430.         return [self.query]
1431. 
1432.     def set_source_expressions(self, exprs):
1433.         self.query = exprs[0]
1434. 
1435.     def _resolve_output_field(self):
1436.         return self.query.output_field
1437. 
1438.     def copy(self):
1439.         clone = super().copy()
1440.         clone.query = clone.query.clone()
1441.         return clone
1442. 
1443.     @property
1444.     def external_aliases(self):
1445.         return self.query.external_aliases
1446. 
1447.     def get_external_cols(self):
1448.         return self.query.get_external_cols()
1449. 
1450.     def as_sql(self, compiler, connection, template=None, query=None, **extra_context):
1451.         connection.ops.check_expression_support(self)
1452.         template_params = {**self.extra, **extra_context}
1453.         query = query or self.query
1454.         subquery_sql, sql_params = query.as_sql(compiler, connection)
1455.         template_params["subquery"] = subquery_sql[1:-1]
1456. 
1457.         template = template or template_params.get("template", self.template)
1458.         sql = template % template_params
1459.         return sql, sql_params
1460. 
1461.     def get_group_by_cols(self, alias=None):
1462.         # If this expression is referenced by an alias for an explicit GROUP BY
1463.         # through values() a reference to this expression and not the
1464.         # underlying .query must be returned to ensure external column
1465.         # references are not grouped against as well.
1466.         if alias:
1467.             return [Ref(alias, self)]
1468.         return self.query.get_group_by_cols()
1469. 
1470. 
1471. class Exists(Subquery):
1472.     template = "EXISTS(%(subquery)s)"
1473.     output_field = fields.BooleanField()
1474. 
1475.     def __init__(self, queryset, negated=False, **kwargs):
1476.         self.negated = negated
1477.         super().__init__(queryset, **kwargs)
1478. 
1479.     def __invert__(self):
1480.         clone = self.copy()
1481.         clone.negated = not self.negated
1482.         return clone
1483. 
1484.     def as_sql(self, compiler, connection, template=None, **extra_context):
1485.         query = self.query.exists(using=connection.alias)
1486.         try:
1487.             sql, params = super().as_sql(
1488.                 compiler,
1489.                 connection,
1490.                 template=template,
1491.                 query=query,
1492.                 **extra_context,
1493.             )
1494.         except EmptyResultSet:
1495.             if self.negated:
1496.                 features = compiler.connection.features
1497.                 if not features.supports_boolean_expr_in_select_clause:
1498.                     return "1=1", ()
1499.                 return compiler.compile(Value(True))
1500.             raise


File: django/db/models/sql/compiler.py
Line number range: 1 - 1202
Content:
1. import collections
2. import json
3. import re
4. from functools import partial
5. from itertools import chain
6. 
7. from django.core.exceptions import EmptyResultSet, FieldError
8. from django.db import DatabaseError, NotSupportedError
9. from django.db.models.constants import LOOKUP_SEP
10. from django.db.models.expressions import F, OrderBy, RawSQL, Ref, Value
11. from django.db.models.functions import Cast, Random
12. from django.db.models.query_utils import select_related_descend
13. from django.db.models.sql.constants import (
14.     CURSOR,
15.     GET_ITERATOR_CHUNK_SIZE,
16.     MULTI,
17.     NO_RESULTS,
18.     ORDER_DIR,
19.     SINGLE,
20. )
21. from django.db.models.sql.query import Query, get_order_dir
22. from django.db.models.sql.where import AND
23. from django.db.transaction import TransactionManagementError
24. from django.utils.functional import cached_property
25. from django.utils.hashable import make_hashable
26. from django.utils.regex_helper import _lazy_re_compile
27. 
28. 
29. class SQLCompiler:
30.     # Multiline ordering SQL clause may appear from RawSQL.
31.     ordering_parts = _lazy_re_compile(
32.         r"^(.*)\s(?:ASC|DESC).*",
33.         re.MULTILINE | re.DOTALL,
34.     )
35. 
36.     def __init__(self, query, connection, using, elide_empty=True):
37.         self.query = query
38.         self.connection = connection
39.         self.using = using
40.         # Some queries, e.g. coalesced aggregation, need to be executed even if
41.         # they would return an empty result set.
42.         self.elide_empty = elide_empty
43.         self.quote_cache = {"*": "*"}
44.         # The select, klass_info, and annotations are needed by QuerySet.iterator()
45.         # these are set as a side-effect of executing the query. Note that we calculate
46.         # separately a list of extra select columns needed for grammatical correctness
47.         # of the query, but these columns are not included in self.select.
48.         self.select = None
49.         self.annotation_col_map = None
50.         self.klass_info = None
51.         self._meta_ordering = None
52. 
53.     def __repr__(self):
54.         return (
55.             f"<{self.__class__.__qualname__} "
56.             f"model={self.query.model.__qualname__} "
57.             f"connection={self.connection!r} using={self.using!r}>"
58.         )
59. 
60.     def setup_query(self):
61.         if all(self.query.alias_refcount[a] == 0 for a in self.query.alias_map):
62.             self.query.get_initial_alias()
63.         self.select, self.klass_info, self.annotation_col_map = self.get_select()
64.         self.col_count = len(self.select)
65. 
66.     def pre_sql_setup(self):
67.         """
68.         Do any necessary class setup immediately prior to producing SQL. This
69.         is for things that can't necessarily be done in __init__ because we
70.         might not have all the pieces in place at that time.
71.         """
72.         self.setup_query()
73.         order_by = self.get_order_by()
74.         self.where, self.having = self.query.where.split_having()
75.         extra_select = self.get_extra_select(order_by, self.select)
76.         self.has_extra_select = bool(extra_select)
77.         group_by = self.get_group_by(self.select + extra_select, order_by)
78.         return extra_select, order_by, group_by
79. 
80.     def get_group_by(self, select, order_by):
81.         """
82.         Return a list of 2-tuples of form (sql, params).
83. 
84.         The logic of what exactly the GROUP BY clause contains is hard
85.         to describe in other words than "if it passes the test suite,
86.         then it is correct".
87.         """
88.         # Some examples:
89.         #     SomeModel.objects.annotate(Count('somecol'))
90.         #     GROUP BY: all fields of the model
91.         #
92.         #    SomeModel.objects.values('name').annotate(Count('somecol'))
93.         #    GROUP BY: name
94.         #
95.         #    SomeModel.objects.annotate(Count('somecol')).values('name')
96.         #    GROUP BY: all cols of the model
97.         #
98.         #    SomeModel.objects.values('name', 'pk')
99.         #    .annotate(Count('somecol')).values('pk')
100.         #    GROUP BY: name, pk
101.         #
102.         #    SomeModel.objects.values('name').annotate(Count('somecol')).values('pk')
103.         #    GROUP BY: name, pk
104.         #
105.         # In fact, the self.query.group_by is the minimal set to GROUP BY. It
106.         # can't be ever restricted to a smaller set, but additional columns in
107.         # HAVING, ORDER BY, and SELECT clauses are added to it. Unfortunately
108.         # the end result is that it is impossible to force the query to have
109.         # a chosen GROUP BY clause - you can almost do this by using the form:
110.         #     .values(*wanted_cols).annotate(AnAggregate())
111.         # but any later annotations, extra selects, values calls that
112.         # refer some column outside of the wanted_cols, order_by, or even
113.         # filter calls can alter the GROUP BY clause.
114. 
115.         # The query.group_by is either None (no GROUP BY at all), True
116.         # (group by select fields), or a list of expressions to be added
117.         # to the group by.
118.         if self.query.group_by is None:
119.             return []
120.         expressions = []
121.         if self.query.group_by is not True:
122.             # If the group by is set to a list (by .values() call most likely),
123.             # then we need to add everything in it to the GROUP BY clause.
124.             # Backwards compatibility hack for setting query.group_by. Remove
125.             # when  we have public API way of forcing the GROUP BY clause.
126.             # Converts string references to expressions.
127.             for expr in self.query.group_by:
128.                 if not hasattr(expr, "as_sql"):
129.                     expressions.append(self.query.resolve_ref(expr))
130.                 else:
131.                     expressions.append(expr)
132.         # Note that even if the group_by is set, it is only the minimal
133.         # set to group by. So, we need to add cols in select, order_by, and
134.         # having into the select in any case.
135.         ref_sources = {expr.source for expr in expressions if isinstance(expr, Ref)}
136.         for expr, _, _ in select:
137.             # Skip members of the select clause that are already included
138.             # by reference.
139.             if expr in ref_sources:
140.                 continue
141.             cols = expr.get_group_by_cols()
142.             for col in cols:
143.                 expressions.append(col)
144.         if not self._meta_ordering:
145.             for expr, (sql, params, is_ref) in order_by:
146.                 # Skip references to the SELECT clause, as all expressions in
147.                 # the SELECT clause are already part of the GROUP BY.
148.                 if not is_ref:
149.                     expressions.extend(expr.get_group_by_cols())
150.         having_group_by = self.having.get_group_by_cols() if self.having else ()
151.         for expr in having_group_by:
152.             expressions.append(expr)
153.         result = []
154.         seen = set()
155.         expressions = self.collapse_group_by(expressions, having_group_by)
156. 
157.         for expr in expressions:
158.             sql, params = self.compile(expr)
159.             sql, params = expr.select_format(self, sql, params)
160.             params_hash = make_hashable(params)
161.             if (sql, params_hash) not in seen:
162.                 result.append((sql, params))
163.                 seen.add((sql, params_hash))
164.         return result
165. 
166.     def collapse_group_by(self, expressions, having):
167.         # If the DB can group by primary key, then group by the primary key of
168.         # query's main model. Note that for PostgreSQL the GROUP BY clause must
169.         # include the primary key of every table, but for MySQL it is enough to
170.         # have the main table's primary key.
171.         if self.connection.features.allows_group_by_pk:
172.             # Determine if the main model's primary key is in the query.
173.             pk = None
174.             for expr in expressions:
175.                 # Is this a reference to query's base table primary key? If the
176.                 # expression isn't a Col-like, then skip the expression.
177.                 if (
178.                     getattr(expr, "target", None) == self.query.model._meta.pk
179.                     and getattr(expr, "alias", None) == self.query.base_table
180.                 ):
181.                     pk = expr
182.                     break
183.             # If the main model's primary key is in the query, group by that
184.             # field, HAVING expressions, and expressions associated with tables
185.             # that don't have a primary key included in the grouped columns.
186.             if pk:
187.                 pk_aliases = {
188.                     expr.alias
189.                     for expr in expressions
190.                     if hasattr(expr, "target") and expr.target.primary_key
191.                 }
192.                 expressions = [pk] + [
193.                     expr
194.                     for expr in expressions
195.                     if expr in having
196.                     or (
197.                         getattr(expr, "alias", None) is not None
198.                         and expr.alias not in pk_aliases
199.                     )
200.                 ]
201.         elif self.connection.features.allows_group_by_selected_pks:
202.             # Filter out all expressions associated with a table's primary key
203.             # present in the grouped columns. This is done by identifying all
204.             # tables that have their primary key included in the grouped
205.             # columns and removing non-primary key columns referring to them.
206.             # Unmanaged models are excluded because they could be representing
207.             # database views on which the optimization might not be allowed.
208.             pks = {
209.                 expr
210.                 for expr in expressions
211.                 if (
212.                     hasattr(expr, "target")
213.                     and expr.target.primary_key
214.                     and self.connection.features.allows_group_by_selected_pks_on_model(
215.                         expr.target.model
216.                     )
217.                 )
218.             }
219.             aliases = {expr.alias for expr in pks}
220.             expressions = [
221.                 expr
222.                 for expr in expressions
223.                 if expr in pks or getattr(expr, "alias", None) not in aliases
224.             ]
225.         return expressions
226. 
227.     def get_select(self):
228.         """
229.         Return three values:
230.         - a list of 3-tuples of (expression, (sql, params), alias)
231.         - a klass_info structure,
232.         - a dictionary of annotations
233. 
234.         The (sql, params) is what the expression will produce, and alias is the
235.         "AS alias" for the column (possibly None).
236. 
237.         The klass_info structure contains the following information:
238.         - The base model of the query.
239.         - Which columns for that model are present in the query (by
240.           position of the select clause).
241.         - related_klass_infos: [f, klass_info] to descent into
242. 
243.         The annotations is a dictionary of {'attname': column position} values.
244.         """
245.         select = []
246.         klass_info = None
247.         annotations = {}
248.         select_idx = 0
249.         for alias, (sql, params) in self.query.extra_select.items():
250.             annotations[alias] = select_idx
251.             select.append((RawSQL(sql, params), alias))
252.             select_idx += 1
253.         assert not (self.query.select and self.query.default_cols)
254.         if self.query.default_cols:
255.             cols = self.get_default_columns()
256.         else:
257.             # self.query.select is a special case. These columns never go to
258.             # any model.
259.             cols = self.query.select
260.         if cols:
261.             select_list = []
262.             for col in cols:
263.                 select_list.append(select_idx)
264.                 select.append((col, None))
265.                 select_idx += 1
266.             klass_info = {
267.                 "model": self.query.model,
268.                 "select_fields": select_list,
269.             }
270.         for alias, annotation in self.query.annotation_select.items():
271.             annotations[alias] = select_idx
272.             select.append((annotation, alias))
273.             select_idx += 1
274. 
275.         if self.query.select_related:
276.             related_klass_infos = self.get_related_selections(select)
277.             klass_info["related_klass_infos"] = related_klass_infos
278. 
279.             def get_select_from_parent(klass_info):
280.                 for ki in klass_info["related_klass_infos"]:
281.                     if ki["from_parent"]:
282.                         ki["select_fields"] = (
283.                             klass_info["select_fields"] + ki["select_fields"]
284.                         )
285.                     get_select_from_parent(ki)
286. 
287.             get_select_from_parent(klass_info)
288. 
289.         ret = []
290.         for col, alias in select:
291.             try:
292.                 sql, params = self.compile(col)
293.             except EmptyResultSet:
294.                 empty_result_set_value = getattr(
295.                     col, "empty_result_set_value", NotImplemented
296.                 )
297.                 if empty_result_set_value is NotImplemented:
298.                     # Select a predicate that's always False.
299.                     sql, params = "0", ()
300.                 else:
301.                     sql, params = self.compile(Value(empty_result_set_value))
302.             else:
303.                 sql, params = col.select_format(self, sql, params)
304.             ret.append((col, (sql, params), alias))
305.         return ret, klass_info, annotations
306. 
307.     def _order_by_pairs(self):
308.         if self.query.extra_order_by:
309.             ordering = self.query.extra_order_by
310.         elif not self.query.default_ordering:
311.             ordering = self.query.order_by
312.         elif self.query.order_by:
313.             ordering = self.query.order_by
314.         elif (meta := self.query.get_meta()) and meta.ordering:
315.             ordering = meta.ordering
316.             self._meta_ordering = ordering
317.         else:
318.             ordering = []
319.         if self.query.standard_ordering:
320.             default_order, _ = ORDER_DIR["ASC"]
321.         else:
322.             default_order, _ = ORDER_DIR["DESC"]
323. 
324.         for field in ordering:
325.             if hasattr(field, "resolve_expression"):
326.                 if isinstance(field, Value):
327.                     # output_field must be resolved for constants.
328.                     field = Cast(field, field.output_field)
329.                 if not isinstance(field, OrderBy):
330.                     field = field.asc()
331.                 if not self.query.standard_ordering:
332.                     field = field.copy()
333.                     field.reverse_ordering()
334.                 yield field, False
335.                 continue
336.             if field == "?":  # random
337.                 yield OrderBy(Random()), False
338.                 continue
339. 
340.             col, order = get_order_dir(field, default_order)
341.             descending = order == "DESC"
342. 
343.             if col in self.query.annotation_select:
344.                 # Reference to expression in SELECT clause
345.                 yield (
346.                     OrderBy(
347.                         Ref(col, self.query.annotation_select[col]),
348.                         descending=descending,
349.                     ),
350.                     True,
351.                 )
352.                 continue
353.             if col in self.query.annotations:
354.                 # References to an expression which is masked out of the SELECT
355.                 # clause.
356.                 if self.query.combinator and self.select:
357.                     # Don't use the resolved annotation because other
358.                     # combinated queries might define it differently.
359.                     expr = F(col)
360.                 else:
361.                     expr = self.query.annotations[col]
362.                     if isinstance(expr, Value):
363.                         # output_field must be resolved for constants.
364.                         expr = Cast(expr, expr.output_field)
365.                 yield OrderBy(expr, descending=descending), False
366.                 continue
367. 
368.             if "." in field:
369.                 # This came in through an extra(order_by=...) addition. Pass it
370.                 # on verbatim.
371.                 table, col = col.split(".", 1)
372.                 yield (
373.                     OrderBy(
374.                         RawSQL(
375.                             "%s.%s" % (self.quote_name_unless_alias(table), col), []
376.                         ),
377.                         descending=descending,
378.                     ),
379.                     False,
380.                 )
381.                 continue
382. 
383.             if self.query.extra and col in self.query.extra:
384.                 if col in self.query.extra_select:
385.                     yield (
386.                         OrderBy(
387.                             Ref(col, RawSQL(*self.query.extra[col])),
388.                             descending=descending,
389.                         ),
390.                         True,
391.                     )
392.                 else:
393.                     yield (
394.                         OrderBy(RawSQL(*self.query.extra[col]), descending=descending),
395.                         False,
396.                     )
397.             else:
398.                 if self.query.combinator and self.select:
399.                     # Don't use the first model's field because other
400.                     # combinated queries might define it differently.
401.                     yield OrderBy(F(col), descending=descending), False
402.                 else:
403.                     # 'col' is of the form 'field' or 'field1__field2' or
404.                     # '-field1__field2__field', etc.
405.                     yield from self.find_ordering_name(
406.                         field,
407.                         self.query.get_meta(),
408.                         default_order=default_order,
409.                     )
410. 
411.     def get_order_by(self):
412.         """
413.         Return a list of 2-tuples of the form (expr, (sql, params, is_ref)) for
414.         the ORDER BY clause.
415. 
416.         The order_by clause can alter the select clause (for example it can add
417.         aliases to clauses that do not yet have one, or it can add totally new
418.         select clauses).
419.         """
420.         result = []
421.         seen = set()
422. 
423.         for expr, is_ref in self._order_by_pairs():
424.             resolved = expr.resolve_expression(self.query, allow_joins=True, reuse=None)
425.             if self.query.combinator and self.select:
426.                 src = resolved.get_source_expressions()[0]
427.                 expr_src = expr.get_source_expressions()[0]
428.                 # Relabel order by columns to raw numbers if this is a combined
429.                 # query; necessary since the columns can't be referenced by the
430.                 # fully qualified name and the simple column names may collide.
431.                 for idx, (sel_expr, _, col_alias) in enumerate(self.select):
432.                     if is_ref and col_alias == src.refs:
433.                         src = src.source
434.                     elif col_alias and not (
435.                         isinstance(expr_src, F) and col_alias == expr_src.name
436.                     ):
437.                         continue
438.                     if src == sel_expr:
439.                         resolved.set_source_expressions([RawSQL("%d" % (idx + 1), ())])
440.                         break
441.                 else:
442.                     if col_alias:
443.                         raise DatabaseError(
444.                             "ORDER BY term does not match any column in the result set."
445.                         )
446.                     # Add column used in ORDER BY clause to the selected
447.                     # columns and to each combined query.
448.                     order_by_idx = len(self.query.select) + 1
449.                     col_name = f"__orderbycol{order_by_idx}"
450.                     for q in self.query.combined_queries:
451.                         q.add_annotation(expr_src, col_name)
452.                     self.query.add_select_col(resolved, col_name)
453.                     resolved.set_source_expressions([RawSQL(f"{order_by_idx}", ())])
454.             sql, params = self.compile(resolved)
455.             # Don't add the same column twice, but the order direction is
456.             # not taken into account so we strip it. When this entire method
457.             # is refactored into expressions, then we can check each part as we
458.             # generate it.
459.             without_ordering = self.ordering_parts.search(sql)[1]
460.             params_hash = make_hashable(params)
461.             if (without_ordering, params_hash) in seen:
462.                 continue
463.             seen.add((without_ordering, params_hash))
464.             result.append((resolved, (sql, params, is_ref)))
465.         return result
466. 
467.     def get_extra_select(self, order_by, select):
468.         extra_select = []
469.         if self.query.distinct and not self.query.distinct_fields:
470.             select_sql = [t[1] for t in select]
471.             for expr, (sql, params, is_ref) in order_by:
472.                 without_ordering = self.ordering_parts.search(sql)[1]
473.                 if not is_ref and (without_ordering, params) not in select_sql:
474.                     extra_select.append((expr, (without_ordering, params), None))
475.         return extra_select
476. 
477.     def quote_name_unless_alias(self, name):
478.         """
479.         A wrapper around connection.ops.quote_name that doesn't quote aliases
480.         for table names. This avoids problems with some SQL dialects that treat
481.         quoted strings specially (e.g. PostgreSQL).
482.         """
483.         if name in self.quote_cache:
484.             return self.quote_cache[name]
485.         if (
486.             (name in self.query.alias_map and name not in self.query.table_map)
487.             or name in self.query.extra_select
488.             or (
489.                 self.query.external_aliases.get(name)
490.                 and name not in self.query.table_map
491.             )
492.         ):
493.             self.quote_cache[name] = name
494.             return name
495.         r = self.connection.ops.quote_name(name)
496.         self.quote_cache[name] = r
497.         return r
498. 
499.     def compile(self, node):
500.         vendor_impl = getattr(node, "as_" + self.connection.vendor, None)
501.         if vendor_impl:
502.             sql, params = vendor_impl(self, self.connection)
503.         else:
504.             sql, params = node.as_sql(self, self.connection)
505.         return sql, params
506. 
507.     def get_combinator_sql(self, combinator, all):
508.         features = self.connection.features
509.         compilers = [
510.             query.get_compiler(self.using, self.connection, self.elide_empty)
511.             for query in self.query.combined_queries
512.             if not query.is_empty()
513.         ]
514.         if not features.supports_slicing_ordering_in_compound:
515.             for query, compiler in zip(self.query.combined_queries, compilers):
516.                 if query.low_mark or query.high_mark:
517.                     raise DatabaseError(
518.                         "LIMIT/OFFSET not allowed in subqueries of compound statements."
519.                     )
520.                 if compiler.get_order_by():
521.                     raise DatabaseError(
522.                         "ORDER BY not allowed in subqueries of compound statements."
523.                     )
524.         parts = ()
525.         for compiler in compilers:
526.             try:
527.                 # If the columns list is limited, then all combined queries
528.                 # must have the same columns list. Set the selects defined on
529.                 # the query on all combined queries, if not already set.
530.                 if not compiler.query.values_select and self.query.values_select:
531.                     compiler.query = compiler.query.clone()
532.                     compiler.query.set_values(
533.                         (
534.                             *self.query.extra_select,
535.                             *self.query.values_select,
536.                             *self.query.annotation_select,
537.                         )
538.                     )
539.                 part_sql, part_args = compiler.as_sql()
540.                 if compiler.query.combinator:
541.                     # Wrap in a subquery if wrapping in parentheses isn't
542.                     # supported.
543.                     if not features.supports_parentheses_in_compound:
544.                         part_sql = "SELECT * FROM ({})".format(part_sql)
545.                     # Add parentheses when combining with compound query if not
546.                     # already added for all compound queries.
547.                     elif (
548.                         self.query.subquery
549.                         or not features.supports_slicing_ordering_in_compound
550.                     ):
551.                         part_sql = "({})".format(part_sql)
552.                 elif (
553.                     self.query.subquery
554.                     and features.supports_slicing_ordering_in_compound
555.                 ):
556.                     part_sql = "({})".format(part_sql)
557.                 parts += ((part_sql, part_args),)
558.             except EmptyResultSet:
559.                 # Omit the empty queryset with UNION and with DIFFERENCE if the
560.                 # first queryset is nonempty.
561.                 if combinator == "union" or (combinator == "difference" and parts):
562.                     continue
563.                 raise
564.         if not parts:
565.             raise EmptyResultSet
566.         combinator_sql = self.connection.ops.set_operators[combinator]
567.         if all and combinator == "union":
568.             combinator_sql += " ALL"
569.         braces = "{}"
570.         if not self.query.subquery and features.supports_slicing_ordering_in_compound:
571.             braces = "({})"
572.         sql_parts, args_parts = zip(
573.             *((braces.format(sql), args) for sql, args in parts)
574.         )
575.         result = [" {} ".format(combinator_sql).join(sql_parts)]
576.         params = []
577.         for part in args_parts:
578.             params.extend(part)
579.         return result, params
580. 
581.     def as_sql(self, with_limits=True, with_col_aliases=False):
582.         """
583.         Create the SQL for this query. Return the SQL string and list of
584.         parameters.
585. 
586.         If 'with_limits' is False, any limit/offset information is not included
587.         in the query.
588.         """
589.         refcounts_before = self.query.alias_refcount.copy()
590.         try:
591.             extra_select, order_by, group_by = self.pre_sql_setup()
592.             for_update_part = None
593.             # Is a LIMIT/OFFSET clause needed?
594.             with_limit_offset = with_limits and (
595.                 self.query.high_mark is not None or self.query.low_mark
596.             )
597.             combinator = self.query.combinator
598.             features = self.connection.features
599.             if combinator:
600.                 if not getattr(features, "supports_select_{}".format(combinator)):
601.                     raise NotSupportedError(
602.                         "{} is not supported on this database backend.".format(
603.                             combinator
604.                         )
605.                     )
606.                 result, params = self.get_combinator_sql(
607.                     combinator, self.query.combinator_all
608.                 )
609.             else:
610.                 distinct_fields, distinct_params = self.get_distinct()
611.                 # This must come after 'select', 'ordering', and 'distinct'
612.                 # (see docstring of get_from_clause() for details).
613.                 from_, f_params = self.get_from_clause()
614.                 try:
615.                     where, w_params = (
616.                         self.compile(self.where) if self.where is not None else ("", [])
617.                     )
618.                 except EmptyResultSet:
619.                     if self.elide_empty:
620.                         raise
621.                     # Use a predicate that's always False.
622.                     where, w_params = "0 = 1", []
623.                 having, h_params = (
624.                     self.compile(self.having) if self.having is not None else ("", [])
625.                 )
626.                 result = ["SELECT"]
627.                 params = []
628. 
629.                 if self.query.distinct:
630.                     distinct_result, distinct_params = self.connection.ops.distinct_sql(
631.                         distinct_fields,
632.                         distinct_params,
633.                     )
634.                     result += distinct_result
635.                     params += distinct_params
636. 
637.                 out_cols = []
638.                 col_idx = 1
639.                 for _, (s_sql, s_params), alias in self.select + extra_select:
640.                     if alias:
641.                         s_sql = "%s AS %s" % (
642.                             s_sql,
643.                             self.connection.ops.quote_name(alias),
644.                         )
645.                     elif with_col_aliases:
646.                         s_sql = "%s AS %s" % (
647.                             s_sql,
648.                             self.connection.ops.quote_name("col%d" % col_idx),
649.                         )
650.                         col_idx += 1
651.                     params.extend(s_params)
652.                     out_cols.append(s_sql)
653. 
654.                 result += [", ".join(out_cols)]
655.                 if from_:
656.                     result += ["FROM", *from_]
657.                 elif self.connection.features.bare_select_suffix:
658.                     result += [self.connection.features.bare_select_suffix]
659.                 params.extend(f_params)
660. 
661.                 if self.query.select_for_update and features.has_select_for_update:
662.                     if (
663.                         self.connection.get_autocommit()
664.                         # Don't raise an exception when database doesn't
665.                         # support transactions, as it's a noop.
666.                         and features.supports_transactions
667.                     ):
668.                         raise TransactionManagementError(
669.                             "select_for_update cannot be used outside of a transaction."
670.                         )
671. 
672.                     if (
673.                         with_limit_offset
674.                         and not features.supports_select_for_update_with_limit
675.                     ):
676.                         raise NotSupportedError(
677.                             "LIMIT/OFFSET is not supported with "
678.                             "select_for_update on this database backend."
679.                         )
680.                     nowait = self.query.select_for_update_nowait
681.                     skip_locked = self.query.select_for_update_skip_locked
682.                     of = self.query.select_for_update_of
683.                     no_key = self.query.select_for_no_key_update
684.                     # If it's a NOWAIT/SKIP LOCKED/OF/NO KEY query but the
685.                     # backend doesn't support it, raise NotSupportedError to
686.                     # prevent a possible deadlock.
687.                     if nowait and not features.has_select_for_update_nowait:
688.                         raise NotSupportedError(
689.                             "NOWAIT is not supported on this database backend."
690.                         )
691.                     elif skip_locked and not features.has_select_for_update_skip_locked:
692.                         raise NotSupportedError(
693.                             "SKIP LOCKED is not supported on this database backend."
694.                         )
695.                     elif of and not features.has_select_for_update_of:
696.                         raise NotSupportedError(
697.                             "FOR UPDATE OF is not supported on this database backend."
698.                         )
699.                     elif no_key and not features.has_select_for_no_key_update:
700.                         raise NotSupportedError(
701.                             "FOR NO KEY UPDATE is not supported on this "
702.                             "database backend."
703.                         )
704.                     for_update_part = self.connection.ops.for_update_sql(
705.                         nowait=nowait,
706.                         skip_locked=skip_locked,
707.                         of=self.get_select_for_update_of_arguments(),
708.                         no_key=no_key,
709.                     )
710. 
711.                 if for_update_part and features.for_update_after_from:
712.                     result.append(for_update_part)
713. 
714.                 if where:
715.                     result.append("WHERE %s" % where)
716.                     params.extend(w_params)
717. 
718.                 grouping = []
719.                 for g_sql, g_params in group_by:
720.                     grouping.append(g_sql)
721.                     params.extend(g_params)
722.                 if grouping:
723.                     if distinct_fields:
724.                         raise NotImplementedError(
725.                             "annotate() + distinct(fields) is not implemented."
726.                         )
727.                     order_by = order_by or self.connection.ops.force_no_ordering()
728.                     result.append("GROUP BY %s" % ", ".join(grouping))
729.                     if self._meta_ordering:
730.                         order_by = None
731.                 if having:
732.                     result.append("HAVING %s" % having)
733.                     params.extend(h_params)
734. 
735.             if self.query.explain_info:
736.                 result.insert(
737.                     0,
738.                     self.connection.ops.explain_query_prefix(
739.                         self.query.explain_info.format,
740.                         **self.query.explain_info.options,
741.                     ),
742.                 )
743. 
744.             if order_by:
745.                 ordering = []
746.                 for _, (o_sql, o_params, _) in order_by:
747.                     ordering.append(o_sql)
748.                     params.extend(o_params)
749.                 result.append("ORDER BY %s" % ", ".join(ordering))
750. 
751.             if with_limit_offset:
752.                 result.append(
753.                     self.connection.ops.limit_offset_sql(
754.                         self.query.low_mark, self.query.high_mark
755.                     )
756.                 )
757. 
758.             if for_update_part and not features.for_update_after_from:
759.                 result.append(for_update_part)
760. 
761.             if self.query.subquery and extra_select:
762.                 # If the query is used as a subquery, the extra selects would
763.                 # result in more columns than the left-hand side expression is
764.                 # expecting. This can happen when a subquery uses a combination
765.                 # of order_by() and distinct(), forcing the ordering expressions
766.                 # to be selected as well. Wrap the query in another subquery
767.                 # to exclude extraneous selects.
768.                 sub_selects = []
769.                 sub_params = []
770.                 for index, (select, _, alias) in enumerate(self.select, start=1):
771.                     if not alias and with_col_aliases:
772.                         alias = "col%d" % index
773.                     if alias:
774.                         sub_selects.append(
775.                             "%s.%s"
776.                             % (
777.                                 self.connection.ops.quote_name("subquery"),
778.                                 self.connection.ops.quote_name(alias),
779.                             )
780.                         )
781.                     else:
782.                         select_clone = select.relabeled_clone(
783.                             {select.alias: "subquery"}
784.                         )
785.                         subselect, subparams = select_clone.as_sql(
786.                             self, self.connection
787.                         )
788.                         sub_selects.append(subselect)
789.                         sub_params.extend(subparams)
790.                 return "SELECT %s FROM (%s) subquery" % (
791.                     ", ".join(sub_selects),
792.                     " ".join(result),
793.                 ), tuple(sub_params + params)
794. 
795.             return " ".join(result), tuple(params)
796.         finally:
797.             # Finally do cleanup - get rid of the joins we created above.
798.             self.query.reset_refcounts(refcounts_before)
799. 
800.     def get_default_columns(self, start_alias=None, opts=None, from_parent=None):
801.         """
802.         Compute the default columns for selecting every field in the base
803.         model. Will sometimes be called to pull in related models (e.g. via
804.         select_related), in which case "opts" and "start_alias" will be given
805.         to provide a starting point for the traversal.
806. 
807.         Return a list of strings, quoted appropriately for use in SQL
808.         directly, as well as a set of aliases used in the select statement (if
809.         'as_pairs' is True, return a list of (alias, col_name) pairs instead
810.         of strings as the first component and None as the second component).
811.         """
812.         result = []
813.         if opts is None:
814.             if (opts := self.query.get_meta()) is None:
815.                 return result
816.         only_load = self.deferred_to_columns()
817.         start_alias = start_alias or self.query.get_initial_alias()
818.         # The 'seen_models' is used to optimize checking the needed parent
819.         # alias for a given field. This also includes None -> start_alias to
820.         # be used by local fields.
821.         seen_models = {None: start_alias}
822. 
823.         for field in opts.concrete_fields:
824.             model = field.model._meta.concrete_model
825.             # A proxy model will have a different model and concrete_model. We
826.             # will assign None if the field belongs to this model.
827.             if model == opts.model:
828.                 model = None
829.             if (
830.                 from_parent
831.                 and model is not None
832.                 and issubclass(
833.                     from_parent._meta.concrete_model, model._meta.concrete_model
834.                 )
835.             ):
836.                 # Avoid loading data for already loaded parents.
837.                 # We end up here in the case select_related() resolution
838.                 # proceeds from parent model to child model. In that case the
839.                 # parent model data is already present in the SELECT clause,
840.                 # and we want to avoid reloading the same data again.
841.                 continue
842.             if field.model in only_load and field.attname not in only_load[field.model]:
843.                 continue
844.             alias = self.query.join_parent_model(opts, model, start_alias, seen_models)
845.             column = field.get_col(alias)
846.             result.append(column)
847.         return result
848. 
849.     def get_distinct(self):
850.         """
851.         Return a quoted list of fields to use in DISTINCT ON part of the query.
852. 
853.         This method can alter the tables in the query, and thus it must be
854.         called before get_from_clause().
855.         """
856.         result = []
857.         params = []
858.         opts = self.query.get_meta()
859. 
860.         for name in self.query.distinct_fields:
861.             parts = name.split(LOOKUP_SEP)
862.             _, targets, alias, joins, path, _, transform_function = self._setup_joins(
863.                 parts, opts, None
864.             )
865.             targets, alias, _ = self.query.trim_joins(targets, joins, path)
866.             for target in targets:
867.                 if name in self.query.annotation_select:
868.                     result.append(self.connection.ops.quote_name(name))
869.                 else:
870.                     r, p = self.compile(transform_function(target, alias))
871.                     result.append(r)
872.                     params.append(p)
873.         return result, params
874. 
875.     def find_ordering_name(
876.         self, name, opts, alias=None, default_order="ASC", already_seen=None
877.     ):
878.         """
879.         Return the table alias (the name might be ambiguous, the alias will
880.         not be) and column name for ordering by the given 'name' parameter.
881.         The 'name' is of the form 'field1__field2__...__fieldN'.
882.         """
883.         name, order = get_order_dir(name, default_order)
884.         descending = order == "DESC"
885.         pieces = name.split(LOOKUP_SEP)
886.         (
887.             field,
888.             targets,
889.             alias,
890.             joins,
891.             path,
892.             opts,
893.             transform_function,
894.         ) = self._setup_joins(pieces, opts, alias)
895. 
896.         # If we get to this point and the field is a relation to another model,
897.         # append the default ordering for that model unless it is the pk
898.         # shortcut or the attribute name of the field that is specified.
899.         if (
900.             field.is_relation
901.             and opts.ordering
902.             and getattr(field, "attname", None) != pieces[-1]
903.             and name != "pk"
904.         ):
905.             # Firstly, avoid infinite loops.
906.             already_seen = already_seen or set()
907.             join_tuple = tuple(
908.                 getattr(self.query.alias_map[j], "join_cols", None) for j in joins
909.             )
910.             if join_tuple in already_seen:
911.                 raise FieldError("Infinite loop caused by ordering.")
912.             already_seen.add(join_tuple)
913. 
914.             results = []
915.             for item in opts.ordering:
916.                 if hasattr(item, "resolve_expression") and not isinstance(
917.                     item, OrderBy
918.                 ):
919.                     item = item.desc() if descending else item.asc()
920.                 if isinstance(item, OrderBy):
921.                     results.append(
922.                         (item.prefix_references(f"{name}{LOOKUP_SEP}"), False)
923.                     )
924.                     continue
925.                 results.extend(
926.                     (expr.prefix_references(f"{name}{LOOKUP_SEP}"), is_ref)
927.                     for expr, is_ref in self.find_ordering_name(
928.                         item, opts, alias, order, already_seen
929.                     )
930.                 )
931.             return results
932.         targets, alias, _ = self.query.trim_joins(targets, joins, path)
933.         return [
934.             (OrderBy(transform_function(t, alias), descending=descending), False)
935.             for t in targets
936.         ]
937. 
938.     def _setup_joins(self, pieces, opts, alias):
939.         """
940.         Helper method for get_order_by() and get_distinct().
941. 
942.         get_ordering() and get_distinct() must produce same target columns on
943.         same input, as the prefixes of get_ordering() and get_distinct() must
944.         match. Executing SQL where this is not true is an error.
945.         """
946.         alias = alias or self.query.get_initial_alias()
947.         field, targets, opts, joins, path, transform_function = self.query.setup_joins(
948.             pieces, opts, alias
949.         )
950.         alias = joins[-1]
951.         return field, targets, alias, joins, path, opts, transform_function
952. 
953.     def get_from_clause(self):
954.         """
955.         Return a list of strings that are joined together to go after the
956.         "FROM" part of the query, as well as a list any extra parameters that
957.         need to be included. Subclasses, can override this to create a
958.         from-clause via a "select".
959. 
960.         This should only be called after any SQL construction methods that
961.         might change the tables that are needed. This means the select columns,
962.         ordering, and distinct must be done first.
963.         """
964.         result = []
965.         params = []
966.         for alias in tuple(self.query.alias_map):
967.             if not self.query.alias_refcount[alias]:
968.                 continue
969.             try:
970.                 from_clause = self.query.alias_map[alias]
971.             except KeyError:
972.                 # Extra tables can end up in self.tables, but not in the
973.                 # alias_map if they aren't in a join. That's OK. We skip them.
974.                 continue
975.             clause_sql, clause_params = self.compile(from_clause)
976.             result.append(clause_sql)
977.             params.extend(clause_params)
978.         for t in self.query.extra_tables:
979.             alias, _ = self.query.table_alias(t)
980.             # Only add the alias if it's not already present (the table_alias()
981.             # call increments the refcount, so an alias refcount of one means
982.             # this is the only reference).
983.             if (
984.                 alias not in self.query.alias_map
985.                 or self.query.alias_refcount[alias] == 1
986.             ):
987.                 result.append(", %s" % self.quote_name_unless_alias(alias))
988.         return result, params
989. 
990.     def get_related_selections(
991.         self,
992.         select,
993.         opts=None,
994.         root_alias=None,
995.         cur_depth=1,
996.         requested=None,
997.         restricted=None,
998.     ):
999.         """
1000.         Fill in the information needed for a select_related query. The current
1001.         depth is measured as the number of connections away from the root model
1002.         (for example, cur_depth=1 means we are looking at models with direct
1003.         connections to the root model).
1004.         """
1005. 
1006.         def _get_field_choices():
1007.             direct_choices = (f.name for f in opts.fields if f.is_relation)
1008.             reverse_choices = (
1009.                 f.field.related_query_name()
1010.                 for f in opts.related_objects
1011.                 if f.field.unique
1012.             )
1013.             return chain(
1014.                 direct_choices, reverse_choices, self.query._filtered_relations
1015.             )
1016. 
1017.         related_klass_infos = []
1018.         if not restricted and cur_depth > self.query.max_depth:
1019.             # We've recursed far enough; bail out.
1020.             return related_klass_infos
1021. 
1022.         if not opts:
1023.             opts = self.query.get_meta()
1024.             root_alias = self.query.get_initial_alias()
1025.         only_load = self.deferred_to_columns()
1026. 
1027.         # Setup for the case when only particular related fields should be
1028.         # included in the related selection.
1029.         fields_found = set()
1030.         if requested is None:
1031.             restricted = isinstance(self.query.select_related, dict)
1032.             if restricted:
1033.                 requested = self.query.select_related
1034. 
1035.         def get_related_klass_infos(klass_info, related_klass_infos):
1036.             klass_info["related_klass_infos"] = related_klass_infos
1037. 
1038.         for f in opts.fields:
1039.             field_model = f.model._meta.concrete_model
1040.             fields_found.add(f.name)
1041. 
1042.             if restricted:
1043.                 next = requested.get(f.name, {})
1044.                 if not f.is_relation:
1045.                     # If a non-related field is used like a relation,
1046.                     # or if a single non-relational field is given.
1047.                     if next or f.name in requested:
1048.                         raise FieldError(
1049.                             "Non-relational field given in select_related: '%s'. "
1050.                             "Choices are: %s"
1051.                             % (
1052.                                 f.name,
1053.                                 ", ".join(_get_field_choices()) or "(none)",
1054.                             )
1055.                         )
1056.             else:
1057.                 next = False
1058. 
1059.             if not select_related_descend(
1060.                 f, restricted, requested, only_load.get(field_model)
1061.             ):
1062.                 continue
1063.             klass_info = {
1064.                 "model": f.remote_field.model,
1065.                 "field": f,
1066.                 "reverse": False,
1067.                 "local_setter": f.set_cached_value,
1068.                 "remote_setter": f.remote_field.set_cached_value
1069.                 if f.unique
1070.                 else lambda x, y: None,
1071.                 "from_parent": False,
1072.             }
1073.             related_klass_infos.append(klass_info)
1074.             select_fields = []
1075.             _, _, _, joins, _, _ = self.query.setup_joins([f.name], opts, root_alias)
1076.             alias = joins[-1]
1077.             columns = self.get_default_columns(
1078.                 start_alias=alias, opts=f.remote_field.model._meta
1079.             )
1080.             for col in columns:
1081.                 select_fields.append(len(select))
1082.                 select.append((col, None))
1083.             klass_info["select_fields"] = select_fields
1084.             next_klass_infos = self.get_related_selections(
1085.                 select,
1086.                 f.remote_field.model._meta,
1087.                 alias,
1088.                 cur_depth + 1,
1089.                 next,
1090.                 restricted,
1091.             )
1092.             get_related_klass_infos(klass_info, next_klass_infos)
1093. 
1094.         if restricted:
1095.             related_fields = [
1096.                 (o.field, o.related_model)
1097.                 for o in opts.related_objects
1098.                 if o.field.unique and not o.many_to_many
1099.             ]
1100.             for f, model in related_fields:
1101.                 if not select_related_descend(
1102.                     f, restricted, requested, only_load.get(model), reverse=True
1103.                 ):
1104.                     continue
1105. 
1106.                 related_field_name = f.related_query_name()
1107.                 fields_found.add(related_field_name)
1108. 
1109.                 join_info = self.query.setup_joins(
1110.                     [related_field_name], opts, root_alias
1111.                 )
1112.                 alias = join_info.joins[-1]
1113.                 from_parent = issubclass(model, opts.model) and model is not opts.model
1114.                 klass_info = {
1115.                     "model": model,
1116.                     "field": f,
1117.                     "reverse": True,
1118.                     "local_setter": f.remote_field.set_cached_value,
1119.                     "remote_setter": f.set_cached_value,
1120.                     "from_parent": from_parent,
1121.                 }
1122.                 related_klass_infos.append(klass_info)
1123.                 select_fields = []
1124.                 columns = self.get_default_columns(
1125.                     start_alias=alias, opts=model._meta, from_parent=opts.model
1126.                 )
1127.                 for col in columns:
1128.                     select_fields.append(len(select))
1129.                     select.append((col, None))
1130.                 klass_info["select_fields"] = select_fields
1131.                 next = requested.get(f.related_query_name(), {})
1132.                 next_klass_infos = self.get_related_selections(
1133.                     select, model._meta, alias, cur_depth + 1, next, restricted
1134.                 )
1135.                 get_related_klass_infos(klass_info, next_klass_infos)
1136. 
1137.             def local_setter(obj, from_obj):
1138.                 # Set a reverse fk object when relation is non-empty.
1139.                 if from_obj:
1140.                     f.remote_field.set_cached_value(from_obj, obj)
1141. 
1142.             def remote_setter(name, obj, from_obj):
1143.                 setattr(from_obj, name, obj)
1144. 
1145.             for name in list(requested):
1146.                 # Filtered relations work only on the topmost level.
1147.                 if cur_depth > 1:
1148.                     break
1149.                 if name in self.query._filtered_relations:
1150.                     fields_found.add(name)
1151.                     f, _, join_opts, joins, _, _ = self.query.setup_joins(
1152.                         [name], opts, root_alias
1153.                     )
1154.                     model = join_opts.model
1155.                     alias = joins[-1]
1156.                     from_parent = (
1157.                         issubclass(model, opts.model) and model is not opts.model
1158.                     )
1159.                     klass_info = {
1160.                         "model": model,
1161.                         "field": f,
1162.                         "reverse": True,
1163.                         "local_setter": local_setter,
1164.                         "remote_setter": partial(remote_setter, name),
1165.                         "from_parent": from_parent,
1166.                     }
1167.                     related_klass_infos.append(klass_info)
1168.                     select_fields = []
1169.                     columns = self.get_default_columns(
1170.                         start_alias=alias,
1171.                         opts=model._meta,
1172.                         from_parent=opts.model,
1173.                     )
1174.                     for col in columns:
1175.                         select_fields.append(len(select))
1176.                         select.append((col, None))
1177.                     klass_info["select_fields"] = select_fields
1178.                     next_requested = requested.get(name, {})
1179.                     next_klass_infos = self.get_related_selections(
1180.                         select,
1181.                         opts=model._meta,
1182.                         root_alias=alias,
1183.                         cur_depth=cur_depth + 1,
1184.                         requested=next_requested,
1185.                         restricted=restricted,
1186.                     )
1187.                     get_related_klass_infos(klass_info, next_klass_infos)
1188.             fields_not_found = set(requested).difference(fields_found)
1189.             if fields_not_found:
1190.                 invalid_fields = ("'%s'" % s for s in fields_not_found)
1191.                 raise FieldError(
1192.                     "Invalid field name(s) given in select_related: %s. "
1193.                     "Choices are: %s"
1194.                     % (
1195.                         ", ".join(invalid_fields),
1196.                         ", ".join(_get_field_choices()) or "(none)",
1197.                     )
1198.                 )
1199.         return related_klass_infos
1200. 
1201.     def get_select_for_update_of_arguments(self):
1202.         """

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 08:11:24,271 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's issue is caused by `~Q(pk__in=[])` compiling to an empty SQL string. The compilation of `Q` objects into SQL `WHERE` clauses is handled by the `WhereNode` class. My analysis suggests that the `as_sql` method of `WhereNode` contains the logic that produces an empty string for a negated query that would otherwise be empty. To confirm this and understand the root cause, I need the implementation of `WhereNode`. This implementation is in `django/db/models/sql/where.py`, which is not in the current context." query='Please provide the full content of `django/db/models/sql/where.py`.' extra_requirements='' purpose='I need to examine the `WhereNode.as_sql` method to understand how a negated Q-object with an empty `__in` lookup is compiled into an empty SQL string.'
2025-12-21 08:11:24,272 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/sql/where.py`.
2025-12-21 08:11:24,272 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 08:11:24,272 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 08:11:24,273 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 08:11:24,273 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/sql/where.py`.
Purpose: I need to examine the `WhereNode.as_sql` method to understand how a negated Q-object with an empty `__in` lookup is compiled into an empty SQL string.
2025-12-21 08:11:27,564 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the specified file, `django/db/models/sql/where.py`. This will allow you to examine the `WhereNode.as_sql` method and understand how it handles negated Q-objects with empty `__in` lookups.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/sql/where.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2117, 'candidates_token_count': 83, 'total_token_count': 2401, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2117}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 83}], 'thoughts_token_count': 201, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1163924113813653, 'model_name': 'gemini-2.5-pro'} id='run--484887be-ffa2-4031-8899-3713d3919a82-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/sql/where.py'}, 'id': '581dfd5e-5950-4967-9db0-a3d0df6671fd', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2117, 'output_tokens': 83, 'total_tokens': 2401, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 201}}
2025-12-21 08:11:37,281 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `django/db/models/sql/where.py` for you. By examining the `WhereNode.as_sql` method within this file, you can see how Django handles specific query compilations. This will allow you to trace the logic that leads to a negated Q-object with an empty `__in` lookup being compiled into an empty SQL string, effectively matching all records.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 6079, 'candidates_token_count': 87, 'total_token_count': 7159, 'cached_content_token_count': 1766, 'prompt_tokens_details': [{'modality': 1, 'token_count': 6079}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1766}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 87}], 'thoughts_token_count': 993}, 'finish_reason': 'STOP', 'avg_logprobs': -0.996954556169181, 'model_name': 'gemini-2.5-pro'} id='run--78cfe3cb-04ed-4303-9e23-26abc3b2cfa5-0' usage_metadata={'input_tokens': 6079, 'output_tokens': 87, 'total_tokens': 7159, 'input_token_details': {'cache_read': 1766}, 'output_token_details': {'reasoning': 993}}
2025-12-21 08:11:37,283 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/sql/where.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to examine the `WhereNode.as_sql` method to understand how a negated Q-object with an empty `__in` lookup is compiled into an empty SQL string.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/sql/where.py
Line number range: 1 - 287
Content:
1. """
2. Code to manage the creation and SQL rendering of 'where' constraints.
3. """
4. import operator
5. from functools import reduce
6. 
7. from django.core.exceptions import EmptyResultSet
8. from django.db.models.expressions import Case, When
9. from django.db.models.lookups import Exact
10. from django.utils import tree
11. from django.utils.functional import cached_property
12. 
13. # Connection types
14. AND = "AND"
15. OR = "OR"
16. XOR = "XOR"
17. 
18. 
19. class WhereNode(tree.Node):
20.     """
21.     An SQL WHERE clause.
22. 
23.     The class is tied to the Query class that created it (in order to create
24.     the correct SQL).
25. 
26.     A child is usually an expression producing boolean values. Most likely the
27.     expression is a Lookup instance.
28. 
29.     However, a child could also be any class with as_sql() and either
30.     relabeled_clone() method or relabel_aliases() and clone() methods and
31.     contains_aggregate attribute.
32.     """
33. 
34.     default = AND
35.     resolved = False
36.     conditional = True
37. 
38.     def split_having(self, negated=False):
39.         """
40.         Return two possibly None nodes: one for those parts of self that
41.         should be included in the WHERE clause and one for those parts of
42.         self that must be included in the HAVING clause.
43.         """
44.         if not self.contains_aggregate:
45.             return self, None
46.         in_negated = negated ^ self.negated
47.         # If the effective connector is OR or XOR and this node contains an
48.         # aggregate, then we need to push the whole branch to HAVING clause.
49.         may_need_split = (
50.             (in_negated and self.connector == AND)
51.             or (not in_negated and self.connector == OR)
52.             or self.connector == XOR
53.         )
54.         if may_need_split and self.contains_aggregate:
55.             return None, self
56.         where_parts = []
57.         having_parts = []
58.         for c in self.children:
59.             if hasattr(c, "split_having"):
60.                 where_part, having_part = c.split_having(in_negated)
61.                 if where_part is not None:
62.                     where_parts.append(where_part)
63.                 if having_part is not None:
64.                     having_parts.append(having_part)
65.             elif c.contains_aggregate:
66.                 having_parts.append(c)
67.             else:
68.                 where_parts.append(c)
69.         having_node = (
70.             self.create(having_parts, self.connector, self.negated)
71.             if having_parts
72.             else None
73.         )
74.         where_node = (
75.             self.create(where_parts, self.connector, self.negated)
76.             if where_parts
77.             else None
78.         )
79.         return where_node, having_node
80. 
81.     def as_sql(self, compiler, connection):
82.         """
83.         Return the SQL version of the where clause and the value to be
84.         substituted in. Return '', [] if this node matches everything,
85.         None, [] if this node is empty, and raise EmptyResultSet if this
86.         node can't match anything.
87.         """
88.         result = []
89.         result_params = []
90.         if self.connector == AND:
91.             full_needed, empty_needed = len(self.children), 1
92.         else:
93.             full_needed, empty_needed = 1, len(self.children)
94. 
95.         if self.connector == XOR and not connection.features.supports_logical_xor:
96.             # Convert if the database doesn't support XOR:
97.             #   a XOR b XOR c XOR ...
98.             # to:
99.             #   (a OR b OR c OR ...) AND (a + b + c + ...) == 1
100.             lhs = self.__class__(self.children, OR)
101.             rhs_sum = reduce(
102.                 operator.add,
103.                 (Case(When(c, then=1), default=0) for c in self.children),
104.             )
105.             rhs = Exact(1, rhs_sum)
106.             return self.__class__([lhs, rhs], AND, self.negated).as_sql(
107.                 compiler, connection
108.             )
109. 
110.         for child in self.children:
111.             try:
112.                 sql, params = compiler.compile(child)
113.             except EmptyResultSet:
114.                 empty_needed -= 1
115.             else:
116.                 if sql:
117.                     result.append(sql)
118.                     result_params.extend(params)
119.                 else:
120.                     full_needed -= 1
121.             # Check if this node matches nothing or everything.
122.             # First check the amount of full nodes and empty nodes
123.             # to make this node empty/full.
124.             # Now, check if this node is full/empty using the
125.             # counts.
126.             if empty_needed == 0:
127.                 if self.negated:
128.                     return "", []
129.                 else:
130.                     raise EmptyResultSet
131.             if full_needed == 0:
132.                 if self.negated:
133.                     raise EmptyResultSet
134.                 else:
135.                     return "", []
136.         conn = " %s " % self.connector
137.         sql_string = conn.join(result)
138.         if sql_string:
139.             if self.negated:
140.                 # Some backends (Oracle at least) need parentheses
141.                 # around the inner SQL in the negated case, even if the
142.                 # inner SQL contains just a single expression.
143.                 sql_string = "NOT (%s)" % sql_string
144.             elif len(result) > 1 or self.resolved:
145.                 sql_string = "(%s)" % sql_string
146.         return sql_string, result_params
147. 
148.     def get_group_by_cols(self, alias=None):
149.         cols = []
150.         for child in self.children:
151.             cols.extend(child.get_group_by_cols())
152.         return cols
153. 
154.     def get_source_expressions(self):
155.         return self.children[:]
156. 
157.     def set_source_expressions(self, children):
158.         assert len(children) == len(self.children)
159.         self.children = children
160. 
161.     def relabel_aliases(self, change_map):
162.         """
163.         Relabel the alias values of any children. 'change_map' is a dictionary
164.         mapping old (current) alias values to the new values.
165.         """
166.         for pos, child in enumerate(self.children):
167.             if hasattr(child, "relabel_aliases"):
168.                 # For example another WhereNode
169.                 child.relabel_aliases(change_map)
170.             elif hasattr(child, "relabeled_clone"):
171.                 self.children[pos] = child.relabeled_clone(change_map)
172. 
173.     def clone(self):
174.         clone = self.create(connector=self.connector, negated=self.negated)
175.         for child in self.children:
176.             if hasattr(child, "clone"):
177.                 child = child.clone()
178.             clone.children.append(child)
179.         return clone
180. 
181.     def relabeled_clone(self, change_map):
182.         clone = self.clone()
183.         clone.relabel_aliases(change_map)
184.         return clone
185. 
186.     @classmethod
187.     def _contains_aggregate(cls, obj):
188.         if isinstance(obj, tree.Node):
189.             return any(cls._contains_aggregate(c) for c in obj.children)
190.         return obj.contains_aggregate
191. 
192.     @cached_property
193.     def contains_aggregate(self):
194.         return self._contains_aggregate(self)
195. 
196.     @classmethod
197.     def _contains_over_clause(cls, obj):
198.         if isinstance(obj, tree.Node):
199.             return any(cls._contains_over_clause(c) for c in obj.children)
200.         return obj.contains_over_clause
201. 
202.     @cached_property
203.     def contains_over_clause(self):
204.         return self._contains_over_clause(self)
205. 
206.     @staticmethod
207.     def _resolve_leaf(expr, query, *args, **kwargs):
208.         if hasattr(expr, "resolve_expression"):
209.             expr = expr.resolve_expression(query, *args, **kwargs)
210.         return expr
211. 
212.     @classmethod
213.     def _resolve_node(cls, node, query, *args, **kwargs):
214.         if hasattr(node, "children"):
215.             for child in node.children:
216.                 cls._resolve_node(child, query, *args, **kwargs)
217.         if hasattr(node, "lhs"):
218.             node.lhs = cls._resolve_leaf(node.lhs, query, *args, **kwargs)
219.         if hasattr(node, "rhs"):
220.             node.rhs = cls._resolve_leaf(node.rhs, query, *args, **kwargs)
221. 
222.     def resolve_expression(self, *args, **kwargs):
223.         clone = self.clone()
224.         clone._resolve_node(clone, *args, **kwargs)
225.         clone.resolved = True
226.         return clone
227. 
228.     @cached_property
229.     def output_field(self):
230.         from django.db.models import BooleanField
231. 
232.         return BooleanField()
233. 
234.     def select_format(self, compiler, sql, params):
235.         # Wrap filters with a CASE WHEN expression if a database backend
236.         # (e.g. Oracle) doesn't support boolean expression in SELECT or GROUP
237.         # BY list.
238.         if not compiler.connection.features.supports_boolean_expr_in_select_clause:
239.             sql = f"CASE WHEN {sql} THEN 1 ELSE 0 END"
240.         return sql, params
241. 
242.     def get_db_converters(self, connection):
243.         return self.output_field.get_db_converters(connection)
244. 
245.     def get_lookup(self, lookup):
246.         return self.output_field.get_lookup(lookup)
247. 
248. 
249. class NothingNode:
250.     """A node that matches nothing."""
251. 
252.     contains_aggregate = False
253. 
254.     def as_sql(self, compiler=None, connection=None):
255.         raise EmptyResultSet
256. 
257. 
258. class ExtraWhere:
259.     # The contents are a black box - assume no aggregates are used.
260.     contains_aggregate = False
261. 
262.     def __init__(self, sqls, params):
263.         self.sqls = sqls
264.         self.params = params
265. 
266.     def as_sql(self, compiler=None, connection=None):
267.         sqls = ["(%s)" % sql for sql in self.sqls]
268.         return " AND ".join(sqls), list(self.params or ())
269. 
270. 
271. class SubqueryConstraint:
272.     # Even if aggregates would be used in a subquery, the outer query isn't
273.     # interested about those.
274.     contains_aggregate = False
275. 
276.     def __init__(self, alias, columns, targets, query_object):
277.         self.alias = alias
278.         self.columns = columns
279.         self.targets = targets
280.         query_object.clear_ordering(clear_default=True)
281.         self.query_object = query_object
282. 
283.     def as_sql(self, compiler, connection):
284.         query = self.query_object
285.         query.set_values(self.targets)
286.         query_compiler = query.get_compiler(connection=connection)
287.         return query_compiler.as_subquery_condition(self.alias, self.columns, compiler)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 08:11:44,202 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the 'full content of `django/db/models/sql/where.py`'.\n2. Extended relevance:\n   - The provided context contains the entire file from line 1 to 287, which directly fulfills the user's request.\n   - The user's stated purpose is to examine the `WhereNode.as_sql` method within this file. The full file content is necessary to understand the class `WhereNode` and its methods completely.", relative_path='django/db/models/sql/where.py', start_line=1, end_line=287)]
2025-12-21 08:11:44,203 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `django/db/models/sql/where.py`.
2025-12-21 08:11:44,203 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 08:11:44,203 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 08:11:44,203 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 2 existing contexts
2025-12-21 08:11:44,204 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-21 08:11:44,204 - thread-126571857839808.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-21 08:11:44,205 - thread-126571857839808.prometheus_context_collector - INFO - Successfully retrieved 3 context snippets
