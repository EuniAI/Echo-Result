2025-12-21 17:39:15,100 - thread-128656326264512.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: .subs on coth(log(tan(x))) errors for certain integral values

Description:     >>> from sympy import *
    >>> x = Symbol('x')
    >>> e = coth(log(tan(x)))
    >>> print(e.subs(x, 2))
    ...
    File "C:\Users\E\Desktop\sympy-master\sympy\functions\elementary\hyperbolic.py", line 590, in eval
        if cotm is S.ComplexInfinity:
    NameError: name 'cotm' is not defined

Fails for 2, 3, 5, 6, 8, 9, 11, 12, 13, 15, 18, ... etc.

Patch information:
diff --git a/sympy/functions/elementary/hyperbolic.py b/sympy/functions/elementary/hyperbolic.py
index 2a4555d919..5fbb73c786 100644
--- a/sympy/functions/elementary/hyperbolic.py
+++ b/sympy/functions/elementary/hyperbolic.py
@@ -587,7 +587,7 @@ def eval(cls, arg):
                 x, m = _peeloff_ipi(arg)
                 if m:
                     cothm = coth(m)
-                    if cotm is S.ComplexInfinity:
+                    if cothm is S.ComplexInfinity:
                         return coth(x)
                     else: # cothm == 0
                         return tanh(x)


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-21 17:39:15,168 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
├── .ci
|   ├── generate_durations_log.sh
|   └── parse_durations_log.py
├── .travis.yml
├── CODE_OF_CONDUCT.md
├── PULL_REQUEST_TEMPLATE.md
├── README.rst
├── bin
|   ├── ask_update.py
|   ├── authors_update.py
|   ├── coverage_doctest.py
|   ├── coverage_report.py
|   ├── generate_module_list.py
|   ├── generate_test_list.py
|   ├── get_sympy.py
|   ├── mailmap_update.py
|   ├── sympy_time.py
|   ├── sympy_time_cache.py
|   ├── test_import.py
|   ├── test_setup.py
|   └── test_travis.sh
├── conftest.py
├── data
|   └── TeXmacs
|       ├── bin
|       └── progs
├── doc
|   ├── README.rst
|   ├── api
|   |   ├── conf.py
|   |   └── index.rst
|   ├── cheatsheet
|   ├── ext
|   |   ├── docscrape.py
|   |   ├── docscrape_sphinx.py
|   |   ├── numpydoc.py
|   |   └── sympylive.py
|   ├── generate_logos.py
|   ├── man
|   |   └── isympy.xml
|   └── src
|       ├── _static
|       ├── _templates
|       |   └── layout.html
|       ├── aboutus.rst
|       ├── citing.rst
|       ├── conf.py
|       ├── gotchas.rst
|       ├── guide.rst
|       ├── index.rst
|       ├── install.rst
|       ├── logo
|       |   └── info.txt
|       ├── modules
|       |   ├── assumptions
|       |   |   ├── ask.rst
|       |   |   ├── assume.rst
|       |   |   ├── handlers
|       |   |   ├── index.rst
|       |   |   └── refine.rst
|       |   ├── calculus
|       |   |   └── index.rst
|       |   ├── categories.rst
|       |   ├── codegen.rst
|       |   ├── combinatorics
|       |   |   ├── fp_groups.rst
|       |   |   ├── graycode.rst
|       |   |   ├── group_constructs.rst
|       |   |   ├── index.rst
|       |   |   ├── named_groups.rst
|       |   |   ├── partitions.rst
|       |   |   ├── perm_groups.rst
|       |   |   ├── permutations.rst
|       |   |   ├── polyhedron.rst
|       |   |   ├── prufer.rst
|       |   |   ├── subsets.rst
|       |   |   ├── tensor_can.rst
|       |   |   ├── testutil.rst
|       |   |   └── util.rst
|       |   ├── concrete.rst
|       |   ├── core.rst
|       |   ├── crypto.rst
|       |   ├── diffgeom.rst
|       |   ├── evalf.rst
|       |   ├── functions
|       |   |   ├── combinatorial.rst
|       |   |   ├── elementary.rst
|       |   |   ├── index.rst
|       |   |   └── special.rst
|       |   ├── geometry
|       |   |   ├── curves.rst
|       |   |   ├── ellipses.rst
|       |   |   ├── entities.rst
|       |   |   ├── index.rst
|       |   |   ├── lines.rst
|       |   |   ├── plane.rst
|       |   |   ├── points.rst
|       |   |   ├── polygons.rst
|       |   |   └── utils.rst
|       |   ├── holonomic
|       |   |   ├── about.rst
|       |   |   ├── convert.rst
|       |   |   ├── index.rst
|       |   |   ├── operations.rst
|       |   |   ├── represent.rst
|       |   |   └── uses.rst
|       |   ├── index.rst
|       |   ├── integrals
|       |   |   ├── g-functions.rst
|       |   |   └── integrals.rst
|       |   ├── liealgebras
|       |   |   └── index.rst
|       |   ├── logic.rst
|       |   ├── matrices
|       |   |   ├── dense.rst
|       |   |   ├── expressions.rst
|       |   |   ├── immutablematrices.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   └── sparse.rst
|       |   ├── ntheory.rst
|       |   ├── numeric-computation.rst
|       |   ├── parsing.rst
|       |   ├── physics
|       |   |   ├── continuum_mechanics
|       |   |   ├── hep
|       |   |   ├── hydrogen.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   ├── mechanics
|       |   |   ├── optics
|       |   |   ├── paulialgebra.rst
|       |   |   ├── qho_1d.rst
|       |   |   ├── quantum
|       |   |   ├── secondquant.rst
|       |   |   ├── sho.rst
|       |   |   ├── units
|       |   |   ├── vector
|       |   |   └── wigner.rst
|       |   ├── plotting.rst
|       |   ├── polys
|       |   |   ├── agca.rst
|       |   |   ├── basics.rst
|       |   |   ├── index.rst
|       |   |   ├── internals.rst
|       |   |   ├── literature.rst
|       |   |   ├── reference.rst
|       |   |   ├── ringseries.rst
|       |   |   └── wester.rst
|       |   ├── printing.rst
|       |   ├── rewriting.rst
|       |   ├── series
|       |   |   ├── formal.rst
|       |   |   ├── fourier.rst
|       |   |   ├── index.rst
|       |   |   ├── limitseq.rst
|       |   |   ├── sequences.rst
|       |   |   └── series.rst
|       |   ├── sets.rst
|       |   ├── simplify
|       |   |   ├── hyperexpand.rst
|       |   |   └── simplify.rst
|       |   ├── solvers
|       |   |   ├── diophantine.rst
|       |   |   ├── inequalities.rst
|       |   |   ├── ode.rst
|       |   |   ├── pde.rst
|       |   |   ├── solvers.rst
|       |   |   └── solveset.rst
|       |   ├── stats.rst
|       |   ├── tensor
|       |   |   ├── array.rst
|       |   |   ├── index.rst
|       |   |   ├── index_methods.rst
|       |   |   ├── indexed.rst
|       |   |   └── tensor.rst
|       |   ├── utilities
|       |   |   ├── autowrap.rst
|       |   |   ├── codegen.rst
|       |   |   ├── decorator.rst
|       |   |   ├── enumerative.rst
|       |   |   ├── index.rst
|       |   |   ├── iterables.rst
|       |   |   ├── lambdify.rst
|       |   |   ├── memoization.rst
|       |   |   ├── misc.rst
|       |   |   ├── pkgdata.rst
|       |   |   ├── pytest.rst
|       |   |   ├── randtest.rst
|       |   |   ├── runtests.rst
|       |   |   ├── source.rst
|       |   |   └── timeutils.rst
|       |   └── vector
|       |       ├── api
|       |       ├── basics.rst
|       |       ├── coordsys.rst
|       |       ├── examples.rst
|       |       ├── fields.rst
|       |       ├── index.rst
|       |       └── intro.rst
|       ├── outreach.rst
|       ├── pics
|       ├── python-comparisons.rst
|       ├── special_topics
|       |   ├── finite_diff_derivatives.rst
|       |   ├── index.rst
|       |   └── intro.rst
|       ├── tutorial
|       |   ├── basic_operations.rst
|       |   ├── calculus.rst
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   ├── intro.rst
|       |   ├── manipulation.rst
|       |   ├── matrices.rst
|       |   ├── preliminaries.rst
|       |   ├── printing.rst
|       |   ├── simplification.rst
|       |   └── solvers.rst
|       └── wiki.rst
├── examples
|   ├── advanced
|   |   ├── autowrap_integrators.py
|   |   ├── autowrap_ufuncify.py
|   |   ├── curvilinear_coordinates.py
|   |   ├── dense_coding_example.py
|   |   ├── fem.py
|   |   ├── gibbs_phenomenon.py
|   |   ├── grover_example.py
|   |   ├── hydrogen.py
|   |   ├── pidigits.py
|   |   ├── pyglet_plotting.py
|   |   ├── qft.py
|   |   └── relativity.py
|   ├── all.py
|   ├── beginner
|   |   ├── basic.py
|   |   ├── differentiation.py
|   |   ├── expansion.py
|   |   ├── functions.py
|   |   ├── limits_examples.py
|   |   ├── plot_examples.py
|   |   ├── plotting_nice_plot.py
|   |   ├── precision.py
|   |   ├── print_pretty.py
|   |   ├── series.py
|   |   └── substitution.py
|   ├── intermediate
|   |   ├── coupled_cluster.py
|   |   ├── differential_equations.py
|   |   ├── infinite_1d_box.py
|   |   ├── mplot2d.py
|   |   ├── mplot3d.py
|   |   ├── partial_differential_eqs.py
|   |   ├── print_gtk.py
|   |   ├── sample.py
|   |   ├── trees.py
|   |   └── vandermonde.py
|   └── notebooks
|       └── README.txt
├── isympy.py
├── release
|   ├── Dockerfile
|   ├── README.md
|   ├── fabfile.py
|   ├── pull_and_run_rever.sh
|   └── release.sh
├── setup.py
├── setupegg.py
└── sympy
    ├── __init__.py
    ├── abc.py
    ├── algebras
    |   ├── __init__.py
    |   ├── quaternion.py
    |   └── tests
    |       └── test_quaternion.py
    ├── assumptions
    |   ├── __init__.py
    |   ├── ask.py
    |   ├── ask_generated.py
    |   ├── assume.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── refine.py
    |   ├── satask.py
    |   ├── sathandlers.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_assumptions_2.py
    |       ├── test_context.py
    |       ├── test_matrices.py
    |       ├── test_query.py
    |       ├── test_refine.py
    |       ├── test_satask.py
    |       └── test_sathandlers.py
    ├── benchmarks
    |   ├── __init__.py
    |   ├── bench_discrete_log.py
    |   ├── bench_meijerint.py
    |   └── bench_symbench.py
    ├── calculus
    |   ├── __init__.py
    |   ├── euler.py
    |   ├── finite_diff.py
    |   ├── singularities.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_euler.py
    |   |   ├── test_finite_diff.py
    |   |   ├── test_singularities.py
    |   |   └── test_util.py
    |   └── util.py
    ├── categories
    |   ├── __init__.py
    |   ├── baseclasses.py
    |   ├── diagram_drawing.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_baseclasses.py
    |       └── test_drawing.py
    ├── codegen
    |   ├── __init__.py
    |   ├── ast.py
    |   ├── cfunctions.py
    |   ├── ffunctions.py
    |   ├── rewriting.py
    |   └── tests
    |       ├── test_ast.py
    |       ├── test_cfunctions.py
    |       ├── test_ffunctions.py
    |       └── test_rewriting.py
    ├── combinatorics
    |   ├── __init__.py
    |   ├── coset_table.py
    |   ├── fp_groups.py
    |   ├── free_groups.py
    |   ├── generators.py
    |   ├── graycode.py
    |   ├── group_constructs.py
    |   ├── homomorphisms.py
    |   ├── named_groups.py
    |   ├── partitions.py
    |   ├── perm_groups.py
    |   ├── permutations.py
    |   ├── polyhedron.py
    |   ├── prufer.py
    |   ├── rewritingsystem.py
    |   ├── subsets.py
    |   ├── tensor_can.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_coset_table.py
    |   |   ├── test_fp_groups.py
    |   |   ├── test_free_groups.py
    |   |   ├── test_generators.py
    |   |   ├── test_graycode.py
    |   |   ├── test_group_constructs.py
    |   |   ├── test_homomorphisms.py
    |   |   ├── test_named_groups.py
    |   |   ├── test_partitions.py
    |   |   ├── test_perm_groups.py
    |   |   ├── test_permutations.py
    |   |   ├── test_polyhedron.py
    |   |   ├── test_prufer.py
    |   |   ├── test_rewriting.py
    |   |   ├── test_subsets.py
    |   |   ├── test_tensor_can.py
    |   |   ├── test_testutil.py
    |   |   └── test_util.py
    |   ├── testutil.py
    |   └── util.py
    ├── concrete
    |   ├── __init__.py
    |   ├── delta.py
    |   ├── expr_with_intlimits.py
    |   ├── expr_with_limits.py
    |   ├── gosper.py
    |   ├── guess.py
    |   ├── products.py
    |   ├── summations.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_delta.py
    |       ├── test_gosper.py
    |       ├── test_guess.py
    |       ├── test_products.py
    |       └── test_sums_products.py
    ├── conftest.py
    ├── core
    |   ├── __init__.py
    |   ├── add.py
    |   ├── alphabets.py
    |   ├── assumptions.py
    |   ├── backend.py
    |   ├── basic.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_arit.py
    |   |   ├── bench_assumptions.py
    |   |   ├── bench_basic.py
    |   |   ├── bench_expand.py
    |   |   ├── bench_numbers.py
    |   |   └── bench_sympify.py
    |   ├── cache.py
    |   ├── compatibility.py
    |   ├── containers.py
    |   ├── core.py
    |   ├── coreerrors.py
    |   ├── decorators.py
    |   ├── evalf.py
    |   ├── evaluate.py
    |   ├── expr.py
    |   ├── exprtools.py
    |   ├── facts.py
    |   ├── function.py
    |   ├── logic.py
    |   ├── mod.py
    |   ├── mul.py
    |   ├── multidimensional.py
    |   ├── numbers.py
    |   ├── operations.py
    |   ├── power.py
    |   ├── relational.py
    |   ├── rules.py
    |   ├── singleton.py
    |   ├── symbol.py
    |   ├── sympify.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_args.py
    |   |   ├── test_arit.py
    |   |   ├── test_assumptions.py
    |   |   ├── test_basic.py
    |   |   ├── test_cache.py
    |   |   ├── test_compatibility.py
    |   |   ├── test_complex.py
    |   |   ├── test_constructor_postprocessor.py
    |   |   ├── test_containers.py
    |   |   ├── test_count_ops.py
    |   |   ├── test_diff.py
    |   |   ├── test_equal.py
    |   |   ├── test_eval.py
    |   |   ├── test_eval_power.py
    |   |   ├── test_evalf.py
    |   |   ├── test_evaluate.py
    |   |   ├── test_expand.py
    |   |   ├── test_expr.py
    |   |   ├── test_exprtools.py
    |   |   ├── test_facts.py
    |   |   ├── test_function.py
    |   |   ├── test_logic.py
    |   |   ├── test_match.py
    |   |   ├── test_noncommutative.py
    |   |   ├── test_numbers.py
    |   |   ├── test_operations.py
    |   |   ├── test_priority.py
    |   |   ├── test_relational.py
    |   |   ├── test_rules.py
    |   |   ├── test_subs.py
    |   |   ├── test_symbol.py
    |   |   ├── test_sympify.py
    |   |   ├── test_trace.py
    |   |   ├── test_truediv.py
    |   |   └── test_var.py
    |   └── trace.py
    ├── crypto
    |   ├── __init__.py
    |   ├── crypto.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_crypto.py
    ├── deprecated
    |   ├── __init__.py
    |   ├── class_registry.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_class_registry.py
    ├── diffgeom
    |   ├── __init__.py
    |   ├── diffgeom.py
    |   ├── rn.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_class_structure.py
    |       ├── test_diffgeom.py
    |       ├── test_function_diffgeom_book.py
    |       └── test_hyperbolic_space.py
    ├── external
    |   ├── __init__.py
    |   ├── importtools.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_autowrap.py
    |       ├── test_codegen.py
    |       ├── test_importtools.py
    |       ├── test_numpy.py
    |       ├── test_sage.py
    |       └── test_scipy.py
    ├── functions
    |   ├── __init__.py
    |   ├── combinatorial
    |   |   ├── __init__.py
    |   |   ├── factorials.py
    |   |   ├── numbers.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_comb_factorials.py
    |   |       └── test_comb_numbers.py
    |   ├── elementary
    |   |   ├── __init__.py
    |   |   ├── benchmarks
    |   |   |   ├── __init__.py
    |   |   |   └── bench_exp.py
    |   |   ├── complexes.py
    |   |   ├── exponential.py
    |   |   ├── hyperbolic.py
    |   |   ├── integers.py
    |   |   ├── miscellaneous.py
    |   |   ├── piecewise.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_complexes.py
    |   |   |   ├── test_exponential.py
    |   |   |   ├── test_hyperbolic.py
    |   |   |   ├── test_integers.py
    |   |   |   ├── test_interface.py
    |   |   |   ├── test_miscellaneous.py
    |   |   |   ├── test_piecewise.py
    |   |   |   └── test_trigonometric.py
    |   |   └── trigonometric.py
    |   └── special
    |       ├── __init__.py
    |       ├── benchmarks
    |       |   ├── __init__.py
    |       |   └── bench_special.py
    |       ├── bessel.py
    |       ├── beta_functions.py
    |       ├── bsplines.py
    |       ├── delta_functions.py
    |       ├── elliptic_integrals.py
    |       ├── error_functions.py
    |       ├── gamma_functions.py
    |       ├── hyper.py
    |       ├── mathieu_functions.py
    |       ├── polynomials.py
    |       ├── singularity_functions.py
    |       ├── spherical_harmonics.py
    |       ├── tensor_functions.py
    |       ├── tests
    |       |   ├── __init__.py
    |       |   ├── test_bessel.py
    |       |   ├── test_beta_functions.py
    |       |   ├── test_bsplines.py
    |       |   ├── test_delta_functions.py
    |       |   ├── test_elliptic_integrals.py
    |       |   ├── test_error_functions.py
    |       |   ├── test_gamma_functions.py
    |       |   ├── test_hyper.py
    |       |   ├── test_mathieu.py
    |       |   ├── test_singularity_functions.py
    |       |   ├── test_spec_polynomials.py
    |       |   ├── test_spherical_harmonics.py
    |       |   ├── test_tensor_functions.py
    |       |   └── test_zeta_functions.py
    |       └── zeta_functions.py
    ├── galgebra.py
    ├── geometry
    |   ├── __init__.py
    |   ├── curve.py
    |   ├── ellipse.py
    |   ├── entity.py
    |   ├── exceptions.py
    |   ├── line.py
    |   ├── parabola.py
    |   ├── plane.py
    |   ├── point.py
    |   ├── polygon.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_curve.py
    |   |   ├── test_ellipse.py
    |   |   ├── test_entity.py
    |   |   ├── test_geometrysets.py
    |   |   ├── test_line.py
    |   |   ├── test_parabola.py
    |   |   ├── test_plane.py
    |   |   ├── test_point.py
    |   |   ├── test_polygon.py
    |   |   └── test_util.py
    |   └── util.py
    ├── holonomic
    |   ├── __init__.py
    |   ├── holonomic.py
    |   ├── holonomicerrors.py
    |   ├── linearsolver.py
    |   ├── numerical.py
    |   ├── recurrence.py
    |   └── tests
    |       ├── test_holonomic.py
    |       └── test_recurrence.py
    ├── integrals
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_integrate.py
    |   |   └── bench_trigintegrate.py
    |   ├── deltafunctions.py
    |   ├── heurisch.py
    |   ├── integrals.py
    |   ├── intpoly.py
    |   ├── manualintegrate.py
    |   ├── meijerint.py
    |   ├── meijerint_doc.py
    |   ├── prde.py
    |   ├── quadrature.py
    |   ├── rationaltools.py
    |   ├── rde.py
    |   ├── risch.py
    |   ├── rubi
    |   |   ├── __init__.py
    |   |   ├── parsetools
    |   |   |   ├── __init__.py
    |   |   |   ├── parse.py
    |   |   |   └── tests
    |   |   ├── rubi.py
    |   |   ├── rules
    |   |   |   ├── __init__.py
    |   |   |   ├── binomial_products.py
    |   |   |   ├── exponential.py
    |   |   |   ├── hyperbolic.py
    |   |   |   ├── integrand_simplification.py
    |   |   |   ├── inverse_hyperbolic.py
    |   |   |   ├── inverse_trig.py
    |   |   |   ├── linear_products.py
    |   |   |   ├── logarithms.py
    |   |   |   ├── miscellaneous_algebraic.py
    |   |   |   ├── miscellaneous_integration.py
    |   |   |   ├── miscellaneous_trig.py
    |   |   |   ├── piecewise_linear.py
    |   |   |   ├── quadratic_products.py
    |   |   |   ├── secant.py
    |   |   |   ├── sine.py
    |   |   |   ├── tangent.py
    |   |   |   └── trinomial_products.py
    |   |   ├── symbol.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_1_2.py
    |   |   |   ├── test_1_3.py
    |   |   |   ├── test_1_4.py
    |   |   |   ├── test_rubi_integrate.py
    |   |   |   └── test_utility_function.py
    |   |   └── utility_function.py
    |   ├── singularityfunctions.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_deltafunctions.py
    |   |   ├── test_failing_integrals.py
    |   |   ├── test_heurisch.py
    |   |   ├── test_integrals.py
    |   |   ├── test_intpoly.py
    |   |   ├── test_lineintegrals.py
    |   |   ├── test_manual.py
    |   |   ├── test_meijerint.py
    |   |   ├── test_prde.py
    |   |   ├── test_quadrature.py
    |   |   ├── test_rationaltools.py
    |   |   ├── test_rde.py
    |   |   ├── test_risch.py
    |   |   ├── test_singularityfunctions.py
    |   |   ├── test_transforms.py
    |   |   └── test_trigonometry.py
    |   ├── transforms.py
    |   └── trigonometry.py
    ├── interactive
    |   ├── __init__.py
    |   ├── ipythonprinting.py
    |   ├── printing.py
    |   ├── session.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_interactive.py
    |       ├── test_ipython.py
    |       └── test_ipythonprinting.py
    ├── liealgebras
    |   ├── __init__.py
    |   ├── cartan_matrix.py
    |   ├── cartan_type.py
    |   ├── dynkin_diagram.py
    |   ├── root_system.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_cartan_matrix.py
    |   |   ├── test_cartan_type.py
    |   |   ├── test_dynkin_diagram.py
    |   |   ├── test_root_system.py
    |   |   ├── test_type_A.py
    |   |   ├── test_type_B.py
    |   |   ├── test_type_C.py
    |   |   ├── test_type_D.py
    |   |   ├── test_type_E.py
    |   |   ├── test_type_F.py
    |   |   ├── test_type_G.py
    |   |   └── test_weyl_group.py
    |   ├── type_a.py
    |   ├── type_b.py
    |   ├── type_c.py
    |   ├── type_d.py
    |   ├── type_e.py
    |   ├── type_f.py
    |   ├── type_g.py
    |   └── weyl_group.py
    ├── logic
    |   ├── __init__.py
    |   ├── algorithms
    |   |   ├── __init__.py
    |   |   ├── dpll.py
    |   |   └── dpll2.py
    |   ├── boolalg.py
    |   ├── inference.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_boolalg.py
    |   |   ├── test_dimacs.py
    |   |   └── test_inference.py
    |   └── utilities
    |       ├── __init__.py
    |       └── dimacs.py
    ├── matrices
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_matrix.py
    |   ├── common.py
    |   ├── dense.py
    |   ├── densearith.py
    |   ├── densesolve.py
    |   ├── densetools.py
    |   ├── expressions
    |   |   ├── __init__.py
    |   |   ├── adjoint.py
    |   |   ├── blockmatrix.py
    |   |   ├── determinant.py
    |   |   ├── diagonal.py
    |   |   ├── dotproduct.py
    |   |   ├── factorizations.py
    |   |   ├── fourier.py
    |   |   ├── funcmatrix.py
    |   |   ├── hadamard.py
    |   |   ├── inverse.py
    |   |   ├── matadd.py
    |   |   ├── matexpr.py
    |   |   ├── matmul.py
    |   |   ├── matpow.py
    |   |   ├── slice.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_adjoint.py
    |   |   |   ├── test_blockmatrix.py
    |   |   |   ├── test_determinant.py
    |   |   |   ├── test_diagonal.py
    |   |   |   ├── test_dotproduct.py
    |   |   |   ├── test_factorizations.py
    |   |   |   ├── test_fourier.py
    |   |   |   ├── test_funcmatrix.py
    |   |   |   ├── test_hadamard.py
    |   |   |   ├── test_indexing.py
    |   |   |   ├── test_inverse.py
    |   |   |   ├── test_matadd.py
    |   |   |   ├── test_matexpr.py
    |   |   |   ├── test_matmul.py
    |   |   |   ├── test_matpow.py
    |   |   |   ├── test_slice.py
    |   |   |   ├── test_trace.py
    |   |   |   └── test_transpose.py
    |   |   ├── trace.py
    |   |   └── transpose.py
    |   ├── immutable.py
    |   ├── matrices.py
    |   ├── normalforms.py
    |   ├── sparse.py
    |   ├── sparsetools.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_commonmatrix.py
    |       ├── test_densearith.py
    |       ├── test_densesolve.py
    |       ├── test_densetools.py
    |       ├── test_immutable.py
    |       ├── test_interactions.py
    |       ├── test_matrices.py
    |       ├── test_normalforms.py
    |       ├── test_sparse.py
    |       └── test_sparsetools.py
    ├── ntheory
    |   ├── __init__.py
    |   ├── bbp_pi.py
    |   ├── continued_fraction.py
    |   ├── egyptian_fraction.py
    |   ├── factor_.py
    |   ├── generate.py
    |   ├── modular.py
    |   ├── multinomial.py
    |   ├── partitions_.py
    |   ├── primetest.py
    |   ├── residue_ntheory.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_bbp_pi.py
    |       ├── test_continued_fraction.py
    |       ├── test_egyptian_fraction.py
    |       ├── test_factor_.py
    |       ├── test_generate.py
    |       ├── test_modular.py
    |       ├── test_multinomial.py
    |       ├── test_partitions.py
    |       ├── test_primetest.py
    |       └── test_residue.py
    ├── parsing
    |   ├── __init__.py
    |   ├── ast_parser.py
    |   ├── mathematica.py
    |   ├── maxima.py
    |   ├── sympy_parser.py
    |   ├── sympy_tokenize.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_implicit_multiplication_application.py
    |       ├── test_mathematica.py
    |       ├── test_maxima.py
    |       └── test_sympy_parser.py
    ├── physics
    |   ├── __init__.py
    |   ├── continuum_mechanics
    |   |   ├── __init__.py
    |   |   ├── beam.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_beam.py
    |   ├── gaussopt.py
    |   ├── hep
    |   |   ├── __init__.py
    |   |   ├── gamma_matrices.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_gamma_matrices.py
    |   ├── hydrogen.py
    |   ├── matrices.py
    |   ├── mechanics
    |   |   ├── __init__.py
    |   |   ├── body.py
    |   |   ├── functions.py
    |   |   ├── kane.py
    |   |   ├── lagrange.py
    |   |   ├── linearize.py
    |   |   ├── models.py
    |   |   ├── particle.py
    |   |   ├── rigidbody.py
    |   |   ├── system.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_body.py
    |   |       ├── test_functions.py
    |   |       ├── test_kane.py
    |   |       ├── test_kane2.py
    |   |       ├── test_kane3.py
    |   |       ├── test_lagrange.py
    |   |       ├── test_lagrange2.py
    |   |       ├── test_linearize.py
    |   |       ├── test_models.py
    |   |       ├── test_particle.py
    |   |       ├── test_rigidbody.py
    |   |       └── test_system.py
    |   ├── optics
    |   |   ├── __init__.py
    |   |   ├── gaussopt.py
    |   |   ├── medium.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_gaussopt.py
    |   |   |   ├── test_medium.py
    |   |   |   ├── test_utils.py
    |   |   |   └── test_waves.py
    |   |   ├── utils.py
    |   |   └── waves.py
    |   ├── paulialgebra.py
    |   ├── pring.py
    |   ├── qho_1d.py
    |   ├── quantum
    |   |   ├── __init__.py
    |   |   ├── anticommutator.py
    |   |   ├── boson.py
    |   |   ├── cartesian.py
    |   |   ├── cg.py
    |   |   ├── circuitplot.py
    |   |   ├── circuitutils.py
    |   |   ├── commutator.py
    |   |   ├── constants.py
    |   |   ├── dagger.py
    |   |   ├── density.py
    |   |   ├── fermion.py
    |   |   ├── gate.py
    |   |   ├── grover.py
    |   |   ├── hilbert.py
    |   |   ├── identitysearch.py
    |   |   ├── innerproduct.py
    |   |   ├── matrixcache.py
    |   |   ├── matrixutils.py
    |   |   ├── operator.py
    |   |   ├── operatorordering.py
    |   |   ├── operatorset.py
    |   |   ├── pauli.py
    |   |   ├── piab.py
    |   |   ├── qapply.py
    |   |   ├── qasm.py
    |   |   ├── qexpr.py
    |   |   ├── qft.py
    |   |   ├── qubit.py
    |   |   ├── represent.py
    |   |   ├── sho1d.py
    |   |   ├── shor.py
    |   |   ├── spin.py
    |   |   ├── state.py
    |   |   ├── tensorproduct.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_anticommutator.py
    |   |       ├── test_boson.py
    |   |       ├── test_cartesian.py
    |   |       ├── test_cg.py
    |   |       ├── test_circuitplot.py
    |   |       ├── test_circuitutils.py
    |   |       ├── test_commutator.py
    |   |       ├── test_constants.py
    |   |       ├── test_dagger.py
    |   |       ├── test_density.py
    |   |       ├── test_fermion.py
    |   |       ├── test_gate.py
    |   |       ├── test_grover.py
    |   |       ├── test_hilbert.py
    |   |       ├── test_identitysearch.py
    |   |       ├── test_innerproduct.py
    |   |       ├── test_matrixutils.py
    |   |       ├── test_operator.py
    |   |       ├── test_operatorordering.py
    |   |       ├── test_operatorset.py
    |   |       ├── test_pauli.py
    |   |       ├── test_piab.py
    |   |       ├── test_printing.py
    |   |       ├── test_qapply.py
    |   |       ├── test_qasm.py
    |   |       ├── test_qexpr.py
    |   |       ├── test_qft.py
    |   |       ├── test_qubit.py
    |   |       ├── test_represent.py
    |   |       ├── test_sho1d.py
    |   |       ├── test_shor.py
    |   |       ├── test_spin.py
    |   |       ├── test_state.py
    |   |       └── test_tensorproduct.py
    |   ├── secondquant.py
    |   ├── sho.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_clebsch_gordan.py
    |   |   ├── test_hydrogen.py
    |   |   ├── test_paulialgebra.py
    |   |   ├── test_physics_matrices.py
    |   |   ├── test_pring.py
    |   |   ├── test_qho_1d.py
    |   |   ├── test_secondquant.py
    |   |   └── test_sho.py
    |   ├── units
    |   |   ├── __init__.py
    |   |   ├── definitions.py
    |   |   ├── dimensions.py
    |   |   ├── prefixes.py
    |   |   ├── quantities.py
    |   |   ├── systems
    |   |   |   ├── __init__.py
    |   |   |   ├── mks.py
    |   |   |   ├── mksa.py
    |   |   |   ├── natural.py
    |   |   |   └── si.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dimensions.py
    |   |   |   ├── test_dimensionsystem.py
    |   |   |   ├── test_prefixes.py
    |   |   |   ├── test_quantities.py
    |   |   |   ├── test_unitsystem.py
    |   |   |   └── test_util.py
    |   |   ├── unitsystem.py
    |   |   └── util.py
    |   ├── unitsystems.py
    |   ├── vector
    |   |   ├── __init__.py
    |   |   ├── dyadic.py
    |   |   ├── fieldfunctions.py
    |   |   ├── frame.py
    |   |   ├── functions.py
    |   |   ├── point.py
    |   |   ├── printing.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dyadic.py
    |   |   |   ├── test_fieldfunctions.py
    |   |   |   ├── test_frame.py
    |   |   |   ├── test_functions.py
    |   |   |   ├── test_output.py
    |   |   |   ├── test_point.py
    |   |   |   ├── test_printing.py
    |   |   |   └── test_vector.py
    |   |   └── vector.py
    |   └── wigner.py
    ├── plotting
    |   ├── __init__.py
    |   ├── experimental_lambdify.py
    |   ├── intervalmath
    |   |   ├── __init__.py
    |   |   ├── interval_arithmetic.py
    |   |   ├── lib_interval.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_interval_functions.py
    |   |       └── test_intervalmath.py
    |   ├── plot.py
    |   ├── plot_implicit.py
    |   ├── pygletplot
    |   |   ├── __init__.py
    |   |   ├── color_scheme.py
    |   |   ├── managed_window.py
    |   |   ├── plot.py
    |   |   ├── plot_axes.py
    |   |   ├── plot_camera.py
    |   |   ├── plot_controller.py
    |   |   ├── plot_curve.py
    |   |   ├── plot_interval.py
    |   |   ├── plot_mode.py
    |   |   ├── plot_mode_base.py
    |   |   ├── plot_modes.py
    |   |   ├── plot_object.py
    |   |   ├── plot_rotation.py
    |   |   ├── plot_surface.py
    |   |   ├── plot_window.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_plotting.py
    |   |   └── util.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_plot.py
    |   |   └── test_plot_implicit.py
    |   └── textplot.py
    ├── polys
    |   ├── __init__.py
    |   ├── agca
    |   |   ├── __init__.py
    |   |   ├── homomorphisms.py
    |   |   ├── ideals.py
    |   |   ├── modules.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_homomorphisms.py
    |   |       ├── test_ideals.py
    |   |       └── test_modules.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_galoispolys.py
    |   |   ├── bench_groebnertools.py
    |   |   └── bench_solvers.py
    |   ├── compatibility.py
    |   ├── constructor.py
    |   ├── densearith.py
    |   ├── densebasic.py
    |   ├── densetools.py
    |   ├── dispersion.py
    |   ├── distributedmodules.py
    |   ├── domains
    |   |   ├── __init__.py
    |   |   ├── algebraicfield.py
    |   |   ├── characteristiczero.py
    |   |   ├── complexfield.py
    |   |   ├── compositedomain.py
    |   |   ├── domain.py
    |   |   ├── domainelement.py
    |   |   ├── expressiondomain.py
    |   |   ├── field.py
    |   |   ├── finitefield.py
    |   |   ├── fractionfield.py
    |   |   ├── gmpyfinitefield.py
    |   |   ├── gmpyintegerring.py
    |   |   ├── gmpyrationalfield.py
    |   |   ├── groundtypes.py
    |   |   ├── integerring.py
    |   |   ├── modularinteger.py
    |   |   ├── mpelements.py
    |   |   ├── old_fractionfield.py
    |   |   ├── old_polynomialring.py
    |   |   ├── polynomialring.py
    |   |   ├── pythonfinitefield.py
    |   |   ├── pythonintegerring.py
    |   |   ├── pythonrational.py
    |   |   ├── pythonrationalfield.py
    |   |   ├── quotientring.py
    |   |   ├── rationalfield.py
    |   |   ├── realfield.py
    |   |   ├── ring.py
    |   |   ├── simpledomain.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_domains.py
    |   |       ├── test_polynomialring.py
    |   |       └── test_quotientring.py
    |   ├── euclidtools.py
    |   ├── factortools.py
    |   ├── fglmtools.py
    |   ├── fields.py
    |   ├── galoistools.py
    |   ├── groebnertools.py
    |   ├── heuristicgcd.py
    |   ├── modulargcd.py
    |   ├── monomials.py
    |   ├── numberfields.py
    |   ├── orderings.py
    |   ├── orthopolys.py
    |   ├── partfrac.py
    |   ├── polyclasses.py
    |   ├── polyconfig.py
    |   ├── polyerrors.py
    |   ├── polyfuncs.py
    |   ├── polymatrix.py
    |   ├── polyoptions.py
    |   ├── polyquinticconst.py
    |   ├── polyroots.py
    |   ├── polytools.py
    |   ├── polyutils.py
    |   ├── rationaltools.py
    |   ├── ring_series.py
    |   ├── rings.py
    |   ├── rootisolation.py
    |   ├── rootoftools.py
    |   ├── solvers.py
    |   ├── specialpolys.py
    |   ├── sqfreetools.py
    |   ├── subresultants_qq_zz.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constructor.py
    |       ├── test_densearith.py
    |       ├── test_densebasic.py
    |       ├── test_densetools.py
    |       ├── test_dispersion.py
    |       ├── test_distributedmodules.py
    |       ├── test_euclidtools.py
    |       ├── test_factortools.py
    |       ├── test_fields.py
    |       ├── test_galoistools.py
    |       ├── test_groebnertools.py
    |       ├── test_heuristicgcd.py
    |       ├── test_injections.py
    |       ├── test_modulargcd.py
    |       ├── test_monomials.py
    |       ├── test_numberfields.py
    |       ├── test_orderings.py
    |       ├── test_orthopolys.py
    |       ├── test_partfrac.py
    |       ├── test_polyclasses.py
    |       ├── test_polyfuncs.py
    |       ├── test_polymatrix.py
    |       ├── test_polyoptions.py
    |       ├── test_polyroots.py
    |       ├── test_polytools.py
    |       ├── test_polyutils.py
    |       ├── test_pythonrational.py
    |       ├── test_rationaltools.py
    |       ├── test_ring_series.py
    |       ├── test_rings.py
    |       ├── test_rootisolation.py
    |       ├── test_rootoftools.py
    |       ├── test_solvers.py
    |       ├── test_specialpolys.py
    |       ├── test_sqfreetools.py
    |       └── test_subresultants_qq_zz.py
    ├── printing
    |   ├── __init__.py
    |   ├── ccode.py
    |   ├── codeprinter.py
    |   ├── conventions.py
    |   ├── cxxcode.py
    |   ├── defaults.py
    |   ├── dot.py
    |   ├── fcode.py
    |   ├── glsl.py
    |   ├── gtk.py
    |   ├── jscode.py
    |   ├── julia.py
    |   ├── lambdarepr.py
    |   ├── latex.py
    |   ├── llvmjitcode.py
    |   ├── mathematica.py
    |   ├── mathml.py
    |   ├── octave.py
    |   ├── precedence.py
    |   ├── pretty
    |   |   ├── __init__.py
    |   |   ├── pretty.py
    |   |   ├── pretty_symbology.py
    |   |   ├── stringpict.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_pretty.py
    |   ├── preview.py
    |   ├── printer.py
    |   ├── pycode.py
    |   ├── python.py
    |   ├── rcode.py
    |   ├── repr.py
    |   ├── rust.py
    |   ├── str.py
    |   ├── tableform.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_ccode.py
    |   |   ├── test_codeprinter.py
    |   |   ├── test_conventions.py
    |   |   ├── test_cxxcode.py
    |   |   ├── test_dot.py
    |   |   ├── test_fcode.py
    |   |   ├── test_glsl.py
    |   |   ├── test_gtk.py
    |   |   ├── test_jscode.py
    |   |   ├── test_julia.py
    |   |   ├── test_lambdarepr.py
    |   |   ├── test_latex.py
    |   |   ├── test_llvmjit.py
    |   |   ├── test_mathematica.py
    |   |   ├── test_mathml.py
    |   |   ├── test_numpy.py
    |   |   ├── test_octave.py
    |   |   ├── test_precedence.py
    |   |   ├── test_preview.py
    |   |   ├── test_pycode.py
    |   |   ├── test_python.py
    |   |   ├── test_rcode.py
    |   |   ├── test_repr.py
    |   |   ├── test_rust.py
    |   |   ├── test_str.py
    |   |   ├── test_tableform.py
    |   |   └── test_theanocode.py
    |   ├── theanocode.py
    |   └── tree.py
    ├── release.py
    ├── sandbox
    |   ├── __init__.py
    |   ├── indexed_integrals.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_indexed_integrals.py
    ├── series
    |   ├── __init__.py
    |   ├── acceleration.py
    |   ├── approximants.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_limit.py
    |   |   └── bench_order.py
    |   ├── formal.py
    |   ├── fourier.py
    |   ├── gruntz.py
    |   ├── kauers.py
    |   ├── limits.py
    |   ├── limitseq.py
    |   ├── order.py
    |   ├── residues.py
    |   ├── sequences.py
    |   ├── series.py
    |   ├── series_class.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_approximants.py
    |       ├── test_demidovich.py
    |       ├── test_formal.py
    |       ├── test_fourier.py
    |       ├── test_gruntz.py
    |       ├── test_kauers.py
    |       ├── test_limits.py
    |       ├── test_limitseq.py
    |       ├── test_lseries.py
    |       ├── test_nseries.py
    |       ├── test_order.py
    |       ├── test_residues.py
    |       ├── test_sequences.py
    |       └── test_series.py
    ├── sets
    |   ├── __init__.py
    |   ├── conditionset.py
    |   ├── contains.py
    |   ├── fancysets.py
    |   ├── sets.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_conditionset.py
    |       ├── test_contains.py
    |       ├── test_fancysets.py
    |       └── test_sets.py
    ├── simplify
    |   ├── __init__.py
    |   ├── combsimp.py
    |   ├── cse_main.py
    |   ├── cse_opts.py
    |   ├── epathtools.py
    |   ├── fu.py
    |   ├── gammasimp.py
    |   ├── hyperexpand.py
    |   ├── hyperexpand_doc.py
    |   ├── powsimp.py
    |   ├── radsimp.py
    |   ├── ratsimp.py
    |   ├── simplify.py
    |   ├── sqrtdenest.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_combsimp.py
    |   |   ├── test_cse.py
    |   |   ├── test_epathtools.py
    |   |   ├── test_fu.py
    |   |   ├── test_function.py
    |   |   ├── test_gammasimp.py
    |   |   ├── test_hyperexpand.py
    |   |   ├── test_powsimp.py
    |   |   ├── test_radsimp.py
    |   |   ├── test_ratsimp.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_simplify.py
    |   |   ├── test_sqrtdenest.py
    |   |   ├── test_traversaltools.py
    |   |   └── test_trigsimp.py
    |   ├── traversaltools.py
    |   └── trigsimp.py
    ├── solvers
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_solvers.py
    |   ├── bivariate.py
    |   ├── decompogen.py
    |   ├── deutils.py
    |   ├── diophantine.py
    |   ├── inequalities.py
    |   ├── ode.py
    |   ├── pde.py
    |   ├── polysys.py
    |   ├── recurr.py
    |   ├── solvers.py
    |   ├── solveset.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constantsimp.py
    |       ├── test_decompogen.py
    |       ├── test_diophantine.py
    |       ├── test_inequalities.py
    |       ├── test_numeric.py
    |       ├── test_ode.py
    |       ├── test_pde.py
    |       ├── test_polysys.py
    |       ├── test_recurr.py
    |       ├── test_solvers.py
    |       └── test_solveset.py
    ├── stats
    |   ├── __init__.py
    |   ├── crv.py
    |   ├── crv_types.py
    |   ├── drv.py
    |   ├── drv_types.py
    |   ├── error_prop.py
    |   ├── frv.py
    |   ├── frv_types.py
    |   ├── rv.py
    |   ├── rv_interface.py
    |   ├── symbolic_probability.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_continuous_rv.py
    |       ├── test_discrete_rv.py
    |       ├── test_error_prop.py
    |       ├── test_finite_rv.py
    |       ├── test_mix.py
    |       ├── test_rv.py
    |       └── test_symbolic_probability.py
    ├── strategies
    |   ├── __init__.py
    |   ├── branch
    |   |   ├── __init__.py
    |   |   ├── core.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_core.py
    |   |   |   ├── test_tools.py
    |   |   |   └── test_traverse.py
    |   |   ├── tools.py
    |   |   └── traverse.py
    |   ├── core.py
    |   ├── rl.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_core.py
    |   |   ├── test_rl.py
    |   |   ├── test_strat.py
    |   |   ├── test_tools.py
    |   |   ├── test_traverse.py
    |   |   └── test_tree.py
    |   ├── tools.py
    |   ├── traverse.py
    |   ├── tree.py
    |   └── util.py
    ├── tensor
    |   ├── __init__.py
    |   ├── array
    |   |   ├── __init__.py
    |   |   ├── arrayop.py
    |   |   ├── dense_ndim_array.py
    |   |   ├── mutable_ndim_array.py
    |   |   ├── ndim_array.py
    |   |   ├── sparse_ndim_array.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_arrayop.py
    |   |       ├── test_immutable_ndim_array.py
    |   |       └── test_mutable_ndim_array.py
    |   ├── index_methods.py
    |   ├── indexed.py
    |   ├── tensor.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_index_methods.py
    |       ├── test_indexed.py
    |       └── test_tensor.py
    ├── this.py
    ├── unify
    |   ├── __init__.py
    |   ├── core.py
    |   ├── rewrite.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_sympy.py
    |   |   └── test_unify.py
    |   └── usympy.py
    ├── utilities
    |   ├── __init__.py
    |   ├── autowrap.py
    |   ├── benchmarking.py
    |   ├── codegen.py
    |   ├── decorator.py
    |   ├── enumerative.py
    |   ├── exceptions.py
    |   ├── iterables.py
    |   ├── lambdify.py
    |   ├── magic.py
    |   ├── mathml
    |   |   ├── __init__.py
    |   |   └── data
    |   ├── memoization.py
    |   ├── misc.py
    |   ├── pkgdata.py
    |   ├── pytest.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── source.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── diagnose_imports.py
    |   |   ├── test_autowrap.py
    |   |   ├── test_code_quality.py
    |   |   ├── test_codegen.py
    |   |   ├── test_codegen_julia.py
    |   |   ├── test_codegen_octave.py
    |   |   ├── test_codegen_rust.py
    |   |   ├── test_decorator.py
    |   |   ├── test_enumerative.py
    |   |   ├── test_iterables.py
    |   |   ├── test_lambdify.py
    |   |   ├── test_misc.py
    |   |   ├── test_module_imports.py
    |   |   ├── test_pickling.py
    |   |   ├── test_pytest.py
    |   |   ├── test_source.py
    |   |   ├── test_timeutils.py
    |   |   └── test_wester.py
    |   └── timeutils.py
    └── vector
        ├── __init__.py
        ├── basisdependent.py
        ├── coordsysrect.py
        ├── deloperator.py
        ├── dyadic.py
        ├── functions.py
        ├── operators.py
        ├── orienters.py
        ├── point.py
        ├── scalar.py
        ├── tests
        |   ├── __init__.py
        |   ├── test_coordsysrect.py
        |   ├── test_dyadic.py
        |   ├── test_field_functions.py
        |   ├── test_functions.py
        |   ├── test_operators.py
        |   ├── test_printing.py
        |   └── test_vector.py
        └── vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: .subs on coth(log(tan(x))) errors for certain integral values

Description:     >>> from sympy import *
    >>> x = Symbol('x')
    >>> e = coth(log(tan(x)))
    >>> print(e.subs(x, 2))
    ...
    File "C:\Users\E\Desktop\sympy-master\sympy\functions\elementary\hyperbolic.py", line 590, in eval
        if cotm is S.ComplexInfinity:
    NameError: name 'cotm' is not defined

Fails for 2, 3, 5, 6, 8, 9, 11, 12, 13, 15, 18, ... etc.

Patch information:
diff --git a/sympy/functions/elementary/hyperbolic.py b/sympy/functions/elementary/hyperbolic.py
index 2a4555d919..5fbb73c786 100644
--- a/sympy/functions/elementary/hyperbolic.py
+++ b/sympy/functions/elementary/hyperbolic.py
@@ -587,7 +587,7 @@ def eval(cls, arg):
                 x, m = _peeloff_ipi(arg)
                 if m:
                     cothm = coth(m)
-                    if cotm is S.ComplexInfinity:
+                    if cothm is S.ComplexInfinity:
                         return coth(x)
                     else: # cothm == 0
                         return tanh(x)


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 17:39:27,018 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 3 relevant test cases for a bug in the `coth` function. The bug occurs in `sympy/functions/elementary/hyperbolic.py`. The most logical place to find relevant tests is in the corresponding test file. Based on the file structure, this is `sympy/functions/elementary/tests/test_hyperbolic.py`. I need the content of this file to analyze the existing tests and select the most relevant ones.' query='Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.' extra_requirements='' purpose='I need the content of the test file to find 3 relevant test cases as requested by the user.'
2025-12-21 17:39:27,019 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.
2025-12-21 17:39:27,019 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 17:39:27,020 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 17:39:27,020 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 17:39:27,020 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.
Purpose: I need the content of the test file to find 3 relevant test cases as requested by the user.
2025-12-21 17:39:28,992 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/functions/elementary/tests/test_hyperbolic.py"}'}, '__gemini_function_call_thought_signatures__': {'0b2b653b-a528-4c7a-ba61-53f85524d58b': 'CtMDAY89a1/PXBn0785gJQUjXjMMGxpKLuiK0PHOUsDUjFWHm7x0yzf2eMrTmZkSYqL2dE3DSVVsmRxAzehCWN7CvLpAmb9dUTXX5b91pzst/P2QJO4LYz5zi+tya+Wc1I281cWafspBRlQolifu/WWcrEFIGl8twQ3oXljSYHNiEWX0191u2QDzGFB8fEhCFXmzqEXrr97UowzreGRYODH2a2YP3NCBih3bIPPagK44smJHY4puxb4/9SZ7/qj45cqbA4zTvznuHlbljPOgMCslXOVZa4AzQ+jGDM0wHUDlX1L4v+RZIvZxhDVNlJWhfM0+F4Fz94T7MMySsygC6HPysJt7xcl019PtJTmFFMbxqiPxRRsLw4+z8wNPblN8uLjxZnn6SLGOKjScxujCaC6H5qZfBcgl2/AnqNTj5x2pUEZqkaoXhR8huvYgMymEyAHSjxbQDez/YM7Y4GwYzGNocIEpM3zSUKkfeYxl1QVd4yMkIqQgEpCTx78p2kqAGyqdjI0pThEXvpIoQqyy+ZwR9Yiw4Y6jM9oIBJbUPa4bPp2hp2ZfxRmyyU3/ZB0h5Nn2JhUZ7BGLk0MnZuRcWi/fsw9iPIEC3ADhuei6WVDZaYHp4lE='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2099, 'candidates_token_count': 28, 'total_token_count': 2240, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2099}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 28}], 'thoughts_token_count': 113, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.26297758306775776, 'model_name': 'gemini-2.5-pro'} id='run--95c83c93-4e28-49a2-b35f-4f2d8a38d0d0-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/functions/elementary/tests/test_hyperbolic.py'}, 'id': '0b2b653b-a528-4c7a-ba61-53f85524d58b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2099, 'output_tokens': 28, 'total_tokens': 2240, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 113}}
2025-12-21 17:39:33,063 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"end_line": 1000.0, "relative_path": "sympy/functions/elementary/tests/test_hyperbolic.py", "start_line": 501.0}'}, '__gemini_function_call_thought_signatures__': {'5331da28-1b27-4bdb-8504-307a845c2d41': 'CpAIAY89a1/uCkBt2BUVIfo0Fco76RRgNBL1kuuzVoHHvk62sltKl3KOFrnbsC4izOkHlozotog3mxABTeZwyBcLPJ/5/I+vS/I3PYbLcaKkpfBV4tpRodJJaulnIMwqPN/rKEePLjTsqP4m11ID2RbX8kWY9ABbvM6nIB5duwJlNSVzSriVlLs/TwXZvtSqgzvEpSbM/+jrX9McmM/9kke4b0+5qE/+noRRe5twRBpdAhOWzJcWuf4gRK8P0tT1KbC62kEEgWu5VkAoPctbQhQmzhAkqqUNNFz9U1MEhwtsFHfKfiMugp8oynxLg1u0Lvu3PtI5cUr7aonEtcRFmnJy2hN/Tlq3MK7zv6YpY1oM5ZakN1bV+LYyHhwf/33PjKHoFKuU73kWKWa3Lo0I9tA88mpD2FKlXL2tDlY8T7YUWTC1fFYT4atPOXcmY4/A5kvf+Iaaf3rbdZ2T0pXtIGcld6dDX8sjqCyxBd+DzJ8G8PxfxJRxbIMHyFAi3qUbRiT4/A3lGful2dEF4qD3iPt90vvSjF0t3jmFHbU/O6OX6ahqt+dTEeyC2sCDUNf7Y50Z9NWPJcyqhEd9WNgQDEXLcHZpu43n8F8JsRYjY91qk6USmqam00DD9ohEMj1um2TfbiKlX3hjOM2XxSmIMNcEeLNDjxCJVPtPjTlTxYmqlTz9DrYs8RExg1aCwfosdvD3J9/deLDA1SG/XI7ORJj6EutFnnjVyab1DVRhY2akzliba+ENCkQMjsWY3R+wxYgCcRFplXzHOYfWe+WRcGyTJJieyk9I14hEE5ry9GUVCgPOtw7eXHD4vVQt8L4PkIb/NdoDQMcEhP8nttvChYHsHtKHEHCejIqGCrve2eVBz9yy8J/yV4hPWsaTmUKC66UBTvumc0O8whqD5RjTyAEluhl0w26ZyPxlwy3XSKh+xXj7DHgblETQC+wYWa/Dn3aY6bTD0KlbEaAvSTPs4JULcFAjYTKKWn1mhT+2ehWkSuF5mvU8NhOGDMKSRVQw2j2l18pCPKdkOfu+ZX/6pouHmfOeky2pS5A++VpthAk25Ts+c0+38d8+Ub5SysqSmOpfSxDTD6T1s7Cq36bFKqC/TQrZL4gMYNg+ZYsvNHJKAUjhR8DYQIbq589pJ0uj4CeNhSkKgMeoUYPnTm18ui247v3PaPpXjb3PCvCViv3rxj8M+Y/f+oL8vp/1KTy6NnamkuQpXKISywXvG9CvC9m/QX6XjmtuMVxFdG+3OkZZjqhHLlumI/FXB4cfBIzGTGOB85fbpNY868BwEqUUPy7u1KLyLNIg0EVyCozVaOYwRE2+IwnczEQ+WvflRNbDCfzXhjV1kJ8rURn8pWouJ+x6K7YOWWElGmUTzLpQnFZwHpQ='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10697, 'candidates_token_count': 34, 'total_token_count': 11036, 'cached_content_token_count': 1883, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10810}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1883}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 34}], 'thoughts_token_count': 305}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6521752862369313, 'model_name': 'gemini-2.5-pro'} id='run--26378332-e4c5-4509-a8e3-8ba4ef1d93cc-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'end_line': 1000.0, 'relative_path': 'sympy/functions/elementary/tests/test_hyperbolic.py', 'start_line': 501.0}, 'id': '5331da28-1b27-4bdb-8504-307a845c2d41', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10697, 'output_tokens': 34, 'total_tokens': 11036, 'input_token_details': {'cache_read': 1883}, 'output_token_details': {'reasoning': 305}}
2025-12-21 17:39:35,917 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of the test file `sympy/functions/elementary/tests/test_hyperbolic.py`. The file was read in two parts to ensure the full content was captured. Now I can proceed to analyze the test cases within the file to identify the three most relevant examples as requested.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19715, 'candidates_token_count': 64, 'total_token_count': 19914, 'cached_content_token_count': 9706, 'prompt_tokens_details': [{'modality': 1, 'token_count': 20133}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9706}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 64}], 'thoughts_token_count': 135}, 'finish_reason': 'STOP', 'avg_logprobs': -0.17391780018806458, 'model_name': 'gemini-2.5-pro'} id='run--fbfcd6ef-597f-455d-85af-bf1c8eaf46f0-0' usage_metadata={'input_tokens': 19715, 'output_tokens': 64, 'total_tokens': 19914, 'input_token_details': {'cache_read': 9706}, 'output_token_details': {'reasoning': 135}}
2025-12-21 17:39:35,919 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need the content of the test file to find 3 relevant test cases as requested by the user.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: sympy/functions/elementary/tests/test_hyperbolic.py
Line number range: 1 - 500
Content:
1. from sympy import symbols, Symbol, sinh, nan, oo, zoo, pi, asinh, acosh, log, sqrt, \
2.     coth, I, cot, E, tanh, tan, cosh, cos, S, sin, Rational, atanh, acoth, \
3.     Integer, O, exp, sech, sec, csch, asech, acsch, acos, asin, expand_mul
4. 
5. from sympy.utilities.pytest import raises
6. 
7. 
8. def test_sinh():
9.     x, y = symbols('x,y')
10. 
11.     k = Symbol('k', integer=True)
12. 
13.     assert sinh(nan) == nan
14.     assert sinh(zoo) == nan
15. 
16.     assert sinh(oo) == oo
17.     assert sinh(-oo) == -oo
18. 
19.     assert sinh(0) == 0
20. 
21.     assert sinh(1) == sinh(1)
22.     assert sinh(-1) == -sinh(1)
23. 
24.     assert sinh(x) == sinh(x)
25.     assert sinh(-x) == -sinh(x)
26. 
27.     assert sinh(pi) == sinh(pi)
28.     assert sinh(-pi) == -sinh(pi)
29. 
30.     assert sinh(2**1024 * E) == sinh(2**1024 * E)
31.     assert sinh(-2**1024 * E) == -sinh(2**1024 * E)
32. 
33.     assert sinh(pi*I) == 0
34.     assert sinh(-pi*I) == 0
35.     assert sinh(2*pi*I) == 0
36.     assert sinh(-2*pi*I) == 0
37.     assert sinh(-3*10**73*pi*I) == 0
38.     assert sinh(7*10**103*pi*I) == 0
39. 
40.     assert sinh(pi*I/2) == I
41.     assert sinh(-pi*I/2) == -I
42.     assert sinh(5*pi*I/2) == I
43.     assert sinh(7*pi*I/2) == -I
44. 
45.     assert sinh(pi*I/3) == S.Half*sqrt(3)*I
46.     assert sinh(-2*pi*I/3) == -S.Half*sqrt(3)*I
47. 
48.     assert sinh(pi*I/4) == S.Half*sqrt(2)*I
49.     assert sinh(-pi*I/4) == -S.Half*sqrt(2)*I
50.     assert sinh(17*pi*I/4) == S.Half*sqrt(2)*I
51.     assert sinh(-3*pi*I/4) == -S.Half*sqrt(2)*I
52. 
53.     assert sinh(pi*I/6) == S.Half*I
54.     assert sinh(-pi*I/6) == -S.Half*I
55.     assert sinh(7*pi*I/6) == -S.Half*I
56.     assert sinh(-5*pi*I/6) == -S.Half*I
57. 
58.     assert sinh(pi*I/105) == sin(pi/105)*I
59.     assert sinh(-pi*I/105) == -sin(pi/105)*I
60. 
61.     assert sinh(2 + 3*I) == sinh(2 + 3*I)
62. 
63.     assert sinh(x*I) == sin(x)*I
64. 
65.     assert sinh(k*pi*I) == 0
66.     assert sinh(17*k*pi*I) == 0
67. 
68.     assert sinh(k*pi*I/2) == sin(k*pi/2)*I
69. 
70. 
71. def test_sinh_series():
72.     x = Symbol('x')
73.     assert sinh(x).series(x, 0, 10) == \
74.         x + x**3/6 + x**5/120 + x**7/5040 + x**9/362880 + O(x**10)
75. 
76. 
77. def test_cosh():
78.     x, y = symbols('x,y')
79. 
80.     k = Symbol('k', integer=True)
81. 
82.     assert cosh(nan) == nan
83.     assert cosh(zoo) == nan
84. 
85.     assert cosh(oo) == oo
86.     assert cosh(-oo) == oo
87. 
88.     assert cosh(0) == 1
89. 
90.     assert cosh(1) == cosh(1)
91.     assert cosh(-1) == cosh(1)
92. 
93.     assert cosh(x) == cosh(x)
94.     assert cosh(-x) == cosh(x)
95. 
96.     assert cosh(pi*I) == cos(pi)
97.     assert cosh(-pi*I) == cos(pi)
98. 
99.     assert cosh(2**1024 * E) == cosh(2**1024 * E)
100.     assert cosh(-2**1024 * E) == cosh(2**1024 * E)
101. 
102.     assert cosh(pi*I/2) == 0
103.     assert cosh(-pi*I/2) == 0
104.     assert cosh((-3*10**73 + 1)*pi*I/2) == 0
105.     assert cosh((7*10**103 + 1)*pi*I/2) == 0
106. 
107.     assert cosh(pi*I) == -1
108.     assert cosh(-pi*I) == -1
109.     assert cosh(5*pi*I) == -1
110.     assert cosh(8*pi*I) == 1
111. 
112.     assert cosh(pi*I/3) == S.Half
113.     assert cosh(-2*pi*I/3) == -S.Half
114. 
115.     assert cosh(pi*I/4) == S.Half*sqrt(2)
116.     assert cosh(-pi*I/4) == S.Half*sqrt(2)
117.     assert cosh(11*pi*I/4) == -S.Half*sqrt(2)
118.     assert cosh(-3*pi*I/4) == -S.Half*sqrt(2)
119. 
120.     assert cosh(pi*I/6) == S.Half*sqrt(3)
121.     assert cosh(-pi*I/6) == S.Half*sqrt(3)
122.     assert cosh(7*pi*I/6) == -S.Half*sqrt(3)
123.     assert cosh(-5*pi*I/6) == -S.Half*sqrt(3)
124. 
125.     assert cosh(pi*I/105) == cos(pi/105)
126.     assert cosh(-pi*I/105) == cos(pi/105)
127. 
128.     assert cosh(2 + 3*I) == cosh(2 + 3*I)
129. 
130.     assert cosh(x*I) == cos(x)
131. 
132.     assert cosh(k*pi*I) == cos(k*pi)
133.     assert cosh(17*k*pi*I) == cos(17*k*pi)
134. 
135.     assert cosh(k*pi) == cosh(k*pi)
136. 
137. 
138. def test_cosh_series():
139.     x = Symbol('x')
140.     assert cosh(x).series(x, 0, 10) == \
141.         1 + x**2/2 + x**4/24 + x**6/720 + x**8/40320 + O(x**10)
142. 
143. 
144. def test_tanh():
145.     x, y = symbols('x,y')
146. 
147.     k = Symbol('k', integer=True)
148. 
149.     assert tanh(nan) == nan
150.     assert tanh(zoo) == nan
151. 
152.     assert tanh(oo) == 1
153.     assert tanh(-oo) == -1
154. 
155.     assert tanh(0) == 0
156. 
157.     assert tanh(1) == tanh(1)
158.     assert tanh(-1) == -tanh(1)
159. 
160.     assert tanh(x) == tanh(x)
161.     assert tanh(-x) == -tanh(x)
162. 
163.     assert tanh(pi) == tanh(pi)
164.     assert tanh(-pi) == -tanh(pi)
165. 
166.     assert tanh(2**1024 * E) == tanh(2**1024 * E)
167.     assert tanh(-2**1024 * E) == -tanh(2**1024 * E)
168. 
169.     assert tanh(pi*I) == 0
170.     assert tanh(-pi*I) == 0
171.     assert tanh(2*pi*I) == 0
172.     assert tanh(-2*pi*I) == 0
173.     assert tanh(-3*10**73*pi*I) == 0
174.     assert tanh(7*10**103*pi*I) == 0
175. 
176.     assert tanh(pi*I/2) == tanh(pi*I/2)
177.     assert tanh(-pi*I/2) == -tanh(pi*I/2)
178.     assert tanh(5*pi*I/2) == tanh(5*pi*I/2)
179.     assert tanh(7*pi*I/2) == tanh(7*pi*I/2)
180. 
181.     assert tanh(pi*I/3) == sqrt(3)*I
182.     assert tanh(-2*pi*I/3) == sqrt(3)*I
183. 
184.     assert tanh(pi*I/4) == I
185.     assert tanh(-pi*I/4) == -I
186.     assert tanh(17*pi*I/4) == I
187.     assert tanh(-3*pi*I/4) == I
188. 
189.     assert tanh(pi*I/6) == I/sqrt(3)
190.     assert tanh(-pi*I/6) == -I/sqrt(3)
191.     assert tanh(7*pi*I/6) == I/sqrt(3)
192.     assert tanh(-5*pi*I/6) == I/sqrt(3)
193. 
194.     assert tanh(pi*I/105) == tan(pi/105)*I
195.     assert tanh(-pi*I/105) == -tan(pi/105)*I
196. 
197.     assert tanh(2 + 3*I) == tanh(2 + 3*I)
198. 
199.     assert tanh(x*I) == tan(x)*I
200. 
201.     assert tanh(k*pi*I) == 0
202.     assert tanh(17*k*pi*I) == 0
203. 
204.     assert tanh(k*pi*I/2) == tan(k*pi/2)*I
205. 
206. 
207. def test_tanh_series():
208.     x = Symbol('x')
209.     assert tanh(x).series(x, 0, 10) == \
210.         x - x**3/3 + 2*x**5/15 - 17*x**7/315 + 62*x**9/2835 + O(x**10)
211. 
212. 
213. def test_coth():
214.     x, y = symbols('x,y')
215. 
216.     k = Symbol('k', integer=True)
217. 
218.     assert coth(nan) == nan
219.     assert coth(zoo) == nan
220. 
221.     assert coth(oo) == 1
222.     assert coth(-oo) == -1
223. 
224.     assert coth(0) == coth(0)
225.     assert coth(0) == zoo
226.     assert coth(1) == coth(1)
227.     assert coth(-1) == -coth(1)
228. 
229.     assert coth(x) == coth(x)
230.     assert coth(-x) == -coth(x)
231. 
232.     assert coth(pi*I) == -I*cot(pi)
233.     assert coth(-pi*I) == cot(pi)*I
234. 
235.     assert coth(2**1024 * E) == coth(2**1024 * E)
236.     assert coth(-2**1024 * E) == -coth(2**1024 * E)
237. 
238.     assert coth(pi*I) == -I*cot(pi)
239.     assert coth(-pi*I) == I*cot(pi)
240.     assert coth(2*pi*I) == -I*cot(2*pi)
241.     assert coth(-2*pi*I) == I*cot(2*pi)
242.     assert coth(-3*10**73*pi*I) == I*cot(3*10**73*pi)
243.     assert coth(7*10**103*pi*I) == -I*cot(7*10**103*pi)
244. 
245.     assert coth(pi*I/2) == 0
246.     assert coth(-pi*I/2) == 0
247.     assert coth(5*pi*I/2) == 0
248.     assert coth(7*pi*I/2) == 0
249. 
250.     assert coth(pi*I/3) == -I/sqrt(3)
251.     assert coth(-2*pi*I/3) == -I/sqrt(3)
252. 
253.     assert coth(pi*I/4) == -I
254.     assert coth(-pi*I/4) == I
255.     assert coth(17*pi*I/4) == -I
256.     assert coth(-3*pi*I/4) == -I
257. 
258.     assert coth(pi*I/6) == -sqrt(3)*I
259.     assert coth(-pi*I/6) == sqrt(3)*I
260.     assert coth(7*pi*I/6) == -sqrt(3)*I
261.     assert coth(-5*pi*I/6) == -sqrt(3)*I
262. 
263.     assert coth(pi*I/105) == -cot(pi/105)*I
264.     assert coth(-pi*I/105) == cot(pi/105)*I
265. 
266.     assert coth(2 + 3*I) == coth(2 + 3*I)
267. 
268.     assert coth(x*I) == -cot(x)*I
269. 
270.     assert coth(k*pi*I) == -cot(k*pi)*I
271.     assert coth(17*k*pi*I) == -cot(17*k*pi)*I
272. 
273.     assert coth(k*pi*I) == -cot(k*pi)*I
274. 
275. 
276. def test_coth_series():
277.     x = Symbol('x')
278.     assert coth(x).series(x, 0, 8) == \
279.         1/x + x/3 - x**3/45 + 2*x**5/945 - x**7/4725 + O(x**8)
280. 
281. 
282. def test_csch():
283.     x, y = symbols('x,y')
284. 
285.     k = Symbol('k', integer=True)
286.     n = Symbol('n', positive=True)
287. 
288.     assert csch(nan) == nan
289.     assert csch(zoo) == nan
290. 
291.     assert csch(oo) == 0
292.     assert csch(-oo) == 0
293. 
294.     assert csch(0) == zoo
295. 
296.     assert csch(-1) == -csch(1)
297. 
298.     assert csch(-x) == -csch(x)
299.     assert csch(-pi) == -csch(pi)
300.     assert csch(-2**1024 * E) == -csch(2**1024 * E)
301. 
302.     assert csch(pi*I) == zoo
303.     assert csch(-pi*I) == zoo
304.     assert csch(2*pi*I) == zoo
305.     assert csch(-2*pi*I) == zoo
306.     assert csch(-3*10**73*pi*I) == zoo
307.     assert csch(7*10**103*pi*I) == zoo
308. 
309.     assert csch(pi*I/2) == -I
310.     assert csch(-pi*I/2) == I
311.     assert csch(5*pi*I/2) == -I
312.     assert csch(7*pi*I/2) == I
313. 
314.     assert csch(pi*I/3) == -2/sqrt(3)*I
315.     assert csch(-2*pi*I/3) == 2/sqrt(3)*I
316. 
317.     assert csch(pi*I/4) == -sqrt(2)*I
318.     assert csch(-pi*I/4) == sqrt(2)*I
319.     assert csch(7*pi*I/4) == sqrt(2)*I
320.     assert csch(-3*pi*I/4) == sqrt(2)*I
321. 
322.     assert csch(pi*I/6) == -2*I
323.     assert csch(-pi*I/6) == 2*I
324.     assert csch(7*pi*I/6) == 2*I
325.     assert csch(-7*pi*I/6) == -2*I
326.     assert csch(-5*pi*I/6) == 2*I
327. 
328.     assert csch(pi*I/105) == -1/sin(pi/105)*I
329.     assert csch(-pi*I/105) == 1/sin(pi/105)*I
330. 
331.     assert csch(x*I) == -1/sin(x)*I
332. 
333.     assert csch(k*pi*I) == zoo
334.     assert csch(17*k*pi*I) == zoo
335. 
336.     assert csch(k*pi*I/2) == -1/sin(k*pi/2)*I
337. 
338.     assert csch(n).is_real is True
339. 
340. 
341. def test_csch_series():
342.     x = Symbol('x')
343.     assert csch(x).series(x, 0, 10) == \
344.        1/ x - x/6 + 7*x**3/360 - 31*x**5/15120 + 127*x**7/604800 \
345.           - 73*x**9/3421440 + O(x**10)
346. 
347. 
348. def test_sech():
349.     x, y = symbols('x, y')
350. 
351.     k = Symbol('k', integer=True)
352.     n = Symbol('n', positive=True)
353. 
354.     assert sech(nan) == nan
355.     assert sech(zoo) == nan
356. 
357.     assert sech(oo) == 0
358.     assert sech(-oo) == 0
359. 
360.     assert sech(0) == 1
361. 
362.     assert sech(-1) == sech(1)
363.     assert sech(-x) == sech(x)
364. 
365.     assert sech(pi*I) == sec(pi)
366. 
367.     assert sech(-pi*I) == sec(pi)
368.     assert sech(-2**1024 * E) == sech(2**1024 * E)
369. 
370.     assert sech(pi*I/2) == zoo
371.     assert sech(-pi*I/2) == zoo
372.     assert sech((-3*10**73 + 1)*pi*I/2) == zoo
373.     assert sech((7*10**103 + 1)*pi*I/2) == zoo
374. 
375.     assert sech(pi*I) == -1
376.     assert sech(-pi*I) == -1
377.     assert sech(5*pi*I) == -1
378.     assert sech(8*pi*I) == 1
379. 
380.     assert sech(pi*I/3) == 2
381.     assert sech(-2*pi*I/3) == -2
382. 
383.     assert sech(pi*I/4) == sqrt(2)
384.     assert sech(-pi*I/4) == sqrt(2)
385.     assert sech(5*pi*I/4) == -sqrt(2)
386.     assert sech(-5*pi*I/4) == -sqrt(2)
387. 
388.     assert sech(pi*I/6) == 2/sqrt(3)
389.     assert sech(-pi*I/6) == 2/sqrt(3)
390.     assert sech(7*pi*I/6) == -2/sqrt(3)
391.     assert sech(-5*pi*I/6) == -2/sqrt(3)
392. 
393.     assert sech(pi*I/105) == 1/cos(pi/105)
394.     assert sech(-pi*I/105) == 1/cos(pi/105)
395. 
396.     assert sech(x*I) == 1/cos(x)
397. 
398.     assert sech(k*pi*I) == 1/cos(k*pi)
399.     assert sech(17*k*pi*I) == 1/cos(17*k*pi)
400. 
401.     assert sech(n).is_real is True
402. 
403. 
404. def test_sech_series():
405.     x = Symbol('x')
406.     assert sech(x).series(x, 0, 10) == \
407.         1 - x**2/2 + 5*x**4/24 - 61*x**6/720 + 277*x**8/8064 + O(x**10)
408. 
409. 
410. def test_asinh():
411.     x, y = symbols('x,y')
412.     assert asinh(x) == asinh(x)
413.     assert asinh(-x) == -asinh(x)
414. 
415.     #at specific points
416.     assert asinh(nan) == nan
417.     assert asinh( 0) == 0
418.     assert asinh(+1) == log(sqrt(2) + 1)
419. 
420.     assert asinh(-1) == log(sqrt(2) - 1)
421.     assert asinh(I) == pi*I/2
422.     assert asinh(-I) == -pi*I/2
423.     assert asinh(I/2) == pi*I/6
424.     assert asinh(-I/2) == -pi*I/6
425. 
426.     # at infinites
427.     assert asinh(oo) == oo
428.     assert asinh(-oo) == -oo
429. 
430.     assert asinh(I*oo) == oo
431.     assert asinh(-I *oo) == -oo
432. 
433.     assert asinh(zoo) == zoo
434. 
435.     #properties
436.     assert asinh(I *(sqrt(3) - 1)/(2**(S(3)/2))) == pi*I/12
437.     assert asinh(-I *(sqrt(3) - 1)/(2**(S(3)/2))) == -pi*I/12
438. 
439.     assert asinh(I*(sqrt(5) - 1)/4) == pi*I/10
440.     assert asinh(-I*(sqrt(5) - 1)/4) == -pi*I/10
441. 
442.     assert asinh(I*(sqrt(5) + 1)/4) == 3*pi*I/10
443.     assert asinh(-I*(sqrt(5) + 1)/4) == -3*pi*I/10
444. 
445. 
446. def test_asinh_rewrite():
447.     x = Symbol('x')
448.     assert asinh(x).rewrite(log) == log(x + sqrt(x**2 + 1))
449. 
450. 
451. def test_asinh_series():
452.     x = Symbol('x')
453.     assert asinh(x).series(x, 0, 8) == \
454.         x - x**3/6 + 3*x**5/40 - 5*x**7/112 + O(x**8)
455.     t5 = asinh(x).taylor_term(5, x)
456.     assert t5 == 3*x**5/40
457.     assert asinh(x).taylor_term(7, x, t5, 0) == -5*x**7/112
458. 
459. 
460. def test_acosh():
461.     x = Symbol('x')
462. 
463.     assert acosh(-x) == acosh(-x)
464. 
465.     #at specific points
466.     assert acosh(1) == 0
467.     assert acosh(-1) == pi*I
468.     assert acosh(0) == I*pi/2
469.     assert acosh(Rational(1, 2)) == I*pi/3
470.     assert acosh(Rational(-1, 2)) == 2*pi*I/3
471. 
472.     # at infinites
473.     assert acosh(oo) == oo
474.     assert acosh(-oo) == oo
475. 
476.     assert acosh(I*oo) == oo
477.     assert acosh(-I*oo) == oo
478. 
479.     assert acosh(zoo) == oo
480. 
481.     assert acosh(I) == log(I*(1 + sqrt(2)))
482.     assert acosh(-I) == log(-I*(1 + sqrt(2)))
483.     assert acosh((sqrt(3) - 1)/(2*sqrt(2))) == 5*pi*I/12
484.     assert acosh(-(sqrt(3) - 1)/(2*sqrt(2))) == 7*pi*I/12
485.     assert acosh(sqrt(2)/2) == I*pi/4
486.     assert acosh(-sqrt(2)/2) == 3*I*pi/4
487.     assert acosh(sqrt(3)/2) == I*pi/6
488.     assert acosh(-sqrt(3)/2) == 5*I*pi/6
489.     assert acosh(sqrt(2 + sqrt(2))/2) == I*pi/8
490.     assert acosh(-sqrt(2 + sqrt(2))/2) == 7*I*pi/8
491.     assert acosh(sqrt(2 - sqrt(2))/2) == 3*I*pi/8
492.     assert acosh(-sqrt(2 - sqrt(2))/2) == 5*I*pi/8
493.     assert acosh((1 + sqrt(3))/(2*sqrt(2))) == I*pi/12
494.     assert acosh(-(1 + sqrt(3))/(2*sqrt(2))) == 11*I*pi/12
495.     assert acosh((sqrt(5) + 1)/4) == I*pi/5
496.     assert acosh(-(sqrt(5) + 1)/4) == 4*I*pi/5
497. 
498.     assert str(acosh(5*I).n(6)) == '2.31244 + 1.5708*I'
499.     assert str(acosh(-5*I).n(6)) == '2.31244 - 1.5708*I'
500.


File: sympy/functions/elementary/tests/test_hyperbolic.py
Line number range: 501 - 1000
Content:
501. 
502. def test_acosh_rewrite():
503.     x = Symbol('x')
504.     assert acosh(x).rewrite(log) == log(x + sqrt(x - 1)*sqrt(x + 1))
505. 
506. 
507. def test_acosh_series():
508.     x = Symbol('x')
509.     assert acosh(x).series(x, 0, 8) == \
510.         -I*x + pi*I/2 - I*x**3/6 - 3*I*x**5/40 - 5*I*x**7/112 + O(x**8)
511.     t5 = acosh(x).taylor_term(5, x)
512.     assert t5 == - 3*I*x**5/40
513.     assert acosh(x).taylor_term(7, x, t5, 0) == - 5*I*x**7/112
514. 
515. 
516. def test_asech():
517.     x = Symbol('x')
518. 
519.     assert asech(-x) == asech(-x)
520. 
521.     # values at fixed points
522.     assert asech(1) == 0
523.     assert asech(-1) == pi*I
524.     assert asech(0) == oo
525.     assert asech(2) == I*pi/3
526.     assert asech(-2) == 2*I*pi / 3
527. 
528.     # at infinites
529.     assert asech(oo) == I*pi/2
530.     assert asech(-oo) == I*pi/2
531.     assert asech(zoo) == nan
532. 
533.     assert asech(I) == log(1 + sqrt(2)) - I*pi/2
534.     assert asech(-I) == log(1 + sqrt(2)) + I*pi/2
535.     assert asech(sqrt(2) - sqrt(6)) == 11*I*pi / 12
536.     assert asech(sqrt(2 - 2/sqrt(5))) == I*pi / 10
537.     assert asech(-sqrt(2 - 2/sqrt(5))) == 9*I*pi / 10
538.     assert asech(2 / sqrt(2 + sqrt(2))) == I*pi / 8
539.     assert asech(-2 / sqrt(2 + sqrt(2))) == 7*I*pi / 8
540.     assert asech(sqrt(5) - 1) == I*pi / 5
541.     assert asech(1 - sqrt(5)) == 4*I*pi / 5
542.     assert asech(-sqrt(2*(2 + sqrt(2)))) == 5*I*pi / 8
543. 
544.     # properties
545.     # asech(x) == acosh(1/x)
546.     assert asech(sqrt(2)) == acosh(1/sqrt(2))
547.     assert asech(2/sqrt(3)) == acosh(sqrt(3)/2)
548.     assert asech(2/sqrt(2 + sqrt(2))) == acosh(sqrt(2 + sqrt(2))/2)
549.     assert asech(S(2)) == acosh(1/S(2))
550. 
551.     # asech(x) == I*acos(1/x)
552.     # (Note: the exact formula is asech(x) == +/- I*acos(1/x))
553.     assert asech(-sqrt(2)) == I*acos(-1/sqrt(2))
554.     assert asech(-2/sqrt(3)) == I*acos(-sqrt(3)/2)
555.     assert asech(-S(2)) == I*acos(-S.Half)
556.     assert asech(-2/sqrt(2)) == I*acos(-sqrt(2)/2)
557. 
558.     # sech(asech(x)) / x == 1
559.     assert expand_mul(sech(asech(sqrt(6) - sqrt(2))) / (sqrt(6) - sqrt(2))) == 1
560.     assert expand_mul(sech(asech(sqrt(6) + sqrt(2))) / (sqrt(6) + sqrt(2))) == 1
561.     assert (sech(asech(sqrt(2 + 2/sqrt(5)))) / (sqrt(2 + 2/sqrt(5)))).simplify() == 1
562.     assert (sech(asech(-sqrt(2 + 2/sqrt(5)))) / (-sqrt(2 + 2/sqrt(5)))).simplify() == 1
563.     assert (sech(asech(sqrt(2*(2 + sqrt(2))))) / (sqrt(2*(2 + sqrt(2))))).simplify() == 1
564.     assert expand_mul(sech(asech((1 + sqrt(5)))) / ((1 + sqrt(5)))) == 1
565.     assert expand_mul(sech(asech((-1 - sqrt(5)))) / ((-1 - sqrt(5)))) == 1
566.     assert expand_mul(sech(asech((-sqrt(6) - sqrt(2)))) / ((-sqrt(6) - sqrt(2)))) == 1
567. 
568.     # numerical evaluation
569.     assert str(asech(5*I).n(6)) == '0.19869 - 1.5708*I'
570.     assert str(asech(-5*I).n(6)) == '0.19869 + 1.5708*I'
571. 
572. 
573. def test_asech_series():
574.     x = Symbol('x')
575.     t6 = asech(x).expansion_term(6, x)
576.     assert t6 == -5*x**6/96
577.     assert asech(x).expansion_term(8, x, t6, 0) == -35*x**8/1024
578. 
579. 
580. def test_asech_rewrite():
581.     x = Symbol('x')
582.     assert asech(x).rewrite(log) == log(1/x + sqrt(1/x - 1) * sqrt(1/x + 1))
583. 
584. 
585. def test_acsch():
586.     x = Symbol('x')
587. 
588.     assert acsch(-x) == acsch(-x)
589.     assert acsch(x) == -acsch(-x)
590. 
591.     # values at fixed points
592.     assert acsch(1) == log(1 + sqrt(2))
593.     assert acsch(-1) == - log(1 + sqrt(2))
594.     assert acsch(0) == zoo
595.     assert acsch(2) == log((1+sqrt(5))/2)
596.     assert acsch(-2) == - log((1+sqrt(5))/2)
597. 
598.     assert acsch(I) == - I*pi/2
599.     assert acsch(-I) == I*pi/2
600.     assert acsch(-I*(sqrt(6) + sqrt(2))) == I*pi / 12
601.     assert acsch(I*(sqrt(2) + sqrt(6))) == -I*pi / 12
602.     assert acsch(-I*(1 + sqrt(5))) == I*pi / 10
603.     assert acsch(I*(1 + sqrt(5))) == -I*pi / 10
604.     assert acsch(-I*2 / sqrt(2 - sqrt(2))) == I*pi / 8
605.     assert acsch(I*2 / sqrt(2 - sqrt(2))) == -I*pi / 8
606.     assert acsch(-I*2) == I*pi / 6
607.     assert acsch(I*2) == -I*pi / 6
608.     assert acsch(-I*sqrt(2 + 2/sqrt(5))) == I*pi / 5
609.     assert acsch(I*sqrt(2 + 2/sqrt(5))) == -I*pi / 5
610.     assert acsch(-I*sqrt(2)) == I*pi / 4
611.     assert acsch(I*sqrt(2)) == -I*pi / 4
612.     assert acsch(-I*(sqrt(5)-1)) == 3*I*pi / 10
613.     assert acsch(I*(sqrt(5)-1)) == -3*I*pi / 10
614.     assert acsch(-I*2 / sqrt(3)) == I*pi / 3
615.     assert acsch(I*2 / sqrt(3)) == -I*pi / 3
616.     assert acsch(-I*2 / sqrt(2 + sqrt(2))) == 3*I*pi / 8
617.     assert acsch(I*2 / sqrt(2 + sqrt(2))) == -3*I*pi / 8
618.     assert acsch(-I*sqrt(2 - 2/sqrt(5))) == 2*I*pi / 5
619.     assert acsch(I*sqrt(2 - 2/sqrt(5))) == -2*I*pi / 5
620.     assert acsch(-I*(sqrt(6) - sqrt(2))) == 5*I*pi / 12
621.     assert acsch(I*(sqrt(6) - sqrt(2))) == -5*I*pi / 12
622. 
623.     # properties
624.     # acsch(x) == asinh(1/x)
625.     assert acsch(-I*sqrt(2)) == asinh(I/sqrt(2))
626.     assert acsch(-I*2 / sqrt(3)) == asinh(I*sqrt(3) / 2)
627. 
628.     # acsch(x) == -I*asin(I/x)
629.     assert acsch(-I*sqrt(2)) == -I*asin(-1/sqrt(2))
630.     assert acsch(-I*2 / sqrt(3)) == -I*asin(-sqrt(3)/2)
631. 
632.     # csch(acsch(x)) / x == 1
633.     assert expand_mul(csch(acsch(-I*(sqrt(6) + sqrt(2)))) / (-I*(sqrt(6) + sqrt(2)))) == 1
634.     assert expand_mul(csch(acsch(I*(1 + sqrt(5)))) / ((I*(1 + sqrt(5))))) == 1
635.     assert (csch(acsch(I*sqrt(2 - 2/sqrt(5)))) / (I*sqrt(2 - 2/sqrt(5)))).simplify() == 1
636.     assert (csch(acsch(-I*sqrt(2 - 2/sqrt(5)))) / (-I*sqrt(2 - 2/sqrt(5)))).simplify() == 1
637. 
638.     # numerical evaluation
639.     assert str(acsch(5*I+1).n(6)) == '0.0391819 - 0.193363*I'
640.     assert str(acsch(-5*I+1).n(6)) == '0.0391819 + 0.193363*I'
641. 
642. 
643. def test_acsch_infinities():
644.     assert acsch(oo) == 0
645.     assert acsch(-oo) == 0
646.     assert acsch(zoo) == 0
647. 
648. 
649. def test_acsch_rewrite():
650.     x = Symbol('x')
651.     assert acsch(x).rewrite(log) == log(1/x + sqrt(1/x**2 + 1))
652. 
653. 
654. def test_atanh():
655.     x = Symbol('x')
656. 
657.     #at specific points
658.     assert atanh(0) == 0
659.     assert atanh(I) == I*pi/4
660.     assert atanh(-I) == -I*pi/4
661.     assert atanh(1) == oo
662.     assert atanh(-1) == -oo
663. 
664.     # at infinites
665.     assert atanh(oo) == -I*pi/2
666.     assert atanh(-oo) == I*pi/2
667. 
668.     assert atanh(I*oo) == I*pi/2
669.     assert atanh(-I*oo) == -I*pi/2
670. 
671.     assert atanh(zoo) == nan
672. 
673.     #properties
674.     assert atanh(-x) == -atanh(x)
675. 
676.     assert atanh(I/sqrt(3)) == I*pi/6
677.     assert atanh(-I/sqrt(3)) == -I*pi/6
678.     assert atanh(I*sqrt(3)) == I*pi/3
679.     assert atanh(-I*sqrt(3)) == -I*pi/3
680.     assert atanh(I*(1 + sqrt(2))) == 3*pi*I/8
681.     assert atanh(I*(sqrt(2) - 1)) == pi*I/8
682.     assert atanh(I*(1 - sqrt(2))) == -pi*I/8
683.     assert atanh(-I*(1 + sqrt(2))) == -3*pi*I/8
684.     assert atanh(I*sqrt(5 + 2*sqrt(5))) == 2*I*pi/5
685.     assert atanh(-I*sqrt(5 + 2*sqrt(5))) == -2*I*pi/5
686.     assert atanh(I*(2 - sqrt(3))) == pi*I/12
687.     assert atanh(I*(sqrt(3) - 2)) == -pi*I/12
688.     assert atanh(oo) == -I*pi/2
689. 
690. 
691. def test_atanh_rewrite():
692.     x = Symbol('x')
693.     assert atanh(x).rewrite(log) == (log(1 + x) - log(1 - x)) / 2
694. 
695. 
696. def test_atanh_series():
697.     x = Symbol('x')
698.     assert atanh(x).series(x, 0, 10) == \
699.         x + x**3/3 + x**5/5 + x**7/7 + x**9/9 + O(x**10)
700. 
701. 
702. def test_acoth():
703.     x = Symbol('x')
704. 
705.     #at specific points
706.     assert acoth(0) == I*pi/2
707.     assert acoth(I) == -I*pi/4
708.     assert acoth(-I) == I*pi/4
709.     assert acoth(1) == oo
710.     assert acoth(-1) == -oo
711. 
712.     # at infinites
713.     assert acoth(oo) == 0
714.     assert acoth(-oo) == 0
715.     assert acoth(I*oo) == 0
716.     assert acoth(-I*oo) == 0
717.     assert acoth(zoo) == 0
718. 
719.     #properties
720.     assert acoth(-x) == -acoth(x)
721. 
722.     assert acoth(I/sqrt(3)) == -I*pi/3
723.     assert acoth(-I/sqrt(3)) == I*pi/3
724.     assert acoth(I*sqrt(3)) == -I*pi/6
725.     assert acoth(-I*sqrt(3)) == I*pi/6
726.     assert acoth(I*(1 + sqrt(2))) == -pi*I/8
727.     assert acoth(-I*(sqrt(2) + 1)) == pi*I/8
728.     assert acoth(I*(1 - sqrt(2))) == 3*pi*I/8
729.     assert acoth(I*(sqrt(2) - 1)) == -3*pi*I/8
730.     assert acoth(I*sqrt(5 + 2*sqrt(5))) == -I*pi/10
731.     assert acoth(-I*sqrt(5 + 2*sqrt(5))) == I*pi/10
732.     assert acoth(I*(2 + sqrt(3))) == -pi*I/12
733.     assert acoth(-I*(2 + sqrt(3))) == pi*I/12
734.     assert acoth(I*(2 - sqrt(3))) == -5*pi*I/12
735.     assert acoth(I*(sqrt(3) - 2)) == 5*pi*I/12
736. 
737. 
738. def test_acoth_rewrite():
739.     x = Symbol('x')
740.     assert acoth(x).rewrite(log) == (log(1 + 1/x) - log(1 - 1/x)) / 2
741. 
742. 
743. def test_acoth_series():
744.     x = Symbol('x')
745.     assert acoth(x).series(x, 0, 10) == \
746.         I*pi/2 + x + x**3/3 + x**5/5 + x**7/7 + x**9/9 + O(x**10)
747. 
748. 
749. def test_inverses():
750.     x = Symbol('x')
751.     assert sinh(x).inverse() == asinh
752.     raises(AttributeError, lambda: cosh(x).inverse())
753.     assert tanh(x).inverse() == atanh
754.     assert coth(x).inverse() == acoth
755.     assert asinh(x).inverse() == sinh
756.     assert acosh(x).inverse() == cosh
757.     assert atanh(x).inverse() == tanh
758.     assert acoth(x).inverse() == coth
759.     assert asech(x).inverse() == sech
760.     assert acsch(x).inverse() == csch
761. 
762. 
763. def test_leading_term():
764.     x = Symbol('x')
765.     assert cosh(x).as_leading_term(x) == 1
766.     assert coth(x).as_leading_term(x) == 1/x
767.     assert acosh(x).as_leading_term(x) == I*pi/2
768.     assert acoth(x).as_leading_term(x) == I*pi/2
769.     for func in [sinh, tanh, asinh, atanh]:
770.         assert func(x).as_leading_term(x) == x
771.     for func in [sinh, cosh, tanh, coth, asinh, acosh, atanh, acoth]:
772.         for arg in (1/x, S.Half):
773.             eq = func(arg)
774.             assert eq.as_leading_term(x) == eq
775.     for func in [csch, sech]:
776.         eq = func(S.Half)
777.         assert eq.as_leading_term(x) == eq
778. 
779. 
780. def test_complex():
781.     a, b = symbols('a,b', real=True)
782.     z = a + b*I
783.     for func in [sinh, cosh, tanh, coth, sech, csch]:
784.         assert func(z).conjugate() == func(a - b*I)
785.     for deep in [True, False]:
786.         assert sinh(z).expand(
787.             complex=True, deep=deep) == sinh(a)*cos(b) + I*cosh(a)*sin(b)
788.         assert cosh(z).expand(
789.             complex=True, deep=deep) == cosh(a)*cos(b) + I*sinh(a)*sin(b)
790.         assert tanh(z).expand(complex=True, deep=deep) == sinh(a)*cosh(
791.             a)/(cos(b)**2 + sinh(a)**2) + I*sin(b)*cos(b)/(cos(b)**2 + sinh(a)**2)
792.         assert coth(z).expand(complex=True, deep=deep) == sinh(a)*cosh(
793.             a)/(sin(b)**2 + sinh(a)**2) - I*sin(b)*cos(b)/(sin(b)**2 + sinh(a)**2)
794.         assert csch(z).expand(complex=True, deep=deep) == cos(b) * sinh(a) / (sin(b)**2\
795.             *cosh(a)**2 + cos(b)**2 * sinh(a)**2) - I*sin(b) * cosh(a) / (sin(b)**2\
796.             *cosh(a)**2 + cos(b)**2 * sinh(a)**2)
797.         assert sech(z).expand(complex=True, deep=deep) == cos(b) * cosh(a) / (sin(b)**2\
798.             *sinh(a)**2 + cos(b)**2 * cosh(a)**2) - I*sin(b) * sinh(a) / (sin(b)**2\
799.             *sinh(a)**2 + cos(b)**2 * cosh(a)**2)
800. 
801. 
802. def test_complex_2899():
803.     a, b = symbols('a,b', real=True)
804.     for deep in [True, False]:
805.         for func in [sinh, cosh, tanh, coth]:
806.             assert func(a).expand(complex=True, deep=deep) == func(a)
807. 
808. 
809. def test_simplifications():
810.     x = Symbol('x')
811.     assert sinh(asinh(x)) == x
812.     assert sinh(acosh(x)) == sqrt(x - 1) * sqrt(x + 1)
813.     assert sinh(atanh(x)) == x/sqrt(1 - x**2)
814.     assert sinh(acoth(x)) == 1/(sqrt(x - 1) * sqrt(x + 1))
815. 
816.     assert cosh(asinh(x)) == sqrt(1 + x**2)
817.     assert cosh(acosh(x)) == x
818.     assert cosh(atanh(x)) == 1/sqrt(1 - x**2)
819.     assert cosh(acoth(x)) == x/(sqrt(x - 1) * sqrt(x + 1))
820. 
821.     assert tanh(asinh(x)) == x/sqrt(1 + x**2)
822.     assert tanh(acosh(x)) == sqrt(x - 1) * sqrt(x + 1) / x
823.     assert tanh(atanh(x)) == x
824.     assert tanh(acoth(x)) == 1/x
825. 
826.     assert coth(asinh(x)) == sqrt(1 + x**2)/x
827.     assert coth(acosh(x)) == x/(sqrt(x - 1) * sqrt(x + 1))
828.     assert coth(atanh(x)) == 1/x
829.     assert coth(acoth(x)) == x
830. 
831.     assert csch(asinh(x)) == 1/x
832.     assert csch(acosh(x)) == 1/(sqrt(x - 1) * sqrt(x + 1))
833.     assert csch(atanh(x)) == sqrt(1 - x**2)/x
834.     assert csch(acoth(x)) == sqrt(x - 1) * sqrt(x + 1)
835. 
836.     assert sech(asinh(x)) == 1/sqrt(1 + x**2)
837.     assert sech(acosh(x)) == 1/x
838.     assert sech(atanh(x)) == sqrt(1 - x**2)
839.     assert sech(acoth(x)) == sqrt(x - 1) * sqrt(x + 1)/x
840. 
841. 
842. def test_issue_4136():
843.     assert cosh(asinh(Integer(3)/2)) == sqrt(Integer(13)/4)
844. 
845. 
846. def test_sinh_rewrite():
847.     x = Symbol('x')
848.     assert sinh(x).rewrite(exp) == (exp(x) - exp(-x))/2 \
849.         == sinh(x).rewrite('tractable')
850.     assert sinh(x).rewrite(cosh) == -I*cosh(x + I*pi/2)
851.     tanh_half = tanh(S.Half*x)
852.     assert sinh(x).rewrite(tanh) == 2*tanh_half/(1 - tanh_half**2)
853.     coth_half = coth(S.Half*x)
854.     assert sinh(x).rewrite(coth) == 2*coth_half/(coth_half**2 - 1)
855. 
856. 
857. def test_cosh_rewrite():
858.     x = Symbol('x')
859.     assert cosh(x).rewrite(exp) == (exp(x) + exp(-x))/2 \
860.         == cosh(x).rewrite('tractable')
861.     assert cosh(x).rewrite(sinh) == -I*sinh(x + I*pi/2)
862.     tanh_half = tanh(S.Half*x)**2
863.     assert cosh(x).rewrite(tanh) == (1 + tanh_half)/(1 - tanh_half)
864.     coth_half = coth(S.Half*x)**2
865.     assert cosh(x).rewrite(coth) == (coth_half + 1)/(coth_half - 1)
866. 
867. 
868. def test_tanh_rewrite():
869.     x = Symbol('x')
870.     assert tanh(x).rewrite(exp) == (exp(x) - exp(-x))/(exp(x) + exp(-x)) \
871.         == tanh(x).rewrite('tractable')
872.     assert tanh(x).rewrite(sinh) == I*sinh(x)/sinh(I*pi/2 - x)
873.     assert tanh(x).rewrite(cosh) == I*cosh(I*pi/2 - x)/cosh(x)
874.     assert tanh(x).rewrite(coth) == 1/coth(x)
875. 
876. 
877. def test_coth_rewrite():
878.     x = Symbol('x')
879.     assert coth(x).rewrite(exp) == (exp(x) + exp(-x))/(exp(x) - exp(-x)) \
880.         == coth(x).rewrite('tractable')
881.     assert coth(x).rewrite(sinh) == -I*sinh(I*pi/2 - x)/sinh(x)
882.     assert coth(x).rewrite(cosh) == -I*cosh(x)/cosh(I*pi/2 - x)
883.     assert coth(x).rewrite(tanh) == 1/tanh(x)
884. 
885. 
886. def test_csch_rewrite():
887.     x = Symbol('x')
888.     assert csch(x).rewrite(exp) == 1 / (exp(x)/2 - exp(-x)/2) \
889.         == csch(x).rewrite('tractable')
890.     assert csch(x).rewrite(cosh) == I/cosh(x + I*pi/2)
891.     tanh_half = tanh(S.Half*x)
892.     assert csch(x).rewrite(tanh) == (1 - tanh_half**2)/(2*tanh_half)
893.     coth_half = coth(S.Half*x)
894.     assert csch(x).rewrite(coth) == (coth_half**2 - 1)/(2*coth_half)
895. 
896. 
897. def test_sech_rewrite():
898.     x = Symbol('x')
899.     assert sech(x).rewrite(exp) == 1 / (exp(x)/2 + exp(-x)/2) \
900.         == sech(x).rewrite('tractable')
901.     assert sech(x).rewrite(sinh) == I/sinh(x + I*pi/2)
902.     tanh_half = tanh(S.Half*x)**2
903.     assert sech(x).rewrite(tanh) == (1 - tanh_half)/(1 + tanh_half)
904.     coth_half = coth(S.Half*x)**2
905.     assert sech(x).rewrite(coth) == (coth_half - 1)/(coth_half + 1)
906. 
907. 
908. def test_derivs():
909.     x = Symbol('x')
910.     assert coth(x).diff(x) == -sinh(x)**(-2)
911.     assert sinh(x).diff(x) == cosh(x)
912.     assert cosh(x).diff(x) == sinh(x)
913.     assert tanh(x).diff(x) == -tanh(x)**2 + 1
914.     assert csch(x).diff(x) == -coth(x)*csch(x)
915.     assert sech(x).diff(x) == -tanh(x)*sech(x)
916.     assert acoth(x).diff(x) == 1/(-x**2 + 1)
917.     assert asinh(x).diff(x) == 1/sqrt(x**2 + 1)
918.     assert acosh(x).diff(x) == 1/sqrt(x**2 - 1)
919.     assert atanh(x).diff(x) == 1/(-x**2 + 1)
920.     assert asech(x).diff(x) == -1/(x*sqrt(1 - x**2))
921.     assert acsch(x).diff(x) == -1/(x**2*sqrt(1 + x**(-2)))
922. 
923. 
924. def test_sinh_expansion():
925.     x, y = symbols('x,y')
926.     assert sinh(x+y).expand(trig=True) == sinh(x)*cosh(y) + cosh(x)*sinh(y)
927.     assert sinh(2*x).expand(trig=True) == 2*sinh(x)*cosh(x)
928.     assert sinh(3*x).expand(trig=True).expand() == \
929.         sinh(x)**3 + 3*sinh(x)*cosh(x)**2
930. 
931. 
932. def test_cosh_expansion():
933.     x, y = symbols('x,y')
934.     assert cosh(x+y).expand(trig=True) == cosh(x)*cosh(y) + sinh(x)*sinh(y)
935.     assert cosh(2*x).expand(trig=True) == cosh(x)**2 + sinh(x)**2
936.     assert cosh(3*x).expand(trig=True).expand() == \
937.         3*sinh(x)**2*cosh(x) + cosh(x)**3

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 17:39:40,797 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user has requested the full content of the file `sympy/functions/elementary/tests/test_hyperbolic.py`. The provided context contains the content of this file from line 1 to 937, which represents the entire file.', relative_path='sympy/functions/elementary/tests/test_hyperbolic.py', start_line=1, end_line=937)]
2025-12-21 17:39:40,799 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.
2025-12-21 17:39:40,799 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 17:39:40,799 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 17:39:40,799 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-21 17:39:40,799 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-21 17:39:40,800 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
├── .ci
|   ├── generate_durations_log.sh
|   └── parse_durations_log.py
├── .travis.yml
├── CODE_OF_CONDUCT.md
├── PULL_REQUEST_TEMPLATE.md
├── README.rst
├── bin
|   ├── ask_update.py
|   ├── authors_update.py
|   ├── coverage_doctest.py
|   ├── coverage_report.py
|   ├── generate_module_list.py
|   ├── generate_test_list.py
|   ├── get_sympy.py
|   ├── mailmap_update.py
|   ├── sympy_time.py
|   ├── sympy_time_cache.py
|   ├── test_import.py
|   ├── test_setup.py
|   └── test_travis.sh
├── conftest.py
├── data
|   └── TeXmacs
|       ├── bin
|       └── progs
├── doc
|   ├── README.rst
|   ├── api
|   |   ├── conf.py
|   |   └── index.rst
|   ├── cheatsheet
|   ├── ext
|   |   ├── docscrape.py
|   |   ├── docscrape_sphinx.py
|   |   ├── numpydoc.py
|   |   └── sympylive.py
|   ├── generate_logos.py
|   ├── man
|   |   └── isympy.xml
|   └── src
|       ├── _static
|       ├── _templates
|       |   └── layout.html
|       ├── aboutus.rst
|       ├── citing.rst
|       ├── conf.py
|       ├── gotchas.rst
|       ├── guide.rst
|       ├── index.rst
|       ├── install.rst
|       ├── logo
|       |   └── info.txt
|       ├── modules
|       |   ├── assumptions
|       |   |   ├── ask.rst
|       |   |   ├── assume.rst
|       |   |   ├── handlers
|       |   |   ├── index.rst
|       |   |   └── refine.rst
|       |   ├── calculus
|       |   |   └── index.rst
|       |   ├── categories.rst
|       |   ├── codegen.rst
|       |   ├── combinatorics
|       |   |   ├── fp_groups.rst
|       |   |   ├── graycode.rst
|       |   |   ├── group_constructs.rst
|       |   |   ├── index.rst
|       |   |   ├── named_groups.rst
|       |   |   ├── partitions.rst
|       |   |   ├── perm_groups.rst
|       |   |   ├── permutations.rst
|       |   |   ├── polyhedron.rst
|       |   |   ├── prufer.rst
|       |   |   ├── subsets.rst
|       |   |   ├── tensor_can.rst
|       |   |   ├── testutil.rst
|       |   |   └── util.rst
|       |   ├── concrete.rst
|       |   ├── core.rst
|       |   ├── crypto.rst
|       |   ├── diffgeom.rst
|       |   ├── evalf.rst
|       |   ├── functions
|       |   |   ├── combinatorial.rst
|       |   |   ├── elementary.rst
|       |   |   ├── index.rst
|       |   |   └── special.rst
|       |   ├── geometry
|       |   |   ├── curves.rst
|       |   |   ├── ellipses.rst
|       |   |   ├── entities.rst
|       |   |   ├── index.rst
|       |   |   ├── lines.rst
|       |   |   ├── plane.rst
|       |   |   ├── points.rst
|       |   |   ├── polygons.rst
|       |   |   └── utils.rst
|       |   ├── holonomic
|       |   |   ├── about.rst
|       |   |   ├── convert.rst
|       |   |   ├── index.rst
|       |   |   ├── operations.rst
|       |   |   ├── represent.rst
|       |   |   └── uses.rst
|       |   ├── index.rst
|       |   ├── integrals
|       |   |   ├── g-functions.rst
|       |   |   └── integrals.rst
|       |   ├── liealgebras
|       |   |   └── index.rst
|       |   ├── logic.rst
|       |   ├── matrices
|       |   |   ├── dense.rst
|       |   |   ├── expressions.rst
|       |   |   ├── immutablematrices.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   └── sparse.rst
|       |   ├── ntheory.rst
|       |   ├── numeric-computation.rst
|       |   ├── parsing.rst
|       |   ├── physics
|       |   |   ├── continuum_mechanics
|       |   |   ├── hep
|       |   |   ├── hydrogen.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   ├── mechanics
|       |   |   ├── optics
|       |   |   ├── paulialgebra.rst
|       |   |   ├── qho_1d.rst
|       |   |   ├── quantum
|       |   |   ├── secondquant.rst
|       |   |   ├── sho.rst
|       |   |   ├── units
|       |   |   ├── vector
|       |   |   └── wigner.rst
|       |   ├── plotting.rst
|       |   ├── polys
|       |   |   ├── agca.rst
|       |   |   ├── basics.rst
|       |   |   ├── index.rst
|       |   |   ├── internals.rst
|       |   |   ├── literature.rst
|       |   |   ├── reference.rst
|       |   |   ├── ringseries.rst
|       |   |   └── wester.rst
|       |   ├── printing.rst
|       |   ├── rewriting.rst
|       |   ├── series
|       |   |   ├── formal.rst
|       |   |   ├── fourier.rst
|       |   |   ├── index.rst
|       |   |   ├── limitseq.rst
|       |   |   ├── sequences.rst
|       |   |   └── series.rst
|       |   ├── sets.rst
|       |   ├── simplify
|       |   |   ├── hyperexpand.rst
|       |   |   └── simplify.rst
|       |   ├── solvers
|       |   |   ├── diophantine.rst
|       |   |   ├── inequalities.rst
|       |   |   ├── ode.rst
|       |   |   ├── pde.rst
|       |   |   ├── solvers.rst
|       |   |   └── solveset.rst
|       |   ├── stats.rst
|       |   ├── tensor
|       |   |   ├── array.rst
|       |   |   ├── index.rst
|       |   |   ├── index_methods.rst
|       |   |   ├── indexed.rst
|       |   |   └── tensor.rst
|       |   ├── utilities
|       |   |   ├── autowrap.rst
|       |   |   ├── codegen.rst
|       |   |   ├── decorator.rst
|       |   |   ├── enumerative.rst
|       |   |   ├── index.rst
|       |   |   ├── iterables.rst
|       |   |   ├── lambdify.rst
|       |   |   ├── memoization.rst
|       |   |   ├── misc.rst
|       |   |   ├── pkgdata.rst
|       |   |   ├── pytest.rst
|       |   |   ├── randtest.rst
|       |   |   ├── runtests.rst
|       |   |   ├── source.rst
|       |   |   └── timeutils.rst
|       |   └── vector
|       |       ├── api
|       |       ├── basics.rst
|       |       ├── coordsys.rst
|       |       ├── examples.rst
|       |       ├── fields.rst
|       |       ├── index.rst
|       |       └── intro.rst
|       ├── outreach.rst
|       ├── pics
|       ├── python-comparisons.rst
|       ├── special_topics
|       |   ├── finite_diff_derivatives.rst
|       |   ├── index.rst
|       |   └── intro.rst
|       ├── tutorial
|       |   ├── basic_operations.rst
|       |   ├── calculus.rst
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   ├── intro.rst
|       |   ├── manipulation.rst
|       |   ├── matrices.rst
|       |   ├── preliminaries.rst
|       |   ├── printing.rst
|       |   ├── simplification.rst
|       |   └── solvers.rst
|       └── wiki.rst
├── examples
|   ├── advanced
|   |   ├── autowrap_integrators.py
|   |   ├── autowrap_ufuncify.py
|   |   ├── curvilinear_coordinates.py
|   |   ├── dense_coding_example.py
|   |   ├── fem.py
|   |   ├── gibbs_phenomenon.py
|   |   ├── grover_example.py
|   |   ├── hydrogen.py
|   |   ├── pidigits.py
|   |   ├── pyglet_plotting.py
|   |   ├── qft.py
|   |   └── relativity.py
|   ├── all.py
|   ├── beginner
|   |   ├── basic.py
|   |   ├── differentiation.py
|   |   ├── expansion.py
|   |   ├── functions.py
|   |   ├── limits_examples.py
|   |   ├── plot_examples.py
|   |   ├── plotting_nice_plot.py
|   |   ├── precision.py
|   |   ├── print_pretty.py
|   |   ├── series.py
|   |   └── substitution.py
|   ├── intermediate
|   |   ├── coupled_cluster.py
|   |   ├── differential_equations.py
|   |   ├── infinite_1d_box.py
|   |   ├── mplot2d.py
|   |   ├── mplot3d.py
|   |   ├── partial_differential_eqs.py
|   |   ├── print_gtk.py
|   |   ├── sample.py
|   |   ├── trees.py
|   |   └── vandermonde.py
|   └── notebooks
|       └── README.txt
├── isympy.py
├── release
|   ├── Dockerfile
|   ├── README.md
|   ├── fabfile.py
|   ├── pull_and_run_rever.sh
|   └── release.sh
├── setup.py
├── setupegg.py
└── sympy
    ├── __init__.py
    ├── abc.py
    ├── algebras
    |   ├── __init__.py
    |   ├── quaternion.py
    |   └── tests
    |       └── test_quaternion.py
    ├── assumptions
    |   ├── __init__.py
    |   ├── ask.py
    |   ├── ask_generated.py
    |   ├── assume.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── refine.py
    |   ├── satask.py
    |   ├── sathandlers.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_assumptions_2.py
    |       ├── test_context.py
    |       ├── test_matrices.py
    |       ├── test_query.py
    |       ├── test_refine.py
    |       ├── test_satask.py
    |       └── test_sathandlers.py
    ├── benchmarks
    |   ├── __init__.py
    |   ├── bench_discrete_log.py
    |   ├── bench_meijerint.py
    |   └── bench_symbench.py
    ├── calculus
    |   ├── __init__.py
    |   ├── euler.py
    |   ├── finite_diff.py
    |   ├── singularities.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_euler.py
    |   |   ├── test_finite_diff.py
    |   |   ├── test_singularities.py
    |   |   └── test_util.py
    |   └── util.py
    ├── categories
    |   ├── __init__.py
    |   ├── baseclasses.py
    |   ├── diagram_drawing.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_baseclasses.py
    |       └── test_drawing.py
    ├── codegen
    |   ├── __init__.py
    |   ├── ast.py
    |   ├── cfunctions.py
    |   ├── ffunctions.py
    |   ├── rewriting.py
    |   └── tests
    |       ├── test_ast.py
    |       ├── test_cfunctions.py
    |       ├── test_ffunctions.py
    |       └── test_rewriting.py
    ├── combinatorics
    |   ├── __init__.py
    |   ├── coset_table.py
    |   ├── fp_groups.py
    |   ├── free_groups.py
    |   ├── generators.py
    |   ├── graycode.py
    |   ├── group_constructs.py
    |   ├── homomorphisms.py
    |   ├── named_groups.py
    |   ├── partitions.py
    |   ├── perm_groups.py
    |   ├── permutations.py
    |   ├── polyhedron.py
    |   ├── prufer.py
    |   ├── rewritingsystem.py
    |   ├── subsets.py
    |   ├── tensor_can.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_coset_table.py
    |   |   ├── test_fp_groups.py
    |   |   ├── test_free_groups.py
    |   |   ├── test_generators.py
    |   |   ├── test_graycode.py
    |   |   ├── test_group_constructs.py
    |   |   ├── test_homomorphisms.py
    |   |   ├── test_named_groups.py
    |   |   ├── test_partitions.py
    |   |   ├── test_perm_groups.py
    |   |   ├── test_permutations.py
    |   |   ├── test_polyhedron.py
    |   |   ├── test_prufer.py
    |   |   ├── test_rewriting.py
    |   |   ├── test_subsets.py
    |   |   ├── test_tensor_can.py
    |   |   ├── test_testutil.py
    |   |   └── test_util.py
    |   ├── testutil.py
    |   └── util.py
    ├── concrete
    |   ├── __init__.py
    |   ├── delta.py
    |   ├── expr_with_intlimits.py
    |   ├── expr_with_limits.py
    |   ├── gosper.py
    |   ├── guess.py
    |   ├── products.py
    |   ├── summations.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_delta.py
    |       ├── test_gosper.py
    |       ├── test_guess.py
    |       ├── test_products.py
    |       └── test_sums_products.py
    ├── conftest.py
    ├── core
    |   ├── __init__.py
    |   ├── add.py
    |   ├── alphabets.py
    |   ├── assumptions.py
    |   ├── backend.py
    |   ├── basic.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_arit.py
    |   |   ├── bench_assumptions.py
    |   |   ├── bench_basic.py
    |   |   ├── bench_expand.py
    |   |   ├── bench_numbers.py
    |   |   └── bench_sympify.py
    |   ├── cache.py
    |   ├── compatibility.py
    |   ├── containers.py
    |   ├── core.py
    |   ├── coreerrors.py
    |   ├── decorators.py
    |   ├── evalf.py
    |   ├── evaluate.py
    |   ├── expr.py
    |   ├── exprtools.py
    |   ├── facts.py
    |   ├── function.py
    |   ├── logic.py
    |   ├── mod.py
    |   ├── mul.py
    |   ├── multidimensional.py
    |   ├── numbers.py
    |   ├── operations.py
    |   ├── power.py
    |   ├── relational.py
    |   ├── rules.py
    |   ├── singleton.py
    |   ├── symbol.py
    |   ├── sympify.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_args.py
    |   |   ├── test_arit.py
    |   |   ├── test_assumptions.py
    |   |   ├── test_basic.py
    |   |   ├── test_cache.py
    |   |   ├── test_compatibility.py
    |   |   ├── test_complex.py
    |   |   ├── test_constructor_postprocessor.py
    |   |   ├── test_containers.py
    |   |   ├── test_count_ops.py
    |   |   ├── test_diff.py
    |   |   ├── test_equal.py
    |   |   ├── test_eval.py
    |   |   ├── test_eval_power.py
    |   |   ├── test_evalf.py
    |   |   ├── test_evaluate.py
    |   |   ├── test_expand.py
    |   |   ├── test_expr.py
    |   |   ├── test_exprtools.py
    |   |   ├── test_facts.py
    |   |   ├── test_function.py
    |   |   ├── test_logic.py
    |   |   ├── test_match.py
    |   |   ├── test_noncommutative.py
    |   |   ├── test_numbers.py
    |   |   ├── test_operations.py
    |   |   ├── test_priority.py
    |   |   ├── test_relational.py
    |   |   ├── test_rules.py
    |   |   ├── test_subs.py
    |   |   ├── test_symbol.py
    |   |   ├── test_sympify.py
    |   |   ├── test_trace.py
    |   |   ├── test_truediv.py
    |   |   └── test_var.py
    |   └── trace.py
    ├── crypto
    |   ├── __init__.py
    |   ├── crypto.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_crypto.py
    ├── deprecated
    |   ├── __init__.py
    |   ├── class_registry.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_class_registry.py
    ├── diffgeom
    |   ├── __init__.py
    |   ├── diffgeom.py
    |   ├── rn.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_class_structure.py
    |       ├── test_diffgeom.py
    |       ├── test_function_diffgeom_book.py
    |       └── test_hyperbolic_space.py
    ├── external
    |   ├── __init__.py
    |   ├── importtools.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_autowrap.py
    |       ├── test_codegen.py
    |       ├── test_importtools.py
    |       ├── test_numpy.py
    |       ├── test_sage.py
    |       └── test_scipy.py
    ├── functions
    |   ├── __init__.py
    |   ├── combinatorial
    |   |   ├── __init__.py
    |   |   ├── factorials.py
    |   |   ├── numbers.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_comb_factorials.py
    |   |       └── test_comb_numbers.py
    |   ├── elementary
    |   |   ├── __init__.py
    |   |   ├── benchmarks
    |   |   |   ├── __init__.py
    |   |   |   └── bench_exp.py
    |   |   ├── complexes.py
    |   |   ├── exponential.py
    |   |   ├── hyperbolic.py
    |   |   ├── integers.py
    |   |   ├── miscellaneous.py
    |   |   ├── piecewise.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_complexes.py
    |   |   |   ├── test_exponential.py
    |   |   |   ├── test_hyperbolic.py
    |   |   |   ├── test_integers.py
    |   |   |   ├── test_interface.py
    |   |   |   ├── test_miscellaneous.py
    |   |   |   ├── test_piecewise.py
    |   |   |   └── test_trigonometric.py
    |   |   └── trigonometric.py
    |   └── special
    |       ├── __init__.py
    |       ├── benchmarks
    |       |   ├── __init__.py
    |       |   └── bench_special.py
    |       ├── bessel.py
    |       ├── beta_functions.py
    |       ├── bsplines.py
    |       ├── delta_functions.py
    |       ├── elliptic_integrals.py
    |       ├── error_functions.py
    |       ├── gamma_functions.py
    |       ├── hyper.py
    |       ├── mathieu_functions.py
    |       ├── polynomials.py
    |       ├── singularity_functions.py
    |       ├── spherical_harmonics.py
    |       ├── tensor_functions.py
    |       ├── tests
    |       |   ├── __init__.py
    |       |   ├── test_bessel.py
    |       |   ├── test_beta_functions.py
    |       |   ├── test_bsplines.py
    |       |   ├── test_delta_functions.py
    |       |   ├── test_elliptic_integrals.py
    |       |   ├── test_error_functions.py
    |       |   ├── test_gamma_functions.py
    |       |   ├── test_hyper.py
    |       |   ├── test_mathieu.py
    |       |   ├── test_singularity_functions.py
    |       |   ├── test_spec_polynomials.py
    |       |   ├── test_spherical_harmonics.py
    |       |   ├── test_tensor_functions.py
    |       |   └── test_zeta_functions.py
    |       └── zeta_functions.py
    ├── galgebra.py
    ├── geometry
    |   ├── __init__.py
    |   ├── curve.py
    |   ├── ellipse.py
    |   ├── entity.py
    |   ├── exceptions.py
    |   ├── line.py
    |   ├── parabola.py
    |   ├── plane.py
    |   ├── point.py
    |   ├── polygon.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_curve.py
    |   |   ├── test_ellipse.py
    |   |   ├── test_entity.py
    |   |   ├── test_geometrysets.py
    |   |   ├── test_line.py
    |   |   ├── test_parabola.py
    |   |   ├── test_plane.py
    |   |   ├── test_point.py
    |   |   ├── test_polygon.py
    |   |   └── test_util.py
    |   └── util.py
    ├── holonomic
    |   ├── __init__.py
    |   ├── holonomic.py
    |   ├── holonomicerrors.py
    |   ├── linearsolver.py
    |   ├── numerical.py
    |   ├── recurrence.py
    |   └── tests
    |       ├── test_holonomic.py
    |       └── test_recurrence.py
    ├── integrals
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_integrate.py
    |   |   └── bench_trigintegrate.py
    |   ├── deltafunctions.py
    |   ├── heurisch.py
    |   ├── integrals.py
    |   ├── intpoly.py
    |   ├── manualintegrate.py
    |   ├── meijerint.py
    |   ├── meijerint_doc.py
    |   ├── prde.py
    |   ├── quadrature.py
    |   ├── rationaltools.py
    |   ├── rde.py
    |   ├── risch.py
    |   ├── rubi
    |   |   ├── __init__.py
    |   |   ├── parsetools
    |   |   |   ├── __init__.py
    |   |   |   ├── parse.py
    |   |   |   └── tests
    |   |   ├── rubi.py
    |   |   ├── rules
    |   |   |   ├── __init__.py
    |   |   |   ├── binomial_products.py
    |   |   |   ├── exponential.py
    |   |   |   ├── hyperbolic.py
    |   |   |   ├── integrand_simplification.py
    |   |   |   ├── inverse_hyperbolic.py
    |   |   |   ├── inverse_trig.py
    |   |   |   ├── linear_products.py
    |   |   |   ├── logarithms.py
    |   |   |   ├── miscellaneous_algebraic.py
    |   |   |   ├── miscellaneous_integration.py
    |   |   |   ├── miscellaneous_trig.py
    |   |   |   ├── piecewise_linear.py
    |   |   |   ├── quadratic_products.py
    |   |   |   ├── secant.py
    |   |   |   ├── sine.py
    |   |   |   ├── tangent.py
    |   |   |   └── trinomial_products.py
    |   |   ├── symbol.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_1_2.py
    |   |   |   ├── test_1_3.py
    |   |   |   ├── test_1_4.py
    |   |   |   ├── test_rubi_integrate.py
    |   |   |   └── test_utility_function.py
    |   |   └── utility_function.py
    |   ├── singularityfunctions.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_deltafunctions.py
    |   |   ├── test_failing_integrals.py
    |   |   ├── test_heurisch.py
    |   |   ├── test_integrals.py
    |   |   ├── test_intpoly.py
    |   |   ├── test_lineintegrals.py
    |   |   ├── test_manual.py
    |   |   ├── test_meijerint.py
    |   |   ├── test_prde.py
    |   |   ├── test_quadrature.py
    |   |   ├── test_rationaltools.py
    |   |   ├── test_rde.py
    |   |   ├── test_risch.py
    |   |   ├── test_singularityfunctions.py
    |   |   ├── test_transforms.py
    |   |   └── test_trigonometry.py
    |   ├── transforms.py
    |   └── trigonometry.py
    ├── interactive
    |   ├── __init__.py
    |   ├── ipythonprinting.py
    |   ├── printing.py
    |   ├── session.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_interactive.py
    |       ├── test_ipython.py
    |       └── test_ipythonprinting.py
    ├── liealgebras
    |   ├── __init__.py
    |   ├── cartan_matrix.py
    |   ├── cartan_type.py
    |   ├── dynkin_diagram.py
    |   ├── root_system.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_cartan_matrix.py
    |   |   ├── test_cartan_type.py
    |   |   ├── test_dynkin_diagram.py
    |   |   ├── test_root_system.py
    |   |   ├── test_type_A.py
    |   |   ├── test_type_B.py
    |   |   ├── test_type_C.py
    |   |   ├── test_type_D.py
    |   |   ├── test_type_E.py
    |   |   ├── test_type_F.py
    |   |   ├── test_type_G.py
    |   |   └── test_weyl_group.py
    |   ├── type_a.py
    |   ├── type_b.py
    |   ├── type_c.py
    |   ├── type_d.py
    |   ├── type_e.py
    |   ├── type_f.py
    |   ├── type_g.py
    |   └── weyl_group.py
    ├── logic
    |   ├── __init__.py
    |   ├── algorithms
    |   |   ├── __init__.py
    |   |   ├── dpll.py
    |   |   └── dpll2.py
    |   ├── boolalg.py
    |   ├── inference.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_boolalg.py
    |   |   ├── test_dimacs.py
    |   |   └── test_inference.py
    |   └── utilities
    |       ├── __init__.py
    |       └── dimacs.py
    ├── matrices
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_matrix.py
    |   ├── common.py
    |   ├── dense.py
    |   ├── densearith.py
    |   ├── densesolve.py
    |   ├── densetools.py
    |   ├── expressions
    |   |   ├── __init__.py
    |   |   ├── adjoint.py
    |   |   ├── blockmatrix.py
    |   |   ├── determinant.py
    |   |   ├── diagonal.py
    |   |   ├── dotproduct.py
    |   |   ├── factorizations.py
    |   |   ├── fourier.py
    |   |   ├── funcmatrix.py
    |   |   ├── hadamard.py
    |   |   ├── inverse.py
    |   |   ├── matadd.py
    |   |   ├── matexpr.py
    |   |   ├── matmul.py
    |   |   ├── matpow.py
    |   |   ├── slice.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_adjoint.py
    |   |   |   ├── test_blockmatrix.py
    |   |   |   ├── test_determinant.py
    |   |   |   ├── test_diagonal.py
    |   |   |   ├── test_dotproduct.py
    |   |   |   ├── test_factorizations.py
    |   |   |   ├── test_fourier.py
    |   |   |   ├── test_funcmatrix.py
    |   |   |   ├── test_hadamard.py
    |   |   |   ├── test_indexing.py
    |   |   |   ├── test_inverse.py
    |   |   |   ├── test_matadd.py
    |   |   |   ├── test_matexpr.py
    |   |   |   ├── test_matmul.py
    |   |   |   ├── test_matpow.py
    |   |   |   ├── test_slice.py
    |   |   |   ├── test_trace.py
    |   |   |   └── test_transpose.py
    |   |   ├── trace.py
    |   |   └── transpose.py
    |   ├── immutable.py
    |   ├── matrices.py
    |   ├── normalforms.py
    |   ├── sparse.py
    |   ├── sparsetools.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_commonmatrix.py
    |       ├── test_densearith.py
    |       ├── test_densesolve.py
    |       ├── test_densetools.py
    |       ├── test_immutable.py
    |       ├── test_interactions.py
    |       ├── test_matrices.py
    |       ├── test_normalforms.py
    |       ├── test_sparse.py
    |       └── test_sparsetools.py
    ├── ntheory
    |   ├── __init__.py
    |   ├── bbp_pi.py
    |   ├── continued_fraction.py
    |   ├── egyptian_fraction.py
    |   ├── factor_.py
    |   ├── generate.py
    |   ├── modular.py
    |   ├── multinomial.py
    |   ├── partitions_.py
    |   ├── primetest.py
    |   ├── residue_ntheory.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_bbp_pi.py
    |       ├── test_continued_fraction.py
    |       ├── test_egyptian_fraction.py
    |       ├── test_factor_.py
    |       ├── test_generate.py
    |       ├── test_modular.py
    |       ├── test_multinomial.py
    |       ├── test_partitions.py
    |       ├── test_primetest.py
    |       └── test_residue.py
    ├── parsing
    |   ├── __init__.py
    |   ├── ast_parser.py
    |   ├── mathematica.py
    |   ├── maxima.py
    |   ├── sympy_parser.py
    |   ├── sympy_tokenize.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_implicit_multiplication_application.py
    |       ├── test_mathematica.py
    |       ├── test_maxima.py
    |       └── test_sympy_parser.py
    ├── physics
    |   ├── __init__.py
    |   ├── continuum_mechanics
    |   |   ├── __init__.py
    |   |   ├── beam.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_beam.py
    |   ├── gaussopt.py
    |   ├── hep
    |   |   ├── __init__.py
    |   |   ├── gamma_matrices.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_gamma_matrices.py
    |   ├── hydrogen.py
    |   ├── matrices.py
    |   ├── mechanics
    |   |   ├── __init__.py
    |   |   ├── body.py
    |   |   ├── functions.py
    |   |   ├── kane.py
    |   |   ├── lagrange.py
    |   |   ├── linearize.py
    |   |   ├── models.py
    |   |   ├── particle.py
    |   |   ├── rigidbody.py
    |   |   ├── system.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_body.py
    |   |       ├── test_functions.py
    |   |       ├── test_kane.py
    |   |       ├── test_kane2.py
    |   |       ├── test_kane3.py
    |   |       ├── test_lagrange.py
    |   |       ├── test_lagrange2.py
    |   |       ├── test_linearize.py
    |   |       ├── test_models.py
    |   |       ├── test_particle.py
    |   |       ├── test_rigidbody.py
    |   |       └── test_system.py
    |   ├── optics
    |   |   ├── __init__.py
    |   |   ├── gaussopt.py
    |   |   ├── medium.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_gaussopt.py
    |   |   |   ├── test_medium.py
    |   |   |   ├── test_utils.py
    |   |   |   └── test_waves.py
    |   |   ├── utils.py
    |   |   └── waves.py
    |   ├── paulialgebra.py
    |   ├── pring.py
    |   ├── qho_1d.py
    |   ├── quantum
    |   |   ├── __init__.py
    |   |   ├── anticommutator.py
    |   |   ├── boson.py
    |   |   ├── cartesian.py
    |   |   ├── cg.py
    |   |   ├── circuitplot.py
    |   |   ├── circuitutils.py
    |   |   ├── commutator.py
    |   |   ├── constants.py
    |   |   ├── dagger.py
    |   |   ├── density.py
    |   |   ├── fermion.py
    |   |   ├── gate.py
    |   |   ├── grover.py
    |   |   ├── hilbert.py
    |   |   ├── identitysearch.py
    |   |   ├── innerproduct.py
    |   |   ├── matrixcache.py
    |   |   ├── matrixutils.py
    |   |   ├── operator.py
    |   |   ├── operatorordering.py
    |   |   ├── operatorset.py
    |   |   ├── pauli.py
    |   |   ├── piab.py
    |   |   ├── qapply.py
    |   |   ├── qasm.py
    |   |   ├── qexpr.py
    |   |   ├── qft.py
    |   |   ├── qubit.py
    |   |   ├── represent.py
    |   |   ├── sho1d.py
    |   |   ├── shor.py
    |   |   ├── spin.py
    |   |   ├── state.py
    |   |   ├── tensorproduct.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_anticommutator.py
    |   |       ├── test_boson.py
    |   |       ├── test_cartesian.py
    |   |       ├── test_cg.py
    |   |       ├── test_circuitplot.py
    |   |       ├── test_circuitutils.py
    |   |       ├── test_commutator.py
    |   |       ├── test_constants.py
    |   |       ├── test_dagger.py
    |   |       ├── test_density.py
    |   |       ├── test_fermion.py
    |   |       ├── test_gate.py
    |   |       ├── test_grover.py
    |   |       ├── test_hilbert.py
    |   |       ├── test_identitysearch.py
    |   |       ├── test_innerproduct.py
    |   |       ├── test_matrixutils.py
    |   |       ├── test_operator.py
    |   |       ├── test_operatorordering.py
    |   |       ├── test_operatorset.py
    |   |       ├── test_pauli.py
    |   |       ├── test_piab.py
    |   |       ├── test_printing.py
    |   |       ├── test_qapply.py
    |   |       ├── test_qasm.py
    |   |       ├── test_qexpr.py
    |   |       ├── test_qft.py
    |   |       ├── test_qubit.py
    |   |       ├── test_represent.py
    |   |       ├── test_sho1d.py
    |   |       ├── test_shor.py
    |   |       ├── test_spin.py
    |   |       ├── test_state.py
    |   |       └── test_tensorproduct.py
    |   ├── secondquant.py
    |   ├── sho.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_clebsch_gordan.py
    |   |   ├── test_hydrogen.py
    |   |   ├── test_paulialgebra.py
    |   |   ├── test_physics_matrices.py
    |   |   ├── test_pring.py
    |   |   ├── test_qho_1d.py
    |   |   ├── test_secondquant.py
    |   |   └── test_sho.py
    |   ├── units
    |   |   ├── __init__.py
    |   |   ├── definitions.py
    |   |   ├── dimensions.py
    |   |   ├── prefixes.py
    |   |   ├── quantities.py
    |   |   ├── systems
    |   |   |   ├── __init__.py
    |   |   |   ├── mks.py
    |   |   |   ├── mksa.py
    |   |   |   ├── natural.py
    |   |   |   └── si.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dimensions.py
    |   |   |   ├── test_dimensionsystem.py
    |   |   |   ├── test_prefixes.py
    |   |   |   ├── test_quantities.py
    |   |   |   ├── test_unitsystem.py
    |   |   |   └── test_util.py
    |   |   ├── unitsystem.py
    |   |   └── util.py
    |   ├── unitsystems.py
    |   ├── vector
    |   |   ├── __init__.py
    |   |   ├── dyadic.py
    |   |   ├── fieldfunctions.py
    |   |   ├── frame.py
    |   |   ├── functions.py
    |   |   ├── point.py
    |   |   ├── printing.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dyadic.py
    |   |   |   ├── test_fieldfunctions.py
    |   |   |   ├── test_frame.py
    |   |   |   ├── test_functions.py
    |   |   |   ├── test_output.py
    |   |   |   ├── test_point.py
    |   |   |   ├── test_printing.py
    |   |   |   └── test_vector.py
    |   |   └── vector.py
    |   └── wigner.py
    ├── plotting
    |   ├── __init__.py
    |   ├── experimental_lambdify.py
    |   ├── intervalmath
    |   |   ├── __init__.py
    |   |   ├── interval_arithmetic.py
    |   |   ├── lib_interval.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_interval_functions.py
    |   |       └── test_intervalmath.py
    |   ├── plot.py
    |   ├── plot_implicit.py
    |   ├── pygletplot
    |   |   ├── __init__.py
    |   |   ├── color_scheme.py
    |   |   ├── managed_window.py
    |   |   ├── plot.py
    |   |   ├── plot_axes.py
    |   |   ├── plot_camera.py
    |   |   ├── plot_controller.py
    |   |   ├── plot_curve.py
    |   |   ├── plot_interval.py
    |   |   ├── plot_mode.py
    |   |   ├── plot_mode_base.py
    |   |   ├── plot_modes.py
    |   |   ├── plot_object.py
    |   |   ├── plot_rotation.py
    |   |   ├── plot_surface.py
    |   |   ├── plot_window.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_plotting.py
    |   |   └── util.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_plot.py
    |   |   └── test_plot_implicit.py
    |   └── textplot.py
    ├── polys
    |   ├── __init__.py
    |   ├── agca
    |   |   ├── __init__.py
    |   |   ├── homomorphisms.py
    |   |   ├── ideals.py
    |   |   ├── modules.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_homomorphisms.py
    |   |       ├── test_ideals.py
    |   |       └── test_modules.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_galoispolys.py
    |   |   ├── bench_groebnertools.py
    |   |   └── bench_solvers.py
    |   ├── compatibility.py
    |   ├── constructor.py
    |   ├── densearith.py
    |   ├── densebasic.py
    |   ├── densetools.py
    |   ├── dispersion.py
    |   ├── distributedmodules.py
    |   ├── domains
    |   |   ├── __init__.py
    |   |   ├── algebraicfield.py
    |   |   ├── characteristiczero.py
    |   |   ├── complexfield.py
    |   |   ├── compositedomain.py
    |   |   ├── domain.py
    |   |   ├── domainelement.py
    |   |   ├── expressiondomain.py
    |   |   ├── field.py
    |   |   ├── finitefield.py
    |   |   ├── fractionfield.py
    |   |   ├── gmpyfinitefield.py
    |   |   ├── gmpyintegerring.py
    |   |   ├── gmpyrationalfield.py
    |   |   ├── groundtypes.py
    |   |   ├── integerring.py
    |   |   ├── modularinteger.py
    |   |   ├── mpelements.py
    |   |   ├── old_fractionfield.py
    |   |   ├── old_polynomialring.py
    |   |   ├── polynomialring.py
    |   |   ├── pythonfinitefield.py
    |   |   ├── pythonintegerring.py
    |   |   ├── pythonrational.py
    |   |   ├── pythonrationalfield.py
    |   |   ├── quotientring.py
    |   |   ├── rationalfield.py
    |   |   ├── realfield.py
    |   |   ├── ring.py
    |   |   ├── simpledomain.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_domains.py
    |   |       ├── test_polynomialring.py
    |   |       └── test_quotientring.py
    |   ├── euclidtools.py
    |   ├── factortools.py
    |   ├── fglmtools.py
    |   ├── fields.py
    |   ├── galoistools.py
    |   ├── groebnertools.py
    |   ├── heuristicgcd.py
    |   ├── modulargcd.py
    |   ├── monomials.py
    |   ├── numberfields.py
    |   ├── orderings.py
    |   ├── orthopolys.py
    |   ├── partfrac.py
    |   ├── polyclasses.py
    |   ├── polyconfig.py
    |   ├── polyerrors.py
    |   ├── polyfuncs.py
    |   ├── polymatrix.py
    |   ├── polyoptions.py
    |   ├── polyquinticconst.py
    |   ├── polyroots.py
    |   ├── polytools.py
    |   ├── polyutils.py
    |   ├── rationaltools.py
    |   ├── ring_series.py
    |   ├── rings.py
    |   ├── rootisolation.py
    |   ├── rootoftools.py
    |   ├── solvers.py
    |   ├── specialpolys.py
    |   ├── sqfreetools.py
    |   ├── subresultants_qq_zz.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constructor.py
    |       ├── test_densearith.py
    |       ├── test_densebasic.py
    |       ├── test_densetools.py
    |       ├── test_dispersion.py
    |       ├── test_distributedmodules.py
    |       ├── test_euclidtools.py
    |       ├── test_factortools.py
    |       ├── test_fields.py
    |       ├── test_galoistools.py
    |       ├── test_groebnertools.py
    |       ├── test_heuristicgcd.py
    |       ├── test_injections.py
    |       ├── test_modulargcd.py
    |       ├── test_monomials.py
    |       ├── test_numberfields.py
    |       ├── test_orderings.py
    |       ├── test_orthopolys.py
    |       ├── test_partfrac.py
    |       ├── test_polyclasses.py
    |       ├── test_polyfuncs.py
    |       ├── test_polymatrix.py
    |       ├── test_polyoptions.py
    |       ├── test_polyroots.py
    |       ├── test_polytools.py
    |       ├── test_polyutils.py
    |       ├── test_pythonrational.py
    |       ├── test_rationaltools.py
    |       ├── test_ring_series.py
    |       ├── test_rings.py
    |       ├── test_rootisolation.py
    |       ├── test_rootoftools.py
    |       ├── test_solvers.py
    |       ├── test_specialpolys.py
    |       ├── test_sqfreetools.py
    |       └── test_subresultants_qq_zz.py
    ├── printing
    |   ├── __init__.py
    |   ├── ccode.py
    |   ├── codeprinter.py
    |   ├── conventions.py
    |   ├── cxxcode.py
    |   ├── defaults.py
    |   ├── dot.py
    |   ├── fcode.py
    |   ├── glsl.py
    |   ├── gtk.py
    |   ├── jscode.py
    |   ├── julia.py
    |   ├── lambdarepr.py
    |   ├── latex.py
    |   ├── llvmjitcode.py
    |   ├── mathematica.py
    |   ├── mathml.py
    |   ├── octave.py
    |   ├── precedence.py
    |   ├── pretty
    |   |   ├── __init__.py
    |   |   ├── pretty.py
    |   |   ├── pretty_symbology.py
    |   |   ├── stringpict.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_pretty.py
    |   ├── preview.py
    |   ├── printer.py
    |   ├── pycode.py
    |   ├── python.py
    |   ├── rcode.py
    |   ├── repr.py
    |   ├── rust.py
    |   ├── str.py
    |   ├── tableform.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_ccode.py
    |   |   ├── test_codeprinter.py
    |   |   ├── test_conventions.py
    |   |   ├── test_cxxcode.py
    |   |   ├── test_dot.py
    |   |   ├── test_fcode.py
    |   |   ├── test_glsl.py
    |   |   ├── test_gtk.py
    |   |   ├── test_jscode.py
    |   |   ├── test_julia.py
    |   |   ├── test_lambdarepr.py
    |   |   ├── test_latex.py
    |   |   ├── test_llvmjit.py
    |   |   ├── test_mathematica.py
    |   |   ├── test_mathml.py
    |   |   ├── test_numpy.py
    |   |   ├── test_octave.py
    |   |   ├── test_precedence.py
    |   |   ├── test_preview.py
    |   |   ├── test_pycode.py
    |   |   ├── test_python.py
    |   |   ├── test_rcode.py
    |   |   ├── test_repr.py
    |   |   ├── test_rust.py
    |   |   ├── test_str.py
    |   |   ├── test_tableform.py
    |   |   └── test_theanocode.py
    |   ├── theanocode.py
    |   └── tree.py
    ├── release.py
    ├── sandbox
    |   ├── __init__.py
    |   ├── indexed_integrals.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_indexed_integrals.py
    ├── series
    |   ├── __init__.py
    |   ├── acceleration.py
    |   ├── approximants.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_limit.py
    |   |   └── bench_order.py
    |   ├── formal.py
    |   ├── fourier.py
    |   ├── gruntz.py
    |   ├── kauers.py
    |   ├── limits.py
    |   ├── limitseq.py
    |   ├── order.py
    |   ├── residues.py
    |   ├── sequences.py
    |   ├── series.py
    |   ├── series_class.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_approximants.py
    |       ├── test_demidovich.py
    |       ├── test_formal.py
    |       ├── test_fourier.py
    |       ├── test_gruntz.py
    |       ├── test_kauers.py
    |       ├── test_limits.py
    |       ├── test_limitseq.py
    |       ├── test_lseries.py
    |       ├── test_nseries.py
    |       ├── test_order.py
    |       ├── test_residues.py
    |       ├── test_sequences.py
    |       └── test_series.py
    ├── sets
    |   ├── __init__.py
    |   ├── conditionset.py
    |   ├── contains.py
    |   ├── fancysets.py
    |   ├── sets.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_conditionset.py
    |       ├── test_contains.py
    |       ├── test_fancysets.py
    |       └── test_sets.py
    ├── simplify
    |   ├── __init__.py
    |   ├── combsimp.py
    |   ├── cse_main.py
    |   ├── cse_opts.py
    |   ├── epathtools.py
    |   ├── fu.py
    |   ├── gammasimp.py
    |   ├── hyperexpand.py
    |   ├── hyperexpand_doc.py
    |   ├── powsimp.py
    |   ├── radsimp.py
    |   ├── ratsimp.py
    |   ├── simplify.py
    |   ├── sqrtdenest.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_combsimp.py
    |   |   ├── test_cse.py
    |   |   ├── test_epathtools.py
    |   |   ├── test_fu.py
    |   |   ├── test_function.py
    |   |   ├── test_gammasimp.py
    |   |   ├── test_hyperexpand.py
    |   |   ├── test_powsimp.py
    |   |   ├── test_radsimp.py
    |   |   ├── test_ratsimp.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_simplify.py
    |   |   ├── test_sqrtdenest.py
    |   |   ├── test_traversaltools.py
    |   |   └── test_trigsimp.py
    |   ├── traversaltools.py
    |   └── trigsimp.py
    ├── solvers
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_solvers.py
    |   ├── bivariate.py
    |   ├── decompogen.py
    |   ├── deutils.py
    |   ├── diophantine.py
    |   ├── inequalities.py
    |   ├── ode.py
    |   ├── pde.py
    |   ├── polysys.py
    |   ├── recurr.py
    |   ├── solvers.py
    |   ├── solveset.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constantsimp.py
    |       ├── test_decompogen.py
    |       ├── test_diophantine.py
    |       ├── test_inequalities.py
    |       ├── test_numeric.py
    |       ├── test_ode.py
    |       ├── test_pde.py
    |       ├── test_polysys.py
    |       ├── test_recurr.py
    |       ├── test_solvers.py
    |       └── test_solveset.py
    ├── stats
    |   ├── __init__.py
    |   ├── crv.py
    |   ├── crv_types.py
    |   ├── drv.py
    |   ├── drv_types.py
    |   ├── error_prop.py
    |   ├── frv.py
    |   ├── frv_types.py
    |   ├── rv.py
    |   ├── rv_interface.py
    |   ├── symbolic_probability.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_continuous_rv.py
    |       ├── test_discrete_rv.py
    |       ├── test_error_prop.py
    |       ├── test_finite_rv.py
    |       ├── test_mix.py
    |       ├── test_rv.py
    |       └── test_symbolic_probability.py
    ├── strategies
    |   ├── __init__.py
    |   ├── branch
    |   |   ├── __init__.py
    |   |   ├── core.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_core.py
    |   |   |   ├── test_tools.py
    |   |   |   └── test_traverse.py
    |   |   ├── tools.py
    |   |   └── traverse.py
    |   ├── core.py
    |   ├── rl.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_core.py
    |   |   ├── test_rl.py
    |   |   ├── test_strat.py
    |   |   ├── test_tools.py
    |   |   ├── test_traverse.py
    |   |   └── test_tree.py
    |   ├── tools.py
    |   ├── traverse.py
    |   ├── tree.py
    |   └── util.py
    ├── tensor
    |   ├── __init__.py
    |   ├── array
    |   |   ├── __init__.py
    |   |   ├── arrayop.py
    |   |   ├── dense_ndim_array.py
    |   |   ├── mutable_ndim_array.py
    |   |   ├── ndim_array.py
    |   |   ├── sparse_ndim_array.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_arrayop.py
    |   |       ├── test_immutable_ndim_array.py
    |   |       └── test_mutable_ndim_array.py
    |   ├── index_methods.py
    |   ├── indexed.py
    |   ├── tensor.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_index_methods.py
    |       ├── test_indexed.py
    |       └── test_tensor.py
    ├── this.py
    ├── unify
    |   ├── __init__.py
    |   ├── core.py
    |   ├── rewrite.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_sympy.py
    |   |   └── test_unify.py
    |   └── usympy.py
    ├── utilities
    |   ├── __init__.py
    |   ├── autowrap.py
    |   ├── benchmarking.py
    |   ├── codegen.py
    |   ├── decorator.py
    |   ├── enumerative.py
    |   ├── exceptions.py
    |   ├── iterables.py
    |   ├── lambdify.py
    |   ├── magic.py
    |   ├── mathml
    |   |   ├── __init__.py
    |   |   └── data
    |   ├── memoization.py
    |   ├── misc.py
    |   ├── pkgdata.py
    |   ├── pytest.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── source.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── diagnose_imports.py
    |   |   ├── test_autowrap.py
    |   |   ├── test_code_quality.py
    |   |   ├── test_codegen.py
    |   |   ├── test_codegen_julia.py
    |   |   ├── test_codegen_octave.py
    |   |   ├── test_codegen_rust.py
    |   |   ├── test_decorator.py
    |   |   ├── test_enumerative.py
    |   |   ├── test_iterables.py
    |   |   ├── test_lambdify.py
    |   |   ├── test_misc.py
    |   |   ├── test_module_imports.py
    |   |   ├── test_pickling.py
    |   |   ├── test_pytest.py
    |   |   ├── test_source.py
    |   |   ├── test_timeutils.py
    |   |   └── test_wester.py
    |   └── timeutils.py
    └── vector
        ├── __init__.py
        ├── basisdependent.py
        ├── coordsysrect.py
        ├── deloperator.py
        ├── dyadic.py
        ├── functions.py
        ├── operators.py
        ├── orienters.py
        ├── point.py
        ├── scalar.py
        ├── tests
        |   ├── __init__.py
        |   ├── test_coordsysrect.py
        |   ├── test_dyadic.py
        |   ├── test_field_functions.py
        |   ├── test_functions.py
        |   ├── test_operators.py
        |   ├── test_printing.py
        |   └── test_vector.py
        └── vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: .subs on coth(log(tan(x))) errors for certain integral values

Description:     >>> from sympy import *
    >>> x = Symbol('x')
    >>> e = coth(log(tan(x)))
    >>> print(e.subs(x, 2))
    ...
    File "C:\Users\E\Desktop\sympy-master\sympy\functions\elementary\hyperbolic.py", line 590, in eval
        if cotm is S.ComplexInfinity:
    NameError: name 'cotm' is not defined

Fails for 2, 3, 5, 6, 8, 9, 11, 12, 13, 15, 18, ... etc.

Patch information:
diff --git a/sympy/functions/elementary/hyperbolic.py b/sympy/functions/elementary/hyperbolic.py
index 2a4555d919..5fbb73c786 100644
--- a/sympy/functions/elementary/hyperbolic.py
+++ b/sympy/functions/elementary/hyperbolic.py
@@ -587,7 +587,7 @@ def eval(cls, arg):
                 x, m = _peeloff_ipi(arg)
                 if m:
                     cothm = coth(m)
-                    if cotm is S.ComplexInfinity:
+                    if cothm is S.ComplexInfinity:
                         return coth(x)
                     else: # cothm == 0
                         return tanh(x)


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `sympy/functions/elementary/tests/test_hyperbolic.py`.
Extra Requirements: 
Purpose: I need the content of the test file to find 3 relevant test cases as requested by the user.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: sympy/functions/elementary/tests/test_hyperbolic.py
Line number range: 1 - 937
Content:
1. from sympy import symbols, Symbol, sinh, nan, oo, zoo, pi, asinh, acosh, log, sqrt, \
2.     coth, I, cot, E, tanh, tan, cosh, cos, S, sin, Rational, atanh, acoth, \
3.     Integer, O, exp, sech, sec, csch, asech, acsch, acos, asin, expand_mul
4. 
5. from sympy.utilities.pytest import raises
6. 
7. 
8. def test_sinh():
9.     x, y = symbols('x,y')
10. 
11.     k = Symbol('k', integer=True)
12. 
13.     assert sinh(nan) == nan
14.     assert sinh(zoo) == nan
15. 
16.     assert sinh(oo) == oo
17.     assert sinh(-oo) == -oo
18. 
19.     assert sinh(0) == 0
20. 
21.     assert sinh(1) == sinh(1)
22.     assert sinh(-1) == -sinh(1)
23. 
24.     assert sinh(x) == sinh(x)
25.     assert sinh(-x) == -sinh(x)
26. 
27.     assert sinh(pi) == sinh(pi)
28.     assert sinh(-pi) == -sinh(pi)
29. 
30.     assert sinh(2**1024 * E) == sinh(2**1024 * E)
31.     assert sinh(-2**1024 * E) == -sinh(2**1024 * E)
32. 
33.     assert sinh(pi*I) == 0
34.     assert sinh(-pi*I) == 0
35.     assert sinh(2*pi*I) == 0
36.     assert sinh(-2*pi*I) == 0
37.     assert sinh(-3*10**73*pi*I) == 0
38.     assert sinh(7*10**103*pi*I) == 0
39. 
40.     assert sinh(pi*I/2) == I
41.     assert sinh(-pi*I/2) == -I
42.     assert sinh(5*pi*I/2) == I
43.     assert sinh(7*pi*I/2) == -I
44. 
45.     assert sinh(pi*I/3) == S.Half*sqrt(3)*I
46.     assert sinh(-2*pi*I/3) == -S.Half*sqrt(3)*I
47. 
48.     assert sinh(pi*I/4) == S.Half*sqrt(2)*I
49.     assert sinh(-pi*I/4) == -S.Half*sqrt(2)*I
50.     assert sinh(17*pi*I/4) == S.Half*sqrt(2)*I
51.     assert sinh(-3*pi*I/4) == -S.Half*sqrt(2)*I
52. 
53.     assert sinh(pi*I/6) == S.Half*I
54.     assert sinh(-pi*I/6) == -S.Half*I
55.     assert sinh(7*pi*I/6) == -S.Half*I
56.     assert sinh(-5*pi*I/6) == -S.Half*I
57. 
58.     assert sinh(pi*I/105) == sin(pi/105)*I
59.     assert sinh(-pi*I/105) == -sin(pi/105)*I
60. 
61.     assert sinh(2 + 3*I) == sinh(2 + 3*I)
62. 
63.     assert sinh(x*I) == sin(x)*I
64. 
65.     assert sinh(k*pi*I) == 0
66.     assert sinh(17*k*pi*I) == 0
67. 
68.     assert sinh(k*pi*I/2) == sin(k*pi/2)*I
69. 
70. 
71. def test_sinh_series():
72.     x = Symbol('x')
73.     assert sinh(x).series(x, 0, 10) == \
74.         x + x**3/6 + x**5/120 + x**7/5040 + x**9/362880 + O(x**10)
75. 
76. 
77. def test_cosh():
78.     x, y = symbols('x,y')
79. 
80.     k = Symbol('k', integer=True)
81. 
82.     assert cosh(nan) == nan
83.     assert cosh(zoo) == nan
84. 
85.     assert cosh(oo) == oo
86.     assert cosh(-oo) == oo
87. 
88.     assert cosh(0) == 1
89. 
90.     assert cosh(1) == cosh(1)
91.     assert cosh(-1) == cosh(1)
92. 
93.     assert cosh(x) == cosh(x)
94.     assert cosh(-x) == cosh(x)
95. 
96.     assert cosh(pi*I) == cos(pi)
97.     assert cosh(-pi*I) == cos(pi)
98. 
99.     assert cosh(2**1024 * E) == cosh(2**1024 * E)
100.     assert cosh(-2**1024 * E) == cosh(2**1024 * E)
101. 
102.     assert cosh(pi*I/2) == 0
103.     assert cosh(-pi*I/2) == 0
104.     assert cosh((-3*10**73 + 1)*pi*I/2) == 0
105.     assert cosh((7*10**103 + 1)*pi*I/2) == 0
106. 
107.     assert cosh(pi*I) == -1
108.     assert cosh(-pi*I) == -1
109.     assert cosh(5*pi*I) == -1
110.     assert cosh(8*pi*I) == 1
111. 
112.     assert cosh(pi*I/3) == S.Half
113.     assert cosh(-2*pi*I/3) == -S.Half
114. 
115.     assert cosh(pi*I/4) == S.Half*sqrt(2)
116.     assert cosh(-pi*I/4) == S.Half*sqrt(2)
117.     assert cosh(11*pi*I/4) == -S.Half*sqrt(2)
118.     assert cosh(-3*pi*I/4) == -S.Half*sqrt(2)
119. 
120.     assert cosh(pi*I/6) == S.Half*sqrt(3)
121.     assert cosh(-pi*I/6) == S.Half*sqrt(3)
122.     assert cosh(7*pi*I/6) == -S.Half*sqrt(3)
123.     assert cosh(-5*pi*I/6) == -S.Half*sqrt(3)
124. 
125.     assert cosh(pi*I/105) == cos(pi/105)
126.     assert cosh(-pi*I/105) == cos(pi/105)
127. 
128.     assert cosh(2 + 3*I) == cosh(2 + 3*I)
129. 
130.     assert cosh(x*I) == cos(x)
131. 
132.     assert cosh(k*pi*I) == cos(k*pi)
133.     assert cosh(17*k*pi*I) == cos(17*k*pi)
134. 
135.     assert cosh(k*pi) == cosh(k*pi)
136. 
137. 
138. def test_cosh_series():
139.     x = Symbol('x')
140.     assert cosh(x).series(x, 0, 10) == \
141.         1 + x**2/2 + x**4/24 + x**6/720 + x**8/40320 + O(x**10)
142. 
143. 
144. def test_tanh():
145.     x, y = symbols('x,y')
146. 
147.     k = Symbol('k', integer=True)
148. 
149.     assert tanh(nan) == nan
150.     assert tanh(zoo) == nan
151. 
152.     assert tanh(oo) == 1
153.     assert tanh(-oo) == -1
154. 
155.     assert tanh(0) == 0
156. 
157.     assert tanh(1) == tanh(1)
158.     assert tanh(-1) == -tanh(1)
159. 
160.     assert tanh(x) == tanh(x)
161.     assert tanh(-x) == -tanh(x)
162. 
163.     assert tanh(pi) == tanh(pi)
164.     assert tanh(-pi) == -tanh(pi)
165. 
166.     assert tanh(2**1024 * E) == tanh(2**1024 * E)
167.     assert tanh(-2**1024 * E) == -tanh(2**1024 * E)
168. 
169.     assert tanh(pi*I) == 0
170.     assert tanh(-pi*I) == 0
171.     assert tanh(2*pi*I) == 0
172.     assert tanh(-2*pi*I) == 0
173.     assert tanh(-3*10**73*pi*I) == 0
174.     assert tanh(7*10**103*pi*I) == 0
175. 
176.     assert tanh(pi*I/2) == tanh(pi*I/2)
177.     assert tanh(-pi*I/2) == -tanh(pi*I/2)
178.     assert tanh(5*pi*I/2) == tanh(5*pi*I/2)
179.     assert tanh(7*pi*I/2) == tanh(7*pi*I/2)
180. 
181.     assert tanh(pi*I/3) == sqrt(3)*I
182.     assert tanh(-2*pi*I/3) == sqrt(3)*I
183. 
184.     assert tanh(pi*I/4) == I
185.     assert tanh(-pi*I/4) == -I
186.     assert tanh(17*pi*I/4) == I
187.     assert tanh(-3*pi*I/4) == I
188. 
189.     assert tanh(pi*I/6) == I/sqrt(3)
190.     assert tanh(-pi*I/6) == -I/sqrt(3)
191.     assert tanh(7*pi*I/6) == I/sqrt(3)
192.     assert tanh(-5*pi*I/6) == I/sqrt(3)
193. 
194.     assert tanh(pi*I/105) == tan(pi/105)*I
195.     assert tanh(-pi*I/105) == -tan(pi/105)*I
196. 
197.     assert tanh(2 + 3*I) == tanh(2 + 3*I)
198. 
199.     assert tanh(x*I) == tan(x)*I
200. 
201.     assert tanh(k*pi*I) == 0
202.     assert tanh(17*k*pi*I) == 0
203. 
204.     assert tanh(k*pi*I/2) == tan(k*pi/2)*I
205. 
206. 
207. def test_tanh_series():
208.     x = Symbol('x')
209.     assert tanh(x).series(x, 0, 10) == \
210.         x - x**3/3 + 2*x**5/15 - 17*x**7/315 + 62*x**9/2835 + O(x**10)
211. 
212. 
213. def test_coth():
214.     x, y = symbols('x,y')
215. 
216.     k = Symbol('k', integer=True)
217. 
218.     assert coth(nan) == nan
219.     assert coth(zoo) == nan
220. 
221.     assert coth(oo) == 1
222.     assert coth(-oo) == -1
223. 
224.     assert coth(0) == coth(0)
225.     assert coth(0) == zoo
226.     assert coth(1) == coth(1)
227.     assert coth(-1) == -coth(1)
228. 
229.     assert coth(x) == coth(x)
230.     assert coth(-x) == -coth(x)
231. 
232.     assert coth(pi*I) == -I*cot(pi)
233.     assert coth(-pi*I) == cot(pi)*I
234. 
235.     assert coth(2**1024 * E) == coth(2**1024 * E)
236.     assert coth(-2**1024 * E) == -coth(2**1024 * E)
237. 
238.     assert coth(pi*I) == -I*cot(pi)
239.     assert coth(-pi*I) == I*cot(pi)
240.     assert coth(2*pi*I) == -I*cot(2*pi)
241.     assert coth(-2*pi*I) == I*cot(2*pi)
242.     assert coth(-3*10**73*pi*I) == I*cot(3*10**73*pi)
243.     assert coth(7*10**103*pi*I) == -I*cot(7*10**103*pi)
244. 
245.     assert coth(pi*I/2) == 0
246.     assert coth(-pi*I/2) == 0
247.     assert coth(5*pi*I/2) == 0
248.     assert coth(7*pi*I/2) == 0
249. 
250.     assert coth(pi*I/3) == -I/sqrt(3)
251.     assert coth(-2*pi*I/3) == -I/sqrt(3)
252. 
253.     assert coth(pi*I/4) == -I
254.     assert coth(-pi*I/4) == I
255.     assert coth(17*pi*I/4) == -I
256.     assert coth(-3*pi*I/4) == -I
257. 
258.     assert coth(pi*I/6) == -sqrt(3)*I
259.     assert coth(-pi*I/6) == sqrt(3)*I
260.     assert coth(7*pi*I/6) == -sqrt(3)*I
261.     assert coth(-5*pi*I/6) == -sqrt(3)*I
262. 
263.     assert coth(pi*I/105) == -cot(pi/105)*I
264.     assert coth(-pi*I/105) == cot(pi/105)*I
265. 
266.     assert coth(2 + 3*I) == coth(2 + 3*I)
267. 
268.     assert coth(x*I) == -cot(x)*I
269. 
270.     assert coth(k*pi*I) == -cot(k*pi)*I
271.     assert coth(17*k*pi*I) == -cot(17*k*pi)*I
272. 
273.     assert coth(k*pi*I) == -cot(k*pi)*I
274. 
275. 
276. def test_coth_series():
277.     x = Symbol('x')
278.     assert coth(x).series(x, 0, 8) == \
279.         1/x + x/3 - x**3/45 + 2*x**5/945 - x**7/4725 + O(x**8)
280. 
281. 
282. def test_csch():
283.     x, y = symbols('x,y')
284. 
285.     k = Symbol('k', integer=True)
286.     n = Symbol('n', positive=True)
287. 
288.     assert csch(nan) == nan
289.     assert csch(zoo) == nan
290. 
291.     assert csch(oo) == 0
292.     assert csch(-oo) == 0
293. 
294.     assert csch(0) == zoo
295. 
296.     assert csch(-1) == -csch(1)
297. 
298.     assert csch(-x) == -csch(x)
299.     assert csch(-pi) == -csch(pi)
300.     assert csch(-2**1024 * E) == -csch(2**1024 * E)
301. 
302.     assert csch(pi*I) == zoo
303.     assert csch(-pi*I) == zoo
304.     assert csch(2*pi*I) == zoo
305.     assert csch(-2*pi*I) == zoo
306.     assert csch(-3*10**73*pi*I) == zoo
307.     assert csch(7*10**103*pi*I) == zoo
308. 
309.     assert csch(pi*I/2) == -I
310.     assert csch(-pi*I/2) == I
311.     assert csch(5*pi*I/2) == -I
312.     assert csch(7*pi*I/2) == I
313. 
314.     assert csch(pi*I/3) == -2/sqrt(3)*I
315.     assert csch(-2*pi*I/3) == 2/sqrt(3)*I
316. 
317.     assert csch(pi*I/4) == -sqrt(2)*I
318.     assert csch(-pi*I/4) == sqrt(2)*I
319.     assert csch(7*pi*I/4) == sqrt(2)*I
320.     assert csch(-3*pi*I/4) == sqrt(2)*I
321. 
322.     assert csch(pi*I/6) == -2*I
323.     assert csch(-pi*I/6) == 2*I
324.     assert csch(7*pi*I/6) == 2*I
325.     assert csch(-7*pi*I/6) == -2*I
326.     assert csch(-5*pi*I/6) == 2*I
327. 
328.     assert csch(pi*I/105) == -1/sin(pi/105)*I
329.     assert csch(-pi*I/105) == 1/sin(pi/105)*I
330. 
331.     assert csch(x*I) == -1/sin(x)*I
332. 
333.     assert csch(k*pi*I) == zoo
334.     assert csch(17*k*pi*I) == zoo
335. 
336.     assert csch(k*pi*I/2) == -1/sin(k*pi/2)*I
337. 
338.     assert csch(n).is_real is True
339. 
340. 
341. def test_csch_series():
342.     x = Symbol('x')
343.     assert csch(x).series(x, 0, 10) == \
344.        1/ x - x/6 + 7*x**3/360 - 31*x**5/15120 + 127*x**7/604800 \
345.           - 73*x**9/3421440 + O(x**10)
346. 
347. 
348. def test_sech():
349.     x, y = symbols('x, y')
350. 
351.     k = Symbol('k', integer=True)
352.     n = Symbol('n', positive=True)
353. 
354.     assert sech(nan) == nan
355.     assert sech(zoo) == nan
356. 
357.     assert sech(oo) == 0
358.     assert sech(-oo) == 0
359. 
360.     assert sech(0) == 1
361. 
362.     assert sech(-1) == sech(1)
363.     assert sech(-x) == sech(x)
364. 
365.     assert sech(pi*I) == sec(pi)
366. 
367.     assert sech(-pi*I) == sec(pi)
368.     assert sech(-2**1024 * E) == sech(2**1024 * E)
369. 
370.     assert sech(pi*I/2) == zoo
371.     assert sech(-pi*I/2) == zoo
372.     assert sech((-3*10**73 + 1)*pi*I/2) == zoo
373.     assert sech((7*10**103 + 1)*pi*I/2) == zoo
374. 
375.     assert sech(pi*I) == -1
376.     assert sech(-pi*I) == -1
377.     assert sech(5*pi*I) == -1
378.     assert sech(8*pi*I) == 1
379. 
380.     assert sech(pi*I/3) == 2
381.     assert sech(-2*pi*I/3) == -2
382. 
383.     assert sech(pi*I/4) == sqrt(2)
384.     assert sech(-pi*I/4) == sqrt(2)
385.     assert sech(5*pi*I/4) == -sqrt(2)
386.     assert sech(-5*pi*I/4) == -sqrt(2)
387. 
388.     assert sech(pi*I/6) == 2/sqrt(3)
389.     assert sech(-pi*I/6) == 2/sqrt(3)
390.     assert sech(7*pi*I/6) == -2/sqrt(3)
391.     assert sech(-5*pi*I/6) == -2/sqrt(3)
392. 
393.     assert sech(pi*I/105) == 1/cos(pi/105)
394.     assert sech(-pi*I/105) == 1/cos(pi/105)
395. 
396.     assert sech(x*I) == 1/cos(x)
397. 
398.     assert sech(k*pi*I) == 1/cos(k*pi)
399.     assert sech(17*k*pi*I) == 1/cos(17*k*pi)
400. 
401.     assert sech(n).is_real is True
402. 
403. 
404. def test_sech_series():
405.     x = Symbol('x')
406.     assert sech(x).series(x, 0, 10) == \
407.         1 - x**2/2 + 5*x**4/24 - 61*x**6/720 + 277*x**8/8064 + O(x**10)
408. 
409. 
410. def test_asinh():
411.     x, y = symbols('x,y')
412.     assert asinh(x) == asinh(x)
413.     assert asinh(-x) == -asinh(x)
414. 
415.     #at specific points
416.     assert asinh(nan) == nan
417.     assert asinh( 0) == 0
418.     assert asinh(+1) == log(sqrt(2) + 1)
419. 
420.     assert asinh(-1) == log(sqrt(2) - 1)
421.     assert asinh(I) == pi*I/2
422.     assert asinh(-I) == -pi*I/2
423.     assert asinh(I/2) == pi*I/6
424.     assert asinh(-I/2) == -pi*I/6
425. 
426.     # at infinites
427.     assert asinh(oo) == oo
428.     assert asinh(-oo) == -oo
429. 
430.     assert asinh(I*oo) == oo
431.     assert asinh(-I *oo) == -oo
432. 
433.     assert asinh(zoo) == zoo
434. 
435.     #properties
436.     assert asinh(I *(sqrt(3) - 1)/(2**(S(3)/2))) == pi*I/12
437.     assert asinh(-I *(sqrt(3) - 1)/(2**(S(3)/2))) == -pi*I/12
438. 
439.     assert asinh(I*(sqrt(5) - 1)/4) == pi*I/10
440.     assert asinh(-I*(sqrt(5) - 1)/4) == -pi*I/10
441. 
442.     assert asinh(I*(sqrt(5) + 1)/4) == 3*pi*I/10
443.     assert asinh(-I*(sqrt(5) + 1)/4) == -3*pi*I/10
444. 
445. 
446. def test_asinh_rewrite():
447.     x = Symbol('x')
448.     assert asinh(x).rewrite(log) == log(x + sqrt(x**2 + 1))
449. 
450. 
451. def test_asinh_series():
452.     x = Symbol('x')
453.     assert asinh(x).series(x, 0, 8) == \
454.         x - x**3/6 + 3*x**5/40 - 5*x**7/112 + O(x**8)
455.     t5 = asinh(x).taylor_term(5, x)
456.     assert t5 == 3*x**5/40
457.     assert asinh(x).taylor_term(7, x, t5, 0) == -5*x**7/112
458. 
459. 
460. def test_acosh():
461.     x = Symbol('x')
462. 
463.     assert acosh(-x) == acosh(-x)
464. 
465.     #at specific points
466.     assert acosh(1) == 0
467.     assert acosh(-1) == pi*I
468.     assert acosh(0) == I*pi/2
469.     assert acosh(Rational(1, 2)) == I*pi/3
470.     assert acosh(Rational(-1, 2)) == 2*pi*I/3
471. 
472.     # at infinites
473.     assert acosh(oo) == oo
474.     assert acosh(-oo) == oo
475. 
476.     assert acosh(I*oo) == oo
477.     assert acosh(-I*oo) == oo
478. 
479.     assert acosh(zoo) == oo
480. 
481.     assert acosh(I) == log(I*(1 + sqrt(2)))
482.     assert acosh(-I) == log(-I*(1 + sqrt(2)))
483.     assert acosh((sqrt(3) - 1)/(2*sqrt(2))) == 5*pi*I/12
484.     assert acosh(-(sqrt(3) - 1)/(2*sqrt(2))) == 7*pi*I/12
485.     assert acosh(sqrt(2)/2) == I*pi/4
486.     assert acosh(-sqrt(2)/2) == 3*I*pi/4
487.     assert acosh(sqrt(3)/2) == I*pi/6
488.     assert acosh(-sqrt(3)/2) == 5*I*pi/6
489.     assert acosh(sqrt(2 + sqrt(2))/2) == I*pi/8
490.     assert acosh(-sqrt(2 + sqrt(2))/2) == 7*I*pi/8
491.     assert acosh(sqrt(2 - sqrt(2))/2) == 3*I*pi/8
492.     assert acosh(-sqrt(2 - sqrt(2))/2) == 5*I*pi/8
493.     assert acosh((1 + sqrt(3))/(2*sqrt(2))) == I*pi/12
494.     assert acosh(-(1 + sqrt(3))/(2*sqrt(2))) == 11*I*pi/12
495.     assert acosh((sqrt(5) + 1)/4) == I*pi/5
496.     assert acosh(-(sqrt(5) + 1)/4) == 4*I*pi/5
497. 
498.     assert str(acosh(5*I).n(6)) == '2.31244 + 1.5708*I'
499.     assert str(acosh(-5*I).n(6)) == '2.31244 - 1.5708*I'
500. 
501. 
502. def test_acosh_rewrite():
503.     x = Symbol('x')
504.     assert acosh(x).rewrite(log) == log(x + sqrt(x - 1)*sqrt(x + 1))
505. 
506. 
507. def test_acosh_series():
508.     x = Symbol('x')
509.     assert acosh(x).series(x, 0, 8) == \
510.         -I*x + pi*I/2 - I*x**3/6 - 3*I*x**5/40 - 5*I*x**7/112 + O(x**8)
511.     t5 = acosh(x).taylor_term(5, x)
512.     assert t5 == - 3*I*x**5/40
513.     assert acosh(x).taylor_term(7, x, t5, 0) == - 5*I*x**7/112
514. 
515. 
516. def test_asech():
517.     x = Symbol('x')
518. 
519.     assert asech(-x) == asech(-x)
520. 
521.     # values at fixed points
522.     assert asech(1) == 0
523.     assert asech(-1) == pi*I
524.     assert asech(0) == oo
525.     assert asech(2) == I*pi/3
526.     assert asech(-2) == 2*I*pi / 3
527. 
528.     # at infinites
529.     assert asech(oo) == I*pi/2
530.     assert asech(-oo) == I*pi/2
531.     assert asech(zoo) == nan
532. 
533.     assert asech(I) == log(1 + sqrt(2)) - I*pi/2
534.     assert asech(-I) == log(1 + sqrt(2)) + I*pi/2
535.     assert asech(sqrt(2) - sqrt(6)) == 11*I*pi / 12
536.     assert asech(sqrt(2 - 2/sqrt(5))) == I*pi / 10
537.     assert asech(-sqrt(2 - 2/sqrt(5))) == 9*I*pi / 10
538.     assert asech(2 / sqrt(2 + sqrt(2))) == I*pi / 8
539.     assert asech(-2 / sqrt(2 + sqrt(2))) == 7*I*pi / 8
540.     assert asech(sqrt(5) - 1) == I*pi / 5
541.     assert asech(1 - sqrt(5)) == 4*I*pi / 5
542.     assert asech(-sqrt(2*(2 + sqrt(2)))) == 5*I*pi / 8
543. 
544.     # properties
545.     # asech(x) == acosh(1/x)
546.     assert asech(sqrt(2)) == acosh(1/sqrt(2))
547.     assert asech(2/sqrt(3)) == acosh(sqrt(3)/2)
548.     assert asech(2/sqrt(2 + sqrt(2))) == acosh(sqrt(2 + sqrt(2))/2)
549.     assert asech(S(2)) == acosh(1/S(2))
550. 
551.     # asech(x) == I*acos(1/x)
552.     # (Note: the exact formula is asech(x) == +/- I*acos(1/x))
553.     assert asech(-sqrt(2)) == I*acos(-1/sqrt(2))
554.     assert asech(-2/sqrt(3)) == I*acos(-sqrt(3)/2)
555.     assert asech(-S(2)) == I*acos(-S.Half)
556.     assert asech(-2/sqrt(2)) == I*acos(-sqrt(2)/2)
557. 
558.     # sech(asech(x)) / x == 1
559.     assert expand_mul(sech(asech(sqrt(6) - sqrt(2))) / (sqrt(6) - sqrt(2))) == 1
560.     assert expand_mul(sech(asech(sqrt(6) + sqrt(2))) / (sqrt(6) + sqrt(2))) == 1
561.     assert (sech(asech(sqrt(2 + 2/sqrt(5)))) / (sqrt(2 + 2/sqrt(5)))).simplify() == 1
562.     assert (sech(asech(-sqrt(2 + 2/sqrt(5)))) / (-sqrt(2 + 2/sqrt(5)))).simplify() == 1
563.     assert (sech(asech(sqrt(2*(2 + sqrt(2))))) / (sqrt(2*(2 + sqrt(2))))).simplify() == 1
564.     assert expand_mul(sech(asech((1 + sqrt(5)))) / ((1 + sqrt(5)))) == 1
565.     assert expand_mul(sech(asech((-1 - sqrt(5)))) / ((-1 - sqrt(5)))) == 1
566.     assert expand_mul(sech(asech((-sqrt(6) - sqrt(2)))) / ((-sqrt(6) - sqrt(2)))) == 1
567. 
568.     # numerical evaluation
569.     assert str(asech(5*I).n(6)) == '0.19869 - 1.5708*I'
570.     assert str(asech(-5*I).n(6)) == '0.19869 + 1.5708*I'
571. 
572. 
573. def test_asech_series():
574.     x = Symbol('x')
575.     t6 = asech(x).expansion_term(6, x)
576.     assert t6 == -5*x**6/96
577.     assert asech(x).expansion_term(8, x, t6, 0) == -35*x**8/1024
578. 
579. 
580. def test_asech_rewrite():
581.     x = Symbol('x')
582.     assert asech(x).rewrite(log) == log(1/x + sqrt(1/x - 1) * sqrt(1/x + 1))
583. 
584. 
585. def test_acsch():
586.     x = Symbol('x')
587. 
588.     assert acsch(-x) == acsch(-x)
589.     assert acsch(x) == -acsch(-x)
590. 
591.     # values at fixed points
592.     assert acsch(1) == log(1 + sqrt(2))
593.     assert acsch(-1) == - log(1 + sqrt(2))
594.     assert acsch(0) == zoo
595.     assert acsch(2) == log((1+sqrt(5))/2)
596.     assert acsch(-2) == - log((1+sqrt(5))/2)
597. 
598.     assert acsch(I) == - I*pi/2
599.     assert acsch(-I) == I*pi/2
600.     assert acsch(-I*(sqrt(6) + sqrt(2))) == I*pi / 12
601.     assert acsch(I*(sqrt(2) + sqrt(6))) == -I*pi / 12
602.     assert acsch(-I*(1 + sqrt(5))) == I*pi / 10
603.     assert acsch(I*(1 + sqrt(5))) == -I*pi / 10
604.     assert acsch(-I*2 / sqrt(2 - sqrt(2))) == I*pi / 8
605.     assert acsch(I*2 / sqrt(2 - sqrt(2))) == -I*pi / 8
606.     assert acsch(-I*2) == I*pi / 6
607.     assert acsch(I*2) == -I*pi / 6
608.     assert acsch(-I*sqrt(2 + 2/sqrt(5))) == I*pi / 5
609.     assert acsch(I*sqrt(2 + 2/sqrt(5))) == -I*pi / 5
610.     assert acsch(-I*sqrt(2)) == I*pi / 4
611.     assert acsch(I*sqrt(2)) == -I*pi / 4
612.     assert acsch(-I*(sqrt(5)-1)) == 3*I*pi / 10
613.     assert acsch(I*(sqrt(5)-1)) == -3*I*pi / 10
614.     assert acsch(-I*2 / sqrt(3)) == I*pi / 3
615.     assert acsch(I*2 / sqrt(3)) == -I*pi / 3
616.     assert acsch(-I*2 / sqrt(2 + sqrt(2))) == 3*I*pi / 8
617.     assert acsch(I*2 / sqrt(2 + sqrt(2))) == -3*I*pi / 8
618.     assert acsch(-I*sqrt(2 - 2/sqrt(5))) == 2*I*pi / 5
619.     assert acsch(I*sqrt(2 - 2/sqrt(5))) == -2*I*pi / 5
620.     assert acsch(-I*(sqrt(6) - sqrt(2))) == 5*I*pi / 12
621.     assert acsch(I*(sqrt(6) - sqrt(2))) == -5*I*pi / 12
622. 
623.     # properties
624.     # acsch(x) == asinh(1/x)
625.     assert acsch(-I*sqrt(2)) == asinh(I/sqrt(2))
626.     assert acsch(-I*2 / sqrt(3)) == asinh(I*sqrt(3) / 2)
627. 
628.     # acsch(x) == -I*asin(I/x)
629.     assert acsch(-I*sqrt(2)) == -I*asin(-1/sqrt(2))
630.     assert acsch(-I*2 / sqrt(3)) == -I*asin(-sqrt(3)/2)
631. 
632.     # csch(acsch(x)) / x == 1
633.     assert expand_mul(csch(acsch(-I*(sqrt(6) + sqrt(2)))) / (-I*(sqrt(6) + sqrt(2)))) == 1
634.     assert expand_mul(csch(acsch(I*(1 + sqrt(5)))) / ((I*(1 + sqrt(5))))) == 1
635.     assert (csch(acsch(I*sqrt(2 - 2/sqrt(5)))) / (I*sqrt(2 - 2/sqrt(5)))).simplify() == 1
636.     assert (csch(acsch(-I*sqrt(2 - 2/sqrt(5)))) / (-I*sqrt(2 - 2/sqrt(5)))).simplify() == 1
637. 
638.     # numerical evaluation
639.     assert str(acsch(5*I+1).n(6)) == '0.0391819 - 0.193363*I'
640.     assert str(acsch(-5*I+1).n(6)) == '0.0391819 + 0.193363*I'
641. 
642. 
643. def test_acsch_infinities():
644.     assert acsch(oo) == 0
645.     assert acsch(-oo) == 0
646.     assert acsch(zoo) == 0
647. 
648. 
649. def test_acsch_rewrite():
650.     x = Symbol('x')
651.     assert acsch(x).rewrite(log) == log(1/x + sqrt(1/x**2 + 1))
652. 
653. 
654. def test_atanh():
655.     x = Symbol('x')
656. 
657.     #at specific points
658.     assert atanh(0) == 0
659.     assert atanh(I) == I*pi/4
660.     assert atanh(-I) == -I*pi/4
661.     assert atanh(1) == oo
662.     assert atanh(-1) == -oo
663. 
664.     # at infinites
665.     assert atanh(oo) == -I*pi/2
666.     assert atanh(-oo) == I*pi/2
667. 
668.     assert atanh(I*oo) == I*pi/2
669.     assert atanh(-I*oo) == -I*pi/2
670. 
671.     assert atanh(zoo) == nan
672. 
673.     #properties
674.     assert atanh(-x) == -atanh(x)
675. 
676.     assert atanh(I/sqrt(3)) == I*pi/6
677.     assert atanh(-I/sqrt(3)) == -I*pi/6
678.     assert atanh(I*sqrt(3)) == I*pi/3
679.     assert atanh(-I*sqrt(3)) == -I*pi/3
680.     assert atanh(I*(1 + sqrt(2))) == 3*pi*I/8
681.     assert atanh(I*(sqrt(2) - 1)) == pi*I/8
682.     assert atanh(I*(1 - sqrt(2))) == -pi*I/8
683.     assert atanh(-I*(1 + sqrt(2))) == -3*pi*I/8
684.     assert atanh(I*sqrt(5 + 2*sqrt(5))) == 2*I*pi/5
685.     assert atanh(-I*sqrt(5 + 2*sqrt(5))) == -2*I*pi/5
686.     assert atanh(I*(2 - sqrt(3))) == pi*I/12
687.     assert atanh(I*(sqrt(3) - 2)) == -pi*I/12
688.     assert atanh(oo) == -I*pi/2
689. 
690. 
691. def test_atanh_rewrite():
692.     x = Symbol('x')
693.     assert atanh(x).rewrite(log) == (log(1 + x) - log(1 - x)) / 2
694. 
695. 
696. def test_atanh_series():
697.     x = Symbol('x')
698.     assert atanh(x).series(x, 0, 10) == \
699.         x + x**3/3 + x**5/5 + x**7/7 + x**9/9 + O(x**10)
700. 
701. 
702. def test_acoth():
703.     x = Symbol('x')
704. 
705.     #at specific points
706.     assert acoth(0) == I*pi/2
707.     assert acoth(I) == -I*pi/4
708.     assert acoth(-I) == I*pi/4
709.     assert acoth(1) == oo
710.     assert acoth(-1) == -oo
711. 
712.     # at infinites
713.     assert acoth(oo) == 0
714.     assert acoth(-oo) == 0
715.     assert acoth(I*oo) == 0
716.     assert acoth(-I*oo) == 0
717.     assert acoth(zoo) == 0
718. 
719.     #properties
720.     assert acoth(-x) == -acoth(x)
721. 
722.     assert acoth(I/sqrt(3)) == -I*pi/3
723.     assert acoth(-I/sqrt(3)) == I*pi/3
724.     assert acoth(I*sqrt(3)) == -I*pi/6
725.     assert acoth(-I*sqrt(3)) == I*pi/6
726.     assert acoth(I*(1 + sqrt(2))) == -pi*I/8
727.     assert acoth(-I*(sqrt(2) + 1)) == pi*I/8
728.     assert acoth(I*(1 - sqrt(2))) == 3*pi*I/8
729.     assert acoth(I*(sqrt(2) - 1)) == -3*pi*I/8
730.     assert acoth(I*sqrt(5 + 2*sqrt(5))) == -I*pi/10
731.     assert acoth(-I*sqrt(5 + 2*sqrt(5))) == I*pi/10
732.     assert acoth(I*(2 + sqrt(3))) == -pi*I/12
733.     assert acoth(-I*(2 + sqrt(3))) == pi*I/12
734.     assert acoth(I*(2 - sqrt(3))) == -5*pi*I/12
735.     assert acoth(I*(sqrt(3) - 2)) == 5*pi*I/12
736. 
737. 
738. def test_acoth_rewrite():
739.     x = Symbol('x')
740.     assert acoth(x).rewrite(log) == (log(1 + 1/x) - log(1 - 1/x)) / 2
741. 
742. 
743. def test_acoth_series():
744.     x = Symbol('x')
745.     assert acoth(x).series(x, 0, 10) == \
746.         I*pi/2 + x + x**3/3 + x**5/5 + x**7/7 + x**9/9 + O(x**10)
747. 
748. 
749. def test_inverses():
750.     x = Symbol('x')
751.     assert sinh(x).inverse() == asinh
752.     raises(AttributeError, lambda: cosh(x).inverse())
753.     assert tanh(x).inverse() == atanh
754.     assert coth(x).inverse() == acoth
755.     assert asinh(x).inverse() == sinh
756.     assert acosh(x).inverse() == cosh
757.     assert atanh(x).inverse() == tanh
758.     assert acoth(x).inverse() == coth
759.     assert asech(x).inverse() == sech
760.     assert acsch(x).inverse() == csch
761. 
762. 
763. def test_leading_term():
764.     x = Symbol('x')
765.     assert cosh(x).as_leading_term(x) == 1
766.     assert coth(x).as_leading_term(x) == 1/x
767.     assert acosh(x).as_leading_term(x) == I*pi/2
768.     assert acoth(x).as_leading_term(x) == I*pi/2
769.     for func in [sinh, tanh, asinh, atanh]:
770.         assert func(x).as_leading_term(x) == x
771.     for func in [sinh, cosh, tanh, coth, asinh, acosh, atanh, acoth]:
772.         for arg in (1/x, S.Half):
773.             eq = func(arg)
774.             assert eq.as_leading_term(x) == eq
775.     for func in [csch, sech]:
776.         eq = func(S.Half)
777.         assert eq.as_leading_term(x) == eq
778. 
779. 
780. def test_complex():
781.     a, b = symbols('a,b', real=True)
782.     z = a + b*I
783.     for func in [sinh, cosh, tanh, coth, sech, csch]:
784.         assert func(z).conjugate() == func(a - b*I)
785.     for deep in [True, False]:
786.         assert sinh(z).expand(
787.             complex=True, deep=deep) == sinh(a)*cos(b) + I*cosh(a)*sin(b)
788.         assert cosh(z).expand(
789.             complex=True, deep=deep) == cosh(a)*cos(b) + I*sinh(a)*sin(b)
790.         assert tanh(z).expand(complex=True, deep=deep) == sinh(a)*cosh(
791.             a)/(cos(b)**2 + sinh(a)**2) + I*sin(b)*cos(b)/(cos(b)**2 + sinh(a)**2)
792.         assert coth(z).expand(complex=True, deep=deep) == sinh(a)*cosh(
793.             a)/(sin(b)**2 + sinh(a)**2) - I*sin(b)*cos(b)/(sin(b)**2 + sinh(a)**2)
794.         assert csch(z).expand(complex=True, deep=deep) == cos(b) * sinh(a) / (sin(b)**2\
795.             *cosh(a)**2 + cos(b)**2 * sinh(a)**2) - I*sin(b) * cosh(a) / (sin(b)**2\
796.             *cosh(a)**2 + cos(b)**2 * sinh(a)**2)
797.         assert sech(z).expand(complex=True, deep=deep) == cos(b) * cosh(a) / (sin(b)**2\
798.             *sinh(a)**2 + cos(b)**2 * cosh(a)**2) - I*sin(b) * sinh(a) / (sin(b)**2\
799.             *sinh(a)**2 + cos(b)**2 * cosh(a)**2)
800. 
801. 
802. def test_complex_2899():
803.     a, b = symbols('a,b', real=True)
804.     for deep in [True, False]:
805.         for func in [sinh, cosh, tanh, coth]:
806.             assert func(a).expand(complex=True, deep=deep) == func(a)
807. 
808. 
809. def test_simplifications():
810.     x = Symbol('x')
811.     assert sinh(asinh(x)) == x
812.     assert sinh(acosh(x)) == sqrt(x - 1) * sqrt(x + 1)
813.     assert sinh(atanh(x)) == x/sqrt(1 - x**2)
814.     assert sinh(acoth(x)) == 1/(sqrt(x - 1) * sqrt(x + 1))
815. 
816.     assert cosh(asinh(x)) == sqrt(1 + x**2)
817.     assert cosh(acosh(x)) == x
818.     assert cosh(atanh(x)) == 1/sqrt(1 - x**2)
819.     assert cosh(acoth(x)) == x/(sqrt(x - 1) * sqrt(x + 1))
820. 
821.     assert tanh(asinh(x)) == x/sqrt(1 + x**2)
822.     assert tanh(acosh(x)) == sqrt(x - 1) * sqrt(x + 1) / x
823.     assert tanh(atanh(x)) == x
824.     assert tanh(acoth(x)) == 1/x
825. 
826.     assert coth(asinh(x)) == sqrt(1 + x**2)/x
827.     assert coth(acosh(x)) == x/(sqrt(x - 1) * sqrt(x + 1))
828.     assert coth(atanh(x)) == 1/x
829.     assert coth(acoth(x)) == x
830. 
831.     assert csch(asinh(x)) == 1/x
832.     assert csch(acosh(x)) == 1/(sqrt(x - 1) * sqrt(x + 1))
833.     assert csch(atanh(x)) == sqrt(1 - x**2)/x
834.     assert csch(acoth(x)) == sqrt(x - 1) * sqrt(x + 1)
835. 
836.     assert sech(asinh(x)) == 1/sqrt(1 + x**2)
837.     assert sech(acosh(x)) == 1/x
838.     assert sech(atanh(x)) == sqrt(1 - x**2)
839.     assert sech(acoth(x)) == sqrt(x - 1) * sqrt(x + 1)/x
840. 
841. 
842. def test_issue_4136():
843.     assert cosh(asinh(Integer(3)/2)) == sqrt(Integer(13)/4)
844. 
845. 
846. def test_sinh_rewrite():
847.     x = Symbol('x')
848.     assert sinh(x).rewrite(exp) == (exp(x) - exp(-x))/2 \
849.         == sinh(x).rewrite('tractable')
850.     assert sinh(x).rewrite(cosh) == -I*cosh(x + I*pi/2)
851.     tanh_half = tanh(S.Half*x)
852.     assert sinh(x).rewrite(tanh) == 2*tanh_half/(1 - tanh_half**2)
853.     coth_half = coth(S.Half*x)
854.     assert sinh(x).rewrite(coth) == 2*coth_half/(coth_half**2 - 1)
855. 
856. 
857. def test_cosh_rewrite():
858.     x = Symbol('x')
859.     assert cosh(x).rewrite(exp) == (exp(x) + exp(-x))/2 \
860.         == cosh(x).rewrite('tractable')
861.     assert cosh(x).rewrite(sinh) == -I*sinh(x + I*pi/2)
862.     tanh_half = tanh(S.Half*x)**2
863.     assert cosh(x).rewrite(tanh) == (1 + tanh_half)/(1 - tanh_half)
864.     coth_half = coth(S.Half*x)**2
865.     assert cosh(x).rewrite(coth) == (coth_half + 1)/(coth_half - 1)
866. 
867. 
868. def test_tanh_rewrite():
869.     x = Symbol('x')
870.     assert tanh(x).rewrite(exp) == (exp(x) - exp(-x))/(exp(x) + exp(-x)) \
871.         == tanh(x).rewrite('tractable')
872.     assert tanh(x).rewrite(sinh) == I*sinh(x)/sinh(I*pi/2 - x)
873.     assert tanh(x).rewrite(cosh) == I*cosh(I*pi/2 - x)/cosh(x)
874.     assert tanh(x).rewrite(coth) == 1/coth(x)
875. 
876. 
877. def test_coth_rewrite():
878.     x = Symbol('x')
879.     assert coth(x).rewrite(exp) == (exp(x) + exp(-x))/(exp(x) - exp(-x)) \
880.         == coth(x).rewrite('tractable')
881.     assert coth(x).rewrite(sinh) == -I*sinh(I*pi/2 - x)/sinh(x)
882.     assert coth(x).rewrite(cosh) == -I*cosh(x)/cosh(I*pi/2 - x)
883.     assert coth(x).rewrite(tanh) == 1/tanh(x)
884. 
885. 
886. def test_csch_rewrite():
887.     x = Symbol('x')
888.     assert csch(x).rewrite(exp) == 1 / (exp(x)/2 - exp(-x)/2) \
889.         == csch(x).rewrite('tractable')
890.     assert csch(x).rewrite(cosh) == I/cosh(x + I*pi/2)
891.     tanh_half = tanh(S.Half*x)
892.     assert csch(x).rewrite(tanh) == (1 - tanh_half**2)/(2*tanh_half)
893.     coth_half = coth(S.Half*x)
894.     assert csch(x).rewrite(coth) == (coth_half**2 - 1)/(2*coth_half)
895. 
896. 
897. def test_sech_rewrite():
898.     x = Symbol('x')
899.     assert sech(x).rewrite(exp) == 1 / (exp(x)/2 + exp(-x)/2) \
900.         == sech(x).rewrite('tractable')
901.     assert sech(x).rewrite(sinh) == I/sinh(x + I*pi/2)
902.     tanh_half = tanh(S.Half*x)**2
903.     assert sech(x).rewrite(tanh) == (1 - tanh_half)/(1 + tanh_half)
904.     coth_half = coth(S.Half*x)**2
905.     assert sech(x).rewrite(coth) == (coth_half - 1)/(coth_half + 1)
906. 
907. 
908. def test_derivs():
909.     x = Symbol('x')
910.     assert coth(x).diff(x) == -sinh(x)**(-2)
911.     assert sinh(x).diff(x) == cosh(x)
912.     assert cosh(x).diff(x) == sinh(x)
913.     assert tanh(x).diff(x) == -tanh(x)**2 + 1
914.     assert csch(x).diff(x) == -coth(x)*csch(x)
915.     assert sech(x).diff(x) == -tanh(x)*sech(x)
916.     assert acoth(x).diff(x) == 1/(-x**2 + 1)
917.     assert asinh(x).diff(x) == 1/sqrt(x**2 + 1)
918.     assert acosh(x).diff(x) == 1/sqrt(x**2 - 1)
919.     assert atanh(x).diff(x) == 1/(-x**2 + 1)
920.     assert asech(x).diff(x) == -1/(x*sqrt(1 - x**2))
921.     assert acsch(x).diff(x) == -1/(x**2*sqrt(1 + x**(-2)))
922. 
923. 
924. def test_sinh_expansion():
925.     x, y = symbols('x,y')
926.     assert sinh(x+y).expand(trig=True) == sinh(x)*cosh(y) + cosh(x)*sinh(y)
927.     assert sinh(2*x).expand(trig=True) == 2*sinh(x)*cosh(x)
928.     assert sinh(3*x).expand(trig=True).expand() == \
929.         sinh(x)**3 + 3*sinh(x)*cosh(x)**2
930. 
931. 
932. def test_cosh_expansion():
933.     x, y = symbols('x,y')
934.     assert cosh(x+y).expand(trig=True) == cosh(x)*cosh(y) + sinh(x)*sinh(y)
935.     assert cosh(2*x).expand(trig=True) == cosh(x)**2 + sinh(x)**2
936.     assert cosh(3*x).expand(trig=True).expand() == \
937.         3*sinh(x)**2*cosh(x) + cosh(x)**3

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 17:40:26,339 - thread-128656326264512.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="1. The user wants to find 3 relevant test cases for a bug in `sympy.coth`.\n2. The provided context is the full test file `sympy/functions/elementary/tests/test_hyperbolic.py`.\n3. This file contains `test_coth`, which directly tests the function in question, including with complex values that are relevant to the bug.\n4. It also contains `test_complex` for generic complex-number expansions and `test_simplifications` for compositions, both of which relate to the user's example.\n5. The existing context is sufficient to extract the required test cases. I can identify `test_coth`, `test_complex`, and `test_simplifications` as the most relevant test cases. No further information is needed." query='' extra_requirements='' purpose=''
2025-12-21 17:40:26,340 - thread-128656326264512.prometheus_context_collector - INFO - Successfully retrieved 1 context snippets
