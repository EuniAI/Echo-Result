2025-12-24 01:12:20,592 - thread-124025018758848.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: autodoc_docstring_signature with overloaded methods

Description: When using swig to wrap C++ classes for python, if they have overloaded methods, I believe the convention is to place the signatures for each of the overloaded C++ methods at the start of the docstring. Currently, `autodoc_docstring_signature` can only pick up the first one. It would be nice to be able to pick up all of them.


Patch information:
diff --git a/doc/usage/extensions/autodoc.rst b/doc/usage/extensions/autodoc.rst
index 36be7568b..94db328ed 100644
--- a/doc/usage/extensions/autodoc.rst
+++ b/doc/usage/extensions/autodoc.rst
@@ -450,9 +450,10 @@ There are also config values that you can set:
    function's docstring.
 
    If this boolean value is set to ``True`` (which is the default), autodoc will
-   look at the first line of the docstring for functions and methods, and if it
-   looks like a signature, use the line as the signature and remove it from the
-   docstring content.
+   look at the first lines of the docstring for functions and methods, and if they
+   look like signatures, use those lines as the signature(s) and remove them from
+   the docstring content. Multiple consecutive signature lines at the start of the
+   docstring will be shown as multiple overloads (one per line).
 
    .. versionadded:: 1.1
 
diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py
index f8e4be999..3c8cd5331 100644
--- a/sphinx/ext/autodoc/__init__.py
+++ b/sphinx/ext/autodoc/__init__.py
@@ -1044,31 +1044,40 @@ class DocstringSignatureMixin:
                           RemovedInSphinx40Warning, stacklevel=2)
         docstrings = self.get_doc()
         self._new_docstrings = docstrings[:]
+        # collect multiple consecutive signatures at the start of the docstring
+        self._docstring_signatures = []
         result = None
         for i, doclines in enumerate(docstrings):
             # no lines in docstring, no match
             if not doclines:
                 continue
-            # match first line of docstring against signature RE
-            match = py_ext_sig_re.match(doclines[0])
-            if not match:
-                continue
-            exmod, path, base, args, retann = match.groups()
-            # the base name must match ours
-            valid_names = [self.objpath[-1]]  # type: ignore
-            if isinstance(self, ClassDocumenter):
-                valid_names.append('__init__')
-                if hasattr(self.object, '__mro__'):
-                    valid_names.extend(cls.__name__ for cls in self.object.__mro__)
-            if base not in valid_names:
-                continue
-            # re-prepare docstring to ignore more leading indentation
-            tab_width = self.directive.state.document.settings.tab_width  # type: ignore
-            self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[1:]),
-                                                        tabsize=tab_width)
-            result = args, retann
-            # don't look any further
-            break
+            # collect consecutive signature lines at the beginning
+            j = 0
+            collected = []
+            while j < len(doclines):
+                match = py_ext_sig_re.match(doclines[j])
+                if not match:
+                    break
+                exmod, path, base, args, retann = match.groups()
+                # the base name must match ours
+                valid_names = [self.objpath[-1]]  # type: ignore
+                if isinstance(self, ClassDocumenter):
+                    valid_names.append('__init__')
+                    if hasattr(self.object, '__mro__'):
+                        valid_names.extend(cls.__name__ for cls in self.object.__mro__)
+                if base not in valid_names:
+                    break
+                collected.append((args, retann))
+                j += 1
+            if collected:
+                # re-prepare docstring to ignore more leading indentation
+                tab_width = self.directive.state.document.settings.tab_width  # type: ignore
+                self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[j:]),
+                                                            tabsize=tab_width)
+                self._docstring_signatures = collected
+                result = collected[0]
+                # don't look any further (only process the first docstring block)
+                break
         return result
 
     def get_doc(self, encoding: str = None, ignore: int = None) -> List[List[str]]:
@@ -1172,6 +1181,22 @@ class FunctionDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # typ
                     documenter.object = func
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:
@@ -1651,6 +1676,22 @@ class MethodDocumenter(DocstringSignatureMixin, ClassLevelDocumenter):  # type:
                     documenter.objpath = [None]
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-24 01:12:20,651 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   └── workflows
|       └── main.yml
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   ├── __init__.py
|   |   |   └── transforms.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.5.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── namespace.rst
|   |   |   └── semicolon.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── semicolon.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── classes.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── final.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── sort_by_all.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-recursive
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── package
|   |   |   |   ├── __init__.py
|   |   |   |   ├── module.py
|   |   |   |   ├── module_importfail.py
|   |   |   |   └── package
|   |   |   └── package2
|   |   |       ├── __init__.py
|   |   |       └── module.py
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-autosummary-template
|   |   |   ├── _templates
|   |   |   |   └── empty.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_autofunction.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: autodoc_docstring_signature with overloaded methods

Description: When using swig to wrap C++ classes for python, if they have overloaded methods, I believe the convention is to place the signatures for each of the overloaded C++ methods at the start of the docstring. Currently, `autodoc_docstring_signature` can only pick up the first one. It would be nice to be able to pick up all of them.


Patch information:
diff --git a/doc/usage/extensions/autodoc.rst b/doc/usage/extensions/autodoc.rst
index 36be7568b..94db328ed 100644
--- a/doc/usage/extensions/autodoc.rst
+++ b/doc/usage/extensions/autodoc.rst
@@ -450,9 +450,10 @@ There are also config values that you can set:
    function's docstring.
 
    If this boolean value is set to ``True`` (which is the default), autodoc will
-   look at the first line of the docstring for functions and methods, and if it
-   looks like a signature, use the line as the signature and remove it from the
-   docstring content.
+   look at the first lines of the docstring for functions and methods, and if they
+   look like signatures, use those lines as the signature(s) and remove them from
+   the docstring content. Multiple consecutive signature lines at the start of the
+   docstring will be shown as multiple overloads (one per line).
 
    .. versionadded:: 1.1
 
diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py
index f8e4be999..3c8cd5331 100644
--- a/sphinx/ext/autodoc/__init__.py
+++ b/sphinx/ext/autodoc/__init__.py
@@ -1044,31 +1044,40 @@ class DocstringSignatureMixin:
                           RemovedInSphinx40Warning, stacklevel=2)
         docstrings = self.get_doc()
         self._new_docstrings = docstrings[:]
+        # collect multiple consecutive signatures at the start of the docstring
+        self._docstring_signatures = []
         result = None
         for i, doclines in enumerate(docstrings):
             # no lines in docstring, no match
             if not doclines:
                 continue
-            # match first line of docstring against signature RE
-            match = py_ext_sig_re.match(doclines[0])
-            if not match:
-                continue
-            exmod, path, base, args, retann = match.groups()
-            # the base name must match ours
-            valid_names = [self.objpath[-1]]  # type: ignore
-            if isinstance(self, ClassDocumenter):
-                valid_names.append('__init__')
-                if hasattr(self.object, '__mro__'):
-                    valid_names.extend(cls.__name__ for cls in self.object.__mro__)
-            if base not in valid_names:
-                continue
-            # re-prepare docstring to ignore more leading indentation
-            tab_width = self.directive.state.document.settings.tab_width  # type: ignore
-            self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[1:]),
-                                                        tabsize=tab_width)
-            result = args, retann
-            # don't look any further
-            break
+            # collect consecutive signature lines at the beginning
+            j = 0
+            collected = []
+            while j < len(doclines):
+                match = py_ext_sig_re.match(doclines[j])
+                if not match:
+                    break
+                exmod, path, base, args, retann = match.groups()
+                # the base name must match ours
+                valid_names = [self.objpath[-1]]  # type: ignore
+                if isinstance(self, ClassDocumenter):
+                    valid_names.append('__init__')
+                    if hasattr(self.object, '__mro__'):
+                        valid_names.extend(cls.__name__ for cls in self.object.__mro__)
+                if base not in valid_names:
+                    break
+                collected.append((args, retann))
+                j += 1
+            if collected:
+                # re-prepare docstring to ignore more leading indentation
+                tab_width = self.directive.state.document.settings.tab_width  # type: ignore
+                self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[j:]),
+                                                            tabsize=tab_width)
+                self._docstring_signatures = collected
+                result = collected[0]
+                # don't look any further (only process the first docstring block)
+                break
         return result
 
     def get_doc(self, encoding: str = None, ignore: int = None) -> List[List[str]]:
@@ -1172,6 +1181,22 @@ class FunctionDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # typ
                     documenter.object = func
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:
@@ -1651,6 +1676,22 @@ class MethodDocumenter(DocstringSignatureMixin, ClassLevelDocumenter):  # type:
                     documenter.objpath = [None]
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 01:12:57,402 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find existing test cases relevant to a patch for `autodoc_docstring_signature`. The most relevant test cases will be in `tests/test_ext_autodoc.py`. These tests likely use source files from `tests/roots/test-ext-autodoc/`. The file `docstring_signature.py` seems especially relevant given its name. The `conf.py` file is also needed to understand the test configuration.' query='Please provide the content of `tests/test_ext_autodoc.py`.' extra_requirements='Also provide the content of `tests/roots/test-ext-autodoc/conf.py` and `tests/roots/test-ext-autodoc/target/docstring_signature.py`.' purpose="These files are needed to find complete test cases for the `autodoc_docstring_signature` feature, which is what the user's patch modifies."
2025-12-24 01:12:57,403 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the content of `tests/test_ext_autodoc.py`.
2025-12-24 01:12:57,403 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 01:12:57,404 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 01:12:57,404 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 01:12:57,405 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the content of `tests/test_ext_autodoc.py`.
Extra requirements: Also provide the content of `tests/roots/test-ext-autodoc/conf.py` and `tests/roots/test-ext-autodoc/target/docstring_signature.py`.
Purpose: These files are needed to find complete test cases for the `autodoc_docstring_signature` feature, which is what the user's patch modifies.
2025-12-24 01:13:01,088 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/roots/test-ext-autodoc/target/docstring_signature.py"}'}, '__gemini_function_call_thought_signatures__': {'08045d0f-d5b7-4892-a41e-4eb54562a0d9': 'CtIHAY89a1+6a7j3npRNuKhg6SeOXCa7wxIcrR7DUv/yfPD/Fe6ggFs+LFwcJulKWx87MEoE5gTnO6FHjMZZSG9L4VbOfxTxiFVpymTmX+Nl7IgkJAeFWUOOxZFtcuGIEDVfSiaSuvX4PcWnfZNx4HaQgiJ4cJx8jKCM0nT3msbh4S/w0xD821Xis+lME/FXcrXNSRXy6O9B1yWcR13eWZGvearh5/kxU2gNeKJb0RNKWbuI3B5+7udD66FRh3DT83YhacHJI+QUHtSYCYoWsVZ9DViTQYCTabsBBBX4nFPmtrTkZ1/IslFRWCDXLOB/icnF6yile56lXOBqBG/wlD743x1lRgj6aZpQHqFD0X5+9XT5fYEAcSax8mGXZ4DAlkrlFAstuJsaKhtIhBKxSAGQIEvnWpBmWx57fFZqmHkPyb6wYoWzOnyzFbeHyuyEQ3GNP+4z99xud0qhI0LeY7WjjwKzbz/xUBOdV4/7jHKFFL/lAofKgv0DaFMAG5NFchAerB4L4XvcXQjJ4qoVwgfFYPuzAQInoTO80BasDwCtS+wmIX26dkTTVre2FUHUx/OX4tpdnR13MGw/g4yVekdcSu4JxkAKoKSJHY4UdIGxXOwz2/4jA8uCNuypoJWY0pUEvH3RO0H1aiAfoRGhV0I91p8KVdnUFFlkv2wrni4ivP4yHLnWW8cfmGk8vl1St3pXDIJ3T2JVFwZzTvr4j1S4LEoSfKqpt4PCSUvYNyjnps7yjPZs7fNsAxoYoK5fyopwweZtg8ueGRZYmz2ravwvX2bvY4LEKPVhAWjvqQdRe14cXYYJU/lVMn9UH2/vvGj9L9rxQmIkyAsstXb3rCarQj4aJlzWBeIBtN1KxEn5Aw0+HctXB4rOZEEZcDz4DBHsd/QkRRvii4Kdjxe20yUZ+CtzA3jvxQJMoMpY6TB6sLFawLOw0K3aPncQD3YbRkdB7hv3kPWlq7g5q6UN8qPG7r/PPCnpIySYZ3vtgDsifJEaYDpODUbXw6xctBXvO13b4t+p/0vCixhxxKGAyTLzFQ690gomP0wt4Nfl/r6Ign8dalmuLjdgvY5p0EzOELPeqtng0akiC1vMyMy7asn5Op+daW6vspfjhVQjxs25xR3kxs+dLLIMknDrTicly6qBFifRrgsiZnFuCqzIxkZIe40FHTwGFIF6Ej91FeTIkYCiY813LPnkjYnRv5SNqIEw8q77rky4oKJ2qHg6hjCCZiOQ/CfG83rIvv5GNkG7FnvnFZmGZnFzO7VkhKBx9yVDw5nV3qsOSfnc/nxKUSojDZt2'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2126, 'candidates_token_count': 85, 'total_token_count': 2496, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2126}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 85}], 'thoughts_token_count': 285, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09637006871840532, 'model_name': 'gemini-2.5-pro'} id='run--f5a4c39d-68db-42d7-bb2e-aaedcf32fa21-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_ext_autodoc.py'}, 'id': '08045d0f-d5b7-4892-a41e-4eb54562a0d9', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/roots/test-ext-autodoc/conf.py'}, 'id': 'cf5175de-b4a4-4426-965d-04a83b83a2a8', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/roots/test-ext-autodoc/target/docstring_signature.py'}, 'id': '97ae45d1-3ed7-4320-9f8b-95b78cd81e79', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2126, 'output_tokens': 85, 'total_tokens': 2496, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 285}}
2025-12-24 01:13:05,332 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the content of the three requested files: `tests/test_ext_autodoc.py`, `tests/roots/test-ext-autodoc/conf.py`, and `tests/roots/test-ext-autodoc/target/docstring_signature.py`. These files contain test cases, configuration, and Python code relevant to the `autodoc_docstring_signature` feature. This information will be helpful in understanding and testing the user's patch." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10055, 'candidates_token_count': 101, 'total_token_count': 10431, 'cached_content_token_count': 1805, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10340}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1805}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 101}], 'thoughts_token_count': 275}, 'finish_reason': 'STOP', 'avg_logprobs': -0.25395081775023204, 'model_name': 'gemini-2.5-pro'} id='run--1888efb5-de4d-4a4e-9639-18334ff837d9-0' usage_metadata={'input_tokens': 10055, 'output_tokens': 101, 'total_tokens': 10431, 'input_token_details': {'cache_read': 1805}, 'output_token_details': {'reasoning': 275}}
2025-12-24 01:13:05,333 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the content of `tests/test_ext_autodoc.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
Also provide the content of `tests/roots/test-ext-autodoc/conf.py` and `tests/roots/test-ext-autodoc/target/docstring_signature.py`.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
These files are needed to find complete test cases for the `autodoc_docstring_signature` feature, which is what the user's patch modifies.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/roots/test-ext-autodoc/conf.py
Line number range: 1 - 15
Content:
1. import os
2. import sys
3. 
4. sys.path.insert(0, os.path.abspath('.'))
5. 
6. extensions = ['sphinx.ext.autodoc']
7. 
8. # The suffix of source filenames.
9. source_suffix = '.rst'
10. 
11. autodoc_mock_imports = [
12.     'dummy'
13. ]
14. 
15. nitpicky = True


File: tests/roots/test-ext-autodoc/target/docstring_signature.py
Line number range: 1 - 19
Content:
1. class A:
2.     """A(foo, bar)"""
3. 
4. 
5. class B:
6.     """B(foo, bar)"""
7.     def __init__(self):
8.         """B(foo, bar, baz)"""
9. 
10. 
11. class C:
12.     """C(foo, bar)"""
13.     def __new__(cls):
14.         """C(foo, bar, baz)"""
15. 
16. 
17. class D:
18.     def __init__(self):
19.         """D(foo, bar, baz)"""


File: tests/test_ext_autodoc.py
Line number range: 1 - 500
Content:
1. """
2.     test_ext_autodoc
3.     ~~~~~~~~~~~~~~~~
4. 
5.     Test the autodoc extension.  This tests mainly the Documenters; the auto
6.     directives are tested in a test source file translated by test_build.
7. 
8.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
9.     :license: BSD, see LICENSE for details.
10. """
11. 
12. import sys
13. from unittest.mock import Mock
14. from warnings import catch_warnings
15. 
16. import pytest
17. from docutils.statemachine import ViewList
18. 
19. from sphinx import addnodes
20. from sphinx.ext.autodoc import ModuleLevelDocumenter, ALL, Options
21. from sphinx.ext.autodoc.directive import DocumenterBridge, process_documenter_options
22. from sphinx.testing.util import SphinxTestApp, Struct  # NOQA
23. from sphinx.util.docutils import LoggingReporter
24. 
25. try:
26.     # Enable pyximport to test cython module
27.     import pyximport
28.     pyximport.install()
29. except ImportError:
30.     pyximport = None
31. 
32. 
33. def do_autodoc(app, objtype, name, options=None):
34.     if options is None:
35.         options = {}
36.     app.env.temp_data.setdefault('docname', 'index')  # set dummy docname
37.     doccls = app.registry.documenters[objtype]
38.     docoptions = process_documenter_options(doccls, app.config, options)
39.     state = Mock()
40.     state.document.settings.tab_width = 8
41.     bridge = DocumenterBridge(app.env, LoggingReporter(''), docoptions, 1, state)
42.     documenter = doccls(bridge, name)
43.     documenter.generate()
44. 
45.     return bridge.result
46. 
47. 
48. def make_directive_bridge(env):
49.     options = Options(
50.         inherited_members = False,
51.         undoc_members = False,
52.         private_members = False,
53.         special_members = False,
54.         imported_members = False,
55.         show_inheritance = False,
56.         noindex = False,
57.         annotation = None,
58.         synopsis = '',
59.         platform = '',
60.         deprecated = False,
61.         members = [],
62.         member_order = 'alphabetical',
63.         exclude_members = set(),
64.         ignore_module_all = False,
65.     )
66. 
67.     directive = Struct(
68.         env = env,
69.         genopt = options,
70.         result = ViewList(),
71.         filename_set = set(),
72.         state = Mock(),
73.     )
74.     directive.state.document.settings.tab_width = 8
75. 
76.     return directive
77. 
78. 
79. processed_signatures = []
80. 
81. 
82. def process_signature(app, what, name, obj, options, args, retann):
83.     processed_signatures.append((what, name))
84.     if name == 'bar':
85.         return '42', None
86. 
87. 
88. def skip_member(app, what, name, obj, skip, options):
89.     if name in ('__special1__', '__special2__'):
90.         return skip
91.     if name.startswith('__'):
92.         return True
93.     if name == 'skipmeth':
94.         return True
95. 
96. 
97. def test_parse_name(app):
98.     def verify(objtype, name, result):
99.         inst = app.registry.documenters[objtype](directive, name)
100.         assert inst.parse_name()
101.         assert (inst.modname, inst.objpath, inst.args, inst.retann) == result
102. 
103.     directive = make_directive_bridge(app.env)
104. 
105.     # for modules
106.     verify('module', 'test_ext_autodoc', ('test_ext_autodoc', [], None, None))
107.     verify('module', 'test.test_ext_autodoc', ('test.test_ext_autodoc', [], None, None))
108.     verify('module', 'test(arg)', ('test', [], 'arg', None))
109.     assert 'signature arguments' in app._warning.getvalue()
110. 
111.     # for functions/classes
112.     verify('function', 'test_ext_autodoc.raises',
113.            ('test_ext_autodoc', ['raises'], None, None))
114.     verify('function', 'test_ext_autodoc.raises(exc) -> None',
115.            ('test_ext_autodoc', ['raises'], 'exc', 'None'))
116.     directive.env.temp_data['autodoc:module'] = 'test_ext_autodoc'
117.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
118.     del directive.env.temp_data['autodoc:module']
119.     directive.env.ref_context['py:module'] = 'test_ext_autodoc'
120.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
121.     verify('class', 'Base', ('test_ext_autodoc', ['Base'], None, None))
122. 
123.     # for members
124.     directive.env.ref_context['py:module'] = 'foo'
125.     verify('method', 'util.SphinxTestApp.cleanup',
126.            ('foo', ['util', 'SphinxTestApp', 'cleanup'], None, None))
127.     directive.env.ref_context['py:module'] = 'util'
128.     directive.env.ref_context['py:class'] = 'Foo'
129.     directive.env.temp_data['autodoc:class'] = 'SphinxTestApp'
130.     verify('method', 'cleanup', ('util', ['SphinxTestApp', 'cleanup'], None, None))
131.     verify('method', 'SphinxTestApp.cleanup',
132.            ('util', ['SphinxTestApp', 'cleanup'], None, None))
133. 
134. 
135. def test_format_signature(app):
136.     app.connect('autodoc-process-signature', process_signature)
137.     app.connect('autodoc-skip-member', skip_member)
138. 
139.     directive = make_directive_bridge(app.env)
140. 
141.     def formatsig(objtype, name, obj, args, retann):
142.         inst = app.registry.documenters[objtype](directive, name)
143.         inst.fullname = name
144.         inst.doc_as_attr = False  # for class objtype
145.         inst.parent = object  # dummy
146.         inst.object = obj
147.         inst.objpath = [name]
148.         inst.args = args
149.         inst.retann = retann
150.         res = inst.format_signature()
151.         print(res)
152.         return res
153. 
154.     # no signatures for modules
155.     assert formatsig('module', 'test', None, None, None) == ''
156. 
157.     # test for functions
158.     def f(a, b, c=1, **d):
159.         pass
160. 
161.     def g(a='\n'):
162.         pass
163.     assert formatsig('function', 'f', f, None, None) == '(a, b, c=1, **d)'
164.     assert formatsig('function', 'f', f, 'a, b, c, d', None) == '(a, b, c, d)'
165.     assert formatsig('function', 'g', g, None, None) == r"(a='\n')"
166. 
167.     # test for classes
168.     class D:
169.         pass
170. 
171.     class E:
172.         def __init__(self):
173.             pass
174. 
175.     # an empty init and no init are the same
176.     for C in (D, E):
177.         assert formatsig('class', 'D', C, None, None) == '()'
178. 
179. 
180.     class SomeMeta(type):
181.         def __call__(cls, a, b=None):
182.             return type.__call__(cls, a, b)
183. 
184.     # these three are all equivalent
185.     class F:
186.         def __init__(self, a, b=None):
187.             pass
188. 
189.     class FNew:
190.         def __new__(cls, a, b=None):
191.             return super().__new__(cls)
192. 
193.     class FMeta(metaclass=SomeMeta):
194.         pass
195. 
196.     # and subclasses should always inherit
197.     class G(F):
198.         pass
199. 
200.     class GNew(FNew):
201.         pass
202. 
203.     class GMeta(FMeta):
204.         pass
205. 
206.     # subclasses inherit
207.     for C in (F, FNew, FMeta, G, GNew, GMeta):
208.         assert formatsig('class', 'C', C, None, None) == '(a, b=None)'
209.     assert formatsig('class', 'C', D, 'a, b', 'X') == '(a, b) -> X'
210. 
211. 
212.     class ListSubclass(list):
213.         pass
214. 
215.     # only supported if the python implementation decides to document it
216.     if getattr(list, '__text_signature__', None) is not None:
217.         assert formatsig('class', 'C', ListSubclass, None, None) == '(iterable=(), /)'
218.     else:
219.         assert formatsig('class', 'C', ListSubclass, None, None) == ''
220. 
221. 
222.     class ExceptionSubclass(Exception):
223.         pass
224. 
225.     # Exception has no __text_signature__ at least in Python 3.8
226.     if getattr(Exception, '__text_signature__', None) is None:
227.         assert formatsig('class', 'C', ExceptionSubclass, None, None) == ''
228. 
229. 
230.     # __init__ have signature at first line of docstring
231.     directive.env.config.autoclass_content = 'both'
232. 
233.     class F2:
234.         '''some docstring for F2.'''
235.         def __init__(self, *args, **kw):
236.             '''
237.             __init__(a1, a2, kw1=True, kw2=False)
238. 
239.             some docstring for __init__.
240.             '''
241.     class G2(F2):
242.         pass
243. 
244.     assert formatsig('class', 'F2', F2, None, None) == \
245.         '(a1, a2, kw1=True, kw2=False)'
246.     assert formatsig('class', 'G2', G2, None, None) == \
247.         '(a1, a2, kw1=True, kw2=False)'
248. 
249.     # test for methods
250.     class H:
251.         def foo1(self, b, *c):
252.             pass
253. 
254.         def foo2(b, *c):
255.             pass
256. 
257.         def foo3(self, d='\n'):
258.             pass
259.     assert formatsig('method', 'H.foo', H.foo1, None, None) == '(b, *c)'
260.     assert formatsig('method', 'H.foo', H.foo1, 'a', None) == '(a)'
261.     assert formatsig('method', 'H.foo', H.foo2, None, None) == '(*c)'
262.     assert formatsig('method', 'H.foo', H.foo3, None, None) == r"(d='\n')"
263. 
264.     # test bound methods interpreted as functions
265.     assert formatsig('function', 'foo', H().foo1, None, None) == '(b, *c)'
266.     assert formatsig('function', 'foo', H().foo2, None, None) == '(*c)'
267.     assert formatsig('function', 'foo', H().foo3, None, None) == r"(d='\n')"
268. 
269.     # test exception handling (exception is caught and args is '')
270.     directive.env.config.autodoc_docstring_signature = False
271.     assert formatsig('function', 'int', int, None, None) == ''
272. 
273.     # test processing by event handler
274.     assert formatsig('method', 'bar', H.foo1, None, None) == '42'
275. 
276.     # test functions created via functools.partial
277.     from functools import partial
278.     curried1 = partial(lambda a, b, c: None, 'A')
279.     assert formatsig('function', 'curried1', curried1, None, None) == \
280.         '(b, c)'
281.     curried2 = partial(lambda a, b, c=42: None, 'A')
282.     assert formatsig('function', 'curried2', curried2, None, None) == \
283.         '(b, c=42)'
284.     curried3 = partial(lambda a, b, *c: None, 'A')
285.     assert formatsig('function', 'curried3', curried3, None, None) == \
286.         '(b, *c)'
287.     curried4 = partial(lambda a, b, c=42, *d, **e: None, 'A')
288.     assert formatsig('function', 'curried4', curried4, None, None) == \
289.         '(b, c=42, *d, **e)'
290. 
291. 
292. def test_autodoc_process_signature_typehints(app):
293.     captured = []
294. 
295.     def process_signature(*args):
296.         captured.append(args)
297. 
298.     app.connect('autodoc-process-signature', process_signature)
299. 
300.     def func(x: int, y: int) -> int:
301.         pass
302. 
303.     directive = make_directive_bridge(app.env)
304.     inst = app.registry.documenters['function'](directive, 'func')
305.     inst.fullname = 'func'
306.     inst.object = func
307.     inst.objpath = ['func']
308.     inst.format_signature()
309.     assert captured == [(app, 'function', 'func', func,
310.                          directive.genopt, '(x: int, y: int)', 'int')]
311. 
312. 
313. def test_get_doc(app):
314.     directive = make_directive_bridge(app.env)
315. 
316.     def getdocl(objtype, obj):
317.         inst = app.registry.documenters[objtype](directive, 'tmp')
318.         inst.parent = object  # dummy
319.         inst.object = obj
320.         inst.objpath = [obj.__name__]
321.         inst.doc_as_attr = False
322.         inst.format_signature()  # handle docstring signatures!
323.         ds = inst.get_doc()
324.         # for testing purposes, concat them and strip the empty line at the end
325.         res = sum(ds, [])[:-1]
326.         print(res)
327.         return res
328. 
329.     # objects without docstring
330.     def f():
331.         pass
332.     assert getdocl('function', f) == []
333. 
334.     # standard function, diverse docstring styles...
335.     def f():
336.         """Docstring"""
337.     def g():
338.         """
339.         Docstring
340.         """
341.     for func in (f, g):
342.         assert getdocl('function', func) == ['Docstring']
343. 
344.     # first line vs. other lines indentation
345.     def f():
346.         """First line
347. 
348.         Other
349.           lines
350.         """
351.     assert getdocl('function', f) == ['First line', '', 'Other', '  lines']
352. 
353.     # charset guessing (this module is encoded in utf-8)
354.     def f():
355.         """Döcstring"""
356.     assert getdocl('function', f) == ['Döcstring']
357. 
358.     # already-unicode docstrings must be taken literally
359.     def f():
360.         """Döcstring"""
361.     assert getdocl('function', f) == ['Döcstring']
362. 
363.     # verify that method docstrings get extracted in both normal case
364.     # and in case of bound method posing as a function
365.     class J:  # NOQA
366.         def foo(self):
367.             """Method docstring"""
368.     assert getdocl('method', J.foo) == ['Method docstring']
369.     assert getdocl('function', J().foo) == ['Method docstring']
370. 
371. 
372. @pytest.mark.sphinx('html', testroot='ext-autodoc')
373. def test_new_documenter(app):
374.     class MyDocumenter(ModuleLevelDocumenter):
375.         objtype = 'integer'
376.         directivetype = 'integer'
377.         priority = 100
378. 
379.         @classmethod
380.         def can_document_member(cls, member, membername, isattr, parent):
381.             return isinstance(member, int)
382. 
383.         def document_members(self, all_members=False):
384.             return
385. 
386.     app.add_autodocumenter(MyDocumenter)
387. 
388.     options = {"members": 'integer'}
389.     actual = do_autodoc(app, 'module', 'target', options)
390.     assert list(actual) == [
391.         '',
392.         '.. py:module:: target',
393.         '',
394.         '',
395.         '.. py:integer:: integer',
396.         '   :module: target',
397.         '',
398.         '   documentation for the integer',
399.         '',
400.     ]
401. 
402. 
403. def test_attrgetter_using(app):
404.     from target import Class
405.     from target.inheritance import Derived
406. 
407.     directive = make_directive_bridge(app.env)
408. 
409.     def assert_getter_works(objtype, name, obj, attrs=[], **kw):
410.         getattr_spy = []
411. 
412.         def special_getattr(obj, name, *defargs):
413.             if name in attrs:
414.                 getattr_spy.append((obj, name))
415.                 return None
416.             return getattr(obj, name, *defargs)
417.         app.add_autodoc_attrgetter(type, special_getattr)
418. 
419.         del getattr_spy[:]
420.         inst = app.registry.documenters[objtype](directive, name)
421.         inst.generate(**kw)
422. 
423.         hooked_members = [s[1] for s in getattr_spy]
424.         documented_members = [s[1] for s in processed_signatures]
425.         for attr in attrs:
426.             fullname = '.'.join((name, attr))
427.             assert attr in hooked_members
428.             assert fullname not in documented_members, \
429.                 '%r was not hooked by special_attrgetter function' % fullname
430. 
431.     with catch_warnings(record=True):
432.         directive.genopt['members'] = ALL
433.         directive.genopt['inherited_members'] = False
434.         print(directive.genopt)
435.         assert_getter_works('class', 'target.Class', Class, ['meth'])
436. 
437.         directive.genopt['inherited_members'] = True
438.         assert_getter_works('class', 'target.inheritance.Derived', Derived, ['inheritedmeth'])
439. 
440. 
441. @pytest.mark.sphinx('html', testroot='ext-autodoc')
442. def test_py_module(app, warning):
443.     # without py:module
444.     actual = do_autodoc(app, 'method', 'Class.meth')
445.     assert list(actual) == []
446.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
447.             in warning.getvalue())
448. 
449.     # with py:module
450.     app.env.ref_context['py:module'] = 'target'
451.     warning.truncate(0)
452. 
453.     actual = do_autodoc(app, 'method', 'Class.meth')
454.     assert list(actual) == [
455.         '',
456.         '.. py:method:: Class.meth()',
457.         '   :module: target',
458.         '',
459.         '   Function.',
460.         '',
461.     ]
462.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
463.             not in warning.getvalue())
464. 
465. 
466. @pytest.mark.sphinx('html', testroot='ext-autodoc')
467. def test_autodoc_decorator(app):
468.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco1')
469.     assert list(actual) == [
470.         '',
471.         '.. py:decorator:: deco1',
472.         '   :module: target.decorator',
473.         '',
474.         '   docstring for deco1',
475.         '',
476.     ]
477. 
478.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco2')
479.     assert list(actual) == [
480.         '',
481.         '.. py:decorator:: deco2(condition, message)',
482.         '   :module: target.decorator',
483.         '',
484.         '   docstring for deco2',
485.         '',
486.     ]
487. 
488. 
489. @pytest.mark.sphinx('html', testroot='ext-autodoc')
490. def test_autodoc_exception(app):
491.     actual = do_autodoc(app, 'exception', 'target.CustomEx')
492.     assert list(actual) == [
493.         '',
494.         '.. py:exception:: CustomEx',
495.         '   :module: target',
496.         '',
497.         '   My custom exception.',
498.         '',
499.     ]
500.

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 01:13:16,313 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user query explicitly asks for the content of `tests/test_ext_autodoc.py`.\n   - The purpose states that this file is needed to find complete test cases for the `autodoc_docstring_signature` feature.\n\n2. Extended relevance:\n   - This file contains the main test logic for the `autodoc` extension, which is directly relevant to the user's goal of understanding the tests for a specific feature within that extension.", relative_path='tests/test_ext_autodoc.py', start_line=1, end_line=500), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user query explicitly asks for the content of `tests/roots/test-ext-autodoc/conf.py`.\n   - This file is part of the test setup for the `autodoc` extension tests.\n\n2. Extended relevance:\n   - This configuration file is necessary to understand how the Sphinx test application is configured for the tests in `test_ext_autodoc.py`. It defines extensions and other settings that affect the test execution and outcome.', relative_path='tests/roots/test-ext-autodoc/conf.py', start_line=1, end_line=15), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user query explicitly asks for the content of `tests/roots/test-ext-autodoc/target/docstring_signature.py`.\n   - The purpose indicates that this file is related to the `autodoc_docstring_signature` feature.\n\n2. Extended relevance:\n   - This file serves as the target code for the autodoc tests. It contains classes and methods with docstrings that are used to test the `autodoc_docstring_signature` functionality, making it essential for understanding the test cases.', relative_path='tests/roots/test-ext-autodoc/target/docstring_signature.py', start_line=1, end_line=19)]
2025-12-24 01:13:16,315 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 3 contexts to memory for query: Please provide the content of `tests/test_ext_autodoc.py`.
2025-12-24 01:13:16,315 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 01:13:16,315 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 01:13:16,316 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 3 new contexts to 0 existing contexts
2025-12-24 01:13:16,316 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-24 01:13:16,317 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   └── workflows
|       └── main.yml
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   ├── __init__.py
|   |   |   └── transforms.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.5.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── namespace.rst
|   |   |   └── semicolon.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── semicolon.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── classes.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── final.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── sort_by_all.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-recursive
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── package
|   |   |   |   ├── __init__.py
|   |   |   |   ├── module.py
|   |   |   |   ├── module_importfail.py
|   |   |   |   └── package
|   |   |   └── package2
|   |   |       ├── __init__.py
|   |   |       └── module.py
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-autosummary-template
|   |   |   ├── _templates
|   |   |   |   └── empty.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_autofunction.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: autodoc_docstring_signature with overloaded methods

Description: When using swig to wrap C++ classes for python, if they have overloaded methods, I believe the convention is to place the signatures for each of the overloaded C++ methods at the start of the docstring. Currently, `autodoc_docstring_signature` can only pick up the first one. It would be nice to be able to pick up all of them.


Patch information:
diff --git a/doc/usage/extensions/autodoc.rst b/doc/usage/extensions/autodoc.rst
index 36be7568b..94db328ed 100644
--- a/doc/usage/extensions/autodoc.rst
+++ b/doc/usage/extensions/autodoc.rst
@@ -450,9 +450,10 @@ There are also config values that you can set:
    function's docstring.
 
    If this boolean value is set to ``True`` (which is the default), autodoc will
-   look at the first line of the docstring for functions and methods, and if it
-   looks like a signature, use the line as the signature and remove it from the
-   docstring content.
+   look at the first lines of the docstring for functions and methods, and if they
+   look like signatures, use those lines as the signature(s) and remove them from
+   the docstring content. Multiple consecutive signature lines at the start of the
+   docstring will be shown as multiple overloads (one per line).
 
    .. versionadded:: 1.1
 
diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py
index f8e4be999..3c8cd5331 100644
--- a/sphinx/ext/autodoc/__init__.py
+++ b/sphinx/ext/autodoc/__init__.py
@@ -1044,31 +1044,40 @@ class DocstringSignatureMixin:
                           RemovedInSphinx40Warning, stacklevel=2)
         docstrings = self.get_doc()
         self._new_docstrings = docstrings[:]
+        # collect multiple consecutive signatures at the start of the docstring
+        self._docstring_signatures = []
         result = None
         for i, doclines in enumerate(docstrings):
             # no lines in docstring, no match
             if not doclines:
                 continue
-            # match first line of docstring against signature RE
-            match = py_ext_sig_re.match(doclines[0])
-            if not match:
-                continue
-            exmod, path, base, args, retann = match.groups()
-            # the base name must match ours
-            valid_names = [self.objpath[-1]]  # type: ignore
-            if isinstance(self, ClassDocumenter):
-                valid_names.append('__init__')
-                if hasattr(self.object, '__mro__'):
-                    valid_names.extend(cls.__name__ for cls in self.object.__mro__)
-            if base not in valid_names:
-                continue
-            # re-prepare docstring to ignore more leading indentation
-            tab_width = self.directive.state.document.settings.tab_width  # type: ignore
-            self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[1:]),
-                                                        tabsize=tab_width)
-            result = args, retann
-            # don't look any further
-            break
+            # collect consecutive signature lines at the beginning
+            j = 0
+            collected = []
+            while j < len(doclines):
+                match = py_ext_sig_re.match(doclines[j])
+                if not match:
+                    break
+                exmod, path, base, args, retann = match.groups()
+                # the base name must match ours
+                valid_names = [self.objpath[-1]]  # type: ignore
+                if isinstance(self, ClassDocumenter):
+                    valid_names.append('__init__')
+                    if hasattr(self.object, '__mro__'):
+                        valid_names.extend(cls.__name__ for cls in self.object.__mro__)
+                if base not in valid_names:
+                    break
+                collected.append((args, retann))
+                j += 1
+            if collected:
+                # re-prepare docstring to ignore more leading indentation
+                tab_width = self.directive.state.document.settings.tab_width  # type: ignore
+                self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[j:]),
+                                                            tabsize=tab_width)
+                self._docstring_signatures = collected
+                result = collected[0]
+                # don't look any further (only process the first docstring block)
+                break
         return result
 
     def get_doc(self, encoding: str = None, ignore: int = None) -> List[List[str]]:
@@ -1172,6 +1181,22 @@ class FunctionDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # typ
                     documenter.object = func
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:
@@ -1651,6 +1676,22 @@ class MethodDocumenter(DocstringSignatureMixin, ClassLevelDocumenter):  # type:
                     documenter.objpath = [None]
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the content of `tests/test_ext_autodoc.py`.
Extra Requirements: Also provide the content of `tests/roots/test-ext-autodoc/conf.py` and `tests/roots/test-ext-autodoc/target/docstring_signature.py`.
Purpose: These files are needed to find complete test cases for the `autodoc_docstring_signature` feature, which is what the user's patch modifies.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/roots/test-ext-autodoc/conf.py
Line number range: 1 - 15
Content:
1. import os
2. import sys
3. 
4. sys.path.insert(0, os.path.abspath('.'))
5. 
6. extensions = ['sphinx.ext.autodoc']
7. 
8. # The suffix of source filenames.
9. source_suffix = '.rst'
10. 
11. autodoc_mock_imports = [
12.     'dummy'
13. ]
14. 
15. nitpicky = True


File: tests/roots/test-ext-autodoc/target/docstring_signature.py
Line number range: 1 - 19
Content:
1. class A:
2.     """A(foo, bar)"""
3. 
4. 
5. class B:
6.     """B(foo, bar)"""
7.     def __init__(self):
8.         """B(foo, bar, baz)"""
9. 
10. 
11. class C:
12.     """C(foo, bar)"""
13.     def __new__(cls):
14.         """C(foo, bar, baz)"""
15. 
16. 
17. class D:
18.     def __init__(self):
19.         """D(foo, bar, baz)"""


File: tests/test_ext_autodoc.py
Line number range: 1 - 500
Content:
1. """
2.     test_ext_autodoc
3.     ~~~~~~~~~~~~~~~~
4. 
5.     Test the autodoc extension.  This tests mainly the Documenters; the auto
6.     directives are tested in a test source file translated by test_build.
7. 
8.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
9.     :license: BSD, see LICENSE for details.
10. """
11. 
12. import sys
13. from unittest.mock import Mock
14. from warnings import catch_warnings
15. 
16. import pytest
17. from docutils.statemachine import ViewList
18. 
19. from sphinx import addnodes
20. from sphinx.ext.autodoc import ModuleLevelDocumenter, ALL, Options
21. from sphinx.ext.autodoc.directive import DocumenterBridge, process_documenter_options
22. from sphinx.testing.util import SphinxTestApp, Struct  # NOQA
23. from sphinx.util.docutils import LoggingReporter
24. 
25. try:
26.     # Enable pyximport to test cython module
27.     import pyximport
28.     pyximport.install()
29. except ImportError:
30.     pyximport = None
31. 
32. 
33. def do_autodoc(app, objtype, name, options=None):
34.     if options is None:
35.         options = {}
36.     app.env.temp_data.setdefault('docname', 'index')  # set dummy docname
37.     doccls = app.registry.documenters[objtype]
38.     docoptions = process_documenter_options(doccls, app.config, options)
39.     state = Mock()
40.     state.document.settings.tab_width = 8
41.     bridge = DocumenterBridge(app.env, LoggingReporter(''), docoptions, 1, state)
42.     documenter = doccls(bridge, name)
43.     documenter.generate()
44. 
45.     return bridge.result
46. 
47. 
48. def make_directive_bridge(env):
49.     options = Options(
50.         inherited_members = False,
51.         undoc_members = False,
52.         private_members = False,
53.         special_members = False,
54.         imported_members = False,
55.         show_inheritance = False,
56.         noindex = False,
57.         annotation = None,
58.         synopsis = '',
59.         platform = '',
60.         deprecated = False,
61.         members = [],
62.         member_order = 'alphabetical',
63.         exclude_members = set(),
64.         ignore_module_all = False,
65.     )
66. 
67.     directive = Struct(
68.         env = env,
69.         genopt = options,
70.         result = ViewList(),
71.         filename_set = set(),
72.         state = Mock(),
73.     )
74.     directive.state.document.settings.tab_width = 8
75. 
76.     return directive
77. 
78. 
79. processed_signatures = []
80. 
81. 
82. def process_signature(app, what, name, obj, options, args, retann):
83.     processed_signatures.append((what, name))
84.     if name == 'bar':
85.         return '42', None
86. 
87. 
88. def skip_member(app, what, name, obj, skip, options):
89.     if name in ('__special1__', '__special2__'):
90.         return skip
91.     if name.startswith('__'):
92.         return True
93.     if name == 'skipmeth':
94.         return True
95. 
96. 
97. def test_parse_name(app):
98.     def verify(objtype, name, result):
99.         inst = app.registry.documenters[objtype](directive, name)
100.         assert inst.parse_name()
101.         assert (inst.modname, inst.objpath, inst.args, inst.retann) == result
102. 
103.     directive = make_directive_bridge(app.env)
104. 
105.     # for modules
106.     verify('module', 'test_ext_autodoc', ('test_ext_autodoc', [], None, None))
107.     verify('module', 'test.test_ext_autodoc', ('test.test_ext_autodoc', [], None, None))
108.     verify('module', 'test(arg)', ('test', [], 'arg', None))
109.     assert 'signature arguments' in app._warning.getvalue()
110. 
111.     # for functions/classes
112.     verify('function', 'test_ext_autodoc.raises',
113.            ('test_ext_autodoc', ['raises'], None, None))
114.     verify('function', 'test_ext_autodoc.raises(exc) -> None',
115.            ('test_ext_autodoc', ['raises'], 'exc', 'None'))
116.     directive.env.temp_data['autodoc:module'] = 'test_ext_autodoc'
117.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
118.     del directive.env.temp_data['autodoc:module']
119.     directive.env.ref_context['py:module'] = 'test_ext_autodoc'
120.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
121.     verify('class', 'Base', ('test_ext_autodoc', ['Base'], None, None))
122. 
123.     # for members
124.     directive.env.ref_context['py:module'] = 'foo'
125.     verify('method', 'util.SphinxTestApp.cleanup',
126.            ('foo', ['util', 'SphinxTestApp', 'cleanup'], None, None))
127.     directive.env.ref_context['py:module'] = 'util'
128.     directive.env.ref_context['py:class'] = 'Foo'
129.     directive.env.temp_data['autodoc:class'] = 'SphinxTestApp'
130.     verify('method', 'cleanup', ('util', ['SphinxTestApp', 'cleanup'], None, None))
131.     verify('method', 'SphinxTestApp.cleanup',
132.            ('util', ['SphinxTestApp', 'cleanup'], None, None))
133. 
134. 
135. def test_format_signature(app):
136.     app.connect('autodoc-process-signature', process_signature)
137.     app.connect('autodoc-skip-member', skip_member)
138. 
139.     directive = make_directive_bridge(app.env)
140. 
141.     def formatsig(objtype, name, obj, args, retann):
142.         inst = app.registry.documenters[objtype](directive, name)
143.         inst.fullname = name
144.         inst.doc_as_attr = False  # for class objtype
145.         inst.parent = object  # dummy
146.         inst.object = obj
147.         inst.objpath = [name]
148.         inst.args = args
149.         inst.retann = retann
150.         res = inst.format_signature()
151.         print(res)
152.         return res
153. 
154.     # no signatures for modules
155.     assert formatsig('module', 'test', None, None, None) == ''
156. 
157.     # test for functions
158.     def f(a, b, c=1, **d):
159.         pass
160. 
161.     def g(a='\n'):
162.         pass
163.     assert formatsig('function', 'f', f, None, None) == '(a, b, c=1, **d)'
164.     assert formatsig('function', 'f', f, 'a, b, c, d', None) == '(a, b, c, d)'
165.     assert formatsig('function', 'g', g, None, None) == r"(a='\n')"
166. 
167.     # test for classes
168.     class D:
169.         pass
170. 
171.     class E:
172.         def __init__(self):
173.             pass
174. 
175.     # an empty init and no init are the same
176.     for C in (D, E):
177.         assert formatsig('class', 'D', C, None, None) == '()'
178. 
179. 
180.     class SomeMeta(type):
181.         def __call__(cls, a, b=None):
182.             return type.__call__(cls, a, b)
183. 
184.     # these three are all equivalent
185.     class F:
186.         def __init__(self, a, b=None):
187.             pass
188. 
189.     class FNew:
190.         def __new__(cls, a, b=None):
191.             return super().__new__(cls)
192. 
193.     class FMeta(metaclass=SomeMeta):
194.         pass
195. 
196.     # and subclasses should always inherit
197.     class G(F):
198.         pass
199. 
200.     class GNew(FNew):
201.         pass
202. 
203.     class GMeta(FMeta):
204.         pass
205. 
206.     # subclasses inherit
207.     for C in (F, FNew, FMeta, G, GNew, GMeta):
208.         assert formatsig('class', 'C', C, None, None) == '(a, b=None)'
209.     assert formatsig('class', 'C', D, 'a, b', 'X') == '(a, b) -> X'
210. 
211. 
212.     class ListSubclass(list):
213.         pass
214. 
215.     # only supported if the python implementation decides to document it
216.     if getattr(list, '__text_signature__', None) is not None:
217.         assert formatsig('class', 'C', ListSubclass, None, None) == '(iterable=(), /)'
218.     else:
219.         assert formatsig('class', 'C', ListSubclass, None, None) == ''
220. 
221. 
222.     class ExceptionSubclass(Exception):
223.         pass
224. 
225.     # Exception has no __text_signature__ at least in Python 3.8
226.     if getattr(Exception, '__text_signature__', None) is None:
227.         assert formatsig('class', 'C', ExceptionSubclass, None, None) == ''
228. 
229. 
230.     # __init__ have signature at first line of docstring
231.     directive.env.config.autoclass_content = 'both'
232. 
233.     class F2:
234.         '''some docstring for F2.'''
235.         def __init__(self, *args, **kw):
236.             '''
237.             __init__(a1, a2, kw1=True, kw2=False)
238. 
239.             some docstring for __init__.
240.             '''
241.     class G2(F2):
242.         pass
243. 
244.     assert formatsig('class', 'F2', F2, None, None) == \
245.         '(a1, a2, kw1=True, kw2=False)'
246.     assert formatsig('class', 'G2', G2, None, None) == \
247.         '(a1, a2, kw1=True, kw2=False)'
248. 
249.     # test for methods
250.     class H:
251.         def foo1(self, b, *c):
252.             pass
253. 
254.         def foo2(b, *c):
255.             pass
256. 
257.         def foo3(self, d='\n'):
258.             pass
259.     assert formatsig('method', 'H.foo', H.foo1, None, None) == '(b, *c)'
260.     assert formatsig('method', 'H.foo', H.foo1, 'a', None) == '(a)'
261.     assert formatsig('method', 'H.foo', H.foo2, None, None) == '(*c)'
262.     assert formatsig('method', 'H.foo', H.foo3, None, None) == r"(d='\n')"
263. 
264.     # test bound methods interpreted as functions
265.     assert formatsig('function', 'foo', H().foo1, None, None) == '(b, *c)'
266.     assert formatsig('function', 'foo', H().foo2, None, None) == '(*c)'
267.     assert formatsig('function', 'foo', H().foo3, None, None) == r"(d='\n')"
268. 
269.     # test exception handling (exception is caught and args is '')
270.     directive.env.config.autodoc_docstring_signature = False
271.     assert formatsig('function', 'int', int, None, None) == ''
272. 
273.     # test processing by event handler
274.     assert formatsig('method', 'bar', H.foo1, None, None) == '42'
275. 
276.     # test functions created via functools.partial
277.     from functools import partial
278.     curried1 = partial(lambda a, b, c: None, 'A')
279.     assert formatsig('function', 'curried1', curried1, None, None) == \
280.         '(b, c)'
281.     curried2 = partial(lambda a, b, c=42: None, 'A')
282.     assert formatsig('function', 'curried2', curried2, None, None) == \
283.         '(b, c=42)'
284.     curried3 = partial(lambda a, b, *c: None, 'A')
285.     assert formatsig('function', 'curried3', curried3, None, None) == \
286.         '(b, *c)'
287.     curried4 = partial(lambda a, b, c=42, *d, **e: None, 'A')
288.     assert formatsig('function', 'curried4', curried4, None, None) == \
289.         '(b, c=42, *d, **e)'
290. 
291. 
292. def test_autodoc_process_signature_typehints(app):
293.     captured = []
294. 
295.     def process_signature(*args):
296.         captured.append(args)
297. 
298.     app.connect('autodoc-process-signature', process_signature)
299. 
300.     def func(x: int, y: int) -> int:
301.         pass
302. 
303.     directive = make_directive_bridge(app.env)
304.     inst = app.registry.documenters['function'](directive, 'func')
305.     inst.fullname = 'func'
306.     inst.object = func
307.     inst.objpath = ['func']
308.     inst.format_signature()
309.     assert captured == [(app, 'function', 'func', func,
310.                          directive.genopt, '(x: int, y: int)', 'int')]
311. 
312. 
313. def test_get_doc(app):
314.     directive = make_directive_bridge(app.env)
315. 
316.     def getdocl(objtype, obj):
317.         inst = app.registry.documenters[objtype](directive, 'tmp')
318.         inst.parent = object  # dummy
319.         inst.object = obj
320.         inst.objpath = [obj.__name__]
321.         inst.doc_as_attr = False
322.         inst.format_signature()  # handle docstring signatures!
323.         ds = inst.get_doc()
324.         # for testing purposes, concat them and strip the empty line at the end
325.         res = sum(ds, [])[:-1]
326.         print(res)
327.         return res
328. 
329.     # objects without docstring
330.     def f():
331.         pass
332.     assert getdocl('function', f) == []
333. 
334.     # standard function, diverse docstring styles...
335.     def f():
336.         """Docstring"""
337.     def g():
338.         """
339.         Docstring
340.         """
341.     for func in (f, g):
342.         assert getdocl('function', func) == ['Docstring']
343. 
344.     # first line vs. other lines indentation
345.     def f():
346.         """First line
347. 
348.         Other
349.           lines
350.         """
351.     assert getdocl('function', f) == ['First line', '', 'Other', '  lines']
352. 
353.     # charset guessing (this module is encoded in utf-8)
354.     def f():
355.         """Döcstring"""
356.     assert getdocl('function', f) == ['Döcstring']
357. 
358.     # already-unicode docstrings must be taken literally
359.     def f():
360.         """Döcstring"""
361.     assert getdocl('function', f) == ['Döcstring']
362. 
363.     # verify that method docstrings get extracted in both normal case
364.     # and in case of bound method posing as a function
365.     class J:  # NOQA
366.         def foo(self):
367.             """Method docstring"""
368.     assert getdocl('method', J.foo) == ['Method docstring']
369.     assert getdocl('function', J().foo) == ['Method docstring']
370. 
371. 
372. @pytest.mark.sphinx('html', testroot='ext-autodoc')
373. def test_new_documenter(app):
374.     class MyDocumenter(ModuleLevelDocumenter):
375.         objtype = 'integer'
376.         directivetype = 'integer'
377.         priority = 100
378. 
379.         @classmethod
380.         def can_document_member(cls, member, membername, isattr, parent):
381.             return isinstance(member, int)
382. 
383.         def document_members(self, all_members=False):
384.             return
385. 
386.     app.add_autodocumenter(MyDocumenter)
387. 
388.     options = {"members": 'integer'}
389.     actual = do_autodoc(app, 'module', 'target', options)
390.     assert list(actual) == [
391.         '',
392.         '.. py:module:: target',
393.         '',
394.         '',
395.         '.. py:integer:: integer',
396.         '   :module: target',
397.         '',
398.         '   documentation for the integer',
399.         '',
400.     ]
401. 
402. 
403. def test_attrgetter_using(app):
404.     from target import Class
405.     from target.inheritance import Derived
406. 
407.     directive = make_directive_bridge(app.env)
408. 
409.     def assert_getter_works(objtype, name, obj, attrs=[], **kw):
410.         getattr_spy = []
411. 
412.         def special_getattr(obj, name, *defargs):
413.             if name in attrs:
414.                 getattr_spy.append((obj, name))
415.                 return None
416.             return getattr(obj, name, *defargs)
417.         app.add_autodoc_attrgetter(type, special_getattr)
418. 
419.         del getattr_spy[:]
420.         inst = app.registry.documenters[objtype](directive, name)
421.         inst.generate(**kw)
422. 
423.         hooked_members = [s[1] for s in getattr_spy]
424.         documented_members = [s[1] for s in processed_signatures]
425.         for attr in attrs:
426.             fullname = '.'.join((name, attr))
427.             assert attr in hooked_members
428.             assert fullname not in documented_members, \
429.                 '%r was not hooked by special_attrgetter function' % fullname
430. 
431.     with catch_warnings(record=True):
432.         directive.genopt['members'] = ALL
433.         directive.genopt['inherited_members'] = False
434.         print(directive.genopt)
435.         assert_getter_works('class', 'target.Class', Class, ['meth'])
436. 
437.         directive.genopt['inherited_members'] = True
438.         assert_getter_works('class', 'target.inheritance.Derived', Derived, ['inheritedmeth'])
439. 
440. 
441. @pytest.mark.sphinx('html', testroot='ext-autodoc')
442. def test_py_module(app, warning):
443.     # without py:module
444.     actual = do_autodoc(app, 'method', 'Class.meth')
445.     assert list(actual) == []
446.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
447.             in warning.getvalue())
448. 
449.     # with py:module
450.     app.env.ref_context['py:module'] = 'target'
451.     warning.truncate(0)
452. 
453.     actual = do_autodoc(app, 'method', 'Class.meth')
454.     assert list(actual) == [
455.         '',
456.         '.. py:method:: Class.meth()',
457.         '   :module: target',
458.         '',
459.         '   Function.',
460.         '',
461.     ]
462.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
463.             not in warning.getvalue())
464. 
465. 
466. @pytest.mark.sphinx('html', testroot='ext-autodoc')
467. def test_autodoc_decorator(app):
468.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco1')
469.     assert list(actual) == [
470.         '',
471.         '.. py:decorator:: deco1',
472.         '   :module: target.decorator',
473.         '',
474.         '   docstring for deco1',
475.         '',
476.     ]
477. 
478.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco2')
479.     assert list(actual) == [
480.         '',
481.         '.. py:decorator:: deco2(condition, message)',
482.         '   :module: target.decorator',
483.         '',
484.         '   docstring for deco2',
485.         '',
486.     ]
487. 
488. 
489. @pytest.mark.sphinx('html', testroot='ext-autodoc')
490. def test_autodoc_exception(app):
491.     actual = do_autodoc(app, 'exception', 'target.CustomEx')
492.     assert list(actual) == [
493.         '',
494.         '.. py:exception:: CustomEx',
495.         '   :module: target',
496.         '',
497.         '   My custom exception.',
498.         '',
499.     ]
500. 

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 01:13:45,834 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user is looking for test cases related to `autodoc_docstring_signature`. The provided context from `tests/test_ext_autodoc.py` is partial and does not contain explicit tests for this feature. To find relevant tests that demonstrate the usage of this configuration, I need to look into files that specifically test autodoc configurations. The file `tests/test_ext_autodoc_configs.py` seems like the most relevant place to find such tests.' query='Please provide the full content of `tests/test_ext_autodoc_configs.py`.' extra_requirements='' purpose="This file is expected to contain tests for various autodoc configurations, including `autodoc_docstring_signature`, which is central to the user's issue."
2025-12-24 01:13:45,835 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_ext_autodoc_configs.py`.
2025-12-24 01:13:45,835 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 01:13:45,836 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 01:13:45,837 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 01:13:45,837 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_ext_autodoc_configs.py`.
Purpose: This file is expected to contain tests for various autodoc configurations, including `autodoc_docstring_signature`, which is central to the user's issue.
2025-12-24 01:13:48,224 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will read the file `tests/test_ext_autodoc_configs.py` to understand the tests for various autodoc configurations. This will help in understanding how `autodoc_docstring_signature` is tested.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/test_ext_autodoc_configs.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2083, 'candidates_token_count': 73, 'total_token_count': 2249, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2083}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 73}], 'thoughts_token_count': 93, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09126139340335376, 'model_name': 'gemini-2.5-pro'} id='run--ea8d1dd3-f1f0-4722-aa7e-8afa50abc565-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_ext_autodoc_configs.py'}, 'id': '4609fab0-db76-4d92-ba08-135565dfb9d7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2083, 'output_tokens': 73, 'total_tokens': 2249, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 93}}
2025-12-24 01:13:51,255 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the beginning of `tests/test_ext_autodoc_configs.py`. I will now read the rest of the file to get the full content, as requested by the user.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "end_line": 1000.0, "relative_path": "tests/test_ext_autodoc_configs.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9105, 'candidates_token_count': 73, 'total_token_count': 9272, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9105}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 73}], 'thoughts_token_count': 94, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.19381836669085778, 'model_name': 'gemini-2.5-pro'} id='run--a719efcb-cef3-4383-8e8a-66f5f149ab58-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'end_line': 1000.0, 'relative_path': 'tests/test_ext_autodoc_configs.py'}, 'id': '56cf4cc1-5a69-4eef-b11e-59ac19baae71', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9105, 'output_tokens': 73, 'total_tokens': 9272, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 94}}
2025-12-24 01:13:54,547 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of `tests/test_ext_autodoc_configs.py`. The file contains a suite of tests for the autodoc extension, focusing on the effects of various configuration variables. This includes tests for `autoclass_content`, `autodoc_inherit_docstrings`, `autodoc_docstring_signature`, and other options.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 13832, 'candidates_token_count': 77, 'total_token_count': 14083, 'cached_content_token_count': 8815, 'prompt_tokens_details': [{'modality': 1, 'token_count': 13832}], 'cache_tokens_details': [{'modality': 1, 'token_count': 8815}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 77}], 'thoughts_token_count': 174}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3117589579000101, 'model_name': 'gemini-2.5-pro'} id='run--f59caafb-d6cf-4013-91d9-dfb78fee80e3-0' usage_metadata={'input_tokens': 13832, 'output_tokens': 77, 'total_tokens': 14083, 'input_token_details': {'cache_read': 8815}, 'output_token_details': {'reasoning': 174}}
2025-12-24 01:13:54,549 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/test_ext_autodoc_configs.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is expected to contain tests for various autodoc configurations, including `autodoc_docstring_signature`, which is central to the user's issue.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/test_ext_autodoc_configs.py
Line number range: 1 - 500
Content:
1. """
2.     test_ext_autodoc_configs
3.     ~~~~~~~~~~~~~~~~~~~~~~~~
4. 
5.     Test the autodoc extension.  This tests mainly for config variables
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import platform
12. import sys
13. 
14. import pytest
15. 
16. from test_ext_autodoc import do_autodoc
17. 
18. IS_PYPY = platform.python_implementation() == 'PyPy'
19. 
20. 
21. @pytest.mark.sphinx('html', testroot='ext-autodoc')
22. def test_autoclass_content_class(app):
23.     app.config.autoclass_content = 'class'
24.     options = {"members": None}
25.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
26.     assert list(actual) == [
27.         '',
28.         '.. py:module:: target.autoclass_content',
29.         '',
30.         '',
31.         '.. py:class:: A()',
32.         '   :module: target.autoclass_content',
33.         '',
34.         '   A class having no __init__, no __new__',
35.         '',
36.         '',
37.         '.. py:class:: B()',
38.         '   :module: target.autoclass_content',
39.         '',
40.         '   A class having __init__(no docstring), no __new__',
41.         '',
42.         '',
43.         '.. py:class:: C()',
44.         '   :module: target.autoclass_content',
45.         '',
46.         '   A class having __init__, no __new__',
47.         '',
48.         '',
49.         '.. py:class:: D()',
50.         '   :module: target.autoclass_content',
51.         '',
52.         '   A class having no __init__, __new__(no docstring)',
53.         '',
54.         '',
55.         '.. py:class:: E()',
56.         '   :module: target.autoclass_content',
57.         '',
58.         '   A class having no __init__, __new__',
59.         '',
60.         '',
61.         '.. py:class:: F()',
62.         '   :module: target.autoclass_content',
63.         '',
64.         '   A class having both __init__ and __new__',
65.         '',
66.         '',
67.         '.. py:class:: G()',
68.         '   :module: target.autoclass_content',
69.         '',
70.         '   A class inherits __init__ without docstring.',
71.         '',
72.         '',
73.         '.. py:class:: H()',
74.         '   :module: target.autoclass_content',
75.         '',
76.         '   A class inherits __new__ without docstring.',
77.         '',
78.     ]
79. 
80. 
81. @pytest.mark.sphinx('html', testroot='ext-autodoc')
82. def test_autoclass_content_init(app):
83.     app.config.autoclass_content = 'init'
84.     options = {"members": None}
85.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
86.     assert list(actual) == [
87.         '',
88.         '.. py:module:: target.autoclass_content',
89.         '',
90.         '',
91.         '.. py:class:: A()',
92.         '   :module: target.autoclass_content',
93.         '',
94.         '   A class having no __init__, no __new__',
95.         '',
96.         '',
97.         '.. py:class:: B()',
98.         '   :module: target.autoclass_content',
99.         '',
100.         '   A class having __init__(no docstring), no __new__',
101.         '',
102.         '',
103.         '.. py:class:: C()',
104.         '   :module: target.autoclass_content',
105.         '',
106.         '   __init__ docstring',
107.         '',
108.         '',
109.         '.. py:class:: D()',
110.         '   :module: target.autoclass_content',
111.         '',
112.         '   A class having no __init__, __new__(no docstring)',
113.         '',
114.         '',
115.         '.. py:class:: E()',
116.         '   :module: target.autoclass_content',
117.         '',
118.         '   __new__ docstring',
119.         '',
120.         '',
121.         '.. py:class:: F()',
122.         '   :module: target.autoclass_content',
123.         '',
124.         '   __init__ docstring',
125.         '',
126.         '',
127.         '.. py:class:: G()',
128.         '   :module: target.autoclass_content',
129.         '',
130.         '   __init__ docstring',
131.         '',
132.         '',
133.         '.. py:class:: H()',
134.         '   :module: target.autoclass_content',
135.         '',
136.         '   __new__ docstring',
137.         '',
138.     ]
139. 
140. 
141. @pytest.mark.sphinx('html', testroot='ext-autodoc')
142. def test_autoclass_content_both(app):
143.     app.config.autoclass_content = 'both'
144.     options = {"members": None}
145.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
146.     assert list(actual) == [
147.         '',
148.         '.. py:module:: target.autoclass_content',
149.         '',
150.         '',
151.         '.. py:class:: A()',
152.         '   :module: target.autoclass_content',
153.         '',
154.         '   A class having no __init__, no __new__',
155.         '',
156.         '',
157.         '.. py:class:: B()',
158.         '   :module: target.autoclass_content',
159.         '',
160.         '   A class having __init__(no docstring), no __new__',
161.         '',
162.         '',
163.         '.. py:class:: C()',
164.         '   :module: target.autoclass_content',
165.         '',
166.         '   A class having __init__, no __new__',
167.         '',
168.         '   __init__ docstring',
169.         '',
170.         '',
171.         '.. py:class:: D()',
172.         '   :module: target.autoclass_content',
173.         '',
174.         '   A class having no __init__, __new__(no docstring)',
175.         '',
176.         '',
177.         '.. py:class:: E()',
178.         '   :module: target.autoclass_content',
179.         '',
180.         '   A class having no __init__, __new__',
181.         '',
182.         '   __new__ docstring',
183.         '',
184.         '',
185.         '.. py:class:: F()',
186.         '   :module: target.autoclass_content',
187.         '',
188.         '   A class having both __init__ and __new__',
189.         '',
190.         '   __init__ docstring',
191.         '',
192.         '',
193.         '.. py:class:: G()',
194.         '   :module: target.autoclass_content',
195.         '',
196.         '   A class inherits __init__ without docstring.',
197.         '',
198.         '   __init__ docstring',
199.         '',
200.         '',
201.         '.. py:class:: H()',
202.         '   :module: target.autoclass_content',
203.         '',
204.         '   A class inherits __new__ without docstring.',
205.         '',
206.         '   __new__ docstring',
207.         '',
208.     ]
209. 
210. 
211. @pytest.mark.sphinx('html', testroot='ext-autodoc')
212. def test_autodoc_inherit_docstrings(app):
213.     assert app.config.autodoc_inherit_docstrings is True  # default
214.     actual = do_autodoc(app, 'method', 'target.inheritance.Derived.inheritedmeth')
215.     assert list(actual) == [
216.         '',
217.         '.. py:method:: Derived.inheritedmeth()',
218.         '   :module: target.inheritance',
219.         '',
220.         '   Inherited function.',
221.         '',
222.     ]
223. 
224.     # disable autodoc_inherit_docstrings
225.     app.config.autodoc_inherit_docstrings = False
226.     actual = do_autodoc(app, 'method', 'target.inheritance.Derived.inheritedmeth')
227.     assert list(actual) == [
228.         '',
229.         '.. py:method:: Derived.inheritedmeth()',
230.         '   :module: target.inheritance',
231.         ''
232.     ]
233. 
234. 
235. @pytest.mark.sphinx('html', testroot='ext-autodoc')
236. def test_autodoc_docstring_signature(app):
237.     options = {"members": None}
238.     actual = do_autodoc(app, 'class', 'target.DocstringSig', options)
239.     assert list(actual) == [
240.         '',
241.         '.. py:class:: DocstringSig()',
242.         '   :module: target',
243.         '',
244.         '',
245.         '   .. py:method:: DocstringSig.meth(FOO, BAR=1) -> BAZ',
246.         '      :module: target',
247.         '',
248.         '      First line of docstring',
249.         '',
250.         '      rest of docstring',
251.         '',
252.         '',
253.         '   .. py:method:: DocstringSig.meth2()',
254.         '      :module: target',
255.         '',
256.         '      First line, no signature',
257.         '      Second line followed by indentation::',
258.         '',
259.         '          indented line',
260.         '',
261.         '',
262.         '   .. py:method:: DocstringSig.prop1',
263.         '      :module: target',
264.         '      :property:',
265.         '',
266.         '      First line of docstring',
267.         '',
268.         '',
269.         '   .. py:method:: DocstringSig.prop2',
270.         '      :module: target',
271.         '      :property:',
272.         '',
273.         '      First line of docstring',
274.         '      Second line of docstring',
275.         '',
276.     ]
277. 
278.     # disable autodoc_docstring_signature
279.     app.config.autodoc_docstring_signature = False
280.     actual = do_autodoc(app, 'class', 'target.DocstringSig', options)
281.     assert list(actual) == [
282.         '',
283.         '.. py:class:: DocstringSig()',
284.         '   :module: target',
285.         '',
286.         '',
287.         '   .. py:method:: DocstringSig.meth()',
288.         '      :module: target',
289.         '',
290.         '      meth(FOO, BAR=1) -> BAZ',
291.         '      First line of docstring',
292.         '',
293.         '              rest of docstring',
294.         '',
295.         '',
296.         '',
297.         '   .. py:method:: DocstringSig.meth2()',
298.         '      :module: target',
299.         '',
300.         '      First line, no signature',
301.         '      Second line followed by indentation::',
302.         '',
303.         '          indented line',
304.         '',
305.         '',
306.         '   .. py:method:: DocstringSig.prop1',
307.         '      :module: target',
308.         '      :property:',
309.         '',
310.         '      DocstringSig.prop1(self)',
311.         '      First line of docstring',
312.         '',
313.         '',
314.         '   .. py:method:: DocstringSig.prop2',
315.         '      :module: target',
316.         '      :property:',
317.         '',
318.         '      First line of docstring',
319.         '      Second line of docstring',
320.         '',
321.     ]
322. 
323. 
324. @pytest.mark.sphinx('html', testroot='ext-autodoc')
325. def test_autoclass_content_and_docstring_signature_class(app):
326.     app.config.autoclass_content = 'class'
327.     options = {"members": None,
328.                "undoc-members": None}
329.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
330.     assert list(actual) == [
331.         '',
332.         '.. py:module:: target.docstring_signature',
333.         '',
334.         '',
335.         '.. py:class:: A(foo, bar)',
336.         '   :module: target.docstring_signature',
337.         '',
338.         '',
339.         '.. py:class:: B(foo, bar)',
340.         '   :module: target.docstring_signature',
341.         '',
342.         '',
343.         '.. py:class:: C(foo, bar)',
344.         '   :module: target.docstring_signature',
345.         '',
346.         '',
347.         '.. py:class:: D()',
348.         '   :module: target.docstring_signature',
349.         ''
350.     ]
351. 
352. 
353. @pytest.mark.sphinx('html', testroot='ext-autodoc')
354. def test_autoclass_content_and_docstring_signature_init(app):
355.     app.config.autoclass_content = 'init'
356.     options = {"members": None,
357.                "undoc-members": None}
358.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
359.     assert list(actual) == [
360.         '',
361.         '.. py:module:: target.docstring_signature',
362.         '',
363.         '',
364.         '.. py:class:: A(foo, bar)',
365.         '   :module: target.docstring_signature',
366.         '',
367.         '',
368.         '.. py:class:: B(foo, bar, baz)',
369.         '   :module: target.docstring_signature',
370.         '',
371.         '',
372.         '.. py:class:: C(foo, bar, baz)',
373.         '   :module: target.docstring_signature',
374.         '',
375.         '',
376.         '.. py:class:: D(foo, bar, baz)',
377.         '   :module: target.docstring_signature',
378.         ''
379.     ]
380. 
381. 
382. @pytest.mark.sphinx('html', testroot='ext-autodoc')
383. def test_autoclass_content_and_docstring_signature_both(app):
384.     app.config.autoclass_content = 'both'
385.     options = {"members": None,
386.                "undoc-members": None}
387.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
388.     assert list(actual) == [
389.         '',
390.         '.. py:module:: target.docstring_signature',
391.         '',
392.         '',
393.         '.. py:class:: A(foo, bar)',
394.         '   :module: target.docstring_signature',
395.         '',
396.         '',
397.         '.. py:class:: B(foo, bar)',
398.         '   :module: target.docstring_signature',
399.         '',
400.         '   B(foo, bar, baz)',
401.         '',
402.         '',
403.         '.. py:class:: C(foo, bar)',
404.         '   :module: target.docstring_signature',
405.         '',
406.         '   C(foo, bar, baz)',
407.         '',
408.         '',
409.         '.. py:class:: D(foo, bar, baz)',
410.         '   :module: target.docstring_signature',
411.         '',
412.     ]
413. 
414. 
415. @pytest.mark.sphinx('html', testroot='ext-autodoc')
416. def test_mocked_module_imports(app, warning):
417.     # no autodoc_mock_imports
418.     options = {"members": 'TestAutodoc,decoratedFunction,func'}
419.     actual = do_autodoc(app, 'module', 'target.need_mocks', options)
420.     assert list(actual) == []
421.     assert "autodoc: failed to import module 'need_mocks'" in warning.getvalue()
422. 
423.     # with autodoc_mock_imports
424.     app.config.autodoc_mock_imports = [
425.         'missing_module',
426.         'missing_package1',
427.         'missing_package2',
428.         'missing_package3',
429.         'sphinx.missing_module4',
430.     ]
431. 
432.     warning.truncate(0)
433.     actual = do_autodoc(app, 'module', 'target.need_mocks', options)
434.     assert list(actual) == [
435.         '',
436.         '.. py:module:: target.need_mocks',
437.         '',
438.         '',
439.         '.. py:class:: TestAutodoc()',
440.         '   :module: target.need_mocks',
441.         '',
442.         '   TestAutodoc docstring.',
443.         '',
444.         '',
445.         '   .. py:method:: TestAutodoc.decoratedMethod()',
446.         '      :module: target.need_mocks',
447.         '',
448.         '      TestAutodoc::decoratedMethod docstring',
449.         '',
450.         '',
451.         '.. py:function:: decoratedFunction()',
452.         '   :module: target.need_mocks',
453.         '',
454.         '   decoratedFunction docstring',
455.         '',
456.         '',
457.         '.. py:function:: func(arg: missing_module.Class)',
458.         '   :module: target.need_mocks',
459.         '',
460.         '   a function takes mocked object as an argument',
461.         '',
462.     ]
463.     assert warning.getvalue() == ''
464. 
465. 
466. @pytest.mark.sphinx('html', testroot='ext-autodoc',
467.                     confoverrides={'autodoc_typehints': "signature"})
468. def test_autodoc_typehints_signature(app):
469.     options = {"members": None,
470.                "undoc-members": True}
471.     actual = do_autodoc(app, 'module', 'target.typehints', options)
472.     assert list(actual) == [
473.         '',
474.         '.. py:module:: target.typehints',
475.         '',
476.         '',
477.         '.. py:class:: Math(s: str, o: object = None)',
478.         '   :module: target.typehints',
479.         '',
480.         '',
481.         '   .. py:method:: Math.decr(a: int, b: int = 1) -> int',
482.         '      :module: target.typehints',
483.         '',
484.         '',
485.         '   .. py:method:: Math.horse(a: str, b: int) -> None',
486.         '      :module: target.typehints',
487.         '',
488.         '',
489.         '   .. py:method:: Math.incr(a: int, b: int = 1) -> int',
490.         '      :module: target.typehints',
491.         '',
492.         '',
493.         '   .. py:method:: Math.nothing() -> None',
494.         '      :module: target.typehints',
495.         '',
496.         '',
497.         '.. py:class:: NewAnnotation(i: int)',
498.         '   :module: target.typehints',
499.         '',
500.         '',


File: tests/test_ext_autodoc_configs.py
Line number range: 501 - 1000
Content:
501.         '.. py:class:: NewComment(i: int)',
502.         '   :module: target.typehints',
503.         '',
504.         '',
505.         '.. py:class:: SignatureFromMetaclass(a: int)',
506.         '   :module: target.typehints',
507.         '',
508.         '',
509.         '.. py:function:: complex_func(arg1: str, arg2: List[int], arg3: Tuple[int, '
510.         'Union[str, Unknown]] = None, *args: str, **kwargs: str) -> None',
511.         '   :module: target.typehints',
512.         '',
513.         '',
514.         '.. py:function:: decr(a: int, b: int = 1) -> int',
515.         '   :module: target.typehints',
516.         '',
517.         '',
518.         '.. py:function:: incr(a: int, b: int = 1) -> int',
519.         '   :module: target.typehints',
520.         '',
521.         '',
522.         '.. py:function:: missing_attr(c, a: str, b: Optional[str] = None) -> str',
523.         '   :module: target.typehints',
524.         '',
525.         '',
526.         '.. py:function:: tuple_args(x: Tuple[int, Union[int, str]]) -> Tuple[int, int]',
527.         '   :module: target.typehints',
528.         '',
529.     ]
530. 
531. 
532. @pytest.mark.sphinx('html', testroot='ext-autodoc',
533.                     confoverrides={'autodoc_typehints': "none"})
534. def test_autodoc_typehints_none(app):
535.     options = {"members": None,
536.                "undoc-members": True}
537.     actual = do_autodoc(app, 'module', 'target.typehints', options)
538.     assert list(actual) == [
539.         '',
540.         '.. py:module:: target.typehints',
541.         '',
542.         '',
543.         '.. py:class:: Math(s, o=None)',
544.         '   :module: target.typehints',
545.         '',
546.         '',
547.         '   .. py:method:: Math.decr(a, b=1)',
548.         '      :module: target.typehints',
549.         '',
550.         '',
551.         '   .. py:method:: Math.horse(a, b)',
552.         '      :module: target.typehints',
553.         '',
554.         '',
555.         '   .. py:method:: Math.incr(a, b=1)',
556.         '      :module: target.typehints',
557.         '',
558.         '',
559.         '   .. py:method:: Math.nothing()',
560.         '      :module: target.typehints',
561.         '',
562.         '',
563.         '.. py:class:: NewAnnotation(i)',
564.         '   :module: target.typehints',
565.         '',
566.         '',
567.         '.. py:class:: NewComment(i)',
568.         '   :module: target.typehints',
569.         '',
570.         '',
571.         '.. py:class:: SignatureFromMetaclass(a)',
572.         '   :module: target.typehints',
573.         '',
574.         '',
575.         '.. py:function:: complex_func(arg1, arg2, arg3=None, *args, **kwargs)',
576.         '   :module: target.typehints',
577.         '',
578.         '',
579.         '.. py:function:: decr(a, b=1)',
580.         '   :module: target.typehints',
581.         '',
582.         '',
583.         '.. py:function:: incr(a, b=1)',
584.         '   :module: target.typehints',
585.         '',
586.         '',
587.         '.. py:function:: missing_attr(c, a, b=None)',
588.         '   :module: target.typehints',
589.         '',
590.         '',
591.         '.. py:function:: tuple_args(x)',
592.         '   :module: target.typehints',
593.         '',
594.     ]
595. 
596. 
597. @pytest.mark.sphinx('text', testroot='ext-autodoc',
598.                     confoverrides={'autodoc_typehints': "description"})
599. def test_autodoc_typehints_description(app):
600.     app.build()
601.     context = (app.outdir / 'index.txt').read_text()
602.     assert ('target.typehints.incr(a, b=1)\n'
603.             '\n'
604.             '   Parameters:\n'
605.             '      * **a** (*int*) --\n'
606.             '\n'
607.             '      * **b** (*int*) --\n'
608.             '\n'
609.             '   Return type:\n'
610.             '      int\n'
611.             in context)
612.     assert ('target.typehints.tuple_args(x)\n'
613.             '\n'
614.             '   Parameters:\n'
615.             '      **x** (*Tuple**[**int**, **Union**[**int**, **str**]**]*) --\n'
616.             '\n'
617.             '   Return type:\n'
618.             '      Tuple[int, int]\n'
619.             in context)
620. 
621. 
622. 
623. @pytest.mark.sphinx('html', testroot='ext-autodoc')
624. def test_autodoc_default_options(app):
625.     # no settings
626.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
627.     assert '   .. py:attribute:: EnumCls.val1' not in actual
628.     assert '   .. py:attribute:: EnumCls.val4' not in actual
629.     actual = do_autodoc(app, 'class', 'target.CustomIter')
630.     assert '   .. py:method:: target.CustomIter' not in actual
631.     actual = do_autodoc(app, 'module', 'target')
632.     assert '.. py:function:: save_traceback(app)' not in actual
633. 
634.     # with :members:
635.     app.config.autodoc_default_options = {'members': None}
636.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
637.     assert '   .. py:attribute:: EnumCls.val1' in actual
638.     assert '   .. py:attribute:: EnumCls.val4' not in actual
639. 
640.     # with :members: = True
641.     app.config.autodoc_default_options = {'members': True}
642.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
643.     assert '   .. py:attribute:: EnumCls.val1' in actual
644.     assert '   .. py:attribute:: EnumCls.val4' not in actual
645. 
646.     # with :members: and :undoc-members:
647.     app.config.autodoc_default_options = {
648.         'members': None,
649.         'undoc-members': None,
650.     }
651.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
652.     assert '   .. py:attribute:: EnumCls.val1' in actual
653.     assert '   .. py:attribute:: EnumCls.val4' in actual
654. 
655.     # with :special-members:
656.     # Note that :members: must be *on* for :special-members: to work.
657.     app.config.autodoc_default_options = {
658.         'members': None,
659.         'special-members': None
660.     }
661.     actual = do_autodoc(app, 'class', 'target.CustomIter')
662.     assert '   .. py:method:: CustomIter.__init__()' in actual
663.     assert '      Create a new `CustomIter`.' in actual
664.     assert '   .. py:method:: CustomIter.__iter__()' in actual
665.     assert '      Iterate squares of each value.' in actual
666.     if not IS_PYPY:
667.         assert '   .. py:attribute:: CustomIter.__weakref__' in actual
668.         assert '      list of weak references to the object (if defined)' in actual
669. 
670.     # :exclude-members: None - has no effect. Unlike :members:,
671.     # :special-members:, etc. where None == "include all", here None means
672.     # "no/false/off".
673.     app.config.autodoc_default_options = {
674.         'members': None,
675.         'exclude-members': None,
676.     }
677.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
678.     assert '   .. py:attribute:: EnumCls.val1' in actual
679.     assert '   .. py:attribute:: EnumCls.val4' not in actual
680.     app.config.autodoc_default_options = {
681.         'members': None,
682.         'special-members': None,
683.         'exclude-members': None,
684.     }
685.     actual = do_autodoc(app, 'class', 'target.CustomIter')
686.     assert '   .. py:method:: CustomIter.__init__()' in actual
687.     assert '      Create a new `CustomIter`.' in actual
688.     assert '   .. py:method:: CustomIter.__iter__()' in actual
689.     assert '      Iterate squares of each value.' in actual
690.     if not IS_PYPY:
691.         assert '   .. py:attribute:: CustomIter.__weakref__' in actual
692.         assert '      list of weak references to the object (if defined)' in actual
693.     assert '   .. py:method:: CustomIter.snafucate()' in actual
694.     assert '      Makes this snafucated.' in actual
695. 
696. 
697. @pytest.mark.sphinx('html', testroot='ext-autodoc')
698. def test_autodoc_default_options_with_values(app):
699.     # with :members:
700.     app.config.autodoc_default_options = {'members': 'val1,val2'}
701.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
702.     assert '   .. py:attribute:: EnumCls.val1' in actual
703.     assert '   .. py:attribute:: EnumCls.val2' in actual
704.     assert '   .. py:attribute:: EnumCls.val3' not in actual
705.     assert '   .. py:attribute:: EnumCls.val4' not in actual
706. 
707.     # with :member-order:
708.     app.config.autodoc_default_options = {
709.         'members': None,
710.         'member-order': 'bysource',
711.     }
712.     actual = do_autodoc(app, 'class', 'target.Class')
713.     assert list(filter(lambda l: '::' in l, actual)) == [
714.         '.. py:class:: Class(arg)',
715.         '   .. py:method:: Class.meth()',
716.         '   .. py:method:: Class.skipmeth()',
717.         '   .. py:method:: Class.excludemeth()',
718.         '   .. py:attribute:: Class.attr',
719.         '   .. py:attribute:: Class.docattr',
720.         '   .. py:attribute:: Class.udocattr',
721.         '   .. py:attribute:: Class.mdocattr',
722.         '   .. py:method:: Class.moore(a, e, f) -> happiness',
723.         '   .. py:attribute:: Class.inst_attr_inline',
724.         '   .. py:attribute:: Class.inst_attr_comment',
725.         '   .. py:attribute:: Class.inst_attr_string',
726.     ]
727. 
728.     # with :special-members:
729.     app.config.autodoc_default_options = {
730.         'special-members': '__init__,__iter__',
731.     }
732.     actual = do_autodoc(app, 'class', 'target.CustomIter')
733.     assert '   .. py:method:: CustomIter.__init__()' in actual
734.     assert '      Create a new `CustomIter`.' in actual
735.     assert '   .. py:method:: CustomIter.__iter__()' in actual
736.     assert '      Iterate squares of each value.' in actual
737.     if not IS_PYPY:
738.         assert '   .. py:attribute:: CustomIter.__weakref__' not in actual
739.         assert '      list of weak references to the object (if defined)' not in actual
740. 
741.     # with :exclude-members:
742.     app.config.autodoc_default_options = {
743.         'members': None,
744.         'exclude-members': 'val1'
745.     }
746.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
747.     assert '   .. py:attribute:: EnumCls.val1' not in actual
748.     assert '   .. py:attribute:: EnumCls.val2' in actual
749.     assert '   .. py:attribute:: EnumCls.val3' in actual
750.     assert '   .. py:attribute:: EnumCls.val4' not in actual
751.     app.config.autodoc_default_options = {
752.         'members': None,
753.         'special-members': None,
754.         'exclude-members': '__weakref__,snafucate',
755.     }
756.     actual = do_autodoc(app, 'class', 'target.CustomIter')
757.     assert '   .. py:method:: CustomIter.__init__()' in actual
758.     assert '      Create a new `CustomIter`.' in actual
759.     assert '   .. py:method:: CustomIter.__iter__()' in actual
760.     assert '      Iterate squares of each value.' in actual
761.     if not IS_PYPY:
762.         assert '   .. py:attribute:: CustomIter.__weakref__' not in actual
763.         assert '      list of weak references to the object (if defined)' not in actual
764.     assert '   .. py:method:: CustomIter.snafucate()' not in actual
765.     assert '      Makes this snafucated.' not in actual

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 01:13:59,076 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user has requested the full content of the file `tests/test_ext_autodoc_configs.py`. Therefore, the entire file is relevant to the query.', relative_path='tests/test_ext_autodoc_configs.py', start_line=1, end_line=765)]
2025-12-24 01:13:59,078 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `tests/test_ext_autodoc_configs.py`.
2025-12-24 01:13:59,078 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 01:13:59,078 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 01:13:59,078 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 3 existing contexts
2025-12-24 01:13:59,078 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 4 total contexts (removed 0 duplicates)
2025-12-24 01:13:59,079 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   ├── PULL_REQUEST_TEMPLATE.md
|   └── workflows
|       └── main.yml
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   ├── __init__.py
|   |   |   └── transforms.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.5.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── namespace.rst
|   |   |   └── semicolon.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── semicolon.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── classes.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── final.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── sort_by_all.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-recursive
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── package
|   |   |   |   ├── __init__.py
|   |   |   |   ├── module.py
|   |   |   |   ├── module_importfail.py
|   |   |   |   └── package
|   |   |   └── package2
|   |   |       ├── __init__.py
|   |   |       └── module.py
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-autosummary-template
|   |   |   ├── _templates
|   |   |   |   └── empty.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_autofunction.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: autodoc_docstring_signature with overloaded methods

Description: When using swig to wrap C++ classes for python, if they have overloaded methods, I believe the convention is to place the signatures for each of the overloaded C++ methods at the start of the docstring. Currently, `autodoc_docstring_signature` can only pick up the first one. It would be nice to be able to pick up all of them.


Patch information:
diff --git a/doc/usage/extensions/autodoc.rst b/doc/usage/extensions/autodoc.rst
index 36be7568b..94db328ed 100644
--- a/doc/usage/extensions/autodoc.rst
+++ b/doc/usage/extensions/autodoc.rst
@@ -450,9 +450,10 @@ There are also config values that you can set:
    function's docstring.
 
    If this boolean value is set to ``True`` (which is the default), autodoc will
-   look at the first line of the docstring for functions and methods, and if it
-   looks like a signature, use the line as the signature and remove it from the
-   docstring content.
+   look at the first lines of the docstring for functions and methods, and if they
+   look like signatures, use those lines as the signature(s) and remove them from
+   the docstring content. Multiple consecutive signature lines at the start of the
+   docstring will be shown as multiple overloads (one per line).
 
    .. versionadded:: 1.1
 
diff --git a/sphinx/ext/autodoc/__init__.py b/sphinx/ext/autodoc/__init__.py
index f8e4be999..3c8cd5331 100644
--- a/sphinx/ext/autodoc/__init__.py
+++ b/sphinx/ext/autodoc/__init__.py
@@ -1044,31 +1044,40 @@ class DocstringSignatureMixin:
                           RemovedInSphinx40Warning, stacklevel=2)
         docstrings = self.get_doc()
         self._new_docstrings = docstrings[:]
+        # collect multiple consecutive signatures at the start of the docstring
+        self._docstring_signatures = []
         result = None
         for i, doclines in enumerate(docstrings):
             # no lines in docstring, no match
             if not doclines:
                 continue
-            # match first line of docstring against signature RE
-            match = py_ext_sig_re.match(doclines[0])
-            if not match:
-                continue
-            exmod, path, base, args, retann = match.groups()
-            # the base name must match ours
-            valid_names = [self.objpath[-1]]  # type: ignore
-            if isinstance(self, ClassDocumenter):
-                valid_names.append('__init__')
-                if hasattr(self.object, '__mro__'):
-                    valid_names.extend(cls.__name__ for cls in self.object.__mro__)
-            if base not in valid_names:
-                continue
-            # re-prepare docstring to ignore more leading indentation
-            tab_width = self.directive.state.document.settings.tab_width  # type: ignore
-            self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[1:]),
-                                                        tabsize=tab_width)
-            result = args, retann
-            # don't look any further
-            break
+            # collect consecutive signature lines at the beginning
+            j = 0
+            collected = []
+            while j < len(doclines):
+                match = py_ext_sig_re.match(doclines[j])
+                if not match:
+                    break
+                exmod, path, base, args, retann = match.groups()
+                # the base name must match ours
+                valid_names = [self.objpath[-1]]  # type: ignore
+                if isinstance(self, ClassDocumenter):
+                    valid_names.append('__init__')
+                    if hasattr(self.object, '__mro__'):
+                        valid_names.extend(cls.__name__ for cls in self.object.__mro__)
+                if base not in valid_names:
+                    break
+                collected.append((args, retann))
+                j += 1
+            if collected:
+                # re-prepare docstring to ignore more leading indentation
+                tab_width = self.directive.state.document.settings.tab_width  # type: ignore
+                self._new_docstrings[i] = prepare_docstring('\n'.join(doclines[j:]),
+                                                            tabsize=tab_width)
+                self._docstring_signatures = collected
+                result = collected[0]
+                # don't look any further (only process the first docstring block)
+                break
         return result
 
     def get_doc(self, encoding: str = None, ignore: int = None) -> List[List[str]]:
@@ -1172,6 +1181,22 @@ class FunctionDocumenter(DocstringSignatureMixin, ModuleLevelDocumenter):  # typ
                     documenter.object = func
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:
@@ -1651,6 +1676,22 @@ class MethodDocumenter(DocstringSignatureMixin, ClassLevelDocumenter):  # type:
                     documenter.objpath = [None]
                     sigs.append(documenter.format_signature())
 
+        # append additional signatures parsed from docstring (overloads)
+        extras = getattr(self, '_docstring_signatures', None)
+        if extras and len(extras) > 1:
+            for _args, _retann in extras[1:]:
+                args = ("(%s)" % _args) if _args is not None else None
+                retann = _retann
+                result = self.env.events.emit_firstresult('autodoc-process-signature',
+                                                          self.objtype, self.fullname,
+                                                          self.object, self.options, args, retann)
+                if result:
+                    args, retann = result
+                if args is not None:
+                    sigs.append(args + ((" -> %s" % retann) if retann else ''))
+                else:
+                    sigs.append('')
+
         return "\n".join(sigs)
 
     def annotate_to_first_argument(self, func: Callable, typ: Type) -> None:


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the content of `tests/test_ext_autodoc.py`.
Extra Requirements: Also provide the content of `tests/roots/test-ext-autodoc/conf.py` and `tests/roots/test-ext-autodoc/target/docstring_signature.py`.
Purpose: These files are needed to find complete test cases for the `autodoc_docstring_signature` feature, which is what the user's patch modifies.

Previous refined query 2:
Essential Query: Please provide the full content of `tests/test_ext_autodoc_configs.py`.
Extra Requirements: 
Purpose: This file is expected to contain tests for various autodoc configurations, including `autodoc_docstring_signature`, which is central to the user's issue.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/roots/test-ext-autodoc/conf.py
Line number range: 1 - 15
Content:
1. import os
2. import sys
3. 
4. sys.path.insert(0, os.path.abspath('.'))
5. 
6. extensions = ['sphinx.ext.autodoc']
7. 
8. # The suffix of source filenames.
9. source_suffix = '.rst'
10. 
11. autodoc_mock_imports = [
12.     'dummy'
13. ]
14. 
15. nitpicky = True


File: tests/roots/test-ext-autodoc/target/docstring_signature.py
Line number range: 1 - 19
Content:
1. class A:
2.     """A(foo, bar)"""
3. 
4. 
5. class B:
6.     """B(foo, bar)"""
7.     def __init__(self):
8.         """B(foo, bar, baz)"""
9. 
10. 
11. class C:
12.     """C(foo, bar)"""
13.     def __new__(cls):
14.         """C(foo, bar, baz)"""
15. 
16. 
17. class D:
18.     def __init__(self):
19.         """D(foo, bar, baz)"""


File: tests/test_ext_autodoc.py
Line number range: 1 - 500
Content:
1. """
2.     test_ext_autodoc
3.     ~~~~~~~~~~~~~~~~
4. 
5.     Test the autodoc extension.  This tests mainly the Documenters; the auto
6.     directives are tested in a test source file translated by test_build.
7. 
8.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
9.     :license: BSD, see LICENSE for details.
10. """
11. 
12. import sys
13. from unittest.mock import Mock
14. from warnings import catch_warnings
15. 
16. import pytest
17. from docutils.statemachine import ViewList
18. 
19. from sphinx import addnodes
20. from sphinx.ext.autodoc import ModuleLevelDocumenter, ALL, Options
21. from sphinx.ext.autodoc.directive import DocumenterBridge, process_documenter_options
22. from sphinx.testing.util import SphinxTestApp, Struct  # NOQA
23. from sphinx.util.docutils import LoggingReporter
24. 
25. try:
26.     # Enable pyximport to test cython module
27.     import pyximport
28.     pyximport.install()
29. except ImportError:
30.     pyximport = None
31. 
32. 
33. def do_autodoc(app, objtype, name, options=None):
34.     if options is None:
35.         options = {}
36.     app.env.temp_data.setdefault('docname', 'index')  # set dummy docname
37.     doccls = app.registry.documenters[objtype]
38.     docoptions = process_documenter_options(doccls, app.config, options)
39.     state = Mock()
40.     state.document.settings.tab_width = 8
41.     bridge = DocumenterBridge(app.env, LoggingReporter(''), docoptions, 1, state)
42.     documenter = doccls(bridge, name)
43.     documenter.generate()
44. 
45.     return bridge.result
46. 
47. 
48. def make_directive_bridge(env):
49.     options = Options(
50.         inherited_members = False,
51.         undoc_members = False,
52.         private_members = False,
53.         special_members = False,
54.         imported_members = False,
55.         show_inheritance = False,
56.         noindex = False,
57.         annotation = None,
58.         synopsis = '',
59.         platform = '',
60.         deprecated = False,
61.         members = [],
62.         member_order = 'alphabetical',
63.         exclude_members = set(),
64.         ignore_module_all = False,
65.     )
66. 
67.     directive = Struct(
68.         env = env,
69.         genopt = options,
70.         result = ViewList(),
71.         filename_set = set(),
72.         state = Mock(),
73.     )
74.     directive.state.document.settings.tab_width = 8
75. 
76.     return directive
77. 
78. 
79. processed_signatures = []
80. 
81. 
82. def process_signature(app, what, name, obj, options, args, retann):
83.     processed_signatures.append((what, name))
84.     if name == 'bar':
85.         return '42', None
86. 
87. 
88. def skip_member(app, what, name, obj, skip, options):
89.     if name in ('__special1__', '__special2__'):
90.         return skip
91.     if name.startswith('__'):
92.         return True
93.     if name == 'skipmeth':
94.         return True
95. 
96. 
97. def test_parse_name(app):
98.     def verify(objtype, name, result):
99.         inst = app.registry.documenters[objtype](directive, name)
100.         assert inst.parse_name()
101.         assert (inst.modname, inst.objpath, inst.args, inst.retann) == result
102. 
103.     directive = make_directive_bridge(app.env)
104. 
105.     # for modules
106.     verify('module', 'test_ext_autodoc', ('test_ext_autodoc', [], None, None))
107.     verify('module', 'test.test_ext_autodoc', ('test.test_ext_autodoc', [], None, None))
108.     verify('module', 'test(arg)', ('test', [], 'arg', None))
109.     assert 'signature arguments' in app._warning.getvalue()
110. 
111.     # for functions/classes
112.     verify('function', 'test_ext_autodoc.raises',
113.            ('test_ext_autodoc', ['raises'], None, None))
114.     verify('function', 'test_ext_autodoc.raises(exc) -> None',
115.            ('test_ext_autodoc', ['raises'], 'exc', 'None'))
116.     directive.env.temp_data['autodoc:module'] = 'test_ext_autodoc'
117.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
118.     del directive.env.temp_data['autodoc:module']
119.     directive.env.ref_context['py:module'] = 'test_ext_autodoc'
120.     verify('function', 'raises', ('test_ext_autodoc', ['raises'], None, None))
121.     verify('class', 'Base', ('test_ext_autodoc', ['Base'], None, None))
122. 
123.     # for members
124.     directive.env.ref_context['py:module'] = 'foo'
125.     verify('method', 'util.SphinxTestApp.cleanup',
126.            ('foo', ['util', 'SphinxTestApp', 'cleanup'], None, None))
127.     directive.env.ref_context['py:module'] = 'util'
128.     directive.env.ref_context['py:class'] = 'Foo'
129.     directive.env.temp_data['autodoc:class'] = 'SphinxTestApp'
130.     verify('method', 'cleanup', ('util', ['SphinxTestApp', 'cleanup'], None, None))
131.     verify('method', 'SphinxTestApp.cleanup',
132.            ('util', ['SphinxTestApp', 'cleanup'], None, None))
133. 
134. 
135. def test_format_signature(app):
136.     app.connect('autodoc-process-signature', process_signature)
137.     app.connect('autodoc-skip-member', skip_member)
138. 
139.     directive = make_directive_bridge(app.env)
140. 
141.     def formatsig(objtype, name, obj, args, retann):
142.         inst = app.registry.documenters[objtype](directive, name)
143.         inst.fullname = name
144.         inst.doc_as_attr = False  # for class objtype
145.         inst.parent = object  # dummy
146.         inst.object = obj
147.         inst.objpath = [name]
148.         inst.args = args
149.         inst.retann = retann
150.         res = inst.format_signature()
151.         print(res)
152.         return res
153. 
154.     # no signatures for modules
155.     assert formatsig('module', 'test', None, None, None) == ''
156. 
157.     # test for functions
158.     def f(a, b, c=1, **d):
159.         pass
160. 
161.     def g(a='\n'):
162.         pass
163.     assert formatsig('function', 'f', f, None, None) == '(a, b, c=1, **d)'
164.     assert formatsig('function', 'f', f, 'a, b, c, d', None) == '(a, b, c, d)'
165.     assert formatsig('function', 'g', g, None, None) == r"(a='\n')"
166. 
167.     # test for classes
168.     class D:
169.         pass
170. 
171.     class E:
172.         def __init__(self):
173.             pass
174. 
175.     # an empty init and no init are the same
176.     for C in (D, E):
177.         assert formatsig('class', 'D', C, None, None) == '()'
178. 
179. 
180.     class SomeMeta(type):
181.         def __call__(cls, a, b=None):
182.             return type.__call__(cls, a, b)
183. 
184.     # these three are all equivalent
185.     class F:
186.         def __init__(self, a, b=None):
187.             pass
188. 
189.     class FNew:
190.         def __new__(cls, a, b=None):
191.             return super().__new__(cls)
192. 
193.     class FMeta(metaclass=SomeMeta):
194.         pass
195. 
196.     # and subclasses should always inherit
197.     class G(F):
198.         pass
199. 
200.     class GNew(FNew):
201.         pass
202. 
203.     class GMeta(FMeta):
204.         pass
205. 
206.     # subclasses inherit
207.     for C in (F, FNew, FMeta, G, GNew, GMeta):
208.         assert formatsig('class', 'C', C, None, None) == '(a, b=None)'
209.     assert formatsig('class', 'C', D, 'a, b', 'X') == '(a, b) -> X'
210. 
211. 
212.     class ListSubclass(list):
213.         pass
214. 
215.     # only supported if the python implementation decides to document it
216.     if getattr(list, '__text_signature__', None) is not None:
217.         assert formatsig('class', 'C', ListSubclass, None, None) == '(iterable=(), /)'
218.     else:
219.         assert formatsig('class', 'C', ListSubclass, None, None) == ''
220. 
221. 
222.     class ExceptionSubclass(Exception):
223.         pass
224. 
225.     # Exception has no __text_signature__ at least in Python 3.8
226.     if getattr(Exception, '__text_signature__', None) is None:
227.         assert formatsig('class', 'C', ExceptionSubclass, None, None) == ''
228. 
229. 
230.     # __init__ have signature at first line of docstring
231.     directive.env.config.autoclass_content = 'both'
232. 
233.     class F2:
234.         '''some docstring for F2.'''
235.         def __init__(self, *args, **kw):
236.             '''
237.             __init__(a1, a2, kw1=True, kw2=False)
238. 
239.             some docstring for __init__.
240.             '''
241.     class G2(F2):
242.         pass
243. 
244.     assert formatsig('class', 'F2', F2, None, None) == \
245.         '(a1, a2, kw1=True, kw2=False)'
246.     assert formatsig('class', 'G2', G2, None, None) == \
247.         '(a1, a2, kw1=True, kw2=False)'
248. 
249.     # test for methods
250.     class H:
251.         def foo1(self, b, *c):
252.             pass
253. 
254.         def foo2(b, *c):
255.             pass
256. 
257.         def foo3(self, d='\n'):
258.             pass
259.     assert formatsig('method', 'H.foo', H.foo1, None, None) == '(b, *c)'
260.     assert formatsig('method', 'H.foo', H.foo1, 'a', None) == '(a)'
261.     assert formatsig('method', 'H.foo', H.foo2, None, None) == '(*c)'
262.     assert formatsig('method', 'H.foo', H.foo3, None, None) == r"(d='\n')"
263. 
264.     # test bound methods interpreted as functions
265.     assert formatsig('function', 'foo', H().foo1, None, None) == '(b, *c)'
266.     assert formatsig('function', 'foo', H().foo2, None, None) == '(*c)'
267.     assert formatsig('function', 'foo', H().foo3, None, None) == r"(d='\n')"
268. 
269.     # test exception handling (exception is caught and args is '')
270.     directive.env.config.autodoc_docstring_signature = False
271.     assert formatsig('function', 'int', int, None, None) == ''
272. 
273.     # test processing by event handler
274.     assert formatsig('method', 'bar', H.foo1, None, None) == '42'
275. 
276.     # test functions created via functools.partial
277.     from functools import partial
278.     curried1 = partial(lambda a, b, c: None, 'A')
279.     assert formatsig('function', 'curried1', curried1, None, None) == \
280.         '(b, c)'
281.     curried2 = partial(lambda a, b, c=42: None, 'A')
282.     assert formatsig('function', 'curried2', curried2, None, None) == \
283.         '(b, c=42)'
284.     curried3 = partial(lambda a, b, *c: None, 'A')
285.     assert formatsig('function', 'curried3', curried3, None, None) == \
286.         '(b, *c)'
287.     curried4 = partial(lambda a, b, c=42, *d, **e: None, 'A')
288.     assert formatsig('function', 'curried4', curried4, None, None) == \
289.         '(b, c=42, *d, **e)'
290. 
291. 
292. def test_autodoc_process_signature_typehints(app):
293.     captured = []
294. 
295.     def process_signature(*args):
296.         captured.append(args)
297. 
298.     app.connect('autodoc-process-signature', process_signature)
299. 
300.     def func(x: int, y: int) -> int:
301.         pass
302. 
303.     directive = make_directive_bridge(app.env)
304.     inst = app.registry.documenters['function'](directive, 'func')
305.     inst.fullname = 'func'
306.     inst.object = func
307.     inst.objpath = ['func']
308.     inst.format_signature()
309.     assert captured == [(app, 'function', 'func', func,
310.                          directive.genopt, '(x: int, y: int)', 'int')]
311. 
312. 
313. def test_get_doc(app):
314.     directive = make_directive_bridge(app.env)
315. 
316.     def getdocl(objtype, obj):
317.         inst = app.registry.documenters[objtype](directive, 'tmp')
318.         inst.parent = object  # dummy
319.         inst.object = obj
320.         inst.objpath = [obj.__name__]
321.         inst.doc_as_attr = False
322.         inst.format_signature()  # handle docstring signatures!
323.         ds = inst.get_doc()
324.         # for testing purposes, concat them and strip the empty line at the end
325.         res = sum(ds, [])[:-1]
326.         print(res)
327.         return res
328. 
329.     # objects without docstring
330.     def f():
331.         pass
332.     assert getdocl('function', f) == []
333. 
334.     # standard function, diverse docstring styles...
335.     def f():
336.         """Docstring"""
337.     def g():
338.         """
339.         Docstring
340.         """
341.     for func in (f, g):
342.         assert getdocl('function', func) == ['Docstring']
343. 
344.     # first line vs. other lines indentation
345.     def f():
346.         """First line
347. 
348.         Other
349.           lines
350.         """
351.     assert getdocl('function', f) == ['First line', '', 'Other', '  lines']
352. 
353.     # charset guessing (this module is encoded in utf-8)
354.     def f():
355.         """Döcstring"""
356.     assert getdocl('function', f) == ['Döcstring']
357. 
358.     # already-unicode docstrings must be taken literally
359.     def f():
360.         """Döcstring"""
361.     assert getdocl('function', f) == ['Döcstring']
362. 
363.     # verify that method docstrings get extracted in both normal case
364.     # and in case of bound method posing as a function
365.     class J:  # NOQA
366.         def foo(self):
367.             """Method docstring"""
368.     assert getdocl('method', J.foo) == ['Method docstring']
369.     assert getdocl('function', J().foo) == ['Method docstring']
370. 
371. 
372. @pytest.mark.sphinx('html', testroot='ext-autodoc')
373. def test_new_documenter(app):
374.     class MyDocumenter(ModuleLevelDocumenter):
375.         objtype = 'integer'
376.         directivetype = 'integer'
377.         priority = 100
378. 
379.         @classmethod
380.         def can_document_member(cls, member, membername, isattr, parent):
381.             return isinstance(member, int)
382. 
383.         def document_members(self, all_members=False):
384.             return
385. 
386.     app.add_autodocumenter(MyDocumenter)
387. 
388.     options = {"members": 'integer'}
389.     actual = do_autodoc(app, 'module', 'target', options)
390.     assert list(actual) == [
391.         '',
392.         '.. py:module:: target',
393.         '',
394.         '',
395.         '.. py:integer:: integer',
396.         '   :module: target',
397.         '',
398.         '   documentation for the integer',
399.         '',
400.     ]
401. 
402. 
403. def test_attrgetter_using(app):
404.     from target import Class
405.     from target.inheritance import Derived
406. 
407.     directive = make_directive_bridge(app.env)
408. 
409.     def assert_getter_works(objtype, name, obj, attrs=[], **kw):
410.         getattr_spy = []
411. 
412.         def special_getattr(obj, name, *defargs):
413.             if name in attrs:
414.                 getattr_spy.append((obj, name))
415.                 return None
416.             return getattr(obj, name, *defargs)
417.         app.add_autodoc_attrgetter(type, special_getattr)
418. 
419.         del getattr_spy[:]
420.         inst = app.registry.documenters[objtype](directive, name)
421.         inst.generate(**kw)
422. 
423.         hooked_members = [s[1] for s in getattr_spy]
424.         documented_members = [s[1] for s in processed_signatures]
425.         for attr in attrs:
426.             fullname = '.'.join((name, attr))
427.             assert attr in hooked_members
428.             assert fullname not in documented_members, \
429.                 '%r was not hooked by special_attrgetter function' % fullname
430. 
431.     with catch_warnings(record=True):
432.         directive.genopt['members'] = ALL
433.         directive.genopt['inherited_members'] = False
434.         print(directive.genopt)
435.         assert_getter_works('class', 'target.Class', Class, ['meth'])
436. 
437.         directive.genopt['inherited_members'] = True
438.         assert_getter_works('class', 'target.inheritance.Derived', Derived, ['inheritedmeth'])
439. 
440. 
441. @pytest.mark.sphinx('html', testroot='ext-autodoc')
442. def test_py_module(app, warning):
443.     # without py:module
444.     actual = do_autodoc(app, 'method', 'Class.meth')
445.     assert list(actual) == []
446.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
447.             in warning.getvalue())
448. 
449.     # with py:module
450.     app.env.ref_context['py:module'] = 'target'
451.     warning.truncate(0)
452. 
453.     actual = do_autodoc(app, 'method', 'Class.meth')
454.     assert list(actual) == [
455.         '',
456.         '.. py:method:: Class.meth()',
457.         '   :module: target',
458.         '',
459.         '   Function.',
460.         '',
461.     ]
462.     assert ("don't know which module to import for autodocumenting 'Class.meth'"
463.             not in warning.getvalue())
464. 
465. 
466. @pytest.mark.sphinx('html', testroot='ext-autodoc')
467. def test_autodoc_decorator(app):
468.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco1')
469.     assert list(actual) == [
470.         '',
471.         '.. py:decorator:: deco1',
472.         '   :module: target.decorator',
473.         '',
474.         '   docstring for deco1',
475.         '',
476.     ]
477. 
478.     actual = do_autodoc(app, 'decorator', 'target.decorator.deco2')
479.     assert list(actual) == [
480.         '',
481.         '.. py:decorator:: deco2(condition, message)',
482.         '   :module: target.decorator',
483.         '',
484.         '   docstring for deco2',
485.         '',
486.     ]
487. 
488. 
489. @pytest.mark.sphinx('html', testroot='ext-autodoc')
490. def test_autodoc_exception(app):
491.     actual = do_autodoc(app, 'exception', 'target.CustomEx')
492.     assert list(actual) == [
493.         '',
494.         '.. py:exception:: CustomEx',
495.         '   :module: target',
496.         '',
497.         '   My custom exception.',
498.         '',
499.     ]
500. 


File: tests/test_ext_autodoc_configs.py
Line number range: 1 - 765
Content:
1. """
2.     test_ext_autodoc_configs
3.     ~~~~~~~~~~~~~~~~~~~~~~~~
4. 
5.     Test the autodoc extension.  This tests mainly for config variables
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import platform
12. import sys
13. 
14. import pytest
15. 
16. from test_ext_autodoc import do_autodoc
17. 
18. IS_PYPY = platform.python_implementation() == 'PyPy'
19. 
20. 
21. @pytest.mark.sphinx('html', testroot='ext-autodoc')
22. def test_autoclass_content_class(app):
23.     app.config.autoclass_content = 'class'
24.     options = {"members": None}
25.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
26.     assert list(actual) == [
27.         '',
28.         '.. py:module:: target.autoclass_content',
29.         '',
30.         '',
31.         '.. py:class:: A()',
32.         '   :module: target.autoclass_content',
33.         '',
34.         '   A class having no __init__, no __new__',
35.         '',
36.         '',
37.         '.. py:class:: B()',
38.         '   :module: target.autoclass_content',
39.         '',
40.         '   A class having __init__(no docstring), no __new__',
41.         '',
42.         '',
43.         '.. py:class:: C()',
44.         '   :module: target.autoclass_content',
45.         '',
46.         '   A class having __init__, no __new__',
47.         '',
48.         '',
49.         '.. py:class:: D()',
50.         '   :module: target.autoclass_content',
51.         '',
52.         '   A class having no __init__, __new__(no docstring)',
53.         '',
54.         '',
55.         '.. py:class:: E()',
56.         '   :module: target.autoclass_content',
57.         '',
58.         '   A class having no __init__, __new__',
59.         '',
60.         '',
61.         '.. py:class:: F()',
62.         '   :module: target.autoclass_content',
63.         '',
64.         '   A class having both __init__ and __new__',
65.         '',
66.         '',
67.         '.. py:class:: G()',
68.         '   :module: target.autoclass_content',
69.         '',
70.         '   A class inherits __init__ without docstring.',
71.         '',
72.         '',
73.         '.. py:class:: H()',
74.         '   :module: target.autoclass_content',
75.         '',
76.         '   A class inherits __new__ without docstring.',
77.         '',
78.     ]
79. 
80. 
81. @pytest.mark.sphinx('html', testroot='ext-autodoc')
82. def test_autoclass_content_init(app):
83.     app.config.autoclass_content = 'init'
84.     options = {"members": None}
85.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
86.     assert list(actual) == [
87.         '',
88.         '.. py:module:: target.autoclass_content',
89.         '',
90.         '',
91.         '.. py:class:: A()',
92.         '   :module: target.autoclass_content',
93.         '',
94.         '   A class having no __init__, no __new__',
95.         '',
96.         '',
97.         '.. py:class:: B()',
98.         '   :module: target.autoclass_content',
99.         '',
100.         '   A class having __init__(no docstring), no __new__',
101.         '',
102.         '',
103.         '.. py:class:: C()',
104.         '   :module: target.autoclass_content',
105.         '',
106.         '   __init__ docstring',
107.         '',
108.         '',
109.         '.. py:class:: D()',
110.         '   :module: target.autoclass_content',
111.         '',
112.         '   A class having no __init__, __new__(no docstring)',
113.         '',
114.         '',
115.         '.. py:class:: E()',
116.         '   :module: target.autoclass_content',
117.         '',
118.         '   __new__ docstring',
119.         '',
120.         '',
121.         '.. py:class:: F()',
122.         '   :module: target.autoclass_content',
123.         '',
124.         '   __init__ docstring',
125.         '',
126.         '',
127.         '.. py:class:: G()',
128.         '   :module: target.autoclass_content',
129.         '',
130.         '   __init__ docstring',
131.         '',
132.         '',
133.         '.. py:class:: H()',
134.         '   :module: target.autoclass_content',
135.         '',
136.         '   __new__ docstring',
137.         '',
138.     ]
139. 
140. 
141. @pytest.mark.sphinx('html', testroot='ext-autodoc')
142. def test_autoclass_content_both(app):
143.     app.config.autoclass_content = 'both'
144.     options = {"members": None}
145.     actual = do_autodoc(app, 'module', 'target.autoclass_content', options)
146.     assert list(actual) == [
147.         '',
148.         '.. py:module:: target.autoclass_content',
149.         '',
150.         '',
151.         '.. py:class:: A()',
152.         '   :module: target.autoclass_content',
153.         '',
154.         '   A class having no __init__, no __new__',
155.         '',
156.         '',
157.         '.. py:class:: B()',
158.         '   :module: target.autoclass_content',
159.         '',
160.         '   A class having __init__(no docstring), no __new__',
161.         '',
162.         '',
163.         '.. py:class:: C()',
164.         '   :module: target.autoclass_content',
165.         '',
166.         '   A class having __init__, no __new__',
167.         '',
168.         '   __init__ docstring',
169.         '',
170.         '',
171.         '.. py:class:: D()',
172.         '   :module: target.autoclass_content',
173.         '',
174.         '   A class having no __init__, __new__(no docstring)',
175.         '',
176.         '',
177.         '.. py:class:: E()',
178.         '   :module: target.autoclass_content',
179.         '',
180.         '   A class having no __init__, __new__',
181.         '',
182.         '   __new__ docstring',
183.         '',
184.         '',
185.         '.. py:class:: F()',
186.         '   :module: target.autoclass_content',
187.         '',
188.         '   A class having both __init__ and __new__',
189.         '',
190.         '   __init__ docstring',
191.         '',
192.         '',
193.         '.. py:class:: G()',
194.         '   :module: target.autoclass_content',
195.         '',
196.         '   A class inherits __init__ without docstring.',
197.         '',
198.         '   __init__ docstring',
199.         '',
200.         '',
201.         '.. py:class:: H()',
202.         '   :module: target.autoclass_content',
203.         '',
204.         '   A class inherits __new__ without docstring.',
205.         '',
206.         '   __new__ docstring',
207.         '',
208.     ]
209. 
210. 
211. @pytest.mark.sphinx('html', testroot='ext-autodoc')
212. def test_autodoc_inherit_docstrings(app):
213.     assert app.config.autodoc_inherit_docstrings is True  # default
214.     actual = do_autodoc(app, 'method', 'target.inheritance.Derived.inheritedmeth')
215.     assert list(actual) == [
216.         '',
217.         '.. py:method:: Derived.inheritedmeth()',
218.         '   :module: target.inheritance',
219.         '',
220.         '   Inherited function.',
221.         '',
222.     ]
223. 
224.     # disable autodoc_inherit_docstrings
225.     app.config.autodoc_inherit_docstrings = False
226.     actual = do_autodoc(app, 'method', 'target.inheritance.Derived.inheritedmeth')
227.     assert list(actual) == [
228.         '',
229.         '.. py:method:: Derived.inheritedmeth()',
230.         '   :module: target.inheritance',
231.         ''
232.     ]
233. 
234. 
235. @pytest.mark.sphinx('html', testroot='ext-autodoc')
236. def test_autodoc_docstring_signature(app):
237.     options = {"members": None}
238.     actual = do_autodoc(app, 'class', 'target.DocstringSig', options)
239.     assert list(actual) == [
240.         '',
241.         '.. py:class:: DocstringSig()',
242.         '   :module: target',
243.         '',
244.         '',
245.         '   .. py:method:: DocstringSig.meth(FOO, BAR=1) -> BAZ',
246.         '      :module: target',
247.         '',
248.         '      First line of docstring',
249.         '',
250.         '      rest of docstring',
251.         '',
252.         '',
253.         '   .. py:method:: DocstringSig.meth2()',
254.         '      :module: target',
255.         '',
256.         '      First line, no signature',
257.         '      Second line followed by indentation::',
258.         '',
259.         '          indented line',
260.         '',
261.         '',
262.         '   .. py:method:: DocstringSig.prop1',
263.         '      :module: target',
264.         '      :property:',
265.         '',
266.         '      First line of docstring',
267.         '',
268.         '',
269.         '   .. py:method:: DocstringSig.prop2',
270.         '      :module: target',
271.         '      :property:',
272.         '',
273.         '      First line of docstring',
274.         '      Second line of docstring',
275.         '',
276.     ]
277. 
278.     # disable autodoc_docstring_signature
279.     app.config.autodoc_docstring_signature = False
280.     actual = do_autodoc(app, 'class', 'target.DocstringSig', options)
281.     assert list(actual) == [
282.         '',
283.         '.. py:class:: DocstringSig()',
284.         '   :module: target',
285.         '',
286.         '',
287.         '   .. py:method:: DocstringSig.meth()',
288.         '      :module: target',
289.         '',
290.         '      meth(FOO, BAR=1) -> BAZ',
291.         '      First line of docstring',
292.         '',
293.         '              rest of docstring',
294.         '',
295.         '',
296.         '',
297.         '   .. py:method:: DocstringSig.meth2()',
298.         '      :module: target',
299.         '',
300.         '      First line, no signature',
301.         '      Second line followed by indentation::',
302.         '',
303.         '          indented line',
304.         '',
305.         '',
306.         '   .. py:method:: DocstringSig.prop1',
307.         '      :module: target',
308.         '      :property:',
309.         '',
310.         '      DocstringSig.prop1(self)',
311.         '      First line of docstring',
312.         '',
313.         '',
314.         '   .. py:method:: DocstringSig.prop2',
315.         '      :module: target',
316.         '      :property:',
317.         '',
318.         '      First line of docstring',
319.         '      Second line of docstring',
320.         '',
321.     ]
322. 
323. 
324. @pytest.mark.sphinx('html', testroot='ext-autodoc')
325. def test_autoclass_content_and_docstring_signature_class(app):
326.     app.config.autoclass_content = 'class'
327.     options = {"members": None,
328.                "undoc-members": None}
329.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
330.     assert list(actual) == [
331.         '',
332.         '.. py:module:: target.docstring_signature',
333.         '',
334.         '',
335.         '.. py:class:: A(foo, bar)',
336.         '   :module: target.docstring_signature',
337.         '',
338.         '',
339.         '.. py:class:: B(foo, bar)',
340.         '   :module: target.docstring_signature',
341.         '',
342.         '',
343.         '.. py:class:: C(foo, bar)',
344.         '   :module: target.docstring_signature',
345.         '',
346.         '',
347.         '.. py:class:: D()',
348.         '   :module: target.docstring_signature',
349.         ''
350.     ]
351. 
352. 
353. @pytest.mark.sphinx('html', testroot='ext-autodoc')
354. def test_autoclass_content_and_docstring_signature_init(app):
355.     app.config.autoclass_content = 'init'
356.     options = {"members": None,
357.                "undoc-members": None}
358.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
359.     assert list(actual) == [
360.         '',
361.         '.. py:module:: target.docstring_signature',
362.         '',
363.         '',
364.         '.. py:class:: A(foo, bar)',
365.         '   :module: target.docstring_signature',
366.         '',
367.         '',
368.         '.. py:class:: B(foo, bar, baz)',
369.         '   :module: target.docstring_signature',
370.         '',
371.         '',
372.         '.. py:class:: C(foo, bar, baz)',
373.         '   :module: target.docstring_signature',
374.         '',
375.         '',
376.         '.. py:class:: D(foo, bar, baz)',
377.         '   :module: target.docstring_signature',
378.         ''
379.     ]
380. 
381. 
382. @pytest.mark.sphinx('html', testroot='ext-autodoc')
383. def test_autoclass_content_and_docstring_signature_both(app):
384.     app.config.autoclass_content = 'both'
385.     options = {"members": None,
386.                "undoc-members": None}
387.     actual = do_autodoc(app, 'module', 'target.docstring_signature', options)
388.     assert list(actual) == [
389.         '',
390.         '.. py:module:: target.docstring_signature',
391.         '',
392.         '',
393.         '.. py:class:: A(foo, bar)',
394.         '   :module: target.docstring_signature',
395.         '',
396.         '',
397.         '.. py:class:: B(foo, bar)',
398.         '   :module: target.docstring_signature',
399.         '',
400.         '   B(foo, bar, baz)',
401.         '',
402.         '',
403.         '.. py:class:: C(foo, bar)',
404.         '   :module: target.docstring_signature',
405.         '',
406.         '   C(foo, bar, baz)',
407.         '',
408.         '',
409.         '.. py:class:: D(foo, bar, baz)',
410.         '   :module: target.docstring_signature',
411.         '',
412.     ]
413. 
414. 
415. @pytest.mark.sphinx('html', testroot='ext-autodoc')
416. def test_mocked_module_imports(app, warning):
417.     # no autodoc_mock_imports
418.     options = {"members": 'TestAutodoc,decoratedFunction,func'}
419.     actual = do_autodoc(app, 'module', 'target.need_mocks', options)
420.     assert list(actual) == []
421.     assert "autodoc: failed to import module 'need_mocks'" in warning.getvalue()
422. 
423.     # with autodoc_mock_imports
424.     app.config.autodoc_mock_imports = [
425.         'missing_module',
426.         'missing_package1',
427.         'missing_package2',
428.         'missing_package3',
429.         'sphinx.missing_module4',
430.     ]
431. 
432.     warning.truncate(0)
433.     actual = do_autodoc(app, 'module', 'target.need_mocks', options)
434.     assert list(actual) == [
435.         '',
436.         '.. py:module:: target.need_mocks',
437.         '',
438.         '',
439.         '.. py:class:: TestAutodoc()',
440.         '   :module: target.need_mocks',
441.         '',
442.         '   TestAutodoc docstring.',
443.         '',
444.         '',
445.         '   .. py:method:: TestAutodoc.decoratedMethod()',
446.         '      :module: target.need_mocks',
447.         '',
448.         '      TestAutodoc::decoratedMethod docstring',
449.         '',
450.         '',
451.         '.. py:function:: decoratedFunction()',
452.         '   :module: target.need_mocks',
453.         '',
454.         '   decoratedFunction docstring',
455.         '',
456.         '',
457.         '.. py:function:: func(arg: missing_module.Class)',
458.         '   :module: target.need_mocks',
459.         '',
460.         '   a function takes mocked object as an argument',
461.         '',
462.     ]
463.     assert warning.getvalue() == ''
464. 
465. 
466. @pytest.mark.sphinx('html', testroot='ext-autodoc',
467.                     confoverrides={'autodoc_typehints': "signature"})
468. def test_autodoc_typehints_signature(app):
469.     options = {"members": None,
470.                "undoc-members": True}
471.     actual = do_autodoc(app, 'module', 'target.typehints', options)
472.     assert list(actual) == [
473.         '',
474.         '.. py:module:: target.typehints',
475.         '',
476.         '',
477.         '.. py:class:: Math(s: str, o: object = None)',
478.         '   :module: target.typehints',
479.         '',
480.         '',
481.         '   .. py:method:: Math.decr(a: int, b: int = 1) -> int',
482.         '      :module: target.typehints',
483.         '',
484.         '',
485.         '   .. py:method:: Math.horse(a: str, b: int) -> None',
486.         '      :module: target.typehints',
487.         '',
488.         '',
489.         '   .. py:method:: Math.incr(a: int, b: int = 1) -> int',
490.         '      :module: target.typehints',
491.         '',
492.         '',
493.         '   .. py:method:: Math.nothing() -> None',
494.         '      :module: target.typehints',
495.         '',
496.         '',
497.         '.. py:class:: NewAnnotation(i: int)',
498.         '   :module: target.typehints',
499.         '',
500.         '',
501.         '.. py:class:: NewComment(i: int)',
502.         '   :module: target.typehints',
503.         '',
504.         '',
505.         '.. py:class:: SignatureFromMetaclass(a: int)',
506.         '   :module: target.typehints',
507.         '',
508.         '',
509.         '.. py:function:: complex_func(arg1: str, arg2: List[int], arg3: Tuple[int, '
510.         'Union[str, Unknown]] = None, *args: str, **kwargs: str) -> None',
511.         '   :module: target.typehints',
512.         '',
513.         '',
514.         '.. py:function:: decr(a: int, b: int = 1) -> int',
515.         '   :module: target.typehints',
516.         '',
517.         '',
518.         '.. py:function:: incr(a: int, b: int = 1) -> int',
519.         '   :module: target.typehints',
520.         '',
521.         '',
522.         '.. py:function:: missing_attr(c, a: str, b: Optional[str] = None) -> str',
523.         '   :module: target.typehints',
524.         '',
525.         '',
526.         '.. py:function:: tuple_args(x: Tuple[int, Union[int, str]]) -> Tuple[int, int]',
527.         '   :module: target.typehints',
528.         '',
529.     ]
530. 
531. 
532. @pytest.mark.sphinx('html', testroot='ext-autodoc',
533.                     confoverrides={'autodoc_typehints': "none"})
534. def test_autodoc_typehints_none(app):
535.     options = {"members": None,
536.                "undoc-members": True}
537.     actual = do_autodoc(app, 'module', 'target.typehints', options)
538.     assert list(actual) == [
539.         '',
540.         '.. py:module:: target.typehints',
541.         '',
542.         '',
543.         '.. py:class:: Math(s, o=None)',
544.         '   :module: target.typehints',
545.         '',
546.         '',
547.         '   .. py:method:: Math.decr(a, b=1)',
548.         '      :module: target.typehints',
549.         '',
550.         '',
551.         '   .. py:method:: Math.horse(a, b)',
552.         '      :module: target.typehints',
553.         '',
554.         '',
555.         '   .. py:method:: Math.incr(a, b=1)',
556.         '      :module: target.typehints',
557.         '',
558.         '',
559.         '   .. py:method:: Math.nothing()',
560.         '      :module: target.typehints',
561.         '',
562.         '',
563.         '.. py:class:: NewAnnotation(i)',
564.         '   :module: target.typehints',
565.         '',
566.         '',
567.         '.. py:class:: NewComment(i)',
568.         '   :module: target.typehints',
569.         '',
570.         '',
571.         '.. py:class:: SignatureFromMetaclass(a)',
572.         '   :module: target.typehints',
573.         '',
574.         '',
575.         '.. py:function:: complex_func(arg1, arg2, arg3=None, *args, **kwargs)',
576.         '   :module: target.typehints',
577.         '',
578.         '',
579.         '.. py:function:: decr(a, b=1)',
580.         '   :module: target.typehints',
581.         '',
582.         '',
583.         '.. py:function:: incr(a, b=1)',
584.         '   :module: target.typehints',
585.         '',
586.         '',
587.         '.. py:function:: missing_attr(c, a, b=None)',
588.         '   :module: target.typehints',
589.         '',
590.         '',
591.         '.. py:function:: tuple_args(x)',
592.         '   :module: target.typehints',
593.         '',
594.     ]
595. 
596. 
597. @pytest.mark.sphinx('text', testroot='ext-autodoc',
598.                     confoverrides={'autodoc_typehints': "description"})
599. def test_autodoc_typehints_description(app):
600.     app.build()
601.     context = (app.outdir / 'index.txt').read_text()
602.     assert ('target.typehints.incr(a, b=1)\n'
603.             '\n'
604.             '   Parameters:\n'
605.             '      * **a** (*int*) --\n'
606.             '\n'
607.             '      * **b** (*int*) --\n'
608.             '\n'
609.             '   Return type:\n'
610.             '      int\n'
611.             in context)
612.     assert ('target.typehints.tuple_args(x)\n'
613.             '\n'
614.             '   Parameters:\n'
615.             '      **x** (*Tuple**[**int**, **Union**[**int**, **str**]**]*) --\n'
616.             '\n'
617.             '   Return type:\n'
618.             '      Tuple[int, int]\n'
619.             in context)
620. 
621. 
622. 
623. @pytest.mark.sphinx('html', testroot='ext-autodoc')
624. def test_autodoc_default_options(app):
625.     # no settings
626.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
627.     assert '   .. py:attribute:: EnumCls.val1' not in actual
628.     assert '   .. py:attribute:: EnumCls.val4' not in actual
629.     actual = do_autodoc(app, 'class', 'target.CustomIter')
630.     assert '   .. py:method:: target.CustomIter' not in actual
631.     actual = do_autodoc(app, 'module', 'target')
632.     assert '.. py:function:: save_traceback(app)' not in actual
633. 
634.     # with :members:
635.     app.config.autodoc_default_options = {'members': None}
636.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
637.     assert '   .. py:attribute:: EnumCls.val1' in actual
638.     assert '   .. py:attribute:: EnumCls.val4' not in actual
639. 
640.     # with :members: = True
641.     app.config.autodoc_default_options = {'members': True}
642.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
643.     assert '   .. py:attribute:: EnumCls.val1' in actual
644.     assert '   .. py:attribute:: EnumCls.val4' not in actual
645. 
646.     # with :members: and :undoc-members:
647.     app.config.autodoc_default_options = {
648.         'members': None,
649.         'undoc-members': None,
650.     }
651.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
652.     assert '   .. py:attribute:: EnumCls.val1' in actual
653.     assert '   .. py:attribute:: EnumCls.val4' in actual
654. 
655.     # with :special-members:
656.     # Note that :members: must be *on* for :special-members: to work.
657.     app.config.autodoc_default_options = {
658.         'members': None,
659.         'special-members': None
660.     }
661.     actual = do_autodoc(app, 'class', 'target.CustomIter')
662.     assert '   .. py:method:: CustomIter.__init__()' in actual
663.     assert '      Create a new `CustomIter`.' in actual
664.     assert '   .. py:method:: CustomIter.__iter__()' in actual
665.     assert '      Iterate squares of each value.' in actual
666.     if not IS_PYPY:
667.         assert '   .. py:attribute:: CustomIter.__weakref__' in actual
668.         assert '      list of weak references to the object (if defined)' in actual
669. 
670.     # :exclude-members: None - has no effect. Unlike :members:,
671.     # :special-members:, etc. where None == "include all", here None means
672.     # "no/false/off".
673.     app.config.autodoc_default_options = {
674.         'members': None,
675.         'exclude-members': None,
676.     }
677.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
678.     assert '   .. py:attribute:: EnumCls.val1' in actual
679.     assert '   .. py:attribute:: EnumCls.val4' not in actual
680.     app.config.autodoc_default_options = {
681.         'members': None,
682.         'special-members': None,
683.         'exclude-members': None,
684.     }
685.     actual = do_autodoc(app, 'class', 'target.CustomIter')
686.     assert '   .. py:method:: CustomIter.__init__()' in actual
687.     assert '      Create a new `CustomIter`.' in actual
688.     assert '   .. py:method:: CustomIter.__iter__()' in actual
689.     assert '      Iterate squares of each value.' in actual
690.     if not IS_PYPY:
691.         assert '   .. py:attribute:: CustomIter.__weakref__' in actual
692.         assert '      list of weak references to the object (if defined)' in actual
693.     assert '   .. py:method:: CustomIter.snafucate()' in actual
694.     assert '      Makes this snafucated.' in actual
695. 
696. 
697. @pytest.mark.sphinx('html', testroot='ext-autodoc')
698. def test_autodoc_default_options_with_values(app):
699.     # with :members:
700.     app.config.autodoc_default_options = {'members': 'val1,val2'}
701.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
702.     assert '   .. py:attribute:: EnumCls.val1' in actual
703.     assert '   .. py:attribute:: EnumCls.val2' in actual
704.     assert '   .. py:attribute:: EnumCls.val3' not in actual
705.     assert '   .. py:attribute:: EnumCls.val4' not in actual
706. 
707.     # with :member-order:
708.     app.config.autodoc_default_options = {
709.         'members': None,
710.         'member-order': 'bysource',
711.     }
712.     actual = do_autodoc(app, 'class', 'target.Class')
713.     assert list(filter(lambda l: '::' in l, actual)) == [
714.         '.. py:class:: Class(arg)',
715.         '   .. py:method:: Class.meth()',
716.         '   .. py:method:: Class.skipmeth()',
717.         '   .. py:method:: Class.excludemeth()',
718.         '   .. py:attribute:: Class.attr',
719.         '   .. py:attribute:: Class.docattr',
720.         '   .. py:attribute:: Class.udocattr',
721.         '   .. py:attribute:: Class.mdocattr',
722.         '   .. py:method:: Class.moore(a, e, f) -> happiness',
723.         '   .. py:attribute:: Class.inst_attr_inline',
724.         '   .. py:attribute:: Class.inst_attr_comment',
725.         '   .. py:attribute:: Class.inst_attr_string',
726.     ]
727. 
728.     # with :special-members:
729.     app.config.autodoc_default_options = {
730.         'special-members': '__init__,__iter__',
731.     }
732.     actual = do_autodoc(app, 'class', 'target.CustomIter')
733.     assert '   .. py:method:: CustomIter.__init__()' in actual
734.     assert '      Create a new `CustomIter`.' in actual
735.     assert '   .. py:method:: CustomIter.__iter__()' in actual
736.     assert '      Iterate squares of each value.' in actual
737.     if not IS_PYPY:
738.         assert '   .. py:attribute:: CustomIter.__weakref__' not in actual
739.         assert '      list of weak references to the object (if defined)' not in actual
740. 
741.     # with :exclude-members:
742.     app.config.autodoc_default_options = {
743.         'members': None,
744.         'exclude-members': 'val1'
745.     }
746.     actual = do_autodoc(app, 'class', 'target.enum.EnumCls')
747.     assert '   .. py:attribute:: EnumCls.val1' not in actual
748.     assert '   .. py:attribute:: EnumCls.val2' in actual
749.     assert '   .. py:attribute:: EnumCls.val3' in actual
750.     assert '   .. py:attribute:: EnumCls.val4' not in actual
751.     app.config.autodoc_default_options = {
752.         'members': None,
753.         'special-members': None,
754.         'exclude-members': '__weakref__,snafucate',
755.     }
756.     actual = do_autodoc(app, 'class', 'target.CustomIter')
757.     assert '   .. py:method:: CustomIter.__init__()' in actual
758.     assert '      Create a new `CustomIter`.' in actual
759.     assert '   .. py:method:: CustomIter.__iter__()' in actual
760.     assert '      Iterate squares of each value.' in actual
761.     if not IS_PYPY:
762.         assert '   .. py:attribute:: CustomIter.__weakref__' not in actual
763.         assert '      list of weak references to the object (if defined)' not in actual
764.     assert '   .. py:method:: CustomIter.snafucate()' not in actual
765.     assert '      Makes this snafucated.' not in actual

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 01:14:31,684 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='I have identified `test_autodoc_docstring_signature` in `tests/test_ext_autodoc_configs.py` as a highly relevant test case. However, this test depends on the `target.DocstringSig` class, which appears to be defined in `tests/roots/test-ext-autodoc/target/__init__.py`. This file is missing from the current context, and I need its content to fully understand and present this test case.' query='Please provide the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.' extra_requirements='' purpose='This file is needed to get the definition of the `DocstringSig` class, which is used in the `test_autodoc_docstring_signature` test case.'
2025-12-24 01:14:31,685 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.
2025-12-24 01:14:31,685 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 01:14:31,686 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 01:14:31,686 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 01:14:31,686 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.
Purpose: This file is needed to get the definition of the `DocstringSig` class, which is used in the `test_autodoc_docstring_signature` test case.
2025-12-24 01:14:35,044 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/roots/test-ext-autodoc/target/__init__.py"}'}, '__gemini_function_call_thought_signatures__': {'dae323da-6101-4957-9360-9d99624ce075': 'CswHAY89a1+Wxg4s2AxhDBkYIOgO77EiiweHculi3djX5cPW573gR+OzygB4nE2S4VV6D7TJ/+7Hj/F09G+NJpU/5FqtfOGaSiU3r9vL9axqZustxxMbUowMNWVUsm+lJOtCGCbRk6GzEN3tqNr0TmwJWE6AkZZJ+VvKgnFXEYjCF9KVQyahGKqIwgNQnxVUm7PSLfyA51Jq7MIukHyoZQvQlcbhbjmD5LDP8JcXoX2WACNZnW7g7mpgESgMbR0YUAm6O2Qb9ZsuAPJytv1/FanbrzWGca1hhl1lLkTTDbjvyOJjRnU+jysHkKGiCPfRtPVXu2thSx/lWvKA9uZNqFgNGHq3wqrUDtg41/i/3bblcqPZd/4WJIH5L3fWbUcS3s22fpoFlRSvRfegVdRZMUwdhVHRenqXhe8yjrzWDNDwRJ4rw9yZPCF786gggw5jtq9iXv67YAGNGBFxLTRxLobENZPr+fd/6tpnxPruakrr/HeSK3CyFuL4PCm6yApWq19CLxN28g3RFptcP0LvE1OWBK8RQCK71s9TtJfD4Z410CUasL1TL77skN8ygRNicpptPr4GDmYfVljM4H6PpKXrMh5yUTTxbDu/F+b90Aw4bS2LEEbx6EsP67YbONiEEI/HIF626G5TfyMKOzqGfr9+4xbSIbUkBQC3tWzyVErdeGOLFZOZYypoUOBSxfil+7KK9JRFzIq84Xb6GgPUhdb1UlgrpPvb+7B80dddt9yjaBGkZJ2uadBN2zmcQ6y8rOAD9SrbkiAFC9JtsAUsOpC3m19fYsudBjwypFZ3d///kOwPwAasQTVdgYd71OaHZNGgSi+f1V8ayiNBuEWjRd7QC5dwkOQ4HMIaGEsFf8MJlgaaOH66n7PXJK4RyMJNwOAk/bXizYiNXKzLFc5aUeeYqv6nFwAZgtmE4KX1aGPtX21nlujx+XqSPxVCCGQEBg03fZS8v+0tIQp1Ayat6QY/jbF45F0wRpKrQP5mkSJ3E1pGJkzxa+iKPDeoau8j7Q6HpsRUAAG067YQ3ll+hyu1/M7aOnsmKHVIZQaR3t39jD7PDoa4QqtovdQqaVXBZ97+cTJETMm09Atr7YHrMEC4XmXw4tKyLyyvge1z5qAnYVZMuJ7nORgzi2C7sWNTW+NTthEqt7FE2aVW1Id22vpcOQQoq0CL0WzB9FGo/UI2ZxXK5UPS7KvpglkOGCb1Q9cDY0WNA7+M48xCTpKxSf20Wy0sa99a+kMorzUhE5i0WDZtci8flY3Wj2bwGPyVckmj12Xr8TBMGWBnjDwoCiQBjz1rX7F074LUY8G7mxcl64vs+O2rKjp+FZP35pH54yZoj+g='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2091, 'candidates_token_count': 30, 'total_token_count': 2381, 'cached_content_token_count': 1461, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2091}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1461}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 30}], 'thoughts_token_count': 260}, 'finish_reason': 'STOP', 'avg_logprobs': -0.19265096982320148, 'model_name': 'gemini-2.5-pro'} id='run--02b3064a-efbe-44af-b1a5-d40aaac0754a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/roots/test-ext-autodoc/target/__init__.py'}, 'id': 'dae323da-6101-4957-9360-9d99624ce075', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2091, 'output_tokens': 30, 'total_tokens': 2381, 'input_token_details': {'cache_read': 1461}, 'output_token_details': {'reasoning': 260}}
2025-12-24 01:14:37,099 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`. This file contains the `DocstringSig` class definition, which was requested by the user. The file also contains other classes and functions related to testing autodoc functionality.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4246, 'candidates_token_count': 60, 'total_token_count': 4355, 'cached_content_token_count': 1656, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4506}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1656}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 60}], 'thoughts_token_count': 49}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12103830973307292, 'model_name': 'gemini-2.5-pro'} id='run--f4abeeff-5c85-4275-9cde-cff3f7db22c8-0' usage_metadata={'input_tokens': 4246, 'output_tokens': 60, 'total_tokens': 4355, 'input_token_details': {'cache_read': 1656}, 'output_token_details': {'reasoning': 49}}
2025-12-24 01:14:37,101 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is needed to get the definition of the `DocstringSig` class, which is used in the `test_autodoc_docstring_signature` test case.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/roots/test-ext-autodoc/target/__init__.py
Line number range: 1 - 191
Content:
1. import enum
2. from io import StringIO
3. 
4. from sphinx.util import save_traceback  # NOQA
5. 
6. 
7. __all__ = ['Class']
8. 
9. #: documentation for the integer
10. integer = 1
11. 
12. 
13. def raises(exc, func, *args, **kwds):
14.     """Raise AssertionError if ``func(*args, **kwds)`` does not raise *exc*."""
15.     pass
16. 
17. 
18. class CustomEx(Exception):
19.     """My custom exception."""
20. 
21.     def f(self):
22.         """Exception method."""
23. 
24. 
25. def _funky_classmethod(name, b, c, d, docstring=None):
26.     """Generates a classmethod for a class from a template by filling out
27.     some arguments."""
28.     def template(cls, a, b, c, d=4, e=5, f=6):
29.         return a, b, c, d, e, f
30.     from functools import partial
31.     function = partial(template, b=b, c=c, d=d)
32.     function.__name__ = name
33.     function.__doc__ = docstring
34.     return classmethod(function)
35. 
36. 
37. class Class(object):
38.     """Class to document."""
39. 
40.     def meth(self):
41.         """Function."""
42. 
43.     def undocmeth(self):
44.         pass
45. 
46.     def skipmeth(self):
47.         """Method that should be skipped."""
48. 
49.     def excludemeth(self):
50.         """Method that should be excluded."""
51. 
52.     # should not be documented
53.     skipattr = 'foo'
54. 
55.     #: should be documented -- süß
56.     attr = 'bar'
57. 
58.     docattr = 'baz'
59.     """should likewise be documented -- süß"""
60. 
61.     udocattr = 'quux'
62.     """should be documented as well - süß"""
63. 
64.     # initialized to any class imported from another module
65.     mdocattr = StringIO()
66.     """should be documented as well - süß"""
67. 
68.     roger = _funky_classmethod("roger", 2, 3, 4)
69. 
70.     moore = _funky_classmethod("moore", 9, 8, 7,
71.                                docstring="moore(a, e, f) -> happiness")
72. 
73.     def __init__(self, arg):
74.         self.inst_attr_inline = None  #: an inline documented instance attr
75.         #: a documented instance attribute
76.         self.inst_attr_comment = None
77.         self.inst_attr_string = None
78.         """a documented instance attribute"""
79.         self._private_inst_attr = None  #: a private instance attribute
80. 
81.     def __special1__(self):
82.         """documented special method"""
83. 
84.     def __special2__(self):
85.         # undocumented special method
86.         pass
87. 
88. 
89. class CustomDict(dict):
90.     """Docstring."""
91. 
92. 
93. def function(foo, *args, **kwds):
94.     """
95.     Return spam.
96.     """
97.     pass
98. 
99. 
100. class Outer(object):
101.     """Foo"""
102. 
103.     class Inner(object):
104.         """Foo"""
105. 
106.         def meth(self):
107.             """Foo"""
108. 
109.     # should be documented as an alias
110.     factory = dict
111. 
112. 
113. class InnerChild(Outer.Inner):
114.     """InnerChild docstring"""
115. 
116. 
117. class DocstringSig(object):
118.     def meth(self):
119.         """meth(FOO, BAR=1) -> BAZ
120. First line of docstring
121. 
122.         rest of docstring
123.         """
124. 
125.     def meth2(self):
126.         """First line, no signature
127.         Second line followed by indentation::
128. 
129.             indented line
130.         """
131. 
132.     @property
133.     def prop1(self):
134.         """DocstringSig.prop1(self)
135.         First line of docstring
136.         """
137.         return 123
138. 
139.     @property
140.     def prop2(self):
141.         """First line of docstring
142.         Second line of docstring
143.         """
144.         return 456
145. 
146. 
147. class StrRepr(str):
148.     """docstring"""
149. 
150.     def __repr__(self):
151.         return self
152. 
153. 
154. class AttCls(object):
155.     a1 = StrRepr('hello\nworld')
156.     a2 = None
157. 
158. 
159. class InstAttCls(object):
160.     """Class with documented class and instance attributes."""
161. 
162.     #: Doc comment for class attribute InstAttCls.ca1.
163.     #: It can have multiple lines.
164.     ca1 = 'a'
165. 
166.     ca2 = 'b'    #: Doc comment for InstAttCls.ca2. One line only.
167. 
168.     ca3 = 'c'
169.     """Docstring for class attribute InstAttCls.ca3."""
170. 
171.     def __init__(self):
172.         #: Doc comment for instance attribute InstAttCls.ia1
173.         self.ia1 = 'd'
174. 
175.         self.ia2 = 'e'
176.         """Docstring for instance attribute InstAttCls.ia2."""
177. 
178. 
179. class CustomIter(object):
180.     def __init__(self):
181.         """Create a new `CustomIter`."""
182.         self.values = range(10)
183. 
184.     def __iter__(self):
185.         """Iterate squares of each value."""
186.         for i in self.values:
187.             yield i ** 2
188. 
189.     def snafucate(self):
190.         """Makes this snafucated."""
191.         print("snafucated")

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 01:14:42,315 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user query specifically asks for the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.\n2. Extended relevance:\n   - The entire file content is necessary to fulfill the user's request.", relative_path='tests/roots/test-ext-autodoc/target/__init__.py', start_line=1, end_line=191)]
2025-12-24 01:14:42,316 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the content of the file `tests/roots/test-ext-autodoc/target/__init__.py`.
2025-12-24 01:14:42,316 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 01:14:42,316 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 01:14:42,317 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 4 existing contexts
2025-12-24 01:14:42,317 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 5 total contexts (removed 0 duplicates)
2025-12-24 01:14:42,318 - thread-124025018758848.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-24 01:14:42,318 - thread-124025018758848.prometheus_context_collector - INFO - Successfully retrieved 5 context snippets
