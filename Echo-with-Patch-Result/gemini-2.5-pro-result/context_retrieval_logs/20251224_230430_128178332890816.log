2025-12-24 23:04:30,916 - thread-128178332890816.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Using multiple FilteredRelation with different filters but for same relation is ignored.

Description: Description
	 
		(last modified by lind-marcus)
	 
I have a relation that ALWAYS have at least 1 entry with is_all=True and then I have an optional entry that could have is_all=False but instead have zone set.
I'm trying to use FilteredRelation together with Case(When()) to ensure that it use the zone level one (if exist) and fall back on "All" if zone do not exist.
from django.db.models import FilteredRelation
qs.alias(
	relation_zone=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__zone=F("zone"))
	),
	relation_all=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__is_all=True)
	),
	price_zone=F("relation_zone__price")
).annotate(
	price_final=Case(
		When(
			price_zone__isnull=True,
			then=F("relation_all__price"),
		),
		default=F("price_zone")
	)
)
I noticed that when using multiple FilteredRelation with the same relation (myrelation__nested) it actually just generates a single SQL JOIN (if inspecting the raw SQL) and ignores the other. So in this case if I do print(str(qs.query)) I would only see a join for relation_zone. Not for relation_all.
Is this intended behavior or should I be able to do the thing above?

Patch information:
diff --git a/django/db/models/sql/datastructures.py b/django/db/models/sql/datastructures.py
index 1edf040e82..3cdf602ef7 100644
--- a/django/db/models/sql/datastructures.py
+++ b/django/db/models/sql/datastructures.py
@@ -162,8 +162,9 @@ class Join:
         return hash(self.identity)
 
     def equals(self, other):
-        # Ignore filtered_relation in equality check.
-        return self.identity[:-1] == other.identity[:-1]
+        # Consider filtered_relation in equality check to avoid reusing joins
+        # with different FilteredRelation conditions.
+        return self.identity == other.identity
 
     def demote(self):
         new = self.relabeled_clone({})


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-24 23:04:31,017 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_prevent_double_submission.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Using multiple FilteredRelation with different filters but for same relation is ignored.

Description: Description
	 
		(last modified by lind-marcus)
	 
I have a relation that ALWAYS have at least 1 entry with is_all=True and then I have an optional entry that could have is_all=False but instead have zone set.
I'm trying to use FilteredRelation together with Case(When()) to ensure that it use the zone level one (if exist) and fall back on "All" if zone do not exist.
from django.db.models import FilteredRelation
qs.alias(
	relation_zone=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__zone=F("zone"))
	),
	relation_all=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__is_all=True)
	),
	price_zone=F("relation_zone__price")
).annotate(
	price_final=Case(
		When(
			price_zone__isnull=True,
			then=F("relation_all__price"),
		),
		default=F("price_zone")
	)
)
I noticed that when using multiple FilteredRelation with the same relation (myrelation__nested) it actually just generates a single SQL JOIN (if inspecting the raw SQL) and ignores the other. So in this case if I do print(str(qs.query)) I would only see a join for relation_zone. Not for relation_all.
Is this intended behavior or should I be able to do the thing above?

Patch information:
diff --git a/django/db/models/sql/datastructures.py b/django/db/models/sql/datastructures.py
index 1edf040e82..3cdf602ef7 100644
--- a/django/db/models/sql/datastructures.py
+++ b/django/db/models/sql/datastructures.py
@@ -162,8 +162,9 @@ class Join:
         return hash(self.identity)
 
     def equals(self, other):
-        # Ignore filtered_relation in equality check.
-        return self.identity[:-1] == other.identity[:-1]
+        # Consider filtered_relation in equality check to avoid reusing joins
+        # with different FilteredRelation conditions.
+        return self.identity == other.identity
 
     def demote(self):
         new = self.relabeled_clone({})


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 23:04:47,004 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to a bug in `FilteredRelation`. The current context is empty. The most logical starting point is to examine the tests specifically written for `FilteredRelation`. To understand these tests, I also need the definition of the models they use.' query='Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.' extra_requirements='' purpose='These files are essential to find test cases that demonstrate the usage of `FilteredRelation` and identify tests relevant to the described bug.'
2025-12-24 23:04:47,005 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
2025-12-24 23:04:47,005 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 23:04:47,006 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 23:04:47,006 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 23:04:47,006 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
Purpose: These files are essential to find test cases that demonstrate the usage of `FilteredRelation` and identify tests relevant to the described bug.
2025-12-24 23:04:49,348 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the full content of both `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py` to understand the test cases and models related to `FilteredRelation`. This will help in identifying the tests relevant to the bug and how the `FilteredRelation` is used in the models.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/filtered_relation/models.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2111, 'candidates_token_count': 114, 'total_token_count': 2298, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2111}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 114}], 'thoughts_token_count': 73, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05747860356381065, 'model_name': 'gemini-2.5-pro'} id='run--70029c9f-5d30-4849-a03c-1a32e91cfc58-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/filtered_relation/tests.py'}, 'id': '8e51d0a9-8fa3-4cb7-9d13-61cf4cbd5c48', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/filtered_relation/models.py'}, 'id': 'b97ed3fd-f62b-4be9-8a97-e806424874ad', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2111, 'output_tokens': 114, 'total_tokens': 2298, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 73}}
2025-12-24 23:05:02,766 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the full content of both `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`. This will allow me to understand the test cases and models related to `FilteredRelation`. I can now use this information to help identify tests relevant to the bug you are investigating and to understand how `FilteredRelation` is used in the models.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10256, 'candidates_token_count': 79, 'total_token_count': 11575, 'cached_content_token_count': 1854, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10256}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1854}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 79}], 'thoughts_token_count': 1240}, 'finish_reason': 'STOP', 'avg_logprobs': -1.4847262418722804, 'model_name': 'gemini-2.5-pro'} id='run--d0bba590-90c5-48d7-b7b7-abe65a9dafe6-0' usage_metadata={'input_tokens': 10256, 'output_tokens': 79, 'total_tokens': 11575, 'input_token_details': {'cache_read': 1854}, 'output_token_details': {'reasoning': 1240}}
2025-12-24 23:05:02,768 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
These files are essential to find test cases that demonstrate the usage of `FilteredRelation` and identify tests relevant to the described bug.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/filtered_relation/models.py
Line number range: 1 - 119
Content:
1. from django.contrib.contenttypes.fields import GenericForeignKey, GenericRelation
2. from django.contrib.contenttypes.models import ContentType
3. from django.db import models
4. 
5. 
6. class Author(models.Model):
7.     name = models.CharField(max_length=50, unique=True)
8.     favorite_books = models.ManyToManyField(
9.         "Book",
10.         related_name="preferred_by_authors",
11.         related_query_name="preferred_by_authors",
12.     )
13.     content_type = models.ForeignKey(ContentType, models.CASCADE, null=True)
14.     object_id = models.PositiveIntegerField(null=True)
15.     content_object = GenericForeignKey()
16. 
17. 
18. class Editor(models.Model):
19.     name = models.CharField(max_length=255)
20. 
21. 
22. class Book(models.Model):
23.     AVAILABLE = "available"
24.     RESERVED = "reserved"
25.     RENTED = "rented"
26.     STATES = (
27.         (AVAILABLE, "Available"),
28.         (RESERVED, "reserved"),
29.         (RENTED, "Rented"),
30.     )
31.     title = models.CharField(max_length=255)
32.     author = models.ForeignKey(
33.         Author,
34.         models.CASCADE,
35.         related_name="books",
36.         related_query_name="book",
37.     )
38.     editor = models.ForeignKey(Editor, models.CASCADE)
39.     generic_author = GenericRelation(Author)
40.     state = models.CharField(max_length=9, choices=STATES, default=AVAILABLE)
41. 
42. 
43. class Borrower(models.Model):
44.     name = models.CharField(max_length=50, unique=True)
45. 
46. 
47. class Reservation(models.Model):
48.     NEW = "new"
49.     STOPPED = "stopped"
50.     STATES = (
51.         (NEW, "New"),
52.         (STOPPED, "Stopped"),
53.     )
54.     borrower = models.ForeignKey(
55.         Borrower,
56.         models.CASCADE,
57.         related_name="reservations",
58.         related_query_name="reservation",
59.     )
60.     book = models.ForeignKey(
61.         Book,
62.         models.CASCADE,
63.         related_name="reservations",
64.         related_query_name="reservation",
65.     )
66.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
67. 
68. 
69. class RentalSession(models.Model):
70.     NEW = "new"
71.     STOPPED = "stopped"
72.     STATES = (
73.         (NEW, "New"),
74.         (STOPPED, "Stopped"),
75.     )
76.     borrower = models.ForeignKey(
77.         Borrower,
78.         models.CASCADE,
79.         related_name="rental_sessions",
80.         related_query_name="rental_session",
81.     )
82.     book = models.ForeignKey(
83.         Book,
84.         models.CASCADE,
85.         related_name="rental_sessions",
86.         related_query_name="rental_session",
87.     )
88.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
89. 
90. 
91. class Seller(models.Model):
92.     name = models.CharField(max_length=255)
93. 
94. 
95. class Currency(models.Model):
96.     currency = models.CharField(max_length=3)
97. 
98. 
99. class ExchangeRate(models.Model):
100.     rate_date = models.DateField()
101.     from_currency = models.ForeignKey(
102.         Currency,
103.         models.CASCADE,
104.         related_name="rates_from",
105.     )
106.     to_currency = models.ForeignKey(
107.         Currency,
108.         models.CASCADE,
109.         related_name="rates_to",
110.     )
111.     rate = models.DecimalField(max_digits=6, decimal_places=4)
112. 
113. 
114. class BookDailySales(models.Model):
115.     book = models.ForeignKey(Book, models.CASCADE, related_name="daily_sales")
116.     sale_date = models.DateField()
117.     currency = models.ForeignKey(Currency, models.CASCADE)
118.     seller = models.ForeignKey(Seller, models.CASCADE)
119.     sales = models.DecimalField(max_digits=10, decimal_places=2)


File: tests/filtered_relation/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. from decimal import Decimal
3. from unittest import mock
4. 
5. from django.db import connection, transaction
6. from django.db.models import (
7.     Case,
8.     Count,
9.     DecimalField,
10.     F,
11.     FilteredRelation,
12.     Q,
13.     Sum,
14.     When,
15. )
16. from django.test import TestCase
17. from django.test.testcases import skipUnlessDBFeature
18. 
19. from .models import (
20.     Author,
21.     Book,
22.     BookDailySales,
23.     Borrower,
24.     Currency,
25.     Editor,
26.     ExchangeRate,
27.     RentalSession,
28.     Reservation,
29.     Seller,
30. )
31. 
32. 
33. class FilteredRelationTests(TestCase):
34.     @classmethod
35.     def setUpTestData(cls):
36.         cls.author1 = Author.objects.create(name="Alice")
37.         cls.author2 = Author.objects.create(name="Jane")
38.         cls.editor_a = Editor.objects.create(name="a")
39.         cls.editor_b = Editor.objects.create(name="b")
40.         cls.book1 = Book.objects.create(
41.             title="Poem by Alice",
42.             editor=cls.editor_a,
43.             author=cls.author1,
44.         )
45.         cls.book1.generic_author.set([cls.author2])
46.         cls.book2 = Book.objects.create(
47.             title="The book by Jane A",
48.             editor=cls.editor_b,
49.             author=cls.author2,
50.         )
51.         cls.book3 = Book.objects.create(
52.             title="The book by Jane B",
53.             editor=cls.editor_b,
54.             author=cls.author2,
55.         )
56.         cls.book4 = Book.objects.create(
57.             title="The book by Alice",
58.             editor=cls.editor_a,
59.             author=cls.author1,
60.         )
61.         cls.author1.favorite_books.add(cls.book2)
62.         cls.author1.favorite_books.add(cls.book3)
63. 
64.     def test_select_related(self):
65.         qs = (
66.             Author.objects.annotate(
67.                 book_join=FilteredRelation("book"),
68.             )
69.             .select_related("book_join__editor")
70.             .order_by("pk", "book_join__pk")
71.         )
72.         with self.assertNumQueries(1):
73.             self.assertQuerysetEqual(
74.                 qs,
75.                 [
76.                     (self.author1, self.book1, self.editor_a, self.author1),
77.                     (self.author1, self.book4, self.editor_a, self.author1),
78.                     (self.author2, self.book2, self.editor_b, self.author2),
79.                     (self.author2, self.book3, self.editor_b, self.author2),
80.                 ],
81.                 lambda x: (x, x.book_join, x.book_join.editor, x.book_join.author),
82.             )
83. 
84.     def test_select_related_multiple(self):
85.         qs = (
86.             Book.objects.annotate(
87.                 author_join=FilteredRelation("author"),
88.                 editor_join=FilteredRelation("editor"),
89.             )
90.             .select_related("author_join", "editor_join")
91.             .order_by("pk")
92.         )
93.         self.assertQuerysetEqual(
94.             qs,
95.             [
96.                 (self.book1, self.author1, self.editor_a),
97.                 (self.book2, self.author2, self.editor_b),
98.                 (self.book3, self.author2, self.editor_b),
99.                 (self.book4, self.author1, self.editor_a),
100.             ],
101.             lambda x: (x, x.author_join, x.editor_join),
102.         )
103. 
104.     def test_select_related_with_empty_relation(self):
105.         qs = (
106.             Author.objects.annotate(
107.                 book_join=FilteredRelation("book", condition=Q(pk=-1)),
108.             )
109.             .select_related("book_join")
110.             .order_by("pk")
111.         )
112.         self.assertSequenceEqual(qs, [self.author1, self.author2])
113. 
114.     def test_select_related_foreign_key(self):
115.         qs = (
116.             Book.objects.annotate(
117.                 author_join=FilteredRelation("author"),
118.             )
119.             .select_related("author_join")
120.             .order_by("pk")
121.         )
122.         with self.assertNumQueries(1):
123.             self.assertQuerysetEqual(
124.                 qs,
125.                 [
126.                     (self.book1, self.author1),
127.                     (self.book2, self.author2),
128.                     (self.book3, self.author2),
129.                     (self.book4, self.author1),
130.                 ],
131.                 lambda x: (x, x.author_join),
132.             )
133. 
134.     @skipUnlessDBFeature("has_select_for_update", "has_select_for_update_of")
135.     def test_select_related_foreign_key_for_update_of(self):
136.         with transaction.atomic():
137.             qs = (
138.                 Book.objects.annotate(
139.                     author_join=FilteredRelation("author"),
140.                 )
141.                 .select_related("author_join")
142.                 .select_for_update(of=("self",))
143.                 .order_by("pk")
144.             )
145.             with self.assertNumQueries(1):
146.                 self.assertQuerysetEqual(
147.                     qs,
148.                     [
149.                         (self.book1, self.author1),
150.                         (self.book2, self.author2),
151.                         (self.book3, self.author2),
152.                         (self.book4, self.author1),
153.                     ],
154.                     lambda x: (x, x.author_join),
155.                 )
156. 
157.     def test_without_join(self):
158.         self.assertSequenceEqual(
159.             Author.objects.annotate(
160.                 book_alice=FilteredRelation(
161.                     "book", condition=Q(book__title__iexact="poem by alice")
162.                 ),
163.             ),
164.             [self.author1, self.author2],
165.         )
166. 
167.     def test_with_join(self):
168.         self.assertSequenceEqual(
169.             Author.objects.annotate(
170.                 book_alice=FilteredRelation(
171.                     "book", condition=Q(book__title__iexact="poem by alice")
172.                 ),
173.             ).filter(book_alice__isnull=False),
174.             [self.author1],
175.         )
176. 
177.     def test_with_exclude(self):
178.         self.assertSequenceEqual(
179.             Author.objects.annotate(
180.                 book_alice=FilteredRelation(
181.                     "book", condition=Q(book__title__iexact="poem by alice")
182.                 ),
183.             ).exclude(book_alice__isnull=False),
184.             [self.author2],
185.         )
186. 
187.     def test_with_join_and_complex_condition(self):
188.         self.assertSequenceEqual(
189.             Author.objects.annotate(
190.                 book_alice=FilteredRelation(
191.                     "book",
192.                     condition=Q(
193.                         Q(book__title__iexact="poem by alice")
194.                         | Q(book__state=Book.RENTED)
195.                     ),
196.                 ),
197.             ).filter(book_alice__isnull=False),
198.             [self.author1],
199.         )
200. 
201.     def test_internal_queryset_alias_mapping(self):
202.         queryset = Author.objects.annotate(
203.             book_alice=FilteredRelation(
204.                 "book", condition=Q(book__title__iexact="poem by alice")
205.             ),
206.         ).filter(book_alice__isnull=False)
207.         self.assertIn(
208.             "INNER JOIN {} book_alice ON".format(
209.                 connection.ops.quote_name("filtered_relation_book")
210.             ),
211.             str(queryset.query),
212.         )
213. 
214.     def test_with_multiple_filter(self):
215.         self.assertSequenceEqual(
216.             Author.objects.annotate(
217.                 book_editor_a=FilteredRelation(
218.                     "book",
219.                     condition=Q(
220.                         book__title__icontains="book", book__editor_id=self.editor_a.pk
221.                     ),
222.                 ),
223.             ).filter(book_editor_a__isnull=False),
224.             [self.author1],
225.         )
226. 
227.     def test_multiple_times(self):
228.         self.assertSequenceEqual(
229.             Author.objects.annotate(
230.                 book_title_alice=FilteredRelation(
231.                     "book", condition=Q(book__title__icontains="alice")
232.                 ),
233.             )
234.             .filter(book_title_alice__isnull=False)
235.             .filter(book_title_alice__isnull=False)
236.             .distinct(),
237.             [self.author1],
238.         )
239. 
240.     def test_exclude_relation_with_join(self):
241.         self.assertSequenceEqual(
242.             Author.objects.annotate(
243.                 book_alice=FilteredRelation(
244.                     "book", condition=~Q(book__title__icontains="alice")
245.                 ),
246.             )
247.             .filter(book_alice__isnull=False)
248.             .distinct(),
249.             [self.author2],
250.         )
251. 
252.     def test_with_m2m(self):
253.         qs = Author.objects.annotate(
254.             favorite_books_written_by_jane=FilteredRelation(
255.                 "favorite_books",
256.                 condition=Q(favorite_books__in=[self.book2]),
257.             ),
258.         ).filter(favorite_books_written_by_jane__isnull=False)
259.         self.assertSequenceEqual(qs, [self.author1])
260. 
261.     def test_with_m2m_deep(self):
262.         qs = Author.objects.annotate(
263.             favorite_books_written_by_jane=FilteredRelation(
264.                 "favorite_books",
265.                 condition=Q(favorite_books__author=self.author2),
266.             ),
267.         ).filter(favorite_books_written_by_jane__title="The book by Jane B")
268.         self.assertSequenceEqual(qs, [self.author1])
269. 
270.     def test_with_m2m_multijoin(self):
271.         qs = (
272.             Author.objects.annotate(
273.                 favorite_books_written_by_jane=FilteredRelation(
274.                     "favorite_books",
275.                     condition=Q(favorite_books__author=self.author2),
276.                 )
277.             )
278.             .filter(favorite_books_written_by_jane__editor__name="b")
279.             .distinct()
280.         )
281.         self.assertSequenceEqual(qs, [self.author1])
282. 
283.     def test_values_list(self):
284.         self.assertSequenceEqual(
285.             Author.objects.annotate(
286.                 book_alice=FilteredRelation(
287.                     "book", condition=Q(book__title__iexact="poem by alice")
288.                 ),
289.             )
290.             .filter(book_alice__isnull=False)
291.             .values_list("book_alice__title", flat=True),
292.             ["Poem by Alice"],
293.         )
294. 
295.     def test_values(self):
296.         self.assertSequenceEqual(
297.             Author.objects.annotate(
298.                 book_alice=FilteredRelation(
299.                     "book", condition=Q(book__title__iexact="poem by alice")
300.                 ),
301.             )
302.             .filter(book_alice__isnull=False)
303.             .values(),
304.             [
305.                 {
306.                     "id": self.author1.pk,
307.                     "name": "Alice",
308.                     "content_type_id": None,
309.                     "object_id": None,
310.                 }
311.             ],
312.         )
313. 
314.     def test_extra(self):
315.         self.assertSequenceEqual(
316.             Author.objects.annotate(
317.                 book_alice=FilteredRelation(
318.                     "book", condition=Q(book__title__iexact="poem by alice")
319.                 ),
320.             )
321.             .filter(book_alice__isnull=False)
322.             .extra(where=["1 = 1"]),
323.             [self.author1],
324.         )
325. 
326.     @skipUnlessDBFeature("supports_select_union")
327.     def test_union(self):
328.         qs1 = Author.objects.annotate(
329.             book_alice=FilteredRelation(
330.                 "book", condition=Q(book__title__iexact="poem by alice")
331.             ),
332.         ).filter(book_alice__isnull=False)
333.         qs2 = Author.objects.annotate(
334.             book_jane=FilteredRelation(
335.                 "book", condition=Q(book__title__iexact="the book by jane a")
336.             ),
337.         ).filter(book_jane__isnull=False)
338.         self.assertSequenceEqual(qs1.union(qs2), [self.author1, self.author2])
339. 
340.     @skipUnlessDBFeature("supports_select_intersection")
341.     def test_intersection(self):
342.         qs1 = Author.objects.annotate(
343.             book_alice=FilteredRelation(
344.                 "book", condition=Q(book__title__iexact="poem by alice")
345.             ),
346.         ).filter(book_alice__isnull=False)
347.         qs2 = Author.objects.annotate(
348.             book_jane=FilteredRelation(
349.                 "book", condition=Q(book__title__iexact="the book by jane a")
350.             ),
351.         ).filter(book_jane__isnull=False)
352.         self.assertSequenceEqual(qs1.intersection(qs2), [])
353. 
354.     @skipUnlessDBFeature("supports_select_difference")
355.     def test_difference(self):
356.         qs1 = Author.objects.annotate(
357.             book_alice=FilteredRelation(
358.                 "book", condition=Q(book__title__iexact="poem by alice")
359.             ),
360.         ).filter(book_alice__isnull=False)
361.         qs2 = Author.objects.annotate(
362.             book_jane=FilteredRelation(
363.                 "book", condition=Q(book__title__iexact="the book by jane a")
364.             ),
365.         ).filter(book_jane__isnull=False)
366.         self.assertSequenceEqual(qs1.difference(qs2), [self.author1])
367. 
368.     def test_select_for_update(self):
369.         self.assertSequenceEqual(
370.             Author.objects.annotate(
371.                 book_jane=FilteredRelation(
372.                     "book", condition=Q(book__title__iexact="the book by jane a")
373.                 ),
374.             )
375.             .filter(book_jane__isnull=False)
376.             .select_for_update(),
377.             [self.author2],
378.         )
379. 
380.     def test_defer(self):
381.         # One query for the list and one query for the deferred title.
382.         with self.assertNumQueries(2):
383.             self.assertQuerysetEqual(
384.                 Author.objects.annotate(
385.                     book_alice=FilteredRelation(
386.                         "book", condition=Q(book__title__iexact="poem by alice")
387.                     ),
388.                 )
389.                 .filter(book_alice__isnull=False)
390.                 .select_related("book_alice")
391.                 .defer("book_alice__title"),
392.                 ["Poem by Alice"],
393.                 lambda author: author.book_alice.title,
394.             )
395. 
396.     def test_only_not_supported(self):
397.         msg = "only() is not supported with FilteredRelation."
398.         with self.assertRaisesMessage(ValueError, msg):
399.             Author.objects.annotate(
400.                 book_alice=FilteredRelation(
401.                     "book", condition=Q(book__title__iexact="poem by alice")
402.                 ),
403.             ).filter(book_alice__isnull=False).select_related("book_alice").only(
404.                 "book_alice__state"
405.             )
406. 
407.     def test_as_subquery(self):
408.         inner_qs = Author.objects.annotate(
409.             book_alice=FilteredRelation(
410.                 "book", condition=Q(book__title__iexact="poem by alice")
411.             ),
412.         ).filter(book_alice__isnull=False)
413.         qs = Author.objects.filter(id__in=inner_qs)
414.         self.assertSequenceEqual(qs, [self.author1])
415. 
416.     def test_nested_foreign_key(self):
417.         qs = (
418.             Author.objects.annotate(
419.                 book_editor_worked_with=FilteredRelation(
420.                     "book__editor",
421.                     condition=Q(book__title__icontains="book by"),
422.                 ),
423.             )
424.             .filter(
425.                 book_editor_worked_with__isnull=False,
426.             )
427.             .select_related(
428.                 "book_editor_worked_with",
429.             )
430.             .order_by("pk", "book_editor_worked_with__pk")
431.         )
432.         with self.assertNumQueries(1):
433.             self.assertQuerysetEqual(
434.                 qs,
435.                 [
436.                     (self.author1, self.editor_a),
437.                     (self.author2, self.editor_b),
438.                     (self.author2, self.editor_b),
439.                 ],
440.                 lambda x: (x, x.book_editor_worked_with),
441.             )
442. 
443.     def test_nested_foreign_key_nested_field(self):
444.         qs = (
445.             Author.objects.annotate(
446.                 book_editor_worked_with=FilteredRelation(
447.                     "book__editor", condition=Q(book__title__icontains="book by")
448.                 ),
449.             )
450.             .filter(
451.                 book_editor_worked_with__isnull=False,
452.             )
453.             .values(
454.                 "name",
455.                 "book_editor_worked_with__name",
456.             )
457.             .order_by("name", "book_editor_worked_with__name")
458.             .distinct()
459.         )
460.         self.assertSequenceEqual(
461.             qs,
462.             [
463.                 {
464.                     "name": self.author1.name,
465.                     "book_editor_worked_with__name": self.editor_a.name,
466.                 },
467.                 {
468.                     "name": self.author2.name,
469.                     "book_editor_worked_with__name": self.editor_b.name,
470.                 },
471.             ],
472.         )
473. 
474.     def test_nested_foreign_key_filtered_base_object(self):
475.         qs = (
476.             Author.objects.annotate(
477.                 alice_editors=FilteredRelation(
478.                     "book__editor",
479.                     condition=Q(name="Alice"),
480.                 ),
481.             )
482.             .values(
483.                 "name",
484.                 "alice_editors__pk",
485.             )
486.             .order_by("name", "alice_editors__name")
487.             .distinct()
488.         )
489.         self.assertSequenceEqual(
490.             qs,
491.             [
492.                 {"name": self.author1.name, "alice_editors__pk": self.editor_a.pk},
493.                 {"name": self.author2.name, "alice_editors__pk": None},
494.             ],
495.         )
496. 
497.     def test_nested_m2m_filtered(self):
498.         qs = (
499.             Book.objects.annotate(
500.                 favorite_book=FilteredRelation(

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 23:05:07,591 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user requested the full content of `tests/filtered_relation/tests.py`. This context provides the complete file as requested.', relative_path='tests/filtered_relation/tests.py', start_line=1, end_line=500), ContextOutput(reasoning='The user requested the full content of `tests/filtered_relation/models.py`. This context provides the complete file as requested.', relative_path='tests/filtered_relation/models.py', start_line=1, end_line=119)]
2025-12-24 23:05:07,593 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
2025-12-24 23:05:07,594 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 23:05:07,594 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 23:05:07,594 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 0 existing contexts
2025-12-24 23:05:07,594 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-24 23:05:07,595 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_prevent_double_submission.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Using multiple FilteredRelation with different filters but for same relation is ignored.

Description: Description
	 
		(last modified by lind-marcus)
	 
I have a relation that ALWAYS have at least 1 entry with is_all=True and then I have an optional entry that could have is_all=False but instead have zone set.
I'm trying to use FilteredRelation together with Case(When()) to ensure that it use the zone level one (if exist) and fall back on "All" if zone do not exist.
from django.db.models import FilteredRelation
qs.alias(
	relation_zone=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__zone=F("zone"))
	),
	relation_all=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__is_all=True)
	),
	price_zone=F("relation_zone__price")
).annotate(
	price_final=Case(
		When(
			price_zone__isnull=True,
			then=F("relation_all__price"),
		),
		default=F("price_zone")
	)
)
I noticed that when using multiple FilteredRelation with the same relation (myrelation__nested) it actually just generates a single SQL JOIN (if inspecting the raw SQL) and ignores the other. So in this case if I do print(str(qs.query)) I would only see a join for relation_zone. Not for relation_all.
Is this intended behavior or should I be able to do the thing above?

Patch information:
diff --git a/django/db/models/sql/datastructures.py b/django/db/models/sql/datastructures.py
index 1edf040e82..3cdf602ef7 100644
--- a/django/db/models/sql/datastructures.py
+++ b/django/db/models/sql/datastructures.py
@@ -162,8 +162,9 @@ class Join:
         return hash(self.identity)
 
     def equals(self, other):
-        # Ignore filtered_relation in equality check.
-        return self.identity[:-1] == other.identity[:-1]
+        # Consider filtered_relation in equality check to avoid reusing joins
+        # with different FilteredRelation conditions.
+        return self.identity == other.identity
 
     def demote(self):
         new = self.relabeled_clone({})


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
Extra Requirements: 
Purpose: These files are essential to find test cases that demonstrate the usage of `FilteredRelation` and identify tests relevant to the described bug.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/filtered_relation/models.py
Line number range: 1 - 119
Content:
1. from django.contrib.contenttypes.fields import GenericForeignKey, GenericRelation
2. from django.contrib.contenttypes.models import ContentType
3. from django.db import models
4. 
5. 
6. class Author(models.Model):
7.     name = models.CharField(max_length=50, unique=True)
8.     favorite_books = models.ManyToManyField(
9.         "Book",
10.         related_name="preferred_by_authors",
11.         related_query_name="preferred_by_authors",
12.     )
13.     content_type = models.ForeignKey(ContentType, models.CASCADE, null=True)
14.     object_id = models.PositiveIntegerField(null=True)
15.     content_object = GenericForeignKey()
16. 
17. 
18. class Editor(models.Model):
19.     name = models.CharField(max_length=255)
20. 
21. 
22. class Book(models.Model):
23.     AVAILABLE = "available"
24.     RESERVED = "reserved"
25.     RENTED = "rented"
26.     STATES = (
27.         (AVAILABLE, "Available"),
28.         (RESERVED, "reserved"),
29.         (RENTED, "Rented"),
30.     )
31.     title = models.CharField(max_length=255)
32.     author = models.ForeignKey(
33.         Author,
34.         models.CASCADE,
35.         related_name="books",
36.         related_query_name="book",
37.     )
38.     editor = models.ForeignKey(Editor, models.CASCADE)
39.     generic_author = GenericRelation(Author)
40.     state = models.CharField(max_length=9, choices=STATES, default=AVAILABLE)
41. 
42. 
43. class Borrower(models.Model):
44.     name = models.CharField(max_length=50, unique=True)
45. 
46. 
47. class Reservation(models.Model):
48.     NEW = "new"
49.     STOPPED = "stopped"
50.     STATES = (
51.         (NEW, "New"),
52.         (STOPPED, "Stopped"),
53.     )
54.     borrower = models.ForeignKey(
55.         Borrower,
56.         models.CASCADE,
57.         related_name="reservations",
58.         related_query_name="reservation",
59.     )
60.     book = models.ForeignKey(
61.         Book,
62.         models.CASCADE,
63.         related_name="reservations",
64.         related_query_name="reservation",
65.     )
66.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
67. 
68. 
69. class RentalSession(models.Model):
70.     NEW = "new"
71.     STOPPED = "stopped"
72.     STATES = (
73.         (NEW, "New"),
74.         (STOPPED, "Stopped"),
75.     )
76.     borrower = models.ForeignKey(
77.         Borrower,
78.         models.CASCADE,
79.         related_name="rental_sessions",
80.         related_query_name="rental_session",
81.     )
82.     book = models.ForeignKey(
83.         Book,
84.         models.CASCADE,
85.         related_name="rental_sessions",
86.         related_query_name="rental_session",
87.     )
88.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
89. 
90. 
91. class Seller(models.Model):
92.     name = models.CharField(max_length=255)
93. 
94. 
95. class Currency(models.Model):
96.     currency = models.CharField(max_length=3)
97. 
98. 
99. class ExchangeRate(models.Model):
100.     rate_date = models.DateField()
101.     from_currency = models.ForeignKey(
102.         Currency,
103.         models.CASCADE,
104.         related_name="rates_from",
105.     )
106.     to_currency = models.ForeignKey(
107.         Currency,
108.         models.CASCADE,
109.         related_name="rates_to",
110.     )
111.     rate = models.DecimalField(max_digits=6, decimal_places=4)
112. 
113. 
114. class BookDailySales(models.Model):
115.     book = models.ForeignKey(Book, models.CASCADE, related_name="daily_sales")
116.     sale_date = models.DateField()
117.     currency = models.ForeignKey(Currency, models.CASCADE)
118.     seller = models.ForeignKey(Seller, models.CASCADE)
119.     sales = models.DecimalField(max_digits=10, decimal_places=2)


File: tests/filtered_relation/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. from decimal import Decimal
3. from unittest import mock
4. 
5. from django.db import connection, transaction
6. from django.db.models import (
7.     Case,
8.     Count,
9.     DecimalField,
10.     F,
11.     FilteredRelation,
12.     Q,
13.     Sum,
14.     When,
15. )
16. from django.test import TestCase
17. from django.test.testcases import skipUnlessDBFeature
18. 
19. from .models import (
20.     Author,
21.     Book,
22.     BookDailySales,
23.     Borrower,
24.     Currency,
25.     Editor,
26.     ExchangeRate,
27.     RentalSession,
28.     Reservation,
29.     Seller,
30. )
31. 
32. 
33. class FilteredRelationTests(TestCase):
34.     @classmethod
35.     def setUpTestData(cls):
36.         cls.author1 = Author.objects.create(name="Alice")
37.         cls.author2 = Author.objects.create(name="Jane")
38.         cls.editor_a = Editor.objects.create(name="a")
39.         cls.editor_b = Editor.objects.create(name="b")
40.         cls.book1 = Book.objects.create(
41.             title="Poem by Alice",
42.             editor=cls.editor_a,
43.             author=cls.author1,
44.         )
45.         cls.book1.generic_author.set([cls.author2])
46.         cls.book2 = Book.objects.create(
47.             title="The book by Jane A",
48.             editor=cls.editor_b,
49.             author=cls.author2,
50.         )
51.         cls.book3 = Book.objects.create(
52.             title="The book by Jane B",
53.             editor=cls.editor_b,
54.             author=cls.author2,
55.         )
56.         cls.book4 = Book.objects.create(
57.             title="The book by Alice",
58.             editor=cls.editor_a,
59.             author=cls.author1,
60.         )
61.         cls.author1.favorite_books.add(cls.book2)
62.         cls.author1.favorite_books.add(cls.book3)
63. 
64.     def test_select_related(self):
65.         qs = (
66.             Author.objects.annotate(
67.                 book_join=FilteredRelation("book"),
68.             )
69.             .select_related("book_join__editor")
70.             .order_by("pk", "book_join__pk")
71.         )
72.         with self.assertNumQueries(1):
73.             self.assertQuerysetEqual(
74.                 qs,
75.                 [
76.                     (self.author1, self.book1, self.editor_a, self.author1),
77.                     (self.author1, self.book4, self.editor_a, self.author1),
78.                     (self.author2, self.book2, self.editor_b, self.author2),
79.                     (self.author2, self.book3, self.editor_b, self.author2),
80.                 ],
81.                 lambda x: (x, x.book_join, x.book_join.editor, x.book_join.author),
82.             )
83. 
84.     def test_select_related_multiple(self):
85.         qs = (
86.             Book.objects.annotate(
87.                 author_join=FilteredRelation("author"),
88.                 editor_join=FilteredRelation("editor"),
89.             )
90.             .select_related("author_join", "editor_join")
91.             .order_by("pk")
92.         )
93.         self.assertQuerysetEqual(
94.             qs,
95.             [
96.                 (self.book1, self.author1, self.editor_a),
97.                 (self.book2, self.author2, self.editor_b),
98.                 (self.book3, self.author2, self.editor_b),
99.                 (self.book4, self.author1, self.editor_a),
100.             ],
101.             lambda x: (x, x.author_join, x.editor_join),
102.         )
103. 
104.     def test_select_related_with_empty_relation(self):
105.         qs = (
106.             Author.objects.annotate(
107.                 book_join=FilteredRelation("book", condition=Q(pk=-1)),
108.             )
109.             .select_related("book_join")
110.             .order_by("pk")
111.         )
112.         self.assertSequenceEqual(qs, [self.author1, self.author2])
113. 
114.     def test_select_related_foreign_key(self):
115.         qs = (
116.             Book.objects.annotate(
117.                 author_join=FilteredRelation("author"),
118.             )
119.             .select_related("author_join")
120.             .order_by("pk")
121.         )
122.         with self.assertNumQueries(1):
123.             self.assertQuerysetEqual(
124.                 qs,
125.                 [
126.                     (self.book1, self.author1),
127.                     (self.book2, self.author2),
128.                     (self.book3, self.author2),
129.                     (self.book4, self.author1),
130.                 ],
131.                 lambda x: (x, x.author_join),
132.             )
133. 
134.     @skipUnlessDBFeature("has_select_for_update", "has_select_for_update_of")
135.     def test_select_related_foreign_key_for_update_of(self):
136.         with transaction.atomic():
137.             qs = (
138.                 Book.objects.annotate(
139.                     author_join=FilteredRelation("author"),
140.                 )
141.                 .select_related("author_join")
142.                 .select_for_update(of=("self",))
143.                 .order_by("pk")
144.             )
145.             with self.assertNumQueries(1):
146.                 self.assertQuerysetEqual(
147.                     qs,
148.                     [
149.                         (self.book1, self.author1),
150.                         (self.book2, self.author2),
151.                         (self.book3, self.author2),
152.                         (self.book4, self.author1),
153.                     ],
154.                     lambda x: (x, x.author_join),
155.                 )
156. 
157.     def test_without_join(self):
158.         self.assertSequenceEqual(
159.             Author.objects.annotate(
160.                 book_alice=FilteredRelation(
161.                     "book", condition=Q(book__title__iexact="poem by alice")
162.                 ),
163.             ),
164.             [self.author1, self.author2],
165.         )
166. 
167.     def test_with_join(self):
168.         self.assertSequenceEqual(
169.             Author.objects.annotate(
170.                 book_alice=FilteredRelation(
171.                     "book", condition=Q(book__title__iexact="poem by alice")
172.                 ),
173.             ).filter(book_alice__isnull=False),
174.             [self.author1],
175.         )
176. 
177.     def test_with_exclude(self):
178.         self.assertSequenceEqual(
179.             Author.objects.annotate(
180.                 book_alice=FilteredRelation(
181.                     "book", condition=Q(book__title__iexact="poem by alice")
182.                 ),
183.             ).exclude(book_alice__isnull=False),
184.             [self.author2],
185.         )
186. 
187.     def test_with_join_and_complex_condition(self):
188.         self.assertSequenceEqual(
189.             Author.objects.annotate(
190.                 book_alice=FilteredRelation(
191.                     "book",
192.                     condition=Q(
193.                         Q(book__title__iexact="poem by alice")
194.                         | Q(book__state=Book.RENTED)
195.                     ),
196.                 ),
197.             ).filter(book_alice__isnull=False),
198.             [self.author1],
199.         )
200. 
201.     def test_internal_queryset_alias_mapping(self):
202.         queryset = Author.objects.annotate(
203.             book_alice=FilteredRelation(
204.                 "book", condition=Q(book__title__iexact="poem by alice")
205.             ),
206.         ).filter(book_alice__isnull=False)
207.         self.assertIn(
208.             "INNER JOIN {} book_alice ON".format(
209.                 connection.ops.quote_name("filtered_relation_book")
210.             ),
211.             str(queryset.query),
212.         )
213. 
214.     def test_with_multiple_filter(self):
215.         self.assertSequenceEqual(
216.             Author.objects.annotate(
217.                 book_editor_a=FilteredRelation(
218.                     "book",
219.                     condition=Q(
220.                         book__title__icontains="book", book__editor_id=self.editor_a.pk
221.                     ),
222.                 ),
223.             ).filter(book_editor_a__isnull=False),
224.             [self.author1],
225.         )
226. 
227.     def test_multiple_times(self):
228.         self.assertSequenceEqual(
229.             Author.objects.annotate(
230.                 book_title_alice=FilteredRelation(
231.                     "book", condition=Q(book__title__icontains="alice")
232.                 ),
233.             )
234.             .filter(book_title_alice__isnull=False)
235.             .filter(book_title_alice__isnull=False)
236.             .distinct(),
237.             [self.author1],
238.         )
239. 
240.     def test_exclude_relation_with_join(self):
241.         self.assertSequenceEqual(
242.             Author.objects.annotate(
243.                 book_alice=FilteredRelation(
244.                     "book", condition=~Q(book__title__icontains="alice")
245.                 ),
246.             )
247.             .filter(book_alice__isnull=False)
248.             .distinct(),
249.             [self.author2],
250.         )
251. 
252.     def test_with_m2m(self):
253.         qs = Author.objects.annotate(
254.             favorite_books_written_by_jane=FilteredRelation(
255.                 "favorite_books",
256.                 condition=Q(favorite_books__in=[self.book2]),
257.             ),
258.         ).filter(favorite_books_written_by_jane__isnull=False)
259.         self.assertSequenceEqual(qs, [self.author1])
260. 
261.     def test_with_m2m_deep(self):
262.         qs = Author.objects.annotate(
263.             favorite_books_written_by_jane=FilteredRelation(
264.                 "favorite_books",
265.                 condition=Q(favorite_books__author=self.author2),
266.             ),
267.         ).filter(favorite_books_written_by_jane__title="The book by Jane B")
268.         self.assertSequenceEqual(qs, [self.author1])
269. 
270.     def test_with_m2m_multijoin(self):
271.         qs = (
272.             Author.objects.annotate(
273.                 favorite_books_written_by_jane=FilteredRelation(
274.                     "favorite_books",
275.                     condition=Q(favorite_books__author=self.author2),
276.                 )
277.             )
278.             .filter(favorite_books_written_by_jane__editor__name="b")
279.             .distinct()
280.         )
281.         self.assertSequenceEqual(qs, [self.author1])
282. 
283.     def test_values_list(self):
284.         self.assertSequenceEqual(
285.             Author.objects.annotate(
286.                 book_alice=FilteredRelation(
287.                     "book", condition=Q(book__title__iexact="poem by alice")
288.                 ),
289.             )
290.             .filter(book_alice__isnull=False)
291.             .values_list("book_alice__title", flat=True),
292.             ["Poem by Alice"],
293.         )
294. 
295.     def test_values(self):
296.         self.assertSequenceEqual(
297.             Author.objects.annotate(
298.                 book_alice=FilteredRelation(
299.                     "book", condition=Q(book__title__iexact="poem by alice")
300.                 ),
301.             )
302.             .filter(book_alice__isnull=False)
303.             .values(),
304.             [
305.                 {
306.                     "id": self.author1.pk,
307.                     "name": "Alice",
308.                     "content_type_id": None,
309.                     "object_id": None,
310.                 }
311.             ],
312.         )
313. 
314.     def test_extra(self):
315.         self.assertSequenceEqual(
316.             Author.objects.annotate(
317.                 book_alice=FilteredRelation(
318.                     "book", condition=Q(book__title__iexact="poem by alice")
319.                 ),
320.             )
321.             .filter(book_alice__isnull=False)
322.             .extra(where=["1 = 1"]),
323.             [self.author1],
324.         )
325. 
326.     @skipUnlessDBFeature("supports_select_union")
327.     def test_union(self):
328.         qs1 = Author.objects.annotate(
329.             book_alice=FilteredRelation(
330.                 "book", condition=Q(book__title__iexact="poem by alice")
331.             ),
332.         ).filter(book_alice__isnull=False)
333.         qs2 = Author.objects.annotate(
334.             book_jane=FilteredRelation(
335.                 "book", condition=Q(book__title__iexact="the book by jane a")
336.             ),
337.         ).filter(book_jane__isnull=False)
338.         self.assertSequenceEqual(qs1.union(qs2), [self.author1, self.author2])
339. 
340.     @skipUnlessDBFeature("supports_select_intersection")
341.     def test_intersection(self):
342.         qs1 = Author.objects.annotate(
343.             book_alice=FilteredRelation(
344.                 "book", condition=Q(book__title__iexact="poem by alice")
345.             ),
346.         ).filter(book_alice__isnull=False)
347.         qs2 = Author.objects.annotate(
348.             book_jane=FilteredRelation(
349.                 "book", condition=Q(book__title__iexact="the book by jane a")
350.             ),
351.         ).filter(book_jane__isnull=False)
352.         self.assertSequenceEqual(qs1.intersection(qs2), [])
353. 
354.     @skipUnlessDBFeature("supports_select_difference")
355.     def test_difference(self):
356.         qs1 = Author.objects.annotate(
357.             book_alice=FilteredRelation(
358.                 "book", condition=Q(book__title__iexact="poem by alice")
359.             ),
360.         ).filter(book_alice__isnull=False)
361.         qs2 = Author.objects.annotate(
362.             book_jane=FilteredRelation(
363.                 "book", condition=Q(book__title__iexact="the book by jane a")
364.             ),
365.         ).filter(book_jane__isnull=False)
366.         self.assertSequenceEqual(qs1.difference(qs2), [self.author1])
367. 
368.     def test_select_for_update(self):
369.         self.assertSequenceEqual(
370.             Author.objects.annotate(
371.                 book_jane=FilteredRelation(
372.                     "book", condition=Q(book__title__iexact="the book by jane a")
373.                 ),
374.             )
375.             .filter(book_jane__isnull=False)
376.             .select_for_update(),
377.             [self.author2],
378.         )
379. 
380.     def test_defer(self):
381.         # One query for the list and one query for the deferred title.
382.         with self.assertNumQueries(2):
383.             self.assertQuerysetEqual(
384.                 Author.objects.annotate(
385.                     book_alice=FilteredRelation(
386.                         "book", condition=Q(book__title__iexact="poem by alice")
387.                     ),
388.                 )
389.                 .filter(book_alice__isnull=False)
390.                 .select_related("book_alice")
391.                 .defer("book_alice__title"),
392.                 ["Poem by Alice"],
393.                 lambda author: author.book_alice.title,
394.             )
395. 
396.     def test_only_not_supported(self):
397.         msg = "only() is not supported with FilteredRelation."
398.         with self.assertRaisesMessage(ValueError, msg):
399.             Author.objects.annotate(
400.                 book_alice=FilteredRelation(
401.                     "book", condition=Q(book__title__iexact="poem by alice")
402.                 ),
403.             ).filter(book_alice__isnull=False).select_related("book_alice").only(
404.                 "book_alice__state"
405.             )
406. 
407.     def test_as_subquery(self):
408.         inner_qs = Author.objects.annotate(
409.             book_alice=FilteredRelation(
410.                 "book", condition=Q(book__title__iexact="poem by alice")
411.             ),
412.         ).filter(book_alice__isnull=False)
413.         qs = Author.objects.filter(id__in=inner_qs)
414.         self.assertSequenceEqual(qs, [self.author1])
415. 
416.     def test_nested_foreign_key(self):
417.         qs = (
418.             Author.objects.annotate(
419.                 book_editor_worked_with=FilteredRelation(
420.                     "book__editor",
421.                     condition=Q(book__title__icontains="book by"),
422.                 ),
423.             )
424.             .filter(
425.                 book_editor_worked_with__isnull=False,
426.             )
427.             .select_related(
428.                 "book_editor_worked_with",
429.             )
430.             .order_by("pk", "book_editor_worked_with__pk")
431.         )
432.         with self.assertNumQueries(1):
433.             self.assertQuerysetEqual(
434.                 qs,
435.                 [
436.                     (self.author1, self.editor_a),
437.                     (self.author2, self.editor_b),
438.                     (self.author2, self.editor_b),
439.                 ],
440.                 lambda x: (x, x.book_editor_worked_with),
441.             )
442. 
443.     def test_nested_foreign_key_nested_field(self):
444.         qs = (
445.             Author.objects.annotate(
446.                 book_editor_worked_with=FilteredRelation(
447.                     "book__editor", condition=Q(book__title__icontains="book by")
448.                 ),
449.             )
450.             .filter(
451.                 book_editor_worked_with__isnull=False,
452.             )
453.             .values(
454.                 "name",
455.                 "book_editor_worked_with__name",
456.             )
457.             .order_by("name", "book_editor_worked_with__name")
458.             .distinct()
459.         )
460.         self.assertSequenceEqual(
461.             qs,
462.             [
463.                 {
464.                     "name": self.author1.name,
465.                     "book_editor_worked_with__name": self.editor_a.name,
466.                 },
467.                 {
468.                     "name": self.author2.name,
469.                     "book_editor_worked_with__name": self.editor_b.name,
470.                 },
471.             ],
472.         )
473. 
474.     def test_nested_foreign_key_filtered_base_object(self):
475.         qs = (
476.             Author.objects.annotate(
477.                 alice_editors=FilteredRelation(
478.                     "book__editor",
479.                     condition=Q(name="Alice"),
480.                 ),
481.             )
482.             .values(
483.                 "name",
484.                 "alice_editors__pk",
485.             )
486.             .order_by("name", "alice_editors__name")
487.             .distinct()
488.         )
489.         self.assertSequenceEqual(
490.             qs,
491.             [
492.                 {"name": self.author1.name, "alice_editors__pk": self.editor_a.pk},
493.                 {"name": self.author2.name, "alice_editors__pk": None},
494.             ],
495.         )
496. 
497.     def test_nested_m2m_filtered(self):
498.         qs = (
499.             Book.objects.annotate(
500.                 favorite_book=FilteredRelation(

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 23:06:14,794 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's bug report describes a very specific scenario where multiple `FilteredRelation` objects on the same relation path are not handled correctly, especially when used with `Case`/`When` expressions. The provided context for `tests/filtered_relation/tests.py` is truncated and does not contain any tests for this scenario. To find relevant test cases, I need to see the complete file, as it is highly likely that tests covering this edge case exist outside of the provided snippet." query='Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.' extra_requirements='If the full content cannot be provided, please include any tests that use multiple `FilteredRelation` objects on the same relation or that use `FilteredRelation` within a `Case`/`When` expression.' purpose='This additional context is required to find existing test cases that are directly related to the bug report concerning the incorrect reuse of joins with `FilteredRelation`.'
2025-12-24 23:06:14,795 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.
2025-12-24 23:06:14,795 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 23:06:14,796 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 23:06:14,796 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 23:06:14,796 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.
Extra requirements: If the full content cannot be provided, please include any tests that use multiple `FilteredRelation` objects on the same relation or that use `FilteredRelation` within a `Case`/`When` expression.
Purpose: This additional context is required to find existing test cases that are directly related to the bug report concerning the incorrect reuse of joins with `FilteredRelation`.
2025-12-24 23:06:20,123 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "tests/filtered_relation/tests.py", "end_line": 1000.0}'}, '__gemini_function_call_thought_signatures__': {'d4272dfc-ccd4-485c-bcc0-5a3a919e04ff': 'CuwNAY89a1+3drOL0FPRWvVaCkLjehOTMqd+dEOrg52ozwfB4oHV2F//piSp/Zo/AeqBnfLfXbq4CVVaYtkojE92Pefhu9rFP67MhX7Whdifw4J6UK1wkrfBf/r8/sblbNCLEq9Ttiqthh16mhLb9NP68Hi/70qErv1kOIjmlpby4zXhjztTBh3d0cYHHkC7EDDpd4MUtzYBigYAnV2eKT3UkDffFGxl2GexRXfQarvorRliZRu9KTv7wNaZPlsN1SJdd//FTcvo8WC2PPx3H+tvGnCf6trRdMXLAB+N9UkKER7zEuQX08Z180pVN+Gt6mFPS18ZglLYBA81BSmZ7d5CqXEw463K34YXg74RF/iDY1k6GYhXiEI7g3w3UTWRyMLbb7juQKMh/zf8BFbGH6zmAU55rpWJV4jiYmPNA3zgXUd84QA73LzeXid/+8ZU1rxpEuhAnA/FWbu1VTd4B1m0CWqeCj6ukg3TkBrSHAEDy8WOHUIuGvfpl8hZwoOjEz6KZOMuf9ld04A/UxiyiBcX1+GPzN4EWPDPW7ip9tq2477A10vmQNpA0GFcwiO4Y7Ur1RDGK8VJk0iluJV4aVzbYJmEwQJH4rCkQJ+Evxn87HHpNgN+kQEuBZcBgjPWJdhaFeVfFluPz2X4r5mDIReTcKXz8YZfPfRuhhiR47Ku8uD5FAL8zeSrIo2lvVsmaQVZ0HMTJ35PmKkRr+EUNS12n7e37KppOcqLNpYzWj1gLUzGmZGDs+/mk2ddnbh+gXD7eCzWSQHoh3GGoVMshNBB/l49jGJ4XwBO8kQjcwNlZP8SgEYq2wTytc6rQfZwODum6k2HnajHzaN/vZNkS1msYj+mSnjexA15yeM3EGBSytD589I5MHNudIk/KjQfS4zrX1I32wD5j4jfWiijCZmLJxDqJQzxgeXmCoyo/frLq9egm2rAnZZHpBljSIHfWqjTPL3Hz4JKJMUjM7b1R9gmrRHd73bLfm106SwKdrftSxc8xIzxH5SHZUBXn6ONrNW4DvpMDCQ4FAPMRXdTJSt3BQeXI+zvl0ju2AoW4aVRxVtoLrpaKUYMhKezpWEVJ/55Do4QZk0q2uyVeAAgDcB+LmEY2QjNDWtIkYJpdex0V15VB3xdyevGoJeBlx3bc7ZUOmRzB9XYM810nFJvIXZabxdj11S9Z6phbs51O5i/YG42aBoHJIfvQ4+CbVWf8iVs9HdazOoafyv2UAwH6u9QnGdicjPY9og7qpVKYNdhEZ/M7gwQeugArywkUJBWw6H+DDltFgsiDFtULmVyW1v64TiH1VCftdWH/9SX2lvLmaifZYU7eYW4Dv9aAFmZiKjjDG2W3lfMvTBJrOxZznVWz2WtQxtcXtYhkPpB9F2Kzy0g/a4gQsueRlBWdGOZCLdg4H1EBp2fWh8yJrf1gTjyE89x5TaYLh40SHSxhYkCMlCT6Z4OJHQWI5VE8J1dVSRhX/lF4p6H6Ii1++/50K6l2Lgh0Rgk1Co92XpewozLqAayGybxEZjZZR3Swe2RWU5aNgSsa2lF2TCDDO+RADXBjLQKY+iDandqhgonS/IuGDdTqq3vRFnAz7zEeWROrsZbHmiV9gEupQur4xwc0aRUuO3c90kRu49TouuzBVd5y5VDYaQWoh+HH6tVdDA/oTLBhxZ0BIaUW5Ih1t08XiEqMUo/87Pv1v5KjOyAqleCSQo01y6OOCDKlCUba32pEfA4Uqfq/O9wZJk/22BtqRkgbmh5FFNsou+syVGk4j9mOnEJAaW99xmRafAp4fJoLH6KTS2NiUTpZwDpiUccvaZ9ke8sxy6AJqf3vQEJJAJIEUxbi7lo9/Iqlwj2JVgvO/X4H0v6V1PrrXHhcyZiLkVxK5xAUsj2H03qhJF60X0hcSvDC9fryfeTMWOLr3LGmKzv/oib5mUXxBGV/w/eMeJWsu7SRaoWr2aZBkyRhavJMvqwmLZQZ6jPZYWcwsmKBkPYNI+9RYa9J3s1T0ZDVNZNlo4CqzTXORvWnUPQV014IM28jg5mLDZnGvWq5wIAsHvwWoXhZ/CIIcNaDz2EOLet06BWm+PXEvaV9kxz8bK73sU25n9X8/5UQQWkry08C9Pfc2g/VeivdSqxEu9es0hdN5H1u1lj+KqD04r45lUM4yl/Oj+4xB7o8e/i1Zi2Eghewwz4R7tbhahL2Vuxiqn6h07jjEzVqmDivySkyLmqEuVZv0eguUxceWF6R7rnwh4/B0BEZ2fE1nqZeGAFbg8Qbct/g7+Fy0F6oy+x+9KKGfFtqnoQWBfmTmHrT69JnwlxNBNegKV35h1S9RV9QvoOGWnqymdvCEmLpvT86Lai/tekH4QJ4eD3xkfTFf0='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2159, 'candidates_token_count': 29, 'total_token_count': 2655, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2159}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 29}], 'thoughts_token_count': 467, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -1.1381449206122036, 'model_name': 'gemini-2.5-pro'} id='run--974e0f45-3609-4d33-9ba5-2806ea57ae2f-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'tests/filtered_relation/tests.py', 'end_line': 1000.0}, 'id': 'd4272dfc-ccd4-485c-bcc0-5a3a919e04ff', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2159, 'output_tokens': 29, 'total_tokens': 2655, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 467}}
2025-12-24 23:06:29,847 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file. I have analyzed the content for test cases that use multiple `FilteredRelation` objects on the same relation or use `FilteredRelation` within a `Case`/`When` expression, as requested. The most relevant test case I found is `FilteredRelationAggregationTests.test_aggregate`, which demonstrates the use of multiple `FilteredRelation` objects, although on different relations, to achieve a correct aggregation result where standard joins fail. I did not find any tests using a `FilteredRelation` directly inside a `Case`/`When` expression.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 1649, 'end_index': 2269, 'uri': 'https://github.com/django/django', 'license_': 'BSD-3-Clause', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 7646, 'candidates_token_count': 138, 'total_token_count': 8683, 'cached_content_token_count': 1819, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8113}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1819}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 138}], 'thoughts_token_count': 899}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6512434033380039, 'model_name': 'gemini-2.5-pro'} id='run--58b0a08f-a418-4ded-98e2-f077342bdd1a-0' usage_metadata={'input_tokens': 7646, 'output_tokens': 138, 'total_tokens': 8683, 'input_token_details': {'cache_read': 1819}, 'output_token_details': {'reasoning': 899}}
2025-12-24 23:06:29,849 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If the full content cannot be provided, please include any tests that use multiple `FilteredRelation` objects on the same relation or that use `FilteredRelation` within a `Case`/`When` expression.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
This additional context is required to find existing test cases that are directly related to the bug report concerning the incorrect reuse of joins with `FilteredRelation`.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/filtered_relation/tests.py
Line number range: 501 - 1000
Content:
501.                     "author__favorite_books",
502.                     condition=Q(author__favorite_books__title__icontains="book by"),
503.                 ),
504.             )
505.             .values(
506.                 "title",
507.                 "favorite_book__pk",
508.             )
509.             .order_by("title", "favorite_book__title")
510.         )
511.         self.assertSequenceEqual(
512.             qs,
513.             [
514.                 {"title": self.book1.title, "favorite_book__pk": self.book2.pk},
515.                 {"title": self.book1.title, "favorite_book__pk": self.book3.pk},
516.                 {"title": self.book4.title, "favorite_book__pk": self.book2.pk},
517.                 {"title": self.book4.title, "favorite_book__pk": self.book3.pk},
518.                 {"title": self.book2.title, "favorite_book__pk": None},
519.                 {"title": self.book3.title, "favorite_book__pk": None},
520.             ],
521.         )
522. 
523.     def test_nested_chained_relations(self):
524.         qs = (
525.             Author.objects.annotate(
526.                 my_books=FilteredRelation(
527.                     "book",
528.                     condition=Q(book__title__icontains="book by"),
529.                 ),
530.                 preferred_by_authors=FilteredRelation(
531.                     "my_books__preferred_by_authors",
532.                     condition=Q(my_books__preferred_by_authors__name="Alice"),
533.                 ),
534.             )
535.             .annotate(
536.                 author=F("name"),
537.                 book_title=F("my_books__title"),
538.                 preferred_by_author_pk=F("preferred_by_authors"),
539.             )
540.             .order_by("author", "book_title", "preferred_by_author_pk")
541.         )
542.         self.assertQuerysetEqual(
543.             qs,
544.             [
545.                 ("Alice", "The book by Alice", None),
546.                 ("Jane", "The book by Jane A", self.author1.pk),
547.                 ("Jane", "The book by Jane B", self.author1.pk),
548.             ],
549.             lambda x: (x.author, x.book_title, x.preferred_by_author_pk),
550.         )
551. 
552.     def test_deep_nested_foreign_key(self):
553.         qs = (
554.             Book.objects.annotate(
555.                 author_favorite_book_editor=FilteredRelation(
556.                     "author__favorite_books__editor",
557.                     condition=Q(author__favorite_books__title__icontains="Jane A"),
558.                 ),
559.             )
560.             .filter(
561.                 author_favorite_book_editor__isnull=False,
562.             )
563.             .select_related(
564.                 "author_favorite_book_editor",
565.             )
566.             .order_by("pk", "author_favorite_book_editor__pk")
567.         )
568.         with self.assertNumQueries(1):
569.             self.assertQuerysetEqual(
570.                 qs,
571.                 [
572.                     (self.book1, self.editor_b),
573.                     (self.book4, self.editor_b),
574.                 ],
575.                 lambda x: (x, x.author_favorite_book_editor),
576.             )
577. 
578.     def test_relation_name_lookup(self):
579.         msg = (
580.             "FilteredRelation's relation_name cannot contain lookups (got "
581.             "'book__title__icontains')."
582.         )
583.         with self.assertRaisesMessage(ValueError, msg):
584.             Author.objects.annotate(
585.                 book_title=FilteredRelation(
586.                     "book__title__icontains",
587.                     condition=Q(book__title="Poem by Alice"),
588.                 ),
589.             )
590. 
591.     def test_condition_outside_relation_name(self):
592.         msg = (
593.             "FilteredRelation's condition doesn't support relations outside "
594.             "the 'book__editor' (got 'book__author__name__icontains')."
595.         )
596.         with self.assertRaisesMessage(ValueError, msg):
597.             Author.objects.annotate(
598.                 book_editor=FilteredRelation(
599.                     "book__editor",
600.                     condition=Q(book__author__name__icontains="book"),
601.                 ),
602.             )
603. 
604.     def test_condition_deeper_relation_name(self):
605.         msg = (
606.             "FilteredRelation's condition doesn't support nested relations "
607.             "deeper than the relation_name (got "
608.             "'book__editor__name__icontains' for 'book')."
609.         )
610.         with self.assertRaisesMessage(ValueError, msg):
611.             Author.objects.annotate(
612.                 book_editor=FilteredRelation(
613.                     "book",
614.                     condition=Q(book__editor__name__icontains="b"),
615.                 ),
616.             )
617. 
618.     def test_with_empty_relation_name_error(self):
619.         with self.assertRaisesMessage(ValueError, "relation_name cannot be empty."):
620.             FilteredRelation("", condition=Q(blank=""))
621. 
622.     def test_with_condition_as_expression_error(self):
623.         msg = "condition argument must be a Q() instance."
624.         expression = Case(
625.             When(book__title__iexact="poem by alice", then=True),
626.             default=False,
627.         )
628.         with self.assertRaisesMessage(ValueError, msg):
629.             FilteredRelation("book", condition=expression)
630. 
631.     def test_with_prefetch_related(self):
632.         msg = "prefetch_related() is not supported with FilteredRelation."
633.         qs = Author.objects.annotate(
634.             book_title_contains_b=FilteredRelation(
635.                 "book", condition=Q(book__title__icontains="b")
636.             ),
637.         ).filter(
638.             book_title_contains_b__isnull=False,
639.         )
640.         with self.assertRaisesMessage(ValueError, msg):
641.             qs.prefetch_related("book_title_contains_b")
642.         with self.assertRaisesMessage(ValueError, msg):
643.             qs.prefetch_related("book_title_contains_b__editor")
644. 
645.     def test_with_generic_foreign_key(self):
646.         self.assertSequenceEqual(
647.             Book.objects.annotate(
648.                 generic_authored_book=FilteredRelation(
649.                     "generic_author", condition=Q(generic_author__isnull=False)
650.                 ),
651.             ).filter(generic_authored_book__isnull=False),
652.             [self.book1],
653.         )
654. 
655.     def test_eq(self):
656.         self.assertEqual(
657.             FilteredRelation("book", condition=Q(book__title="b")), mock.ANY
658.         )
659. 
660. 
661. class FilteredRelationAggregationTests(TestCase):
662.     @classmethod
663.     def setUpTestData(cls):
664.         cls.author1 = Author.objects.create(name="Alice")
665.         cls.editor_a = Editor.objects.create(name="a")
666.         cls.book1 = Book.objects.create(
667.             title="Poem by Alice",
668.             editor=cls.editor_a,
669.             author=cls.author1,
670.         )
671.         cls.borrower1 = Borrower.objects.create(name="Jenny")
672.         cls.borrower2 = Borrower.objects.create(name="Kevin")
673.         # borrower 1 reserves, rents, and returns book1.
674.         Reservation.objects.create(
675.             borrower=cls.borrower1,
676.             book=cls.book1,
677.             state=Reservation.STOPPED,
678.         )
679.         RentalSession.objects.create(
680.             borrower=cls.borrower1,
681.             book=cls.book1,
682.             state=RentalSession.STOPPED,
683.         )
684.         # borrower2 reserves, rents, and returns book1.
685.         Reservation.objects.create(
686.             borrower=cls.borrower2,
687.             book=cls.book1,
688.             state=Reservation.STOPPED,
689.         )
690.         RentalSession.objects.create(
691.             borrower=cls.borrower2,
692.             book=cls.book1,
693.             state=RentalSession.STOPPED,
694.         )
695. 
696.     def test_aggregate(self):
697.         """
698.         filtered_relation() not only improves performance but also creates
699.         correct results when aggregating with multiple LEFT JOINs.
700. 
701.         Books can be reserved then rented by a borrower. Each reservation and
702.         rental session are recorded with Reservation and RentalSession models.
703.         Every time a reservation or a rental session is over, their state is
704.         changed to 'stopped'.
705. 
706.         Goal: Count number of books that are either currently reserved or
707.         rented by borrower1 or available.
708.         """
709.         qs = (
710.             Book.objects.annotate(
711.                 is_reserved_or_rented_by=Case(
712.                     When(
713.                         reservation__state=Reservation.NEW,
714.                         then=F("reservation__borrower__pk"),
715.                     ),
716.                     When(
717.                         rental_session__state=RentalSession.NEW,
718.                         then=F("rental_session__borrower__pk"),
719.                     ),
720.                     default=None,
721.                 )
722.             )
723.             .filter(
724.                 Q(is_reserved_or_rented_by=self.borrower1.pk) | Q(state=Book.AVAILABLE)
725.             )
726.             .distinct()
727.         )
728.         self.assertEqual(qs.count(), 1)
729.         # If count is equal to 1, the same aggregation should return in the
730.         # same result but it returns 4.
731.         self.assertSequenceEqual(
732.             qs.annotate(total=Count("pk")).values("total"), [{"total": 4}]
733.         )
734.         # With FilteredRelation, the result is as expected (1).
735.         qs = (
736.             Book.objects.annotate(
737.                 active_reservations=FilteredRelation(
738.                     "reservation",
739.                     condition=Q(
740.                         reservation__state=Reservation.NEW,
741.                         reservation__borrower=self.borrower1,
742.                     ),
743.                 ),
744.             )
745.             .annotate(
746.                 active_rental_sessions=FilteredRelation(
747.                     "rental_session",
748.                     condition=Q(
749.                         rental_session__state=RentalSession.NEW,
750.                         rental_session__borrower=self.borrower1,
751.                     ),
752.                 ),
753.             )
754.             .filter(
755.                 (
756.                     Q(active_reservations__isnull=False)
757.                     | Q(active_rental_sessions__isnull=False)
758.                 )
759.                 | Q(state=Book.AVAILABLE)
760.             )
761.             .distinct()
762.         )
763.         self.assertEqual(qs.count(), 1)
764.         self.assertSequenceEqual(
765.             qs.annotate(total=Count("pk")).values("total"), [{"total": 1}]
766.         )
767. 
768. 
769. class FilteredRelationAnalyticalAggregationTests(TestCase):
770.     @classmethod
771.     def setUpTestData(cls):
772.         author = Author.objects.create(name="Author")
773.         editor = Editor.objects.create(name="Editor")
774.         cls.book1 = Book.objects.create(
775.             title="Poem by Alice",
776.             editor=editor,
777.             author=author,
778.         )
779.         cls.book2 = Book.objects.create(
780.             title="The book by Jane A",
781.             editor=editor,
782.             author=author,
783.         )
784.         cls.book3 = Book.objects.create(
785.             title="The book by Jane B",
786.             editor=editor,
787.             author=author,
788.         )
789.         cls.seller1 = Seller.objects.create(name="Seller 1")
790.         cls.seller2 = Seller.objects.create(name="Seller 2")
791.         cls.usd = Currency.objects.create(currency="USD")
792.         cls.eur = Currency.objects.create(currency="EUR")
793.         cls.sales_date1 = date(2020, 7, 6)
794.         cls.sales_date2 = date(2020, 7, 7)
795.         ExchangeRate.objects.bulk_create(
796.             [
797.                 ExchangeRate(
798.                     rate_date=cls.sales_date1,
799.                     from_currency=cls.usd,
800.                     to_currency=cls.eur,
801.                     rate=0.40,
802.                 ),
803.                 ExchangeRate(
804.                     rate_date=cls.sales_date1,
805.                     from_currency=cls.eur,
806.                     to_currency=cls.usd,
807.                     rate=1.60,
808.                 ),
809.                 ExchangeRate(
810.                     rate_date=cls.sales_date2,
811.                     from_currency=cls.usd,
812.                     to_currency=cls.eur,
813.                     rate=0.50,
814.                 ),
815.                 ExchangeRate(
816.                     rate_date=cls.sales_date2,
817.                     from_currency=cls.eur,
818.                     to_currency=cls.usd,
819.                     rate=1.50,
820.                 ),
821.                 ExchangeRate(
822.                     rate_date=cls.sales_date2,
823.                     from_currency=cls.usd,
824.                     to_currency=cls.usd,
825.                     rate=1.00,
826.                 ),
827.             ]
828.         )
829.         BookDailySales.objects.bulk_create(
830.             [
831.                 BookDailySales(
832.                     book=cls.book1,
833.                     sale_date=cls.sales_date1,
834.                     currency=cls.usd,
835.                     sales=100.00,
836.                     seller=cls.seller1,
837.                 ),
838.                 BookDailySales(
839.                     book=cls.book2,
840.                     sale_date=cls.sales_date1,
841.                     currency=cls.eur,
842.                     sales=200.00,
843.                     seller=cls.seller1,
844.                 ),
845.                 BookDailySales(
846.                     book=cls.book1,
847.                     sale_date=cls.sales_date2,
848.                     currency=cls.usd,
849.                     sales=50.00,
850.                     seller=cls.seller2,
851.                 ),
852.                 BookDailySales(
853.                     book=cls.book2,
854.                     sale_date=cls.sales_date2,
855.                     currency=cls.eur,
856.                     sales=100.00,
857.                     seller=cls.seller2,
858.                 ),
859.             ]
860.         )
861. 
862.     def test_aggregate(self):
863.         tests = [
864.             Q(daily_sales__sale_date__gte=self.sales_date2),
865.             ~Q(daily_sales__seller=self.seller1),
866.         ]
867.         for condition in tests:
868.             with self.subTest(condition=condition):
869.                 qs = (
870.                     Book.objects.annotate(
871.                         recent_sales=FilteredRelation(
872.                             "daily_sales", condition=condition
873.                         ),
874.                         recent_sales_rates=FilteredRelation(
875.                             "recent_sales__currency__rates_from",
876.                             condition=Q(
877.                                 recent_sales__currency__rates_from__rate_date=F(
878.                                     "recent_sales__sale_date"
879.                                 ),
880.                                 recent_sales__currency__rates_from__to_currency=(
881.                                     self.usd
882.                                 ),
883.                             ),
884.                         ),
885.                     )
886.                     .annotate(
887.                         sales_sum=Sum(
888.                             F("recent_sales__sales") * F("recent_sales_rates__rate"),
889.                             output_field=DecimalField(),
890.                         ),
891.                     )
892.                     .values("title", "sales_sum")
893.                     .order_by(
894.                         F("sales_sum").desc(nulls_last=True),
895.                     )
896.                 )
897.                 self.assertSequenceEqual(
898.                     qs,
899.                     [
900.                         {"title": self.book2.title, "sales_sum": Decimal(150.00)},
901.                         {"title": self.book1.title, "sales_sum": Decimal(50.00)},
902.                         {"title": self.book3.title, "sales_sum": None},
903.                     ],
904.                 )

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 23:06:53,053 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.\n   - This context block provides the content from line 501 to line 904, which is the extent of the available file content.\n   - The query also asks for tests using multiple `FilteredRelation` objects or `FilteredRelation` within a `Case`/`When` expression.\n\n2. Extended relevance:\n   - This block contains several tests relevant to the extra requirements and the stated purpose of investigating a bug with join reuse:\n     - `test_nested_chained_relations` (lines 523-550) demonstrates the use of chained `FilteredRelation` objects.\n     - `test_with_condition_as_expression_error` (lines 622-629) is a negative test showing that a `Case`/`When` expression cannot be used as a `condition`.\n     - `FilteredRelationAggregationTests.test_aggregate` (lines 696-766) shows a complex aggregation scenario using two separate `FilteredRelation` objects to get the correct result, contrasting it with a standard join that gives an incorrect result.\n     - `FilteredRelationAnalyticalAggregationTests.test_aggregate` (lines 862-904) presents another complex case with chained `FilteredRelation`s for analytical aggregations.', relative_path='tests/filtered_relation/tests.py', start_line=501, end_line=904)]
2025-12-24 23:06:53,054 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.
2025-12-24 23:06:53,055 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 23:06:53,055 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 23:06:53,055 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 2 existing contexts
2025-12-24 23:06:53,055 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-24 23:06:53,056 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_prevent_double_submission.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_debug.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Using multiple FilteredRelation with different filters but for same relation is ignored.

Description: Description
	 
		(last modified by lind-marcus)
	 
I have a relation that ALWAYS have at least 1 entry with is_all=True and then I have an optional entry that could have is_all=False but instead have zone set.
I'm trying to use FilteredRelation together with Case(When()) to ensure that it use the zone level one (if exist) and fall back on "All" if zone do not exist.
from django.db.models import FilteredRelation
qs.alias(
	relation_zone=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__zone=F("zone"))
	),
	relation_all=FilteredRelation(
		"myrelation__nested",
		condition=Q(myrelation__nested__is_all=True)
	),
	price_zone=F("relation_zone__price")
).annotate(
	price_final=Case(
		When(
			price_zone__isnull=True,
			then=F("relation_all__price"),
		),
		default=F("price_zone")
	)
)
I noticed that when using multiple FilteredRelation with the same relation (myrelation__nested) it actually just generates a single SQL JOIN (if inspecting the raw SQL) and ignores the other. So in this case if I do print(str(qs.query)) I would only see a join for relation_zone. Not for relation_all.
Is this intended behavior or should I be able to do the thing above?

Patch information:
diff --git a/django/db/models/sql/datastructures.py b/django/db/models/sql/datastructures.py
index 1edf040e82..3cdf602ef7 100644
--- a/django/db/models/sql/datastructures.py
+++ b/django/db/models/sql/datastructures.py
@@ -162,8 +162,9 @@ class Join:
         return hash(self.identity)
 
     def equals(self, other):
-        # Ignore filtered_relation in equality check.
-        return self.identity[:-1] == other.identity[:-1]
+        # Consider filtered_relation in equality check to avoid reusing joins
+        # with different FilteredRelation conditions.
+        return self.identity == other.identity
 
     def demote(self):
         new = self.relabeled_clone({})


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/filtered_relation/tests.py` and `tests/filtered_relation/models.py`.
Extra Requirements: 
Purpose: These files are essential to find test cases that demonstrate the usage of `FilteredRelation` and identify tests relevant to the described bug.

Previous refined query 2:
Essential Query: Please provide the content of `tests/filtered_relation/tests.py` from line 501 to the end of the file.
Extra Requirements: If the full content cannot be provided, please include any tests that use multiple `FilteredRelation` objects on the same relation or that use `FilteredRelation` within a `Case`/`When` expression.
Purpose: This additional context is required to find existing test cases that are directly related to the bug report concerning the incorrect reuse of joins with `FilteredRelation`.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/filtered_relation/models.py
Line number range: 1 - 119
Content:
1. from django.contrib.contenttypes.fields import GenericForeignKey, GenericRelation
2. from django.contrib.contenttypes.models import ContentType
3. from django.db import models
4. 
5. 
6. class Author(models.Model):
7.     name = models.CharField(max_length=50, unique=True)
8.     favorite_books = models.ManyToManyField(
9.         "Book",
10.         related_name="preferred_by_authors",
11.         related_query_name="preferred_by_authors",
12.     )
13.     content_type = models.ForeignKey(ContentType, models.CASCADE, null=True)
14.     object_id = models.PositiveIntegerField(null=True)
15.     content_object = GenericForeignKey()
16. 
17. 
18. class Editor(models.Model):
19.     name = models.CharField(max_length=255)
20. 
21. 
22. class Book(models.Model):
23.     AVAILABLE = "available"
24.     RESERVED = "reserved"
25.     RENTED = "rented"
26.     STATES = (
27.         (AVAILABLE, "Available"),
28.         (RESERVED, "reserved"),
29.         (RENTED, "Rented"),
30.     )
31.     title = models.CharField(max_length=255)
32.     author = models.ForeignKey(
33.         Author,
34.         models.CASCADE,
35.         related_name="books",
36.         related_query_name="book",
37.     )
38.     editor = models.ForeignKey(Editor, models.CASCADE)
39.     generic_author = GenericRelation(Author)
40.     state = models.CharField(max_length=9, choices=STATES, default=AVAILABLE)
41. 
42. 
43. class Borrower(models.Model):
44.     name = models.CharField(max_length=50, unique=True)
45. 
46. 
47. class Reservation(models.Model):
48.     NEW = "new"
49.     STOPPED = "stopped"
50.     STATES = (
51.         (NEW, "New"),
52.         (STOPPED, "Stopped"),
53.     )
54.     borrower = models.ForeignKey(
55.         Borrower,
56.         models.CASCADE,
57.         related_name="reservations",
58.         related_query_name="reservation",
59.     )
60.     book = models.ForeignKey(
61.         Book,
62.         models.CASCADE,
63.         related_name="reservations",
64.         related_query_name="reservation",
65.     )
66.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
67. 
68. 
69. class RentalSession(models.Model):
70.     NEW = "new"
71.     STOPPED = "stopped"
72.     STATES = (
73.         (NEW, "New"),
74.         (STOPPED, "Stopped"),
75.     )
76.     borrower = models.ForeignKey(
77.         Borrower,
78.         models.CASCADE,
79.         related_name="rental_sessions",
80.         related_query_name="rental_session",
81.     )
82.     book = models.ForeignKey(
83.         Book,
84.         models.CASCADE,
85.         related_name="rental_sessions",
86.         related_query_name="rental_session",
87.     )
88.     state = models.CharField(max_length=7, choices=STATES, default=NEW)
89. 
90. 
91. class Seller(models.Model):
92.     name = models.CharField(max_length=255)
93. 
94. 
95. class Currency(models.Model):
96.     currency = models.CharField(max_length=3)
97. 
98. 
99. class ExchangeRate(models.Model):
100.     rate_date = models.DateField()
101.     from_currency = models.ForeignKey(
102.         Currency,
103.         models.CASCADE,
104.         related_name="rates_from",
105.     )
106.     to_currency = models.ForeignKey(
107.         Currency,
108.         models.CASCADE,
109.         related_name="rates_to",
110.     )
111.     rate = models.DecimalField(max_digits=6, decimal_places=4)
112. 
113. 
114. class BookDailySales(models.Model):
115.     book = models.ForeignKey(Book, models.CASCADE, related_name="daily_sales")
116.     sale_date = models.DateField()
117.     currency = models.ForeignKey(Currency, models.CASCADE)
118.     seller = models.ForeignKey(Seller, models.CASCADE)
119.     sales = models.DecimalField(max_digits=10, decimal_places=2)


File: tests/filtered_relation/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. from decimal import Decimal
3. from unittest import mock
4. 
5. from django.db import connection, transaction
6. from django.db.models import (
7.     Case,
8.     Count,
9.     DecimalField,
10.     F,
11.     FilteredRelation,
12.     Q,
13.     Sum,
14.     When,
15. )
16. from django.test import TestCase
17. from django.test.testcases import skipUnlessDBFeature
18. 
19. from .models import (
20.     Author,
21.     Book,
22.     BookDailySales,
23.     Borrower,
24.     Currency,
25.     Editor,
26.     ExchangeRate,
27.     RentalSession,
28.     Reservation,
29.     Seller,
30. )
31. 
32. 
33. class FilteredRelationTests(TestCase):
34.     @classmethod
35.     def setUpTestData(cls):
36.         cls.author1 = Author.objects.create(name="Alice")
37.         cls.author2 = Author.objects.create(name="Jane")
38.         cls.editor_a = Editor.objects.create(name="a")
39.         cls.editor_b = Editor.objects.create(name="b")
40.         cls.book1 = Book.objects.create(
41.             title="Poem by Alice",
42.             editor=cls.editor_a,
43.             author=cls.author1,
44.         )
45.         cls.book1.generic_author.set([cls.author2])
46.         cls.book2 = Book.objects.create(
47.             title="The book by Jane A",
48.             editor=cls.editor_b,
49.             author=cls.author2,
50.         )
51.         cls.book3 = Book.objects.create(
52.             title="The book by Jane B",
53.             editor=cls.editor_b,
54.             author=cls.author2,
55.         )
56.         cls.book4 = Book.objects.create(
57.             title="The book by Alice",
58.             editor=cls.editor_a,
59.             author=cls.author1,
60.         )
61.         cls.author1.favorite_books.add(cls.book2)
62.         cls.author1.favorite_books.add(cls.book3)
63. 
64.     def test_select_related(self):
65.         qs = (
66.             Author.objects.annotate(
67.                 book_join=FilteredRelation("book"),
68.             )
69.             .select_related("book_join__editor")
70.             .order_by("pk", "book_join__pk")
71.         )
72.         with self.assertNumQueries(1):
73.             self.assertQuerysetEqual(
74.                 qs,
75.                 [
76.                     (self.author1, self.book1, self.editor_a, self.author1),
77.                     (self.author1, self.book4, self.editor_a, self.author1),
78.                     (self.author2, self.book2, self.editor_b, self.author2),
79.                     (self.author2, self.book3, self.editor_b, self.author2),
80.                 ],
81.                 lambda x: (x, x.book_join, x.book_join.editor, x.book_join.author),
82.             )
83. 
84.     def test_select_related_multiple(self):
85.         qs = (
86.             Book.objects.annotate(
87.                 author_join=FilteredRelation("author"),
88.                 editor_join=FilteredRelation("editor"),
89.             )
90.             .select_related("author_join", "editor_join")
91.             .order_by("pk")
92.         )
93.         self.assertQuerysetEqual(
94.             qs,
95.             [
96.                 (self.book1, self.author1, self.editor_a),
97.                 (self.book2, self.author2, self.editor_b),
98.                 (self.book3, self.author2, self.editor_b),
99.                 (self.book4, self.author1, self.editor_a),
100.             ],
101.             lambda x: (x, x.author_join, x.editor_join),
102.         )
103. 
104.     def test_select_related_with_empty_relation(self):
105.         qs = (
106.             Author.objects.annotate(
107.                 book_join=FilteredRelation("book", condition=Q(pk=-1)),
108.             )
109.             .select_related("book_join")
110.             .order_by("pk")
111.         )
112.         self.assertSequenceEqual(qs, [self.author1, self.author2])
113. 
114.     def test_select_related_foreign_key(self):
115.         qs = (
116.             Book.objects.annotate(
117.                 author_join=FilteredRelation("author"),
118.             )
119.             .select_related("author_join")
120.             .order_by("pk")
121.         )
122.         with self.assertNumQueries(1):
123.             self.assertQuerysetEqual(
124.                 qs,
125.                 [
126.                     (self.book1, self.author1),
127.                     (self.book2, self.author2),
128.                     (self.book3, self.author2),
129.                     (self.book4, self.author1),
130.                 ],
131.                 lambda x: (x, x.author_join),
132.             )
133. 
134.     @skipUnlessDBFeature("has_select_for_update", "has_select_for_update_of")
135.     def test_select_related_foreign_key_for_update_of(self):
136.         with transaction.atomic():
137.             qs = (
138.                 Book.objects.annotate(
139.                     author_join=FilteredRelation("author"),
140.                 )
141.                 .select_related("author_join")
142.                 .select_for_update(of=("self",))
143.                 .order_by("pk")
144.             )
145.             with self.assertNumQueries(1):
146.                 self.assertQuerysetEqual(
147.                     qs,
148.                     [
149.                         (self.book1, self.author1),
150.                         (self.book2, self.author2),
151.                         (self.book3, self.author2),
152.                         (self.book4, self.author1),
153.                     ],
154.                     lambda x: (x, x.author_join),
155.                 )
156. 
157.     def test_without_join(self):
158.         self.assertSequenceEqual(
159.             Author.objects.annotate(
160.                 book_alice=FilteredRelation(
161.                     "book", condition=Q(book__title__iexact="poem by alice")
162.                 ),
163.             ),
164.             [self.author1, self.author2],
165.         )
166. 
167.     def test_with_join(self):
168.         self.assertSequenceEqual(
169.             Author.objects.annotate(
170.                 book_alice=FilteredRelation(
171.                     "book", condition=Q(book__title__iexact="poem by alice")
172.                 ),
173.             ).filter(book_alice__isnull=False),
174.             [self.author1],
175.         )
176. 
177.     def test_with_exclude(self):
178.         self.assertSequenceEqual(
179.             Author.objects.annotate(
180.                 book_alice=FilteredRelation(
181.                     "book", condition=Q(book__title__iexact="poem by alice")
182.                 ),
183.             ).exclude(book_alice__isnull=False),
184.             [self.author2],
185.         )
186. 
187.     def test_with_join_and_complex_condition(self):
188.         self.assertSequenceEqual(
189.             Author.objects.annotate(
190.                 book_alice=FilteredRelation(
191.                     "book",
192.                     condition=Q(
193.                         Q(book__title__iexact="poem by alice")
194.                         | Q(book__state=Book.RENTED)
195.                     ),
196.                 ),
197.             ).filter(book_alice__isnull=False),
198.             [self.author1],
199.         )
200. 
201.     def test_internal_queryset_alias_mapping(self):
202.         queryset = Author.objects.annotate(
203.             book_alice=FilteredRelation(
204.                 "book", condition=Q(book__title__iexact="poem by alice")
205.             ),
206.         ).filter(book_alice__isnull=False)
207.         self.assertIn(
208.             "INNER JOIN {} book_alice ON".format(
209.                 connection.ops.quote_name("filtered_relation_book")
210.             ),
211.             str(queryset.query),
212.         )
213. 
214.     def test_with_multiple_filter(self):
215.         self.assertSequenceEqual(
216.             Author.objects.annotate(
217.                 book_editor_a=FilteredRelation(
218.                     "book",
219.                     condition=Q(
220.                         book__title__icontains="book", book__editor_id=self.editor_a.pk
221.                     ),
222.                 ),
223.             ).filter(book_editor_a__isnull=False),
224.             [self.author1],
225.         )
226. 
227.     def test_multiple_times(self):
228.         self.assertSequenceEqual(
229.             Author.objects.annotate(
230.                 book_title_alice=FilteredRelation(
231.                     "book", condition=Q(book__title__icontains="alice")
232.                 ),
233.             )
234.             .filter(book_title_alice__isnull=False)
235.             .filter(book_title_alice__isnull=False)
236.             .distinct(),
237.             [self.author1],
238.         )
239. 
240.     def test_exclude_relation_with_join(self):
241.         self.assertSequenceEqual(
242.             Author.objects.annotate(
243.                 book_alice=FilteredRelation(
244.                     "book", condition=~Q(book__title__icontains="alice")
245.                 ),
246.             )
247.             .filter(book_alice__isnull=False)
248.             .distinct(),
249.             [self.author2],
250.         )
251. 
252.     def test_with_m2m(self):
253.         qs = Author.objects.annotate(
254.             favorite_books_written_by_jane=FilteredRelation(
255.                 "favorite_books",
256.                 condition=Q(favorite_books__in=[self.book2]),
257.             ),
258.         ).filter(favorite_books_written_by_jane__isnull=False)
259.         self.assertSequenceEqual(qs, [self.author1])
260. 
261.     def test_with_m2m_deep(self):
262.         qs = Author.objects.annotate(
263.             favorite_books_written_by_jane=FilteredRelation(
264.                 "favorite_books",
265.                 condition=Q(favorite_books__author=self.author2),
266.             ),
267.         ).filter(favorite_books_written_by_jane__title="The book by Jane B")
268.         self.assertSequenceEqual(qs, [self.author1])
269. 
270.     def test_with_m2m_multijoin(self):
271.         qs = (
272.             Author.objects.annotate(
273.                 favorite_books_written_by_jane=FilteredRelation(
274.                     "favorite_books",
275.                     condition=Q(favorite_books__author=self.author2),
276.                 )
277.             )
278.             .filter(favorite_books_written_by_jane__editor__name="b")
279.             .distinct()
280.         )
281.         self.assertSequenceEqual(qs, [self.author1])
282. 
283.     def test_values_list(self):
284.         self.assertSequenceEqual(
285.             Author.objects.annotate(
286.                 book_alice=FilteredRelation(
287.                     "book", condition=Q(book__title__iexact="poem by alice")
288.                 ),
289.             )
290.             .filter(book_alice__isnull=False)
291.             .values_list("book_alice__title", flat=True),
292.             ["Poem by Alice"],
293.         )
294. 
295.     def test_values(self):
296.         self.assertSequenceEqual(
297.             Author.objects.annotate(
298.                 book_alice=FilteredRelation(
299.                     "book", condition=Q(book__title__iexact="poem by alice")
300.                 ),
301.             )
302.             .filter(book_alice__isnull=False)
303.             .values(),
304.             [
305.                 {
306.                     "id": self.author1.pk,
307.                     "name": "Alice",
308.                     "content_type_id": None,
309.                     "object_id": None,
310.                 }
311.             ],
312.         )
313. 
314.     def test_extra(self):
315.         self.assertSequenceEqual(
316.             Author.objects.annotate(
317.                 book_alice=FilteredRelation(
318.                     "book", condition=Q(book__title__iexact="poem by alice")
319.                 ),
320.             )
321.             .filter(book_alice__isnull=False)
322.             .extra(where=["1 = 1"]),
323.             [self.author1],
324.         )
325. 
326.     @skipUnlessDBFeature("supports_select_union")
327.     def test_union(self):
328.         qs1 = Author.objects.annotate(
329.             book_alice=FilteredRelation(
330.                 "book", condition=Q(book__title__iexact="poem by alice")
331.             ),
332.         ).filter(book_alice__isnull=False)
333.         qs2 = Author.objects.annotate(
334.             book_jane=FilteredRelation(
335.                 "book", condition=Q(book__title__iexact="the book by jane a")
336.             ),
337.         ).filter(book_jane__isnull=False)
338.         self.assertSequenceEqual(qs1.union(qs2), [self.author1, self.author2])
339. 
340.     @skipUnlessDBFeature("supports_select_intersection")
341.     def test_intersection(self):
342.         qs1 = Author.objects.annotate(
343.             book_alice=FilteredRelation(
344.                 "book", condition=Q(book__title__iexact="poem by alice")
345.             ),
346.         ).filter(book_alice__isnull=False)
347.         qs2 = Author.objects.annotate(
348.             book_jane=FilteredRelation(
349.                 "book", condition=Q(book__title__iexact="the book by jane a")
350.             ),
351.         ).filter(book_jane__isnull=False)
352.         self.assertSequenceEqual(qs1.intersection(qs2), [])
353. 
354.     @skipUnlessDBFeature("supports_select_difference")
355.     def test_difference(self):
356.         qs1 = Author.objects.annotate(
357.             book_alice=FilteredRelation(
358.                 "book", condition=Q(book__title__iexact="poem by alice")
359.             ),
360.         ).filter(book_alice__isnull=False)
361.         qs2 = Author.objects.annotate(
362.             book_jane=FilteredRelation(
363.                 "book", condition=Q(book__title__iexact="the book by jane a")
364.             ),
365.         ).filter(book_jane__isnull=False)
366.         self.assertSequenceEqual(qs1.difference(qs2), [self.author1])
367. 
368.     def test_select_for_update(self):
369.         self.assertSequenceEqual(
370.             Author.objects.annotate(
371.                 book_jane=FilteredRelation(
372.                     "book", condition=Q(book__title__iexact="the book by jane a")
373.                 ),
374.             )
375.             .filter(book_jane__isnull=False)
376.             .select_for_update(),
377.             [self.author2],
378.         )
379. 
380.     def test_defer(self):
381.         # One query for the list and one query for the deferred title.
382.         with self.assertNumQueries(2):
383.             self.assertQuerysetEqual(
384.                 Author.objects.annotate(
385.                     book_alice=FilteredRelation(
386.                         "book", condition=Q(book__title__iexact="poem by alice")
387.                     ),
388.                 )
389.                 .filter(book_alice__isnull=False)
390.                 .select_related("book_alice")
391.                 .defer("book_alice__title"),
392.                 ["Poem by Alice"],
393.                 lambda author: author.book_alice.title,
394.             )
395. 
396.     def test_only_not_supported(self):
397.         msg = "only() is not supported with FilteredRelation."
398.         with self.assertRaisesMessage(ValueError, msg):
399.             Author.objects.annotate(
400.                 book_alice=FilteredRelation(
401.                     "book", condition=Q(book__title__iexact="poem by alice")
402.                 ),
403.             ).filter(book_alice__isnull=False).select_related("book_alice").only(
404.                 "book_alice__state"
405.             )
406. 
407.     def test_as_subquery(self):
408.         inner_qs = Author.objects.annotate(
409.             book_alice=FilteredRelation(
410.                 "book", condition=Q(book__title__iexact="poem by alice")
411.             ),
412.         ).filter(book_alice__isnull=False)
413.         qs = Author.objects.filter(id__in=inner_qs)
414.         self.assertSequenceEqual(qs, [self.author1])
415. 
416.     def test_nested_foreign_key(self):
417.         qs = (
418.             Author.objects.annotate(
419.                 book_editor_worked_with=FilteredRelation(
420.                     "book__editor",
421.                     condition=Q(book__title__icontains="book by"),
422.                 ),
423.             )
424.             .filter(
425.                 book_editor_worked_with__isnull=False,
426.             )
427.             .select_related(
428.                 "book_editor_worked_with",
429.             )
430.             .order_by("pk", "book_editor_worked_with__pk")
431.         )
432.         with self.assertNumQueries(1):
433.             self.assertQuerysetEqual(
434.                 qs,
435.                 [
436.                     (self.author1, self.editor_a),
437.                     (self.author2, self.editor_b),
438.                     (self.author2, self.editor_b),
439.                 ],
440.                 lambda x: (x, x.book_editor_worked_with),
441.             )
442. 
443.     def test_nested_foreign_key_nested_field(self):
444.         qs = (
445.             Author.objects.annotate(
446.                 book_editor_worked_with=FilteredRelation(
447.                     "book__editor", condition=Q(book__title__icontains="book by")
448.                 ),
449.             )
450.             .filter(
451.                 book_editor_worked_with__isnull=False,
452.             )
453.             .values(
454.                 "name",
455.                 "book_editor_worked_with__name",
456.             )
457.             .order_by("name", "book_editor_worked_with__name")
458.             .distinct()
459.         )
460.         self.assertSequenceEqual(
461.             qs,
462.             [
463.                 {
464.                     "name": self.author1.name,
465.                     "book_editor_worked_with__name": self.editor_a.name,
466.                 },
467.                 {
468.                     "name": self.author2.name,
469.                     "book_editor_worked_with__name": self.editor_b.name,
470.                 },
471.             ],
472.         )
473. 
474.     def test_nested_foreign_key_filtered_base_object(self):
475.         qs = (
476.             Author.objects.annotate(
477.                 alice_editors=FilteredRelation(
478.                     "book__editor",
479.                     condition=Q(name="Alice"),
480.                 ),
481.             )
482.             .values(
483.                 "name",
484.                 "alice_editors__pk",
485.             )
486.             .order_by("name", "alice_editors__name")
487.             .distinct()
488.         )
489.         self.assertSequenceEqual(
490.             qs,
491.             [
492.                 {"name": self.author1.name, "alice_editors__pk": self.editor_a.pk},
493.                 {"name": self.author2.name, "alice_editors__pk": None},
494.             ],
495.         )
496. 
497.     def test_nested_m2m_filtered(self):
498.         qs = (
499.             Book.objects.annotate(
500.                 favorite_book=FilteredRelation(


File: tests/filtered_relation/tests.py
Line number range: 501 - 904
Content:
501.                     "author__favorite_books",
502.                     condition=Q(author__favorite_books__title__icontains="book by"),
503.                 ),
504.             )
505.             .values(
506.                 "title",
507.                 "favorite_book__pk",
508.             )
509.             .order_by("title", "favorite_book__title")
510.         )
511.         self.assertSequenceEqual(
512.             qs,
513.             [
514.                 {"title": self.book1.title, "favorite_book__pk": self.book2.pk},
515.                 {"title": self.book1.title, "favorite_book__pk": self.book3.pk},
516.                 {"title": self.book4.title, "favorite_book__pk": self.book2.pk},
517.                 {"title": self.book4.title, "favorite_book__pk": self.book3.pk},
518.                 {"title": self.book2.title, "favorite_book__pk": None},
519.                 {"title": self.book3.title, "favorite_book__pk": None},
520.             ],
521.         )
522. 
523.     def test_nested_chained_relations(self):
524.         qs = (
525.             Author.objects.annotate(
526.                 my_books=FilteredRelation(
527.                     "book",
528.                     condition=Q(book__title__icontains="book by"),
529.                 ),
530.                 preferred_by_authors=FilteredRelation(
531.                     "my_books__preferred_by_authors",
532.                     condition=Q(my_books__preferred_by_authors__name="Alice"),
533.                 ),
534.             )
535.             .annotate(
536.                 author=F("name"),
537.                 book_title=F("my_books__title"),
538.                 preferred_by_author_pk=F("preferred_by_authors"),
539.             )
540.             .order_by("author", "book_title", "preferred_by_author_pk")
541.         )
542.         self.assertQuerysetEqual(
543.             qs,
544.             [
545.                 ("Alice", "The book by Alice", None),
546.                 ("Jane", "The book by Jane A", self.author1.pk),
547.                 ("Jane", "The book by Jane B", self.author1.pk),
548.             ],
549.             lambda x: (x.author, x.book_title, x.preferred_by_author_pk),
550.         )
551. 
552.     def test_deep_nested_foreign_key(self):
553.         qs = (
554.             Book.objects.annotate(
555.                 author_favorite_book_editor=FilteredRelation(
556.                     "author__favorite_books__editor",
557.                     condition=Q(author__favorite_books__title__icontains="Jane A"),
558.                 ),
559.             )
560.             .filter(
561.                 author_favorite_book_editor__isnull=False,
562.             )
563.             .select_related(
564.                 "author_favorite_book_editor",
565.             )
566.             .order_by("pk", "author_favorite_book_editor__pk")
567.         )
568.         with self.assertNumQueries(1):
569.             self.assertQuerysetEqual(
570.                 qs,
571.                 [
572.                     (self.book1, self.editor_b),
573.                     (self.book4, self.editor_b),
574.                 ],
575.                 lambda x: (x, x.author_favorite_book_editor),
576.             )
577. 
578.     def test_relation_name_lookup(self):
579.         msg = (
580.             "FilteredRelation's relation_name cannot contain lookups (got "
581.             "'book__title__icontains')."
582.         )
583.         with self.assertRaisesMessage(ValueError, msg):
584.             Author.objects.annotate(
585.                 book_title=FilteredRelation(
586.                     "book__title__icontains",
587.                     condition=Q(book__title="Poem by Alice"),
588.                 ),
589.             )
590. 
591.     def test_condition_outside_relation_name(self):
592.         msg = (
593.             "FilteredRelation's condition doesn't support relations outside "
594.             "the 'book__editor' (got 'book__author__name__icontains')."
595.         )
596.         with self.assertRaisesMessage(ValueError, msg):
597.             Author.objects.annotate(
598.                 book_editor=FilteredRelation(
599.                     "book__editor",
600.                     condition=Q(book__author__name__icontains="book"),
601.                 ),
602.             )
603. 
604.     def test_condition_deeper_relation_name(self):
605.         msg = (
606.             "FilteredRelation's condition doesn't support nested relations "
607.             "deeper than the relation_name (got "
608.             "'book__editor__name__icontains' for 'book')."
609.         )
610.         with self.assertRaisesMessage(ValueError, msg):
611.             Author.objects.annotate(
612.                 book_editor=FilteredRelation(
613.                     "book",
614.                     condition=Q(book__editor__name__icontains="b"),
615.                 ),
616.             )
617. 
618.     def test_with_empty_relation_name_error(self):
619.         with self.assertRaisesMessage(ValueError, "relation_name cannot be empty."):
620.             FilteredRelation("", condition=Q(blank=""))
621. 
622.     def test_with_condition_as_expression_error(self):
623.         msg = "condition argument must be a Q() instance."
624.         expression = Case(
625.             When(book__title__iexact="poem by alice", then=True),
626.             default=False,
627.         )
628.         with self.assertRaisesMessage(ValueError, msg):
629.             FilteredRelation("book", condition=expression)
630. 
631.     def test_with_prefetch_related(self):
632.         msg = "prefetch_related() is not supported with FilteredRelation."
633.         qs = Author.objects.annotate(
634.             book_title_contains_b=FilteredRelation(
635.                 "book", condition=Q(book__title__icontains="b")
636.             ),
637.         ).filter(
638.             book_title_contains_b__isnull=False,
639.         )
640.         with self.assertRaisesMessage(ValueError, msg):
641.             qs.prefetch_related("book_title_contains_b")
642.         with self.assertRaisesMessage(ValueError, msg):
643.             qs.prefetch_related("book_title_contains_b__editor")
644. 
645.     def test_with_generic_foreign_key(self):
646.         self.assertSequenceEqual(
647.             Book.objects.annotate(
648.                 generic_authored_book=FilteredRelation(
649.                     "generic_author", condition=Q(generic_author__isnull=False)
650.                 ),
651.             ).filter(generic_authored_book__isnull=False),
652.             [self.book1],
653.         )
654. 
655.     def test_eq(self):
656.         self.assertEqual(
657.             FilteredRelation("book", condition=Q(book__title="b")), mock.ANY
658.         )
659. 
660. 
661. class FilteredRelationAggregationTests(TestCase):
662.     @classmethod
663.     def setUpTestData(cls):
664.         cls.author1 = Author.objects.create(name="Alice")
665.         cls.editor_a = Editor.objects.create(name="a")
666.         cls.book1 = Book.objects.create(
667.             title="Poem by Alice",
668.             editor=cls.editor_a,
669.             author=cls.author1,
670.         )
671.         cls.borrower1 = Borrower.objects.create(name="Jenny")
672.         cls.borrower2 = Borrower.objects.create(name="Kevin")
673.         # borrower 1 reserves, rents, and returns book1.
674.         Reservation.objects.create(
675.             borrower=cls.borrower1,
676.             book=cls.book1,
677.             state=Reservation.STOPPED,
678.         )
679.         RentalSession.objects.create(
680.             borrower=cls.borrower1,
681.             book=cls.book1,
682.             state=RentalSession.STOPPED,
683.         )
684.         # borrower2 reserves, rents, and returns book1.
685.         Reservation.objects.create(
686.             borrower=cls.borrower2,
687.             book=cls.book1,
688.             state=Reservation.STOPPED,
689.         )
690.         RentalSession.objects.create(
691.             borrower=cls.borrower2,
692.             book=cls.book1,
693.             state=RentalSession.STOPPED,
694.         )
695. 
696.     def test_aggregate(self):
697.         """
698.         filtered_relation() not only improves performance but also creates
699.         correct results when aggregating with multiple LEFT JOINs.
700. 
701.         Books can be reserved then rented by a borrower. Each reservation and
702.         rental session are recorded with Reservation and RentalSession models.
703.         Every time a reservation or a rental session is over, their state is
704.         changed to 'stopped'.
705. 
706.         Goal: Count number of books that are either currently reserved or
707.         rented by borrower1 or available.
708.         """
709.         qs = (
710.             Book.objects.annotate(
711.                 is_reserved_or_rented_by=Case(
712.                     When(
713.                         reservation__state=Reservation.NEW,
714.                         then=F("reservation__borrower__pk"),
715.                     ),
716.                     When(
717.                         rental_session__state=RentalSession.NEW,
718.                         then=F("rental_session__borrower__pk"),
719.                     ),
720.                     default=None,
721.                 )
722.             )
723.             .filter(
724.                 Q(is_reserved_or_rented_by=self.borrower1.pk) | Q(state=Book.AVAILABLE)
725.             )
726.             .distinct()
727.         )
728.         self.assertEqual(qs.count(), 1)
729.         # If count is equal to 1, the same aggregation should return in the
730.         # same result but it returns 4.
731.         self.assertSequenceEqual(
732.             qs.annotate(total=Count("pk")).values("total"), [{"total": 4}]
733.         )
734.         # With FilteredRelation, the result is as expected (1).
735.         qs = (
736.             Book.objects.annotate(
737.                 active_reservations=FilteredRelation(
738.                     "reservation",
739.                     condition=Q(
740.                         reservation__state=Reservation.NEW,
741.                         reservation__borrower=self.borrower1,
742.                     ),
743.                 ),
744.             )
745.             .annotate(
746.                 active_rental_sessions=FilteredRelation(
747.                     "rental_session",
748.                     condition=Q(
749.                         rental_session__state=RentalSession.NEW,
750.                         rental_session__borrower=self.borrower1,
751.                     ),
752.                 ),
753.             )
754.             .filter(
755.                 (
756.                     Q(active_reservations__isnull=False)
757.                     | Q(active_rental_sessions__isnull=False)
758.                 )
759.                 | Q(state=Book.AVAILABLE)
760.             )
761.             .distinct()
762.         )
763.         self.assertEqual(qs.count(), 1)
764.         self.assertSequenceEqual(
765.             qs.annotate(total=Count("pk")).values("total"), [{"total": 1}]
766.         )
767. 
768. 
769. class FilteredRelationAnalyticalAggregationTests(TestCase):
770.     @classmethod
771.     def setUpTestData(cls):
772.         author = Author.objects.create(name="Author")
773.         editor = Editor.objects.create(name="Editor")
774.         cls.book1 = Book.objects.create(
775.             title="Poem by Alice",
776.             editor=editor,
777.             author=author,
778.         )
779.         cls.book2 = Book.objects.create(
780.             title="The book by Jane A",
781.             editor=editor,
782.             author=author,
783.         )
784.         cls.book3 = Book.objects.create(
785.             title="The book by Jane B",
786.             editor=editor,
787.             author=author,
788.         )
789.         cls.seller1 = Seller.objects.create(name="Seller 1")
790.         cls.seller2 = Seller.objects.create(name="Seller 2")
791.         cls.usd = Currency.objects.create(currency="USD")
792.         cls.eur = Currency.objects.create(currency="EUR")
793.         cls.sales_date1 = date(2020, 7, 6)
794.         cls.sales_date2 = date(2020, 7, 7)
795.         ExchangeRate.objects.bulk_create(
796.             [
797.                 ExchangeRate(
798.                     rate_date=cls.sales_date1,
799.                     from_currency=cls.usd,
800.                     to_currency=cls.eur,
801.                     rate=0.40,
802.                 ),
803.                 ExchangeRate(
804.                     rate_date=cls.sales_date1,
805.                     from_currency=cls.eur,
806.                     to_currency=cls.usd,
807.                     rate=1.60,
808.                 ),
809.                 ExchangeRate(
810.                     rate_date=cls.sales_date2,
811.                     from_currency=cls.usd,
812.                     to_currency=cls.eur,
813.                     rate=0.50,
814.                 ),
815.                 ExchangeRate(
816.                     rate_date=cls.sales_date2,
817.                     from_currency=cls.eur,
818.                     to_currency=cls.usd,
819.                     rate=1.50,
820.                 ),
821.                 ExchangeRate(
822.                     rate_date=cls.sales_date2,
823.                     from_currency=cls.usd,
824.                     to_currency=cls.usd,
825.                     rate=1.00,
826.                 ),
827.             ]
828.         )
829.         BookDailySales.objects.bulk_create(
830.             [
831.                 BookDailySales(
832.                     book=cls.book1,
833.                     sale_date=cls.sales_date1,
834.                     currency=cls.usd,
835.                     sales=100.00,
836.                     seller=cls.seller1,
837.                 ),
838.                 BookDailySales(
839.                     book=cls.book2,
840.                     sale_date=cls.sales_date1,
841.                     currency=cls.eur,
842.                     sales=200.00,
843.                     seller=cls.seller1,
844.                 ),
845.                 BookDailySales(
846.                     book=cls.book1,
847.                     sale_date=cls.sales_date2,
848.                     currency=cls.usd,
849.                     sales=50.00,
850.                     seller=cls.seller2,
851.                 ),
852.                 BookDailySales(
853.                     book=cls.book2,
854.                     sale_date=cls.sales_date2,
855.                     currency=cls.eur,
856.                     sales=100.00,
857.                     seller=cls.seller2,
858.                 ),
859.             ]
860.         )
861. 
862.     def test_aggregate(self):
863.         tests = [
864.             Q(daily_sales__sale_date__gte=self.sales_date2),
865.             ~Q(daily_sales__seller=self.seller1),
866.         ]
867.         for condition in tests:
868.             with self.subTest(condition=condition):
869.                 qs = (
870.                     Book.objects.annotate(
871.                         recent_sales=FilteredRelation(
872.                             "daily_sales", condition=condition
873.                         ),
874.                         recent_sales_rates=FilteredRelation(
875.                             "recent_sales__currency__rates_from",
876.                             condition=Q(
877.                                 recent_sales__currency__rates_from__rate_date=F(
878.                                     "recent_sales__sale_date"
879.                                 ),
880.                                 recent_sales__currency__rates_from__to_currency=(
881.                                     self.usd
882.                                 ),
883.                             ),
884.                         ),
885.                     )
886.                     .annotate(
887.                         sales_sum=Sum(
888.                             F("recent_sales__sales") * F("recent_sales_rates__rate"),
889.                             output_field=DecimalField(),
890.                         ),
891.                     )
892.                     .values("title", "sales_sum")
893.                     .order_by(
894.                         F("sales_sum").desc(nulls_last=True),
895.                     )
896.                 )
897.                 self.assertSequenceEqual(
898.                     qs,
899.                     [
900.                         {"title": self.book2.title, "sales_sum": Decimal(150.00)},
901.                         {"title": self.book1.title, "sales_sum": Decimal(50.00)},
902.                         {"title": self.book3.title, "sales_sum": None},
903.                     ],
904.                 )

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 23:07:44,961 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The provided context from `tests/filtered_relation/tests.py` does not contain any test cases that use multiple `FilteredRelation` objects on the same relation, which is the core of the reported bug. The bug is about incorrect join reuse, and the fix is in the generic query construction code. Therefore, it is likely that a relevant test case exists in a more general query-related test file, such as `tests/queries/tests.py`. To understand these tests, the corresponding models in `tests/queries/models.py` are also necessary.' query='Please provide the full content of `tests/queries/tests.py` and `tests/queries/models.py`.' extra_requirements='If the full files are too large, please provide any tests from `tests/queries/tests.py` that involve `FilteredRelation` or multiple joins on the same table.' purpose='I need to find a test case that demonstrates the issue of multiple `FilteredRelation`s on the same relation to find relevant examples for the user.'
2025-12-24 23:07:44,962 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/queries/tests.py` and `tests/queries/models.py`.
2025-12-24 23:07:44,962 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 23:07:44,963 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 23:07:44,963 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 23:07:44,963 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/queries/tests.py` and `tests/queries/models.py`.
Extra requirements: If the full files are too large, please provide any tests from `tests/queries/tests.py` that involve `FilteredRelation` or multiple joins on the same table.
Purpose: I need to find a test case that demonstrates the issue of multiple `FilteredRelation`s on the same relation to find relevant examples for the user.
2025-12-24 23:07:48,785 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will first attempt to retrieve the entire content of both `tests/queries/tests.py` and `tests/queries/models.py` as requested. If the files are too large to be fully displayed, I will then specifically search for tests within `tests/queries/tests.py` that involve `FilteredRelation` or multiple joins on the same table to find the most relevant examples for you.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/queries/models.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2151, 'candidates_token_count': 125, 'total_token_count': 2484, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2151}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 125}], 'thoughts_token_count': 208, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09842538452148437, 'model_name': 'gemini-2.5-pro'} id='run--3a384b60-9db7-4c88-b6e9-3dbf2226f54c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/queries/tests.py'}, 'id': '3f5e10f7-6d8e-4031-b5cb-a906bea00bd8', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/queries/models.py'}, 'id': '231b072c-5c17-4517-96c5-e09fa58d8acb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2151, 'output_tokens': 125, 'total_tokens': 2484, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 208}}
2025-12-24 23:07:52,861 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the full content of both `tests/queries/tests.py` and `tests/queries/models.py`. I will now proceed to analyze the content of `tests/queries/tests.py` to identify any tests that utilize `FilteredRelation` or involve multiple joins on the same table, as you requested. This will help in finding a relevant test case for your issue.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "FilteredRelation", "relative_path": "tests/queries/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 15558, 'candidates_token_count': 114, 'total_token_count': 15871, 'cached_content_token_count': 1900, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15558}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1900}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 114}], 'thoughts_token_count': 199}, 'finish_reason': 'STOP', 'avg_logprobs': -0.35958490873637955, 'model_name': 'gemini-2.5-pro'} id='run--093fde32-dbb0-4235-bc79-3dcbc49d405d-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'FilteredRelation', 'relative_path': 'tests/queries/tests.py'}, 'id': '9658fb5b-82df-4352-b41e-3d377ab6f2a8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15558, 'output_tokens': 114, 'total_tokens': 15871, 'input_token_details': {'cache_read': 1900}, 'output_token_details': {'reasoning': 199}}
2025-12-24 23:08:00,289 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of `tests/queries/tests.py` and `tests/queries/models.py`. Since my initial search for "FilteredRelation" in `tests/queries/tests.py` yielded no results, I will now broaden my search to find tests that involve multiple joins on the same table. I\'ll start by looking for a test named `test_double_join_promotion` as its name strongly suggests it\'s relevant to your query.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "test_double_join_promotion", "relative_path": "tests/queries/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 15704, 'candidates_token_count': 135, 'total_token_count': 16423, 'cached_content_token_count': 15179, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15704}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15179}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 135}], 'thoughts_token_count': 584}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7367562188042535, 'model_name': 'gemini-2.5-pro'} id='run--5f12a080-efad-4ea3-80e2-6526a3e15d65-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'test_double_join_promotion', 'relative_path': 'tests/queries/tests.py'}, 'id': '1339f797-c490-4a36-8336-c50b4b641644', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15704, 'output_tokens': 135, 'total_tokens': 16423, 'input_token_details': {'cache_read': 15179}, 'output_token_details': {'reasoning': 584}}
2025-12-24 23:08:02,461 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I\'ve already fetched the content for `tests/queries/tests.py` and `tests/queries/models.py`. My previous searches for "FilteredRelation" and `test_double_join_promotion` within `tests/queries/tests.py` were unsuccessful. I will now try another approach by searching for the text "test_join_promotion" to find a relevant test case.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "test_join_promotion", "relative_path": "tests/queries/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 15871, 'candidates_token_count': 118, 'total_token_count': 15989, 'cached_content_token_count': 15160, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15871}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15160}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 118}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10059717146016783, 'model_name': 'gemini-2.5-pro'} id='run--85ebb752-7a38-4adc-831f-9dbee834b870-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'test_join_promotion', 'relative_path': 'tests/queries/tests.py'}, 'id': 'bb25cc5c-435d-466a-939d-55ee026314a2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 15871, 'output_tokens': 118, 'total_tokens': 15989, 'input_token_details': {'cache_read': 15160}}
2025-12-24 23:08:10,307 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have already retrieved the initial parts of `tests/queries/tests.py` and the entirety of `tests/queries/models.py`. My previous attempts to locate specific test names were unsuccessful. I will now read the remainder of the `tests/queries/tests.py` file to ensure I have the complete context before providing you with the most relevant test cases involving multiple joins.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "end_line": 4000.0, "relative_path": "tests/queries/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16021, 'candidates_token_count': 106, 'total_token_count': 16846, 'cached_content_token_count': 15140, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16021}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15140}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 106}], 'thoughts_token_count': 719}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0305459364405218, 'model_name': 'gemini-2.5-pro'} id='run--cbf0b288-00f3-40d9-9768-4caa116d4c66-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'end_line': 4000.0, 'relative_path': 'tests/queries/tests.py'}, 'id': '8df4a7a9-d8ba-466e-828d-65266d30596b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16021, 'output_tokens': 106, 'total_tokens': 16846, 'input_token_details': {'cache_read': 15140}, 'output_token_details': {'reasoning': 719}}
2025-12-24 23:08:26,021 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the contents of `tests/queries/tests.py` and `tests/queries/models.py`. After analyzing the test file, I have identified several test cases that demonstrate how Django handles multiple joins on the same table, which is relevant to your interest in `FilteredRelation`.\n\nSpecifically, the `test_revfk_noreuse` test in the `JoinReuseTest` class shows a scenario where multiple `.filter()` calls on the same reverse foreign key relationship result in the creation of multiple SQL joins. Additionally, the `test_combine_join_reuse` test in `Queries4Tests` and tests within the `DisjunctionPromotionTests` class, such as `test_disjunction_promotion2`, illustrate how Django can reuse joins or promote them to outer joins under different query conditions, like when using `OR` logic. These examples should provide the insight you are looking for regarding multiple `FilteredRelation` instances.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 3283, 'end_index': 3601, 'uri': 'https://github.com/django/django', 'title': '', 'license_': ''}, {'start_index': 3452, 'end_index': 3835, 'uri': 'https://github.com/JersonVnzl/Python', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 3890, 'end_index': 4693, 'uri': 'https://github.com/JersonVnzl/Python', 'license_': 'BSD-3-Clause', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 77623, 'candidates_token_count': 193, 'total_token_count': 79275, 'prompt_tokens_details': [{'modality': 1, 'token_count': 77623}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 193}], 'thoughts_token_count': 1459, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5818456541071284, 'model_name': 'gemini-2.5-pro'} id='run--a50ca37f-b45b-4d31-aaf6-5f3acefc3aa8-0' usage_metadata={'input_tokens': 77623, 'output_tokens': 193, 'total_tokens': 79275, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 1459}}
2025-12-24 23:08:26,024 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/queries/tests.py` and `tests/queries/models.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If the full files are too large, please provide any tests from `tests/queries/tests.py` that involve `FilteredRelation` or multiple joins on the same table.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to find a test case that demonstrates the issue of multiple `FilteredRelation`s on the same relation to find relevant examples for the user.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/queries/models.py
Line number range: 1 - 500
Content:
1. """
2. Various complex queries that have been problematic in the past.
3. """
4. from django.db import models
5. from django.db.models.functions import Now
6. 
7. 
8. class DumbCategory(models.Model):
9.     pass
10. 
11. 
12. class ProxyCategory(DumbCategory):
13.     class Meta:
14.         proxy = True
15. 
16. 
17. class NamedCategory(DumbCategory):
18.     name = models.CharField(max_length=10)
19. 
20.     def __str__(self):
21.         return self.name
22. 
23. 
24. class Tag(models.Model):
25.     name = models.CharField(max_length=10)
26.     parent = models.ForeignKey(
27.         "self",
28.         models.SET_NULL,
29.         blank=True,
30.         null=True,
31.         related_name="children",
32.     )
33.     category = models.ForeignKey(
34.         NamedCategory, models.SET_NULL, null=True, default=None
35.     )
36. 
37.     class Meta:
38.         ordering = ["name"]
39. 
40.     def __str__(self):
41.         return self.name
42. 
43. 
44. class Note(models.Model):
45.     note = models.CharField(max_length=100)
46.     misc = models.CharField(max_length=25)
47.     tag = models.ForeignKey(Tag, models.SET_NULL, blank=True, null=True)
48.     negate = models.BooleanField(default=True)
49. 
50.     class Meta:
51.         ordering = ["note"]
52. 
53.     def __str__(self):
54.         return self.note
55. 
56. 
57. class Annotation(models.Model):
58.     name = models.CharField(max_length=10)
59.     tag = models.ForeignKey(Tag, models.CASCADE)
60.     notes = models.ManyToManyField(Note)
61. 
62.     def __str__(self):
63.         return self.name
64. 
65. 
66. class DateTimePK(models.Model):
67.     date = models.DateTimeField(primary_key=True, auto_now_add=True)
68. 
69. 
70. class ExtraInfo(models.Model):
71.     info = models.CharField(max_length=100)
72.     note = models.ForeignKey(Note, models.CASCADE, null=True)
73.     value = models.IntegerField(null=True)
74.     date = models.ForeignKey(DateTimePK, models.SET_NULL, null=True)
75.     filterable = models.BooleanField(default=True)
76. 
77.     class Meta:
78.         ordering = ["info"]
79. 
80.     def __str__(self):
81.         return self.info
82. 
83. 
84. class Author(models.Model):
85.     name = models.CharField(max_length=10)
86.     num = models.IntegerField(unique=True)
87.     extra = models.ForeignKey(ExtraInfo, models.CASCADE)
88. 
89.     class Meta:
90.         ordering = ["name"]
91. 
92.     def __str__(self):
93.         return self.name
94. 
95. 
96. class Item(models.Model):
97.     name = models.CharField(max_length=10)
98.     created = models.DateTimeField()
99.     modified = models.DateTimeField(blank=True, null=True)
100.     tags = models.ManyToManyField(Tag, blank=True)
101.     creator = models.ForeignKey(Author, models.CASCADE)
102.     note = models.ForeignKey(Note, models.CASCADE)
103. 
104.     class Meta:
105.         ordering = ["-note", "name"]
106. 
107.     def __str__(self):
108.         return self.name
109. 
110. 
111. class Report(models.Model):
112.     name = models.CharField(max_length=10)
113.     creator = models.ForeignKey(Author, models.SET_NULL, to_field="num", null=True)
114. 
115.     def __str__(self):
116.         return self.name
117. 
118. 
119. class ReportComment(models.Model):
120.     report = models.ForeignKey(Report, models.CASCADE)
121. 
122. 
123. class Ranking(models.Model):
124.     rank = models.IntegerField()
125.     author = models.ForeignKey(Author, models.CASCADE)
126. 
127.     class Meta:
128.         # A complex ordering specification. Should stress the system a bit.
129.         ordering = ("author__extra__note", "author__name", "rank")
130. 
131.     def __str__(self):
132.         return "%d: %s" % (self.rank, self.author.name)
133. 
134. 
135. class Cover(models.Model):
136.     title = models.CharField(max_length=50)
137.     item = models.ForeignKey(Item, models.CASCADE)
138. 
139.     class Meta:
140.         ordering = ["item"]
141. 
142.     def __str__(self):
143.         return self.title
144. 
145. 
146. class Number(models.Model):
147.     num = models.IntegerField()
148.     other_num = models.IntegerField(null=True)
149.     another_num = models.IntegerField(null=True)
150. 
151.     def __str__(self):
152.         return str(self.num)
153. 
154. 
155. # Symmetrical m2m field with a normal field using the reverse accessor name
156. # ("valid").
157. 
158. 
159. class Valid(models.Model):
160.     valid = models.CharField(max_length=10)
161.     parent = models.ManyToManyField("self")
162. 
163.     class Meta:
164.         ordering = ["valid"]
165. 
166. 
167. # Some funky cross-linked models for testing a couple of infinite recursion
168. # cases.
169. 
170. 
171. class X(models.Model):
172.     y = models.ForeignKey("Y", models.CASCADE)
173. 
174. 
175. class Y(models.Model):
176.     x1 = models.ForeignKey(X, models.CASCADE, related_name="y1")
177. 
178. 
179. # Some models with a cycle in the default ordering. This would be bad if we
180. # didn't catch the infinite loop.
181. 
182. 
183. class LoopX(models.Model):
184.     y = models.ForeignKey("LoopY", models.CASCADE)
185. 
186.     class Meta:
187.         ordering = ["y"]
188. 
189. 
190. class LoopY(models.Model):
191.     x = models.ForeignKey(LoopX, models.CASCADE)
192. 
193.     class Meta:
194.         ordering = ["x"]
195. 
196. 
197. class LoopZ(models.Model):
198.     z = models.ForeignKey("self", models.CASCADE)
199. 
200.     class Meta:
201.         ordering = ["z"]
202. 
203. 
204. # A model and custom default manager combination.
205. 
206. 
207. class CustomManager(models.Manager):
208.     def get_queryset(self):
209.         qs = super().get_queryset()
210.         return qs.filter(public=True, tag__name="t1")
211. 
212. 
213. class ManagedModel(models.Model):
214.     data = models.CharField(max_length=10)
215.     tag = models.ForeignKey(Tag, models.CASCADE)
216.     public = models.BooleanField(default=True)
217. 
218.     objects = CustomManager()
219.     normal_manager = models.Manager()
220. 
221.     def __str__(self):
222.         return self.data
223. 
224. 
225. # An inter-related setup with multiple paths from Child to Detail.
226. 
227. 
228. class Detail(models.Model):
229.     data = models.CharField(max_length=10)
230. 
231. 
232. class MemberManager(models.Manager):
233.     def get_queryset(self):
234.         return super().get_queryset().select_related("details")
235. 
236. 
237. class Member(models.Model):
238.     name = models.CharField(max_length=10)
239.     details = models.OneToOneField(Detail, models.CASCADE, primary_key=True)
240. 
241.     objects = MemberManager()
242. 
243. 
244. class Child(models.Model):
245.     person = models.OneToOneField(Member, models.CASCADE, primary_key=True)
246.     parent = models.ForeignKey(Member, models.CASCADE, related_name="children")
247. 
248. 
249. # Custom primary keys interfered with ordering in the past.
250. 
251. 
252. class CustomPk(models.Model):
253.     name = models.CharField(max_length=10, primary_key=True)
254.     extra = models.CharField(max_length=10)
255. 
256.     class Meta:
257.         ordering = ["name", "extra"]
258. 
259. 
260. class Related(models.Model):
261.     custom = models.ForeignKey(CustomPk, models.CASCADE, null=True)
262. 
263. 
264. class CustomPkTag(models.Model):
265.     id = models.CharField(max_length=20, primary_key=True)
266.     custom_pk = models.ManyToManyField(CustomPk)
267.     tag = models.CharField(max_length=20)
268. 
269. 
270. # An inter-related setup with a model subclass that has a nullable
271. # path to another model, and a return path from that model.
272. 
273. 
274. class Celebrity(models.Model):
275.     name = models.CharField("Name", max_length=20)
276.     greatest_fan = models.ForeignKey("Fan", models.SET_NULL, null=True, unique=True)
277. 
278.     def __str__(self):
279.         return self.name
280. 
281. 
282. class TvChef(Celebrity):
283.     pass
284. 
285. 
286. class Fan(models.Model):
287.     fan_of = models.ForeignKey(Celebrity, models.CASCADE)
288. 
289. 
290. # Multiple foreign keys
291. 
292. 
293. class LeafA(models.Model):
294.     data = models.CharField(max_length=10)
295. 
296.     def __str__(self):
297.         return self.data
298. 
299. 
300. class LeafB(models.Model):
301.     data = models.CharField(max_length=10)
302. 
303. 
304. class Join(models.Model):
305.     a = models.ForeignKey(LeafA, models.CASCADE)
306.     b = models.ForeignKey(LeafB, models.CASCADE)
307. 
308. 
309. class ReservedName(models.Model):
310.     name = models.CharField(max_length=20)
311.     order = models.IntegerField()
312. 
313.     def __str__(self):
314.         return self.name
315. 
316. 
317. # A simpler shared-foreign-key setup that can expose some problems.
318. 
319. 
320. class SharedConnection(models.Model):
321.     data = models.CharField(max_length=10)
322. 
323.     def __str__(self):
324.         return self.data
325. 
326. 
327. class PointerA(models.Model):
328.     connection = models.ForeignKey(SharedConnection, models.CASCADE)
329. 
330. 
331. class PointerB(models.Model):
332.     connection = models.ForeignKey(SharedConnection, models.CASCADE)
333. 
334. 
335. # Multi-layer ordering
336. 
337. 
338. class SingleObject(models.Model):
339.     name = models.CharField(max_length=10)
340. 
341.     class Meta:
342.         ordering = ["name"]
343. 
344.     def __str__(self):
345.         return self.name
346. 
347. 
348. class RelatedObject(models.Model):
349.     single = models.ForeignKey(SingleObject, models.SET_NULL, null=True)
350.     f = models.IntegerField(null=True)
351. 
352.     class Meta:
353.         ordering = ["single"]
354. 
355. 
356. class Plaything(models.Model):
357.     name = models.CharField(max_length=10)
358.     others = models.ForeignKey(RelatedObject, models.SET_NULL, null=True)
359. 
360.     class Meta:
361.         ordering = ["others"]
362. 
363.     def __str__(self):
364.         return self.name
365. 
366. 
367. class Article(models.Model):
368.     name = models.CharField(max_length=20)
369.     created = models.DateTimeField()
370. 
371.     def __str__(self):
372.         return self.name
373. 
374. 
375. class Food(models.Model):
376.     name = models.CharField(max_length=20, unique=True)
377. 
378.     def __str__(self):
379.         return self.name
380. 
381. 
382. class Eaten(models.Model):
383.     food = models.ForeignKey(Food, models.SET_NULL, to_field="name", null=True)
384.     meal = models.CharField(max_length=20)
385. 
386.     def __str__(self):
387.         return "%s at %s" % (self.food, self.meal)
388. 
389. 
390. class Node(models.Model):
391.     num = models.IntegerField(unique=True)
392.     parent = models.ForeignKey("self", models.SET_NULL, to_field="num", null=True)
393. 
394.     def __str__(self):
395.         return str(self.num)
396. 
397. 
398. # Bug #12252
399. 
400. 
401. class ObjectA(models.Model):
402.     name = models.CharField(max_length=50)
403. 
404.     def __str__(self):
405.         return self.name
406. 
407.     def __iter__(self):
408.         # Ticket #23721
409.         assert False, "type checking should happen without calling model __iter__"
410. 
411. 
412. class ProxyObjectA(ObjectA):
413.     class Meta:
414.         proxy = True
415. 
416. 
417. class ChildObjectA(ObjectA):
418.     pass
419. 
420. 
421. class ObjectB(models.Model):
422.     name = models.CharField(max_length=50)
423.     objecta = models.ForeignKey(ObjectA, models.CASCADE)
424.     num = models.PositiveIntegerField()
425. 
426.     def __str__(self):
427.         return self.name
428. 
429. 
430. class ProxyObjectB(ObjectB):
431.     class Meta:
432.         proxy = True
433. 
434. 
435. class ObjectC(models.Model):
436.     name = models.CharField(max_length=50)
437.     objecta = models.ForeignKey(ObjectA, models.SET_NULL, null=True)
438.     objectb = models.ForeignKey(ObjectB, models.SET_NULL, null=True)
439.     childobjecta = models.ForeignKey(
440.         ChildObjectA, models.SET_NULL, null=True, related_name="ca_pk"
441.     )
442. 
443.     def __str__(self):
444.         return self.name
445. 
446. 
447. class SimpleCategory(models.Model):
448.     name = models.CharField(max_length=25)
449. 
450.     def __str__(self):
451.         return self.name
452. 
453. 
454. class SpecialCategory(SimpleCategory):
455.     special_name = models.CharField(max_length=35)
456. 
457.     def __str__(self):
458.         return self.name + " " + self.special_name
459. 
460. 
461. class CategoryItem(models.Model):
462.     category = models.ForeignKey(SimpleCategory, models.CASCADE)
463. 
464.     def __str__(self):
465.         return "category item: " + str(self.category)
466. 
467. 
468. class MixedCaseFieldCategoryItem(models.Model):
469.     CaTeGoRy = models.ForeignKey(SimpleCategory, models.CASCADE)
470. 
471. 
472. class MixedCaseDbColumnCategoryItem(models.Model):
473.     category = models.ForeignKey(
474.         SimpleCategory, models.CASCADE, db_column="CaTeGoRy_Id"
475.     )
476. 
477. 
478. class OneToOneCategory(models.Model):
479.     new_name = models.CharField(max_length=15)
480.     category = models.OneToOneField(SimpleCategory, models.CASCADE)
481. 
482.     def __str__(self):
483.         return "one2one " + self.new_name
484. 
485. 
486. class CategoryRelationship(models.Model):
487.     first = models.ForeignKey(SimpleCategory, models.CASCADE, related_name="first_rel")
488.     second = models.ForeignKey(
489.         SimpleCategory, models.CASCADE, related_name="second_rel"
490.     )
491. 
492. 
493. class CommonMixedCaseForeignKeys(models.Model):
494.     category = models.ForeignKey(CategoryItem, models.CASCADE)
495.     mixed_case_field_category = models.ForeignKey(
496.         MixedCaseFieldCategoryItem, models.CASCADE
497.     )
498.     mixed_case_db_column_category = models.ForeignKey(
499.         MixedCaseDbColumnCategoryItem, models.CASCADE
500.     )


File: tests/queries/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import pickle
3. import sys
4. import unittest
5. from operator import attrgetter
6. from threading import Lock
7. 
8. from django.core.exceptions import EmptyResultSet, FieldError
9. from django.db import DEFAULT_DB_ALIAS, connection
10. from django.db.models import Count, Exists, F, Max, OuterRef, Q
11. from django.db.models.expressions import RawSQL
12. from django.db.models.sql.constants import LOUTER
13. from django.db.models.sql.where import NothingNode, WhereNode
14. from django.test import SimpleTestCase, TestCase, skipUnlessDBFeature
15. from django.test.utils import CaptureQueriesContext, ignore_warnings
16. from django.utils.deprecation import RemovedInDjango50Warning
17. 
18. from .models import (
19.     FK1,
20.     Annotation,
21.     Article,
22.     Author,
23.     BaseA,
24.     BaseUser,
25.     Book,
26.     CategoryItem,
27.     CategoryRelationship,
28.     Celebrity,
29.     Channel,
30.     Chapter,
31.     Child,
32.     ChildObjectA,
33.     Classroom,
34.     CommonMixedCaseForeignKeys,
35.     Company,
36.     Cover,
37.     CustomPk,
38.     CustomPkTag,
39.     DateTimePK,
40.     Detail,
41.     DumbCategory,
42.     Eaten,
43.     Employment,
44.     ExtraInfo,
45.     Fan,
46.     Food,
47.     Identifier,
48.     Individual,
49.     Item,
50.     Job,
51.     JobResponsibilities,
52.     Join,
53.     LeafA,
54.     LeafB,
55.     LoopX,
56.     LoopZ,
57.     ManagedModel,
58.     Member,
59.     MixedCaseDbColumnCategoryItem,
60.     MixedCaseFieldCategoryItem,
61.     ModelA,
62.     ModelB,
63.     ModelC,
64.     ModelD,
65.     MyObject,
66.     NamedCategory,
67.     Node,
68.     Note,
69.     NullableName,
70.     Number,
71.     ObjectA,
72.     ObjectB,
73.     ObjectC,
74.     OneToOneCategory,
75.     Order,
76.     OrderItem,
77.     Page,
78.     Paragraph,
79.     Person,
80.     Plaything,
81.     PointerA,
82.     Program,
83.     ProxyCategory,
84.     ProxyObjectA,
85.     ProxyObjectB,
86.     Ranking,
87.     Related,
88.     RelatedIndividual,
89.     RelatedObject,
90.     Report,
91.     ReportComment,
92.     ReservedName,
93.     Responsibility,
94.     School,
95.     SharedConnection,
96.     SimpleCategory,
97.     SingleObject,
98.     SpecialCategory,
99.     Staff,
100.     StaffUser,
101.     Student,
102.     Tag,
103.     Task,
104.     Teacher,
105.     Ticket21203Child,
106.     Ticket21203Parent,
107.     Ticket23605A,
108.     Ticket23605B,
109.     Ticket23605C,
110.     TvChef,
111.     Valid,
112.     X,
113. )
114. 
115. 
116. class Queries1Tests(TestCase):
117.     @classmethod
118.     def setUpTestData(cls):
119.         cls.nc1 = generic = NamedCategory.objects.create(name="Generic")
120.         cls.t1 = Tag.objects.create(name="t1", category=generic)
121.         cls.t2 = Tag.objects.create(name="t2", parent=cls.t1, category=generic)
122.         cls.t3 = Tag.objects.create(name="t3", parent=cls.t1)
123.         cls.t4 = Tag.objects.create(name="t4", parent=cls.t3)
124.         cls.t5 = Tag.objects.create(name="t5", parent=cls.t3)
125. 
126.         cls.n1 = Note.objects.create(note="n1", misc="foo", id=1)
127.         cls.n2 = Note.objects.create(note="n2", misc="bar", id=2)
128.         cls.n3 = Note.objects.create(note="n3", misc="foo", id=3, negate=False)
129. 
130.         cls.ann1 = Annotation.objects.create(name="a1", tag=cls.t1)
131.         cls.ann1.notes.add(cls.n1)
132.         ann2 = Annotation.objects.create(name="a2", tag=cls.t4)
133.         ann2.notes.add(cls.n2, cls.n3)
134. 
135.         # Create these out of order so that sorting by 'id' will be different to sorting
136.         # by 'info'. Helps detect some problems later.
137.         cls.e2 = ExtraInfo.objects.create(
138.             info="e2", note=cls.n2, value=41, filterable=False
139.         )
140.         e1 = ExtraInfo.objects.create(info="e1", note=cls.n1, value=42)
141. 
142.         cls.a1 = Author.objects.create(name="a1", num=1001, extra=e1)
143.         cls.a2 = Author.objects.create(name="a2", num=2002, extra=e1)
144.         cls.a3 = Author.objects.create(name="a3", num=3003, extra=cls.e2)
145.         cls.a4 = Author.objects.create(name="a4", num=4004, extra=cls.e2)
146. 
147.         cls.time1 = datetime.datetime(2007, 12, 19, 22, 25, 0)
148.         cls.time2 = datetime.datetime(2007, 12, 19, 21, 0, 0)
149.         time3 = datetime.datetime(2007, 12, 20, 22, 25, 0)
150.         time4 = datetime.datetime(2007, 12, 20, 21, 0, 0)
151.         cls.i1 = Item.objects.create(
152.             name="one",
153.             created=cls.time1,
154.             modified=cls.time1,
155.             creator=cls.a1,
156.             note=cls.n3,
157.         )
158.         cls.i1.tags.set([cls.t1, cls.t2])
159.         cls.i2 = Item.objects.create(
160.             name="two", created=cls.time2, creator=cls.a2, note=cls.n2
161.         )
162.         cls.i2.tags.set([cls.t1, cls.t3])
163.         cls.i3 = Item.objects.create(
164.             name="three", created=time3, creator=cls.a2, note=cls.n3
165.         )
166.         cls.i4 = Item.objects.create(
167.             name="four", created=time4, creator=cls.a4, note=cls.n3
168.         )
169.         cls.i4.tags.set([cls.t4])
170. 
171.         cls.r1 = Report.objects.create(name="r1", creator=cls.a1)
172.         cls.r2 = Report.objects.create(name="r2", creator=cls.a3)
173.         cls.r3 = Report.objects.create(name="r3")
174. 
175.         # Ordering by 'rank' gives us rank2, rank1, rank3. Ordering by the Meta.ordering
176.         # will be rank3, rank2, rank1.
177.         cls.rank1 = Ranking.objects.create(rank=2, author=cls.a2)
178. 
179.         cls.c1 = Cover.objects.create(title="first", item=cls.i4)
180.         cls.c2 = Cover.objects.create(title="second", item=cls.i2)
181. 
182.     def test_subquery_condition(self):
183.         qs1 = Tag.objects.filter(pk__lte=0)
184.         qs2 = Tag.objects.filter(parent__in=qs1)
185.         qs3 = Tag.objects.filter(parent__in=qs2)
186.         self.assertEqual(qs3.query.subq_aliases, {"T", "U", "V"})
187.         self.assertIn("v0", str(qs3.query).lower())
188.         qs4 = qs3.filter(parent__in=qs1)
189.         self.assertEqual(qs4.query.subq_aliases, {"T", "U", "V"})
190.         # It is possible to reuse U for the second subquery, no need to use W.
191.         self.assertNotIn("w0", str(qs4.query).lower())
192.         # So, 'U0."id"' is referenced in SELECT and WHERE twice.
193.         self.assertEqual(str(qs4.query).lower().count("u0."), 4)
194. 
195.     def test_ticket1050(self):
196.         self.assertSequenceEqual(
197.             Item.objects.filter(tags__isnull=True),
198.             [self.i3],
199.         )
200.         self.assertSequenceEqual(
201.             Item.objects.filter(tags__id__isnull=True),
202.             [self.i3],
203.         )
204. 
205.     def test_ticket1801(self):
206.         self.assertSequenceEqual(
207.             Author.objects.filter(item=self.i2),
208.             [self.a2],
209.         )
210.         self.assertSequenceEqual(
211.             Author.objects.filter(item=self.i3),
212.             [self.a2],
213.         )
214.         self.assertSequenceEqual(
215.             Author.objects.filter(item=self.i2) & Author.objects.filter(item=self.i3),
216.             [self.a2],
217.         )
218. 
219.     def test_ticket2306(self):
220.         # Checking that no join types are "left outer" joins.
221.         query = Item.objects.filter(tags=self.t2).query
222.         self.assertNotIn(LOUTER, [x.join_type for x in query.alias_map.values()])
223. 
224.         self.assertSequenceEqual(
225.             Item.objects.filter(Q(tags=self.t1)).order_by("name"),
226.             [self.i1, self.i2],
227.         )
228.         self.assertSequenceEqual(
229.             Item.objects.filter(Q(tags=self.t1)).filter(Q(tags=self.t2)),
230.             [self.i1],
231.         )
232.         self.assertSequenceEqual(
233.             Item.objects.filter(Q(tags=self.t1)).filter(
234.                 Q(creator__name="fred") | Q(tags=self.t2)
235.             ),
236.             [self.i1],
237.         )
238. 
239.         # Each filter call is processed "at once" against a single table, so this is
240.         # different from the previous example as it tries to find tags that are two
241.         # things at once (rather than two tags).
242.         self.assertSequenceEqual(
243.             Item.objects.filter(Q(tags=self.t1) & Q(tags=self.t2)), []
244.         )
245.         self.assertSequenceEqual(
246.             Item.objects.filter(
247.                 Q(tags=self.t1), Q(creator__name="fred") | Q(tags=self.t2)
248.             ),
249.             [],
250.         )
251. 
252.         qs = Author.objects.filter(ranking__rank=2, ranking__id=self.rank1.id)
253.         self.assertSequenceEqual(list(qs), [self.a2])
254.         self.assertEqual(2, qs.query.count_active_tables(), 2)
255.         qs = Author.objects.filter(ranking__rank=2).filter(ranking__id=self.rank1.id)
256.         self.assertEqual(qs.query.count_active_tables(), 3)
257. 
258.     def test_ticket4464(self):
259.         self.assertSequenceEqual(
260.             Item.objects.filter(tags=self.t1).filter(tags=self.t2),
261.             [self.i1],
262.         )
263.         self.assertSequenceEqual(
264.             Item.objects.filter(tags__in=[self.t1, self.t2])
265.             .distinct()
266.             .order_by("name"),
267.             [self.i1, self.i2],
268.         )
269.         self.assertSequenceEqual(
270.             Item.objects.filter(tags__in=[self.t1, self.t2]).filter(tags=self.t3),
271.             [self.i2],
272.         )
273. 
274.         # Make sure .distinct() works with slicing (this was broken in Oracle).
275.         self.assertSequenceEqual(
276.             Item.objects.filter(tags__in=[self.t1, self.t2]).order_by("name")[:3],
277.             [self.i1, self.i1, self.i2],
278.         )
279.         self.assertSequenceEqual(
280.             Item.objects.filter(tags__in=[self.t1, self.t2])
281.             .distinct()
282.             .order_by("name")[:3],
283.             [self.i1, self.i2],
284.         )
285. 
286.     def test_tickets_2080_3592(self):
287.         self.assertSequenceEqual(
288.             Author.objects.filter(item__name="one") | Author.objects.filter(name="a3"),
289.             [self.a1, self.a3],
290.         )
291.         self.assertSequenceEqual(
292.             Author.objects.filter(Q(item__name="one") | Q(name="a3")),
293.             [self.a1, self.a3],
294.         )
295.         self.assertSequenceEqual(
296.             Author.objects.filter(Q(name="a3") | Q(item__name="one")),
297.             [self.a1, self.a3],
298.         )
299.         self.assertSequenceEqual(
300.             Author.objects.filter(Q(item__name="three") | Q(report__name="r3")),
301.             [self.a2],
302.         )
303. 
304.     def test_ticket6074(self):
305.         # Merging two empty result sets shouldn't leave a queryset with no constraints
306.         # (which would match everything).
307.         self.assertSequenceEqual(Author.objects.filter(Q(id__in=[])), [])
308.         self.assertSequenceEqual(Author.objects.filter(Q(id__in=[]) | Q(id__in=[])), [])
309. 
310.     def test_tickets_1878_2939(self):
311.         self.assertEqual(Item.objects.values("creator").distinct().count(), 3)
312. 
313.         # Create something with a duplicate 'name' so that we can test multi-column
314.         # cases (which require some tricky SQL transformations under the covers).
315.         xx = Item(name="four", created=self.time1, creator=self.a2, note=self.n1)
316.         xx.save()
317.         self.assertEqual(
318.             Item.objects.exclude(name="two")
319.             .values("creator", "name")
320.             .distinct()
321.             .count(),
322.             4,
323.         )
324.         self.assertEqual(
325.             (
326.                 Item.objects.exclude(name="two")
327.                 .extra(select={"foo": "%s"}, select_params=(1,))
328.                 .values("creator", "name", "foo")
329.                 .distinct()
330.                 .count()
331.             ),
332.             4,
333.         )
334.         self.assertEqual(
335.             (
336.                 Item.objects.exclude(name="two")
337.                 .extra(select={"foo": "%s"}, select_params=(1,))
338.                 .values("creator", "name")
339.                 .distinct()
340.                 .count()
341.             ),
342.             4,
343.         )
344.         xx.delete()
345. 
346.     def test_ticket7323(self):
347.         self.assertEqual(Item.objects.values("creator", "name").count(), 4)
348. 
349.     def test_ticket2253(self):
350.         q1 = Item.objects.order_by("name")
351.         q2 = Item.objects.filter(id=self.i1.id)
352.         self.assertSequenceEqual(q1, [self.i4, self.i1, self.i3, self.i2])
353.         self.assertSequenceEqual(q2, [self.i1])
354.         self.assertSequenceEqual(
355.             (q1 | q2).order_by("name"),
356.             [self.i4, self.i1, self.i3, self.i2],
357.         )
358.         self.assertSequenceEqual((q1 & q2).order_by("name"), [self.i1])
359. 
360.         q1 = Item.objects.filter(tags=self.t1)
361.         q2 = Item.objects.filter(note=self.n3, tags=self.t2)
362.         q3 = Item.objects.filter(creator=self.a4)
363.         self.assertSequenceEqual(
364.             ((q1 & q2) | q3).order_by("name"),
365.             [self.i4, self.i1],
366.         )
367. 
368.     def test_order_by_tables(self):
369.         q1 = Item.objects.order_by("name")
370.         q2 = Item.objects.filter(id=self.i1.id)
371.         list(q2)
372.         combined_query = (q1 & q2).order_by("name").query
373.         self.assertEqual(
374.             len(
375.                 [
376.                     t
377.                     for t in combined_query.alias_map
378.                     if combined_query.alias_refcount[t]
379.                 ]
380.             ),
381.             1,
382.         )
383. 
384.     def test_order_by_join_unref(self):
385.         """
386.         This test is related to the above one, testing that there aren't
387.         old JOINs in the query.
388.         """
389.         qs = Celebrity.objects.order_by("greatest_fan__fan_of")
390.         self.assertIn("OUTER JOIN", str(qs.query))
391.         qs = qs.order_by("id")
392.         self.assertNotIn("OUTER JOIN", str(qs.query))
393. 
394.     def test_get_clears_ordering(self):
395.         """
396.         get() should clear ordering for optimization purposes.
397.         """
398.         with CaptureQueriesContext(connection) as captured_queries:
399.             Author.objects.order_by("name").get(pk=self.a1.pk)
400.         self.assertNotIn("order by", captured_queries[0]["sql"].lower())
401. 
402.     def test_tickets_4088_4306(self):
403.         self.assertSequenceEqual(Report.objects.filter(creator=1001), [self.r1])
404.         self.assertSequenceEqual(Report.objects.filter(creator__num=1001), [self.r1])
405.         self.assertSequenceEqual(Report.objects.filter(creator__id=1001), [])
406.         self.assertSequenceEqual(
407.             Report.objects.filter(creator__id=self.a1.id), [self.r1]
408.         )
409.         self.assertSequenceEqual(Report.objects.filter(creator__name="a1"), [self.r1])
410. 
411.     def test_ticket4510(self):
412.         self.assertSequenceEqual(
413.             Author.objects.filter(report__name="r1"),
414.             [self.a1],
415.         )
416. 
417.     def test_ticket7378(self):
418.         self.assertSequenceEqual(self.a1.report_set.all(), [self.r1])
419. 
420.     def test_tickets_5324_6704(self):
421.         self.assertSequenceEqual(
422.             Item.objects.filter(tags__name="t4"),
423.             [self.i4],
424.         )
425.         self.assertSequenceEqual(
426.             Item.objects.exclude(tags__name="t4").order_by("name").distinct(),
427.             [self.i1, self.i3, self.i2],
428.         )
429.         self.assertSequenceEqual(
430.             Item.objects.exclude(tags__name="t4").order_by("name").distinct().reverse(),
431.             [self.i2, self.i3, self.i1],
432.         )
433.         self.assertSequenceEqual(
434.             Author.objects.exclude(item__name="one").distinct().order_by("name"),
435.             [self.a2, self.a3, self.a4],
436.         )
437. 
438.         # Excluding across a m2m relation when there is more than one related
439.         # object associated was problematic.
440.         self.assertSequenceEqual(
441.             Item.objects.exclude(tags__name="t1").order_by("name"),
442.             [self.i4, self.i3],
443.         )
444.         self.assertSequenceEqual(
445.             Item.objects.exclude(tags__name="t1").exclude(tags__name="t4"),
446.             [self.i3],
447.         )
448. 
449.         # Excluding from a relation that cannot be NULL should not use outer joins.
450.         query = Item.objects.exclude(creator__in=[self.a1, self.a2]).query
451.         self.assertNotIn(LOUTER, [x.join_type for x in query.alias_map.values()])
452. 
453.         # Similarly, when one of the joins cannot possibly, ever, involve NULL
454.         # values (Author -> ExtraInfo, in the following), it should never be
455.         # promoted to a left outer join. So the following query should only
456.         # involve one "left outer" join (Author -> Item is 0-to-many).
457.         qs = Author.objects.filter(id=self.a1.id).filter(
458.             Q(extra__note=self.n1) | Q(item__note=self.n3)
459.         )
460.         self.assertEqual(
461.             len(
462.                 [
463.                     x
464.                     for x in qs.query.alias_map.values()
465.                     if x.join_type == LOUTER and qs.query.alias_refcount[x.table_alias]
466.                 ]
467.             ),
468.             1,
469.         )
470. 
471.         # The previous changes shouldn't affect nullable foreign key joins.
472.         self.assertSequenceEqual(
473.             Tag.objects.filter(parent__isnull=True).order_by("name"), [self.t1]
474.         )
475.         self.assertSequenceEqual(
476.             Tag.objects.exclude(parent__isnull=True).order_by("name"),
477.             [self.t2, self.t3, self.t4, self.t5],
478.         )
479.         self.assertSequenceEqual(
480.             Tag.objects.exclude(Q(parent__name="t1") | Q(parent__isnull=True)).order_by(
481.                 "name"
482.             ),
483.             [self.t4, self.t5],
484.         )
485.         self.assertSequenceEqual(
486.             Tag.objects.exclude(Q(parent__isnull=True) | Q(parent__name="t1")).order_by(
487.                 "name"
488.             ),
489.             [self.t4, self.t5],
490.         )
491.         self.assertSequenceEqual(
492.             Tag.objects.exclude(Q(parent__parent__isnull=True)).order_by("name"),
493.             [self.t4, self.t5],
494.         )
495.         self.assertSequenceEqual(
496.             Tag.objects.filter(~Q(parent__parent__isnull=True)).order_by("name"),
497.             [self.t4, self.t5],
498.         )
499. 
500.     def test_ticket2091(self):


File: tests/queries/tests.py
Line number range: 501 - 4000
Content:
501.         t = Tag.objects.get(name="t4")
502.         self.assertSequenceEqual(Item.objects.filter(tags__in=[t]), [self.i4])
503. 
504.     def test_avoid_infinite_loop_on_too_many_subqueries(self):
505.         x = Tag.objects.filter(pk=1)
506.         local_recursion_limit = sys.getrecursionlimit() // 16
507.         msg = "Maximum recursion depth exceeded: too many subqueries."
508.         with self.assertRaisesMessage(RecursionError, msg):
509.             for i in range(local_recursion_limit + 2):
510.                 x = Tag.objects.filter(pk__in=x)
511. 
512.     def test_reasonable_number_of_subq_aliases(self):
513.         x = Tag.objects.filter(pk=1)
514.         for _ in range(20):
515.             x = Tag.objects.filter(pk__in=x)
516.         self.assertEqual(
517.             x.query.subq_aliases,
518.             {
519.                 "T",
520.                 "U",
521.                 "V",
522.                 "W",
523.                 "X",
524.                 "Y",
525.                 "Z",
526.                 "AA",
527.                 "AB",
528.                 "AC",
529.                 "AD",
530.                 "AE",
531.                 "AF",
532.                 "AG",
533.                 "AH",
534.                 "AI",
535.                 "AJ",
536.                 "AK",
537.                 "AL",
538.                 "AM",
539.                 "AN",
540.             },
541.         )
542. 
543.     def test_heterogeneous_qs_combination(self):
544.         # Combining querysets built on different models should behave in a well-defined
545.         # fashion. We raise an error.
546.         msg = "Cannot combine queries on two different base models."
547.         with self.assertRaisesMessage(TypeError, msg):
548.             Author.objects.all() & Tag.objects.all()
549.         with self.assertRaisesMessage(TypeError, msg):
550.             Author.objects.all() | Tag.objects.all()
551. 
552.     def test_ticket3141(self):
553.         self.assertEqual(Author.objects.extra(select={"foo": "1"}).count(), 4)
554.         self.assertEqual(
555.             Author.objects.extra(select={"foo": "%s"}, select_params=(1,)).count(), 4
556.         )
557. 
558.     def test_ticket2400(self):
559.         self.assertSequenceEqual(
560.             Author.objects.filter(item__isnull=True),
561.             [self.a3],
562.         )
563.         self.assertSequenceEqual(
564.             Tag.objects.filter(item__isnull=True),
565.             [self.t5],
566.         )
567. 
568.     def test_ticket2496(self):
569.         self.assertSequenceEqual(
570.             Item.objects.extra(tables=["queries_author"])
571.             .select_related()
572.             .order_by("name")[:1],
573.             [self.i4],
574.         )
575. 
576.     def test_error_raised_on_filter_with_dictionary(self):
577.         with self.assertRaisesMessage(FieldError, "Cannot parse keyword query as dict"):
578.             Note.objects.filter({"note": "n1", "misc": "foo"})
579. 
580.     def test_tickets_2076_7256(self):
581.         # Ordering on related tables should be possible, even if the table is
582.         # not otherwise involved.
583.         self.assertSequenceEqual(
584.             Item.objects.order_by("note__note", "name"),
585.             [self.i2, self.i4, self.i1, self.i3],
586.         )
587. 
588.         # Ordering on a related field should use the remote model's default
589.         # ordering as a final step.
590.         self.assertSequenceEqual(
591.             Author.objects.order_by("extra", "-name"),
592.             [self.a2, self.a1, self.a4, self.a3],
593.         )
594. 
595.         # Using remote model default ordering can span multiple models (in this
596.         # case, Cover is ordered by Item's default, which uses Note's default).
597.         self.assertSequenceEqual(Cover.objects.all(), [self.c1, self.c2])
598. 
599.         # If the remote model does not have a default ordering, we order by its 'id'
600.         # field.
601.         self.assertSequenceEqual(
602.             Item.objects.order_by("creator", "name"),
603.             [self.i1, self.i3, self.i2, self.i4],
604.         )
605. 
606.         # Ordering by a many-valued attribute (e.g. a many-to-many or reverse
607.         # ForeignKey) is legal, but the results might not make sense. That
608.         # isn't Django's problem. Garbage in, garbage out.
609.         self.assertSequenceEqual(
610.             Item.objects.filter(tags__isnull=False).order_by("tags", "id"),
611.             [self.i1, self.i2, self.i1, self.i2, self.i4],
612.         )
613. 
614.         # If we replace the default ordering, Django adjusts the required
615.         # tables automatically. Item normally requires a join with Note to do
616.         # the default ordering, but that isn't needed here.
617.         qs = Item.objects.order_by("name")
618.         self.assertSequenceEqual(qs, [self.i4, self.i1, self.i3, self.i2])
619.         self.assertEqual(len(qs.query.alias_map), 1)
620. 
621.     def test_tickets_2874_3002(self):
622.         qs = Item.objects.select_related().order_by("note__note", "name")
623.         self.assertQuerysetEqual(qs, [self.i2, self.i4, self.i1, self.i3])
624. 
625.         # This is also a good select_related() test because there are multiple
626.         # Note entries in the SQL. The two Note items should be different.
627.         self.assertEqual(repr(qs[0].note), "<Note: n2>")
628.         self.assertEqual(repr(qs[0].creator.extra.note), "<Note: n1>")
629. 
630.     def test_ticket3037(self):
631.         self.assertSequenceEqual(
632.             Item.objects.filter(
633.                 Q(creator__name="a3", name="two") | Q(creator__name="a4", name="four")
634.             ),
635.             [self.i4],
636.         )
637. 
638.     def test_tickets_5321_7070(self):
639.         # Ordering columns must be included in the output columns. Note that
640.         # this means results that might otherwise be distinct are not (if there
641.         # are multiple values in the ordering cols), as in this example. This
642.         # isn't a bug; it's a warning to be careful with the selection of
643.         # ordering columns.
644.         self.assertSequenceEqual(
645.             Note.objects.values("misc").distinct().order_by("note", "-misc"),
646.             [{"misc": "foo"}, {"misc": "bar"}, {"misc": "foo"}],
647.         )
648. 
649.     def test_ticket4358(self):
650.         # If you don't pass any fields to values(), relation fields are
651.         # returned as "foo_id" keys, not "foo". For consistency, you should be
652.         # able to pass "foo_id" in the fields list and have it work, too. We
653.         # actually allow both "foo" and "foo_id".
654.         # The *_id version is returned by default.
655.         self.assertIn("note_id", ExtraInfo.objects.values()[0])
656.         # You can also pass it in explicitly.
657.         self.assertSequenceEqual(
658.             ExtraInfo.objects.values("note_id"), [{"note_id": 1}, {"note_id": 2}]
659.         )
660.         # ...or use the field name.
661.         self.assertSequenceEqual(
662.             ExtraInfo.objects.values("note"), [{"note": 1}, {"note": 2}]
663.         )
664. 
665.     def test_ticket6154(self):
666.         # Multiple filter statements are joined using "AND" all the time.
667. 
668.         self.assertSequenceEqual(
669.             Author.objects.filter(id=self.a1.id).filter(
670.                 Q(extra__note=self.n1) | Q(item__note=self.n3)
671.             ),
672.             [self.a1],
673.         )
674.         self.assertSequenceEqual(
675.             Author.objects.filter(
676.                 Q(extra__note=self.n1) | Q(item__note=self.n3)
677.             ).filter(id=self.a1.id),
678.             [self.a1],
679.         )
680. 
681.     def test_ticket6981(self):
682.         self.assertSequenceEqual(
683.             Tag.objects.select_related("parent").order_by("name"),
684.             [self.t1, self.t2, self.t3, self.t4, self.t5],
685.         )
686. 
687.     def test_ticket9926(self):
688.         self.assertSequenceEqual(
689.             Tag.objects.select_related("parent", "category").order_by("name"),
690.             [self.t1, self.t2, self.t3, self.t4, self.t5],
691.         )
692.         self.assertSequenceEqual(
693.             Tag.objects.select_related("parent", "parent__category").order_by("name"),
694.             [self.t1, self.t2, self.t3, self.t4, self.t5],
695.         )
696. 
697.     def test_tickets_6180_6203(self):
698.         # Dates with limits and/or counts
699.         self.assertEqual(Item.objects.count(), 4)
700.         self.assertEqual(Item.objects.datetimes("created", "month").count(), 1)
701.         self.assertEqual(Item.objects.datetimes("created", "day").count(), 2)
702.         self.assertEqual(len(Item.objects.datetimes("created", "day")), 2)
703.         self.assertEqual(
704.             Item.objects.datetimes("created", "day")[0],
705.             datetime.datetime(2007, 12, 19, 0, 0),
706.         )
707. 
708.     def test_tickets_7087_12242(self):
709.         # Dates with extra select columns
710.         self.assertSequenceEqual(
711.             Item.objects.datetimes("created", "day").extra(select={"a": 1}),
712.             [
713.                 datetime.datetime(2007, 12, 19, 0, 0),
714.                 datetime.datetime(2007, 12, 20, 0, 0),
715.             ],
716.         )
717.         self.assertSequenceEqual(
718.             Item.objects.extra(select={"a": 1}).datetimes("created", "day"),
719.             [
720.                 datetime.datetime(2007, 12, 19, 0, 0),
721.                 datetime.datetime(2007, 12, 20, 0, 0),
722.             ],
723.         )
724. 
725.         name = "one"
726.         self.assertSequenceEqual(
727.             Item.objects.datetimes("created", "day").extra(
728.                 where=["name=%s"], params=[name]
729.             ),
730.             [datetime.datetime(2007, 12, 19, 0, 0)],
731.         )
732. 
733.         self.assertSequenceEqual(
734.             Item.objects.extra(where=["name=%s"], params=[name]).datetimes(
735.                 "created", "day"
736.             ),
737.             [datetime.datetime(2007, 12, 19, 0, 0)],
738.         )
739. 
740.     def test_ticket7155(self):
741.         # Nullable dates
742.         self.assertSequenceEqual(
743.             Item.objects.datetimes("modified", "day"),
744.             [datetime.datetime(2007, 12, 19, 0, 0)],
745.         )
746. 
747.     def test_order_by_rawsql(self):
748.         self.assertSequenceEqual(
749.             Item.objects.values("note__note").order_by(
750.                 RawSQL("queries_note.note", ()),
751.                 "id",
752.             ),
753.             [
754.                 {"note__note": "n2"},
755.                 {"note__note": "n3"},
756.                 {"note__note": "n3"},
757.                 {"note__note": "n3"},
758.             ],
759.         )
760. 
761.     def test_ticket7096(self):
762.         # Make sure exclude() with multiple conditions continues to work.
763.         self.assertSequenceEqual(
764.             Tag.objects.filter(parent=self.t1, name="t3").order_by("name"),
765.             [self.t3],
766.         )
767.         self.assertSequenceEqual(
768.             Tag.objects.exclude(parent=self.t1, name="t3").order_by("name"),
769.             [self.t1, self.t2, self.t4, self.t5],
770.         )
771.         self.assertSequenceEqual(
772.             Item.objects.exclude(tags__name="t1", name="one")
773.             .order_by("name")
774.             .distinct(),
775.             [self.i4, self.i3, self.i2],
776.         )
777.         self.assertSequenceEqual(
778.             Item.objects.filter(name__in=["three", "four"])
779.             .exclude(tags__name="t1")
780.             .order_by("name"),
781.             [self.i4, self.i3],
782.         )
783. 
784.         # More twisted cases, involving nested negations.
785.         self.assertSequenceEqual(
786.             Item.objects.exclude(~Q(tags__name="t1", name="one")),
787.             [self.i1],
788.         )
789.         self.assertSequenceEqual(
790.             Item.objects.filter(~Q(tags__name="t1", name="one"), name="two"),
791.             [self.i2],
792.         )
793.         self.assertSequenceEqual(
794.             Item.objects.exclude(~Q(tags__name="t1", name="one"), name="two"),
795.             [self.i4, self.i1, self.i3],
796.         )
797. 
798.     def test_tickets_7204_7506(self):
799.         # Make sure querysets with related fields can be pickled. If this
800.         # doesn't crash, it's a Good Thing.
801.         pickle.dumps(Item.objects.all())
802. 
803.     def test_ticket7813(self):
804.         # We should also be able to pickle things that use select_related().
805.         # The only tricky thing here is to ensure that we do the related
806.         # selections properly after unpickling.
807.         qs = Item.objects.select_related()
808.         query = qs.query.get_compiler(qs.db).as_sql()[0]
809.         query2 = pickle.loads(pickle.dumps(qs.query))
810.         self.assertEqual(query2.get_compiler(qs.db).as_sql()[0], query)
811. 
812.     def test_deferred_load_qs_pickling(self):
813.         # Check pickling of deferred-loading querysets
814.         qs = Item.objects.defer("name", "creator")
815.         q2 = pickle.loads(pickle.dumps(qs))
816.         self.assertEqual(list(qs), list(q2))
817.         q3 = pickle.loads(pickle.dumps(qs, pickle.HIGHEST_PROTOCOL))
818.         self.assertEqual(list(qs), list(q3))
819. 
820.     def test_ticket7277(self):
821.         self.assertSequenceEqual(
822.             self.n1.annotation_set.filter(
823.                 Q(tag=self.t5)
824.                 | Q(tag__children=self.t5)
825.                 | Q(tag__children__children=self.t5)
826.             ),
827.             [self.ann1],
828.         )
829. 
830.     def test_tickets_7448_7707(self):
831.         # Complex objects should be converted to strings before being used in
832.         # lookups.
833.         self.assertSequenceEqual(
834.             Item.objects.filter(created__in=[self.time1, self.time2]),
835.             [self.i1, self.i2],
836.         )
837. 
838.     def test_ticket7235(self):
839.         # An EmptyQuerySet should not raise exceptions if it is filtered.
840.         Eaten.objects.create(meal="m")
841.         q = Eaten.objects.none()
842.         with self.assertNumQueries(0):
843.             self.assertQuerysetEqual(q.all(), [])
844.             self.assertQuerysetEqual(q.filter(meal="m"), [])
845.             self.assertQuerysetEqual(q.exclude(meal="m"), [])
846.             self.assertQuerysetEqual(q.complex_filter({"pk": 1}), [])
847.             self.assertQuerysetEqual(q.select_related("food"), [])
848.             self.assertQuerysetEqual(q.annotate(Count("food")), [])
849.             self.assertQuerysetEqual(q.order_by("meal", "food"), [])
850.             self.assertQuerysetEqual(q.distinct(), [])
851.             self.assertQuerysetEqual(q.extra(select={"foo": "1"}), [])
852.             self.assertQuerysetEqual(q.reverse(), [])
853.             q.query.low_mark = 1
854.             msg = "Cannot change a query once a slice has been taken."
855.             with self.assertRaisesMessage(TypeError, msg):
856.                 q.extra(select={"foo": "1"})
857.             self.assertQuerysetEqual(q.defer("meal"), [])
858.             self.assertQuerysetEqual(q.only("meal"), [])
859. 
860.     def test_ticket7791(self):
861.         # There were "issues" when ordering and distinct-ing on fields related
862.         # via ForeignKeys.
863.         self.assertEqual(len(Note.objects.order_by("extrainfo__info").distinct()), 3)
864. 
865.         # Pickling of QuerySets using datetimes() should work.
866.         qs = Item.objects.datetimes("created", "month")
867.         pickle.loads(pickle.dumps(qs))
868. 
869.     def test_ticket9997(self):
870.         # If a ValuesList or Values queryset is passed as an inner query, we
871.         # make sure it's only requesting a single value and use that as the
872.         # thing to select.
873.         self.assertSequenceEqual(
874.             Tag.objects.filter(
875.                 name__in=Tag.objects.filter(parent=self.t1).values("name")
876.             ),
877.             [self.t2, self.t3],
878.         )
879. 
880.         # Multi-valued values() and values_list() querysets should raise errors.
881.         with self.assertRaisesMessage(
882.             TypeError, "Cannot use multi-field values as a filter value."
883.         ):
884.             Tag.objects.filter(
885.                 name__in=Tag.objects.filter(parent=self.t1).values("name", "id")
886.             )
887.         with self.assertRaisesMessage(
888.             TypeError, "Cannot use multi-field values as a filter value."
889.         ):
890.             Tag.objects.filter(
891.                 name__in=Tag.objects.filter(parent=self.t1).values_list("name", "id")
892.             )
893. 
894.     def test_ticket9985(self):
895.         # qs.values_list(...).values(...) combinations should work.
896.         self.assertSequenceEqual(
897.             Note.objects.values_list("note", flat=True).values("id").order_by("id"),
898.             [{"id": 1}, {"id": 2}, {"id": 3}],
899.         )
900.         self.assertSequenceEqual(
901.             Annotation.objects.filter(
902.                 notes__in=Note.objects.filter(note="n1")
903.                 .values_list("note")
904.                 .values("id")
905.             ),
906.             [self.ann1],
907.         )
908. 
909.     def test_ticket10205(self):
910.         # When bailing out early because of an empty "__in" filter, we need
911.         # to set things up correctly internally so that subqueries can continue
912.         # properly.
913.         self.assertEqual(Tag.objects.filter(name__in=()).update(name="foo"), 0)
914. 
915.     def test_ticket10432(self):
916.         # Testing an empty "__in" filter with a generator as the value.
917.         def f():
918.             return iter([])
919. 
920.         n_obj = Note.objects.all()[0]
921. 
922.         def g():
923.             yield n_obj.pk
924. 
925.         self.assertQuerysetEqual(Note.objects.filter(pk__in=f()), [])
926.         self.assertEqual(list(Note.objects.filter(pk__in=g())), [n_obj])
927. 
928.     def test_ticket10742(self):
929.         # Queries used in an __in clause don't execute subqueries
930. 
931.         subq = Author.objects.filter(num__lt=3000)
932.         qs = Author.objects.filter(pk__in=subq)
933.         self.assertSequenceEqual(qs, [self.a1, self.a2])
934. 
935.         # The subquery result cache should not be populated
936.         self.assertIsNone(subq._result_cache)
937. 
938.         subq = Author.objects.filter(num__lt=3000)
939.         qs = Author.objects.exclude(pk__in=subq)
940.         self.assertSequenceEqual(qs, [self.a3, self.a4])
941. 
942.         # The subquery result cache should not be populated
943.         self.assertIsNone(subq._result_cache)
944. 
945.         subq = Author.objects.filter(num__lt=3000)
946.         self.assertSequenceEqual(
947.             Author.objects.filter(Q(pk__in=subq) & Q(name="a1")),
948.             [self.a1],
949.         )
950. 
951.         # The subquery result cache should not be populated
952.         self.assertIsNone(subq._result_cache)
953. 
954.     def test_ticket7076(self):
955.         # Excluding shouldn't eliminate NULL entries.
956.         self.assertSequenceEqual(
957.             Item.objects.exclude(modified=self.time1).order_by("name"),
958.             [self.i4, self.i3, self.i2],
959.         )
960.         self.assertSequenceEqual(
961.             Tag.objects.exclude(parent__name=self.t1.name),
962.             [self.t1, self.t4, self.t5],
963.         )
964. 
965.     def test_ticket7181(self):
966.         # Ordering by related tables should accommodate nullable fields (this
967.         # test is a little tricky, since NULL ordering is database dependent.
968.         # Instead, we just count the number of results).
969.         self.assertEqual(len(Tag.objects.order_by("parent__name")), 5)
970. 
971.         # Empty querysets can be merged with others.
972.         self.assertSequenceEqual(
973.             Note.objects.none() | Note.objects.all(),
974.             [self.n1, self.n2, self.n3],
975.         )
976.         self.assertSequenceEqual(
977.             Note.objects.all() | Note.objects.none(),
978.             [self.n1, self.n2, self.n3],
979.         )
980.         self.assertSequenceEqual(Note.objects.none() & Note.objects.all(), [])
981.         self.assertSequenceEqual(Note.objects.all() & Note.objects.none(), [])
982. 
983.     def test_ticket8439(self):
984.         # Complex combinations of conjunctions, disjunctions and nullable
985.         # relations.
986.         self.assertSequenceEqual(
987.             Author.objects.filter(
988.                 Q(item__note__extrainfo=self.e2) | Q(report=self.r1, name="xyz")
989.             ),
990.             [self.a2],
991.         )
992.         self.assertSequenceEqual(
993.             Author.objects.filter(
994.                 Q(report=self.r1, name="xyz") | Q(item__note__extrainfo=self.e2)
995.             ),
996.             [self.a2],
997.         )
998.         self.assertSequenceEqual(
999.             Annotation.objects.filter(
1000.                 Q(tag__parent=self.t1) | Q(notes__note="n1", name="a1")
1001.             ),
1002.             [self.ann1],
1003.         )
1004.         xx = ExtraInfo.objects.create(info="xx", note=self.n3)
1005.         self.assertSequenceEqual(
1006.             Note.objects.filter(Q(extrainfo__author=self.a1) | Q(extrainfo=xx)),
1007.             [self.n1, self.n3],
1008.         )
1009.         q = Note.objects.filter(Q(extrainfo__author=self.a1) | Q(extrainfo=xx)).query
1010.         self.assertEqual(
1011.             len(
1012.                 [
1013.                     x
1014.                     for x in q.alias_map.values()
1015.                     if x.join_type == LOUTER and q.alias_refcount[x.table_alias]
1016.                 ]
1017.             ),
1018.             1,
1019.         )
1020. 
1021.     def test_ticket17429(self):
1022.         """
1023.         Meta.ordering=None works the same as Meta.ordering=[]
1024.         """
1025.         original_ordering = Tag._meta.ordering
1026.         Tag._meta.ordering = None
1027.         try:
1028.             self.assertCountEqual(
1029.                 Tag.objects.all(),
1030.                 [self.t1, self.t2, self.t3, self.t4, self.t5],
1031.             )
1032.         finally:
1033.             Tag._meta.ordering = original_ordering
1034. 
1035.     def test_exclude(self):
1036.         self.assertQuerysetEqual(
1037.             Item.objects.exclude(tags__name="t4"),
1038.             Item.objects.filter(~Q(tags__name="t4")),
1039.         )
1040.         self.assertQuerysetEqual(
1041.             Item.objects.exclude(Q(tags__name="t4") | Q(tags__name="t3")),
1042.             Item.objects.filter(~(Q(tags__name="t4") | Q(tags__name="t3"))),
1043.         )
1044.         self.assertQuerysetEqual(
1045.             Item.objects.exclude(Q(tags__name="t4") | ~Q(tags__name="t3")),
1046.             Item.objects.filter(~(Q(tags__name="t4") | ~Q(tags__name="t3"))),
1047.         )
1048. 
1049.     def test_nested_exclude(self):
1050.         self.assertQuerysetEqual(
1051.             Item.objects.exclude(~Q(tags__name="t4")),
1052.             Item.objects.filter(~~Q(tags__name="t4")),
1053.         )
1054. 
1055.     def test_double_exclude(self):
1056.         self.assertQuerysetEqual(
1057.             Item.objects.filter(Q(tags__name="t4")),
1058.             Item.objects.filter(~~Q(tags__name="t4")),
1059.         )
1060.         self.assertQuerysetEqual(
1061.             Item.objects.filter(Q(tags__name="t4")),
1062.             Item.objects.filter(~Q(~Q(tags__name="t4"))),
1063.         )
1064. 
1065.     def test_exclude_in(self):
1066.         self.assertQuerysetEqual(
1067.             Item.objects.exclude(Q(tags__name__in=["t4", "t3"])),
1068.             Item.objects.filter(~Q(tags__name__in=["t4", "t3"])),
1069.         )
1070.         self.assertQuerysetEqual(
1071.             Item.objects.filter(Q(tags__name__in=["t4", "t3"])),
1072.             Item.objects.filter(~~Q(tags__name__in=["t4", "t3"])),
1073.         )
1074. 
1075.     def test_ticket_10790_1(self):
1076.         # Querying direct fields with isnull should trim the left outer join.
1077.         # It also should not create INNER JOIN.
1078.         q = Tag.objects.filter(parent__isnull=True)
1079. 
1080.         self.assertSequenceEqual(q, [self.t1])
1081.         self.assertNotIn("JOIN", str(q.query))
1082. 
1083.         q = Tag.objects.filter(parent__isnull=False)
1084. 
1085.         self.assertSequenceEqual(q, [self.t2, self.t3, self.t4, self.t5])
1086.         self.assertNotIn("JOIN", str(q.query))
1087. 
1088.         q = Tag.objects.exclude(parent__isnull=True)
1089.         self.assertSequenceEqual(q, [self.t2, self.t3, self.t4, self.t5])
1090.         self.assertNotIn("JOIN", str(q.query))
1091. 
1092.         q = Tag.objects.exclude(parent__isnull=False)
1093.         self.assertSequenceEqual(q, [self.t1])
1094.         self.assertNotIn("JOIN", str(q.query))
1095. 
1096.         q = Tag.objects.exclude(parent__parent__isnull=False)
1097. 
1098.         self.assertSequenceEqual(q, [self.t1, self.t2, self.t3])
1099.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 1)
1100.         self.assertNotIn("INNER JOIN", str(q.query))
1101. 
1102.     def test_ticket_10790_2(self):
1103.         # Querying across several tables should strip only the last outer join,
1104.         # while preserving the preceding inner joins.
1105.         q = Tag.objects.filter(parent__parent__isnull=False)
1106. 
1107.         self.assertSequenceEqual(q, [self.t4, self.t5])
1108.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1109.         self.assertEqual(str(q.query).count("INNER JOIN"), 1)
1110. 
1111.         # Querying without isnull should not convert anything to left outer join.
1112.         q = Tag.objects.filter(parent__parent=self.t1)
1113.         self.assertSequenceEqual(q, [self.t4, self.t5])
1114.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1115.         self.assertEqual(str(q.query).count("INNER JOIN"), 1)
1116. 
1117.     def test_ticket_10790_3(self):
1118.         # Querying via indirect fields should populate the left outer join
1119.         q = NamedCategory.objects.filter(tag__isnull=True)
1120.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 1)
1121.         # join to dumbcategory ptr_id
1122.         self.assertEqual(str(q.query).count("INNER JOIN"), 1)
1123.         self.assertSequenceEqual(q, [])
1124. 
1125.         # Querying across several tables should strip only the last join, while
1126.         # preserving the preceding left outer joins.
1127.         q = NamedCategory.objects.filter(tag__parent__isnull=True)
1128.         self.assertEqual(str(q.query).count("INNER JOIN"), 1)
1129.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 1)
1130.         self.assertSequenceEqual(q, [self.nc1])
1131. 
1132.     def test_ticket_10790_4(self):
1133.         # Querying across m2m field should not strip the m2m table from join.
1134.         q = Author.objects.filter(item__tags__isnull=True)
1135.         self.assertSequenceEqual(q, [self.a2, self.a3])
1136.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 2)
1137.         self.assertNotIn("INNER JOIN", str(q.query))
1138. 
1139.         q = Author.objects.filter(item__tags__parent__isnull=True)
1140.         self.assertSequenceEqual(q, [self.a1, self.a2, self.a2, self.a3])
1141.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 3)
1142.         self.assertNotIn("INNER JOIN", str(q.query))
1143. 
1144.     def test_ticket_10790_5(self):
1145.         # Querying with isnull=False across m2m field should not create outer joins
1146.         q = Author.objects.filter(item__tags__isnull=False)
1147.         self.assertSequenceEqual(q, [self.a1, self.a1, self.a2, self.a2, self.a4])
1148.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1149.         self.assertEqual(str(q.query).count("INNER JOIN"), 2)
1150. 
1151.         q = Author.objects.filter(item__tags__parent__isnull=False)
1152.         self.assertSequenceEqual(q, [self.a1, self.a2, self.a4])
1153.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1154.         self.assertEqual(str(q.query).count("INNER JOIN"), 3)
1155. 
1156.         q = Author.objects.filter(item__tags__parent__parent__isnull=False)
1157.         self.assertSequenceEqual(q, [self.a4])
1158.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1159.         self.assertEqual(str(q.query).count("INNER JOIN"), 4)
1160. 
1161.     def test_ticket_10790_6(self):
1162.         # Querying with isnull=True across m2m field should not create inner joins
1163.         # and strip last outer join
1164.         q = Author.objects.filter(item__tags__parent__parent__isnull=True)
1165.         self.assertSequenceEqual(
1166.             q,
1167.             [self.a1, self.a1, self.a2, self.a2, self.a2, self.a3],
1168.         )
1169.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 4)
1170.         self.assertEqual(str(q.query).count("INNER JOIN"), 0)
1171. 
1172.         q = Author.objects.filter(item__tags__parent__isnull=True)
1173.         self.assertSequenceEqual(q, [self.a1, self.a2, self.a2, self.a3])
1174.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 3)
1175.         self.assertEqual(str(q.query).count("INNER JOIN"), 0)
1176. 
1177.     def test_ticket_10790_7(self):
1178.         # Reverse querying with isnull should not strip the join
1179.         q = Author.objects.filter(item__isnull=True)
1180.         self.assertSequenceEqual(q, [self.a3])
1181.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 1)
1182.         self.assertEqual(str(q.query).count("INNER JOIN"), 0)
1183. 
1184.         q = Author.objects.filter(item__isnull=False)
1185.         self.assertSequenceEqual(q, [self.a1, self.a2, self.a2, self.a4])
1186.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1187.         self.assertEqual(str(q.query).count("INNER JOIN"), 1)
1188. 
1189.     def test_ticket_10790_8(self):
1190.         # Querying with combined q-objects should also strip the left outer join
1191.         q = Tag.objects.filter(Q(parent__isnull=True) | Q(parent=self.t1))
1192.         self.assertSequenceEqual(q, [self.t1, self.t2, self.t3])
1193.         self.assertEqual(str(q.query).count("LEFT OUTER JOIN"), 0)
1194.         self.assertEqual(str(q.query).count("INNER JOIN"), 0)
1195. 
1196.     def test_ticket_10790_combine(self):
1197.         # Combining queries should not re-populate the left outer join
1198.         q1 = Tag.objects.filter(parent__isnull=True)
1199.         q2 = Tag.objects.filter(parent__isnull=False)
1200. 
1201.         q3 = q1 | q2
1202.         self.assertSequenceEqual(q3, [self.t1, self.t2, self.t3, self.t4, self.t5])
1203.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 0)
1204.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1205. 
1206.         q3 = q1 & q2
1207.         self.assertSequenceEqual(q3, [])
1208.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 0)
1209.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1210. 
1211.         q2 = Tag.objects.filter(parent=self.t1)
1212.         q3 = q1 | q2
1213.         self.assertSequenceEqual(q3, [self.t1, self.t2, self.t3])
1214.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 0)
1215.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1216. 
1217.         q3 = q2 | q1
1218.         self.assertSequenceEqual(q3, [self.t1, self.t2, self.t3])
1219.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 0)
1220.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1221. 
1222.         q1 = Tag.objects.filter(parent__isnull=True)
1223.         q2 = Tag.objects.filter(parent__parent__isnull=True)
1224. 
1225.         q3 = q1 | q2
1226.         self.assertSequenceEqual(q3, [self.t1, self.t2, self.t3])
1227.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 1)
1228.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1229. 
1230.         q3 = q2 | q1
1231.         self.assertSequenceEqual(q3, [self.t1, self.t2, self.t3])
1232.         self.assertEqual(str(q3.query).count("LEFT OUTER JOIN"), 1)
1233.         self.assertEqual(str(q3.query).count("INNER JOIN"), 0)
1234. 
1235.     def test_ticket19672(self):
1236.         self.assertSequenceEqual(
1237.             Report.objects.filter(
1238.                 Q(creator__isnull=False) & ~Q(creator__extra__value=41)
1239.             ),
1240.             [self.r1],
1241.         )
1242. 
1243.     def test_ticket_20250(self):
1244.         # A negated Q along with an annotated queryset failed in Django 1.4
1245.         qs = Author.objects.annotate(Count("item"))
1246.         qs = qs.filter(~Q(extra__value=0)).order_by("name")
1247. 
1248.         self.assertIn("SELECT", str(qs.query))
1249.         self.assertSequenceEqual(qs, [self.a1, self.a2, self.a3, self.a4])
1250. 
1251.     def test_lookup_constraint_fielderror(self):
1252.         msg = (
1253.             "Cannot resolve keyword 'unknown_field' into field. Choices are: "
1254.             "annotation, category, category_id, children, id, item, "
1255.             "managedmodel, name, note, parent, parent_id"
1256.         )
1257.         with self.assertRaisesMessage(FieldError, msg):
1258.             Tag.objects.filter(unknown_field__name="generic")
1259. 
1260.     def test_common_mixed_case_foreign_keys(self):
1261.         """
1262.         Valid query should be generated when fields fetched from joined tables
1263.         include FKs whose names only differ by case.
1264.         """
1265.         c1 = SimpleCategory.objects.create(name="c1")
1266.         c2 = SimpleCategory.objects.create(name="c2")
1267.         c3 = SimpleCategory.objects.create(name="c3")
1268.         category = CategoryItem.objects.create(category=c1)
1269.         mixed_case_field_category = MixedCaseFieldCategoryItem.objects.create(
1270.             CaTeGoRy=c2
1271.         )
1272.         mixed_case_db_column_category = MixedCaseDbColumnCategoryItem.objects.create(
1273.             category=c3
1274.         )
1275.         CommonMixedCaseForeignKeys.objects.create(
1276.             category=category,
1277.             mixed_case_field_category=mixed_case_field_category,
1278.             mixed_case_db_column_category=mixed_case_db_column_category,
1279.         )
1280.         qs = CommonMixedCaseForeignKeys.objects.values(
1281.             "category",
1282.             "mixed_case_field_category",
1283.             "mixed_case_db_column_category",
1284.             "category__category",
1285.             "mixed_case_field_category__CaTeGoRy",
1286.             "mixed_case_db_column_category__category",
1287.         )
1288.         self.assertTrue(qs.first())
1289. 
1290.     def test_excluded_intermediary_m2m_table_joined(self):
1291.         self.assertSequenceEqual(
1292.             Note.objects.filter(~Q(tag__annotation__name=F("note"))),
1293.             [self.n1, self.n2, self.n3],
1294.         )
1295.         self.assertSequenceEqual(
1296.             Note.objects.filter(tag__annotation__name="a1").filter(
1297.                 ~Q(tag__annotation__name=F("note"))
1298.             ),
1299.             [],
1300.         )
1301. 
1302.     def test_field_with_filterable(self):
1303.         self.assertSequenceEqual(
1304.             Author.objects.filter(extra=self.e2),
1305.             [self.a3, self.a4],
1306.         )
1307. 
1308.     def test_negate_field(self):
1309.         self.assertSequenceEqual(
1310.             Note.objects.filter(negate=True),
1311.             [self.n1, self.n2],
1312.         )
1313.         self.assertSequenceEqual(Note.objects.exclude(negate=True), [self.n3])
1314. 
1315. 
1316. class Queries2Tests(TestCase):
1317.     @classmethod
1318.     def setUpTestData(cls):
1319.         cls.num4 = Number.objects.create(num=4)
1320.         cls.num8 = Number.objects.create(num=8)
1321.         cls.num12 = Number.objects.create(num=12)
1322. 
1323.     def test_ticket4289(self):
1324.         # A slight variation on the restricting the filtering choices by the
1325.         # lookup constraints.
1326.         self.assertSequenceEqual(Number.objects.filter(num__lt=4), [])
1327.         self.assertSequenceEqual(Number.objects.filter(num__gt=8, num__lt=12), [])
1328.         self.assertSequenceEqual(
1329.             Number.objects.filter(num__gt=8, num__lt=13),
1330.             [self.num12],
1331.         )
1332.         self.assertSequenceEqual(
1333.             Number.objects.filter(Q(num__lt=4) | Q(num__gt=8, num__lt=12)), []
1334.         )
1335.         self.assertSequenceEqual(
1336.             Number.objects.filter(Q(num__gt=8, num__lt=12) | Q(num__lt=4)), []
1337.         )
1338.         self.assertSequenceEqual(
1339.             Number.objects.filter(Q(num__gt=8) & Q(num__lt=12) | Q(num__lt=4)), []
1340.         )
1341.         self.assertSequenceEqual(
1342.             Number.objects.filter(Q(num__gt=7) & Q(num__lt=12) | Q(num__lt=4)),
1343.             [self.num8],
1344.         )
1345. 
1346.     def test_ticket12239(self):
1347.         # Custom lookups are registered to round float values correctly on gte
1348.         # and lt IntegerField queries.
1349.         self.assertSequenceEqual(
1350.             Number.objects.filter(num__gt=11.9),
1351.             [self.num12],
1352.         )
1353.         self.assertSequenceEqual(Number.objects.filter(num__gt=12), [])
1354.         self.assertSequenceEqual(Number.objects.filter(num__gt=12.0), [])
1355.         self.assertSequenceEqual(Number.objects.filter(num__gt=12.1), [])
1356.         self.assertCountEqual(
1357.             Number.objects.filter(num__lt=12),
1358.             [self.num4, self.num8],
1359.         )
1360.         self.assertCountEqual(
1361.             Number.objects.filter(num__lt=12.0),
1362.             [self.num4, self.num8],
1363.         )
1364.         self.assertCountEqual(
1365.             Number.objects.filter(num__lt=12.1),
1366.             [self.num4, self.num8, self.num12],
1367.         )
1368.         self.assertCountEqual(
1369.             Number.objects.filter(num__gte=11.9),
1370.             [self.num12],
1371.         )
1372.         self.assertCountEqual(
1373.             Number.objects.filter(num__gte=12),
1374.             [self.num12],
1375.         )
1376.         self.assertCountEqual(
1377.             Number.objects.filter(num__gte=12.0),
1378.             [self.num12],
1379.         )
1380.         self.assertSequenceEqual(Number.objects.filter(num__gte=12.1), [])
1381.         self.assertSequenceEqual(Number.objects.filter(num__gte=12.9), [])
1382.         self.assertCountEqual(
1383.             Number.objects.filter(num__lte=11.9),
1384.             [self.num4, self.num8],
1385.         )
1386.         self.assertCountEqual(
1387.             Number.objects.filter(num__lte=12),
1388.             [self.num4, self.num8, self.num12],
1389.         )
1390.         self.assertCountEqual(
1391.             Number.objects.filter(num__lte=12.0),
1392.             [self.num4, self.num8, self.num12],
1393.         )
1394.         self.assertCountEqual(
1395.             Number.objects.filter(num__lte=12.1),
1396.             [self.num4, self.num8, self.num12],
1397.         )
1398.         self.assertCountEqual(
1399.             Number.objects.filter(num__lte=12.9),
1400.             [self.num4, self.num8, self.num12],
1401.         )
1402. 
1403.     def test_ticket7759(self):
1404.         # Count should work with a partially read result set.
1405.         count = Number.objects.count()
1406.         qs = Number.objects.all()
1407. 
1408.         def run():
1409.             for obj in qs:
1410.                 return qs.count() == count
1411. 
1412.         self.assertTrue(run())
1413. 
1414. 
1415. class Queries3Tests(TestCase):
1416.     def test_ticket7107(self):
1417.         # This shouldn't create an infinite loop.
1418.         self.assertQuerysetEqual(Valid.objects.all(), [])
1419. 
1420.     def test_datetimes_invalid_field(self):
1421.         # An error should be raised when QuerySet.datetimes() is passed the
1422.         # wrong type of field.
1423.         msg = "'name' isn't a DateField, TimeField, or DateTimeField."
1424.         with self.assertRaisesMessage(TypeError, msg):
1425.             Item.objects.datetimes("name", "month")
1426. 
1427.     def test_ticket22023(self):
1428.         with self.assertRaisesMessage(
1429.             TypeError, "Cannot call only() after .values() or .values_list()"
1430.         ):
1431.             Valid.objects.values().only()
1432. 
1433.         with self.assertRaisesMessage(
1434.             TypeError, "Cannot call defer() after .values() or .values_list()"
1435.         ):
1436.             Valid.objects.values().defer()
1437. 
1438. 
1439. class Queries4Tests(TestCase):
1440.     @classmethod
1441.     def setUpTestData(cls):
1442.         generic = NamedCategory.objects.create(name="Generic")
1443.         cls.t1 = Tag.objects.create(name="t1", category=generic)
1444. 
1445.         n1 = Note.objects.create(note="n1", misc="foo")
1446.         n2 = Note.objects.create(note="n2", misc="bar")
1447. 
1448.         e1 = ExtraInfo.objects.create(info="e1", note=n1)
1449.         e2 = ExtraInfo.objects.create(info="e2", note=n2)
1450. 
1451.         cls.a1 = Author.objects.create(name="a1", num=1001, extra=e1)
1452.         cls.a3 = Author.objects.create(name="a3", num=3003, extra=e2)
1453. 
1454.         cls.r1 = Report.objects.create(name="r1", creator=cls.a1)
1455.         cls.r2 = Report.objects.create(name="r2", creator=cls.a3)
1456.         cls.r3 = Report.objects.create(name="r3")
1457. 
1458.         cls.i1 = Item.objects.create(
1459.             name="i1", created=datetime.datetime.now(), note=n1, creator=cls.a1
1460.         )
1461.         cls.i2 = Item.objects.create(
1462.             name="i2", created=datetime.datetime.now(), note=n1, creator=cls.a3
1463.         )
1464. 
1465.     def test_ticket24525(self):
1466.         tag = Tag.objects.create()
1467.         anth100 = tag.note_set.create(note="ANTH", misc="100")
1468.         math101 = tag.note_set.create(note="MATH", misc="101")
1469.         s1 = tag.annotation_set.create(name="1")
1470.         s2 = tag.annotation_set.create(name="2")
1471.         s1.notes.set([math101, anth100])
1472.         s2.notes.set([math101])
1473.         result = math101.annotation_set.all() & tag.annotation_set.exclude(
1474.             notes__in=[anth100]
1475.         )
1476.         self.assertEqual(list(result), [s2])
1477. 
1478.     def test_ticket11811(self):
1479.         unsaved_category = NamedCategory(name="Other")
1480.         msg = (
1481.             "Unsaved model instance <NamedCategory: Other> cannot be used in an ORM "
1482.             "query."
1483.         )
1484.         with self.assertRaisesMessage(ValueError, msg):
1485.             Tag.objects.filter(pk=self.t1.pk).update(category=unsaved_category)
1486. 
1487.     def test_ticket14876(self):
1488.         # Note: when combining the query we need to have information available
1489.         # about the join type of the trimmed "creator__isnull" join. If we
1490.         # don't have that information, then the join is created as INNER JOIN
1491.         # and results will be incorrect.
1492.         q1 = Report.objects.filter(
1493.             Q(creator__isnull=True) | Q(creator__extra__info="e1")
1494.         )
1495.         q2 = Report.objects.filter(Q(creator__isnull=True)) | Report.objects.filter(
1496.             Q(creator__extra__info="e1")
1497.         )
1498.         self.assertCountEqual(q1, [self.r1, self.r3])
1499.         self.assertEqual(str(q1.query), str(q2.query))
1500. 
1501.         q1 = Report.objects.filter(
1502.             Q(creator__extra__info="e1") | Q(creator__isnull=True)
1503.         )
1504.         q2 = Report.objects.filter(
1505.             Q(creator__extra__info="e1")
1506.         ) | Report.objects.filter(Q(creator__isnull=True))
1507.         self.assertCountEqual(q1, [self.r1, self.r3])
1508.         self.assertEqual(str(q1.query), str(q2.query))
1509. 
1510.         q1 = Item.objects.filter(
1511.             Q(creator=self.a1) | Q(creator__report__name="r1")
1512.         ).order_by()
1513.         q2 = (
1514.             Item.objects.filter(Q(creator=self.a1)).order_by()
1515.             | Item.objects.filter(Q(creator__report__name="r1")).order_by()
1516.         )
1517.         self.assertCountEqual(q1, [self.i1])
1518.         self.assertEqual(str(q1.query), str(q2.query))
1519. 
1520.         q1 = Item.objects.filter(
1521.             Q(creator__report__name="e1") | Q(creator=self.a1)
1522.         ).order_by()
1523.         q2 = (
1524.             Item.objects.filter(Q(creator__report__name="e1")).order_by()
1525.             | Item.objects.filter(Q(creator=self.a1)).order_by()
1526.         )
1527.         self.assertCountEqual(q1, [self.i1])
1528.         self.assertEqual(str(q1.query), str(q2.query))
1529. 
1530.     def test_combine_join_reuse(self):
1531.         # Joins having identical connections are correctly recreated in the
1532.         # rhs query, in case the query is ORed together (#18748).
1533.         Report.objects.create(name="r4", creator=self.a1)
1534.         q1 = Author.objects.filter(report__name="r5")
1535.         q2 = Author.objects.filter(report__name="r4").filter(report__name="r1")
1536.         combined = q1 | q2
1537.         self.assertEqual(str(combined.query).count("JOIN"), 2)
1538.         self.assertEqual(len(combined), 1)
1539.         self.assertEqual(combined[0].name, "a1")
1540. 
1541.     def test_combine_or_filter_reuse(self):
1542.         combined = Author.objects.filter(name="a1") | Author.objects.filter(name="a3")
1543.         self.assertEqual(combined.get(name="a1"), self.a1)
1544. 
1545.     def test_join_reuse_order(self):
1546.         # Join aliases are reused in order. This shouldn't raise AssertionError
1547.         # because change_map contains a circular reference (#26522).
1548.         s1 = School.objects.create()
1549.         s2 = School.objects.create()
1550.         s3 = School.objects.create()
1551.         t1 = Teacher.objects.create()
1552.         otherteachers = Teacher.objects.exclude(pk=t1.pk).exclude(friends=t1)
1553.         qs1 = otherteachers.filter(schools=s1).filter(schools=s2)
1554.         qs2 = otherteachers.filter(schools=s1).filter(schools=s3)
1555.         self.assertQuerysetEqual(qs1 | qs2, [])
1556. 
1557.     def test_ticket7095(self):
1558.         # Updates that are filtered on the model being updated are somewhat
1559.         # tricky in MySQL.
1560.         ManagedModel.objects.create(data="mm1", tag=self.t1, public=True)
1561.         self.assertEqual(ManagedModel.objects.update(data="mm"), 1)
1562. 
1563.         # A values() or values_list() query across joined models must use outer
1564.         # joins appropriately.
1565.         # Note: In Oracle, we expect a null CharField to return '' instead of
1566.         # None.
1567.         if connection.features.interprets_empty_strings_as_nulls:
1568.             expected_null_charfield_repr = ""
1569.         else:
1570.             expected_null_charfield_repr = None
1571.         self.assertSequenceEqual(
1572.             Report.objects.values_list("creator__extra__info", flat=True).order_by(
1573.                 "name"
1574.             ),
1575.             ["e1", "e2", expected_null_charfield_repr],
1576.         )
1577. 
1578.         # Similarly for select_related(), joins beyond an initial nullable join
1579.         # must use outer joins so that all results are included.
1580.         self.assertSequenceEqual(
1581.             Report.objects.select_related("creator", "creator__extra").order_by("name"),
1582.             [self.r1, self.r2, self.r3],
1583.         )
1584. 
1585.         # When there are multiple paths to a table from another table, we have
1586.         # to be careful not to accidentally reuse an inappropriate join when
1587.         # using select_related(). We used to return the parent's Detail record
1588.         # here by mistake.
1589. 
1590.         d1 = Detail.objects.create(data="d1")
1591.         d2 = Detail.objects.create(data="d2")
1592.         m1 = Member.objects.create(name="m1", details=d1)
1593.         m2 = Member.objects.create(name="m2", details=d2)
1594.         Child.objects.create(person=m2, parent=m1)
1595.         obj = m1.children.select_related("person__details")[0]
1596.         self.assertEqual(obj.person.details.data, "d2")
1597. 
1598.     def test_order_by_resetting(self):
1599.         # Calling order_by() with no parameters removes any existing ordering on the
1600.         # model. But it should still be possible to add new ordering after that.
1601.         qs = Author.objects.order_by().order_by("name")
1602.         self.assertIn("ORDER BY", qs.query.get_compiler(qs.db).as_sql()[0])
1603. 
1604.     def test_order_by_reverse_fk(self):
1605.         # It is possible to order by reverse of foreign key, although that can lead
1606.         # to duplicate results.
1607.         c1 = SimpleCategory.objects.create(name="category1")
1608.         c2 = SimpleCategory.objects.create(name="category2")
1609.         CategoryItem.objects.create(category=c1)
1610.         CategoryItem.objects.create(category=c2)
1611.         CategoryItem.objects.create(category=c1)
1612.         self.assertSequenceEqual(
1613.             SimpleCategory.objects.order_by("categoryitem", "pk"), [c1, c2, c1]
1614.         )
1615. 
1616.     def test_filter_reverse_non_integer_pk(self):
1617.         date_obj = DateTimePK.objects.create()
1618.         extra_obj = ExtraInfo.objects.create(info="extra", date=date_obj)
1619.         self.assertEqual(
1620.             DateTimePK.objects.filter(extrainfo=extra_obj).get(),
1621.             date_obj,
1622.         )
1623. 
1624.     def test_ticket10181(self):
1625.         # Avoid raising an EmptyResultSet if an inner query is probably
1626.         # empty (and hence, not executed).
1627.         self.assertQuerysetEqual(
1628.             Tag.objects.filter(id__in=Tag.objects.filter(id__in=[])), []
1629.         )
1630. 
1631.     def test_ticket15316_filter_false(self):
1632.         c1 = SimpleCategory.objects.create(name="category1")
1633.         c2 = SpecialCategory.objects.create(
1634.             name="named category1", special_name="special1"
1635.         )
1636.         c3 = SpecialCategory.objects.create(
1637.             name="named category2", special_name="special2"
1638.         )
1639. 
1640.         CategoryItem.objects.create(category=c1)
1641.         ci2 = CategoryItem.objects.create(category=c2)
1642.         ci3 = CategoryItem.objects.create(category=c3)
1643. 
1644.         qs = CategoryItem.objects.filter(category__specialcategory__isnull=False)
1645.         self.assertEqual(qs.count(), 2)
1646.         self.assertSequenceEqual(qs, [ci2, ci3])
1647. 
1648.     def test_ticket15316_exclude_false(self):
1649.         c1 = SimpleCategory.objects.create(name="category1")
1650.         c2 = SpecialCategory.objects.create(
1651.             name="named category1", special_name="special1"
1652.         )
1653.         c3 = SpecialCategory.objects.create(
1654.             name="named category2", special_name="special2"
1655.         )
1656. 
1657.         ci1 = CategoryItem.objects.create(category=c1)
1658.         CategoryItem.objects.create(category=c2)
1659.         CategoryItem.objects.create(category=c3)
1660. 
1661.         qs = CategoryItem.objects.exclude(category__specialcategory__isnull=False)
1662.         self.assertEqual(qs.count(), 1)
1663.         self.assertSequenceEqual(qs, [ci1])
1664. 
1665.     def test_ticket15316_filter_true(self):
1666.         c1 = SimpleCategory.objects.create(name="category1")
1667.         c2 = SpecialCategory.objects.create(
1668.             name="named category1", special_name="special1"
1669.         )
1670.         c3 = SpecialCategory.objects.create(
1671.             name="named category2", special_name="special2"
1672.         )
1673. 
1674.         ci1 = CategoryItem.objects.create(category=c1)
1675.         CategoryItem.objects.create(category=c2)
1676.         CategoryItem.objects.create(category=c3)
1677. 
1678.         qs = CategoryItem.objects.filter(category__specialcategory__isnull=True)
1679.         self.assertEqual(qs.count(), 1)
1680.         self.assertSequenceEqual(qs, [ci1])
1681. 
1682.     def test_ticket15316_exclude_true(self):
1683.         c1 = SimpleCategory.objects.create(name="category1")
1684.         c2 = SpecialCategory.objects.create(
1685.             name="named category1", special_name="special1"
1686.         )
1687.         c3 = SpecialCategory.objects.create(
1688.             name="named category2", special_name="special2"
1689.         )
1690. 
1691.         CategoryItem.objects.create(category=c1)
1692.         ci2 = CategoryItem.objects.create(category=c2)
1693.         ci3 = CategoryItem.objects.create(category=c3)
1694. 
1695.         qs = CategoryItem.objects.exclude(category__specialcategory__isnull=True)
1696.         self.assertEqual(qs.count(), 2)
1697.         self.assertSequenceEqual(qs, [ci2, ci3])
1698. 
1699.     def test_ticket15316_one2one_filter_false(self):
1700.         c = SimpleCategory.objects.create(name="cat")
1701.         c0 = SimpleCategory.objects.create(name="cat0")
1702.         c1 = SimpleCategory.objects.create(name="category1")
1703. 
1704.         OneToOneCategory.objects.create(category=c1, new_name="new1")
1705.         OneToOneCategory.objects.create(category=c0, new_name="new2")
1706. 
1707.         CategoryItem.objects.create(category=c)
1708.         ci2 = CategoryItem.objects.create(category=c0)
1709.         ci3 = CategoryItem.objects.create(category=c1)
1710. 
1711.         qs = CategoryItem.objects.filter(
1712.             category__onetoonecategory__isnull=False
1713.         ).order_by("pk")
1714.         self.assertEqual(qs.count(), 2)
1715.         self.assertSequenceEqual(qs, [ci2, ci3])
1716. 
1717.     def test_ticket15316_one2one_exclude_false(self):
1718.         c = SimpleCategory.objects.create(name="cat")
1719.         c0 = SimpleCategory.objects.create(name="cat0")
1720.         c1 = SimpleCategory.objects.create(name="category1")
1721. 
1722.         OneToOneCategory.objects.create(category=c1, new_name="new1")
1723.         OneToOneCategory.objects.create(category=c0, new_name="new2")
1724. 
1725.         ci1 = CategoryItem.objects.create(category=c)
1726.         CategoryItem.objects.create(category=c0)
1727.         CategoryItem.objects.create(category=c1)
1728. 
1729.         qs = CategoryItem.objects.exclude(category__onetoonecategory__isnull=False)
1730.         self.assertEqual(qs.count(), 1)
1731.         self.assertSequenceEqual(qs, [ci1])
1732. 
1733.     def test_ticket15316_one2one_filter_true(self):
1734.         c = SimpleCategory.objects.create(name="cat")
1735.         c0 = SimpleCategory.objects.create(name="cat0")
1736.         c1 = SimpleCategory.objects.create(name="category1")
1737. 
1738.         OneToOneCategory.objects.create(category=c1, new_name="new1")
1739.         OneToOneCategory.objects.create(category=c0, new_name="new2")
1740. 
1741.         ci1 = CategoryItem.objects.create(category=c)
1742.         CategoryItem.objects.create(category=c0)
1743.         CategoryItem.objects.create(category=c1)
1744. 
1745.         qs = CategoryItem.objects.filter(category__onetoonecategory__isnull=True)
1746.         self.assertEqual(qs.count(), 1)
1747.         self.assertSequenceEqual(qs, [ci1])
1748. 
1749.     def test_ticket15316_one2one_exclude_true(self):
1750.         c = SimpleCategory.objects.create(name="cat")
1751.         c0 = SimpleCategory.objects.create(name="cat0")
1752.         c1 = SimpleCategory.objects.create(name="category1")
1753. 
1754.         OneToOneCategory.objects.create(category=c1, new_name="new1")
1755.         OneToOneCategory.objects.create(category=c0, new_name="new2")
1756. 
1757.         CategoryItem.objects.create(category=c)
1758.         ci2 = CategoryItem.objects.create(category=c0)
1759.         ci3 = CategoryItem.objects.create(category=c1)
1760. 
1761.         qs = CategoryItem.objects.exclude(
1762.             category__onetoonecategory__isnull=True
1763.         ).order_by("pk")
1764.         self.assertEqual(qs.count(), 2)
1765.         self.assertSequenceEqual(qs, [ci2, ci3])
1766. 
1767. 
1768. class Queries5Tests(TestCase):
1769.     @classmethod
1770.     def setUpTestData(cls):
1771.         # Ordering by 'rank' gives us rank2, rank1, rank3. Ordering by the
1772.         # Meta.ordering will be rank3, rank2, rank1.
1773.         cls.n1 = Note.objects.create(note="n1", misc="foo", id=1)
1774.         cls.n2 = Note.objects.create(note="n2", misc="bar", id=2)
1775.         e1 = ExtraInfo.objects.create(info="e1", note=cls.n1)
1776.         e2 = ExtraInfo.objects.create(info="e2", note=cls.n2)
1777.         a1 = Author.objects.create(name="a1", num=1001, extra=e1)
1778.         a2 = Author.objects.create(name="a2", num=2002, extra=e1)
1779.         a3 = Author.objects.create(name="a3", num=3003, extra=e2)
1780.         cls.rank2 = Ranking.objects.create(rank=2, author=a2)
1781.         cls.rank1 = Ranking.objects.create(rank=1, author=a3)
1782.         cls.rank3 = Ranking.objects.create(rank=3, author=a1)
1783. 
1784.     def test_ordering(self):
1785.         # Cross model ordering is possible in Meta, too.
1786.         self.assertSequenceEqual(
1787.             Ranking.objects.all(),
1788.             [self.rank3, self.rank2, self.rank1],
1789.         )
1790.         self.assertSequenceEqual(
1791.             Ranking.objects.order_by("rank"),
1792.             [self.rank1, self.rank2, self.rank3],
1793.         )
1794. 
1795.         # Ordering of extra() pieces is possible, too and you can mix extra
1796.         # fields and model fields in the ordering.
1797.         self.assertSequenceEqual(
1798.             Ranking.objects.extra(
1799.                 tables=["django_site"], order_by=["-django_site.id", "rank"]
1800.             ),
1801.             [self.rank1, self.rank2, self.rank3],
1802.         )
1803. 
1804.         sql = "case when %s > 2 then 1 else 0 end" % connection.ops.quote_name("rank")
1805.         qs = Ranking.objects.extra(select={"good": sql})
1806.         self.assertEqual(
1807.             [o.good for o in qs.extra(order_by=("-good",))], [True, False, False]
1808.         )
1809.         self.assertSequenceEqual(
1810.             qs.extra(order_by=("-good", "id")),
1811.             [self.rank3, self.rank2, self.rank1],
1812.         )
1813. 
1814.         # Despite having some extra aliases in the query, we can still omit
1815.         # them in a values() query.
1816.         dicts = qs.values("id", "rank").order_by("id")
1817.         self.assertEqual([d["rank"] for d in dicts], [2, 1, 3])
1818. 
1819.     def test_ticket7256(self):
1820.         # An empty values() call includes all aliases, including those from an
1821.         # extra()
1822.         sql = "case when %s > 2 then 1 else 0 end" % connection.ops.quote_name("rank")
1823.         qs = Ranking.objects.extra(select={"good": sql})
1824.         dicts = qs.values().order_by("id")
1825.         for d in dicts:
1826.             del d["id"]
1827.             del d["author_id"]
1828.         self.assertEqual(
1829.             [sorted(d.items()) for d in dicts],
1830.             [
1831.                 [("good", 0), ("rank", 2)],
1832.                 [("good", 0), ("rank", 1)],
1833.                 [("good", 1), ("rank", 3)],
1834.             ],
1835.         )
1836. 
1837.     def test_ticket7045(self):
1838.         # Extra tables used to crash SQL construction on the second use.
1839.         qs = Ranking.objects.extra(tables=["django_site"])
1840.         qs.query.get_compiler(qs.db).as_sql()
1841.         # test passes if this doesn't raise an exception.
1842.         qs.query.get_compiler(qs.db).as_sql()
1843. 
1844.     def test_ticket9848(self):
1845.         # Make sure that updates which only filter on sub-tables don't
1846.         # inadvertently update the wrong records (bug #9848).
1847.         author_start = Author.objects.get(name="a1")
1848.         ranking_start = Ranking.objects.get(author__name="a1")
1849. 
1850.         # Make sure that the IDs from different tables don't happen to match.
1851.         self.assertSequenceEqual(
1852.             Ranking.objects.filter(author__name="a1"),
1853.             [self.rank3],
1854.         )
1855.         self.assertEqual(Ranking.objects.filter(author__name="a1").update(rank=4636), 1)
1856. 
1857.         r = Ranking.objects.get(author__name="a1")
1858.         self.assertEqual(r.id, ranking_start.id)
1859.         self.assertEqual(r.author.id, author_start.id)
1860.         self.assertEqual(r.rank, 4636)
1861.         r.rank = 3
1862.         r.save()
1863.         self.assertSequenceEqual(
1864.             Ranking.objects.all(),
1865.             [self.rank3, self.rank2, self.rank1],
1866.         )
1867. 
1868.     def test_ticket5261(self):
1869.         # Test different empty excludes.
1870.         self.assertSequenceEqual(
1871.             Note.objects.exclude(Q()),
1872.             [self.n1, self.n2],
1873.         )
1874.         self.assertSequenceEqual(
1875.             Note.objects.filter(~Q()),
1876.             [self.n1, self.n2],
1877.         )
1878.         self.assertSequenceEqual(
1879.             Note.objects.filter(~Q() | ~Q()),
1880.             [self.n1, self.n2],
1881.         )
1882.         self.assertSequenceEqual(
1883.             Note.objects.exclude(~Q() & ~Q()),
1884.             [self.n1, self.n2],
1885.         )
1886.         self.assertSequenceEqual(
1887.             Note.objects.exclude(~Q() ^ ~Q()),
1888.             [self.n1, self.n2],
1889.         )
1890. 
1891.     def test_extra_select_literal_percent_s(self):
1892.         # Allow %%s to escape select clauses
1893.         self.assertEqual(Note.objects.extra(select={"foo": "'%%s'"})[0].foo, "%s")
1894.         self.assertEqual(
1895.             Note.objects.extra(select={"foo": "'%%s bar %%s'"})[0].foo, "%s bar %s"
1896.         )
1897.         self.assertEqual(
1898.             Note.objects.extra(select={"foo": "'bar %%s'"})[0].foo, "bar %s"
1899.         )
1900. 
1901.     def test_queryset_reuse(self):
1902.         # Using querysets doesn't mutate aliases.
1903.         authors = Author.objects.filter(Q(name="a1") | Q(name="nonexistent"))
1904.         self.assertEqual(Ranking.objects.filter(author__in=authors).get(), self.rank3)
1905.         self.assertEqual(authors.count(), 1)
1906. 
1907.     def test_filter_unsaved_object(self):
1908.         # These tests will catch ValueError in Django 5.0 when passing unsaved
1909.         # model instances to related filters becomes forbidden.
1910.         # msg = "Model instances passed to related filters must be saved."
1911.         msg = "Passing unsaved model instances to related filters is deprecated."
1912.         company = Company.objects.create(name="Django")
1913.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
1914.             Employment.objects.filter(employer=Company(name="unsaved"))
1915.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
1916.             Employment.objects.filter(employer__in=[company, Company(name="unsaved")])
1917.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
1918.             StaffUser.objects.filter(staff=Staff(name="unsaved"))
1919. 
1920. 
1921. class SelectRelatedTests(TestCase):
1922.     def test_tickets_3045_3288(self):
1923.         # Once upon a time, select_related() with circular relations would loop
1924.         # infinitely if you forgot to specify "depth". Now we set an arbitrary
1925.         # default upper bound.
1926.         self.assertQuerysetEqual(X.objects.all(), [])
1927.         self.assertQuerysetEqual(X.objects.select_related(), [])
1928. 
1929. 
1930. class SubclassFKTests(TestCase):
1931.     def test_ticket7778(self):
1932.         # Model subclasses could not be deleted if a nullable foreign key
1933.         # relates to a model that relates back.
1934. 
1935.         num_celebs = Celebrity.objects.count()
1936.         tvc = TvChef.objects.create(name="Huey")
1937.         self.assertEqual(Celebrity.objects.count(), num_celebs + 1)
1938.         Fan.objects.create(fan_of=tvc)
1939.         Fan.objects.create(fan_of=tvc)
1940.         tvc.delete()
1941. 
1942.         # The parent object should have been deleted as well.
1943.         self.assertEqual(Celebrity.objects.count(), num_celebs)
1944. 
1945. 
1946. class CustomPkTests(TestCase):
1947.     def test_ticket7371(self):
1948.         self.assertQuerysetEqual(Related.objects.order_by("custom"), [])
1949. 
1950. 
1951. class NullableRelOrderingTests(TestCase):
1952.     def test_ticket10028(self):
1953.         # Ordering by model related to nullable relations(!) should use outer
1954.         # joins, so that all results are included.
1955.         p1 = Plaything.objects.create(name="p1")
1956.         self.assertSequenceEqual(Plaything.objects.all(), [p1])
1957. 
1958.     def test_join_already_in_query(self):
1959.         # Ordering by model related to nullable relations should not change
1960.         # the join type of already existing joins.
1961.         Plaything.objects.create(name="p1")
1962.         s = SingleObject.objects.create(name="s")
1963.         r = RelatedObject.objects.create(single=s, f=1)
1964.         p2 = Plaything.objects.create(name="p2", others=r)
1965.         qs = Plaything.objects.filter(others__isnull=False).order_by("pk")
1966.         self.assertNotIn("JOIN", str(qs.query))
1967.         qs = Plaything.objects.filter(others__f__isnull=False).order_by("pk")
1968.         self.assertIn("INNER", str(qs.query))
1969.         qs = qs.order_by("others__single__name")
1970.         # The ordering by others__single__pk will add one new join (to single)
1971.         # and that join must be LEFT join. The already existing join to related
1972.         # objects must be kept INNER. So, we have both an INNER and a LEFT join
1973.         # in the query.
1974.         self.assertEqual(str(qs.query).count("LEFT"), 1)
1975.         self.assertEqual(str(qs.query).count("INNER"), 1)
1976.         self.assertSequenceEqual(qs, [p2])
1977. 
1978. 
1979. class DisjunctiveFilterTests(TestCase):
1980.     @classmethod
1981.     def setUpTestData(cls):
1982.         cls.n1 = Note.objects.create(note="n1", misc="foo", id=1)
1983.         cls.e1 = ExtraInfo.objects.create(info="e1", note=cls.n1)
1984. 
1985.     def test_ticket7872(self):
1986.         # Another variation on the disjunctive filtering theme.
1987. 
1988.         # For the purposes of this regression test, it's important that there is no
1989.         # Join object related to the LeafA we create.
1990.         l1 = LeafA.objects.create(data="first")
1991.         self.assertSequenceEqual(LeafA.objects.all(), [l1])
1992.         self.assertSequenceEqual(
1993.             LeafA.objects.filter(Q(data="first") | Q(join__b__data="second")),
1994.             [l1],
1995.         )
1996. 
1997.     def test_ticket8283(self):
1998.         # Checking that applying filters after a disjunction works correctly.
1999.         self.assertSequenceEqual(
2000.             (
2001.                 ExtraInfo.objects.filter(note=self.n1)
2002.                 | ExtraInfo.objects.filter(info="e2")
2003.             ).filter(note=self.n1),
2004.             [self.e1],
2005.         )
2006.         self.assertSequenceEqual(
2007.             (
2008.                 ExtraInfo.objects.filter(info="e2")
2009.                 | ExtraInfo.objects.filter(note=self.n1)
2010.             ).filter(note=self.n1),
2011.             [self.e1],
2012.         )
2013. 
2014. 
2015. class Queries6Tests(TestCase):
2016.     @classmethod
2017.     def setUpTestData(cls):
2018.         generic = NamedCategory.objects.create(name="Generic")
2019.         cls.t1 = Tag.objects.create(name="t1", category=generic)
2020.         cls.t2 = Tag.objects.create(name="t2", parent=cls.t1, category=generic)
2021.         cls.t3 = Tag.objects.create(name="t3", parent=cls.t1)
2022.         cls.t4 = Tag.objects.create(name="t4", parent=cls.t3)
2023.         cls.t5 = Tag.objects.create(name="t5", parent=cls.t3)
2024.         n1 = Note.objects.create(note="n1", misc="foo", id=1)
2025.         cls.ann1 = Annotation.objects.create(name="a1", tag=cls.t1)
2026.         cls.ann1.notes.add(n1)
2027.         cls.ann2 = Annotation.objects.create(name="a2", tag=cls.t4)
2028. 
2029.     def test_parallel_iterators(self):
2030.         # Parallel iterators work.
2031.         qs = Tag.objects.all()
2032.         i1, i2 = iter(qs), iter(qs)
2033.         self.assertEqual(repr(next(i1)), "<Tag: t1>")
2034.         self.assertEqual(repr(next(i1)), "<Tag: t2>")
2035.         self.assertEqual(repr(next(i2)), "<Tag: t1>")
2036.         self.assertEqual(repr(next(i2)), "<Tag: t2>")
2037.         self.assertEqual(repr(next(i2)), "<Tag: t3>")
2038.         self.assertEqual(repr(next(i1)), "<Tag: t3>")
2039. 
2040.         qs = X.objects.all()
2041.         self.assertFalse(qs)
2042.         self.assertFalse(qs)
2043. 
2044.     def test_nested_queries_sql(self):
2045.         # Nested queries should not evaluate the inner query as part of constructing the
2046.         # SQL (so we should see a nested query here, indicated by two "SELECT" calls).
2047.         qs = Annotation.objects.filter(notes__in=Note.objects.filter(note="xyzzy"))
2048.         self.assertEqual(qs.query.get_compiler(qs.db).as_sql()[0].count("SELECT"), 2)
2049. 
2050.     def test_tickets_8921_9188(self):
2051.         # Incorrect SQL was being generated for certain types of exclude()
2052.         # queries that crossed multi-valued relations (#8921, #9188 and some
2053.         # preemptively discovered cases).
2054. 
2055.         self.assertSequenceEqual(
2056.             PointerA.objects.filter(connection__pointerb__id=1), []
2057.         )
2058.         self.assertSequenceEqual(
2059.             PointerA.objects.exclude(connection__pointerb__id=1), []
2060.         )
2061. 
2062.         self.assertSequenceEqual(
2063.             Tag.objects.exclude(children=None),
2064.             [self.t1, self.t3],
2065.         )
2066. 
2067.         # This example is tricky because the parent could be NULL, so only checking
2068.         # parents with annotations omits some results (tag t1, in this case).
2069.         self.assertSequenceEqual(
2070.             Tag.objects.exclude(parent__annotation__name="a1"),
2071.             [self.t1, self.t4, self.t5],
2072.         )
2073. 
2074.         # The annotation->tag link is single values and tag->children links is
2075.         # multi-valued. So we have to split the exclude filter in the middle
2076.         # and then optimize the inner query without losing results.
2077.         self.assertSequenceEqual(
2078.             Annotation.objects.exclude(tag__children__name="t2"),
2079.             [self.ann2],
2080.         )
2081. 
2082.         # Nested queries are possible (although should be used with care, since
2083.         # they have performance problems on backends like MySQL.
2084.         self.assertSequenceEqual(
2085.             Annotation.objects.filter(notes__in=Note.objects.filter(note="n1")),
2086.             [self.ann1],
2087.         )
2088. 
2089.     def test_ticket3739(self):
2090.         # The all() method on querysets returns a copy of the queryset.
2091.         q1 = Tag.objects.order_by("name")
2092.         self.assertIsNot(q1, q1.all())
2093. 
2094.     def test_ticket_11320(self):
2095.         qs = Tag.objects.exclude(category=None).exclude(category__name="foo")
2096.         self.assertEqual(str(qs.query).count(" INNER JOIN "), 1)
2097. 
2098.     def test_distinct_ordered_sliced_subquery_aggregation(self):
2099.         self.assertEqual(
2100.             Tag.objects.distinct().order_by("category__name")[:3].count(), 3
2101.         )
2102. 
2103.     def test_multiple_columns_with_the_same_name_slice(self):
2104.         self.assertEqual(
2105.             list(
2106.                 Tag.objects.order_by("name").values_list("name", "category__name")[:2]
2107.             ),
2108.             [("t1", "Generic"), ("t2", "Generic")],
2109.         )
2110.         self.assertSequenceEqual(
2111.             Tag.objects.order_by("name").select_related("category")[:2],
2112.             [self.t1, self.t2],
2113.         )
2114.         self.assertEqual(
2115.             list(Tag.objects.order_by("-name").values_list("name", "parent__name")[:2]),
2116.             [("t5", "t3"), ("t4", "t3")],
2117.         )
2118.         self.assertSequenceEqual(
2119.             Tag.objects.order_by("-name").select_related("parent")[:2],
2120.             [self.t5, self.t4],
2121.         )
2122. 
2123.     def test_col_alias_quoted(self):
2124.         with CaptureQueriesContext(connection) as captured_queries:
2125.             self.assertEqual(
2126.                 Tag.objects.values("parent")
2127.                 .annotate(
2128.                     tag_per_parent=Count("pk"),
2129.                 )
2130.                 .aggregate(Max("tag_per_parent")),
2131.                 {"tag_per_parent__max": 2},
2132.             )
2133.         sql = captured_queries[0]["sql"]
2134.         self.assertIn("AS %s" % connection.ops.quote_name("col1"), sql)
2135. 
2136.     def test_xor_subquery(self):
2137.         self.assertSequenceEqual(
2138.             Tag.objects.filter(
2139.                 Exists(Tag.objects.filter(id=OuterRef("id"), name="t3"))
2140.                 ^ Exists(Tag.objects.filter(id=OuterRef("id"), parent=self.t1))
2141.             ),
2142.             [self.t2],
2143.         )
2144. 
2145. 
2146. class RawQueriesTests(TestCase):
2147.     @classmethod
2148.     def setUpTestData(cls):
2149.         Note.objects.create(note="n1", misc="foo", id=1)
2150. 
2151.     def test_ticket14729(self):
2152.         # Test representation of raw query with one or few parameters passed as list
2153.         query = "SELECT * FROM queries_note WHERE note = %s"
2154.         params = ["n1"]
2155.         qs = Note.objects.raw(query, params=params)
2156.         self.assertEqual(
2157.             repr(qs), "<RawQuerySet: SELECT * FROM queries_note WHERE note = n1>"
2158.         )
2159. 
2160.         query = "SELECT * FROM queries_note WHERE note = %s and misc = %s"
2161.         params = ["n1", "foo"]
2162.         qs = Note.objects.raw(query, params=params)
2163.         self.assertEqual(
2164.             repr(qs),
2165.             "<RawQuerySet: SELECT * FROM queries_note WHERE note = n1 and misc = foo>",
2166.         )
2167. 
2168. 
2169. class GeneratorExpressionTests(SimpleTestCase):
2170.     def test_ticket10432(self):
2171.         # Using an empty iterator as the rvalue for an "__in"
2172.         # lookup is legal.
2173.         self.assertCountEqual(Note.objects.filter(pk__in=iter(())), [])
2174. 
2175. 
2176. class ComparisonTests(TestCase):
2177.     @classmethod
2178.     def setUpTestData(cls):
2179.         cls.n1 = Note.objects.create(note="n1", misc="foo", id=1)
2180.         e1 = ExtraInfo.objects.create(info="e1", note=cls.n1)
2181.         cls.a2 = Author.objects.create(name="a2", num=2002, extra=e1)
2182. 
2183.     def test_ticket8597(self):
2184.         # Regression tests for case-insensitive comparisons
2185.         item_ab = Item.objects.create(
2186.             name="a_b", created=datetime.datetime.now(), creator=self.a2, note=self.n1
2187.         )
2188.         item_xy = Item.objects.create(
2189.             name="x%y", created=datetime.datetime.now(), creator=self.a2, note=self.n1
2190.         )
2191.         self.assertSequenceEqual(
2192.             Item.objects.filter(name__iexact="A_b"),
2193.             [item_ab],
2194.         )
2195.         self.assertSequenceEqual(
2196.             Item.objects.filter(name__iexact="x%Y"),
2197.             [item_xy],
2198.         )
2199.         self.assertSequenceEqual(
2200.             Item.objects.filter(name__istartswith="A_b"),
2201.             [item_ab],
2202.         )
2203.         self.assertSequenceEqual(
2204.             Item.objects.filter(name__iendswith="A_b"),
2205.             [item_ab],
2206.         )
2207. 
2208. 
2209. class ExistsSql(TestCase):
2210.     def test_exists(self):
2211.         with CaptureQueriesContext(connection) as captured_queries:
2212.             self.assertFalse(Tag.objects.exists())
2213.         # Ok - so the exist query worked - but did it include too many columns?
2214.         self.assertEqual(len(captured_queries), 1)
2215.         qstr = captured_queries[0]["sql"]
2216.         id, name = connection.ops.quote_name("id"), connection.ops.quote_name("name")
2217.         self.assertNotIn(id, qstr)
2218.         self.assertNotIn(name, qstr)
2219. 
2220.     def test_ticket_18414(self):
2221.         Article.objects.create(name="one", created=datetime.datetime.now())
2222.         Article.objects.create(name="one", created=datetime.datetime.now())
2223.         Article.objects.create(name="two", created=datetime.datetime.now())
2224.         self.assertTrue(Article.objects.exists())
2225.         self.assertTrue(Article.objects.distinct().exists())
2226.         self.assertTrue(Article.objects.distinct()[1:3].exists())
2227.         self.assertFalse(Article.objects.distinct()[1:1].exists())
2228. 
2229.     @skipUnlessDBFeature("can_distinct_on_fields")
2230.     def test_ticket_18414_distinct_on(self):
2231.         Article.objects.create(name="one", created=datetime.datetime.now())
2232.         Article.objects.create(name="one", created=datetime.datetime.now())
2233.         Article.objects.create(name="two", created=datetime.datetime.now())
2234.         self.assertTrue(Article.objects.distinct("name").exists())
2235.         self.assertTrue(Article.objects.distinct("name")[1:2].exists())
2236.         self.assertFalse(Article.objects.distinct("name")[2:3].exists())
2237. 
2238. 
2239. class QuerysetOrderedTests(unittest.TestCase):
2240.     """
2241.     Tests for the Queryset.ordered attribute.
2242.     """
2243. 
2244.     def test_no_default_or_explicit_ordering(self):
2245.         self.assertIs(Annotation.objects.all().ordered, False)
2246. 
2247.     def test_cleared_default_ordering(self):
2248.         self.assertIs(Tag.objects.all().ordered, True)
2249.         self.assertIs(Tag.objects.order_by().ordered, False)
2250. 
2251.     def test_explicit_ordering(self):
2252.         self.assertIs(Annotation.objects.order_by("id").ordered, True)
2253. 
2254.     def test_empty_queryset(self):
2255.         self.assertIs(Annotation.objects.none().ordered, True)
2256. 
2257.     def test_order_by_extra(self):
2258.         self.assertIs(Annotation.objects.extra(order_by=["id"]).ordered, True)
2259. 
2260.     def test_annotated_ordering(self):
2261.         qs = Annotation.objects.annotate(num_notes=Count("notes"))
2262.         self.assertIs(qs.ordered, False)
2263.         self.assertIs(qs.order_by("num_notes").ordered, True)
2264. 
2265.     def test_annotated_default_ordering(self):
2266.         qs = Tag.objects.annotate(num_notes=Count("pk"))
2267.         self.assertIs(qs.ordered, False)
2268.         self.assertIs(qs.order_by("name").ordered, True)
2269. 
2270.     def test_annotated_values_default_ordering(self):
2271.         qs = Tag.objects.values("name").annotate(num_notes=Count("pk"))
2272.         self.assertIs(qs.ordered, False)
2273.         self.assertIs(qs.order_by("name").ordered, True)
2274. 
2275. 
2276. @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2277. class SubqueryTests(TestCase):
2278.     @classmethod
2279.     def setUpTestData(cls):
2280.         NamedCategory.objects.create(id=1, name="first")
2281.         NamedCategory.objects.create(id=2, name="second")
2282.         NamedCategory.objects.create(id=3, name="third")
2283.         NamedCategory.objects.create(id=4, name="fourth")
2284. 
2285.     def test_ordered_subselect(self):
2286.         "Subselects honor any manual ordering"
2287.         query = DumbCategory.objects.filter(
2288.             id__in=DumbCategory.objects.order_by("-id")[0:2]
2289.         )
2290.         self.assertEqual(set(query.values_list("id", flat=True)), {3, 4})
2291. 
2292.         query = DumbCategory.objects.filter(
2293.             id__in=DumbCategory.objects.order_by("-id")[:2]
2294.         )
2295.         self.assertEqual(set(query.values_list("id", flat=True)), {3, 4})
2296. 
2297.         query = DumbCategory.objects.filter(
2298.             id__in=DumbCategory.objects.order_by("-id")[1:2]
2299.         )
2300.         self.assertEqual(set(query.values_list("id", flat=True)), {3})
2301. 
2302.         query = DumbCategory.objects.filter(
2303.             id__in=DumbCategory.objects.order_by("-id")[2:]
2304.         )
2305.         self.assertEqual(set(query.values_list("id", flat=True)), {1, 2})
2306. 
2307.     def test_slice_subquery_and_query(self):
2308.         """
2309.         Slice a query that has a sliced subquery
2310.         """
2311.         query = DumbCategory.objects.filter(
2312.             id__in=DumbCategory.objects.order_by("-id")[0:2]
2313.         )[0:2]
2314.         self.assertEqual({x.id for x in query}, {3, 4})
2315. 
2316.         query = DumbCategory.objects.filter(
2317.             id__in=DumbCategory.objects.order_by("-id")[1:3]
2318.         )[1:3]
2319.         self.assertEqual({x.id for x in query}, {3})
2320. 
2321.         query = DumbCategory.objects.filter(
2322.             id__in=DumbCategory.objects.order_by("-id")[2:]
2323.         )[1:]
2324.         self.assertEqual({x.id for x in query}, {2})
2325. 
2326.     def test_related_sliced_subquery(self):
2327.         """
2328.         Related objects constraints can safely contain sliced subqueries.
2329.         refs #22434
2330.         """
2331.         generic = NamedCategory.objects.create(id=5, name="Generic")
2332.         t1 = Tag.objects.create(name="t1", category=generic)
2333.         t2 = Tag.objects.create(name="t2", category=generic)
2334.         ManagedModel.objects.create(data="mm1", tag=t1, public=True)
2335.         mm2 = ManagedModel.objects.create(data="mm2", tag=t2, public=True)
2336. 
2337.         query = ManagedModel.normal_manager.filter(
2338.             tag__in=Tag.objects.order_by("-id")[:1]
2339.         )
2340.         self.assertEqual({x.id for x in query}, {mm2.id})
2341. 
2342.     def test_sliced_delete(self):
2343.         "Delete queries can safely contain sliced subqueries"
2344.         DumbCategory.objects.filter(
2345.             id__in=DumbCategory.objects.order_by("-id")[0:1]
2346.         ).delete()
2347.         self.assertEqual(
2348.             set(DumbCategory.objects.values_list("id", flat=True)), {1, 2, 3}
2349.         )
2350. 
2351.         DumbCategory.objects.filter(
2352.             id__in=DumbCategory.objects.order_by("-id")[1:2]
2353.         ).delete()
2354.         self.assertEqual(set(DumbCategory.objects.values_list("id", flat=True)), {1, 3})
2355. 
2356.         DumbCategory.objects.filter(
2357.             id__in=DumbCategory.objects.order_by("-id")[1:]
2358.         ).delete()
2359.         self.assertEqual(set(DumbCategory.objects.values_list("id", flat=True)), {3})
2360. 
2361.     def test_distinct_ordered_sliced_subquery(self):
2362.         # Implicit values('id').
2363.         self.assertSequenceEqual(
2364.             NamedCategory.objects.filter(
2365.                 id__in=NamedCategory.objects.distinct().order_by("name")[0:2],
2366.             )
2367.             .order_by("name")
2368.             .values_list("name", flat=True),
2369.             ["first", "fourth"],
2370.         )
2371.         # Explicit values('id').
2372.         self.assertSequenceEqual(
2373.             NamedCategory.objects.filter(
2374.                 id__in=NamedCategory.objects.distinct()
2375.                 .order_by("-name")
2376.                 .values("id")[0:2],
2377.             )
2378.             .order_by("name")
2379.             .values_list("name", flat=True),
2380.             ["second", "third"],
2381.         )
2382.         # Annotated value.
2383.         self.assertSequenceEqual(
2384.             DumbCategory.objects.filter(
2385.                 id__in=DumbCategory.objects.annotate(double_id=F("id") * 2)
2386.                 .order_by("id")
2387.                 .distinct()
2388.                 .values("double_id")[0:2],
2389.             )
2390.             .order_by("id")
2391.             .values_list("id", flat=True),
2392.             [2, 4],
2393.         )
2394. 
2395. 
2396. class QuerySetBitwiseOperationTests(TestCase):
2397.     @classmethod
2398.     def setUpTestData(cls):
2399.         cls.school = School.objects.create()
2400.         cls.room_1 = Classroom.objects.create(
2401.             school=cls.school, has_blackboard=False, name="Room 1"
2402.         )
2403.         cls.room_2 = Classroom.objects.create(
2404.             school=cls.school, has_blackboard=True, name="Room 2"
2405.         )
2406.         cls.room_3 = Classroom.objects.create(
2407.             school=cls.school, has_blackboard=True, name="Room 3"
2408.         )
2409.         cls.room_4 = Classroom.objects.create(
2410.             school=cls.school, has_blackboard=False, name="Room 4"
2411.         )
2412.         tag = Tag.objects.create()
2413.         cls.annotation_1 = Annotation.objects.create(tag=tag)
2414.         annotation_2 = Annotation.objects.create(tag=tag)
2415.         note = cls.annotation_1.notes.create(tag=tag)
2416.         cls.base_user_1 = BaseUser.objects.create(annotation=cls.annotation_1)
2417.         cls.base_user_2 = BaseUser.objects.create(annotation=annotation_2)
2418.         cls.task = Task.objects.create(
2419.             owner=cls.base_user_2,
2420.             creator=cls.base_user_2,
2421.             note=note,
2422.         )
2423. 
2424.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2425.     def test_or_with_rhs_slice(self):
2426.         qs1 = Classroom.objects.filter(has_blackboard=True)
2427.         qs2 = Classroom.objects.filter(has_blackboard=False)[:1]
2428.         self.assertCountEqual(qs1 | qs2, [self.room_1, self.room_2, self.room_3])
2429. 
2430.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2431.     def test_or_with_lhs_slice(self):
2432.         qs1 = Classroom.objects.filter(has_blackboard=True)[:1]
2433.         qs2 = Classroom.objects.filter(has_blackboard=False)
2434.         self.assertCountEqual(qs1 | qs2, [self.room_1, self.room_2, self.room_4])
2435. 
2436.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2437.     def test_or_with_both_slice(self):
2438.         qs1 = Classroom.objects.filter(has_blackboard=False)[:1]
2439.         qs2 = Classroom.objects.filter(has_blackboard=True)[:1]
2440.         self.assertCountEqual(qs1 | qs2, [self.room_1, self.room_2])
2441. 
2442.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2443.     def test_or_with_both_slice_and_ordering(self):
2444.         qs1 = Classroom.objects.filter(has_blackboard=False).order_by("-pk")[:1]
2445.         qs2 = Classroom.objects.filter(has_blackboard=True).order_by("-name")[:1]
2446.         self.assertCountEqual(qs1 | qs2, [self.room_3, self.room_4])
2447. 
2448.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2449.     def test_xor_with_rhs_slice(self):
2450.         qs1 = Classroom.objects.filter(has_blackboard=True)
2451.         qs2 = Classroom.objects.filter(has_blackboard=False)[:1]
2452.         self.assertCountEqual(qs1 ^ qs2, [self.room_1, self.room_2, self.room_3])
2453. 
2454.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2455.     def test_xor_with_lhs_slice(self):
2456.         qs1 = Classroom.objects.filter(has_blackboard=True)[:1]
2457.         qs2 = Classroom.objects.filter(has_blackboard=False)
2458.         self.assertCountEqual(qs1 ^ qs2, [self.room_1, self.room_2, self.room_4])
2459. 
2460.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2461.     def test_xor_with_both_slice(self):
2462.         qs1 = Classroom.objects.filter(has_blackboard=False)[:1]
2463.         qs2 = Classroom.objects.filter(has_blackboard=True)[:1]
2464.         self.assertCountEqual(qs1 ^ qs2, [self.room_1, self.room_2])
2465. 
2466.     @skipUnlessDBFeature("allow_sliced_subqueries_with_in")
2467.     def test_xor_with_both_slice_and_ordering(self):
2468.         qs1 = Classroom.objects.filter(has_blackboard=False).order_by("-pk")[:1]
2469.         qs2 = Classroom.objects.filter(has_blackboard=True).order_by("-name")[:1]
2470.         self.assertCountEqual(qs1 ^ qs2, [self.room_3, self.room_4])
2471. 
2472.     def test_subquery_aliases(self):
2473.         combined = School.objects.filter(pk__isnull=False) & School.objects.filter(
2474.             Exists(
2475.                 Classroom.objects.filter(
2476.                     has_blackboard=True,
2477.                     school=OuterRef("pk"),
2478.                 )
2479.             ),
2480.         )
2481.         self.assertSequenceEqual(combined, [self.school])
2482.         nested_combined = School.objects.filter(pk__in=combined.values("pk"))
2483.         self.assertSequenceEqual(nested_combined, [self.school])
2484. 
2485.     def test_conflicting_aliases_during_combine(self):
2486.         qs1 = self.annotation_1.baseuser_set.all()
2487.         qs2 = BaseUser.objects.filter(
2488.             Q(owner__note__in=self.annotation_1.notes.all())
2489.             | Q(creator__note__in=self.annotation_1.notes.all())
2490.         )
2491.         self.assertSequenceEqual(qs1, [self.base_user_1])
2492.         self.assertSequenceEqual(qs2, [self.base_user_2])
2493.         self.assertCountEqual(qs2 | qs1, qs1 | qs2)
2494.         self.assertCountEqual(qs2 | qs1, [self.base_user_1, self.base_user_2])
2495. 
2496. 
2497. class CloneTests(TestCase):
2498.     def test_evaluated_queryset_as_argument(self):
2499.         """
2500.         If a queryset is already evaluated, it can still be used as a query arg.
2501.         """
2502.         n = Note(note="Test1", misc="misc")
2503.         n.save()
2504.         e = ExtraInfo(info="good", note=n)
2505.         e.save()
2506. 
2507.         n_list = Note.objects.all()
2508.         # Evaluate the Note queryset, populating the query cache
2509.         list(n_list)
2510.         # Make one of cached results unpickable.
2511.         n_list._result_cache[0].lock = Lock()
2512.         with self.assertRaises(TypeError):
2513.             pickle.dumps(n_list)
2514.         # Use the note queryset in a query, and evaluate
2515.         # that query in a way that involves cloning.
2516.         self.assertEqual(ExtraInfo.objects.filter(note__in=n_list)[0].info, "good")
2517. 
2518.     def test_no_model_options_cloning(self):
2519.         """
2520.         Cloning a queryset does not get out of hand. While complete
2521.         testing is impossible, this is a sanity check against invalid use of
2522.         deepcopy. refs #16759.
2523.         """
2524.         opts_class = type(Note._meta)
2525.         note_deepcopy = getattr(opts_class, "__deepcopy__", None)
2526.         opts_class.__deepcopy__ = lambda obj, memo: self.fail(
2527.             "Model options shouldn't be cloned."
2528.         )
2529.         try:
2530.             Note.objects.filter(pk__lte=F("pk") + 1).all()
2531.         finally:
2532.             if note_deepcopy is None:
2533.                 delattr(opts_class, "__deepcopy__")
2534.             else:
2535.                 opts_class.__deepcopy__ = note_deepcopy
2536. 
2537.     def test_no_fields_cloning(self):
2538.         """
2539.         Cloning a queryset does not get out of hand. While complete
2540.         testing is impossible, this is a sanity check against invalid use of
2541.         deepcopy. refs #16759.
2542.         """
2543.         opts_class = type(Note._meta.get_field("misc"))
2544.         note_deepcopy = getattr(opts_class, "__deepcopy__", None)
2545.         opts_class.__deepcopy__ = lambda obj, memo: self.fail(
2546.             "Model fields shouldn't be cloned"
2547.         )
2548.         try:
2549.             Note.objects.filter(note=F("misc")).all()
2550.         finally:
2551.             if note_deepcopy is None:
2552.                 delattr(opts_class, "__deepcopy__")
2553.             else:
2554.                 opts_class.__deepcopy__ = note_deepcopy
2555. 
2556. 
2557. class EmptyQuerySetTests(SimpleTestCase):
2558.     def test_emptyqueryset_values(self):
2559.         # #14366 -- Calling .values() on an empty QuerySet and then cloning
2560.         # that should not cause an error
2561.         self.assertCountEqual(Number.objects.none().values("num").order_by("num"), [])
2562. 
2563.     def test_values_subquery(self):
2564.         self.assertCountEqual(
2565.             Number.objects.filter(pk__in=Number.objects.none().values("pk")), []
2566.         )
2567.         self.assertCountEqual(
2568.             Number.objects.filter(pk__in=Number.objects.none().values_list("pk")), []
2569.         )
2570. 
2571.     def test_ticket_19151(self):
2572.         # #19151 -- Calling .values() or .values_list() on an empty QuerySet
2573.         # should return an empty QuerySet and not cause an error.
2574.         q = Author.objects.none()
2575.         self.assertCountEqual(q.values(), [])
2576.         self.assertCountEqual(q.values_list(), [])
2577. 
2578. 
2579. class ValuesQuerysetTests(TestCase):
2580.     @classmethod
2581.     def setUpTestData(cls):
2582.         Number.objects.create(num=72)
2583. 
2584.     def test_flat_values_list(self):
2585.         qs = Number.objects.values_list("num")
2586.         qs = qs.values_list("num", flat=True)
2587.         self.assertSequenceEqual(qs, [72])
2588. 
2589.     def test_extra_values(self):
2590.         # testing for ticket 14930 issues
2591.         qs = Number.objects.extra(
2592.             select={"value_plus_x": "num+%s", "value_minus_x": "num-%s"},
2593.             select_params=(1, 2),
2594.         )
2595.         qs = qs.order_by("value_minus_x")
2596.         qs = qs.values("num")
2597.         self.assertSequenceEqual(qs, [{"num": 72}])
2598. 
2599.     def test_extra_values_order_twice(self):
2600.         # testing for ticket 14930 issues
2601.         qs = Number.objects.extra(
2602.             select={"value_plus_one": "num+1", "value_minus_one": "num-1"}
2603.         )
2604.         qs = qs.order_by("value_minus_one").order_by("value_plus_one")
2605.         qs = qs.values("num")
2606.         self.assertSequenceEqual(qs, [{"num": 72}])
2607. 
2608.     def test_extra_values_order_multiple(self):
2609.         # Postgres doesn't allow constants in order by, so check for that.
2610.         qs = Number.objects.extra(
2611.             select={
2612.                 "value_plus_one": "num+1",
2613.                 "value_minus_one": "num-1",
2614.                 "constant_value": "1",
2615.             }
2616.         )
2617.         qs = qs.order_by("value_plus_one", "value_minus_one", "constant_value")
2618.         qs = qs.values("num")
2619.         self.assertSequenceEqual(qs, [{"num": 72}])
2620. 
2621.     def test_extra_values_order_in_extra(self):
2622.         # testing for ticket 14930 issues
2623.         qs = Number.objects.extra(
2624.             select={"value_plus_one": "num+1", "value_minus_one": "num-1"},
2625.             order_by=["value_minus_one"],
2626.         )
2627.         qs = qs.values("num")
2628. 
2629.     def test_extra_select_params_values_order_in_extra(self):
2630.         # testing for 23259 issue
2631.         qs = Number.objects.extra(
2632.             select={"value_plus_x": "num+%s"},
2633.             select_params=[1],
2634.             order_by=["value_plus_x"],
2635.         )
2636.         qs = qs.filter(num=72)
2637.         qs = qs.values("num")
2638.         self.assertSequenceEqual(qs, [{"num": 72}])
2639. 
2640.     def test_extra_multiple_select_params_values_order_by(self):
2641.         # testing for 23259 issue
2642.         qs = Number.objects.extra(
2643.             select={"value_plus_x": "num+%s", "value_minus_x": "num-%s"},
2644.             select_params=(72, 72),
2645.         )
2646.         qs = qs.order_by("value_minus_x")
2647.         qs = qs.filter(num=1)
2648.         qs = qs.values("num")
2649.         self.assertSequenceEqual(qs, [])
2650. 
2651.     def test_extra_values_list(self):
2652.         # testing for ticket 14930 issues
2653.         qs = Number.objects.extra(select={"value_plus_one": "num+1"})
2654.         qs = qs.order_by("value_plus_one")
2655.         qs = qs.values_list("num")
2656.         self.assertSequenceEqual(qs, [(72,)])
2657. 
2658.     def test_flat_extra_values_list(self):
2659.         # testing for ticket 14930 issues
2660.         qs = Number.objects.extra(select={"value_plus_one": "num+1"})
2661.         qs = qs.order_by("value_plus_one")
2662.         qs = qs.values_list("num", flat=True)
2663.         self.assertSequenceEqual(qs, [72])
2664. 
2665.     def test_field_error_values_list(self):
2666.         # see #23443
2667.         msg = (
2668.             "Cannot resolve keyword %r into field. Join on 'name' not permitted."
2669.             % "foo"
2670.         )
2671.         with self.assertRaisesMessage(FieldError, msg):
2672.             Tag.objects.values_list("name__foo")
2673. 
2674.     def test_named_values_list_flat(self):
2675.         msg = "'flat' and 'named' can't be used together."
2676.         with self.assertRaisesMessage(TypeError, msg):
2677.             Number.objects.values_list("num", flat=True, named=True)
2678. 
2679.     def test_named_values_list_bad_field_name(self):
2680.         msg = "Type names and field names must be valid identifiers: '1'"
2681.         with self.assertRaisesMessage(ValueError, msg):
2682.             Number.objects.extra(select={"1": "num+1"}).values_list(
2683.                 "1", named=True
2684.             ).first()
2685. 
2686.     def test_named_values_list_with_fields(self):
2687.         qs = Number.objects.extra(select={"num2": "num+1"}).annotate(Count("id"))
2688.         values = qs.values_list("num", "num2", named=True).first()
2689.         self.assertEqual(type(values).__name__, "Row")
2690.         self.assertEqual(values._fields, ("num", "num2"))
2691.         self.assertEqual(values.num, 72)
2692.         self.assertEqual(values.num2, 73)
2693. 
2694.     def test_named_values_list_without_fields(self):
2695.         qs = Number.objects.extra(select={"num2": "num+1"}).annotate(Count("id"))
2696.         values = qs.values_list(named=True).first()
2697.         self.assertEqual(type(values).__name__, "Row")
2698.         self.assertEqual(
2699.             values._fields,
2700.             ("num2", "id", "num", "other_num", "another_num", "id__count"),
2701.         )
2702.         self.assertEqual(values.num, 72)
2703.         self.assertEqual(values.num2, 73)
2704.         self.assertEqual(values.id__count, 1)
2705. 
2706.     def test_named_values_list_expression_with_default_alias(self):
2707.         expr = Count("id")
2708.         values = (
2709.             Number.objects.annotate(id__count1=expr)
2710.             .values_list(expr, "id__count1", named=True)
2711.             .first()
2712.         )
2713.         self.assertEqual(values._fields, ("id__count2", "id__count1"))
2714. 
2715.     def test_named_values_list_expression(self):
2716.         expr = F("num") + 1
2717.         qs = Number.objects.annotate(combinedexpression1=expr).values_list(
2718.             expr, "combinedexpression1", named=True
2719.         )
2720.         values = qs.first()
2721.         self.assertEqual(values._fields, ("combinedexpression2", "combinedexpression1"))
2722. 
2723.     def test_named_values_pickle(self):
2724.         value = Number.objects.values_list("num", "other_num", named=True).get()
2725.         self.assertEqual(value, (72, None))
2726.         self.assertEqual(pickle.loads(pickle.dumps(value)), value)
2727. 
2728. 
2729. class QuerySetSupportsPythonIdioms(TestCase):
2730.     @classmethod
2731.     def setUpTestData(cls):
2732.         some_date = datetime.datetime(2014, 5, 16, 12, 1)
2733.         cls.articles = [
2734.             Article.objects.create(name=f"Article {i}", created=some_date)
2735.             for i in range(1, 8)
2736.         ]
2737. 
2738.     def get_ordered_articles(self):
2739.         return Article.objects.order_by("name")
2740. 
2741.     def test_can_get_items_using_index_and_slice_notation(self):
2742.         self.assertEqual(self.get_ordered_articles()[0].name, "Article 1")
2743.         self.assertSequenceEqual(
2744.             self.get_ordered_articles()[1:3],
2745.             [self.articles[1], self.articles[2]],
2746.         )
2747. 
2748.     def test_slicing_with_steps_can_be_used(self):
2749.         self.assertSequenceEqual(
2750.             self.get_ordered_articles()[::2],
2751.             [
2752.                 self.articles[0],
2753.                 self.articles[2],
2754.                 self.articles[4],
2755.                 self.articles[6],
2756.             ],
2757.         )
2758. 
2759.     def test_slicing_without_step_is_lazy(self):
2760.         with self.assertNumQueries(0):
2761.             self.get_ordered_articles()[0:5]
2762. 
2763.     def test_slicing_with_tests_is_not_lazy(self):
2764.         with self.assertNumQueries(1):
2765.             self.get_ordered_articles()[0:5:3]
2766. 
2767.     def test_slicing_can_slice_again_after_slicing(self):
2768.         self.assertSequenceEqual(
2769.             self.get_ordered_articles()[0:5][0:2],
2770.             [self.articles[0], self.articles[1]],
2771.         )
2772.         self.assertSequenceEqual(
2773.             self.get_ordered_articles()[0:5][4:], [self.articles[4]]
2774.         )
2775.         self.assertSequenceEqual(self.get_ordered_articles()[0:5][5:], [])
2776. 
2777.         # Some more tests!
2778.         self.assertSequenceEqual(
2779.             self.get_ordered_articles()[2:][0:2],
2780.             [self.articles[2], self.articles[3]],
2781.         )
2782.         self.assertSequenceEqual(
2783.             self.get_ordered_articles()[2:][:2],
2784.             [self.articles[2], self.articles[3]],
2785.         )
2786.         self.assertSequenceEqual(
2787.             self.get_ordered_articles()[2:][2:3], [self.articles[4]]
2788.         )
2789. 
2790.         # Using an offset without a limit is also possible.
2791.         self.assertSequenceEqual(
2792.             self.get_ordered_articles()[5:],
2793.             [self.articles[5], self.articles[6]],
2794.         )
2795. 
2796.     def test_slicing_cannot_filter_queryset_once_sliced(self):
2797.         msg = "Cannot filter a query once a slice has been taken."
2798.         with self.assertRaisesMessage(TypeError, msg):
2799.             Article.objects.all()[0:5].filter(id=1)
2800. 
2801.     def test_slicing_cannot_reorder_queryset_once_sliced(self):
2802.         msg = "Cannot reorder a query once a slice has been taken."
2803.         with self.assertRaisesMessage(TypeError, msg):
2804.             Article.objects.all()[0:5].order_by("id")
2805. 
2806.     def test_slicing_cannot_combine_queries_once_sliced(self):
2807.         msg = "Cannot combine queries once a slice has been taken."
2808.         with self.assertRaisesMessage(TypeError, msg):
2809.             Article.objects.all()[0:1] & Article.objects.all()[4:5]
2810. 
2811.     def test_slicing_negative_indexing_not_supported_for_single_element(self):
2812.         """hint: inverting your ordering might do what you need"""
2813.         msg = "Negative indexing is not supported."
2814.         with self.assertRaisesMessage(ValueError, msg):
2815.             Article.objects.all()[-1]
2816. 
2817.     def test_slicing_negative_indexing_not_supported_for_range(self):
2818.         """hint: inverting your ordering might do what you need"""
2819.         msg = "Negative indexing is not supported."
2820.         with self.assertRaisesMessage(ValueError, msg):
2821.             Article.objects.all()[0:-5]
2822.         with self.assertRaisesMessage(ValueError, msg):
2823.             Article.objects.all()[-1:]
2824. 
2825.     def test_invalid_index(self):
2826.         msg = "QuerySet indices must be integers or slices, not str."
2827.         with self.assertRaisesMessage(TypeError, msg):
2828.             Article.objects.all()["foo"]
2829. 
2830.     def test_can_get_number_of_items_in_queryset_using_standard_len(self):
2831.         self.assertEqual(len(Article.objects.filter(name__exact="Article 1")), 1)
2832. 
2833.     def test_can_combine_queries_using_and_and_or_operators(self):
2834.         s1 = Article.objects.filter(name__exact="Article 1")
2835.         s2 = Article.objects.filter(name__exact="Article 2")
2836.         self.assertSequenceEqual(
2837.             (s1 | s2).order_by("name"),
2838.             [self.articles[0], self.articles[1]],
2839.         )
2840.         self.assertSequenceEqual(s1 & s2, [])
2841. 
2842. 
2843. class WeirdQuerysetSlicingTests(TestCase):
2844.     @classmethod
2845.     def setUpTestData(cls):
2846.         Number.objects.create(num=1)
2847.         Number.objects.create(num=2)
2848. 
2849.         Article.objects.create(name="one", created=datetime.datetime.now())
2850.         Article.objects.create(name="two", created=datetime.datetime.now())
2851.         Article.objects.create(name="three", created=datetime.datetime.now())
2852.         Article.objects.create(name="four", created=datetime.datetime.now())
2853. 
2854.         food = Food.objects.create(name="spam")
2855.         Eaten.objects.create(meal="spam with eggs", food=food)
2856. 
2857.     def test_tickets_7698_10202(self):
2858.         # People like to slice with '0' as the high-water mark.
2859.         self.assertQuerysetEqual(Article.objects.all()[0:0], [])
2860.         self.assertQuerysetEqual(Article.objects.all()[0:0][:10], [])
2861.         self.assertEqual(Article.objects.all()[:0].count(), 0)
2862.         msg = "Cannot change a query once a slice has been taken."
2863.         with self.assertRaisesMessage(TypeError, msg):
2864.             Article.objects.all()[:0].latest("created")
2865. 
2866.     def test_empty_resultset_sql(self):
2867.         # ticket #12192
2868.         self.assertNumQueries(0, lambda: list(Number.objects.all()[1:1]))
2869. 
2870.     def test_empty_sliced_subquery(self):
2871.         self.assertEqual(
2872.             Eaten.objects.filter(food__in=Food.objects.all()[0:0]).count(), 0
2873.         )
2874. 
2875.     def test_empty_sliced_subquery_exclude(self):
2876.         self.assertEqual(
2877.             Eaten.objects.exclude(food__in=Food.objects.all()[0:0]).count(), 1
2878.         )
2879. 
2880.     def test_zero_length_values_slicing(self):
2881.         n = 42
2882.         with self.assertNumQueries(0):
2883.             self.assertQuerysetEqual(Article.objects.values()[n:n], [])
2884.             self.assertQuerysetEqual(Article.objects.values_list()[n:n], [])
2885. 
2886. 
2887. class EscapingTests(TestCase):
2888.     def test_ticket_7302(self):
2889.         # Reserved names are appropriately escaped
2890.         r_a = ReservedName.objects.create(name="a", order=42)
2891.         r_b = ReservedName.objects.create(name="b", order=37)
2892.         self.assertSequenceEqual(
2893.             ReservedName.objects.order_by("order"),
2894.             [r_b, r_a],
2895.         )
2896.         self.assertSequenceEqual(
2897.             ReservedName.objects.extra(
2898.                 select={"stuff": "name"}, order_by=("order", "stuff")
2899.             ),
2900.             [r_b, r_a],
2901.         )
2902. 
2903. 
2904. class ToFieldTests(TestCase):
2905.     def test_in_query(self):
2906.         apple = Food.objects.create(name="apple")
2907.         pear = Food.objects.create(name="pear")
2908.         lunch = Eaten.objects.create(food=apple, meal="lunch")
2909.         dinner = Eaten.objects.create(food=pear, meal="dinner")
2910. 
2911.         self.assertEqual(
2912.             set(Eaten.objects.filter(food__in=[apple, pear])),
2913.             {lunch, dinner},
2914.         )
2915. 
2916.     def test_in_subquery(self):
2917.         apple = Food.objects.create(name="apple")
2918.         lunch = Eaten.objects.create(food=apple, meal="lunch")
2919.         self.assertEqual(
2920.             set(Eaten.objects.filter(food__in=Food.objects.filter(name="apple"))),
2921.             {lunch},
2922.         )
2923.         self.assertEqual(
2924.             set(
2925.                 Eaten.objects.filter(
2926.                     food__in=Food.objects.filter(name="apple").values("eaten__meal")
2927.                 )
2928.             ),
2929.             set(),
2930.         )
2931.         self.assertEqual(
2932.             set(Food.objects.filter(eaten__in=Eaten.objects.filter(meal="lunch"))),
2933.             {apple},
2934.         )
2935. 
2936.     def test_nested_in_subquery(self):
2937.         extra = ExtraInfo.objects.create()
2938.         author = Author.objects.create(num=42, extra=extra)
2939.         report = Report.objects.create(creator=author)
2940.         comment = ReportComment.objects.create(report=report)
2941.         comments = ReportComment.objects.filter(
2942.             report__in=Report.objects.filter(
2943.                 creator__in=extra.author_set.all(),
2944.             ),
2945.         )
2946.         self.assertSequenceEqual(comments, [comment])
2947. 
2948.     def test_reverse_in(self):
2949.         apple = Food.objects.create(name="apple")
2950.         pear = Food.objects.create(name="pear")
2951.         lunch_apple = Eaten.objects.create(food=apple, meal="lunch")
2952.         lunch_pear = Eaten.objects.create(food=pear, meal="dinner")
2953. 
2954.         self.assertEqual(
2955.             set(Food.objects.filter(eaten__in=[lunch_apple, lunch_pear])), {apple, pear}
2956.         )
2957. 
2958.     def test_single_object(self):
2959.         apple = Food.objects.create(name="apple")
2960.         lunch = Eaten.objects.create(food=apple, meal="lunch")
2961.         dinner = Eaten.objects.create(food=apple, meal="dinner")
2962. 
2963.         self.assertEqual(set(Eaten.objects.filter(food=apple)), {lunch, dinner})
2964. 
2965.     def test_single_object_reverse(self):
2966.         apple = Food.objects.create(name="apple")
2967.         lunch = Eaten.objects.create(food=apple, meal="lunch")
2968. 
2969.         self.assertEqual(set(Food.objects.filter(eaten=lunch)), {apple})
2970. 
2971.     def test_recursive_fk(self):
2972.         node1 = Node.objects.create(num=42)
2973.         node2 = Node.objects.create(num=1, parent=node1)
2974. 
2975.         self.assertEqual(list(Node.objects.filter(parent=node1)), [node2])
2976. 
2977.     def test_recursive_fk_reverse(self):
2978.         node1 = Node.objects.create(num=42)
2979.         node2 = Node.objects.create(num=1, parent=node1)
2980. 
2981.         self.assertEqual(list(Node.objects.filter(node=node2)), [node1])
2982. 
2983. 
2984. class IsNullTests(TestCase):
2985.     def test_primary_key(self):
2986.         custom = CustomPk.objects.create(name="pk")
2987.         null = Related.objects.create()
2988.         notnull = Related.objects.create(custom=custom)
2989.         self.assertSequenceEqual(
2990.             Related.objects.filter(custom__isnull=False), [notnull]
2991.         )
2992.         self.assertSequenceEqual(Related.objects.filter(custom__isnull=True), [null])
2993. 
2994.     def test_to_field(self):
2995.         apple = Food.objects.create(name="apple")
2996.         e1 = Eaten.objects.create(food=apple, meal="lunch")
2997.         e2 = Eaten.objects.create(meal="lunch")
2998.         self.assertSequenceEqual(
2999.             Eaten.objects.filter(food__isnull=False),
3000.             [e1],
3001.         )
3002.         self.assertSequenceEqual(
3003.             Eaten.objects.filter(food__isnull=True),
3004.             [e2],
3005.         )
3006. 
3007. 
3008. class ConditionalTests(TestCase):
3009.     """Tests whose execution depend on different environment conditions like
3010.     Python version or DB backend features"""
3011. 
3012.     @classmethod
3013.     def setUpTestData(cls):
3014.         generic = NamedCategory.objects.create(name="Generic")
3015.         t1 = Tag.objects.create(name="t1", category=generic)
3016.         Tag.objects.create(name="t2", parent=t1, category=generic)
3017.         t3 = Tag.objects.create(name="t3", parent=t1)
3018.         Tag.objects.create(name="t4", parent=t3)
3019.         Tag.objects.create(name="t5", parent=t3)
3020. 
3021.     def test_infinite_loop(self):
3022.         # If you're not careful, it's possible to introduce infinite loops via
3023.         # default ordering on foreign keys in a cycle. We detect that.
3024.         with self.assertRaisesMessage(FieldError, "Infinite loop caused by ordering."):
3025.             list(LoopX.objects.all())  # Force queryset evaluation with list()
3026.         with self.assertRaisesMessage(FieldError, "Infinite loop caused by ordering."):
3027.             list(LoopZ.objects.all())  # Force queryset evaluation with list()
3028. 
3029.         # Note that this doesn't cause an infinite loop, since the default
3030.         # ordering on the Tag model is empty (and thus defaults to using "id"
3031.         # for the related field).
3032.         self.assertEqual(len(Tag.objects.order_by("parent")), 5)
3033. 
3034.         # ... but you can still order in a non-recursive fashion among linked
3035.         # fields (the previous test failed because the default ordering was
3036.         # recursive).
3037.         self.assertQuerysetEqual(LoopX.objects.order_by("y__x__y__x__id"), [])
3038. 
3039.     # When grouping without specifying ordering, we add an explicit "ORDER BY NULL"
3040.     # portion in MySQL to prevent unnecessary sorting.
3041.     @skipUnlessDBFeature("requires_explicit_null_ordering_when_grouping")
3042.     def test_null_ordering_added(self):
3043.         query = Tag.objects.values_list("parent_id", flat=True).order_by().query
3044.         query.group_by = ["parent_id"]
3045.         sql = query.get_compiler(DEFAULT_DB_ALIAS).as_sql()[0]
3046.         fragment = "ORDER BY "
3047.         pos = sql.find(fragment)
3048.         self.assertEqual(sql.find(fragment, pos + 1), -1)
3049.         self.assertEqual(sql.find("NULL", pos + len(fragment)), pos + len(fragment))
3050. 
3051.     def test_in_list_limit(self):
3052.         # The "in" lookup works with lists of 1000 items or more.
3053.         # The numbers amount is picked to force three different IN batches
3054.         # for Oracle, yet to be less than 2100 parameter limit for MSSQL.
3055.         numbers = list(range(2050))
3056.         max_query_params = connection.features.max_query_params
3057.         if max_query_params is None or max_query_params >= len(numbers):
3058.             Number.objects.bulk_create(Number(num=num) for num in numbers)
3059.             for number in [1000, 1001, 2000, len(numbers)]:
3060.                 with self.subTest(number=number):
3061.                     self.assertEqual(
3062.                         Number.objects.filter(num__in=numbers[:number]).count(), number
3063.                     )
3064. 
3065. 
3066. class UnionTests(unittest.TestCase):
3067.     """
3068.     Tests for the union of two querysets. Bug #12252.
3069.     """
3070. 
3071.     @classmethod
3072.     def setUpTestData(cls):
3073.         objectas = []
3074.         objectbs = []
3075.         objectcs = []
3076.         a_info = ["one", "two", "three"]
3077.         for name in a_info:
3078.             o = ObjectA(name=name)
3079.             o.save()
3080.             objectas.append(o)
3081.         b_info = [
3082.             ("un", 1, objectas[0]),
3083.             ("deux", 2, objectas[0]),
3084.             ("trois", 3, objectas[2]),
3085.         ]
3086.         for name, number, objecta in b_info:
3087.             o = ObjectB(name=name, num=number, objecta=objecta)
3088.             o.save()
3089.             objectbs.append(o)
3090.         c_info = [("ein", objectas[2], objectbs[2]), ("zwei", objectas[1], objectbs[1])]
3091.         for name, objecta, objectb in c_info:
3092.             o = ObjectC(name=name, objecta=objecta, objectb=objectb)
3093.             o.save()
3094.             objectcs.append(o)
3095. 
3096.     def check_union(self, model, Q1, Q2):
3097.         filter = model.objects.filter
3098.         self.assertEqual(set(filter(Q1) | filter(Q2)), set(filter(Q1 | Q2)))
3099.         self.assertEqual(set(filter(Q2) | filter(Q1)), set(filter(Q1 | Q2)))
3100. 
3101.     def test_A_AB(self):
3102.         Q1 = Q(name="two")
3103.         Q2 = Q(objectb__name="deux")
3104.         self.check_union(ObjectA, Q1, Q2)
3105. 
3106.     def test_A_AB2(self):
3107.         Q1 = Q(name="two")
3108.         Q2 = Q(objectb__name="deux", objectb__num=2)
3109.         self.check_union(ObjectA, Q1, Q2)
3110. 
3111.     def test_AB_ACB(self):
3112.         Q1 = Q(objectb__name="deux")
3113.         Q2 = Q(objectc__objectb__name="deux")
3114.         self.check_union(ObjectA, Q1, Q2)
3115. 
3116.     def test_BAB_BAC(self):
3117.         Q1 = Q(objecta__objectb__name="deux")
3118.         Q2 = Q(objecta__objectc__name="ein")
3119.         self.check_union(ObjectB, Q1, Q2)
3120. 
3121.     def test_BAB_BACB(self):
3122.         Q1 = Q(objecta__objectb__name="deux")
3123.         Q2 = Q(objecta__objectc__objectb__name="trois")
3124.         self.check_union(ObjectB, Q1, Q2)
3125. 
3126.     def test_BA_BCA__BAB_BAC_BCA(self):
3127.         Q1 = Q(objecta__name="one", objectc__objecta__name="two")
3128.         Q2 = Q(
3129.             objecta__objectc__name="ein",
3130.             objectc__objecta__name="three",
3131.             objecta__objectb__name="trois",
3132.         )
3133.         self.check_union(ObjectB, Q1, Q2)
3134. 
3135. 
3136. class DefaultValuesInsertTest(TestCase):
3137.     def test_no_extra_params(self):
3138.         """
3139.         Can create an instance of a model with only the PK field (#17056)."
3140.         """
3141.         DumbCategory.objects.create()
3142. 
3143. 
3144. class ExcludeTests(TestCase):
3145.     @classmethod
3146.     def setUpTestData(cls):
3147.         f1 = Food.objects.create(name="apples")
3148.         cls.f2 = Food.objects.create(name="oranges")
3149.         Eaten.objects.create(food=f1, meal="dinner")
3150.         cls.j1 = Job.objects.create(name="Manager")
3151.         cls.r1 = Responsibility.objects.create(description="Playing golf")
3152.         cls.j2 = Job.objects.create(name="Programmer")
3153.         cls.r2 = Responsibility.objects.create(description="Programming")
3154.         JobResponsibilities.objects.create(job=cls.j1, responsibility=cls.r1)
3155.         JobResponsibilities.objects.create(job=cls.j2, responsibility=cls.r2)
3156. 
3157.     def test_to_field(self):
3158.         self.assertSequenceEqual(
3159.             Food.objects.exclude(eaten__meal="dinner"),
3160.             [self.f2],
3161.         )
3162.         self.assertSequenceEqual(
3163.             Job.objects.exclude(responsibilities__description="Playing golf"),
3164.             [self.j2],
3165.         )
3166.         self.assertSequenceEqual(
3167.             Responsibility.objects.exclude(jobs__name="Manager"),
3168.             [self.r2],
3169.         )
3170. 
3171.     def test_ticket14511(self):
3172.         alex = Person.objects.get_or_create(name="Alex")[0]
3173.         jane = Person.objects.get_or_create(name="Jane")[0]
3174. 
3175.         oracle = Company.objects.get_or_create(name="Oracle")[0]
3176.         google = Company.objects.get_or_create(name="Google")[0]
3177.         microsoft = Company.objects.get_or_create(name="Microsoft")[0]
3178.         intel = Company.objects.get_or_create(name="Intel")[0]
3179. 
3180.         def employ(employer, employee, title):
3181.             Employment.objects.get_or_create(
3182.                 employee=employee, employer=employer, title=title
3183.             )
3184. 
3185.         employ(oracle, alex, "Engineer")
3186.         employ(oracle, alex, "Developer")
3187.         employ(google, alex, "Engineer")
3188.         employ(google, alex, "Manager")
3189.         employ(microsoft, alex, "Manager")
3190.         employ(intel, alex, "Manager")
3191. 
3192.         employ(microsoft, jane, "Developer")
3193.         employ(intel, jane, "Manager")
3194. 
3195.         alex_tech_employers = (
3196.             alex.employers.filter(employment__title__in=("Engineer", "Developer"))
3197.             .distinct()
3198.             .order_by("name")
3199.         )
3200.         self.assertSequenceEqual(alex_tech_employers, [google, oracle])
3201. 
3202.         alex_nontech_employers = (
3203.             alex.employers.exclude(employment__title__in=("Engineer", "Developer"))
3204.             .distinct()
3205.             .order_by("name")
3206.         )
3207.         self.assertSequenceEqual(alex_nontech_employers, [google, intel, microsoft])
3208. 
3209.     def test_exclude_reverse_fk_field_ref(self):
3210.         tag = Tag.objects.create()
3211.         Note.objects.create(tag=tag, note="note")
3212.         annotation = Annotation.objects.create(name="annotation", tag=tag)
3213.         self.assertEqual(
3214.             Annotation.objects.exclude(tag__note__note=F("name")).get(), annotation
3215.         )
3216. 
3217.     def test_exclude_with_circular_fk_relation(self):
3218.         self.assertEqual(
3219.             ObjectB.objects.exclude(objecta__objectb__name=F("name")).count(), 0
3220.         )
3221. 
3222.     def test_subquery_exclude_outerref(self):
3223.         qs = JobResponsibilities.objects.filter(
3224.             Exists(Responsibility.objects.exclude(jobs=OuterRef("job"))),
3225.         )
3226.         self.assertTrue(qs.exists())
3227.         self.r1.delete()
3228.         self.assertFalse(qs.exists())
3229. 
3230.     def test_exclude_nullable_fields(self):
3231.         number = Number.objects.create(num=1, other_num=1)
3232.         Number.objects.create(num=2, other_num=2, another_num=2)
3233.         self.assertSequenceEqual(
3234.             Number.objects.exclude(other_num=F("another_num")),
3235.             [number],
3236.         )
3237.         self.assertSequenceEqual(
3238.             Number.objects.exclude(num=F("another_num")),
3239.             [number],
3240.         )
3241. 
3242.     def test_exclude_multivalued_exists(self):
3243.         with CaptureQueriesContext(connection) as captured_queries:
3244.             self.assertSequenceEqual(
3245.                 Job.objects.exclude(responsibilities__description="Programming"),
3246.                 [self.j1],
3247.             )
3248.         self.assertIn("exists", captured_queries[0]["sql"].lower())
3249. 
3250.     def test_exclude_subquery(self):
3251.         subquery = JobResponsibilities.objects.filter(
3252.             responsibility__description="bar",
3253.         ) | JobResponsibilities.objects.exclude(
3254.             job__responsibilities__description="foo",
3255.         )
3256.         self.assertCountEqual(
3257.             Job.objects.annotate(
3258.                 responsibility=subquery.filter(job=OuterRef("name"),).values(
3259.                     "id"
3260.                 )[:1]
3261.             ),
3262.             [self.j1, self.j2],
3263.         )
3264. 
3265.     @ignore_warnings(category=RemovedInDjango50Warning)
3266.     def test_exclude_unsaved_o2o_object(self):
3267.         jack = Staff.objects.create(name="jack")
3268.         jack_staff = StaffUser.objects.create(staff=jack)
3269.         unsaved_object = Staff(name="jane")
3270. 
3271.         self.assertIsNone(unsaved_object.pk)
3272.         self.assertSequenceEqual(
3273.             StaffUser.objects.exclude(staff=unsaved_object), [jack_staff]
3274.         )
3275. 
3276.     def test_exclude_unsaved_object(self):
3277.         # These tests will catch ValueError in Django 5.0 when passing unsaved
3278.         # model instances to related filters becomes forbidden.
3279.         # msg = "Model instances passed to related filters must be saved."
3280.         company = Company.objects.create(name="Django")
3281.         msg = "Passing unsaved model instances to related filters is deprecated."
3282.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
3283.             Employment.objects.exclude(employer=Company(name="unsaved"))
3284.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
3285.             Employment.objects.exclude(employer__in=[company, Company(name="unsaved")])
3286.         with self.assertWarnsMessage(RemovedInDjango50Warning, msg):
3287.             StaffUser.objects.exclude(staff=Staff(name="unsaved"))
3288. 
3289. 
3290. class ExcludeTest17600(TestCase):
3291.     """
3292.     Some regressiontests for ticket #17600. Some of these likely duplicate
3293.     other existing tests.
3294.     """
3295. 
3296.     @classmethod
3297.     def setUpTestData(cls):
3298.         # Create a few Orders.
3299.         cls.o1 = Order.objects.create(pk=1)
3300.         cls.o2 = Order.objects.create(pk=2)
3301.         cls.o3 = Order.objects.create(pk=3)
3302. 
3303.         # Create some OrderItems for the first order with homogeneous
3304.         # status_id values
3305.         cls.oi1 = OrderItem.objects.create(order=cls.o1, status=1)
3306.         cls.oi2 = OrderItem.objects.create(order=cls.o1, status=1)
3307.         cls.oi3 = OrderItem.objects.create(order=cls.o1, status=1)
3308. 
3309.         # Create some OrderItems for the second order with heterogeneous
3310.         # status_id values
3311.         cls.oi4 = OrderItem.objects.create(order=cls.o2, status=1)
3312.         cls.oi5 = OrderItem.objects.create(order=cls.o2, status=2)
3313.         cls.oi6 = OrderItem.objects.create(order=cls.o2, status=3)
3314. 
3315.         # Create some OrderItems for the second order with heterogeneous
3316.         # status_id values
3317.         cls.oi7 = OrderItem.objects.create(order=cls.o3, status=2)
3318.         cls.oi8 = OrderItem.objects.create(order=cls.o3, status=3)
3319.         cls.oi9 = OrderItem.objects.create(order=cls.o3, status=4)
3320. 
3321.     def test_exclude_plain(self):
3322.         """
3323.         This should exclude Orders which have some items with status 1
3324.         """
3325.         self.assertSequenceEqual(
3326.             Order.objects.exclude(items__status=1),
3327.             [self.o3],
3328.         )
3329. 
3330.     def test_exclude_plain_distinct(self):
3331.         """
3332.         This should exclude Orders which have some items with status 1
3333.         """
3334.         self.assertSequenceEqual(
3335.             Order.objects.exclude(items__status=1).distinct(),
3336.             [self.o3],
3337.         )
3338. 
3339.     def test_exclude_with_q_object_distinct(self):
3340.         """
3341.         This should exclude Orders which have some items with status 1
3342.         """
3343.         self.assertSequenceEqual(
3344.             Order.objects.exclude(Q(items__status=1)).distinct(),
3345.             [self.o3],
3346.         )
3347. 
3348.     def test_exclude_with_q_object_no_distinct(self):
3349.         """
3350.         This should exclude Orders which have some items with status 1
3351.         """
3352.         self.assertSequenceEqual(
3353.             Order.objects.exclude(Q(items__status=1)),
3354.             [self.o3],
3355.         )
3356. 
3357.     def test_exclude_with_q_is_equal_to_plain_exclude(self):
3358.         """
3359.         Using exclude(condition) and exclude(Q(condition)) should
3360.         yield the same QuerySet
3361.         """
3362.         self.assertEqual(
3363.             list(Order.objects.exclude(items__status=1).distinct()),
3364.             list(Order.objects.exclude(Q(items__status=1)).distinct()),
3365.         )
3366. 
3367.     def test_exclude_with_q_is_equal_to_plain_exclude_variation(self):
3368.         """
3369.         Using exclude(condition) and exclude(Q(condition)) should
3370.         yield the same QuerySet
3371.         """
3372.         self.assertEqual(
3373.             list(Order.objects.exclude(items__status=1)),
3374.             list(Order.objects.exclude(Q(items__status=1)).distinct()),
3375.         )
3376. 
3377.     @unittest.expectedFailure
3378.     def test_only_orders_with_all_items_having_status_1(self):
3379.         """
3380.         This should only return orders having ALL items set to status 1, or
3381.         those items not having any orders at all. The correct way to write
3382.         this query in SQL seems to be using two nested subqueries.
3383.         """
3384.         self.assertQuerysetEqual(
3385.             Order.objects.exclude(~Q(items__status=1)).distinct(),
3386.             [self.o1],
3387.         )
3388. 
3389. 
3390. class Exclude15786(TestCase):
3391.     """Regression test for #15786"""
3392. 
3393.     def test_ticket15786(self):
3394.         c1 = SimpleCategory.objects.create(name="c1")
3395.         c2 = SimpleCategory.objects.create(name="c2")
3396.         OneToOneCategory.objects.create(category=c1)
3397.         OneToOneCategory.objects.create(category=c2)
3398.         rel = CategoryRelationship.objects.create(first=c1, second=c2)
3399.         self.assertEqual(
3400.             CategoryRelationship.objects.exclude(
3401.                 first__onetoonecategory=F("second__onetoonecategory")
3402.             ).get(),
3403.             rel,
3404.         )
3405. 
3406. 
3407. class NullInExcludeTest(TestCase):
3408.     @classmethod
3409.     def setUpTestData(cls):
3410.         NullableName.objects.create(name="i1")
3411.         NullableName.objects.create()
3412. 
3413.     def test_null_in_exclude_qs(self):
3414.         none_val = "" if connection.features.interprets_empty_strings_as_nulls else None
3415.         self.assertQuerysetEqual(
3416.             NullableName.objects.exclude(name__in=[]),
3417.             ["i1", none_val],
3418.             attrgetter("name"),
3419.         )
3420.         self.assertQuerysetEqual(
3421.             NullableName.objects.exclude(name__in=["i1"]),
3422.             [none_val],
3423.             attrgetter("name"),
3424.         )
3425.         self.assertQuerysetEqual(
3426.             NullableName.objects.exclude(name__in=["i3"]),
3427.             ["i1", none_val],
3428.             attrgetter("name"),
3429.         )
3430.         inner_qs = NullableName.objects.filter(name="i1").values_list("name")
3431.         self.assertQuerysetEqual(
3432.             NullableName.objects.exclude(name__in=inner_qs),
3433.             [none_val],
3434.             attrgetter("name"),
3435.         )
3436.         # The inner queryset wasn't executed - it should be turned
3437.         # into subquery above
3438.         self.assertIs(inner_qs._result_cache, None)
3439. 
3440.     @unittest.expectedFailure
3441.     def test_col_not_in_list_containing_null(self):
3442.         """
3443.         The following case is not handled properly because
3444.         SQL's COL NOT IN (list containing null) handling is too weird to
3445.         abstract away.
3446.         """
3447.         self.assertQuerysetEqual(
3448.             NullableName.objects.exclude(name__in=[None]), ["i1"], attrgetter("name")
3449.         )
3450. 
3451.     def test_double_exclude(self):
3452.         self.assertEqual(
3453.             list(NullableName.objects.filter(~~Q(name="i1"))),
3454.             list(NullableName.objects.filter(Q(name="i1"))),
3455.         )
3456.         self.assertNotIn(
3457.             "IS NOT NULL", str(NullableName.objects.filter(~~Q(name="i1")).query)
3458.         )
3459. 
3460. 
3461. class EmptyStringsAsNullTest(TestCase):
3462.     """
3463.     Filtering on non-null character fields works as expected.
3464.     The reason for these tests is that Oracle treats '' as NULL, and this
3465.     can cause problems in query construction. Refs #17957.
3466.     """
3467. 
3468.     @classmethod
3469.     def setUpTestData(cls):
3470.         cls.nc = NamedCategory.objects.create(name="")
3471. 
3472.     def test_direct_exclude(self):
3473.         self.assertQuerysetEqual(
3474.             NamedCategory.objects.exclude(name__in=["nonexistent"]),
3475.             [self.nc.pk],
3476.             attrgetter("pk"),
3477.         )
3478. 
3479.     def test_joined_exclude(self):
3480.         self.assertQuerysetEqual(
3481.             DumbCategory.objects.exclude(namedcategory__name__in=["nonexistent"]),
3482.             [self.nc.pk],
3483.             attrgetter("pk"),
3484.         )
3485. 
3486.     def test_21001(self):
3487.         foo = NamedCategory.objects.create(name="foo")
3488.         self.assertQuerysetEqual(
3489.             NamedCategory.objects.exclude(name=""), [foo.pk], attrgetter("pk")
3490.         )
3491. 
3492. 
3493. class ProxyQueryCleanupTest(TestCase):
3494.     def test_evaluated_proxy_count(self):
3495.         """
3496.         Generating the query string doesn't alter the query's state
3497.         in irreversible ways. Refs #18248.
3498.         """
3499.         ProxyCategory.objects.create()
3500.         qs = ProxyCategory.objects.all()
3501.         self.assertEqual(qs.count(), 1)
3502.         str(qs.query)
3503.         self.assertEqual(qs.count(), 1)
3504. 
3505. 
3506. class WhereNodeTest(SimpleTestCase):
3507.     class DummyNode:
3508.         def as_sql(self, compiler, connection):
3509.             return "dummy", []
3510. 
3511.     class MockCompiler:
3512.         def compile(self, node):
3513.             return node.as_sql(self, connection)
3514. 
3515.         def __call__(self, name):
3516.             return connection.ops.quote_name(name)
3517. 
3518.     def test_empty_full_handling_conjunction(self):
3519.         compiler = WhereNodeTest.MockCompiler()
3520.         w = WhereNode(children=[NothingNode()])
3521.         with self.assertRaises(EmptyResultSet):
3522.             w.as_sql(compiler, connection)
3523.         w.negate()
3524.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3525.         w = WhereNode(children=[self.DummyNode(), self.DummyNode()])
3526.         self.assertEqual(w.as_sql(compiler, connection), ("(dummy AND dummy)", []))
3527.         w.negate()
3528.         self.assertEqual(w.as_sql(compiler, connection), ("NOT (dummy AND dummy)", []))
3529.         w = WhereNode(children=[NothingNode(), self.DummyNode()])
3530.         with self.assertRaises(EmptyResultSet):
3531.             w.as_sql(compiler, connection)
3532.         w.negate()
3533.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3534. 
3535.     def test_empty_full_handling_disjunction(self):
3536.         compiler = WhereNodeTest.MockCompiler()
3537.         w = WhereNode(children=[NothingNode()], connector="OR")
3538.         with self.assertRaises(EmptyResultSet):
3539.             w.as_sql(compiler, connection)
3540.         w.negate()
3541.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3542.         w = WhereNode(children=[self.DummyNode(), self.DummyNode()], connector="OR")
3543.         self.assertEqual(w.as_sql(compiler, connection), ("(dummy OR dummy)", []))
3544.         w.negate()
3545.         self.assertEqual(w.as_sql(compiler, connection), ("NOT (dummy OR dummy)", []))
3546.         w = WhereNode(children=[NothingNode(), self.DummyNode()], connector="OR")
3547.         self.assertEqual(w.as_sql(compiler, connection), ("dummy", []))
3548.         w.negate()
3549.         self.assertEqual(w.as_sql(compiler, connection), ("NOT (dummy)", []))
3550. 
3551.     def test_empty_nodes(self):
3552.         compiler = WhereNodeTest.MockCompiler()
3553.         empty_w = WhereNode()
3554.         w = WhereNode(children=[empty_w, empty_w])
3555.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3556.         w.negate()
3557.         with self.assertRaises(EmptyResultSet):
3558.             w.as_sql(compiler, connection)
3559.         w.connector = "OR"
3560.         with self.assertRaises(EmptyResultSet):
3561.             w.as_sql(compiler, connection)
3562.         w.negate()
3563.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3564.         w = WhereNode(children=[empty_w, NothingNode()], connector="OR")
3565.         self.assertEqual(w.as_sql(compiler, connection), ("", []))
3566.         w = WhereNode(children=[empty_w, NothingNode()], connector="AND")
3567.         with self.assertRaises(EmptyResultSet):
3568.             w.as_sql(compiler, connection)
3569. 
3570. 
3571. class QuerySetExceptionTests(SimpleTestCase):
3572.     def test_iter_exceptions(self):
3573.         qs = ExtraInfo.objects.only("author")
3574.         msg = "'ManyToOneRel' object has no attribute 'attname'"
3575.         with self.assertRaisesMessage(AttributeError, msg):
3576.             list(qs)
3577. 
3578.     def test_invalid_order_by(self):
3579.         msg = "Cannot resolve keyword '*' into field. Choices are: created, id, name"
3580.         with self.assertRaisesMessage(FieldError, msg):
3581.             Article.objects.order_by("*")
3582. 
3583.     def test_invalid_order_by_raw_column_alias(self):
3584.         msg = (
3585.             "Cannot resolve keyword 'queries_author.name' into field. Choices "
3586.             "are: cover, created, creator, creator_id, id, modified, name, "
3587.             "note, note_id, tags"
3588.         )
3589.         with self.assertRaisesMessage(FieldError, msg):
3590.             Item.objects.values("creator__name").order_by("queries_author.name")
3591. 
3592.     def test_invalid_queryset_model(self):
3593.         msg = 'Cannot use QuerySet for "Article": Use a QuerySet for "ExtraInfo".'
3594.         with self.assertRaisesMessage(ValueError, msg):
3595.             list(Author.objects.filter(extra=Article.objects.all()))
3596. 
3597. 
3598. class NullJoinPromotionOrTest(TestCase):
3599.     @classmethod
3600.     def setUpTestData(cls):
3601.         cls.d1 = ModelD.objects.create(name="foo")
3602.         d2 = ModelD.objects.create(name="bar")
3603.         cls.a1 = ModelA.objects.create(name="a1", d=cls.d1)
3604.         c = ModelC.objects.create(name="c")
3605.         b = ModelB.objects.create(name="b", c=c)
3606.         cls.a2 = ModelA.objects.create(name="a2", b=b, d=d2)
3607. 
3608.     def test_ticket_17886(self):
3609.         # The first Q-object is generating the match, the rest of the filters
3610.         # should not remove the match even if they do not match anything. The
3611.         # problem here was that b__name generates a LOUTER JOIN, then
3612.         # b__c__name generates join to c, which the ORM tried to promote but
3613.         # failed as that join isn't nullable.
3614.         q_obj = Q(d__name="foo") | Q(b__name="foo") | Q(b__c__name="foo")
3615.         qset = ModelA.objects.filter(q_obj)
3616.         self.assertEqual(list(qset), [self.a1])
3617.         # We generate one INNER JOIN to D. The join is direct and not nullable
3618.         # so we can use INNER JOIN for it. However, we can NOT use INNER JOIN
3619.         # for the b->c join, as a->b is nullable.
3620.         self.assertEqual(str(qset.query).count("INNER JOIN"), 1)
3621. 
3622.     def test_isnull_filter_promotion(self):
3623.         qs = ModelA.objects.filter(Q(b__name__isnull=True))
3624.         self.assertEqual(str(qs.query).count("LEFT OUTER"), 1)
3625.         self.assertEqual(list(qs), [self.a1])
3626. 
3627.         qs = ModelA.objects.filter(~Q(b__name__isnull=True))
3628.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3629.         self.assertEqual(list(qs), [self.a2])
3630. 
3631.         qs = ModelA.objects.filter(~~Q(b__name__isnull=True))
3632.         self.assertEqual(str(qs.query).count("LEFT OUTER"), 1)
3633.         self.assertEqual(list(qs), [self.a1])
3634. 
3635.         qs = ModelA.objects.filter(Q(b__name__isnull=False))
3636.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3637.         self.assertEqual(list(qs), [self.a2])
3638. 
3639.         qs = ModelA.objects.filter(~Q(b__name__isnull=False))
3640.         self.assertEqual(str(qs.query).count("LEFT OUTER"), 1)
3641.         self.assertEqual(list(qs), [self.a1])
3642. 
3643.         qs = ModelA.objects.filter(~~Q(b__name__isnull=False))
3644.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3645.         self.assertEqual(list(qs), [self.a2])
3646. 
3647.     def test_null_join_demotion(self):
3648.         qs = ModelA.objects.filter(Q(b__name__isnull=False) & Q(b__name__isnull=True))
3649.         self.assertIn(" INNER JOIN ", str(qs.query))
3650.         qs = ModelA.objects.filter(Q(b__name__isnull=True) & Q(b__name__isnull=False))
3651.         self.assertIn(" INNER JOIN ", str(qs.query))
3652.         qs = ModelA.objects.filter(Q(b__name__isnull=False) | Q(b__name__isnull=True))
3653.         self.assertIn(" LEFT OUTER JOIN ", str(qs.query))
3654.         qs = ModelA.objects.filter(Q(b__name__isnull=True) | Q(b__name__isnull=False))
3655.         self.assertIn(" LEFT OUTER JOIN ", str(qs.query))
3656. 
3657.     def test_ticket_21366(self):
3658.         n = Note.objects.create(note="n", misc="m")
3659.         e = ExtraInfo.objects.create(info="info", note=n)
3660.         a = Author.objects.create(name="Author1", num=1, extra=e)
3661.         Ranking.objects.create(rank=1, author=a)
3662.         r1 = Report.objects.create(name="Foo", creator=a)
3663.         r2 = Report.objects.create(name="Bar")
3664.         Report.objects.create(name="Bar", creator=a)
3665.         qs = Report.objects.filter(
3666.             Q(creator__ranking__isnull=True) | Q(creator__ranking__rank=1, name="Foo")
3667.         )
3668.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3669.         self.assertEqual(str(qs.query).count(" JOIN "), 2)
3670.         self.assertSequenceEqual(qs.order_by("name"), [r2, r1])
3671. 
3672.     def test_ticket_21748(self):
3673.         i1 = Identifier.objects.create(name="i1")
3674.         i2 = Identifier.objects.create(name="i2")
3675.         i3 = Identifier.objects.create(name="i3")
3676.         Program.objects.create(identifier=i1)
3677.         Channel.objects.create(identifier=i1)
3678.         Program.objects.create(identifier=i2)
3679.         self.assertSequenceEqual(
3680.             Identifier.objects.filter(program=None, channel=None), [i3]
3681.         )
3682.         self.assertSequenceEqual(
3683.             Identifier.objects.exclude(program=None, channel=None).order_by("name"),
3684.             [i1, i2],
3685.         )
3686. 
3687.     def test_ticket_21748_double_negated_and(self):
3688.         i1 = Identifier.objects.create(name="i1")
3689.         i2 = Identifier.objects.create(name="i2")
3690.         Identifier.objects.create(name="i3")
3691.         p1 = Program.objects.create(identifier=i1)
3692.         c1 = Channel.objects.create(identifier=i1)
3693.         Program.objects.create(identifier=i2)
3694.         # Check the ~~Q() (or equivalently .exclude(~Q)) works like Q() for
3695.         # join promotion.
3696.         qs1_doubleneg = Identifier.objects.exclude(
3697.             ~Q(program__id=p1.id, channel__id=c1.id)
3698.         ).order_by("pk")
3699.         qs1_filter = Identifier.objects.filter(
3700.             program__id=p1.id, channel__id=c1.id
3701.         ).order_by("pk")
3702.         self.assertQuerysetEqual(qs1_doubleneg, qs1_filter, lambda x: x)
3703.         self.assertEqual(
3704.             str(qs1_filter.query).count("JOIN"), str(qs1_doubleneg.query).count("JOIN")
3705.         )
3706.         self.assertEqual(2, str(qs1_doubleneg.query).count("INNER JOIN"))
3707.         self.assertEqual(
3708.             str(qs1_filter.query).count("INNER JOIN"),
3709.             str(qs1_doubleneg.query).count("INNER JOIN"),
3710.         )
3711. 
3712.     def test_ticket_21748_double_negated_or(self):
3713.         i1 = Identifier.objects.create(name="i1")
3714.         i2 = Identifier.objects.create(name="i2")
3715.         Identifier.objects.create(name="i3")
3716.         p1 = Program.objects.create(identifier=i1)
3717.         c1 = Channel.objects.create(identifier=i1)
3718.         p2 = Program.objects.create(identifier=i2)
3719.         # Test OR + doubleneg. The expected result is that channel is LOUTER
3720.         # joined, program INNER joined
3721.         qs1_filter = Identifier.objects.filter(
3722.             Q(program__id=p2.id, channel__id=c1.id) | Q(program__id=p1.id)
3723.         ).order_by("pk")
3724.         qs1_doubleneg = Identifier.objects.exclude(
3725.             ~Q(Q(program__id=p2.id, channel__id=c1.id) | Q(program__id=p1.id))
3726.         ).order_by("pk")
3727.         self.assertQuerysetEqual(qs1_doubleneg, qs1_filter, lambda x: x)
3728.         self.assertEqual(
3729.             str(qs1_filter.query).count("JOIN"), str(qs1_doubleneg.query).count("JOIN")
3730.         )
3731.         self.assertEqual(1, str(qs1_doubleneg.query).count("INNER JOIN"))
3732.         self.assertEqual(
3733.             str(qs1_filter.query).count("INNER JOIN"),
3734.             str(qs1_doubleneg.query).count("INNER JOIN"),
3735.         )
3736. 
3737.     def test_ticket_21748_complex_filter(self):
3738.         i1 = Identifier.objects.create(name="i1")
3739.         i2 = Identifier.objects.create(name="i2")
3740.         Identifier.objects.create(name="i3")
3741.         p1 = Program.objects.create(identifier=i1)
3742.         c1 = Channel.objects.create(identifier=i1)
3743.         p2 = Program.objects.create(identifier=i2)
3744.         # Finally, a more complex case, one time in a way where each
3745.         # NOT is pushed to lowest level in the boolean tree, and
3746.         # another query where this isn't done.
3747.         qs1 = Identifier.objects.filter(
3748.             ~Q(~Q(program__id=p2.id, channel__id=c1.id) & Q(program__id=p1.id))
3749.         ).order_by("pk")
3750.         qs2 = Identifier.objects.filter(
3751.             Q(Q(program__id=p2.id, channel__id=c1.id) | ~Q(program__id=p1.id))
3752.         ).order_by("pk")
3753.         self.assertQuerysetEqual(qs1, qs2, lambda x: x)
3754.         self.assertEqual(str(qs1.query).count("JOIN"), str(qs2.query).count("JOIN"))
3755.         self.assertEqual(0, str(qs1.query).count("INNER JOIN"))
3756.         self.assertEqual(
3757.             str(qs1.query).count("INNER JOIN"), str(qs2.query).count("INNER JOIN")
3758.         )
3759. 
3760. 
3761. class ReverseJoinTrimmingTest(TestCase):
3762.     def test_reverse_trimming(self):
3763.         # We don't accidentally trim reverse joins - we can't know if there is
3764.         # anything on the other side of the join, so trimming reverse joins
3765.         # can't be done, ever.
3766.         t = Tag.objects.create()
3767.         qs = Tag.objects.filter(annotation__tag=t.pk)
3768.         self.assertIn("INNER JOIN", str(qs.query))
3769.         self.assertEqual(list(qs), [])
3770. 
3771. 
3772. class JoinReuseTest(TestCase):
3773.     """
3774.     The queries reuse joins sensibly (for example, direct joins
3775.     are always reused).
3776.     """
3777. 
3778.     def test_fk_reuse(self):
3779.         qs = Annotation.objects.filter(tag__name="foo").filter(tag__name="bar")
3780.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3781. 
3782.     def test_fk_reuse_select_related(self):
3783.         qs = Annotation.objects.filter(tag__name="foo").select_related("tag")
3784.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3785. 
3786.     def test_fk_reuse_annotation(self):
3787.         qs = Annotation.objects.filter(tag__name="foo").annotate(cnt=Count("tag__name"))
3788.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3789. 
3790.     def test_fk_reuse_disjunction(self):
3791.         qs = Annotation.objects.filter(Q(tag__name="foo") | Q(tag__name="bar"))
3792.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3793. 
3794.     def test_fk_reuse_order_by(self):
3795.         qs = Annotation.objects.filter(tag__name="foo").order_by("tag__name")
3796.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3797. 
3798.     def test_revo2o_reuse(self):
3799.         qs = Detail.objects.filter(member__name="foo").filter(member__name="foo")
3800.         self.assertEqual(str(qs.query).count("JOIN"), 1)
3801. 
3802.     def test_revfk_noreuse(self):
3803.         qs = Author.objects.filter(report__name="r4").filter(report__name="r1")
3804.         self.assertEqual(str(qs.query).count("JOIN"), 2)
3805. 
3806.     def test_inverted_q_across_relations(self):
3807.         """
3808.         When a trimmable join is specified in the query (here school__), the
3809.         ORM detects it and removes unnecessary joins. The set of reusable joins
3810.         are updated after trimming the query so that other lookups don't
3811.         consider that the outer query's filters are in effect for the subquery
3812.         (#26551).
3813.         """
3814.         springfield_elementary = School.objects.create()
3815.         hogward = School.objects.create()
3816.         Student.objects.create(school=springfield_elementary)
3817.         hp = Student.objects.create(school=hogward)
3818.         Classroom.objects.create(school=hogward, name="Potion")
3819.         Classroom.objects.create(school=springfield_elementary, name="Main")
3820.         qs = Student.objects.filter(
3821.             ~(
3822.                 Q(school__classroom__name="Main")
3823.                 & Q(school__classroom__has_blackboard=None)
3824.             )
3825.         )
3826.         self.assertSequenceEqual(qs, [hp])
3827. 
3828. 
3829. class DisjunctionPromotionTests(TestCase):
3830.     def test_disjunction_promotion_select_related(self):
3831.         fk1 = FK1.objects.create(f1="f1", f2="f2")
3832.         basea = BaseA.objects.create(a=fk1)
3833.         qs = BaseA.objects.filter(Q(a=fk1) | Q(b=2))
3834.         self.assertEqual(str(qs.query).count(" JOIN "), 0)
3835.         qs = qs.select_related("a", "b")
3836.         self.assertEqual(str(qs.query).count(" INNER JOIN "), 0)
3837.         self.assertEqual(str(qs.query).count(" LEFT OUTER JOIN "), 2)
3838.         with self.assertNumQueries(1):
3839.             self.assertSequenceEqual(qs, [basea])
3840.             self.assertEqual(qs[0].a, fk1)
3841.             self.assertIs(qs[0].b, None)
3842. 
3843.     def test_disjunction_promotion1(self):
3844.         # Pre-existing join, add two ORed filters to the same join,
3845.         # all joins can be INNER JOINS.
3846.         qs = BaseA.objects.filter(a__f1="foo")
3847.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3848.         qs = qs.filter(Q(b__f1="foo") | Q(b__f2="foo"))
3849.         self.assertEqual(str(qs.query).count("INNER JOIN"), 2)
3850.         # Reverse the order of AND and OR filters.
3851.         qs = BaseA.objects.filter(Q(b__f1="foo") | Q(b__f2="foo"))
3852.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3853.         qs = qs.filter(a__f1="foo")
3854.         self.assertEqual(str(qs.query).count("INNER JOIN"), 2)
3855. 
3856.     def test_disjunction_promotion2(self):
3857.         qs = BaseA.objects.filter(a__f1="foo")
3858.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3859.         # Now we have two different joins in an ORed condition, these
3860.         # must be OUTER joins. The pre-existing join should remain INNER.
3861.         qs = qs.filter(Q(b__f1="foo") | Q(c__f2="foo"))
3862.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3863.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3864.         # Reverse case.
3865.         qs = BaseA.objects.filter(Q(b__f1="foo") | Q(c__f2="foo"))
3866.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3867.         qs = qs.filter(a__f1="foo")
3868.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3869.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3870. 
3871.     def test_disjunction_promotion3(self):
3872.         qs = BaseA.objects.filter(a__f2="bar")
3873.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3874.         # The ANDed a__f2 filter allows us to use keep using INNER JOIN
3875.         # even inside the ORed case. If the join to a__ returns nothing,
3876.         # the ANDed filter for a__f2 can't be true.
3877.         qs = qs.filter(Q(a__f1="foo") | Q(b__f2="foo"))
3878.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3879.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3880. 
3881.     def test_disjunction_promotion3_demote(self):
3882.         # This one needs demotion logic: the first filter causes a to be
3883.         # outer joined, the second filter makes it inner join again.
3884.         qs = BaseA.objects.filter(Q(a__f1="foo") | Q(b__f2="foo")).filter(a__f2="bar")
3885.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3886.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3887. 
3888.     def test_disjunction_promotion4_demote(self):
3889.         qs = BaseA.objects.filter(Q(a=1) | Q(a=2))
3890.         self.assertEqual(str(qs.query).count("JOIN"), 0)
3891.         # Demote needed for the "a" join. It is marked as outer join by
3892.         # above filter (even if it is trimmed away).
3893.         qs = qs.filter(a__f1="foo")
3894.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3895. 
3896.     def test_disjunction_promotion4(self):
3897.         qs = BaseA.objects.filter(a__f1="foo")
3898.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3899.         qs = qs.filter(Q(a=1) | Q(a=2))
3900.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3901. 
3902.     def test_disjunction_promotion5_demote(self):
3903.         qs = BaseA.objects.filter(Q(a=1) | Q(a=2))
3904.         # Note that the above filters on a force the join to an
3905.         # inner join even if it is trimmed.
3906.         self.assertEqual(str(qs.query).count("JOIN"), 0)
3907.         qs = qs.filter(Q(a__f1="foo") | Q(b__f1="foo"))
3908.         # So, now the a__f1 join doesn't need promotion.
3909.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3910.         # But b__f1 does.
3911.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3912.         qs = BaseA.objects.filter(Q(a__f1="foo") | Q(b__f1="foo"))
3913.         # Now the join to a is created as LOUTER
3914.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3915.         qs = qs.filter(Q(a=1) | Q(a=2))
3916.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3917.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3918. 
3919.     def test_disjunction_promotion6(self):
3920.         qs = BaseA.objects.filter(Q(a=1) | Q(a=2))
3921.         self.assertEqual(str(qs.query).count("JOIN"), 0)
3922.         qs = BaseA.objects.filter(Q(a__f1="foo") & Q(b__f1="foo"))
3923.         self.assertEqual(str(qs.query).count("INNER JOIN"), 2)
3924.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 0)
3925. 
3926.         qs = BaseA.objects.filter(Q(a__f1="foo") & Q(b__f1="foo"))
3927.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 0)
3928.         self.assertEqual(str(qs.query).count("INNER JOIN"), 2)
3929.         qs = qs.filter(Q(a=1) | Q(a=2))
3930.         self.assertEqual(str(qs.query).count("INNER JOIN"), 2)
3931.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 0)
3932. 
3933.     def test_disjunction_promotion7(self):
3934.         qs = BaseA.objects.filter(Q(a=1) | Q(a=2))
3935.         self.assertEqual(str(qs.query).count("JOIN"), 0)
3936.         qs = BaseA.objects.filter(Q(a__f1="foo") | (Q(b__f1="foo") & Q(a__f1="bar")))
3937.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3938.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3939.         qs = BaseA.objects.filter(
3940.             (Q(a__f1="foo") | Q(b__f1="foo")) & (Q(a__f1="bar") | Q(c__f1="foo"))
3941.         )
3942.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 3)
3943.         self.assertEqual(str(qs.query).count("INNER JOIN"), 0)
3944.         qs = BaseA.objects.filter(
3945.             Q(a__f1="foo") | Q(a__f1="bar") & (Q(b__f1="bar") | Q(c__f1="foo"))
3946.         )
3947.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3948.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3949. 
3950.     def test_disjunction_promotion_fexpression(self):
3951.         qs = BaseA.objects.filter(Q(a__f1=F("b__f1")) | Q(b__f1="foo"))
3952.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 1)
3953.         self.assertEqual(str(qs.query).count("INNER JOIN"), 1)
3954.         qs = BaseA.objects.filter(Q(a__f1=F("c__f1")) | Q(b__f1="foo"))
3955.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 3)
3956.         qs = BaseA.objects.filter(
3957.             Q(a__f1=F("b__f1")) | Q(a__f2=F("b__f2")) | Q(c__f1="foo")
3958.         )
3959.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 3)
3960.         qs = BaseA.objects.filter(Q(a__f1=F("c__f1")) | (Q(pk=1) & Q(pk=2)))
3961.         self.assertEqual(str(qs.query).count("LEFT OUTER JOIN"), 2)
3962.         self.assertEqual(str(qs.query).count("INNER JOIN"), 0)
3963. 
3964. 
3965. class ManyToManyExcludeTest(TestCase):
3966.     def test_exclude_many_to_many(self):
3967.         i_extra = Identifier.objects.create(name="extra")
3968.         i_program = Identifier.objects.create(name="program")
3969.         program = Program.objects.create(identifier=i_program)
3970.         i_channel = Identifier.objects.create(name="channel")
3971.         channel = Channel.objects.create(identifier=i_channel)
3972.         channel.programs.add(program)
3973. 
3974.         # channel contains 'program1', so all Identifiers except that one
3975.         # should be returned
3976.         self.assertSequenceEqual(
3977.             Identifier.objects.exclude(program__channel=channel).order_by("name"),
3978.             [i_channel, i_extra],
3979.         )
3980.         self.assertSequenceEqual(
3981.             Identifier.objects.exclude(program__channel=None).order_by("name"),
3982.             [i_program],
3983.         )
3984. 
3985.     def test_ticket_12823(self):
3986.         pg3 = Page.objects.create(text="pg3")
3987.         pg2 = Page.objects.create(text="pg2")
3988.         pg1 = Page.objects.create(text="pg1")
3989.         pa1 = Paragraph.objects.create(text="pa1")
3990.         pa1.page.set([pg1, pg2])
3991.         pa2 = Paragraph.objects.create(text="pa2")
3992.         pa2.page.set([pg2, pg3])
3993.         pa3 = Paragraph.objects.create(text="pa3")
3994.         ch1 = Chapter.objects.create(title="ch1", paragraph=pa1)
3995.         ch2 = Chapter.objects.create(title="ch2", paragraph=pa2)
3996.         ch3 = Chapter.objects.create(title="ch3", paragraph=pa3)
3997.         b1 = Book.objects.create(title="b1", chapter=ch1)
3998.         b2 = Book.objects.create(title="b2", chapter=ch2)
3999.         b3 = Book.objects.create(title="b3", chapter=ch3)
4000.         q = Book.objects.exclude(chapter__paragraph__page__text="pg1")

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 23:10:20,586 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for test cases involving multiple joins on the same table.\n   - This context defines the `Tag` model, which has a self-referencing ForeignKey, and the `Annotation` model, which has a ManyToManyField to `Note`. These are used in `test_ticket4464` and `JoinReuseTest` to demonstrate multiple join scenarios.\n2. Extended relevance:\n   - These model definitions are essential to understand the structure of the data and relationships being tested in the query.', relative_path='tests/queries/models.py', start_line=8, end_line=64), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for test cases involving multiple joins on the same table.\n   - This context defines the `Author`, `Item`, `Report`, and `Ranking` models. These models are interconnected with ForeignKeys and are used in `test_ticket2306` and `JoinReuseTest` to create queries with multiple joins.\n2. Extended relevance:\n   - The `Ranking` model's `Meta.ordering` option involves multiple fields and relations, making it a good candidate for complex query tests. The `Report` model's `to_field` argument is also relevant for non-standard joins.", relative_path='tests/queries/models.py', start_line=70, end_line=133), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for test cases involving multiple joins on the same table.\n   - This context defines the `Detail` and `Member` models, which have a OneToOneField relationship.\n2. Extended relevance:\n   - These models are used in `JoinReuseTest` to demonstrate how joins are handled and reused with one-to-one relationships, which is a specific type of join.', relative_path='tests/queries/models.py', start_line=228, end_line=247), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for test cases. This context provides the setup data for the tests.\n2. Extended relevance:\n   - This `setUpTestData` method creates the model instances (`Tag`, `Item`, `Author`, `Ranking`, etc.) that are used in `test_ticket2306` and `test_ticket4464`. Without this context, the assertions in the tests would be meaningless.', relative_path='tests/queries/tests.py', start_line=117, end_line=181), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for tests with multiple joins on the same table.\n   - This test, `test_ticket2306`, explicitly demonstrates how a single filter with multiple conditions creates one join, while chaining two filter calls creates two joins to the `ranking` table.\n2. Extended relevance:\n   - It directly answers the user's need for an example of multiple joins by showing the difference in the number of active tables.", relative_path='tests/queries/tests.py', start_line=252, end_line=257), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for tests with multiple joins on the same table.\n   - This test, `test_ticket4464`, shows a filter that chains calls on a many-to-many field (`tags`). This requires multiple joins to the intermediary table to find items that match both tags.\n2. Extended relevance:\n   - This is a classic example of a multi-join query on a many-to-many relationship, which is directly relevant to the user's request.", relative_path='tests/queries/tests.py', start_line=259, end_line=263), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user is looking for test cases. This context provides the setup data for `Queries4Tests`.\n2. Extended relevance:\n   - This `setUpTestData` method creates the model instances used in `test_combine_join_reuse`. This data is necessary to understand the test's logic and assertions.", relative_path='tests/queries/tests.py', start_line=1440, end_line=1464), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is interested in multiple joins on the same table.\n   - This test, `test_combine_join_reuse`, demonstrates a query that filters on the `report` relation twice (`.filter(report__name="r4").filter(report__name="r1")`) and checks the number of resulting joins.\n2. Extended relevance:\n   - This is a clear example of how chained filters on the same relation are translated into SQL joins, which is what the user is looking for.', relative_path='tests/queries/tests.py', start_line=1530, end_line=1540), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user is looking for examples of multiple joins on the same table.\n   - The `JoinReuseTest` class is entirely dedicated to testing join reuse. `test_revfk_noreuse` is a perfect example, as it filters twice on a reverse foreign key and asserts that two joins are created.\n2. Extended relevance:\n   - The other tests in this class provide valuable contrast by showing when joins *are* reused, helping to illustrate the underlying ORM behavior that the user is investigating. The class as a whole provides a comprehensive overview of join behavior.', relative_path='tests/queries/tests.py', start_line=3772, end_line=3827)]
2025-12-24 23:10:20,592 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 9 contexts to memory for query: Please provide the full content of `tests/queries/tests.py` and `tests/queries/models.py`.
2025-12-24 23:10:20,592 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 23:10:20,592 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 23:10:20,593 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 9 new contexts to 3 existing contexts
2025-12-24 23:10:20,593 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 12 total contexts (removed 0 duplicates)
2025-12-24 23:10:20,593 - thread-128178332890816.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-24 23:10:20,594 - thread-128178332890816.prometheus_context_collector - INFO - Successfully retrieved 12 context snippets
