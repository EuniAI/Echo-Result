2025-12-23 02:21:53,439 - thread-135988890285760.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: glossary duplicate term with a different case

Description: **Describe the bug**
```
Warning, treated as error:
doc/glossary.rst:243:duplicate term description of mysql, other instance in glossary
```

**To Reproduce**
Steps to reproduce the behavior:
[.travis.yml#L168](https://github.com/phpmyadmin/phpmyadmin/blob/f7cc383674b7099190771b1db510c62bfbbf89a7/.travis.yml#L168)
```
$ git clone --depth 1 https://github.com/phpmyadmin/phpmyadmin.git
$ cd doc
$ pip install 'Sphinx'
$ make html
```

**Expected behavior**
MySQL != mysql term right ?

**Your project**
https://github.com/phpmyadmin/phpmyadmin/blame/master/doc/glossary.rst#L234


**Environment info**
- OS: Unix
- Python version: 3.6
- Sphinx version: 3.0.0

**Additional context**
Did occur some hours ago, maybe you just released the version

- https://travis-ci.org/github/williamdes/phpmyadmintest/jobs/671352365#L328



Patch information:
diff --git a/sphinx/domains/std.py b/sphinx/domains/std.py
index d820cfe5c..907ddee1c 100644
--- a/sphinx/domains/std.py
+++ b/sphinx/domains/std.py
@@ -305,7 +305,7 @@ def make_glossary_term(env: "BuildEnvironment", textnodes: Iterable[Node], index
         term['ids'].append(node_id)
 
     std = cast(StandardDomain, env.get_domain('std'))
-    std.note_object('term', termtext.lower(), node_id, location=term)
+    std.note_object('term', termtext, node_id, location=term)
 
     # add an index entry too
     indexnode = addnodes.index()
@@ -428,7 +428,7 @@ class Glossary(SphinxDirective):
 
         if 'sorted' in self.options:
             items.sort(key=lambda x:
-                       unicodedata.normalize('NFD', x[0][0].lower()))
+                       unicodedata.normalize('NFD', x[0][0]))
 
         dlist = nodes.definition_list()
         dlist['classes'].append('glossary')
@@ -565,7 +565,7 @@ class StandardDomain(Domain):
         # links to tokens in grammar productions
         'token':   TokenXRefRole(),
         # links to terms in glossary
-        'term':    XRefRole(lowercase=True, innernodeclass=nodes.inline,
+        'term':    XRefRole(lowercase=False, innernodeclass=nodes.inline,
                             warn_dangling=True),
         # links to headings or arbitrary labels
         'ref':     XRefRole(lowercase=True, innernodeclass=nodes.inline,
@@ -953,8 +953,14 @@ class StandardDomain(Domain):
         for objtype in self.object_types:
             key = (objtype, target)
             if objtype == 'term':
-                key = (objtype, ltarget)
-            if key in self.objects:
+                # For terms, try case-sensitive match first, then fallback to case-insensitive
+                if key in self.objects:
+                    docname, labelid = self.objects[key]
+                    results.append(('std:' + self.role_for_objtype(objtype),
+                                    make_refnode(builder, fromdocname, docname,
+                                                 labelid, contnode)))
+                # No fallback to case-insensitive for terms
+            elif key in self.objects:
                 docname, labelid = self.objects[key]
                 results.append(('std:' + self.role_for_objtype(objtype),
                                 make_refnode(builder, fromdocname, docname,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 02:21:53,515 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .appveyor.yml
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   └── PULL_REQUEST_TEMPLATE.md
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   └── __init__.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.4.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   ├── layout.html
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_autodoc.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: glossary duplicate term with a different case

Description: **Describe the bug**
```
Warning, treated as error:
doc/glossary.rst:243:duplicate term description of mysql, other instance in glossary
```

**To Reproduce**
Steps to reproduce the behavior:
[.travis.yml#L168](https://github.com/phpmyadmin/phpmyadmin/blob/f7cc383674b7099190771b1db510c62bfbbf89a7/.travis.yml#L168)
```
$ git clone --depth 1 https://github.com/phpmyadmin/phpmyadmin.git
$ cd doc
$ pip install 'Sphinx'
$ make html
```

**Expected behavior**
MySQL != mysql term right ?

**Your project**
https://github.com/phpmyadmin/phpmyadmin/blame/master/doc/glossary.rst#L234


**Environment info**
- OS: Unix
- Python version: 3.6
- Sphinx version: 3.0.0

**Additional context**
Did occur some hours ago, maybe you just released the version

- https://travis-ci.org/github/williamdes/phpmyadmintest/jobs/671352365#L328



Patch information:
diff --git a/sphinx/domains/std.py b/sphinx/domains/std.py
index d820cfe5c..907ddee1c 100644
--- a/sphinx/domains/std.py
+++ b/sphinx/domains/std.py
@@ -305,7 +305,7 @@ def make_glossary_term(env: "BuildEnvironment", textnodes: Iterable[Node], index
         term['ids'].append(node_id)
 
     std = cast(StandardDomain, env.get_domain('std'))
-    std.note_object('term', termtext.lower(), node_id, location=term)
+    std.note_object('term', termtext, node_id, location=term)
 
     # add an index entry too
     indexnode = addnodes.index()
@@ -428,7 +428,7 @@ class Glossary(SphinxDirective):
 
         if 'sorted' in self.options:
             items.sort(key=lambda x:
-                       unicodedata.normalize('NFD', x[0][0].lower()))
+                       unicodedata.normalize('NFD', x[0][0]))
 
         dlist = nodes.definition_list()
         dlist['classes'].append('glossary')
@@ -565,7 +565,7 @@ class StandardDomain(Domain):
         # links to tokens in grammar productions
         'token':   TokenXRefRole(),
         # links to terms in glossary
-        'term':    XRefRole(lowercase=True, innernodeclass=nodes.inline,
+        'term':    XRefRole(lowercase=False, innernodeclass=nodes.inline,
                             warn_dangling=True),
         # links to headings or arbitrary labels
         'ref':     XRefRole(lowercase=True, innernodeclass=nodes.inline,
@@ -953,8 +953,14 @@ class StandardDomain(Domain):
         for objtype in self.object_types:
             key = (objtype, target)
             if objtype == 'term':
-                key = (objtype, ltarget)
-            if key in self.objects:
+                # For terms, try case-sensitive match first, then fallback to case-insensitive
+                if key in self.objects:
+                    docname, labelid = self.objects[key]
+                    results.append(('std:' + self.role_for_objtype(objtype),
+                                    make_refnode(builder, fromdocname, docname,
+                                                 labelid, contnode)))
+                # No fallback to case-insensitive for terms
+            elif key in self.objects:
                 docname, labelid = self.objects[key]
                 results.append(('std:' + self.role_for_objtype(objtype),
                                 make_refnode(builder, fromdocname, docname,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 02:22:08,775 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to a glossary bug. The bug is about case-insensitive duplicate terms. The most relevant files to find such test cases are the tests for the standard domain, where the glossary is implemented, and the specific test root for the glossary feature. I need to examine these files to find relevant test cases. I am starting by requesting the main test file for the `std` domain and the test data for the glossary.' query='Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.' extra_requirements='' purpose='I need to analyze these files to find test cases that cover glossary term definitions and references, which are central to the reported bug.'
2025-12-23 02:22:08,776 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
2025-12-23 02:22:08,777 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 02:22:08,777 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 02:22:08,778 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 02:22:08,778 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
Purpose: I need to analyze these files to find test cases that cover glossary term definitions and references, which are central to the reported bug.
2025-12-23 02:22:12,235 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the full content of `tests/test_domain_std.py` which contains test cases for glossary term definitions and references. I have also accessed the content of `tests/roots/test-glossary/index.rst` to understand the glossary structure being tested. This will allow me to analyze the test coverage of glossary functionality and investigate the reported bug.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/roots/test-glossary/index.rst"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2088, 'candidates_token_count': 125, 'total_token_count': 2357, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2088}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 125}], 'thoughts_token_count': 144, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.12974095153808593, 'model_name': 'gemini-2.5-pro'} id='run--912388d9-7d9f-4282-90cd-08f36a42976e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_domain_std.py'}, 'id': 'c199c6e2-bac5-4175-b372-538a3fa01a7f', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/roots/test-glossary/index.rst'}, 'id': '46739e3f-d78d-46fb-bcb1-70483617c3f2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2088, 'output_tokens': 125, 'total_tokens': 2357, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 144}}
2025-12-23 02:22:23,255 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of both `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`. This initial step is crucial for understanding how glossary terms are defined, referenced, and tested within the project. The next step will be to analyze the test cases in `tests/test_domain_std.py` to identify how they use the glossary definitions from `tests/roots/test-glossary/index.rst` and to pinpoint potential gaps in test coverage that might be related to the reported bug.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 8686, 'candidates_token_count': 116, 'total_token_count': 9742, 'cached_content_token_count': 1803, 'prompt_tokens_details': [{'modality': 1, 'token_count': 8686}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1803}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 116}], 'thoughts_token_count': 940}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8748739834489494, 'model_name': 'gemini-2.5-pro'} id='run--ad2b0e0f-4ae0-4c4b-81df-dfd9f5b61dd7-0' usage_metadata={'input_tokens': 8686, 'output_tokens': 116, 'total_tokens': 9742, 'input_token_details': {'cache_read': 1803}, 'output_token_details': {'reasoning': 940}}
2025-12-23 02:22:23,257 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to analyze these files to find test cases that cover glossary term definitions and references, which are central to the reported bug.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/roots/test-glossary/index.rst
Line number range: 1 - 22
Content:
1. test-glossary
2. =============
3. 
4. .. glossary::
5.    :sorted:
6. 
7.    boson
8.       Particle with integer spin.
9. 
10.    *fermion*
11.       Particle with half-integer spin.
12. 
13.    tauon
14.    myon
15.    electron
16.       Examples for fermions.
17. 
18.    über
19.       Gewisse
20. 
21.    änhlich
22.       Dinge


File: tests/test_domain_std.py
Line number range: 1 - 385
Content:
1. """
2.     test_domain_std
3.     ~~~~~~~~~~~~~~~
4. 
5.     Tests the std domain
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import pytest
12. 
13. from unittest import mock
14. 
15. from docutils import nodes
16. from docutils.nodes import definition, definition_list, definition_list_item, term
17. 
18. from html5lib import HTMLParser
19. 
20. from sphinx import addnodes
21. from sphinx.addnodes import (
22.     desc, desc_addname, desc_content, desc_name, desc_signature, glossary, index,
23.     pending_xref
24. )
25. from sphinx.domains.std import StandardDomain
26. from sphinx.testing import restructuredtext
27. from sphinx.testing.util import assert_node
28. from sphinx.util import docutils
29. 
30. 
31. def test_process_doc_handle_figure_caption():
32.     env = mock.Mock(domaindata={})
33.     env.app.registry.enumerable_nodes = {}
34.     figure_node = nodes.figure(
35.         '',
36.         nodes.caption('caption text', 'caption text'),
37.     )
38.     document = mock.Mock(
39.         nametypes={'testname': True},
40.         nameids={'testname': 'testid'},
41.         ids={'testid': figure_node},
42.         citation_refs={},
43.     )
44.     document.traverse.return_value = []
45. 
46.     domain = StandardDomain(env)
47.     if 'testname' in domain.data['labels']:
48.         del domain.data['labels']['testname']
49.     domain.process_doc(env, 'testdoc', document)
50.     assert 'testname' in domain.data['labels']
51.     assert domain.data['labels']['testname'] == (
52.         'testdoc', 'testid', 'caption text')
53. 
54. 
55. def test_process_doc_handle_table_title():
56.     env = mock.Mock(domaindata={})
57.     env.app.registry.enumerable_nodes = {}
58.     table_node = nodes.table(
59.         '',
60.         nodes.title('title text', 'title text'),
61.     )
62.     document = mock.Mock(
63.         nametypes={'testname': True},
64.         nameids={'testname': 'testid'},
65.         ids={'testid': table_node},
66.         citation_refs={},
67.     )
68.     document.traverse.return_value = []
69. 
70.     domain = StandardDomain(env)
71.     if 'testname' in domain.data['labels']:
72.         del domain.data['labels']['testname']
73.     domain.process_doc(env, 'testdoc', document)
74.     assert 'testname' in domain.data['labels']
75.     assert domain.data['labels']['testname'] == (
76.         'testdoc', 'testid', 'title text')
77. 
78. 
79. def test_get_full_qualified_name():
80.     env = mock.Mock(domaindata={})
81.     env.app.registry.enumerable_nodes = {}
82.     domain = StandardDomain(env)
83. 
84.     # normal references
85.     node = nodes.reference()
86.     assert domain.get_full_qualified_name(node) is None
87. 
88.     # simple reference to options
89.     node = nodes.reference(reftype='option', reftarget='-l')
90.     assert domain.get_full_qualified_name(node) is None
91. 
92.     # options with std:program context
93.     kwargs = {'std:program': 'ls'}
94.     node = nodes.reference(reftype='option', reftarget='-l', **kwargs)
95.     assert domain.get_full_qualified_name(node) == 'ls.-l'
96. 
97. 
98. def test_glossary(app):
99.     text = (".. glossary::\n"
100.             "\n"
101.             "   term1\n"
102.             "   term2\n"
103.             "       description\n"
104.             "\n"
105.             "   term3 : classifier\n"
106.             "       description\n"
107.             "       description\n"
108.             "\n"
109.             "   term4 : class1 : class2\n"
110.             "       description\n")
111. 
112.     # doctree
113.     doctree = restructuredtext.parse(app, text)
114.     assert_node(doctree, (
115.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
116.                                                                      index)],
117.                                                              [term, ("term2",
118.                                                                      index)],
119.                                                              definition)],
120.                                      [definition_list_item, ([term, ("term3",
121.                                                                      index)],
122.                                                              definition)],
123.                                      [definition_list_item, ([term, ("term4",
124.                                                                      index)],
125.                                                              definition)])],
126.     ))
127.     assert_node(doctree[0][0][0][0][1],
128.                 entries=[("single", "term1", "term-term1", "main", None)])
129.     assert_node(doctree[0][0][0][1][1],
130.                 entries=[("single", "term2", "term-term2", "main", None)])
131.     assert_node(doctree[0][0][0][2],
132.                 [definition, nodes.paragraph, "description"])
133.     assert_node(doctree[0][0][1][0][1],
134.                 entries=[("single", "term3", "term-term3", "main", "classifier")])
135.     assert_node(doctree[0][0][1][1],
136.                 [definition, nodes.paragraph, ("description\n"
137.                                                "description")])
138.     assert_node(doctree[0][0][2][0][1],
139.                 entries=[("single", "term4", "term-term4", "main", "class1")])
140.     assert_node(doctree[0][0][2][1],
141.                 [nodes.definition, nodes.paragraph, "description"])
142. 
143.     # index
144.     objects = list(app.env.get_domain("std").get_objects())
145.     assert ("term1", "term1", "term", "index", "term-term1", -1) in objects
146.     assert ("term2", "term2", "term", "index", "term-term2", -1) in objects
147.     assert ("term3", "term3", "term", "index", "term-term3", -1) in objects
148.     assert ("term4", "term4", "term", "index", "term-term4", -1) in objects
149. 
150. 
151. def test_glossary_warning(app, status, warning):
152.     # empty line between terms
153.     text = (".. glossary::\n"
154.             "\n"
155.             "   term1\n"
156.             "\n"
157.             "   term2\n")
158.     restructuredtext.parse(app, text, "case1")
159.     assert ("case1.rst:4: WARNING: glossary terms must not be separated by empty lines"
160.             in warning.getvalue())
161. 
162.     # glossary starts with indented item
163.     text = (".. glossary::\n"
164.             "\n"
165.             "       description\n"
166.             "   term\n")
167.     restructuredtext.parse(app, text, "case2")
168.     assert ("case2.rst:3: WARNING: glossary term must be preceded by empty line"
169.             in warning.getvalue())
170. 
171.     # empty line between terms
172.     text = (".. glossary::\n"
173.             "\n"
174.             "   term1\n"
175.             "       description\n"
176.             "   term2\n")
177.     restructuredtext.parse(app, text, "case3")
178.     assert ("case3.rst:4: WARNING: glossary term must be preceded by empty line"
179.             in warning.getvalue())
180. 
181.     # duplicated terms
182.     text = (".. glossary::\n"
183.             "\n"
184.             "   term-case4\n"
185.             "   term-case4\n")
186.     restructuredtext.parse(app, text, "case4")
187.     assert ("case4.rst:3: WARNING: duplicate term description of term-case4, "
188.             "other instance in case4" in warning.getvalue())
189. 
190. 
191. def test_glossary_comment(app):
192.     text = (".. glossary::\n"
193.             "\n"
194.             "   term1\n"
195.             "       description\n"
196.             "   .. term2\n"
197.             "       description\n"
198.             "       description\n")
199.     doctree = restructuredtext.parse(app, text)
200.     assert_node(doctree, (
201.         [glossary, definition_list, definition_list_item, ([term, ("term1",
202.                                                                    index)],
203.                                                            definition)],
204.     ))
205.     assert_node(doctree[0][0][0][1],
206.                 [nodes.definition, nodes.paragraph, "description"])
207. 
208. 
209. def test_glossary_comment2(app):
210.     text = (".. glossary::\n"
211.             "\n"
212.             "   term1\n"
213.             "       description\n"
214.             "\n"
215.             "   .. term2\n"
216.             "   term3\n"
217.             "       description\n"
218.             "       description\n")
219.     doctree = restructuredtext.parse(app, text)
220.     assert_node(doctree, (
221.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
222.                                                                      index)],
223.                                                              definition)],
224.                                      [definition_list_item, ([term, ("term3",
225.                                                                      index)],
226.                                                              definition)])],
227.     ))
228.     assert_node(doctree[0][0][0][1],
229.                 [nodes.definition, nodes.paragraph, "description"])
230.     assert_node(doctree[0][0][1][1],
231.                 [nodes.definition, nodes.paragraph, ("description\n"
232.                                                      "description")])
233. 
234. 
235. def test_glossary_sorted(app):
236.     text = (".. glossary::\n"
237.             "   :sorted:\n"
238.             "\n"
239.             "   term3\n"
240.             "       description\n"
241.             "\n"
242.             "   term2\n"
243.             "   term1\n"
244.             "       description\n")
245.     doctree = restructuredtext.parse(app, text)
246.     assert_node(doctree, (
247.         [glossary, definition_list, ([definition_list_item, ([term, ("term2",
248.                                                                      index)],
249.                                                              [term, ("term1",
250.                                                                      index)],
251.                                                              definition)],
252.                                      [definition_list_item, ([term, ("term3",
253.                                                                      index)],
254.                                                              definition)])],
255.     ))
256.     assert_node(doctree[0][0][0][2],
257.                 [nodes.definition, nodes.paragraph, "description"])
258.     assert_node(doctree[0][0][1][1],
259.                 [nodes.definition, nodes.paragraph, "description"])
260. 
261. 
262. def test_glossary_alphanumeric(app):
263.     text = (".. glossary::\n"
264.             "\n"
265.             "   1\n"
266.             "   /\n")
267.     restructuredtext.parse(app, text)
268.     objects = list(app.env.get_domain("std").get_objects())
269.     assert ("1", "1", "term", "index", "term-1", -1) in objects
270.     assert ("/", "/", "term", "index", "term-0", -1) in objects
271. 
272. 
273. def test_glossary_conflicted_labels(app):
274.     text = (".. _term-foo:\n"
275.             ".. glossary::\n"
276.             "\n"
277.             "   foo\n")
278.     restructuredtext.parse(app, text)
279.     objects = list(app.env.get_domain("std").get_objects())
280.     assert ("foo", "foo", "term", "index", "term-0", -1) in objects
281. 
282. 
283. def test_cmdoption(app):
284.     text = (".. program:: ls\n"
285.             "\n"
286.             ".. option:: -l\n")
287.     domain = app.env.get_domain('std')
288.     doctree = restructuredtext.parse(app, text)
289.     assert_node(doctree, (addnodes.index,
290.                           [desc, ([desc_signature, ([desc_name, "-l"],
291.                                                     [desc_addname, ()])],
292.                                   [desc_content, ()])]))
293.     assert_node(doctree[0], addnodes.index,
294.                 entries=[('pair', 'ls command line option; -l', 'cmdoption-ls-l', '', None)])
295.     assert ('ls', '-l') in domain.progoptions
296.     assert domain.progoptions[('ls', '-l')] == ('index', 'cmdoption-ls-l')
297. 
298. 
299. def test_multiple_cmdoptions(app):
300.     text = (".. program:: cmd\n"
301.             "\n"
302.             ".. option:: -o directory, --output directory\n")
303.     domain = app.env.get_domain('std')
304.     doctree = restructuredtext.parse(app, text)
305.     assert_node(doctree, (addnodes.index,
306.                           [desc, ([desc_signature, ([desc_name, "-o"],
307.                                                     [desc_addname, " directory"],
308.                                                     [desc_addname, ", "],
309.                                                     [desc_name, "--output"],
310.                                                     [desc_addname, " directory"])],
311.                                   [desc_content, ()])]))
312.     assert_node(doctree[0], addnodes.index,
313.                 entries=[('pair', 'cmd command line option; -o directory',
314.                           'cmdoption-cmd-o', '', None),
315.                          ('pair', 'cmd command line option; --output directory',
316.                           'cmdoption-cmd-o', '', None)])
317.     assert ('cmd', '-o') in domain.progoptions
318.     assert ('cmd', '--output') in domain.progoptions
319.     assert domain.progoptions[('cmd', '-o')] == ('index', 'cmdoption-cmd-o')
320.     assert domain.progoptions[('cmd', '--output')] == ('index', 'cmdoption-cmd-o')
321. 
322. 
323. @pytest.mark.skipif(docutils.__version_info__ < (0, 13),
324.                     reason='docutils-0.13 or above is required')
325. @pytest.mark.sphinx(testroot='productionlist')
326. def test_productionlist(app, status, warning):
327.     app.builder.build_all()
328. 
329.     warnings = warning.getvalue().split("\n");
330.     assert len(warnings) == 2
331.     assert warnings[-1] == ''
332.     assert "Dup2.rst:4: WARNING: duplicate token description of Dup, other instance in Dup1" in warnings[0]
333. 
334.     with (app.outdir / 'index.html').open('rb') as f:
335.         etree = HTMLParser(namespaceHTMLElements=False).parse(f)
336.     ul = list(etree.iter('ul'))[1]
337.     cases = []
338.     for li in list(ul):
339.         assert len(list(li)) == 1
340.         p = list(li)[0]
341.         assert p.tag == 'p'
342.         text = str(p.text).strip(' :')
343.         assert len(list(p)) == 1
344.         a = list(p)[0]
345.         assert a.tag == 'a'
346.         link = a.get('href')
347.         assert len(list(a)) == 1
348.         code = list(a)[0]
349.         assert code.tag == 'code'
350.         assert len(list(code)) == 1
351.         span = list(code)[0]
352.         assert span.tag == 'span'
353.         linkText = span.text.strip()
354.         cases.append((text, link, linkText))
355.     assert cases == [
356.         ('A', 'Bare.html#grammar-token-A', 'A'),
357.         ('B', 'Bare.html#grammar-token-B', 'B'),
358.         ('P1:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
359.         ('P1:B', 'P1.html#grammar-token-P1-B', 'P1:B'),
360.         ('P2:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
361.         ('P2:B', 'P2.html#grammar-token-P2-B', 'P2:B'),
362.         ('Explicit title A, plain', 'Bare.html#grammar-token-A', 'MyTitle'),
363.         ('Explicit title A, colon', 'Bare.html#grammar-token-A', 'My:Title'),
364.         ('Explicit title P1:A, plain', 'P1.html#grammar-token-P1-A', 'MyTitle'),
365.         ('Explicit title P1:A, colon', 'P1.html#grammar-token-P1-A', 'My:Title'),
366.         ('Tilde A', 'Bare.html#grammar-token-A', 'A'),
367.         ('Tilde P1:A', 'P1.html#grammar-token-P1-A', 'A'),
368.         ('Tilde explicit title P1:A', 'P1.html#grammar-token-P1-A', '~MyTitle'),
369.         ('Tilde, explicit title P1:A', 'P1.html#grammar-token-P1-A', 'MyTitle'),
370.         ('Dup', 'Dup2.html#grammar-token-Dup', 'Dup'),
371.         ('FirstLine', 'firstLineRule.html#grammar-token-FirstLine', 'FirstLine'),
372.         ('SecondLine', 'firstLineRule.html#grammar-token-SecondLine', 'SecondLine'),
373.     ]
374. 
375.     text = (app.outdir / 'LineContinuation.html').read_text()
376.     assert "A</strong> ::=  B C D    E F G" in text
377. 
378. 
379. def test_disabled_docref(app):
380.     text = (":doc:`index`\n"
381.             ":doc:`!index`\n")
382.     doctree = restructuredtext.parse(app, text)
383.     assert_node(doctree, ([nodes.paragraph, ([pending_xref, nodes.inline, "index"],
384.                                              "\n",
385.                                              [nodes.inline, "index"])],))

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 02:22:29,125 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user explicitly asked for the full content of the file `tests/test_domain_std.py`. This context provides the entire content of the file as available in the input.', relative_path='tests/test_domain_std.py', start_line=1, end_line=385), ContextOutput(reasoning='The user explicitly asked for the full content of the file `tests/roots/test-glossary/index.rst`. This context provides the entire content of the file as available in the input.', relative_path='tests/roots/test-glossary/index.rst', start_line=1, end_line=22)]
2025-12-23 02:22:29,127 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
2025-12-23 02:22:29,127 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 02:22:29,127 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 02:22:29,128 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 0 existing contexts
2025-12-23 02:22:29,128 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-23 02:22:29,128 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .appveyor.yml
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   └── PULL_REQUEST_TEMPLATE.md
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   └── __init__.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.4.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   ├── layout.html
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_autodoc.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: glossary duplicate term with a different case

Description: **Describe the bug**
```
Warning, treated as error:
doc/glossary.rst:243:duplicate term description of mysql, other instance in glossary
```

**To Reproduce**
Steps to reproduce the behavior:
[.travis.yml#L168](https://github.com/phpmyadmin/phpmyadmin/blob/f7cc383674b7099190771b1db510c62bfbbf89a7/.travis.yml#L168)
```
$ git clone --depth 1 https://github.com/phpmyadmin/phpmyadmin.git
$ cd doc
$ pip install 'Sphinx'
$ make html
```

**Expected behavior**
MySQL != mysql term right ?

**Your project**
https://github.com/phpmyadmin/phpmyadmin/blame/master/doc/glossary.rst#L234


**Environment info**
- OS: Unix
- Python version: 3.6
- Sphinx version: 3.0.0

**Additional context**
Did occur some hours ago, maybe you just released the version

- https://travis-ci.org/github/williamdes/phpmyadmintest/jobs/671352365#L328



Patch information:
diff --git a/sphinx/domains/std.py b/sphinx/domains/std.py
index d820cfe5c..907ddee1c 100644
--- a/sphinx/domains/std.py
+++ b/sphinx/domains/std.py
@@ -305,7 +305,7 @@ def make_glossary_term(env: "BuildEnvironment", textnodes: Iterable[Node], index
         term['ids'].append(node_id)
 
     std = cast(StandardDomain, env.get_domain('std'))
-    std.note_object('term', termtext.lower(), node_id, location=term)
+    std.note_object('term', termtext, node_id, location=term)
 
     # add an index entry too
     indexnode = addnodes.index()
@@ -428,7 +428,7 @@ class Glossary(SphinxDirective):
 
         if 'sorted' in self.options:
             items.sort(key=lambda x:
-                       unicodedata.normalize('NFD', x[0][0].lower()))
+                       unicodedata.normalize('NFD', x[0][0]))
 
         dlist = nodes.definition_list()
         dlist['classes'].append('glossary')
@@ -565,7 +565,7 @@ class StandardDomain(Domain):
         # links to tokens in grammar productions
         'token':   TokenXRefRole(),
         # links to terms in glossary
-        'term':    XRefRole(lowercase=True, innernodeclass=nodes.inline,
+        'term':    XRefRole(lowercase=False, innernodeclass=nodes.inline,
                             warn_dangling=True),
         # links to headings or arbitrary labels
         'ref':     XRefRole(lowercase=True, innernodeclass=nodes.inline,
@@ -953,8 +953,14 @@ class StandardDomain(Domain):
         for objtype in self.object_types:
             key = (objtype, target)
             if objtype == 'term':
-                key = (objtype, ltarget)
-            if key in self.objects:
+                # For terms, try case-sensitive match first, then fallback to case-insensitive
+                if key in self.objects:
+                    docname, labelid = self.objects[key]
+                    results.append(('std:' + self.role_for_objtype(objtype),
+                                    make_refnode(builder, fromdocname, docname,
+                                                 labelid, contnode)))
+                # No fallback to case-insensitive for terms
+            elif key in self.objects:
                 docname, labelid = self.objects[key]
                 results.append(('std:' + self.role_for_objtype(objtype),
                                 make_refnode(builder, fromdocname, docname,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
Extra Requirements: 
Purpose: I need to analyze these files to find test cases that cover glossary term definitions and references, which are central to the reported bug.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/roots/test-glossary/index.rst
Line number range: 1 - 22
Content:
1. test-glossary
2. =============
3. 
4. .. glossary::
5.    :sorted:
6. 
7.    boson
8.       Particle with integer spin.
9. 
10.    *fermion*
11.       Particle with half-integer spin.
12. 
13.    tauon
14.    myon
15.    electron
16.       Examples for fermions.
17. 
18.    über
19.       Gewisse
20. 
21.    änhlich
22.       Dinge


File: tests/test_domain_std.py
Line number range: 1 - 385
Content:
1. """
2.     test_domain_std
3.     ~~~~~~~~~~~~~~~
4. 
5.     Tests the std domain
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import pytest
12. 
13. from unittest import mock
14. 
15. from docutils import nodes
16. from docutils.nodes import definition, definition_list, definition_list_item, term
17. 
18. from html5lib import HTMLParser
19. 
20. from sphinx import addnodes
21. from sphinx.addnodes import (
22.     desc, desc_addname, desc_content, desc_name, desc_signature, glossary, index,
23.     pending_xref
24. )
25. from sphinx.domains.std import StandardDomain
26. from sphinx.testing import restructuredtext
27. from sphinx.testing.util import assert_node
28. from sphinx.util import docutils
29. 
30. 
31. def test_process_doc_handle_figure_caption():
32.     env = mock.Mock(domaindata={})
33.     env.app.registry.enumerable_nodes = {}
34.     figure_node = nodes.figure(
35.         '',
36.         nodes.caption('caption text', 'caption text'),
37.     )
38.     document = mock.Mock(
39.         nametypes={'testname': True},
40.         nameids={'testname': 'testid'},
41.         ids={'testid': figure_node},
42.         citation_refs={},
43.     )
44.     document.traverse.return_value = []
45. 
46.     domain = StandardDomain(env)
47.     if 'testname' in domain.data['labels']:
48.         del domain.data['labels']['testname']
49.     domain.process_doc(env, 'testdoc', document)
50.     assert 'testname' in domain.data['labels']
51.     assert domain.data['labels']['testname'] == (
52.         'testdoc', 'testid', 'caption text')
53. 
54. 
55. def test_process_doc_handle_table_title():
56.     env = mock.Mock(domaindata={})
57.     env.app.registry.enumerable_nodes = {}
58.     table_node = nodes.table(
59.         '',
60.         nodes.title('title text', 'title text'),
61.     )
62.     document = mock.Mock(
63.         nametypes={'testname': True},
64.         nameids={'testname': 'testid'},
65.         ids={'testid': table_node},
66.         citation_refs={},
67.     )
68.     document.traverse.return_value = []
69. 
70.     domain = StandardDomain(env)
71.     if 'testname' in domain.data['labels']:
72.         del domain.data['labels']['testname']
73.     domain.process_doc(env, 'testdoc', document)
74.     assert 'testname' in domain.data['labels']
75.     assert domain.data['labels']['testname'] == (
76.         'testdoc', 'testid', 'title text')
77. 
78. 
79. def test_get_full_qualified_name():
80.     env = mock.Mock(domaindata={})
81.     env.app.registry.enumerable_nodes = {}
82.     domain = StandardDomain(env)
83. 
84.     # normal references
85.     node = nodes.reference()
86.     assert domain.get_full_qualified_name(node) is None
87. 
88.     # simple reference to options
89.     node = nodes.reference(reftype='option', reftarget='-l')
90.     assert domain.get_full_qualified_name(node) is None
91. 
92.     # options with std:program context
93.     kwargs = {'std:program': 'ls'}
94.     node = nodes.reference(reftype='option', reftarget='-l', **kwargs)
95.     assert domain.get_full_qualified_name(node) == 'ls.-l'
96. 
97. 
98. def test_glossary(app):
99.     text = (".. glossary::\n"
100.             "\n"
101.             "   term1\n"
102.             "   term2\n"
103.             "       description\n"
104.             "\n"
105.             "   term3 : classifier\n"
106.             "       description\n"
107.             "       description\n"
108.             "\n"
109.             "   term4 : class1 : class2\n"
110.             "       description\n")
111. 
112.     # doctree
113.     doctree = restructuredtext.parse(app, text)
114.     assert_node(doctree, (
115.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
116.                                                                      index)],
117.                                                              [term, ("term2",
118.                                                                      index)],
119.                                                              definition)],
120.                                      [definition_list_item, ([term, ("term3",
121.                                                                      index)],
122.                                                              definition)],
123.                                      [definition_list_item, ([term, ("term4",
124.                                                                      index)],
125.                                                              definition)])],
126.     ))
127.     assert_node(doctree[0][0][0][0][1],
128.                 entries=[("single", "term1", "term-term1", "main", None)])
129.     assert_node(doctree[0][0][0][1][1],
130.                 entries=[("single", "term2", "term-term2", "main", None)])
131.     assert_node(doctree[0][0][0][2],
132.                 [definition, nodes.paragraph, "description"])
133.     assert_node(doctree[0][0][1][0][1],
134.                 entries=[("single", "term3", "term-term3", "main", "classifier")])
135.     assert_node(doctree[0][0][1][1],
136.                 [definition, nodes.paragraph, ("description\n"
137.                                                "description")])
138.     assert_node(doctree[0][0][2][0][1],
139.                 entries=[("single", "term4", "term-term4", "main", "class1")])
140.     assert_node(doctree[0][0][2][1],
141.                 [nodes.definition, nodes.paragraph, "description"])
142. 
143.     # index
144.     objects = list(app.env.get_domain("std").get_objects())
145.     assert ("term1", "term1", "term", "index", "term-term1", -1) in objects
146.     assert ("term2", "term2", "term", "index", "term-term2", -1) in objects
147.     assert ("term3", "term3", "term", "index", "term-term3", -1) in objects
148.     assert ("term4", "term4", "term", "index", "term-term4", -1) in objects
149. 
150. 
151. def test_glossary_warning(app, status, warning):
152.     # empty line between terms
153.     text = (".. glossary::\n"
154.             "\n"
155.             "   term1\n"
156.             "\n"
157.             "   term2\n")
158.     restructuredtext.parse(app, text, "case1")
159.     assert ("case1.rst:4: WARNING: glossary terms must not be separated by empty lines"
160.             in warning.getvalue())
161. 
162.     # glossary starts with indented item
163.     text = (".. glossary::\n"
164.             "\n"
165.             "       description\n"
166.             "   term\n")
167.     restructuredtext.parse(app, text, "case2")
168.     assert ("case2.rst:3: WARNING: glossary term must be preceded by empty line"
169.             in warning.getvalue())
170. 
171.     # empty line between terms
172.     text = (".. glossary::\n"
173.             "\n"
174.             "   term1\n"
175.             "       description\n"
176.             "   term2\n")
177.     restructuredtext.parse(app, text, "case3")
178.     assert ("case3.rst:4: WARNING: glossary term must be preceded by empty line"
179.             in warning.getvalue())
180. 
181.     # duplicated terms
182.     text = (".. glossary::\n"
183.             "\n"
184.             "   term-case4\n"
185.             "   term-case4\n")
186.     restructuredtext.parse(app, text, "case4")
187.     assert ("case4.rst:3: WARNING: duplicate term description of term-case4, "
188.             "other instance in case4" in warning.getvalue())
189. 
190. 
191. def test_glossary_comment(app):
192.     text = (".. glossary::\n"
193.             "\n"
194.             "   term1\n"
195.             "       description\n"
196.             "   .. term2\n"
197.             "       description\n"
198.             "       description\n")
199.     doctree = restructuredtext.parse(app, text)
200.     assert_node(doctree, (
201.         [glossary, definition_list, definition_list_item, ([term, ("term1",
202.                                                                    index)],
203.                                                            definition)],
204.     ))
205.     assert_node(doctree[0][0][0][1],
206.                 [nodes.definition, nodes.paragraph, "description"])
207. 
208. 
209. def test_glossary_comment2(app):
210.     text = (".. glossary::\n"
211.             "\n"
212.             "   term1\n"
213.             "       description\n"
214.             "\n"
215.             "   .. term2\n"
216.             "   term3\n"
217.             "       description\n"
218.             "       description\n")
219.     doctree = restructuredtext.parse(app, text)
220.     assert_node(doctree, (
221.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
222.                                                                      index)],
223.                                                              definition)],
224.                                      [definition_list_item, ([term, ("term3",
225.                                                                      index)],
226.                                                              definition)])],
227.     ))
228.     assert_node(doctree[0][0][0][1],
229.                 [nodes.definition, nodes.paragraph, "description"])
230.     assert_node(doctree[0][0][1][1],
231.                 [nodes.definition, nodes.paragraph, ("description\n"
232.                                                      "description")])
233. 
234. 
235. def test_glossary_sorted(app):
236.     text = (".. glossary::\n"
237.             "   :sorted:\n"
238.             "\n"
239.             "   term3\n"
240.             "       description\n"
241.             "\n"
242.             "   term2\n"
243.             "   term1\n"
244.             "       description\n")
245.     doctree = restructuredtext.parse(app, text)
246.     assert_node(doctree, (
247.         [glossary, definition_list, ([definition_list_item, ([term, ("term2",
248.                                                                      index)],
249.                                                              [term, ("term1",
250.                                                                      index)],
251.                                                              definition)],
252.                                      [definition_list_item, ([term, ("term3",
253.                                                                      index)],
254.                                                              definition)])],
255.     ))
256.     assert_node(doctree[0][0][0][2],
257.                 [nodes.definition, nodes.paragraph, "description"])
258.     assert_node(doctree[0][0][1][1],
259.                 [nodes.definition, nodes.paragraph, "description"])
260. 
261. 
262. def test_glossary_alphanumeric(app):
263.     text = (".. glossary::\n"
264.             "\n"
265.             "   1\n"
266.             "   /\n")
267.     restructuredtext.parse(app, text)
268.     objects = list(app.env.get_domain("std").get_objects())
269.     assert ("1", "1", "term", "index", "term-1", -1) in objects
270.     assert ("/", "/", "term", "index", "term-0", -1) in objects
271. 
272. 
273. def test_glossary_conflicted_labels(app):
274.     text = (".. _term-foo:\n"
275.             ".. glossary::\n"
276.             "\n"
277.             "   foo\n")
278.     restructuredtext.parse(app, text)
279.     objects = list(app.env.get_domain("std").get_objects())
280.     assert ("foo", "foo", "term", "index", "term-0", -1) in objects
281. 
282. 
283. def test_cmdoption(app):
284.     text = (".. program:: ls\n"
285.             "\n"
286.             ".. option:: -l\n")
287.     domain = app.env.get_domain('std')
288.     doctree = restructuredtext.parse(app, text)
289.     assert_node(doctree, (addnodes.index,
290.                           [desc, ([desc_signature, ([desc_name, "-l"],
291.                                                     [desc_addname, ()])],
292.                                   [desc_content, ()])]))
293.     assert_node(doctree[0], addnodes.index,
294.                 entries=[('pair', 'ls command line option; -l', 'cmdoption-ls-l', '', None)])
295.     assert ('ls', '-l') in domain.progoptions
296.     assert domain.progoptions[('ls', '-l')] == ('index', 'cmdoption-ls-l')
297. 
298. 
299. def test_multiple_cmdoptions(app):
300.     text = (".. program:: cmd\n"
301.             "\n"
302.             ".. option:: -o directory, --output directory\n")
303.     domain = app.env.get_domain('std')
304.     doctree = restructuredtext.parse(app, text)
305.     assert_node(doctree, (addnodes.index,
306.                           [desc, ([desc_signature, ([desc_name, "-o"],
307.                                                     [desc_addname, " directory"],
308.                                                     [desc_addname, ", "],
309.                                                     [desc_name, "--output"],
310.                                                     [desc_addname, " directory"])],
311.                                   [desc_content, ()])]))
312.     assert_node(doctree[0], addnodes.index,
313.                 entries=[('pair', 'cmd command line option; -o directory',
314.                           'cmdoption-cmd-o', '', None),
315.                          ('pair', 'cmd command line option; --output directory',
316.                           'cmdoption-cmd-o', '', None)])
317.     assert ('cmd', '-o') in domain.progoptions
318.     assert ('cmd', '--output') in domain.progoptions
319.     assert domain.progoptions[('cmd', '-o')] == ('index', 'cmdoption-cmd-o')
320.     assert domain.progoptions[('cmd', '--output')] == ('index', 'cmdoption-cmd-o')
321. 
322. 
323. @pytest.mark.skipif(docutils.__version_info__ < (0, 13),
324.                     reason='docutils-0.13 or above is required')
325. @pytest.mark.sphinx(testroot='productionlist')
326. def test_productionlist(app, status, warning):
327.     app.builder.build_all()
328. 
329.     warnings = warning.getvalue().split("\n");
330.     assert len(warnings) == 2
331.     assert warnings[-1] == ''
332.     assert "Dup2.rst:4: WARNING: duplicate token description of Dup, other instance in Dup1" in warnings[0]
333. 
334.     with (app.outdir / 'index.html').open('rb') as f:
335.         etree = HTMLParser(namespaceHTMLElements=False).parse(f)
336.     ul = list(etree.iter('ul'))[1]
337.     cases = []
338.     for li in list(ul):
339.         assert len(list(li)) == 1
340.         p = list(li)[0]
341.         assert p.tag == 'p'
342.         text = str(p.text).strip(' :')
343.         assert len(list(p)) == 1
344.         a = list(p)[0]
345.         assert a.tag == 'a'
346.         link = a.get('href')
347.         assert len(list(a)) == 1
348.         code = list(a)[0]
349.         assert code.tag == 'code'
350.         assert len(list(code)) == 1
351.         span = list(code)[0]
352.         assert span.tag == 'span'
353.         linkText = span.text.strip()
354.         cases.append((text, link, linkText))
355.     assert cases == [
356.         ('A', 'Bare.html#grammar-token-A', 'A'),
357.         ('B', 'Bare.html#grammar-token-B', 'B'),
358.         ('P1:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
359.         ('P1:B', 'P1.html#grammar-token-P1-B', 'P1:B'),
360.         ('P2:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
361.         ('P2:B', 'P2.html#grammar-token-P2-B', 'P2:B'),
362.         ('Explicit title A, plain', 'Bare.html#grammar-token-A', 'MyTitle'),
363.         ('Explicit title A, colon', 'Bare.html#grammar-token-A', 'My:Title'),
364.         ('Explicit title P1:A, plain', 'P1.html#grammar-token-P1-A', 'MyTitle'),
365.         ('Explicit title P1:A, colon', 'P1.html#grammar-token-P1-A', 'My:Title'),
366.         ('Tilde A', 'Bare.html#grammar-token-A', 'A'),
367.         ('Tilde P1:A', 'P1.html#grammar-token-P1-A', 'A'),
368.         ('Tilde explicit title P1:A', 'P1.html#grammar-token-P1-A', '~MyTitle'),
369.         ('Tilde, explicit title P1:A', 'P1.html#grammar-token-P1-A', 'MyTitle'),
370.         ('Dup', 'Dup2.html#grammar-token-Dup', 'Dup'),
371.         ('FirstLine', 'firstLineRule.html#grammar-token-FirstLine', 'FirstLine'),
372.         ('SecondLine', 'firstLineRule.html#grammar-token-SecondLine', 'SecondLine'),
373.     ]
374. 
375.     text = (app.outdir / 'LineContinuation.html').read_text()
376.     assert "A</strong> ::=  B C D    E F G" in text
377. 
378. 
379. def test_disabled_docref(app):
380.     text = (":doc:`index`\n"
381.             ":doc:`!index`\n")
382.     doctree = restructuredtext.parse(app, text)
383.     assert_node(doctree, ([nodes.paragraph, ([pending_xref, nodes.inline, "index"],
384.                                              "\n",
385.                                              [nodes.inline, "index"])],))

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 02:23:19,464 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 3 relevant test cases for a bug concerning case-insensitive duplicate glossary terms. The provided context includes `tests/test_domain_std.py`, which contains tests for the `glossary` directive, including duplicate term warnings (`test_glossary_warning`) and sorting (`test_glossary_sorted`). While these are relevant, they do not test the case-sensitivity of term duplication or referencing. The patch also affects the `:term:` cross-referencing role, making it case-sensitive. The current context lacks any tests for this role. To provide a comprehensive set of test cases that cover both the definition and referencing of glossary terms as affected by the patch, I need to find tests for the `:term:` role. The file `tests/test_markup.py` is the most probable location for such tests.' query='Please provide the full content of `tests/test_markup.py`.' extra_requirements='If the file is too large, please prioritize providing any test cases that involve the `:term:` role or other glossary-related markup.' purpose='I need to find test cases for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.'
2025-12-23 02:23:19,465 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_markup.py`.
2025-12-23 02:23:19,465 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 02:23:19,466 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 02:23:19,466 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 02:23:19,466 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_markup.py`.
Extra requirements: If the file is too large, please prioritize providing any test cases that involve the `:term:` role or other glossary-related markup.
Purpose: I need to find test cases for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.
2025-12-23 02:23:25,054 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/test_markup.py"}'}, '__gemini_function_call_thought_signatures__': {'345c1ab6-f497-49f4-9368-d60787ae1fc2': 'Cu8NAY89a18A+VUtQV4/qJNsa8abpOOuSuRWibastbcl35TwZSVk6fbN3xv68gUGMGjg+Y9Z4Dw+pJ0FUfFjbS0xnw2aiEjE34r8a8o4OzLUTnEU7byt7RNxhCOsd5QB83sbYkOQnvF0SL4LaWgmdBfOyMpaqssMyJqeIAEYN2aZV6HlZcoRTvarHrn4CvmhS4QjvpY94A8fWWayULRRilVEbUZ6EhtDvfak9EV5vNrPeDNci1lBj0FCxDbO4eWtH7/qdEpPnEwcOkQDAf0hldzlR6ddkwpvyvztYEhwmk0sr7DkkoUqqEWqSYcAMJV5MDfCzV/jEf6s6/u5hwZvu3SPU2NDlm8beIOVoFAhYfhB/2Ka1rrrPdx6j1oBwAUfzQGZeQMtmMJ4b0kI0bbehx2Esos5c8mubLWgkHKeZbWNsPmhjmGRBjmBtMQL//T9dGKxO5l1TvPdavaox94XiOYNhesC7sxyZU5ZN1N9dUXEFySlUY+2uuIh+Ivg86kcvPtQorrZ/oXpxrWJ9JS7JNfjUEVBut8nRpsBX82IMmovwPnaia8kwedo7U82rEQfk/a8zYK2blF4FO92/qPrO7N0JbSg/dLlhhXorEvTSuYi+9u/lK45VdFAzRQdL3Q/IadI9UoDfPUOM5e8BKMJD9tr8wogakBZMOyD2LiZJ27lo1UXXbQ3BjCmq44ixyna3T2bv5HTjgkMH3I7tf2Oh9BHn5sDLWt+fM6Wx991a1VPJqO/mmDZNGnHZqcIeqdAmy6Au3sz+SVNKITWLsxprp4+gHNhHJ3Ms7WGIvNntMuEoTpufkJkrLhvWHRhqEUncRgBLH+ggemrAg03uFFdTCLqKROZjmyyXgXKArlRKJ7IAJx6U1eBlOysl7V5DdKvZWZJrK0UAhn6NiyEX8l1MjpJxC3uJJAlYBWO3wrUmDvSMGktTOq56ODvfvDj3uN/xsDxNyUoBzdUki0H/iseh0hTkZeL8pK+QmmCY2XXHnbWoEXdAA/dyTfmTIYwW6YosuarvgSZaEWB3YwndXbm/NRw/89kGPWXGloaR7YBBzbA0WDxhhrlRoy5wqnQo5C2p1sfABQaOdnAIN3wF4yZDQaEMHibf81ZzZq9BDzMoWeo9gDWAPiKk9Yr+2oRwGdGA35Vg3hEUB2QXG5Rr7kaSGmHSXNBIKRHaGKU2l5FHNoyTs0QHEgNUYW6lB3XSd6JLV/+7IEEYVQeHZ5czDcb4k4qMCgo5ipreuQLy/xNQ4IgeqdCKidJG9KfmSjgBOlOYd4vBPrKqU4lbJdXDGSZk3VibF2gy02za7SUw6Q/dEk0r/1M+6zMQNO/6r6aQTt3iCZrT/23MMvebTlOf6lAyO8nedBuExlQgEZJ49y8ygYWoJX58tqnhmwhFtAJKph+piVTRHKCNuQede6p/SpEAvM1U7ZBE0BYKkbd3fQrmNMtAd81P3xou+KFyDFQHHbc8MVJdq2Yh2SEkgGixWxFvA81jZZTeV3YJRRc9PLXXfiUb8vU8ArOME2hFu6aXxvZmnEJEg4k6/6XIOmRogEnFFPiUZOC//kZDUo5Bx9NznHdGG0F4ws5ZPvv7w1mhTAI8xMYQ7IZT5QMsDGXeXtOqlV6LyeFG7eSjXhvz991Sh0Bo44KiFiyEwtGAMros8CKhXLv9NSrhI5mWnZlCnbhJm+WXUYJ749bAE+qkwHn7AyI2ZJnqOzFvD6oi0lr/RYjN0YOtJsDlC7RHvmb2Lr5AIurZfU36vYSDZzwGgr5zEtbaIlHSkkoeOVaqunRvsWnTGQRcSDgz9WTdNkxrjYuVDrUr7AmFL55yqnhn+mRBuPJmC7/5TtGvSrvOdNcEp1uBs90e+CPn7+E6hakemE9++vmNTyBZAbpRucPkH3Js7eeUP2uUSXYUgqeD/6mFz1hYU+dIl8jVYYqKq6I9d0VEs09oqCVz/As9D3OKRvCZuJqUUtECAde1LNhPjcT2XQPIhELsm4+gfpew/SGRVwaEZfkMujVXXZNlCj3hC0NW4UKHFuWYYhO1dabbLhriu6J+MssPU9DfbXOAnAGCkHN2Q912pa4p+cmyxoBbsjPprsA1uxhDWLM3l2NTuEgSHWg17Jdxm309VJsGBpgfTulxx86fuDENDn3Z1Rg03+0dRV45QbjQnateEWpjEx4xKocFr6f4huEeSUDaHZZdJle/qDxnB4lwehB+z5Unp67LRvzcGMB6gjtIPnbtmjNLXTtHQ/z/Mf9PsK3oevKZCFCBerxUeYDJaEn7UBFZjnj1RKNlhh3aY2OC1mu4dqj2PXNCQ5ty5oMpg9kyTPM1RS+YiV2eR5Jdo5eoefNZPJMUinz6iir0k+qL7lDYNNEW1PO8vI='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2113, 'candidates_token_count': 21, 'total_token_count': 2567, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2113}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 21}], 'thoughts_token_count': 433, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.9614705585298085, 'model_name': 'gemini-2.5-pro'} id='run--adc6cfa0-c380-4421-9ed8-08748e8d60f8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_markup.py'}, 'id': '345c1ab6-f497-49f4-9368-d60787ae1fc2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2113, 'output_tokens': 21, 'total_tokens': 2567, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 433}}
2025-12-23 02:23:30,698 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/test_markup.py", "end_line": 1000.0, "start_line": 501.0}'}, '__gemini_function_call_thought_signatures__': {'0cd95499-0a79-484a-819a-99aaefb91775': 'Cr4MAY89a19izV5aRz79UCujMevAIJKgre62qNyQ4WNNx07HdtBC5mFCaVyGTmasQtV45hyizGCQTSnXdke7lP5DedOe95OsiE3+PsEdr1+Mmv54czZDejdOWM2kR+GDhjlKO3sXKZbDhMTQ07RGY3uzDeH3rWrQh13ov/3ETcGSz8FRF9PkZCKUEWh5Z3XKZtmOl3DB42iyXvKUfPV/z8JprVnU1m/TzKkINkjsQcv3XmQ63x9p3ltUC4yzI5Jl9xlQQs9s2c6EJiGXLEAa8ETWw+2T8y7R0cE31iKB9h9kA/ddkFWTt78RPXhIfx5g5Grlzpn9Uhg/uS+9vfeFOdN01iJZ3dFeR2it5XhSGj6J229NmdoaJgqBgehgavDBgGJk+jGaTNl3Ax5Lr/sTptc+dmXRKDk2tDGZOKk2JW0SjKXvqSA+sMuZgpQxXKWQWfyGgRgb7ibh4UnWC5g9oBL/tEJcTCe8riCtOr082vHRYAgtMMv1GqMHWpfzn3Dggp7+nVml1rSRtr1DX8TnMGVsOtdtXqwFEedHLU+Qmw/JyuRA8AkX/0VCnrOZKW6Pgs8Rc3Jqzw3rXDCS7lGwRbZvd6K9PstuxSVTLmrefG0jEh0/JhbTFWN4Uxz7WC9fz7ozefnEr8tmfOq5LI69r+XRBJHsyeT9geej+tlKMK0piRL1e6S25MV8+we66DXZ3qDnDtsyR0b09g7h7frVr5WE0kjgk9ddJoVFYpENPS/YJYIntjIOxwFrpu+HyFb6uHTpwDlh1hA5B1Gg+FRpVHLmL24PEc/cN+DmP8FNgU/Cn9Bx3uT24febYAuAizhtI1RaAp4MAtSRsyUAGuw/7OYrTlW0OpwFc6X+2HKt1bHpU+HBnqRI2zwBQSKkNA00BfBDqjjz1QM/t8zKsaCjQ1XStoabYlHu9RRroH/bobqG0i8BxAllz704XSN1PkCHwakJpykXNV5+M9ywSDRhfAfc4Y6iAEG6mBtBnvCl9JmPKcpoXlwyCtfH41vfWVAsC2R6oytUT9RLCeMeUKMg+pqweQK2iXt3by2yVJUxw9oV9w/9h+lTzyK3UBpqMTAQ71N6obTVJMehqkAR5P32rrJREeqs5ChhjChQqBaLV94pIsbNh1qWbcCrEm7+Hb4mu2VZoUSDwb8XAf3pqobGqL5zyLrO+enCn4MbYhB8aTPopI5sU6oXAbhageaDWqfVN+IYJYvqNuTbO8NJ44PTRkARginRqg7ZkpSkDy2gScuzlGjHDv9NhjBbz0b7cc0BcC2EQvsGOOGH6yoWYSzU+RBo+vmDkn/nxhXcQplFPpFd5qC+XhBWih5LDlGz3FcSrL4+wr7Vikgj+xVBCnU5lfdqNFeU4x0PneSlYkkTgTTGuKrzLnjmZ39LfqVE4wyEH2/83PnvemU5GJVDgUs/QE9v3HeyiA+TxrC2wstPl803NL3IEmKgYFAuVYc6KOFNxPTKtGRJHhw0QkndnjkE7EVYiC8RrofM2a1SHTxpp24quQEDcpHx/zz13ughkUOUUFOYiF4e26U6jORGLlHK3VY6L5xIhyy305h9Ifb9z0YK7jJ718n4CbbgnTFXLqhIrzvuBnflVhzInocG2LEXGq3lVpTdGcbsuW3pQSfP6ZgDSQHqgSG7s3c4y4KUsJyTzRTD3qoZYHC6Xgh2vGcaubaucYVG+SqRAoPBZvqcYq2kkxjDdkJ0jsWNBzFO6yBBc91DkkKVtJPHRMtCCjEpDZVmDFHlCF7WG97jXlGEN/17xUbS2KlhLbIIPeuim4SG2KD2Jo4jpgMW+fEG5lIXXPzj0u3AoqmRlRghBiI+1+d+6aU0+tXQzdczFIgblPE/xt9Iab6l7kbGh/lOYlG83/6k90CFt1uFcsbtCoO1LCXiLXWUA/+SQurwBCEq5256dAjUBkVb36zb9d6+/DAoIs5Txau6zuLwMy8APuDLklScCWEkgnTufPuDUCDN4ENNYHsjZ0ldxjIdPuGvgWBjshPOYzM6X8rEvzFWUuPGiFfp3aHvrri2dfbH1mpAufYMcD0/dicBLkzmIQJvdVUDOZ0nooj/E8GMHrtdB/gUiyBUf090q3OT9o/BBuU3gdje2XNvnHNhLexICaSVJLnz5Jg='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10303, 'candidates_token_count': 60, 'total_token_count': 10783, 'cached_content_token_count': 1821, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10736}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1821}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 60}], 'thoughts_token_count': 420}, 'finish_reason': 'STOP', 'avg_logprobs': -0.46960541407267253, 'model_name': 'gemini-2.5-pro'} id='run--10d1993f-099c-4446-9ea5-de4f46dd88cc-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/test_markup.py', 'text': ':term:'}, 'id': '0cd95499-0a79-484a-819a-99aaefb91775', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/test_markup.py', 'end_line': 1000.0, 'start_line': 501.0}, 'id': '1a5e7370-f664-447f-9c45-d676ac9c91cb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10303, 'output_tokens': 60, 'total_tokens': 10783, 'input_token_details': {'cache_read': 1821}, 'output_token_details': {'reasoning': 420}}
2025-12-23 02:23:44,069 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the full content of `tests/test_markup.py` for you. While I couldn't find any explicit test cases for the `:term:` role in this file, I did find a relevant test for glossary definitions. The test named `test_inline` includes a parameterized test case for a `.. glossary::` directive, which defines `term1` and `term2`. This should be a good starting point for understanding how term definitions are handled." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11052, 'candidates_token_count': 97, 'total_token_count': 12301, 'cached_content_token_count': 9143, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11905}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9143}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 97}], 'thoughts_token_count': 1152}, 'finish_reason': 'STOP', 'avg_logprobs': -1.61274750699702, 'model_name': 'gemini-2.5-pro'} id='run--527e9ca3-90df-4934-bdb9-d95e4ce0e620-0' usage_metadata={'input_tokens': 11052, 'output_tokens': 97, 'total_tokens': 12301, 'input_token_details': {'cache_read': 9143}, 'output_token_details': {'reasoning': 1152}}
2025-12-23 02:23:44,076 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/test_markup.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If the file is too large, please prioritize providing any test cases that involve the `:term:` role or other glossary-related markup.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to find test cases for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/test_markup.py
Line number range: 1 - 500
Content:
1. """
2.     test_markup
3.     ~~~~~~~~~~~
4. 
5.     Test various Sphinx-specific markup extensions.
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import re
12. 
13. import pytest
14. from docutils import frontend, utils, nodes
15. from docutils.parsers.rst import Parser as RstParser
16. from docutils.transforms.universal import SmartQuotes
17. 
18. from sphinx import addnodes
19. from sphinx.builders.latex import LaTeXBuilder
20. from sphinx.roles import XRefRole
21. from sphinx.testing.util import Struct, assert_node
22. from sphinx.util import texescape
23. from sphinx.util.docutils import sphinx_domains
24. from sphinx.writers.html import HTMLWriter, HTMLTranslator
25. from sphinx.writers.latex import LaTeXWriter, LaTeXTranslator
26. 
27. 
28. @pytest.fixture
29. def settings(app):
30.     texescape.init()  # otherwise done by the latex builder
31.     optparser = frontend.OptionParser(
32.         components=(RstParser, HTMLWriter, LaTeXWriter))
33.     settings = optparser.get_default_values()
34.     settings.smart_quotes = True
35.     settings.env = app.builder.env
36.     settings.env.temp_data['docname'] = 'dummy'
37.     settings.contentsname = 'dummy'
38.     settings.rfc_base_url = 'http://tools.ietf.org/html/'
39.     domain_context = sphinx_domains(settings.env)
40.     domain_context.enable()
41.     yield settings
42.     domain_context.disable()
43. 
44. 
45. @pytest.fixture
46. def new_document(settings):
47.     def create():
48.         document = utils.new_document('test data', settings)
49.         document['file'] = 'dummy'
50.         return document
51. 
52.     return create
53. 
54. 
55. @pytest.fixture
56. def inliner(new_document):
57.     document = new_document()
58.     document.reporter.get_source_and_line = lambda line=1: ('dummy.rst', line)
59.     return Struct(document=document, reporter=document.reporter)
60. 
61. 
62. @pytest.fixture
63. def parse(new_document):
64.     def parse_(rst):
65.         document = new_document()
66.         parser = RstParser()
67.         parser.parse(rst, document)
68.         SmartQuotes(document, startnode=None).apply()
69.         for msg in document.traverse(nodes.system_message):
70.             if msg['level'] == 1:
71.                 msg.replace_self([])
72.         return document
73.     return parse_
74. 
75. 
76. # since we're not resolving the markup afterwards, these nodes may remain
77. class ForgivingTranslator:
78.     def visit_pending_xref(self, node):
79.         pass
80. 
81.     def depart_pending_xref(self, node):
82.         pass
83. 
84. 
85. class ForgivingHTMLTranslator(HTMLTranslator, ForgivingTranslator):
86.     pass
87. 
88. 
89. class ForgivingLaTeXTranslator(LaTeXTranslator, ForgivingTranslator):
90.     pass
91. 
92. 
93. @pytest.fixture
94. def verify_re_html(app, parse):
95.     def verify(rst, html_expected):
96.         document = parse(rst)
97.         html_translator = ForgivingHTMLTranslator(document, app.builder)
98.         document.walkabout(html_translator)
99.         html_translated = ''.join(html_translator.fragment).strip()
100.         assert re.match(html_expected, html_translated), 'from ' + rst
101.     return verify
102. 
103. 
104. @pytest.fixture
105. def verify_re_latex(app, parse):
106.     def verify(rst, latex_expected):
107.         document = parse(rst)
108.         app.builder = LaTeXBuilder(app)
109.         app.builder.set_environment(app.env)
110.         app.builder.init()
111.         latex_translator = ForgivingLaTeXTranslator(document, app.builder)
112.         latex_translator.first_document = -1  # don't write \begin{document}
113.         document.walkabout(latex_translator)
114.         latex_translated = ''.join(latex_translator.body).strip()
115.         assert re.match(latex_expected, latex_translated), 'from ' + repr(rst)
116.     return verify
117. 
118. 
119. @pytest.fixture
120. def verify_re(verify_re_html, verify_re_latex):
121.     def verify_re_(rst, html_expected, latex_expected):
122.         if html_expected:
123.             verify_re_html(rst, html_expected)
124.         if latex_expected:
125.             verify_re_latex(rst, latex_expected)
126.     return verify_re_
127. 
128. 
129. @pytest.fixture
130. def verify(verify_re_html, verify_re_latex):
131.     def verify_(rst, html_expected, latex_expected):
132.         if html_expected:
133.             verify_re_html(rst, re.escape(html_expected) + '$')
134.         if latex_expected:
135.             verify_re_latex(rst, re.escape(latex_expected) + '$')
136.     return verify_
137. 
138. 
139. @pytest.fixture
140. def get_verifier(verify, verify_re):
141.     v = {
142.         'verify': verify,
143.         'verify_re': verify_re,
144.     }
145. 
146.     def get(name):
147.         return v[name]
148.     return get
149. 
150. 
151. @pytest.mark.parametrize('type,rst,html_expected,latex_expected', [
152.     (
153.         # pep role
154.         'verify',
155.         ':pep:`8`',
156.         ('<p><span class="target" id="index-0"></span><a class="pep reference external" '
157.          'href="http://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a></p>'),
158.         ('\\index{Python Enhancement Proposals@\\spxentry{Python Enhancement Proposals}'
159.          '!PEP 8@\\spxentry{PEP 8}}\\sphinxhref{http://www.python.org/dev/peps/pep-0008}'
160.          '{\\sphinxstylestrong{PEP 8}}')
161.     ),
162.     (
163.         # pep role with anchor
164.         'verify',
165.         ':pep:`8#id1`',
166.         ('<p><span class="target" id="index-0"></span><a class="pep reference external" '
167.          'href="http://www.python.org/dev/peps/pep-0008#id1">'
168.          '<strong>PEP 8#id1</strong></a></p>'),
169.         ('\\index{Python Enhancement Proposals@\\spxentry{Python Enhancement Proposals}'
170.          '!PEP 8\\#id1@\\spxentry{PEP 8\\#id1}}\\sphinxhref'
171.          '{http://www.python.org/dev/peps/pep-0008\\#id1}'
172.          '{\\sphinxstylestrong{PEP 8\\#id1}}')
173.     ),
174.     (
175.         # rfc role
176.         'verify',
177.         ':rfc:`2324`',
178.         ('<p><span class="target" id="index-0"></span><a class="rfc reference external" '
179.          'href="http://tools.ietf.org/html/rfc2324.html"><strong>RFC 2324</strong></a></p>'),
180.         ('\\index{RFC@\\spxentry{RFC}!RFC 2324@\\spxentry{RFC 2324}}'
181.          '\\sphinxhref{http://tools.ietf.org/html/rfc2324.html}'
182.          '{\\sphinxstylestrong{RFC 2324}}')
183.     ),
184.     (
185.         # rfc role with anchor
186.         'verify',
187.         ':rfc:`2324#id1`',
188.         ('<p><span class="target" id="index-0"></span><a class="rfc reference external" '
189.          'href="http://tools.ietf.org/html/rfc2324.html#id1">'
190.          '<strong>RFC 2324#id1</strong></a></p>'),
191.         ('\\index{RFC@\\spxentry{RFC}!RFC 2324\\#id1@\\spxentry{RFC 2324\\#id1}}'
192.          '\\sphinxhref{http://tools.ietf.org/html/rfc2324.html\\#id1}'
193.          '{\\sphinxstylestrong{RFC 2324\\#id1}}')
194.     ),
195.     (
196.         # correct interpretation of code with whitespace
197.         'verify_re',
198.         '``code   sample``',
199.         ('<p><code class="(samp )?docutils literal notranslate"><span class="pre">'
200.          'code</span>&#160;&#160; <span class="pre">sample</span></code></p>'),
201.         r'\\sphinxcode{\\sphinxupquote{code   sample}}',
202.     ),
203.     (
204.         # interpolation of arrows in menuselection
205.         'verify',
206.         ':menuselection:`a --> b`',
207.         ('<p><span class="menuselection">a \N{TRIANGULAR BULLET} b</span></p>'),
208.         '\\sphinxmenuselection{a \\(\\rightarrow\\) b}',
209.     ),
210.     (
211.         # interpolation of ampersands in menuselection
212.         'verify',
213.         ':menuselection:`&Foo -&&- &Bar`',
214.         ('<p><span class="menuselection"><span class="accelerator">F</span>oo '
215.          '-&amp;- <span class="accelerator">B</span>ar</span></p>'),
216.         r'\sphinxmenuselection{\sphinxaccelerator{F}oo \sphinxhyphen{}\&\sphinxhyphen{} \sphinxaccelerator{B}ar}',
217.     ),
218.     (
219.         # interpolation of ampersands in guilabel
220.         'verify',
221.         ':guilabel:`&Foo -&&- &Bar`',
222.         ('<p><span class="guilabel"><span class="accelerator">F</span>oo '
223.          '-&amp;- <span class="accelerator">B</span>ar</span></p>'),
224.         r'\sphinxguilabel{\sphinxaccelerator{F}oo \sphinxhyphen{}\&\sphinxhyphen{} \sphinxaccelerator{B}ar}',
225.     ),
226.     (
227.         # no ampersands in guilabel
228.         'verify',
229.         ':guilabel:`Foo`',
230.         '<p><span class="guilabel">Foo</span></p>',
231.         r'\sphinxguilabel{Foo}',
232.     ),
233.     (
234.         # kbd role
235.         'verify',
236.         ':kbd:`space`',
237.         '<p><kbd class="kbd docutils literal notranslate">space</kbd></p>',
238.         '\\sphinxkeyboard{\\sphinxupquote{space}}',
239.     ),
240.     (
241.         # non-interpolation of dashes in option role
242.         'verify_re',
243.         ':option:`--with-option`',
244.         ('<p><code( class="xref std std-option docutils literal notranslate")?>'
245.          '<span class="pre">--with-option</span></code></p>$'),
246.         r'\\sphinxcode{\\sphinxupquote{\\sphinxhyphen{}\\sphinxhyphen{}with\\sphinxhyphen{}option}}$',
247.     ),
248.     (
249.         # verify smarty-pants quotes
250.         'verify',
251.         '"John"',
252.         '<p>“John”</p>',
253.         "“John”",
254.     ),
255.     (
256.         # ... but not in literal text
257.         'verify',
258.         '``"John"``',
259.         ('<p><code class="docutils literal notranslate"><span class="pre">'
260.          '&quot;John&quot;</span></code></p>'),
261.         '\\sphinxcode{\\sphinxupquote{"John"}}',
262.     ),
263.     (
264.         # verify classes for inline roles
265.         'verify',
266.         ':manpage:`mp(1)`',
267.         '<p><em class="manpage">mp(1)</em></p>',
268.         '\\sphinxstyleliteralemphasis{\\sphinxupquote{mp(1)}}',
269.     ),
270.     (
271.         # correct escaping in normal mode
272.         'verify',
273.         'Γ\\\\∞$',
274.         None,
275.         'Γ\\textbackslash{}\\(\\infty\\)\\$',
276.     ),
277.     (
278.         # in verbatim code fragments
279.         'verify',
280.         '::\n\n @Γ\\∞${}',
281.         None,
282.         ('\\begin{sphinxVerbatim}[commandchars=\\\\\\{\\}]\n'
283.          '@Γ\\PYGZbs{}\\(\\infty\\)\\PYGZdl{}\\PYGZob{}\\PYGZcb{}\n'
284.          '\\end{sphinxVerbatim}'),
285.     ),
286.     (
287.         # in URIs
288.         'verify_re',
289.         '`test <https://www.google.com/~me/>`_',
290.         None,
291.         r'\\sphinxhref{https://www.google.com/~me/}{test}.*',
292.     ),
293.     (
294.         # description list: simple
295.         'verify',
296.         'term\n    description',
297.         '<dl class="docutils">\n<dt>term</dt><dd>description</dd>\n</dl>',
298.         None,
299.     ),
300.     (
301.         # description list: with classifiers
302.         'verify',
303.         'term : class1 : class2\n    description',
304.         ('<dl class="docutils">\n<dt>term<span class="classifier">class1</span>'
305.          '<span class="classifier">class2</span></dt><dd>description</dd>\n</dl>'),
306.         None,
307.     ),
308.     (
309.         # glossary (description list): multiple terms
310.         'verify',
311.         '.. glossary::\n\n   term1\n   term2\n       description',
312.         ('<dl class="glossary docutils">\n<dt id="term-term1">term1</dt>'
313.          '<dt id="term-term2">term2</dt><dd>description</dd>\n</dl>'),
314.         None,
315.     ),
316. ])
317. def test_inline(get_verifier, type, rst, html_expected, latex_expected):
318.     verifier = get_verifier(type)
319.     verifier(rst, html_expected, latex_expected)
320. 
321. 
322. @pytest.mark.sphinx(confoverrides={'latex_engine': 'xelatex'})
323. @pytest.mark.parametrize('type,rst,html_expected,latex_expected', [
324.     (
325.         # in verbatim code fragments
326.         'verify',
327.         '::\n\n @Γ\\∞${}',
328.         None,
329.         ('\\begin{sphinxVerbatim}[commandchars=\\\\\\{\\}]\n'
330.          '@Γ\\PYGZbs{}∞\\PYGZdl{}\\PYGZob{}\\PYGZcb{}\n'
331.          '\\end{sphinxVerbatim}'),
332.     ),
333. ])
334. def test_inline_for_unicode_latex_engine(get_verifier, type, rst,
335.                                          html_expected, latex_expected):
336.     verifier = get_verifier(type)
337.     verifier(rst, html_expected, latex_expected)
338. 
339. 
340. def test_samp_role(parse):
341.     # no braces
342.     text = ':samp:`a{b}c`'
343.     doctree = parse(text)
344.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, ("a",
345.                                                               [nodes.emphasis, "b"],
346.                                                               "c")])
347.     # nested braces
348.     text = ':samp:`a{{b}}c`'
349.     doctree = parse(text)
350.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, ("a",
351.                                                               [nodes.emphasis, "{b"],
352.                                                               "}c")])
353. 
354.     # half-opened braces
355.     text = ':samp:`a{bc`'
356.     doctree = parse(text)
357.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "a{bc"])
358. 
359.     # escaped braces
360.     text = ':samp:`a\\\\{b}c`'
361.     doctree = parse(text)
362.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "a{b}c"])
363. 
364.     # no braces (whitespaces are keeped as is)
365.     text = ':samp:`code   sample`'
366.     doctree = parse(text)
367.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "code   sample"])
368. 
369. 
370. def test_download_role(parse):
371.     # implicit
372.     text = ':download:`sphinx.rst`'
373.     doctree = parse(text)
374.     assert_node(doctree[0], [nodes.paragraph, addnodes.download_reference,
375.                              nodes.literal, "sphinx.rst"])
376.     assert_node(doctree[0][0], refdoc='dummy', refdomain='', reftype='download',
377.                 refexplicit=False, reftarget='sphinx.rst', refwarn=False)
378.     assert_node(doctree[0][0][0], classes=['xref', 'download'])
379. 
380.     # explicit
381.     text = ':download:`reftitle <sphinx.rst>`'
382.     doctree = parse(text)
383.     assert_node(doctree[0], [nodes.paragraph, addnodes.download_reference,
384.                              nodes.literal, "reftitle"])
385.     assert_node(doctree[0][0], refdoc='dummy', refdomain='', reftype='download',
386.                 refexplicit=True, reftarget='sphinx.rst', refwarn=False)
387.     assert_node(doctree[0][0][0], classes=['xref', 'download'])
388. 
389. 
390. def test_XRefRole(inliner):
391.     role = XRefRole()
392. 
393.     # implicit
394.     doctrees, errors = role('ref', 'rawtext', 'text', 5, inliner, {}, [])
395.     assert len(doctrees) == 1
396.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text'])
397.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
398.                 refexplicit=False, refwarn=False)
399.     assert errors == []
400. 
401.     # explicit
402.     doctrees, errors = role('ref', 'rawtext', 'title <target>', 5, inliner, {}, [])
403.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'title'])
404.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='target',
405.                 refexplicit=True, refwarn=False)
406. 
407.     # bang
408.     doctrees, errors = role('ref', 'rawtext', '!title <target>', 5, inliner, {}, [])
409.     assert_node(doctrees[0], [nodes.literal, 'title <target>'])
410. 
411.     # refdomain
412.     doctrees, errors = role('test:doc', 'rawtext', 'text', 5, inliner, {}, [])
413.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text'])
414.     assert_node(doctrees[0], refdoc='dummy', refdomain='test', reftype='doc', reftarget='text',
415.                 refexplicit=False, refwarn=False)
416. 
417.     # fix_parens
418.     role = XRefRole(fix_parens=True)
419.     doctrees, errors = role('ref', 'rawtext', 'text()', 5, inliner, {}, [])
420.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text()'])
421.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
422.                 refexplicit=False, refwarn=False)
423. 
424.     # lowercase
425.     role = XRefRole(lowercase=True)
426.     doctrees, errors = role('ref', 'rawtext', 'TEXT', 5, inliner, {}, [])
427.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'TEXT'])
428.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
429.                 refexplicit=False, refwarn=False)
430. 
431. 
432. @pytest.mark.sphinx('dummy', testroot='prolog')
433. def test_rst_prolog(app, status, warning):
434.     app.builder.build_all()
435.     rst = app.env.get_doctree('restructuredtext')
436.     md = app.env.get_doctree('markdown')
437. 
438.     # rst_prolog
439.     assert_node(rst[0], nodes.paragraph)
440.     assert_node(rst[0][0], nodes.emphasis)
441.     assert_node(rst[0][0][0], nodes.Text)
442.     assert rst[0][0][0] == 'Hello world'
443. 
444.     # rst_epilog
445.     assert_node(rst[-1], nodes.section)
446.     assert_node(rst[-1][-1], nodes.paragraph)
447.     assert_node(rst[-1][-1][0], nodes.emphasis)
448.     assert_node(rst[-1][-1][0][0], nodes.Text)
449.     assert rst[-1][-1][0][0] == 'Good-bye world'
450. 
451.     # rst_prolog & rst_epilog on exlucding reST parser
452.     assert not md.rawsource.startswith('*Hello world*.')
453.     assert not md.rawsource.endswith('*Good-bye world*.\n')
454. 
455. 
456. @pytest.mark.sphinx('dummy', testroot='keep_warnings')
457. def test_keep_warnings_is_True(app, status, warning):
458.     app.builder.build_all()
459.     doctree = app.env.get_doctree('index')
460.     assert_node(doctree[0], nodes.section)
461.     assert len(doctree[0]) == 2
462.     assert_node(doctree[0][1], nodes.system_message)
463. 
464. 
465. @pytest.mark.sphinx('dummy', testroot='keep_warnings',
466.                     confoverrides={'keep_warnings': False})
467. def test_keep_warnings_is_False(app, status, warning):
468.     app.builder.build_all()
469.     doctree = app.env.get_doctree('index')
470.     assert_node(doctree[0], nodes.section)
471.     assert len(doctree[0]) == 1
472. 
473. 
474. @pytest.mark.sphinx('dummy', testroot='refonly_bullet_list')
475. def test_compact_refonly_bullet_list(app, status, warning):
476.     app.builder.build_all()
477.     doctree = app.env.get_doctree('index')
478.     assert_node(doctree[0], nodes.section)
479.     assert len(doctree[0]) == 5
480. 
481.     assert doctree[0][1].astext() == 'List A:'
482.     assert_node(doctree[0][2], nodes.bullet_list)
483.     assert_node(doctree[0][2][0][0], addnodes.compact_paragraph)
484.     assert doctree[0][2][0][0].astext() == 'genindex'
485. 
486.     assert doctree[0][3].astext() == 'List B:'
487.     assert_node(doctree[0][4], nodes.bullet_list)
488.     assert_node(doctree[0][4][0][0], nodes.paragraph)
489.     assert doctree[0][4][0][0].astext() == 'Hello'
490. 
491. 
492. @pytest.mark.sphinx('dummy', testroot='default_role')
493. def test_default_role1(app, status, warning):
494.     app.builder.build_all()
495. 
496.     # default-role: pep
497.     doctree = app.env.get_doctree('index')
498.     assert_node(doctree[0], nodes.section)
499.     assert_node(doctree[0][1], nodes.paragraph)
500.     assert_node(doctree[0][1][0], addnodes.index)


File: tests/test_markup.py
Line number range: 501 - 1000
Content:
501.     assert_node(doctree[0][1][1], nodes.target)
502.     assert_node(doctree[0][1][2], nodes.reference, classes=["pep"])
503. 
504.     # no default-role
505.     doctree = app.env.get_doctree('foo')
506.     assert_node(doctree[0], nodes.section)
507.     assert_node(doctree[0][1], nodes.paragraph)
508.     assert_node(doctree[0][1][0], nodes.title_reference)
509.     assert_node(doctree[0][1][1], nodes.Text)
510. 
511. 
512. @pytest.mark.sphinx('dummy', testroot='default_role',
513.                     confoverrides={'default_role': 'guilabel'})
514. def test_default_role2(app, status, warning):
515.     app.builder.build_all()
516. 
517.     # default-role directive is stronger than configratuion
518.     doctree = app.env.get_doctree('index')
519.     assert_node(doctree[0], nodes.section)
520.     assert_node(doctree[0][1], nodes.paragraph)
521.     assert_node(doctree[0][1][0], addnodes.index)
522.     assert_node(doctree[0][1][1], nodes.target)
523.     assert_node(doctree[0][1][2], nodes.reference, classes=["pep"])
524. 
525.     # default_role changes the default behavior
526.     doctree = app.env.get_doctree('foo')
527.     assert_node(doctree[0], nodes.section)
528.     assert_node(doctree[0][1], nodes.paragraph)
529.     assert_node(doctree[0][1][0], nodes.inline, classes=["guilabel"])
530.     assert_node(doctree[0][1][1], nodes.Text)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 02:24:00,809 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of the file `tests/test_markup.py`.\n   - This context contains the first part of the file (lines 1-500).\n2. Extended relevance:\n   - The user is specifically interested in test cases for the `:term:` role and glossary-related markup.\n   - This part of the file includes a test case for the `.. glossary::` directive (lines 309-315), which is directly relevant to the user's purpose.", relative_path='tests/test_markup.py', start_line=1, end_line=500), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of the file `tests/test_markup.py`.\n   - This context contains the rest of the file content (lines 501-530).\n2. Extended relevance:\n   - Providing this context completes the user's request for the full file content.", relative_path='tests/test_markup.py', start_line=501, end_line=530)]
2025-12-23 02:24:00,811 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/test_markup.py`.
2025-12-23 02:24:00,811 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 02:24:00,811 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 02:24:00,811 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 2 existing contexts
2025-12-23 02:24:00,812 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 4 total contexts (removed 0 duplicates)
2025-12-23 02:24:00,813 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sphinx
├── .appveyor.yml
├── .circleci
|   └── config.yml
├── .codecov.yml
├── .github
|   ├── ISSUE_TEMPLATE
|   |   ├── bug_report.md
|   |   ├── config.yml
|   |   └── feature_request.md
|   └── PULL_REQUEST_TEMPLATE.md
├── .travis.yml
├── CONTRIBUTING.rst
├── README.rst
├── bindep.txt
├── doc
|   ├── _static
|   |   ├── conf.py.txt
|   |   └── themes
|   |       └── fullsize
|   ├── _templates
|   |   ├── index.html
|   |   └── indexsidebar.html
|   ├── _themes
|   |   └── sphinx13
|   |       ├── layout.html
|   |       └── static
|   |           └── sphinx13.css
|   ├── authors.rst
|   ├── changes.rst
|   ├── code_of_conduct.rst
|   ├── conf.py
|   ├── contents.rst
|   ├── develop.rst
|   ├── development
|   |   └── tutorials
|   |       ├── examples
|   |       |   ├── README.rst
|   |       |   ├── helloworld.py
|   |       |   ├── recipe.py
|   |       |   └── todo.py
|   |       ├── helloworld.rst
|   |       ├── index.rst
|   |       ├── recipe.rst
|   |       └── todo.rst
|   ├── devguide.rst
|   ├── examples.rst
|   ├── extdev
|   |   ├── appapi.rst
|   |   ├── builderapi.rst
|   |   ├── collectorapi.rst
|   |   ├── deprecated.rst
|   |   ├── domainapi.rst
|   |   ├── envapi.rst
|   |   ├── i18n.rst
|   |   ├── index.rst
|   |   ├── logging.rst
|   |   ├── markupapi.rst
|   |   ├── nodes.rst
|   |   ├── parserapi.rst
|   |   ├── projectapi.rst
|   |   └── utils.rst
|   ├── faq.rst
|   ├── glossary.rst
|   ├── intro.rst
|   ├── latex.rst
|   ├── man
|   |   ├── index.rst
|   |   ├── sphinx-apidoc.rst
|   |   ├── sphinx-autogen.rst
|   |   ├── sphinx-build.rst
|   |   └── sphinx-quickstart.rst
|   ├── templating.rst
|   ├── theming.rst
|   └── usage
|       ├── advanced
|       |   ├── intl.rst
|       |   ├── setuptools.rst
|       |   └── websupport
|       |       ├── api.rst
|       |       ├── index.rst
|       |       ├── quickstart.rst
|       |       ├── searchadapters.rst
|       |       └── storagebackends.rst
|       ├── builders
|       |   └── index.rst
|       ├── configuration.rst
|       ├── extensions
|       |   ├── autodoc.rst
|       |   ├── autosectionlabel.rst
|       |   ├── autosummary.rst
|       |   ├── coverage.rst
|       |   ├── doctest.rst
|       |   ├── duration.rst
|       |   ├── example_google.py
|       |   ├── example_google.rst
|       |   ├── example_numpy.py
|       |   ├── example_numpy.rst
|       |   ├── extlinks.rst
|       |   ├── githubpages.rst
|       |   ├── graphviz.rst
|       |   ├── ifconfig.rst
|       |   ├── imgconverter.rst
|       |   ├── index.rst
|       |   ├── inheritance.rst
|       |   ├── intersphinx.rst
|       |   ├── linkcode.rst
|       |   ├── math.rst
|       |   ├── napoleon.rst
|       |   ├── todo.rst
|       |   └── viewcode.rst
|       ├── installation.rst
|       ├── markdown.rst
|       ├── quickstart.rst
|       ├── restructuredtext
|       |   ├── basics.rst
|       |   ├── directives.rst
|       |   ├── domains.rst
|       |   ├── field-lists.rst
|       |   ├── index.rst
|       |   └── roles.rst
|       └── theming.rst
├── karma.conf.js
├── setup.py
├── sphinx
|   ├── __init__.py
|   ├── __main__.py
|   ├── addnodes.py
|   ├── application.py
|   ├── builders
|   |   ├── __init__.py
|   |   ├── _epub_base.py
|   |   ├── applehelp.py
|   |   ├── changes.py
|   |   ├── devhelp.py
|   |   ├── dirhtml.py
|   |   ├── dummy.py
|   |   ├── epub3.py
|   |   ├── gettext.py
|   |   ├── html
|   |   |   └── __init__.py
|   |   ├── htmlhelp.py
|   |   ├── latex
|   |   |   ├── __init__.py
|   |   |   ├── constants.py
|   |   |   ├── nodes.py
|   |   |   ├── theming.py
|   |   |   ├── transforms.py
|   |   |   └── util.py
|   |   ├── linkcheck.py
|   |   ├── manpage.py
|   |   ├── qthelp.py
|   |   ├── singlehtml.py
|   |   ├── texinfo.py
|   |   ├── text.py
|   |   └── xml.py
|   ├── cmd
|   |   ├── __init__.py
|   |   ├── build.py
|   |   ├── make_mode.py
|   |   └── quickstart.py
|   ├── config.py
|   ├── deprecation.py
|   ├── directives
|   |   ├── __init__.py
|   |   ├── code.py
|   |   ├── other.py
|   |   └── patches.py
|   ├── domains
|   |   ├── __init__.py
|   |   ├── c.py
|   |   ├── changeset.py
|   |   ├── citation.py
|   |   ├── cpp.py
|   |   ├── index.py
|   |   ├── javascript.py
|   |   ├── math.py
|   |   ├── python.py
|   |   ├── rst.py
|   |   └── std.py
|   ├── environment
|   |   ├── __init__.py
|   |   ├── adapters
|   |   |   ├── __init__.py
|   |   |   ├── asset.py
|   |   |   ├── indexentries.py
|   |   |   └── toctree.py
|   |   └── collectors
|   |       ├── __init__.py
|   |       ├── asset.py
|   |       ├── dependencies.py
|   |       ├── indexentries.py
|   |       ├── metadata.py
|   |       ├── title.py
|   |       └── toctree.py
|   ├── errors.py
|   ├── events.py
|   ├── ext
|   |   ├── __init__.py
|   |   ├── apidoc.py
|   |   ├── autodoc
|   |   |   ├── __init__.py
|   |   |   ├── directive.py
|   |   |   ├── importer.py
|   |   |   ├── mock.py
|   |   |   ├── type_comment.py
|   |   |   └── typehints.py
|   |   ├── autosectionlabel.py
|   |   ├── autosummary
|   |   |   ├── __init__.py
|   |   |   ├── generate.py
|   |   |   └── templates
|   |   |       └── autosummary
|   |   ├── coverage.py
|   |   ├── doctest.py
|   |   ├── duration.py
|   |   ├── extlinks.py
|   |   ├── githubpages.py
|   |   ├── graphviz.py
|   |   ├── ifconfig.py
|   |   ├── imgconverter.py
|   |   ├── imgmath.py
|   |   ├── inheritance_diagram.py
|   |   ├── intersphinx.py
|   |   ├── jsmath.py
|   |   ├── linkcode.py
|   |   ├── mathjax.py
|   |   ├── napoleon
|   |   |   ├── __init__.py
|   |   |   ├── docstring.py
|   |   |   └── iterators.py
|   |   ├── todo.py
|   |   └── viewcode.py
|   ├── extension.py
|   ├── highlighting.py
|   ├── io.py
|   ├── jinja2glue.py
|   ├── locale
|   |   ├── __init__.py
|   |   ├── ar
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bg
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── bn
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ca
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cak
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cs
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── cy
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── da
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── de
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── el
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eo
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── es
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── et
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── eu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fa
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── fr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── he
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hi_IN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── hu
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── id
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── it
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ja
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ko
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── lv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── mk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nb_NO
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ne
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── nl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_BR
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── pt_PT
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ro
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ru
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── si
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sk
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sl
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sq
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr@latin
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sr_RS
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── sv
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ta
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── te
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── tr
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── uk_UA
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── ur
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── vi
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   ├── zh_CN
|   |   |   └── LC_MESSAGES
|   |   |       └── sphinx.js
|   |   └── zh_TW
|   |       └── LC_MESSAGES
|   |           └── sphinx.js
|   ├── parsers.py
|   ├── project.py
|   ├── pycode
|   |   ├── __init__.py
|   |   ├── ast.py
|   |   └── parser.py
|   ├── pygments_styles.py
|   ├── registry.py
|   ├── roles.py
|   ├── search
|   |   ├── __init__.py
|   |   ├── da.py
|   |   ├── de.py
|   |   ├── en.py
|   |   ├── es.py
|   |   ├── fi.py
|   |   ├── fr.py
|   |   ├── hu.py
|   |   ├── it.py
|   |   ├── ja.py
|   |   ├── jssplitter.py
|   |   ├── nl.py
|   |   ├── no.py
|   |   ├── non-minified-js
|   |   |   ├── danish-stemmer.js
|   |   |   ├── dutch-stemmer.js
|   |   |   ├── finnish-stemmer.js
|   |   |   ├── french-stemmer.js
|   |   |   ├── german-stemmer.js
|   |   |   ├── hungarian-stemmer.js
|   |   |   ├── italian-stemmer.js
|   |   |   ├── norwegian-stemmer.js
|   |   |   ├── porter-stemmer.js
|   |   |   ├── portuguese-stemmer.js
|   |   |   ├── romanian-stemmer.js
|   |   |   ├── russian-stemmer.js
|   |   |   ├── spanish-stemmer.js
|   |   |   ├── swedish-stemmer.js
|   |   |   └── turkish-stemmer.js
|   |   ├── pt.py
|   |   ├── ro.py
|   |   ├── ru.py
|   |   ├── sv.py
|   |   ├── tr.py
|   |   └── zh.py
|   ├── setup_command.py
|   ├── templates
|   |   ├── apidoc
|   |   ├── epub3
|   |   |   └── container.xml
|   |   ├── gettext
|   |   ├── graphviz
|   |   |   └── graphviz.css
|   |   ├── htmlhelp
|   |   ├── imgmath
|   |   ├── latex
|   |   ├── quickstart
|   |   └── texinfo
|   ├── testing
|   |   ├── __init__.py
|   |   ├── comparer.py
|   |   ├── fixtures.py
|   |   ├── path.py
|   |   ├── restructuredtext.py
|   |   └── util.py
|   ├── texinputs
|   ├── texinputs_win
|   ├── themes
|   |   ├── agogo
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── basic
|   |   |   ├── changes
|   |   |   |   ├── frameset.html
|   |   |   |   ├── rstsource.html
|   |   |   |   └── versionchanges.html
|   |   |   ├── defindex.html
|   |   |   ├── domainindex.html
|   |   |   ├── genindex-single.html
|   |   |   ├── genindex-split.html
|   |   |   ├── genindex.html
|   |   |   ├── globaltoc.html
|   |   |   ├── layout.html
|   |   |   ├── localtoc.html
|   |   |   ├── opensearch.xml
|   |   |   ├── page.html
|   |   |   ├── relations.html
|   |   |   ├── search.html
|   |   |   ├── searchbox.html
|   |   |   ├── sourcelink.html
|   |   |   └── static
|   |   |       ├── doctools.js
|   |   |       ├── jquery-3.4.1.js
|   |   |       ├── jquery.js
|   |   |       ├── searchtools.js
|   |   |       ├── underscore-1.3.1.js
|   |   |       └── underscore.js
|   |   ├── bizstyle
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── css3-mediaqueries.js
|   |   |       └── css3-mediaqueries_src.js
|   |   ├── classic
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── default
|   |   |   └── static
|   |   |       └── default.css
|   |   ├── epub
|   |   |   ├── epub-cover.html
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── haiku
|   |   |   ├── layout.html
|   |   |   └── static
|   |   ├── nature
|   |   |   └── static
|   |   ├── nonav
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       └── nonav.css
|   |   ├── pyramid
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── epub.css
|   |   |       └── ie6.css
|   |   ├── scrolls
|   |   |   ├── artwork
|   |   |   ├── layout.html
|   |   |   └── static
|   |   |       ├── print.css
|   |   |       └── theme_extras.js
|   |   ├── sphinxdoc
|   |   |   ├── layout.html
|   |   |   └── static
|   |   └── traditional
|   |       └── static
|   ├── theming.py
|   ├── transforms
|   |   ├── __init__.py
|   |   ├── compact_bullet_list.py
|   |   ├── i18n.py
|   |   ├── post_transforms
|   |   |   ├── __init__.py
|   |   |   ├── code.py
|   |   |   └── images.py
|   |   └── references.py
|   ├── util
|   |   ├── __init__.py
|   |   ├── build_phase.py
|   |   ├── cfamily.py
|   |   ├── compat.py
|   |   ├── console.py
|   |   ├── docfields.py
|   |   ├── docstrings.py
|   |   ├── docutils.py
|   |   ├── fileutil.py
|   |   ├── i18n.py
|   |   ├── images.py
|   |   ├── inspect.py
|   |   ├── inventory.py
|   |   ├── jsdump.py
|   |   ├── jsonimpl.py
|   |   ├── logging.py
|   |   ├── matching.py
|   |   ├── math.py
|   |   ├── nodes.py
|   |   ├── osutil.py
|   |   ├── parallel.py
|   |   ├── png.py
|   |   ├── pycompat.py
|   |   ├── requests.py
|   |   ├── rst.py
|   |   ├── smartypants.py
|   |   ├── stemmer
|   |   |   ├── __init__.py
|   |   |   └── porter.py
|   |   ├── tags.py
|   |   ├── template.py
|   |   ├── texescape.py
|   |   └── typing.py
|   ├── versioning.py
|   └── writers
|       ├── __init__.py
|       ├── html.py
|       ├── html5.py
|       ├── latex.py
|       ├── manpage.py
|       ├── texinfo.py
|       ├── text.py
|       └── xml.py
├── tests
|   ├── conftest.py
|   ├── js
|   |   └── doctools.js
|   ├── roots
|   |   ├── test-add_enumerable_node
|   |   |   ├── conf.py
|   |   |   ├── enumerable_node.py
|   |   |   └── index.rst
|   |   ├── test-add_source_parser
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-add_source_parser-conflicts-with-users-setting
|   |   |   ├── conf.py
|   |   |   └── source_parser.py
|   |   ├── test-api-set-translator
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nonext
|   |   |   |   └── conf.py
|   |   |   └── translator.py
|   |   ├── test-apidoc-pep420
|   |   |   └── a
|   |   |       └── b
|   |   ├── test-apidoc-subpackage-in-toc
|   |   |   └── parent
|   |   |       ├── __init__.py
|   |   |       └── child
|   |   ├── test-apidoc-toc
|   |   |   └── mypackage
|   |   |       ├── __init__.py
|   |   |       ├── main.py
|   |   |       ├── no_init
|   |   |       ├── resource
|   |   |       └── something
|   |   ├── test-apidoc-trailing-underscore
|   |   |   └── package_
|   |   |       ├── __init__.py
|   |   |       └── module_.py
|   |   ├── test-autosummary
|   |   |   ├── conf.py
|   |   |   ├── dummy_module.py
|   |   |   ├── index.rst
|   |   |   ├── sphinx.rst
|   |   |   └── underscore_module_.py
|   |   ├── test-basic
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-html-translator
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-build-text
|   |   |   ├── conf.py
|   |   |   ├── doc1.txt
|   |   |   ├── doc2.txt
|   |   |   ├── index.txt
|   |   |   ├── lineblock.txt
|   |   |   ├── listitems.txt
|   |   |   ├── maxwidth.txt
|   |   |   ├── nonascii_maxwidth.txt
|   |   |   ├── nonascii_table.txt
|   |   |   ├── nonascii_title.txt
|   |   |   ├── table.txt
|   |   |   ├── table_colspan.txt
|   |   |   ├── table_colspan_and_rowspan.txt
|   |   |   ├── table_colspan_left.txt
|   |   |   └── table_rowspan.txt
|   |   ├── test-builder-dirhtml
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo
|   |   |   |   ├── foo_1.rst
|   |   |   |   ├── foo_2.rst
|   |   |   |   └── index.rst
|   |   |   └── index.rst
|   |   ├── test-builder-gettext-dont-rebuild-mo
|   |   |   ├── bom.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-changes
|   |   |   ├── base.rst
|   |   |   ├── c-api.rst
|   |   |   ├── conf.py
|   |   |   ├── contents.rst
|   |   |   └── library
|   |   |       └── utils.rst
|   |   ├── test-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-config
|   |   |   └── conf.py
|   |   ├── test-correct-year
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-default_role
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-directive-code
|   |   |   ├── caption.rst
|   |   |   ├── classes.rst
|   |   |   ├── conf.py
|   |   |   ├── emphasize.rst
|   |   |   ├── force.rst
|   |   |   ├── highlight.rst
|   |   |   ├── index.rst
|   |   |   ├── linenos.rst
|   |   |   ├── linenothreshold.rst
|   |   |   ├── namedblocks.rst
|   |   |   ├── py-decorators.rst
|   |   |   ├── python.rst
|   |   |   └── target.py
|   |   ├── test-directive-only
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── only.rst
|   |   ├── test-directives-raw
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-docutilsconf
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-c
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-domain-cpp
|   |   |   ├── anon-dup-decl.rst
|   |   |   ├── any-role.rst
|   |   |   ├── backslash.rst
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── lookup-key-overload.rst
|   |   |   ├── multi-decl-lookup.rst
|   |   |   ├── roles-targets-ok.rst
|   |   |   ├── roles-targets-warn.rst
|   |   |   ├── roles.rst
|   |   |   ├── roles2.rst
|   |   |   ├── warn-template-param-qualified-name.rst
|   |   |   └── xref_consistency.rst
|   |   ├── test-domain-js
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   └── roles.rst
|   |   ├── test-domain-py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── module.rst
|   |   |   ├── module_option.rst
|   |   |   └── roles.rst
|   |   ├── test-double-inheriting-theme
|   |   |   ├── base_themes_dir
|   |   |   |   ├── base_theme1
|   |   |   |   └── base_theme2
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-epub-anchor-id
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autodoc
|   |   |   ├── autodoc_dummy_bar.py
|   |   |   ├── autodoc_dummy_module.py
|   |   |   ├── bug2437
|   |   |   |   ├── __init__.py
|   |   |   |   └── autodoc_dummy_foo.py
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target
|   |   |       ├── __init__.py
|   |   |       ├── abstractmethods.py
|   |   |       ├── annotated.py
|   |   |       ├── autoclass_content.py
|   |   |       ├── bound_method.py
|   |   |       ├── callable.py
|   |   |       ├── coroutine.py
|   |   |       ├── decorator.py
|   |   |       ├── descriptor.py
|   |   |       ├── docstring_signature.py
|   |   |       ├── enum.py
|   |   |       ├── functions.py
|   |   |       ├── imported_members.py
|   |   |       ├── inheritance.py
|   |   |       ├── methods.py
|   |   |       ├── need_mocks.py
|   |   |       ├── partialfunction.py
|   |   |       ├── partialmethod.py
|   |   |       ├── pep570.py
|   |   |       ├── private.py
|   |   |       ├── process_docstring.py
|   |   |       ├── singledispatch.py
|   |   |       ├── singledispatchmethod.py
|   |   |       ├── slots.py
|   |   |       ├── typed_vars.py
|   |   |       ├── typehints.py
|   |   |       └── wrappedfunction.py
|   |   ├── test-ext-autosectionlabel
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosectionlabel-prefix-document
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary
|   |   |   ├── autosummary_dummy_module.py
|   |   |   ├── autosummary_importfail.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-imported_members
|   |   |   ├── autosummary_dummy_package
|   |   |   |   ├── __init__.py
|   |   |   |   └── autosummary_dummy_module.py
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-mock_imports
|   |   |   ├── conf.py
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-autosummary-skip-member
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── target.py
|   |   ├── test-ext-coverage
|   |   |   ├── conf.py
|   |   |   ├── coverage_ignored.py
|   |   |   ├── coverage_not_ignored.py
|   |   |   └── index.rst
|   |   ├── test-ext-doctest
|   |   |   ├── conf.py
|   |   |   └── doctest.txt
|   |   ├── test-ext-doctest-skipif
|   |   |   ├── conf.py
|   |   |   └── skipif.txt
|   |   ├── test-ext-doctest-with-autodoc
|   |   |   ├── conf.py
|   |   |   ├── dir
|   |   |   |   ├── __init__.py
|   |   |   |   ├── bar.py
|   |   |   |   └── inner.rst
|   |   |   ├── foo.py
|   |   |   └── index.rst
|   |   ├── test-ext-githubpages
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-graphviz
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-ifconfig
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-imgconverter
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-inheritance_diagram
|   |   |   ├── conf.py
|   |   |   ├── example
|   |   |   |   ├── __init__.py
|   |   |   |   └── sphinx.py
|   |   |   ├── index.rst
|   |   |   └── test.py
|   |   ├── test-ext-intersphinx-cppdomain
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── math.rst
|   |   |   └── page.rst
|   |   ├── test-ext-math-compat
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-math-simple
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-ext-todo
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-ext-viewcode
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── objects.rst
|   |   |   └── spam
|   |   |       ├── __init__.py
|   |   |       ├── mod1.py
|   |   |       ├── mod2.py
|   |   |       └── mod3.py
|   |   ├── test-ext-viewcode-find
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── not_a_package
|   |   |       ├── __init__.py
|   |   |       └── submodule.py
|   |   ├── test-extensions
|   |   |   ├── conf.py
|   |   |   ├── read_parallel.py
|   |   |   ├── read_serial.py
|   |   |   ├── write_parallel.py
|   |   |   └── write_serial.py
|   |   ├── test-footnotes
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-gettext-template
|   |   |   ├── _templates
|   |   |   |   ├── template1.html
|   |   |   |   └── template2.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-glossary
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_assets
|   |   |   ├── conf.py
|   |   |   ├── extra
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   └── subdir
|   |   |   ├── index.rst
|   |   |   ├── static
|   |   |   |   ├── css
|   |   |   |   ├── index.rst
|   |   |   |   ├── js
|   |   |   |   └── subdir
|   |   |   └── subdir
|   |   |       └── _build
|   |   ├── test-html_entity
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_scaled_image_link
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-html_style
|   |   |   ├── _static
|   |   |   |   └── default.css
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-parsed-literal
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-image-in-section
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-images
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── subdir
|   |   |       └── index.rst
|   |   ├── test-index_on_title
|   |   |   ├── conf.py
|   |   |   └── contents.rst
|   |   ├── test-inheritance
|   |   |   ├── basic_diagram.rst
|   |   |   ├── conf.py
|   |   |   ├── diagram_module_w_2_top_classes.rst
|   |   |   ├── diagram_w_1_top_class.rst
|   |   |   ├── diagram_w_2_top_classes.rst
|   |   |   ├── diagram_w_nested_classes.rst
|   |   |   ├── diagram_w_parts.rst
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── test.py
|   |   |   |   └── test_nested.py
|   |   |   └── index.rst
|   |   ├── test-intl
|   |   |   ├── _templates
|   |   |   |   └── contents.html
|   |   |   ├── admonitions.txt
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── definition_terms.txt
|   |   |   ├── docfields.txt
|   |   |   ├── external_links.txt
|   |   |   ├── figure.txt
|   |   |   ├── footnote.txt
|   |   |   ├── glossary_terms.txt
|   |   |   ├── glossary_terms_inconsistency.txt
|   |   |   ├── index.txt
|   |   |   ├── index_entries.txt
|   |   |   ├── label_target.txt
|   |   |   ├── literalblock.txt
|   |   |   ├── only.txt
|   |   |   ├── raw.txt
|   |   |   ├── refs.txt
|   |   |   ├── refs_inconsistency.txt
|   |   |   ├── refs_python_domain.txt
|   |   |   ├── role_xref.txt
|   |   |   ├── rubric.txt
|   |   |   ├── section.txt
|   |   |   ├── seealso.txt
|   |   |   ├── subdir
|   |   |   |   └── index.txt
|   |   |   ├── table.txt
|   |   |   ├── toctree.txt
|   |   |   ├── topic.txt
|   |   |   ├── versionchange.txt
|   |   |   ├── warnings.txt
|   |   |   └── xx
|   |   |       └── LC_MESSAGES
|   |   ├── test-keep_warnings
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-babel
|   |   |   ├── bar.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-latex-equations
|   |   |   ├── conf.py
|   |   |   ├── equations.rst
|   |   |   └── expects
|   |   ├── test-latex-figure-in-admonition
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-includegraphics
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-index
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-labels
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── otherdoc.rst
|   |   ├── test-latex-numfig
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── indexhowto.rst
|   |   |   └── indexmanual.rst
|   |   ├── test-latex-table
|   |   |   ├── _mytemplates
|   |   |   |   └── latex
|   |   |   ├── complex.rst
|   |   |   ├── conf.py
|   |   |   ├── expects
|   |   |   ├── index.rst
|   |   |   ├── longtable.rst
|   |   |   └── tabular.rst
|   |   ├── test-latex-theme
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── theme
|   |   |       └── custom
|   |   ├── test-latex-title
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-latex-unicode
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-linkcheck
|   |   |   ├── conf.py
|   |   |   └── links.txt
|   |   ├── test-locale
|   |   |   ├── locale1
|   |   |   |   └── en
|   |   |   └── locale2
|   |   |       └── en
|   |   ├── test-manpage_url
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-citation
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-markup-rubric
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-maxlistdepth
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-metadata
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-need-escaped
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux.rst
|   |   ├── test-nested-enumerated-list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-nested-tables
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-numbered-circular
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── sub.rst
|   |   ├── test-numfig
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-productionlist
|   |   |   ├── Bare.rst
|   |   |   ├── Dup1.rst
|   |   |   ├── Dup2.rst
|   |   |   ├── LineContinuation.rst
|   |   |   ├── P1.rst
|   |   |   ├── P2.rst
|   |   |   ├── conf.py
|   |   |   ├── firstLineRule.rst
|   |   |   └── index.rst
|   |   ├── test-prolog
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── markdown.md
|   |   |   ├── prolog_markdown_parser.py
|   |   |   └── restructuredtext.rst
|   |   ├── test-pycode
|   |   |   └── cp_1251_coded.py
|   |   ├── test-pycode-egg
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   └── src
|   |   |       ├── sample.py
|   |   |       └── setup.py
|   |   ├── test-refonly_bullet_list
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-roles-download
|   |   |   ├── another
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-root
|   |   |   ├── _templates
|   |   |   |   ├── contentssb.html
|   |   |   |   ├── customsb.html
|   |   |   |   └── layout.html
|   |   |   ├── autodoc.txt
|   |   |   ├── autodoc_target.py
|   |   |   ├── bom.txt
|   |   |   ├── conf.py
|   |   |   ├── extapi.txt
|   |   |   ├── extensions.txt
|   |   |   ├── footnote.txt
|   |   |   ├── images.txt
|   |   |   ├── includes.txt
|   |   |   ├── index.txt
|   |   |   ├── lists.txt
|   |   |   ├── markup.txt
|   |   |   ├── math.txt
|   |   |   ├── objects.txt
|   |   |   ├── parsermod.py
|   |   |   ├── special
|   |   |   |   └── code.py
|   |   |   └── subdir
|   |   |       ├── excluded.txt
|   |   |       ├── images.txt
|   |   |       └── includes.txt
|   |   ├── test-search
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── nosearch.rst
|   |   |   └── tocitem.rst
|   |   ├── test-setup
|   |   |   ├── doc
|   |   |   |   ├── conf.py
|   |   |   |   └── index.txt
|   |   |   └── setup.py
|   |   ├── test-smartquotes
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-stylesheets
|   |   |   ├── _templates
|   |   |   |   └── layout.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-templating
|   |   |   ├── _templates
|   |   |   |   ├── autosummary
|   |   |   |   └── layout.html
|   |   |   ├── autosummary_templating.txt
|   |   |   ├── conf.py
|   |   |   └── index.txt
|   |   ├── test-theming
|   |   |   ├── conf.py
|   |   |   ├── index.rst
|   |   |   ├── setup.py
|   |   |   └── test_theme
|   |   |       ├── __init__.py
|   |   |       ├── staticfiles
|   |   |       └── test-theme
|   |   ├── test-tocdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   ├── qux.rst
|   |   |   └── tocdepth.rst
|   |   ├── test-toctree-duplicated
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   └── index.rst
|   |   ├── test-toctree-empty
|   |   |   ├── _templates
|   |   |   |   └── localtoc.html
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-toctree-glob
|   |   |   ├── bar
|   |   |   |   ├── bar_1.rst
|   |   |   |   ├── bar_2.rst
|   |   |   |   ├── bar_3.rst
|   |   |   |   ├── bar_4
|   |   |   |   └── index.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   ├── quux.rst
|   |   |   └── qux
|   |   |       ├── index.rst
|   |   |       ├── qux_1.rst
|   |   |       └── qux_2.rst
|   |   ├── test-toctree-maxdepth
|   |   |   ├── bar.rst
|   |   |   ├── baz.rst
|   |   |   ├── conf.py
|   |   |   ├── foo.rst
|   |   |   ├── index.rst
|   |   |   └── qux.rst
|   |   ├── test-trim_doctest_flags
|   |   |   ├── conf.py
|   |   |   └── index.rst
|   |   ├── test-versioning
|   |   |   ├── added.txt
|   |   |   ├── conf.py
|   |   |   ├── deleted.txt
|   |   |   ├── deleted_end.txt
|   |   |   ├── index.txt
|   |   |   ├── insert.txt
|   |   |   ├── insert_beginning.txt
|   |   |   ├── insert_similar.txt
|   |   |   ├── modified.txt
|   |   |   └── original.txt
|   |   └── test-warnings
|   |       ├── autodoc_fodder.py
|   |       ├── conf.py
|   |       ├── index.rst
|   |       └── undecodable.rst
|   ├── test_api_translator.py
|   ├── test_application.py
|   ├── test_autodoc.py
|   ├── test_build.py
|   ├── test_build_changes.py
|   ├── test_build_dirhtml.py
|   ├── test_build_epub.py
|   ├── test_build_gettext.py
|   ├── test_build_html.py
|   ├── test_build_latex.py
|   ├── test_build_linkcheck.py
|   ├── test_build_manpage.py
|   ├── test_build_texinfo.py
|   ├── test_build_text.py
|   ├── test_builder.py
|   ├── test_catalogs.py
|   ├── test_config.py
|   ├── test_correct_year.py
|   ├── test_directive_code.py
|   ├── test_directive_only.py
|   ├── test_directive_other.py
|   ├── test_directive_patch.py
|   ├── test_docutilsconf.py
|   ├── test_domain_c.py
|   ├── test_domain_cpp.py
|   ├── test_domain_js.py
|   ├── test_domain_py.py
|   ├── test_domain_rst.py
|   ├── test_domain_std.py
|   ├── test_environment.py
|   ├── test_environment_indexentries.py
|   ├── test_environment_toctree.py
|   ├── test_errors.py
|   ├── test_events.py
|   ├── test_ext_apidoc.py
|   ├── test_ext_autodoc.py
|   ├── test_ext_autodoc_configs.py
|   ├── test_ext_autodoc_events.py
|   ├── test_ext_autodoc_mock.py
|   ├── test_ext_autodoc_private_members.py
|   ├── test_ext_autosectionlabel.py
|   ├── test_ext_autosummary.py
|   ├── test_ext_coverage.py
|   ├── test_ext_doctest.py
|   ├── test_ext_duration.py
|   ├── test_ext_githubpages.py
|   ├── test_ext_graphviz.py
|   ├── test_ext_ifconfig.py
|   ├── test_ext_imgconverter.py
|   ├── test_ext_inheritance_diagram.py
|   ├── test_ext_intersphinx.py
|   ├── test_ext_math.py
|   ├── test_ext_napoleon.py
|   ├── test_ext_napoleon_docstring.py
|   ├── test_ext_napoleon_iterators.py
|   ├── test_ext_todo.py
|   ├── test_ext_viewcode.py
|   ├── test_highlighting.py
|   ├── test_intl.py
|   ├── test_locale.py
|   ├── test_markup.py
|   ├── test_metadata.py
|   ├── test_parser.py
|   ├── test_project.py
|   ├── test_pycode.py
|   ├── test_pycode_ast.py
|   ├── test_pycode_parser.py
|   ├── test_quickstart.py
|   ├── test_roles.py
|   ├── test_search.py
|   ├── test_setup_command.py
|   ├── test_smartquotes.py
|   ├── test_templating.py
|   ├── test_theming.py
|   ├── test_toctree.py
|   ├── test_transforms_post_transforms_code.py
|   ├── test_util.py
|   ├── test_util_docstrings.py
|   ├── test_util_docutils.py
|   ├── test_util_fileutil.py
|   ├── test_util_i18n.py
|   ├── test_util_images.py
|   ├── test_util_inspect.py
|   ├── test_util_inventory.py
|   ├── test_util_jsdump.py
|   ├── test_util_logging.py
|   ├── test_util_matching.py
|   ├── test_util_nodes.py
|   ├── test_util_pycompat.py
|   ├── test_util_rst.py
|   ├── test_util_template.py
|   ├── test_util_typing.py
|   ├── test_versioning.py
|   ├── test_writer_latex.py
|   └── typing_test_data.py
└── utils
    ├── __init__.py
    ├── bump_docker.sh
    ├── bump_version.py
    ├── checks.py
    ├── doclinter.py
    └── jssplitter_generator.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: glossary duplicate term with a different case

Description: **Describe the bug**
```
Warning, treated as error:
doc/glossary.rst:243:duplicate term description of mysql, other instance in glossary
```

**To Reproduce**
Steps to reproduce the behavior:
[.travis.yml#L168](https://github.com/phpmyadmin/phpmyadmin/blob/f7cc383674b7099190771b1db510c62bfbbf89a7/.travis.yml#L168)
```
$ git clone --depth 1 https://github.com/phpmyadmin/phpmyadmin.git
$ cd doc
$ pip install 'Sphinx'
$ make html
```

**Expected behavior**
MySQL != mysql term right ?

**Your project**
https://github.com/phpmyadmin/phpmyadmin/blame/master/doc/glossary.rst#L234


**Environment info**
- OS: Unix
- Python version: 3.6
- Sphinx version: 3.0.0

**Additional context**
Did occur some hours ago, maybe you just released the version

- https://travis-ci.org/github/williamdes/phpmyadmintest/jobs/671352365#L328



Patch information:
diff --git a/sphinx/domains/std.py b/sphinx/domains/std.py
index d820cfe5c..907ddee1c 100644
--- a/sphinx/domains/std.py
+++ b/sphinx/domains/std.py
@@ -305,7 +305,7 @@ def make_glossary_term(env: "BuildEnvironment", textnodes: Iterable[Node], index
         term['ids'].append(node_id)
 
     std = cast(StandardDomain, env.get_domain('std'))
-    std.note_object('term', termtext.lower(), node_id, location=term)
+    std.note_object('term', termtext, node_id, location=term)
 
     # add an index entry too
     indexnode = addnodes.index()
@@ -428,7 +428,7 @@ class Glossary(SphinxDirective):
 
         if 'sorted' in self.options:
             items.sort(key=lambda x:
-                       unicodedata.normalize('NFD', x[0][0].lower()))
+                       unicodedata.normalize('NFD', x[0][0]))
 
         dlist = nodes.definition_list()
         dlist['classes'].append('glossary')
@@ -565,7 +565,7 @@ class StandardDomain(Domain):
         # links to tokens in grammar productions
         'token':   TokenXRefRole(),
         # links to terms in glossary
-        'term':    XRefRole(lowercase=True, innernodeclass=nodes.inline,
+        'term':    XRefRole(lowercase=False, innernodeclass=nodes.inline,
                             warn_dangling=True),
         # links to headings or arbitrary labels
         'ref':     XRefRole(lowercase=True, innernodeclass=nodes.inline,
@@ -953,8 +953,14 @@ class StandardDomain(Domain):
         for objtype in self.object_types:
             key = (objtype, target)
             if objtype == 'term':
-                key = (objtype, ltarget)
-            if key in self.objects:
+                # For terms, try case-sensitive match first, then fallback to case-insensitive
+                if key in self.objects:
+                    docname, labelid = self.objects[key]
+                    results.append(('std:' + self.role_for_objtype(objtype),
+                                    make_refnode(builder, fromdocname, docname,
+                                                 labelid, contnode)))
+                # No fallback to case-insensitive for terms
+            elif key in self.objects:
                 docname, labelid = self.objects[key]
                 results.append(('std:' + self.role_for_objtype(objtype),
                                 make_refnode(builder, fromdocname, docname,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/test_domain_std.py` and `tests/roots/test-glossary/index.rst`.
Extra Requirements: 
Purpose: I need to analyze these files to find test cases that cover glossary term definitions and references, which are central to the reported bug.

Previous refined query 2:
Essential Query: Please provide the full content of `tests/test_markup.py`.
Extra Requirements: If the file is too large, please prioritize providing any test cases that involve the `:term:` role or other glossary-related markup.
Purpose: I need to find test cases for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/roots/test-glossary/index.rst
Line number range: 1 - 22
Content:
1. test-glossary
2. =============
3. 
4. .. glossary::
5.    :sorted:
6. 
7.    boson
8.       Particle with integer spin.
9. 
10.    *fermion*
11.       Particle with half-integer spin.
12. 
13.    tauon
14.    myon
15.    electron
16.       Examples for fermions.
17. 
18.    über
19.       Gewisse
20. 
21.    änhlich
22.       Dinge


File: tests/test_domain_std.py
Line number range: 1 - 385
Content:
1. """
2.     test_domain_std
3.     ~~~~~~~~~~~~~~~
4. 
5.     Tests the std domain
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import pytest
12. 
13. from unittest import mock
14. 
15. from docutils import nodes
16. from docutils.nodes import definition, definition_list, definition_list_item, term
17. 
18. from html5lib import HTMLParser
19. 
20. from sphinx import addnodes
21. from sphinx.addnodes import (
22.     desc, desc_addname, desc_content, desc_name, desc_signature, glossary, index,
23.     pending_xref
24. )
25. from sphinx.domains.std import StandardDomain
26. from sphinx.testing import restructuredtext
27. from sphinx.testing.util import assert_node
28. from sphinx.util import docutils
29. 
30. 
31. def test_process_doc_handle_figure_caption():
32.     env = mock.Mock(domaindata={})
33.     env.app.registry.enumerable_nodes = {}
34.     figure_node = nodes.figure(
35.         '',
36.         nodes.caption('caption text', 'caption text'),
37.     )
38.     document = mock.Mock(
39.         nametypes={'testname': True},
40.         nameids={'testname': 'testid'},
41.         ids={'testid': figure_node},
42.         citation_refs={},
43.     )
44.     document.traverse.return_value = []
45. 
46.     domain = StandardDomain(env)
47.     if 'testname' in domain.data['labels']:
48.         del domain.data['labels']['testname']
49.     domain.process_doc(env, 'testdoc', document)
50.     assert 'testname' in domain.data['labels']
51.     assert domain.data['labels']['testname'] == (
52.         'testdoc', 'testid', 'caption text')
53. 
54. 
55. def test_process_doc_handle_table_title():
56.     env = mock.Mock(domaindata={})
57.     env.app.registry.enumerable_nodes = {}
58.     table_node = nodes.table(
59.         '',
60.         nodes.title('title text', 'title text'),
61.     )
62.     document = mock.Mock(
63.         nametypes={'testname': True},
64.         nameids={'testname': 'testid'},
65.         ids={'testid': table_node},
66.         citation_refs={},
67.     )
68.     document.traverse.return_value = []
69. 
70.     domain = StandardDomain(env)
71.     if 'testname' in domain.data['labels']:
72.         del domain.data['labels']['testname']
73.     domain.process_doc(env, 'testdoc', document)
74.     assert 'testname' in domain.data['labels']
75.     assert domain.data['labels']['testname'] == (
76.         'testdoc', 'testid', 'title text')
77. 
78. 
79. def test_get_full_qualified_name():
80.     env = mock.Mock(domaindata={})
81.     env.app.registry.enumerable_nodes = {}
82.     domain = StandardDomain(env)
83. 
84.     # normal references
85.     node = nodes.reference()
86.     assert domain.get_full_qualified_name(node) is None
87. 
88.     # simple reference to options
89.     node = nodes.reference(reftype='option', reftarget='-l')
90.     assert domain.get_full_qualified_name(node) is None
91. 
92.     # options with std:program context
93.     kwargs = {'std:program': 'ls'}
94.     node = nodes.reference(reftype='option', reftarget='-l', **kwargs)
95.     assert domain.get_full_qualified_name(node) == 'ls.-l'
96. 
97. 
98. def test_glossary(app):
99.     text = (".. glossary::\n"
100.             "\n"
101.             "   term1\n"
102.             "   term2\n"
103.             "       description\n"
104.             "\n"
105.             "   term3 : classifier\n"
106.             "       description\n"
107.             "       description\n"
108.             "\n"
109.             "   term4 : class1 : class2\n"
110.             "       description\n")
111. 
112.     # doctree
113.     doctree = restructuredtext.parse(app, text)
114.     assert_node(doctree, (
115.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
116.                                                                      index)],
117.                                                              [term, ("term2",
118.                                                                      index)],
119.                                                              definition)],
120.                                      [definition_list_item, ([term, ("term3",
121.                                                                      index)],
122.                                                              definition)],
123.                                      [definition_list_item, ([term, ("term4",
124.                                                                      index)],
125.                                                              definition)])],
126.     ))
127.     assert_node(doctree[0][0][0][0][1],
128.                 entries=[("single", "term1", "term-term1", "main", None)])
129.     assert_node(doctree[0][0][0][1][1],
130.                 entries=[("single", "term2", "term-term2", "main", None)])
131.     assert_node(doctree[0][0][0][2],
132.                 [definition, nodes.paragraph, "description"])
133.     assert_node(doctree[0][0][1][0][1],
134.                 entries=[("single", "term3", "term-term3", "main", "classifier")])
135.     assert_node(doctree[0][0][1][1],
136.                 [definition, nodes.paragraph, ("description\n"
137.                                                "description")])
138.     assert_node(doctree[0][0][2][0][1],
139.                 entries=[("single", "term4", "term-term4", "main", "class1")])
140.     assert_node(doctree[0][0][2][1],
141.                 [nodes.definition, nodes.paragraph, "description"])
142. 
143.     # index
144.     objects = list(app.env.get_domain("std").get_objects())
145.     assert ("term1", "term1", "term", "index", "term-term1", -1) in objects
146.     assert ("term2", "term2", "term", "index", "term-term2", -1) in objects
147.     assert ("term3", "term3", "term", "index", "term-term3", -1) in objects
148.     assert ("term4", "term4", "term", "index", "term-term4", -1) in objects
149. 
150. 
151. def test_glossary_warning(app, status, warning):
152.     # empty line between terms
153.     text = (".. glossary::\n"
154.             "\n"
155.             "   term1\n"
156.             "\n"
157.             "   term2\n")
158.     restructuredtext.parse(app, text, "case1")
159.     assert ("case1.rst:4: WARNING: glossary terms must not be separated by empty lines"
160.             in warning.getvalue())
161. 
162.     # glossary starts with indented item
163.     text = (".. glossary::\n"
164.             "\n"
165.             "       description\n"
166.             "   term\n")
167.     restructuredtext.parse(app, text, "case2")
168.     assert ("case2.rst:3: WARNING: glossary term must be preceded by empty line"
169.             in warning.getvalue())
170. 
171.     # empty line between terms
172.     text = (".. glossary::\n"
173.             "\n"
174.             "   term1\n"
175.             "       description\n"
176.             "   term2\n")
177.     restructuredtext.parse(app, text, "case3")
178.     assert ("case3.rst:4: WARNING: glossary term must be preceded by empty line"
179.             in warning.getvalue())
180. 
181.     # duplicated terms
182.     text = (".. glossary::\n"
183.             "\n"
184.             "   term-case4\n"
185.             "   term-case4\n")
186.     restructuredtext.parse(app, text, "case4")
187.     assert ("case4.rst:3: WARNING: duplicate term description of term-case4, "
188.             "other instance in case4" in warning.getvalue())
189. 
190. 
191. def test_glossary_comment(app):
192.     text = (".. glossary::\n"
193.             "\n"
194.             "   term1\n"
195.             "       description\n"
196.             "   .. term2\n"
197.             "       description\n"
198.             "       description\n")
199.     doctree = restructuredtext.parse(app, text)
200.     assert_node(doctree, (
201.         [glossary, definition_list, definition_list_item, ([term, ("term1",
202.                                                                    index)],
203.                                                            definition)],
204.     ))
205.     assert_node(doctree[0][0][0][1],
206.                 [nodes.definition, nodes.paragraph, "description"])
207. 
208. 
209. def test_glossary_comment2(app):
210.     text = (".. glossary::\n"
211.             "\n"
212.             "   term1\n"
213.             "       description\n"
214.             "\n"
215.             "   .. term2\n"
216.             "   term3\n"
217.             "       description\n"
218.             "       description\n")
219.     doctree = restructuredtext.parse(app, text)
220.     assert_node(doctree, (
221.         [glossary, definition_list, ([definition_list_item, ([term, ("term1",
222.                                                                      index)],
223.                                                              definition)],
224.                                      [definition_list_item, ([term, ("term3",
225.                                                                      index)],
226.                                                              definition)])],
227.     ))
228.     assert_node(doctree[0][0][0][1],
229.                 [nodes.definition, nodes.paragraph, "description"])
230.     assert_node(doctree[0][0][1][1],
231.                 [nodes.definition, nodes.paragraph, ("description\n"
232.                                                      "description")])
233. 
234. 
235. def test_glossary_sorted(app):
236.     text = (".. glossary::\n"
237.             "   :sorted:\n"
238.             "\n"
239.             "   term3\n"
240.             "       description\n"
241.             "\n"
242.             "   term2\n"
243.             "   term1\n"
244.             "       description\n")
245.     doctree = restructuredtext.parse(app, text)
246.     assert_node(doctree, (
247.         [glossary, definition_list, ([definition_list_item, ([term, ("term2",
248.                                                                      index)],
249.                                                              [term, ("term1",
250.                                                                      index)],
251.                                                              definition)],
252.                                      [definition_list_item, ([term, ("term3",
253.                                                                      index)],
254.                                                              definition)])],
255.     ))
256.     assert_node(doctree[0][0][0][2],
257.                 [nodes.definition, nodes.paragraph, "description"])
258.     assert_node(doctree[0][0][1][1],
259.                 [nodes.definition, nodes.paragraph, "description"])
260. 
261. 
262. def test_glossary_alphanumeric(app):
263.     text = (".. glossary::\n"
264.             "\n"
265.             "   1\n"
266.             "   /\n")
267.     restructuredtext.parse(app, text)
268.     objects = list(app.env.get_domain("std").get_objects())
269.     assert ("1", "1", "term", "index", "term-1", -1) in objects
270.     assert ("/", "/", "term", "index", "term-0", -1) in objects
271. 
272. 
273. def test_glossary_conflicted_labels(app):
274.     text = (".. _term-foo:\n"
275.             ".. glossary::\n"
276.             "\n"
277.             "   foo\n")
278.     restructuredtext.parse(app, text)
279.     objects = list(app.env.get_domain("std").get_objects())
280.     assert ("foo", "foo", "term", "index", "term-0", -1) in objects
281. 
282. 
283. def test_cmdoption(app):
284.     text = (".. program:: ls\n"
285.             "\n"
286.             ".. option:: -l\n")
287.     domain = app.env.get_domain('std')
288.     doctree = restructuredtext.parse(app, text)
289.     assert_node(doctree, (addnodes.index,
290.                           [desc, ([desc_signature, ([desc_name, "-l"],
291.                                                     [desc_addname, ()])],
292.                                   [desc_content, ()])]))
293.     assert_node(doctree[0], addnodes.index,
294.                 entries=[('pair', 'ls command line option; -l', 'cmdoption-ls-l', '', None)])
295.     assert ('ls', '-l') in domain.progoptions
296.     assert domain.progoptions[('ls', '-l')] == ('index', 'cmdoption-ls-l')
297. 
298. 
299. def test_multiple_cmdoptions(app):
300.     text = (".. program:: cmd\n"
301.             "\n"
302.             ".. option:: -o directory, --output directory\n")
303.     domain = app.env.get_domain('std')
304.     doctree = restructuredtext.parse(app, text)
305.     assert_node(doctree, (addnodes.index,
306.                           [desc, ([desc_signature, ([desc_name, "-o"],
307.                                                     [desc_addname, " directory"],
308.                                                     [desc_addname, ", "],
309.                                                     [desc_name, "--output"],
310.                                                     [desc_addname, " directory"])],
311.                                   [desc_content, ()])]))
312.     assert_node(doctree[0], addnodes.index,
313.                 entries=[('pair', 'cmd command line option; -o directory',
314.                           'cmdoption-cmd-o', '', None),
315.                          ('pair', 'cmd command line option; --output directory',
316.                           'cmdoption-cmd-o', '', None)])
317.     assert ('cmd', '-o') in domain.progoptions
318.     assert ('cmd', '--output') in domain.progoptions
319.     assert domain.progoptions[('cmd', '-o')] == ('index', 'cmdoption-cmd-o')
320.     assert domain.progoptions[('cmd', '--output')] == ('index', 'cmdoption-cmd-o')
321. 
322. 
323. @pytest.mark.skipif(docutils.__version_info__ < (0, 13),
324.                     reason='docutils-0.13 or above is required')
325. @pytest.mark.sphinx(testroot='productionlist')
326. def test_productionlist(app, status, warning):
327.     app.builder.build_all()
328. 
329.     warnings = warning.getvalue().split("\n");
330.     assert len(warnings) == 2
331.     assert warnings[-1] == ''
332.     assert "Dup2.rst:4: WARNING: duplicate token description of Dup, other instance in Dup1" in warnings[0]
333. 
334.     with (app.outdir / 'index.html').open('rb') as f:
335.         etree = HTMLParser(namespaceHTMLElements=False).parse(f)
336.     ul = list(etree.iter('ul'))[1]
337.     cases = []
338.     for li in list(ul):
339.         assert len(list(li)) == 1
340.         p = list(li)[0]
341.         assert p.tag == 'p'
342.         text = str(p.text).strip(' :')
343.         assert len(list(p)) == 1
344.         a = list(p)[0]
345.         assert a.tag == 'a'
346.         link = a.get('href')
347.         assert len(list(a)) == 1
348.         code = list(a)[0]
349.         assert code.tag == 'code'
350.         assert len(list(code)) == 1
351.         span = list(code)[0]
352.         assert span.tag == 'span'
353.         linkText = span.text.strip()
354.         cases.append((text, link, linkText))
355.     assert cases == [
356.         ('A', 'Bare.html#grammar-token-A', 'A'),
357.         ('B', 'Bare.html#grammar-token-B', 'B'),
358.         ('P1:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
359.         ('P1:B', 'P1.html#grammar-token-P1-B', 'P1:B'),
360.         ('P2:A', 'P1.html#grammar-token-P1-A', 'P1:A'),
361.         ('P2:B', 'P2.html#grammar-token-P2-B', 'P2:B'),
362.         ('Explicit title A, plain', 'Bare.html#grammar-token-A', 'MyTitle'),
363.         ('Explicit title A, colon', 'Bare.html#grammar-token-A', 'My:Title'),
364.         ('Explicit title P1:A, plain', 'P1.html#grammar-token-P1-A', 'MyTitle'),
365.         ('Explicit title P1:A, colon', 'P1.html#grammar-token-P1-A', 'My:Title'),
366.         ('Tilde A', 'Bare.html#grammar-token-A', 'A'),
367.         ('Tilde P1:A', 'P1.html#grammar-token-P1-A', 'A'),
368.         ('Tilde explicit title P1:A', 'P1.html#grammar-token-P1-A', '~MyTitle'),
369.         ('Tilde, explicit title P1:A', 'P1.html#grammar-token-P1-A', 'MyTitle'),
370.         ('Dup', 'Dup2.html#grammar-token-Dup', 'Dup'),
371.         ('FirstLine', 'firstLineRule.html#grammar-token-FirstLine', 'FirstLine'),
372.         ('SecondLine', 'firstLineRule.html#grammar-token-SecondLine', 'SecondLine'),
373.     ]
374. 
375.     text = (app.outdir / 'LineContinuation.html').read_text()
376.     assert "A</strong> ::=  B C D    E F G" in text
377. 
378. 
379. def test_disabled_docref(app):
380.     text = (":doc:`index`\n"
381.             ":doc:`!index`\n")
382.     doctree = restructuredtext.parse(app, text)
383.     assert_node(doctree, ([nodes.paragraph, ([pending_xref, nodes.inline, "index"],
384.                                              "\n",
385.                                              [nodes.inline, "index"])],))


File: tests/test_markup.py
Line number range: 1 - 500
Content:
1. """
2.     test_markup
3.     ~~~~~~~~~~~
4. 
5.     Test various Sphinx-specific markup extensions.
6. 
7.     :copyright: Copyright 2007-2020 by the Sphinx team, see AUTHORS.
8.     :license: BSD, see LICENSE for details.
9. """
10. 
11. import re
12. 
13. import pytest
14. from docutils import frontend, utils, nodes
15. from docutils.parsers.rst import Parser as RstParser
16. from docutils.transforms.universal import SmartQuotes
17. 
18. from sphinx import addnodes
19. from sphinx.builders.latex import LaTeXBuilder
20. from sphinx.roles import XRefRole
21. from sphinx.testing.util import Struct, assert_node
22. from sphinx.util import texescape
23. from sphinx.util.docutils import sphinx_domains
24. from sphinx.writers.html import HTMLWriter, HTMLTranslator
25. from sphinx.writers.latex import LaTeXWriter, LaTeXTranslator
26. 
27. 
28. @pytest.fixture
29. def settings(app):
30.     texescape.init()  # otherwise done by the latex builder
31.     optparser = frontend.OptionParser(
32.         components=(RstParser, HTMLWriter, LaTeXWriter))
33.     settings = optparser.get_default_values()
34.     settings.smart_quotes = True
35.     settings.env = app.builder.env
36.     settings.env.temp_data['docname'] = 'dummy'
37.     settings.contentsname = 'dummy'
38.     settings.rfc_base_url = 'http://tools.ietf.org/html/'
39.     domain_context = sphinx_domains(settings.env)
40.     domain_context.enable()
41.     yield settings
42.     domain_context.disable()
43. 
44. 
45. @pytest.fixture
46. def new_document(settings):
47.     def create():
48.         document = utils.new_document('test data', settings)
49.         document['file'] = 'dummy'
50.         return document
51. 
52.     return create
53. 
54. 
55. @pytest.fixture
56. def inliner(new_document):
57.     document = new_document()
58.     document.reporter.get_source_and_line = lambda line=1: ('dummy.rst', line)
59.     return Struct(document=document, reporter=document.reporter)
60. 
61. 
62. @pytest.fixture
63. def parse(new_document):
64.     def parse_(rst):
65.         document = new_document()
66.         parser = RstParser()
67.         parser.parse(rst, document)
68.         SmartQuotes(document, startnode=None).apply()
69.         for msg in document.traverse(nodes.system_message):
70.             if msg['level'] == 1:
71.                 msg.replace_self([])
72.         return document
73.     return parse_
74. 
75. 
76. # since we're not resolving the markup afterwards, these nodes may remain
77. class ForgivingTranslator:
78.     def visit_pending_xref(self, node):
79.         pass
80. 
81.     def depart_pending_xref(self, node):
82.         pass
83. 
84. 
85. class ForgivingHTMLTranslator(HTMLTranslator, ForgivingTranslator):
86.     pass
87. 
88. 
89. class ForgivingLaTeXTranslator(LaTeXTranslator, ForgivingTranslator):
90.     pass
91. 
92. 
93. @pytest.fixture
94. def verify_re_html(app, parse):
95.     def verify(rst, html_expected):
96.         document = parse(rst)
97.         html_translator = ForgivingHTMLTranslator(document, app.builder)
98.         document.walkabout(html_translator)
99.         html_translated = ''.join(html_translator.fragment).strip()
100.         assert re.match(html_expected, html_translated), 'from ' + rst
101.     return verify
102. 
103. 
104. @pytest.fixture
105. def verify_re_latex(app, parse):
106.     def verify(rst, latex_expected):
107.         document = parse(rst)
108.         app.builder = LaTeXBuilder(app)
109.         app.builder.set_environment(app.env)
110.         app.builder.init()
111.         latex_translator = ForgivingLaTeXTranslator(document, app.builder)
112.         latex_translator.first_document = -1  # don't write \begin{document}
113.         document.walkabout(latex_translator)
114.         latex_translated = ''.join(latex_translator.body).strip()
115.         assert re.match(latex_expected, latex_translated), 'from ' + repr(rst)
116.     return verify
117. 
118. 
119. @pytest.fixture
120. def verify_re(verify_re_html, verify_re_latex):
121.     def verify_re_(rst, html_expected, latex_expected):
122.         if html_expected:
123.             verify_re_html(rst, html_expected)
124.         if latex_expected:
125.             verify_re_latex(rst, latex_expected)
126.     return verify_re_
127. 
128. 
129. @pytest.fixture
130. def verify(verify_re_html, verify_re_latex):
131.     def verify_(rst, html_expected, latex_expected):
132.         if html_expected:
133.             verify_re_html(rst, re.escape(html_expected) + '$')
134.         if latex_expected:
135.             verify_re_latex(rst, re.escape(latex_expected) + '$')
136.     return verify_
137. 
138. 
139. @pytest.fixture
140. def get_verifier(verify, verify_re):
141.     v = {
142.         'verify': verify,
143.         'verify_re': verify_re,
144.     }
145. 
146.     def get(name):
147.         return v[name]
148.     return get
149. 
150. 
151. @pytest.mark.parametrize('type,rst,html_expected,latex_expected', [
152.     (
153.         # pep role
154.         'verify',
155.         ':pep:`8`',
156.         ('<p><span class="target" id="index-0"></span><a class="pep reference external" '
157.          'href="http://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a></p>'),
158.         ('\\index{Python Enhancement Proposals@\\spxentry{Python Enhancement Proposals}'
159.          '!PEP 8@\\spxentry{PEP 8}}\\sphinxhref{http://www.python.org/dev/peps/pep-0008}'
160.          '{\\sphinxstylestrong{PEP 8}}')
161.     ),
162.     (
163.         # pep role with anchor
164.         'verify',
165.         ':pep:`8#id1`',
166.         ('<p><span class="target" id="index-0"></span><a class="pep reference external" '
167.          'href="http://www.python.org/dev/peps/pep-0008#id1">'
168.          '<strong>PEP 8#id1</strong></a></p>'),
169.         ('\\index{Python Enhancement Proposals@\\spxentry{Python Enhancement Proposals}'
170.          '!PEP 8\\#id1@\\spxentry{PEP 8\\#id1}}\\sphinxhref'
171.          '{http://www.python.org/dev/peps/pep-0008\\#id1}'
172.          '{\\sphinxstylestrong{PEP 8\\#id1}}')
173.     ),
174.     (
175.         # rfc role
176.         'verify',
177.         ':rfc:`2324`',
178.         ('<p><span class="target" id="index-0"></span><a class="rfc reference external" '
179.          'href="http://tools.ietf.org/html/rfc2324.html"><strong>RFC 2324</strong></a></p>'),
180.         ('\\index{RFC@\\spxentry{RFC}!RFC 2324@\\spxentry{RFC 2324}}'
181.          '\\sphinxhref{http://tools.ietf.org/html/rfc2324.html}'
182.          '{\\sphinxstylestrong{RFC 2324}}')
183.     ),
184.     (
185.         # rfc role with anchor
186.         'verify',
187.         ':rfc:`2324#id1`',
188.         ('<p><span class="target" id="index-0"></span><a class="rfc reference external" '
189.          'href="http://tools.ietf.org/html/rfc2324.html#id1">'
190.          '<strong>RFC 2324#id1</strong></a></p>'),
191.         ('\\index{RFC@\\spxentry{RFC}!RFC 2324\\#id1@\\spxentry{RFC 2324\\#id1}}'
192.          '\\sphinxhref{http://tools.ietf.org/html/rfc2324.html\\#id1}'
193.          '{\\sphinxstylestrong{RFC 2324\\#id1}}')
194.     ),
195.     (
196.         # correct interpretation of code with whitespace
197.         'verify_re',
198.         '``code   sample``',
199.         ('<p><code class="(samp )?docutils literal notranslate"><span class="pre">'
200.          'code</span>&#160;&#160; <span class="pre">sample</span></code></p>'),
201.         r'\\sphinxcode{\\sphinxupquote{code   sample}}',
202.     ),
203.     (
204.         # interpolation of arrows in menuselection
205.         'verify',
206.         ':menuselection:`a --> b`',
207.         ('<p><span class="menuselection">a \N{TRIANGULAR BULLET} b</span></p>'),
208.         '\\sphinxmenuselection{a \\(\\rightarrow\\) b}',
209.     ),
210.     (
211.         # interpolation of ampersands in menuselection
212.         'verify',
213.         ':menuselection:`&Foo -&&- &Bar`',
214.         ('<p><span class="menuselection"><span class="accelerator">F</span>oo '
215.          '-&amp;- <span class="accelerator">B</span>ar</span></p>'),
216.         r'\sphinxmenuselection{\sphinxaccelerator{F}oo \sphinxhyphen{}\&\sphinxhyphen{} \sphinxaccelerator{B}ar}',
217.     ),
218.     (
219.         # interpolation of ampersands in guilabel
220.         'verify',
221.         ':guilabel:`&Foo -&&- &Bar`',
222.         ('<p><span class="guilabel"><span class="accelerator">F</span>oo '
223.          '-&amp;- <span class="accelerator">B</span>ar</span></p>'),
224.         r'\sphinxguilabel{\sphinxaccelerator{F}oo \sphinxhyphen{}\&\sphinxhyphen{} \sphinxaccelerator{B}ar}',
225.     ),
226.     (
227.         # no ampersands in guilabel
228.         'verify',
229.         ':guilabel:`Foo`',
230.         '<p><span class="guilabel">Foo</span></p>',
231.         r'\sphinxguilabel{Foo}',
232.     ),
233.     (
234.         # kbd role
235.         'verify',
236.         ':kbd:`space`',
237.         '<p><kbd class="kbd docutils literal notranslate">space</kbd></p>',
238.         '\\sphinxkeyboard{\\sphinxupquote{space}}',
239.     ),
240.     (
241.         # non-interpolation of dashes in option role
242.         'verify_re',
243.         ':option:`--with-option`',
244.         ('<p><code( class="xref std std-option docutils literal notranslate")?>'
245.          '<span class="pre">--with-option</span></code></p>$'),
246.         r'\\sphinxcode{\\sphinxupquote{\\sphinxhyphen{}\\sphinxhyphen{}with\\sphinxhyphen{}option}}$',
247.     ),
248.     (
249.         # verify smarty-pants quotes
250.         'verify',
251.         '"John"',
252.         '<p>“John”</p>',
253.         "“John”",
254.     ),
255.     (
256.         # ... but not in literal text
257.         'verify',
258.         '``"John"``',
259.         ('<p><code class="docutils literal notranslate"><span class="pre">'
260.          '&quot;John&quot;</span></code></p>'),
261.         '\\sphinxcode{\\sphinxupquote{"John"}}',
262.     ),
263.     (
264.         # verify classes for inline roles
265.         'verify',
266.         ':manpage:`mp(1)`',
267.         '<p><em class="manpage">mp(1)</em></p>',
268.         '\\sphinxstyleliteralemphasis{\\sphinxupquote{mp(1)}}',
269.     ),
270.     (
271.         # correct escaping in normal mode
272.         'verify',
273.         'Γ\\\\∞$',
274.         None,
275.         'Γ\\textbackslash{}\\(\\infty\\)\\$',
276.     ),
277.     (
278.         # in verbatim code fragments
279.         'verify',
280.         '::\n\n @Γ\\∞${}',
281.         None,
282.         ('\\begin{sphinxVerbatim}[commandchars=\\\\\\{\\}]\n'
283.          '@Γ\\PYGZbs{}\\(\\infty\\)\\PYGZdl{}\\PYGZob{}\\PYGZcb{}\n'
284.          '\\end{sphinxVerbatim}'),
285.     ),
286.     (
287.         # in URIs
288.         'verify_re',
289.         '`test <https://www.google.com/~me/>`_',
290.         None,
291.         r'\\sphinxhref{https://www.google.com/~me/}{test}.*',
292.     ),
293.     (
294.         # description list: simple
295.         'verify',
296.         'term\n    description',
297.         '<dl class="docutils">\n<dt>term</dt><dd>description</dd>\n</dl>',
298.         None,
299.     ),
300.     (
301.         # description list: with classifiers
302.         'verify',
303.         'term : class1 : class2\n    description',
304.         ('<dl class="docutils">\n<dt>term<span class="classifier">class1</span>'
305.          '<span class="classifier">class2</span></dt><dd>description</dd>\n</dl>'),
306.         None,
307.     ),
308.     (
309.         # glossary (description list): multiple terms
310.         'verify',
311.         '.. glossary::\n\n   term1\n   term2\n       description',
312.         ('<dl class="glossary docutils">\n<dt id="term-term1">term1</dt>'
313.          '<dt id="term-term2">term2</dt><dd>description</dd>\n</dl>'),
314.         None,
315.     ),
316. ])
317. def test_inline(get_verifier, type, rst, html_expected, latex_expected):
318.     verifier = get_verifier(type)
319.     verifier(rst, html_expected, latex_expected)
320. 
321. 
322. @pytest.mark.sphinx(confoverrides={'latex_engine': 'xelatex'})
323. @pytest.mark.parametrize('type,rst,html_expected,latex_expected', [
324.     (
325.         # in verbatim code fragments
326.         'verify',
327.         '::\n\n @Γ\\∞${}',
328.         None,
329.         ('\\begin{sphinxVerbatim}[commandchars=\\\\\\{\\}]\n'
330.          '@Γ\\PYGZbs{}∞\\PYGZdl{}\\PYGZob{}\\PYGZcb{}\n'
331.          '\\end{sphinxVerbatim}'),
332.     ),
333. ])
334. def test_inline_for_unicode_latex_engine(get_verifier, type, rst,
335.                                          html_expected, latex_expected):
336.     verifier = get_verifier(type)
337.     verifier(rst, html_expected, latex_expected)
338. 
339. 
340. def test_samp_role(parse):
341.     # no braces
342.     text = ':samp:`a{b}c`'
343.     doctree = parse(text)
344.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, ("a",
345.                                                               [nodes.emphasis, "b"],
346.                                                               "c")])
347.     # nested braces
348.     text = ':samp:`a{{b}}c`'
349.     doctree = parse(text)
350.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, ("a",
351.                                                               [nodes.emphasis, "{b"],
352.                                                               "}c")])
353. 
354.     # half-opened braces
355.     text = ':samp:`a{bc`'
356.     doctree = parse(text)
357.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "a{bc"])
358. 
359.     # escaped braces
360.     text = ':samp:`a\\\\{b}c`'
361.     doctree = parse(text)
362.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "a{b}c"])
363. 
364.     # no braces (whitespaces are keeped as is)
365.     text = ':samp:`code   sample`'
366.     doctree = parse(text)
367.     assert_node(doctree[0], [nodes.paragraph, nodes.literal, "code   sample"])
368. 
369. 
370. def test_download_role(parse):
371.     # implicit
372.     text = ':download:`sphinx.rst`'
373.     doctree = parse(text)
374.     assert_node(doctree[0], [nodes.paragraph, addnodes.download_reference,
375.                              nodes.literal, "sphinx.rst"])
376.     assert_node(doctree[0][0], refdoc='dummy', refdomain='', reftype='download',
377.                 refexplicit=False, reftarget='sphinx.rst', refwarn=False)
378.     assert_node(doctree[0][0][0], classes=['xref', 'download'])
379. 
380.     # explicit
381.     text = ':download:`reftitle <sphinx.rst>`'
382.     doctree = parse(text)
383.     assert_node(doctree[0], [nodes.paragraph, addnodes.download_reference,
384.                              nodes.literal, "reftitle"])
385.     assert_node(doctree[0][0], refdoc='dummy', refdomain='', reftype='download',
386.                 refexplicit=True, reftarget='sphinx.rst', refwarn=False)
387.     assert_node(doctree[0][0][0], classes=['xref', 'download'])
388. 
389. 
390. def test_XRefRole(inliner):
391.     role = XRefRole()
392. 
393.     # implicit
394.     doctrees, errors = role('ref', 'rawtext', 'text', 5, inliner, {}, [])
395.     assert len(doctrees) == 1
396.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text'])
397.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
398.                 refexplicit=False, refwarn=False)
399.     assert errors == []
400. 
401.     # explicit
402.     doctrees, errors = role('ref', 'rawtext', 'title <target>', 5, inliner, {}, [])
403.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'title'])
404.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='target',
405.                 refexplicit=True, refwarn=False)
406. 
407.     # bang
408.     doctrees, errors = role('ref', 'rawtext', '!title <target>', 5, inliner, {}, [])
409.     assert_node(doctrees[0], [nodes.literal, 'title <target>'])
410. 
411.     # refdomain
412.     doctrees, errors = role('test:doc', 'rawtext', 'text', 5, inliner, {}, [])
413.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text'])
414.     assert_node(doctrees[0], refdoc='dummy', refdomain='test', reftype='doc', reftarget='text',
415.                 refexplicit=False, refwarn=False)
416. 
417.     # fix_parens
418.     role = XRefRole(fix_parens=True)
419.     doctrees, errors = role('ref', 'rawtext', 'text()', 5, inliner, {}, [])
420.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'text()'])
421.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
422.                 refexplicit=False, refwarn=False)
423. 
424.     # lowercase
425.     role = XRefRole(lowercase=True)
426.     doctrees, errors = role('ref', 'rawtext', 'TEXT', 5, inliner, {}, [])
427.     assert_node(doctrees[0], [addnodes.pending_xref, nodes.literal, 'TEXT'])
428.     assert_node(doctrees[0], refdoc='dummy', refdomain='', reftype='ref', reftarget='text',
429.                 refexplicit=False, refwarn=False)
430. 
431. 
432. @pytest.mark.sphinx('dummy', testroot='prolog')
433. def test_rst_prolog(app, status, warning):
434.     app.builder.build_all()
435.     rst = app.env.get_doctree('restructuredtext')
436.     md = app.env.get_doctree('markdown')
437. 
438.     # rst_prolog
439.     assert_node(rst[0], nodes.paragraph)
440.     assert_node(rst[0][0], nodes.emphasis)
441.     assert_node(rst[0][0][0], nodes.Text)
442.     assert rst[0][0][0] == 'Hello world'
443. 
444.     # rst_epilog
445.     assert_node(rst[-1], nodes.section)
446.     assert_node(rst[-1][-1], nodes.paragraph)
447.     assert_node(rst[-1][-1][0], nodes.emphasis)
448.     assert_node(rst[-1][-1][0][0], nodes.Text)
449.     assert rst[-1][-1][0][0] == 'Good-bye world'
450. 
451.     # rst_prolog & rst_epilog on exlucding reST parser
452.     assert not md.rawsource.startswith('*Hello world*.')
453.     assert not md.rawsource.endswith('*Good-bye world*.\n')
454. 
455. 
456. @pytest.mark.sphinx('dummy', testroot='keep_warnings')
457. def test_keep_warnings_is_True(app, status, warning):
458.     app.builder.build_all()
459.     doctree = app.env.get_doctree('index')
460.     assert_node(doctree[0], nodes.section)
461.     assert len(doctree[0]) == 2
462.     assert_node(doctree[0][1], nodes.system_message)
463. 
464. 
465. @pytest.mark.sphinx('dummy', testroot='keep_warnings',
466.                     confoverrides={'keep_warnings': False})
467. def test_keep_warnings_is_False(app, status, warning):
468.     app.builder.build_all()
469.     doctree = app.env.get_doctree('index')
470.     assert_node(doctree[0], nodes.section)
471.     assert len(doctree[0]) == 1
472. 
473. 
474. @pytest.mark.sphinx('dummy', testroot='refonly_bullet_list')
475. def test_compact_refonly_bullet_list(app, status, warning):
476.     app.builder.build_all()
477.     doctree = app.env.get_doctree('index')
478.     assert_node(doctree[0], nodes.section)
479.     assert len(doctree[0]) == 5
480. 
481.     assert doctree[0][1].astext() == 'List A:'
482.     assert_node(doctree[0][2], nodes.bullet_list)
483.     assert_node(doctree[0][2][0][0], addnodes.compact_paragraph)
484.     assert doctree[0][2][0][0].astext() == 'genindex'
485. 
486.     assert doctree[0][3].astext() == 'List B:'
487.     assert_node(doctree[0][4], nodes.bullet_list)
488.     assert_node(doctree[0][4][0][0], nodes.paragraph)
489.     assert doctree[0][4][0][0].astext() == 'Hello'
490. 
491. 
492. @pytest.mark.sphinx('dummy', testroot='default_role')
493. def test_default_role1(app, status, warning):
494.     app.builder.build_all()
495. 
496.     # default-role: pep
497.     doctree = app.env.get_doctree('index')
498.     assert_node(doctree[0], nodes.section)
499.     assert_node(doctree[0][1], nodes.paragraph)
500.     assert_node(doctree[0][1][0], addnodes.index)


File: tests/test_markup.py
Line number range: 501 - 530
Content:
501.     assert_node(doctree[0][1][1], nodes.target)
502.     assert_node(doctree[0][1][2], nodes.reference, classes=["pep"])
503. 
504.     # no default-role
505.     doctree = app.env.get_doctree('foo')
506.     assert_node(doctree[0], nodes.section)
507.     assert_node(doctree[0][1], nodes.paragraph)
508.     assert_node(doctree[0][1][0], nodes.title_reference)
509.     assert_node(doctree[0][1][1], nodes.Text)
510. 
511. 
512. @pytest.mark.sphinx('dummy', testroot='default_role',
513.                     confoverrides={'default_role': 'guilabel'})
514. def test_default_role2(app, status, warning):
515.     app.builder.build_all()
516. 
517.     # default-role directive is stronger than configratuion
518.     doctree = app.env.get_doctree('index')
519.     assert_node(doctree[0], nodes.section)
520.     assert_node(doctree[0][1], nodes.paragraph)
521.     assert_node(doctree[0][1][0], addnodes.index)
522.     assert_node(doctree[0][1][1], nodes.target)
523.     assert_node(doctree[0][1][2], nodes.reference, classes=["pep"])
524. 
525.     # default_role changes the default behavior
526.     doctree = app.env.get_doctree('foo')
527.     assert_node(doctree[0], nodes.section)
528.     assert_node(doctree[0][1], nodes.paragraph)
529.     assert_node(doctree[0][1][0], nodes.inline, classes=["guilabel"])
530.     assert_node(doctree[0][1][1], nodes.Text)

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 02:24:30,018 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants three relevant test cases for a bug concerning case-insensitive glossary terms. The provided patch affects duplicate term detection, sorting, and term referencing via the `:term:` role. The current context from `tests/test_domain_std.py` offers excellent test cases for duplicate detection (`test_glossary_warning`) and sorting (`test_glossary_sorted`). However, there is no test case covering the `:term:` role, which the patch modifies to be case-sensitive. The file `tests/test_roles.py` is highly likely to contain the necessary tests for roles, including the `:term:` role, and is therefore essential for finding a third relevant test case.' query='Please provide the full content of `tests/test_roles.py`.' extra_requirements='' purpose='I need to find a test case for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.'
2025-12-23 02:24:30,020 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_roles.py`.
2025-12-23 02:24:30,021 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 02:24:30,022 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 02:24:30,023 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 02:24:30,023 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_roles.py`.
Purpose: I need to find a test case for the `:term:` role to assemble a complete set of examples that cover all aspects of the provided patch, including term definition, duplication, and referencing.
2025-12-23 02:24:32,543 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/test_roles.py` to help you find test cases for the `:term:` role. This will allow you to examine examples of term definition, duplication, and referencing within the test file.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/test_roles.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2083, 'candidates_token_count': 70, 'total_token_count': 2233, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2083}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 70}], 'thoughts_token_count': 80, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.16550904682704382, 'model_name': 'gemini-2.5-pro'} id='run--e7d50f76-c593-46c7-9676-3dd9d551ff95-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_roles.py'}, 'id': 'bd0d094a-f2b7-4a90-afbf-a255e25b5abb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2083, 'output_tokens': 70, 'total_tokens': 2233, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 80}}
2025-12-23 02:24:37,346 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/test_roles.py` as you requested. You can now examine the file for test cases related to the `:term:` role to find examples of term definition, duplication, and referencing.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/test_roles.py", "end_line": 1000.0, "start_line": 1.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 3387, 'candidates_token_count': 75, 'total_token_count': 3699, 'cached_content_token_count': 1609, 'prompt_tokens_details': [{'modality': 1, 'token_count': 3387}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1609}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 75}], 'thoughts_token_count': 237}, 'finish_reason': 'STOP', 'avg_logprobs': -0.47617960611979165, 'model_name': 'gemini-2.5-pro'} id='run--6b79751f-4973-4d2f-b10c-5fe31b9591eb-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/test_roles.py', 'end_line': 1000.0, 'start_line': 1.0}, 'id': '38a881ae-5875-4674-b99d-04ce0739d328', 'type': 'tool_call'}] usage_metadata={'input_tokens': 3387, 'output_tokens': 75, 'total_tokens': 3699, 'input_token_details': {'cache_read': 1609}, 'output_token_details': {'reasoning': 237}}
2025-12-23 02:24:42,651 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have provided the full content of `tests/test_roles.py` so you can find a test case for the `:term:` role. This should help you assemble a complete set of examples covering all aspects of the provided patch, including term definition, duplication, and referencing.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4697, 'candidates_token_count': 57, 'total_token_count': 5180, 'cached_content_token_count': 3367, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4697}], 'cache_tokens_details': [{'modality': 1, 'token_count': 3367}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 57}], 'thoughts_token_count': 426}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5285273769445586, 'model_name': 'gemini-2.5-pro'} id='run--d069d05e-2e4f-4c90-8db7-38514ddafd5d-0' usage_metadata={'input_tokens': 4697, 'output_tokens': 57, 'total_tokens': 5180, 'input_token_details': {'cache_read': 3367}, 'output_token_details': {'reasoning': 426}}
2025-12-23 02:24:42,652 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.transform_tool_messages_to_context_node - INFO - No contexts extracted from tool messages
2025-12-23 02:24:42,653 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_extraction_node - INFO - No explored_context available, skipping context extraction
2025-12-23 02:24:42,653 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 0 contexts to memory for query: Please provide the full content of `tests/test_roles.py`.
2025-12-23 02:24:42,653 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - No new contexts to store
2025-12-23 02:24:42,654 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - No new contexts to add
2025-12-23 02:24:42,654 - thread-135988890285760.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-23 02:24:42,655 - thread-135988890285760.prometheus_context_collector - INFO - Successfully retrieved 4 context snippets
