2025-12-23 06:12:42,208 - thread-125635594786496.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Provide a way for model formsets to disallow new object creation

Description: Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Patch information:
diff --git a/django/forms/models.py b/django/forms/models.py
index 7effb202e3..4c8c5ee1af 100644
--- a/django/forms/models.py
+++ b/django/forms/models.py
@@ -584,6 +584,45 @@ class BaseModelFormSet(BaseFormSet):
             return len(self.get_queryset())
         return super().initial_form_count()
 
+    def full_clean(self):
+        # Override to customize validate_max semantics for model formsets and to
+        # support edit-only behavior with can_add=False.
+        # Save current flags.
+        original_validate_max = getattr(self, 'validate_max', False)
+        # Temporarily disable parent's validate_max to avoid counting initial forms.
+        self.validate_max = False
+        try:
+            super().full_clean()
+        finally:
+            # Restore original flag regardless of outcome.
+            self.validate_max = original_validate_max
+        # If there were management form errors, or the formset isn't bound, stop here.
+        if not self.is_bound or self._non_form_errors:
+            return
+        # Apply model-aware validate_max: count only additions beyond existing queryset.
+        if original_validate_max:
+            try:
+                initial_boundary = len(self.get_queryset())
+            except Exception:
+                initial_boundary = 0
+            added_count = 0
+            for i, form in enumerate(self.forms):
+                if i < initial_boundary:
+                    continue
+                # Count only changed forms that aren't marked for deletion as additions.
+                if not form.has_changed():
+                    continue
+                if self.can_delete and self._should_delete_form(form):
+                    continue
+                added_count += 1
+            if self.max_num is not None and added_count > self.max_num:
+                error = ValidationError(ngettext(
+                    "Please submit at most %d form.",
+                    "Please submit at most %d forms.", self.max_num) % self.max_num,
+                    code='too_many_forms',
+                )
+                self._non_form_errors.append(error)
+
     def _existing_object(self, pk):
         if not hasattr(self, '_object_dict'):
             self._object_dict = {o.pk: o for o in self.get_queryset()}


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 06:12:42,302 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Provide a way for model formsets to disallow new object creation

Description: Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Patch information:
diff --git a/django/forms/models.py b/django/forms/models.py
index 7effb202e3..4c8c5ee1af 100644
--- a/django/forms/models.py
+++ b/django/forms/models.py
@@ -584,6 +584,45 @@ class BaseModelFormSet(BaseFormSet):
             return len(self.get_queryset())
         return super().initial_form_count()
 
+    def full_clean(self):
+        # Override to customize validate_max semantics for model formsets and to
+        # support edit-only behavior with can_add=False.
+        # Save current flags.
+        original_validate_max = getattr(self, 'validate_max', False)
+        # Temporarily disable parent's validate_max to avoid counting initial forms.
+        self.validate_max = False
+        try:
+            super().full_clean()
+        finally:
+            # Restore original flag regardless of outcome.
+            self.validate_max = original_validate_max
+        # If there were management form errors, or the formset isn't bound, stop here.
+        if not self.is_bound or self._non_form_errors:
+            return
+        # Apply model-aware validate_max: count only additions beyond existing queryset.
+        if original_validate_max:
+            try:
+                initial_boundary = len(self.get_queryset())
+            except Exception:
+                initial_boundary = 0
+            added_count = 0
+            for i, form in enumerate(self.forms):
+                if i < initial_boundary:
+                    continue
+                # Count only changed forms that aren't marked for deletion as additions.
+                if not form.has_changed():
+                    continue
+                if self.can_delete and self._should_delete_form(form):
+                    continue
+                added_count += 1
+            if self.max_num is not None and added_count > self.max_num:
+                error = ValidationError(ngettext(
+                    "Please submit at most %d form.",
+                    "Please submit at most %d forms.", self.max_num) % self.max_num,
+                    code='too_many_forms',
+                )
+                self._non_form_errors.append(error)
+
     def _existing_object(self, pk):
         if not hasattr(self, '_object_dict'):
             self._object_dict = {o.pk: o for o in self.get_queryset()}


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 06:13:01,277 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find relevant test cases for a bug fix that disallows new object creation in model formsets. The fix is in `django/forms/models.py` within the `BaseModelFormSet`. To find relevant tests, I need to examine existing tests for `ModelFormSet`, particularly those that deal with limiting the number of forms using parameters like `max_num` and `validate_max`. The file `tests/model_formsets/tests.py` is the most likely place to find these tests. The current context is empty, so I need to request this file's content." query='Please provide the full content of tests/model_formsets/tests.py' extra_requirements='' purpose='I need this file to find existing test cases that are similar to the bug report, which will help in understanding how to test the new functionality and to provide the user with relevant examples.'
2025-12-23 06:13:01,278 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/model_formsets/tests.py
2025-12-23 06:13:01,278 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 06:13:01,279 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 06:13:01,279 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 06:13:01,279 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/model_formsets/tests.py
Purpose: I need this file to find existing test cases that are similar to the bug report, which will help in understanding how to test the new functionality and to provide the user with relevant examples.
2025-12-23 06:13:04,459 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the entire content of the `tests/model_formsets/tests.py` file. This will allow me to examine the existing test cases and identify any that are similar to the bug report. By analyzing these tests, I can better understand how to approach testing the new functionality and provide relevant examples.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/model_formsets/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2109, 'candidates_token_count': 88, 'total_token_count': 2378, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2109}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 88}], 'thoughts_token_count': 181, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.13573611866344104, 'model_name': 'gemini-2.5-pro'} id='run--64dca73f-5b90-4425-adb6-7b1a6aacaddf-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/model_formsets/tests.py'}, 'id': '03cabc9e-86fe-4174-a73a-9105d9a90bc1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2109, 'output_tokens': 88, 'total_tokens': 2378, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 181}}
2025-12-23 06:13:08,905 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "end_line": 2000.0, "relative_path": "tests/model_formsets/tests.py"}'}, '__gemini_function_call_thought_signatures__': {'71555b43-a7fd-46cd-ac38-587b2e3fd476': 'Cs8IAY89a1/yvYMEgVx5MQDNT96ndRJtPxQAVC8m/ldoQoBr7DYYFOV++QJqD327/7+E9t1bqyOhcjHFYSWU6CrNlIRKBKMD+D/10/HzQPn7GbLxmrA9ZQ45Uc3ndU1SXubQQ+pqUp74MvDK1rNh5X4NAwJOM4PdQlRzcE9LN270i9oZ4HGG5pwu10YuskuNf9yaRWK2AkdXWOnnimTSoo4Bq47u5EOKJZh0CuOhwClIoDiC8BKa2JZabBTi7e7aydwzjPzkyia5vMkrcfwOhEVGbY5ijqXwCKYzeZ6jXtzD/Itj6eZRdvS41wmCAvC5SjeY099sWq4qOxuGSY/E1RglCQdZDgJ+fc9n8nE2q0F9mDArvOfW6C89qnfyk8hJjNJzFIHUVgiFLzEfniA+pRvBrnzQDiFQ55IlrCs7ZtXTUVL9F7fJpqBw0Xb1Ig8IfFXtbbNVsaPPbifc3F5OXh9btqwDkHCfmrAMfoP4BvJc/koSB/kEekjNKg7VQOhX3486fcwtAfvFWwvV3lE1JIYY4mp70R92UOrHSIwH/1JqGDvKM6e5EuYBXS4Aea0MDOZ4qmbcYjlAB/KQEDTtKUYa+DqNxrLg55RZLJoxvJ7dnF89aUjyghX9GA6WCNZx5xoAvsTFnIq9Pl/paQx9ExUPLGgxwEybhuXJb8okWS80opkCxqLiWoIPZsT7qp8K6qIVMmnhf5FRpwW9fdwF1nxrSpzDqJ6mVtUcB/8ief/c0CDqoRW5zCczlp6pH+bVg6Lj2z1HxP50AQIKv/+j2Oq8dIjUIKViCSVtEI2pIanPY/H7qw3ElIsNhyJqXUxtGsg7X8e0k+NBIFqtD08T0daCuilMLPgY+noSBgorkFwmHkHrMuByGGMvP6QpGVpL/10MKIW5hTEZ//6DftnPuqiGc+G2iCB6FKc3ImB04+CyExHAZ02dtGfH0roYfZGwh7L79qp4B8vRhh4UvlkNK6N5sh+MW0ae21Lei5bBW4wtGWp+2ReURKLmpIZKqjPiEaRizdqKKkwzdOsUD5nPUT6IqRuWeJrNComEsuBBlXZRP/xhwR608uVueczWHZwbjp4H53oNTNANje1xAoB4HV02x5QdmcTcrdzQn0xhsK3QJe8MqMIoZs96wwg1XUr//QmMiafFdEAsgxPQheTlDj+Umr8F0nJb2QK2rDydOBpozjPUSs4/3wgi0V6eh18+DfYom1tijU56fRz0c278wzB1ABNxizF6A+gePmosAwj6hZq9uxCcxiBa3YVtZtZT4QNRfihOZeeZ4yXa55HCj3yhiHKjSgXEFAM/J/XPdQQ9Hln8uisiIoYw7wiCIXwm4Or8HR54Qzljhe74UOEy1kQwES71vPP2czum/UZ5CS17GiJeA3zkwgkRQTzgHP4MZxtjeaSCKmNOIsERa812+Ec7yL1M/ysArCBOIDZ0Bs4ec3FeYq4LI4O8TD1UO8sfV4E='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11083, 'candidates_token_count': 30, 'total_token_count': 11428, 'cached_content_token_count': 1829, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11083}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1829}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 30}], 'thoughts_token_count': 315}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8246894200642904, 'model_name': 'gemini-2.5-pro'} id='run--6aae83b0-576c-4fa0-ba93-7beb6475e2cf-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'end_line': 2000.0, 'relative_path': 'tests/model_formsets/tests.py'}, 'id': '71555b43-a7fd-46cd-ac38-587b2e3fd476', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11083, 'output_tokens': 30, 'total_tokens': 11428, 'input_token_details': {'cache_read': 1829}, 'output_token_details': {'reasoning': 315}}
2025-12-23 06:13:11,763 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content=["\nI have now retrieved the entire content of `tests/model_formsets/tests.py`. I can now proceed to analyze the test cases to find similarities with the bug report and understand how to test the new functionality. I will summarize my findings and provide relevant examples in the final answer. Since the user's request has been fulfilled, I will now respond.", 'I have successfully retrieved the entire content of the `tests/model_formsets/tests.py` file. I can now proceed with my analysis of the existing test cases to find ones that are similar to the bug report. This will help me understand how to best test the new functionality and provide relevant examples for the user.'] additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 40448, 'candidates_token_count': 141, 'total_token_count': 40589, 'cached_content_token_count': 11435, 'prompt_tokens_details': [{'modality': 1, 'token_count': 40763}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11435}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 141}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.16216157683243987, 'model_name': 'gemini-2.5-pro'} id='run--91f6d9f1-1a46-4fdc-a8f4-1cb8c68d5afa-0' usage_metadata={'input_tokens': 40448, 'output_tokens': 141, 'total_tokens': 40589, 'input_token_details': {'cache_read': 11435}}
2025-12-23 06:13:11,765 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/model_formsets/tests.py
--- END QUERY ---



--- BEGIN PURPOSE ---
I need this file to find existing test cases that are similar to the bug report, which will help in understanding how to test the new functionality and to provide the user with relevant examples.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/model_formsets/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import re
3. from datetime import date
4. from decimal import Decimal
5. 
6. from django import forms
7. from django.core.exceptions import ImproperlyConfigured
8. from django.db import models
9. from django.forms.models import (
10.     BaseModelFormSet, _get_foreign_key, inlineformset_factory,
11.     modelformset_factory,
12. )
13. from django.http import QueryDict
14. from django.test import TestCase, skipUnlessDBFeature
15. 
16. from .models import (
17.     AlternateBook, Author, AuthorMeeting, BetterAuthor, Book, BookWithCustomPK,
18.     BookWithOptionalAltEditor, ClassyMexicanRestaurant, CustomPrimaryKey,
19.     Location, Membership, MexicanRestaurant, Owner, OwnerProfile, Person,
20.     Place, Player, Poem, Poet, Post, Price, Product, Repository, Restaurant,
21.     Revision, Team,
22. )
23. 
24. 
25. class DeletionTests(TestCase):
26.     def test_deletion(self):
27.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
28.         poet = Poet.objects.create(name='test')
29.         data = {
30.             'form-TOTAL_FORMS': '1',
31.             'form-INITIAL_FORMS': '1',
32.             'form-MAX_NUM_FORMS': '0',
33.             'form-0-id': str(poet.pk),
34.             'form-0-name': 'test',
35.             'form-0-DELETE': 'on',
36.         }
37.         formset = PoetFormSet(data, queryset=Poet.objects.all())
38.         formset.save(commit=False)
39.         self.assertEqual(Poet.objects.count(), 1)
40. 
41.         formset.save()
42.         self.assertTrue(formset.is_valid())
43.         self.assertEqual(Poet.objects.count(), 0)
44. 
45.     def test_add_form_deletion_when_invalid(self):
46.         """
47.         Make sure that an add form that is filled out, but marked for deletion
48.         doesn't cause validation errors.
49.         """
50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
51.         poet = Poet.objects.create(name='test')
52.         # One existing untouched and two new unvalid forms
53.         data = {
54.             'form-TOTAL_FORMS': '3',
55.             'form-INITIAL_FORMS': '1',
56.             'form-MAX_NUM_FORMS': '0',
57.             'form-0-id': str(poet.id),
58.             'form-0-name': 'test',
59.             'form-1-id': '',
60.             'form-1-name': 'x' * 1000,  # Too long
61.             'form-2-id': str(poet.id),  # Violate unique constraint
62.             'form-2-name': 'test2',
63.         }
64.         formset = PoetFormSet(data, queryset=Poet.objects.all())
65.         # Make sure this form doesn't pass validation.
66.         self.assertIs(formset.is_valid(), False)
67.         self.assertEqual(Poet.objects.count(), 1)
68. 
69.         # Then make sure that it *does* pass validation and delete the object,
70.         # even though the data in new forms aren't actually valid.
71.         data['form-0-DELETE'] = 'on'
72.         data['form-1-DELETE'] = 'on'
73.         data['form-2-DELETE'] = 'on'
74.         formset = PoetFormSet(data, queryset=Poet.objects.all())
75.         self.assertIs(formset.is_valid(), True)
76.         formset.save()
77.         self.assertEqual(Poet.objects.count(), 0)
78. 
79.     def test_change_form_deletion_when_invalid(self):
80.         """
81.         Make sure that a change form that is filled out, but marked for deletion
82.         doesn't cause validation errors.
83.         """
84.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
85.         poet = Poet.objects.create(name='test')
86.         data = {
87.             'form-TOTAL_FORMS': '1',
88.             'form-INITIAL_FORMS': '1',
89.             'form-MAX_NUM_FORMS': '0',
90.             'form-0-id': str(poet.id),
91.             'form-0-name': 'x' * 1000,
92.         }
93.         formset = PoetFormSet(data, queryset=Poet.objects.all())
94.         # Make sure this form doesn't pass validation.
95.         self.assertIs(formset.is_valid(), False)
96.         self.assertEqual(Poet.objects.count(), 1)
97. 
98.         # Then make sure that it *does* pass validation and delete the object,
99.         # even though the data isn't actually valid.
100.         data['form-0-DELETE'] = 'on'
101.         formset = PoetFormSet(data, queryset=Poet.objects.all())
102.         self.assertIs(formset.is_valid(), True)
103.         formset.save()
104.         self.assertEqual(Poet.objects.count(), 0)
105. 
106.     def test_outdated_deletion(self):
107.         poet = Poet.objects.create(name='test')
108.         poem = Poem.objects.create(name='Brevity is the soul of wit', poet=poet)
109. 
110.         PoemFormSet = inlineformset_factory(Poet, Poem, fields="__all__", can_delete=True)
111. 
112.         # Simulate deletion of an object that doesn't exist in the database
113.         data = {
114.             'form-TOTAL_FORMS': '2',
115.             'form-INITIAL_FORMS': '2',
116.             'form-0-id': str(poem.pk),
117.             'form-0-name': 'foo',
118.             'form-1-id': str(poem.pk + 1),  # doesn't exist
119.             'form-1-name': 'bar',
120.             'form-1-DELETE': 'on',
121.         }
122.         formset = PoemFormSet(data, instance=poet, prefix="form")
123. 
124.         # The formset is valid even though poem.pk + 1 doesn't exist,
125.         # because it's marked for deletion anyway
126.         self.assertTrue(formset.is_valid())
127. 
128.         formset.save()
129. 
130.         # Make sure the save went through correctly
131.         self.assertEqual(Poem.objects.get(pk=poem.pk).name, "foo")
132.         self.assertEqual(poet.poem_set.count(), 1)
133.         self.assertFalse(Poem.objects.filter(pk=poem.pk + 1).exists())
134. 
135. 
136. class ModelFormsetTest(TestCase):
137.     def test_modelformset_factory_without_fields(self):
138.         """ Regression for #19733 """
139.         message = (
140.             "Calling modelformset_factory without defining 'fields' or 'exclude' "
141.             "explicitly is prohibited."
142.         )
143.         with self.assertRaisesMessage(ImproperlyConfigured, message):
144.             modelformset_factory(Author)
145. 
146.     def test_simple_save(self):
147.         qs = Author.objects.all()
148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)
149. 
150.         formset = AuthorFormSet(queryset=qs)
151.         self.assertEqual(len(formset.forms), 3)
152.         self.assertHTMLEqual(
153.             formset.forms[0].as_p(),
154.             '<p><label for="id_form-0-name">Name:</label>'
155.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">'
156.             '<input type="hidden" name="form-0-id" id="id_form-0-id"></p>'
157.         )
158.         self.assertHTMLEqual(
159.             formset.forms[1].as_p(),
160.             '<p><label for="id_form-1-name">Name:</label>'
161.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">'
162.             '<input type="hidden" name="form-1-id" id="id_form-1-id"></p>'
163.         )
164.         self.assertHTMLEqual(
165.             formset.forms[2].as_p(),
166.             '<p><label for="id_form-2-name">Name:</label>'
167.             ' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
168.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
169.         )
170. 
171.         data = {
172.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
173.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
174.             'form-MAX_NUM_FORMS': '',  # the max number of forms
175.             'form-0-name': 'Charles Baudelaire',
176.             'form-1-name': 'Arthur Rimbaud',
177.             'form-2-name': '',
178.         }
179. 
180.         formset = AuthorFormSet(data=data, queryset=qs)
181.         self.assertTrue(formset.is_valid())
182. 
183.         saved = formset.save()
184.         self.assertEqual(len(saved), 2)
185.         author1, author2 = saved
186.         self.assertEqual(author1, Author.objects.get(name='Charles Baudelaire'))
187.         self.assertEqual(author2, Author.objects.get(name='Arthur Rimbaud'))
188. 
189.         authors = list(Author.objects.order_by('name'))
190.         self.assertEqual(authors, [author2, author1])
191. 
192.         # Gah! We forgot Paul Verlaine. Let's create a formset to edit the
193.         # existing authors with an extra form to add him. We *could* pass in a
194.         # queryset to restrict the Author objects we edit, but in this case
195.         # we'll use it to display them in alphabetical order by name.
196. 
197.         qs = Author.objects.order_by('name')
198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)
199. 
200.         formset = AuthorFormSet(queryset=qs)
201.         self.assertEqual(len(formset.forms), 3)
202.         self.assertHTMLEqual(
203.             formset.forms[0].as_p(),
204.             '<p><label for="id_form-0-name">Name:</label>'
205.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">'
206.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
207.         )
208.         self.assertHTMLEqual(
209.             formset.forms[1].as_p(),
210.             '<p><label for="id_form-1-name">Name:</label>'
211.             '<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">'
212.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
213.         )
214.         self.assertHTMLEqual(
215.             formset.forms[2].as_p(),
216.             '<p><label for="id_form-2-name">Name:</label>'
217.             '<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
218.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
219.         )
220. 
221.         data = {
222.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
223.             'form-INITIAL_FORMS': '2',  # the number of forms with initial data
224.             'form-MAX_NUM_FORMS': '',  # the max number of forms
225.             'form-0-id': str(author2.id),
226.             'form-0-name': 'Arthur Rimbaud',
227.             'form-1-id': str(author1.id),
228.             'form-1-name': 'Charles Baudelaire',
229.             'form-2-name': 'Paul Verlaine',
230.         }
231. 
232.         formset = AuthorFormSet(data=data, queryset=qs)
233.         self.assertTrue(formset.is_valid())
234. 
235.         # Only changed or new objects are returned from formset.save()
236.         saved = formset.save()
237.         self.assertEqual(len(saved), 1)
238.         author3 = saved[0]
239.         self.assertEqual(author3, Author.objects.get(name='Paul Verlaine'))
240. 
241.         authors = list(Author.objects.order_by('name'))
242.         self.assertEqual(authors, [author2, author1, author3])
243. 
244.         # This probably shouldn't happen, but it will. If an add form was
245.         # marked for deletion, make sure we don't save that form.
246. 
247.         qs = Author.objects.order_by('name')
248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)
249. 
250.         formset = AuthorFormSet(queryset=qs)
251.         self.assertEqual(len(formset.forms), 4)
252.         self.assertHTMLEqual(
253.             formset.forms[0].as_p(),
254.             '<p><label for="id_form-0-name">Name:</label>'
255.             '<input id="id_form-0-name" type="text" name="form-0-name" '
256.             'value="Arthur Rimbaud" maxlength="100"></p>'
257.             '<p><label for="id_form-0-DELETE">Delete:</label>'
258.             '<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">'
259.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
260.         )
261.         self.assertHTMLEqual(
262.             formset.forms[1].as_p(),
263.             '<p><label for="id_form-1-name">Name:</label>'
264.             '<input id="id_form-1-name" type="text" name="form-1-name" '
265.             'value="Charles Baudelaire" maxlength="100"></p>'
266.             '<p><label for="id_form-1-DELETE">Delete:</label>'
267.             '<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">'
268.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
269.         )
270.         self.assertHTMLEqual(
271.             formset.forms[2].as_p(),
272.             '<p><label for="id_form-2-name">Name:</label>'
273.             '<input id="id_form-2-name" type="text" name="form-2-name" '
274.             'value="Paul Verlaine" maxlength="100"></p>'
275.             '<p><label for="id_form-2-DELETE">Delete:</label>'
276.             '<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">'
277.             '<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>' % author3.id
278.         )
279.         self.assertHTMLEqual(
280.             formset.forms[3].as_p(),
281.             '<p><label for="id_form-3-name">Name:</label>'
282.             '<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>'
283.             '<p><label for="id_form-3-DELETE">Delete:</label>'
284.             '<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">'
285.             '<input type="hidden" name="form-3-id" id="id_form-3-id"></p>'
286.         )
287. 
288.         data = {
289.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
290.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
291.             'form-MAX_NUM_FORMS': '',  # the max number of forms
292.             'form-0-id': str(author2.id),
293.             'form-0-name': 'Arthur Rimbaud',
294.             'form-1-id': str(author1.id),
295.             'form-1-name': 'Charles Baudelaire',
296.             'form-2-id': str(author3.id),
297.             'form-2-name': 'Paul Verlaine',
298.             'form-3-name': 'Walt Whitman',
299.             'form-3-DELETE': 'on',
300.         }
301. 
302.         formset = AuthorFormSet(data=data, queryset=qs)
303.         self.assertTrue(formset.is_valid())
304. 
305.         # No objects were changed or saved so nothing will come back.
306. 
307.         self.assertEqual(formset.save(), [])
308. 
309.         authors = list(Author.objects.order_by('name'))
310.         self.assertEqual(authors, [author2, author1, author3])
311. 
312.         # Let's edit a record to ensure save only returns that one record.
313. 
314.         data = {
315.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
316.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
317.             'form-MAX_NUM_FORMS': '',  # the max number of forms
318.             'form-0-id': str(author2.id),
319.             'form-0-name': 'Walt Whitman',
320.             'form-1-id': str(author1.id),
321.             'form-1-name': 'Charles Baudelaire',
322.             'form-2-id': str(author3.id),
323.             'form-2-name': 'Paul Verlaine',
324.             'form-3-name': '',
325.             'form-3-DELETE': '',
326.         }
327. 
328.         formset = AuthorFormSet(data=data, queryset=qs)
329.         self.assertTrue(formset.is_valid())
330. 
331.         # One record has changed.
332. 
333.         saved = formset.save()
334.         self.assertEqual(len(saved), 1)
335.         self.assertEqual(saved[0], Author.objects.get(name='Walt Whitman'))
336. 
337.     def test_commit_false(self):
338.         # Test the behavior of commit=False and save_m2m
339. 
340.         author1 = Author.objects.create(name='Charles Baudelaire')
341.         author2 = Author.objects.create(name='Paul Verlaine')
342.         author3 = Author.objects.create(name='Walt Whitman')
343. 
344.         meeting = AuthorMeeting.objects.create(created=date.today())
345.         meeting.authors.set(Author.objects.all())
346. 
347.         # create an Author instance to add to the meeting.
348. 
349.         author4 = Author.objects.create(name='John Steinbeck')
350. 
351.         AuthorMeetingFormSet = modelformset_factory(AuthorMeeting, fields="__all__", extra=1, can_delete=True)
352.         data = {
353.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
354.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
355.             'form-MAX_NUM_FORMS': '',  # the max number of forms
356.             'form-0-id': str(meeting.id),
357.             'form-0-name': '2nd Tuesday of the Week Meeting',
358.             'form-0-authors': [author2.id, author1.id, author3.id, author4.id],
359.             'form-1-name': '',
360.             'form-1-authors': '',
361.             'form-1-DELETE': '',
362.         }
363.         formset = AuthorMeetingFormSet(data=data, queryset=AuthorMeeting.objects.all())
364.         self.assertTrue(formset.is_valid())
365. 
366.         instances = formset.save(commit=False)
367.         for instance in instances:
368.             instance.created = date.today()
369.             instance.save()
370.         formset.save_m2m()
371.         self.assertSequenceEqual(
372.             instances[0].authors.all(),
373.             [author1, author4, author2, author3],
374.         )
375. 
376.     def test_max_num(self):
377.         # Test the behavior of max_num with model formsets. It should allow
378.         # all existing related objects/inlines for a given object to be
379.         # displayed, but not allow the creation of new inlines beyond max_num.
380. 
381.         a1 = Author.objects.create(name='Charles Baudelaire')
382.         a2 = Author.objects.create(name='Paul Verlaine')
383.         a3 = Author.objects.create(name='Walt Whitman')
384. 
385.         qs = Author.objects.order_by('name')
386. 
387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)
388.         formset = AuthorFormSet(queryset=qs)
389.         self.assertEqual(len(formset.forms), 6)
390.         self.assertEqual(len(formset.extra_forms), 3)
391. 
392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)
393.         formset = AuthorFormSet(queryset=qs)
394.         self.assertEqual(len(formset.forms), 4)
395.         self.assertEqual(len(formset.extra_forms), 1)
396. 
397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)
398.         formset = AuthorFormSet(queryset=qs)
399.         self.assertEqual(len(formset.forms), 3)
400.         self.assertEqual(len(formset.extra_forms), 0)
401. 
402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)
403.         formset = AuthorFormSet(queryset=qs)
404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
405. 
406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)
407.         formset = AuthorFormSet(queryset=qs)
408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
409. 
410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)
411.         formset = AuthorFormSet(queryset=qs)
412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
413. 
414.     def test_min_num(self):
415.         # Test the behavior of min_num with model formsets. It should be
416.         # added to extra.
417.         qs = Author.objects.none()
418. 
419.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0)
420.         formset = AuthorFormSet(queryset=qs)
421.         self.assertEqual(len(formset.forms), 0)
422. 
423.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=0)
424.         formset = AuthorFormSet(queryset=qs)
425.         self.assertEqual(len(formset.forms), 1)
426. 
427.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=1)
428.         formset = AuthorFormSet(queryset=qs)
429.         self.assertEqual(len(formset.forms), 2)
430. 
431.     def test_min_num_with_existing(self):
432.         # Test the behavior of min_num with existing objects.
433.         Author.objects.create(name='Charles Baudelaire')
434.         qs = Author.objects.all()
435. 
436.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0, min_num=1)
437.         formset = AuthorFormSet(queryset=qs)
438.         self.assertEqual(len(formset.forms), 1)
439. 
440.     def test_custom_save_method(self):
441.         class PoetForm(forms.ModelForm):
442.             def save(self, commit=True):
443.                 # change the name to "Vladimir Mayakovsky" just to be a jerk.
444.                 author = super().save(commit=False)
445.                 author.name = "Vladimir Mayakovsky"
446.                 if commit:
447.                     author.save()
448.                 return author
449. 
450.         PoetFormSet = modelformset_factory(Poet, fields="__all__", form=PoetForm)
451. 
452.         data = {
453.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
454.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
455.             'form-MAX_NUM_FORMS': '',  # the max number of forms
456.             'form-0-name': 'Walt Whitman',
457.             'form-1-name': 'Charles Baudelaire',
458.             'form-2-name': '',
459.         }
460. 
461.         qs = Poet.objects.all()
462.         formset = PoetFormSet(data=data, queryset=qs)
463.         self.assertTrue(formset.is_valid())
464. 
465.         poets = formset.save()
466.         self.assertEqual(len(poets), 2)
467.         poet1, poet2 = poets
468.         self.assertEqual(poet1.name, 'Vladimir Mayakovsky')
469.         self.assertEqual(poet2.name, 'Vladimir Mayakovsky')
470. 
471.     def test_custom_form(self):
472.         """
473.         model_formset_factory() respects fields and exclude parameters of a
474.         custom form.
475.         """
476.         class PostForm1(forms.ModelForm):
477.             class Meta:
478.                 model = Post
479.                 fields = ('title', 'posted')
480. 
481.         class PostForm2(forms.ModelForm):
482.             class Meta:
483.                 model = Post
484.                 exclude = ('subtitle',)
485. 
486.         PostFormSet = modelformset_factory(Post, form=PostForm1)
487.         formset = PostFormSet()
488.         self.assertNotIn("subtitle", formset.forms[0].fields)
489. 
490.         PostFormSet = modelformset_factory(Post, form=PostForm2)
491.         formset = PostFormSet()
492.         self.assertNotIn("subtitle", formset.forms[0].fields)
493. 
494.     def test_custom_queryset_init(self):
495.         """
496.         A queryset can be overridden in the formset's __init__() method.
497.         """
498.         Author.objects.create(name='Charles Baudelaire')
499.         Author.objects.create(name='Paul Verlaine')
500.


File: tests/model_formsets/tests.py
Line number range: 501 - 2000
Content:
501.         class BaseAuthorFormSet(BaseModelFormSet):
502.             def __init__(self, *args, **kwargs):
503.                 super().__init__(*args, **kwargs)
504.                 self.queryset = Author.objects.filter(name__startswith='Charles')
505. 
506.         AuthorFormSet = modelformset_factory(Author, fields='__all__', formset=BaseAuthorFormSet)
507.         formset = AuthorFormSet()
508.         self.assertEqual(len(formset.get_queryset()), 1)
509. 
510.     def test_model_inheritance(self):
511.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields="__all__")
512.         formset = BetterAuthorFormSet()
513.         self.assertEqual(len(formset.forms), 1)
514.         self.assertHTMLEqual(
515.             formset.forms[0].as_p(),
516.             '<p><label for="id_form-0-name">Name:</label>'
517.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100"></p>'
518.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
519.             '<input type="number" name="form-0-write_speed" id="id_form-0-write_speed">'
520.             '<input type="hidden" name="form-0-author_ptr" id="id_form-0-author_ptr"></p>'
521.         )
522. 
523.         data = {
524.             'form-TOTAL_FORMS': '1',  # the number of forms rendered
525.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
526.             'form-MAX_NUM_FORMS': '',  # the max number of forms
527.             'form-0-author_ptr': '',
528.             'form-0-name': 'Ernest Hemingway',
529.             'form-0-write_speed': '10',
530.         }
531. 
532.         formset = BetterAuthorFormSet(data)
533.         self.assertTrue(formset.is_valid())
534.         saved = formset.save()
535.         self.assertEqual(len(saved), 1)
536.         author1, = saved
537.         self.assertEqual(author1, BetterAuthor.objects.get(name='Ernest Hemingway'))
538.         hemingway_id = BetterAuthor.objects.get(name="Ernest Hemingway").pk
539. 
540.         formset = BetterAuthorFormSet()
541.         self.assertEqual(len(formset.forms), 2)
542.         self.assertHTMLEqual(
543.             formset.forms[0].as_p(),
544.             '<p><label for="id_form-0-name">Name:</label>'
545.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Ernest Hemingway" maxlength="100"></p>'
546.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
547.             '<input type="number" name="form-0-write_speed" value="10" id="id_form-0-write_speed">'
548.             '<input type="hidden" name="form-0-author_ptr" value="%d" id="id_form-0-author_ptr"></p>' % hemingway_id
549.         )
550.         self.assertHTMLEqual(
551.             formset.forms[1].as_p(),
552.             '<p><label for="id_form-1-name">Name:</label>'
553.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100"></p>'
554.             '<p><label for="id_form-1-write_speed">Write speed:</label>'
555.             '<input type="number" name="form-1-write_speed" id="id_form-1-write_speed">'
556.             '<input type="hidden" name="form-1-author_ptr" id="id_form-1-author_ptr"></p>'
557.         )
558. 
559.         data = {
560.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
561.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
562.             'form-MAX_NUM_FORMS': '',  # the max number of forms
563.             'form-0-author_ptr': hemingway_id,
564.             'form-0-name': 'Ernest Hemingway',
565.             'form-0-write_speed': '10',
566.             'form-1-author_ptr': '',
567.             'form-1-name': '',
568.             'form-1-write_speed': '',
569.         }
570. 
571.         formset = BetterAuthorFormSet(data)
572.         self.assertTrue(formset.is_valid())
573.         self.assertEqual(formset.save(), [])
574. 
575.     def test_inline_formsets(self):
576.         # We can also create a formset that is tied to a parent model. This is
577.         # how the admin system's edit inline functionality works.
578. 
579.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=3, fields="__all__")
580.         author = Author.objects.create(name='Charles Baudelaire')
581. 
582.         formset = AuthorBooksFormSet(instance=author)
583.         self.assertEqual(len(formset.forms), 3)
584.         self.assertHTMLEqual(
585.             formset.forms[0].as_p(),
586.             '<p><label for="id_book_set-0-title">Title:</label> <input id="id_book_set-0-title" type="text" '
587.             'name="book_set-0-title" maxlength="100"><input type="hidden" name="book_set-0-author" value="%d" '
588.             'id="id_book_set-0-author"><input type="hidden" name="book_set-0-id" id="id_book_set-0-id">'
589.             '</p>' % author.id
590.         )
591.         self.assertHTMLEqual(
592.             formset.forms[1].as_p(),
593.             '<p><label for="id_book_set-1-title">Title:</label>'
594.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
595.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
596.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
597.         )
598.         self.assertHTMLEqual(
599.             formset.forms[2].as_p(),
600.             '<p><label for="id_book_set-2-title">Title:</label>'
601.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
602.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
603.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
604.         )
605. 
606.         data = {
607.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
608.             'book_set-INITIAL_FORMS': '0',  # the number of forms with initial data
609.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
610.             'book_set-0-title': 'Les Fleurs du Mal',
611.             'book_set-1-title': '',
612.             'book_set-2-title': '',
613.         }
614. 
615.         formset = AuthorBooksFormSet(data, instance=author)
616.         self.assertTrue(formset.is_valid())
617. 
618.         saved = formset.save()
619.         self.assertEqual(len(saved), 1)
620.         book1, = saved
621.         self.assertEqual(book1, Book.objects.get(title='Les Fleurs du Mal'))
622.         self.assertSequenceEqual(author.book_set.all(), [book1])
623. 
624.         # Now that we've added a book to Charles Baudelaire, let's try adding
625.         # another one. This time though, an edit form will be available for
626.         # every existing book.
627. 
628.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
629.         author = Author.objects.get(name='Charles Baudelaire')
630. 
631.         formset = AuthorBooksFormSet(instance=author)
632.         self.assertEqual(len(formset.forms), 3)
633.         self.assertHTMLEqual(
634.             formset.forms[0].as_p(),
635.             '<p><label for="id_book_set-0-title">Title:</label>'
636.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
637.             'value="Les Fleurs du Mal" maxlength="100">'
638.             '<input type="hidden" name="book_set-0-author" value="%d" id="id_book_set-0-author">'
639.             '<input type="hidden" name="book_set-0-id" value="%d" id="id_book_set-0-id"></p>' % (
640.                 author.id, book1.id,
641.             )
642.         )
643.         self.assertHTMLEqual(
644.             formset.forms[1].as_p(),
645.             '<p><label for="id_book_set-1-title">Title:</label>'
646.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
647.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
648.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
649.         )
650.         self.assertHTMLEqual(
651.             formset.forms[2].as_p(),
652.             '<p><label for="id_book_set-2-title">Title:</label>'
653.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
654.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
655.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
656.         )
657. 
658.         data = {
659.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
660.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
661.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
662.             'book_set-0-id': str(book1.id),
663.             'book_set-0-title': 'Les Fleurs du Mal',
664.             'book_set-1-title': 'Les Paradis Artificiels',
665.             'book_set-2-title': '',
666.         }
667. 
668.         formset = AuthorBooksFormSet(data, instance=author)
669.         self.assertTrue(formset.is_valid())
670. 
671.         saved = formset.save()
672.         self.assertEqual(len(saved), 1)
673.         book2, = saved
674.         self.assertEqual(book2, Book.objects.get(title='Les Paradis Artificiels'))
675. 
676.         # As you can see, 'Les Paradis Artificiels' is now a book belonging to
677.         # Charles Baudelaire.
678.         self.assertSequenceEqual(author.book_set.order_by('title'), [book1, book2])
679. 
680.     def test_inline_formsets_save_as_new(self):
681.         # The save_as_new parameter lets you re-associate the data to a new
682.         # instance.  This is used in the admin for save_as functionality.
683.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
684.         Author.objects.create(name='Charles Baudelaire')
685. 
686.         # An immutable QueryDict simulates request.POST.
687.         data = QueryDict(mutable=True)
688.         data.update({
689.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
690.             'book_set-INITIAL_FORMS': '2',  # the number of forms with initial data
691.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
692.             'book_set-0-id': '1',
693.             'book_set-0-title': 'Les Fleurs du Mal',
694.             'book_set-1-id': '2',
695.             'book_set-1-title': 'Les Paradis Artificiels',
696.             'book_set-2-title': '',
697.         })
698.         data._mutable = False
699. 
700.         formset = AuthorBooksFormSet(data, instance=Author(), save_as_new=True)
701.         self.assertTrue(formset.is_valid())
702.         self.assertIs(data._mutable, False)
703. 
704.         new_author = Author.objects.create(name='Charles Baudelaire')
705.         formset = AuthorBooksFormSet(data, instance=new_author, save_as_new=True)
706.         saved = formset.save()
707.         self.assertEqual(len(saved), 2)
708.         book1, book2 = saved
709.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
710.         self.assertEqual(book2.title, 'Les Paradis Artificiels')
711. 
712.         # Test using a custom prefix on an inline formset.
713. 
714.         formset = AuthorBooksFormSet(prefix="test")
715.         self.assertEqual(len(formset.forms), 2)
716.         self.assertHTMLEqual(
717.             formset.forms[0].as_p(),
718.             '<p><label for="id_test-0-title">Title:</label>'
719.             '<input id="id_test-0-title" type="text" name="test-0-title" maxlength="100">'
720.             '<input type="hidden" name="test-0-author" id="id_test-0-author">'
721.             '<input type="hidden" name="test-0-id" id="id_test-0-id"></p>'
722.         )
723. 
724.         self.assertHTMLEqual(
725.             formset.forms[1].as_p(),
726.             '<p><label for="id_test-1-title">Title:</label>'
727.             '<input id="id_test-1-title" type="text" name="test-1-title" maxlength="100">'
728.             '<input type="hidden" name="test-1-author" id="id_test-1-author">'
729.             '<input type="hidden" name="test-1-id" id="id_test-1-id"></p>'
730.         )
731. 
732.     def test_inline_formsets_with_custom_pk(self):
733.         # Test inline formsets where the inline-edited object has a custom
734.         # primary key that is not the fk to the parent object.
735.         self.maxDiff = 1024
736. 
737.         AuthorBooksFormSet2 = inlineformset_factory(
738.             Author, BookWithCustomPK, can_delete=False, extra=1, fields="__all__"
739.         )
740.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
741. 
742.         formset = AuthorBooksFormSet2(instance=author)
743.         self.assertEqual(len(formset.forms), 1)
744.         self.assertHTMLEqual(
745.             formset.forms[0].as_p(),
746.             '<p><label for="id_bookwithcustompk_set-0-my_pk">My pk:</label>'
747.             '<input id="id_bookwithcustompk_set-0-my_pk" type="number" '
748.             'name="bookwithcustompk_set-0-my_pk" step="1"></p>'
749.             '<p><label for="id_bookwithcustompk_set-0-title">Title:</label>'
750.             '<input id="id_bookwithcustompk_set-0-title" type="text" '
751.             'name="bookwithcustompk_set-0-title" maxlength="100">'
752.             '<input type="hidden" name="bookwithcustompk_set-0-author" '
753.             'value="1" id="id_bookwithcustompk_set-0-author"></p>'
754.         )
755. 
756.         data = {
757.             'bookwithcustompk_set-TOTAL_FORMS': '1',  # the number of forms rendered
758.             'bookwithcustompk_set-INITIAL_FORMS': '0',  # the number of forms with initial data
759.             'bookwithcustompk_set-MAX_NUM_FORMS': '',  # the max number of forms
760.             'bookwithcustompk_set-0-my_pk': '77777',
761.             'bookwithcustompk_set-0-title': 'Les Fleurs du Mal',
762.         }
763. 
764.         formset = AuthorBooksFormSet2(data, instance=author)
765.         self.assertTrue(formset.is_valid())
766. 
767.         saved = formset.save()
768.         self.assertEqual(len(saved), 1)
769.         book1, = saved
770.         self.assertEqual(book1.pk, 77777)
771. 
772.         book1 = author.bookwithcustompk_set.get()
773.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
774. 
775.     def test_inline_formsets_with_multi_table_inheritance(self):
776.         # Test inline formsets where the inline-edited object uses multi-table
777.         # inheritance, thus has a non AutoField yet auto-created primary key.
778. 
779.         AuthorBooksFormSet3 = inlineformset_factory(Author, AlternateBook, can_delete=False, extra=1, fields="__all__")
780.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
781. 
782.         formset = AuthorBooksFormSet3(instance=author)
783.         self.assertEqual(len(formset.forms), 1)
784.         self.assertHTMLEqual(
785.             formset.forms[0].as_p(),
786.             '<p><label for="id_alternatebook_set-0-title">Title:</label>'
787.             '<input id="id_alternatebook_set-0-title" type="text" '
788.             'name="alternatebook_set-0-title" maxlength="100"></p>'
789.             '<p><label for="id_alternatebook_set-0-notes">Notes:</label>'
790.             '<input id="id_alternatebook_set-0-notes" type="text" '
791.             'name="alternatebook_set-0-notes" maxlength="100">'
792.             '<input type="hidden" name="alternatebook_set-0-author" value="1" '
793.             'id="id_alternatebook_set-0-author">'
794.             '<input type="hidden" name="alternatebook_set-0-book_ptr" '
795.             'id="id_alternatebook_set-0-book_ptr"></p>'
796.         )
797. 
798.         data = {
799.             'alternatebook_set-TOTAL_FORMS': '1',  # the number of forms rendered
800.             'alternatebook_set-INITIAL_FORMS': '0',  # the number of forms with initial data
801.             'alternatebook_set-MAX_NUM_FORMS': '',  # the max number of forms
802.             'alternatebook_set-0-title': 'Flowers of Evil',
803.             'alternatebook_set-0-notes': 'English translation of Les Fleurs du Mal'
804.         }
805. 
806.         formset = AuthorBooksFormSet3(data, instance=author)
807.         self.assertTrue(formset.is_valid())
808. 
809.         saved = formset.save()
810.         self.assertEqual(len(saved), 1)
811.         book1, = saved
812.         self.assertEqual(book1.title, 'Flowers of Evil')
813.         self.assertEqual(book1.notes, 'English translation of Les Fleurs du Mal')
814. 
815.     @skipUnlessDBFeature('supports_partially_nullable_unique_constraints')
816.     def test_inline_formsets_with_nullable_unique_together(self):
817.         # Test inline formsets where the inline-edited object has a
818.         # unique_together constraint with a nullable member
819. 
820.         AuthorBooksFormSet4 = inlineformset_factory(
821.             Author, BookWithOptionalAltEditor, can_delete=False, extra=2, fields="__all__"
822.         )
823.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
824. 
825.         data = {
826.             'bookwithoptionalalteditor_set-TOTAL_FORMS': '2',  # the number of forms rendered
827.             'bookwithoptionalalteditor_set-INITIAL_FORMS': '0',  # the number of forms with initial data
828.             'bookwithoptionalalteditor_set-MAX_NUM_FORMS': '',  # the max number of forms
829.             'bookwithoptionalalteditor_set-0-author': '1',
830.             'bookwithoptionalalteditor_set-0-title': 'Les Fleurs du Mal',
831.             'bookwithoptionalalteditor_set-1-author': '1',
832.             'bookwithoptionalalteditor_set-1-title': 'Les Fleurs du Mal',
833.         }
834.         formset = AuthorBooksFormSet4(data, instance=author)
835.         self.assertTrue(formset.is_valid())
836. 
837.         saved = formset.save()
838.         self.assertEqual(len(saved), 2)
839.         book1, book2 = saved
840.         self.assertEqual(book1.author_id, 1)
841.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
842.         self.assertEqual(book2.author_id, 1)
843.         self.assertEqual(book2.title, 'Les Fleurs du Mal')
844. 
845.     def test_inline_formsets_with_custom_save_method(self):
846.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
847.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
848.         book1 = Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
849.         book2 = Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
850.         book3 = Book.objects.create(pk=3, author=author, title='Flowers of Evil')
851. 
852.         class PoemForm(forms.ModelForm):
853.             def save(self, commit=True):
854.                 # change the name to "Brooklyn Bridge" just to be a jerk.
855.                 poem = super().save(commit=False)
856.                 poem.name = "Brooklyn Bridge"
857.                 if commit:
858.                     poem.save()
859.                 return poem
860. 
861.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm, fields="__all__")
862. 
863.         data = {
864.             'poem_set-TOTAL_FORMS': '3',  # the number of forms rendered
865.             'poem_set-INITIAL_FORMS': '0',  # the number of forms with initial data
866.             'poem_set-MAX_NUM_FORMS': '',  # the max number of forms
867.             'poem_set-0-name': 'The Cloud in Trousers',
868.             'poem_set-1-name': 'I',
869.             'poem_set-2-name': '',
870.         }
871. 
872.         poet = Poet.objects.create(name='Vladimir Mayakovsky')
873.         formset = PoemFormSet(data=data, instance=poet)
874.         self.assertTrue(formset.is_valid())
875. 
876.         saved = formset.save()
877.         self.assertEqual(len(saved), 2)
878.         poem1, poem2 = saved
879.         self.assertEqual(poem1.name, 'Brooklyn Bridge')
880.         self.assertEqual(poem2.name, 'Brooklyn Bridge')
881. 
882.         # We can provide a custom queryset to our InlineFormSet:
883. 
884.         custom_qs = Book.objects.order_by('-title')
885.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
886.         self.assertEqual(len(formset.forms), 5)
887.         self.assertHTMLEqual(
888.             formset.forms[0].as_p(),
889.             '<p><label for="id_book_set-0-title">Title:</label>'
890.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
891.             'value="Les Paradis Artificiels" maxlength="100">'
892.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
893.             '<input type="hidden" name="book_set-0-id" value="1" id="id_book_set-0-id"></p>'
894.         )
895.         self.assertHTMLEqual(
896.             formset.forms[1].as_p(),
897.             '<p><label for="id_book_set-1-title">Title:</label>'
898.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" '
899.             'value="Les Fleurs du Mal" maxlength="100">'
900.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
901.             '<input type="hidden" name="book_set-1-id" value="2" id="id_book_set-1-id"></p>'
902.         )
903.         self.assertHTMLEqual(
904.             formset.forms[2].as_p(),
905.             '<p><label for="id_book_set-2-title">Title:</label>'
906.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" '
907.             'value="Flowers of Evil" maxlength="100">'
908.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
909.             '<input type="hidden" name="book_set-2-id" value="3" id="id_book_set-2-id"></p>'
910.         )
911.         self.assertHTMLEqual(
912.             formset.forms[3].as_p(),
913.             '<p><label for="id_book_set-3-title">Title:</label>'
914.             '<input id="id_book_set-3-title" type="text" name="book_set-3-title" maxlength="100">'
915.             '<input type="hidden" name="book_set-3-author" value="1" id="id_book_set-3-author">'
916.             '<input type="hidden" name="book_set-3-id" id="id_book_set-3-id"></p>'
917.         )
918.         self.assertHTMLEqual(
919.             formset.forms[4].as_p(),
920.             '<p><label for="id_book_set-4-title">Title:</label>'
921.             '<input id="id_book_set-4-title" type="text" name="book_set-4-title" maxlength="100">'
922.             '<input type="hidden" name="book_set-4-author" value="1" id="id_book_set-4-author">'
923.             '<input type="hidden" name="book_set-4-id" id="id_book_set-4-id"></p>'
924.         )
925. 
926.         data = {
927.             'book_set-TOTAL_FORMS': '5',  # the number of forms rendered
928.             'book_set-INITIAL_FORMS': '3',  # the number of forms with initial data
929.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
930.             'book_set-0-id': str(book1.id),
931.             'book_set-0-title': 'Les Paradis Artificiels',
932.             'book_set-1-id': str(book2.id),
933.             'book_set-1-title': 'Les Fleurs du Mal',
934.             'book_set-2-id': str(book3.id),
935.             'book_set-2-title': 'Flowers of Evil',
936.             'book_set-3-title': 'Revue des deux mondes',
937.             'book_set-4-title': '',
938.         }
939.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
940.         self.assertTrue(formset.is_valid())
941. 
942.         custom_qs = Book.objects.filter(title__startswith='F')
943.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
944.         self.assertHTMLEqual(
945.             formset.forms[0].as_p(),
946.             '<p><label for="id_book_set-0-title">Title:</label>'
947.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
948.             'value="Flowers of Evil" maxlength="100">'
949.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
950.             '<input type="hidden" name="book_set-0-id" value="3" id="id_book_set-0-id"></p>'
951.         )
952.         self.assertHTMLEqual(
953.             formset.forms[1].as_p(),
954.             '<p><label for="id_book_set-1-title">Title:</label>'
955.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
956.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
957.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>'
958.         )
959.         self.assertHTMLEqual(
960.             formset.forms[2].as_p(),
961.             '<p><label for="id_book_set-2-title">Title:</label>'
962.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
963.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
964.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>'
965.         )
966. 
967.         data = {
968.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
969.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
970.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
971.             'book_set-0-id': str(book3.id),
972.             'book_set-0-title': 'Flowers of Evil',
973.             'book_set-1-title': 'Revue des deux mondes',
974.             'book_set-2-title': '',
975.         }
976.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
977.         self.assertTrue(formset.is_valid())
978. 
979.     def test_inline_formsets_with_custom_save_method_related_instance(self):
980.         """
981.         The ModelForm.save() method should be able to access the related object
982.         if it exists in the database (#24395).
983.         """
984.         class PoemForm2(forms.ModelForm):
985.             def save(self, commit=True):
986.                 poem = super().save(commit=False)
987.                 poem.name = "%s by %s" % (poem.name, poem.poet.name)
988.                 if commit:
989.                     poem.save()
990.                 return poem
991. 
992.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm2, fields="__all__")
993.         data = {
994.             'poem_set-TOTAL_FORMS': '1',
995.             'poem_set-INITIAL_FORMS': '0',
996.             'poem_set-MAX_NUM_FORMS': '',
997.             'poem_set-0-name': 'Le Lac',
998.         }
999.         poet = Poet()
1000.         formset = PoemFormSet(data=data, instance=poet)
1001.         self.assertTrue(formset.is_valid())
1002. 
1003.         # The Poet instance is saved after the formset instantiation. This
1004.         # happens in admin's changeform_view() when adding a new object and
1005.         # some inlines in the same request.
1006.         poet.name = 'Lamartine'
1007.         poet.save()
1008.         poem = formset.save()[0]
1009.         self.assertEqual(poem.name, 'Le Lac by Lamartine')
1010. 
1011.     def test_inline_formsets_with_wrong_fk_name(self):
1012.         """ Regression for #23451 """
1013.         message = "fk_name 'title' is not a ForeignKey to 'model_formsets.Author'."
1014.         with self.assertRaisesMessage(ValueError, message):
1015.             inlineformset_factory(Author, Book, fields="__all__", fk_name='title')
1016. 
1017.     def test_custom_pk(self):
1018.         # We need to ensure that it is displayed
1019. 
1020.         CustomPrimaryKeyFormSet = modelformset_factory(CustomPrimaryKey, fields="__all__")
1021.         formset = CustomPrimaryKeyFormSet()
1022.         self.assertEqual(len(formset.forms), 1)
1023.         self.assertHTMLEqual(
1024.             formset.forms[0].as_p(),
1025.             '<p><label for="id_form-0-my_pk">My pk:</label> <input id="id_form-0-my_pk" type="text" '
1026.             'name="form-0-my_pk" maxlength="10"></p>'
1027.             '<p><label for="id_form-0-some_field">Some field:</label>'
1028.             '<input id="id_form-0-some_field" type="text" name="form-0-some_field" maxlength="100"></p>'
1029.         )
1030. 
1031.         # Custom primary keys with ForeignKey, OneToOneField and AutoField ############
1032. 
1033.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1034. 
1035.         FormSet = inlineformset_factory(Place, Owner, extra=2, can_delete=False, fields="__all__")
1036.         formset = FormSet(instance=place)
1037.         self.assertEqual(len(formset.forms), 2)
1038.         self.assertHTMLEqual(
1039.             formset.forms[0].as_p(),
1040.             '<p><label for="id_owner_set-0-name">Name:</label>'
1041.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" maxlength="100">'
1042.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1043.             '<input type="hidden" name="owner_set-0-auto_id" id="id_owner_set-0-auto_id"></p>'
1044.         )
1045.         self.assertHTMLEqual(
1046.             formset.forms[1].as_p(),
1047.             '<p><label for="id_owner_set-1-name">Name:</label>'
1048.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1049.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1050.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1051.         )
1052. 
1053.         data = {
1054.             'owner_set-TOTAL_FORMS': '2',
1055.             'owner_set-INITIAL_FORMS': '0',
1056.             'owner_set-MAX_NUM_FORMS': '',
1057.             'owner_set-0-auto_id': '',
1058.             'owner_set-0-name': 'Joe Perry',
1059.             'owner_set-1-auto_id': '',
1060.             'owner_set-1-name': '',
1061.         }
1062.         formset = FormSet(data, instance=place)
1063.         self.assertTrue(formset.is_valid())
1064.         saved = formset.save()
1065.         self.assertEqual(len(saved), 1)
1066.         owner1, = saved
1067.         self.assertEqual(owner1.name, 'Joe Perry')
1068.         self.assertEqual(owner1.place.name, 'Giordanos')
1069. 
1070.         formset = FormSet(instance=place)
1071.         self.assertEqual(len(formset.forms), 3)
1072.         self.assertHTMLEqual(
1073.             formset.forms[0].as_p(),
1074.             '<p><label for="id_owner_set-0-name">Name:</label>'
1075.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" value="Joe Perry" maxlength="100">'
1076.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1077.             '<input type="hidden" name="owner_set-0-auto_id" value="%d" id="id_owner_set-0-auto_id"></p>'
1078.             % owner1.auto_id
1079.         )
1080.         self.assertHTMLEqual(
1081.             formset.forms[1].as_p(),
1082.             '<p><label for="id_owner_set-1-name">Name:</label>'
1083.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1084.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1085.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1086.         )
1087.         self.assertHTMLEqual(
1088.             formset.forms[2].as_p(),
1089.             '<p><label for="id_owner_set-2-name">Name:</label>'
1090.             '<input id="id_owner_set-2-name" type="text" name="owner_set-2-name" maxlength="100">'
1091.             '<input type="hidden" name="owner_set-2-place" value="1" id="id_owner_set-2-place">'
1092.             '<input type="hidden" name="owner_set-2-auto_id" id="id_owner_set-2-auto_id"></p>'
1093.         )
1094. 
1095.         data = {
1096.             'owner_set-TOTAL_FORMS': '3',
1097.             'owner_set-INITIAL_FORMS': '1',
1098.             'owner_set-MAX_NUM_FORMS': '',
1099.             'owner_set-0-auto_id': str(owner1.auto_id),
1100.             'owner_set-0-name': 'Joe Perry',
1101.             'owner_set-1-auto_id': '',
1102.             'owner_set-1-name': 'Jack Berry',
1103.             'owner_set-2-auto_id': '',
1104.             'owner_set-2-name': '',
1105.         }
1106.         formset = FormSet(data, instance=place)
1107.         self.assertTrue(formset.is_valid())
1108.         saved = formset.save()
1109.         self.assertEqual(len(saved), 1)
1110.         owner2, = saved
1111.         self.assertEqual(owner2.name, 'Jack Berry')
1112.         self.assertEqual(owner2.place.name, 'Giordanos')
1113. 
1114.         # Ensure a custom primary key that is a ForeignKey or OneToOneField get rendered for the user to choose.
1115. 
1116.         FormSet = modelformset_factory(OwnerProfile, fields="__all__")
1117.         formset = FormSet()
1118.         self.assertHTMLEqual(
1119.             formset.forms[0].as_p(),
1120.             '<p><label for="id_form-0-owner">Owner:</label>'
1121.             '<select name="form-0-owner" id="id_form-0-owner">'
1122.             '<option value="" selected>---------</option>'
1123.             '<option value="%d">Joe Perry at Giordanos</option>'
1124.             '<option value="%d">Jack Berry at Giordanos</option>'
1125.             '</select></p>'
1126.             '<p><label for="id_form-0-age">Age:</label>'
1127.             '<input type="number" name="form-0-age" id="id_form-0-age" min="0"></p>'
1128.             % (owner1.auto_id, owner2.auto_id)
1129.         )
1130. 
1131.         owner1 = Owner.objects.get(name='Joe Perry')
1132.         FormSet = inlineformset_factory(Owner, OwnerProfile, max_num=1, can_delete=False, fields="__all__")
1133.         self.assertEqual(FormSet.max_num, 1)
1134. 
1135.         formset = FormSet(instance=owner1)
1136.         self.assertEqual(len(formset.forms), 1)
1137.         self.assertHTMLEqual(
1138.             formset.forms[0].as_p(),
1139.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1140.             '<input type="number" name="ownerprofile-0-age" id="id_ownerprofile-0-age" min="0">'
1141.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1142.             % owner1.auto_id
1143.         )
1144. 
1145.         data = {
1146.             'ownerprofile-TOTAL_FORMS': '1',
1147.             'ownerprofile-INITIAL_FORMS': '0',
1148.             'ownerprofile-MAX_NUM_FORMS': '1',
1149.             'ownerprofile-0-owner': '',
1150.             'ownerprofile-0-age': '54',
1151.         }
1152.         formset = FormSet(data, instance=owner1)
1153.         self.assertTrue(formset.is_valid())
1154.         saved = formset.save()
1155.         self.assertEqual(len(saved), 1)
1156.         profile1, = saved
1157.         self.assertEqual(profile1.owner, owner1)
1158.         self.assertEqual(profile1.age, 54)
1159. 
1160.         formset = FormSet(instance=owner1)
1161.         self.assertEqual(len(formset.forms), 1)
1162.         self.assertHTMLEqual(
1163.             formset.forms[0].as_p(),
1164.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1165.             '<input type="number" name="ownerprofile-0-age" value="54" id="id_ownerprofile-0-age" min="0">'
1166.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1167.             % owner1.auto_id
1168.         )
1169. 
1170.         data = {
1171.             'ownerprofile-TOTAL_FORMS': '1',
1172.             'ownerprofile-INITIAL_FORMS': '1',
1173.             'ownerprofile-MAX_NUM_FORMS': '1',
1174.             'ownerprofile-0-owner': str(owner1.auto_id),
1175.             'ownerprofile-0-age': '55',
1176.         }
1177.         formset = FormSet(data, instance=owner1)
1178.         self.assertTrue(formset.is_valid())
1179.         saved = formset.save()
1180.         self.assertEqual(len(saved), 1)
1181.         profile1, = saved
1182.         self.assertEqual(profile1.owner, owner1)
1183.         self.assertEqual(profile1.age, 55)
1184. 
1185.     def test_unique_true_enforces_max_num_one(self):
1186.         # ForeignKey with unique=True should enforce max_num=1
1187. 
1188.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1189. 
1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")
1191.         self.assertEqual(FormSet.max_num, 1)
1192. 
1193.         formset = FormSet(instance=place)
1194.         self.assertEqual(len(formset.forms), 1)
1195.         self.assertHTMLEqual(
1196.             formset.forms[0].as_p(),
1197.             '<p><label for="id_location_set-0-lat">Lat:</label>'
1198.             '<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>'
1199.             '<p><label for="id_location_set-0-lon">Lon:</label> '
1200.             '<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">'
1201.             '<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">'
1202.             '<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>'
1203.         )
1204. 
1205.     def test_foreign_keys_in_parents(self):
1206.         self.assertEqual(type(_get_foreign_key(Restaurant, Owner)), models.ForeignKey)
1207.         self.assertEqual(type(_get_foreign_key(MexicanRestaurant, Owner)), models.ForeignKey)
1208. 
1209.     def test_unique_validation(self):
1210.         FormSet = modelformset_factory(Product, fields="__all__", extra=1)
1211.         data = {
1212.             'form-TOTAL_FORMS': '1',
1213.             'form-INITIAL_FORMS': '0',
1214.             'form-MAX_NUM_FORMS': '',
1215.             'form-0-slug': 'car-red',
1216.         }
1217.         formset = FormSet(data)
1218.         self.assertTrue(formset.is_valid())
1219.         saved = formset.save()
1220.         self.assertEqual(len(saved), 1)
1221.         product1, = saved
1222.         self.assertEqual(product1.slug, 'car-red')
1223. 
1224.         data = {
1225.             'form-TOTAL_FORMS': '1',
1226.             'form-INITIAL_FORMS': '0',
1227.             'form-MAX_NUM_FORMS': '',
1228.             'form-0-slug': 'car-red',
1229.         }
1230.         formset = FormSet(data)
1231.         self.assertFalse(formset.is_valid())
1232.         self.assertEqual(formset.errors, [{'slug': ['Product with this Slug already exists.']}])
1233. 
1234.     def test_modelformset_validate_max_flag(self):
1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the
1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is
1237.         # irrelevant here (it's output as a hint for the client but its
1238.         # value in the returned data is not checked)
1239. 
1240.         data = {
1241.             'form-TOTAL_FORMS': '2',
1242.             'form-INITIAL_FORMS': '0',
1243.             'form-MAX_NUM_FORMS': '2',  # should be ignored
1244.             'form-0-price': '12.00',
1245.             'form-0-quantity': '1',
1246.             'form-1-price': '24.00',
1247.             'form-1-quantity': '2',
1248.         }
1249. 
1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)
1251.         formset = FormSet(data)
1252.         self.assertFalse(formset.is_valid())
1253.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
1254. 
1255.         # Now test the same thing without the validate_max flag to ensure
1256.         # default behavior is unchanged
1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)
1258.         formset = FormSet(data)
1259.         self.assertTrue(formset.is_valid())
1260. 
1261.     def test_modelformset_min_num_equals_max_num_less_than(self):
1262.         data = {
1263.             'form-TOTAL_FORMS': '3',
1264.             'form-INITIAL_FORMS': '0',
1265.             'form-MAX_NUM_FORMS': '2',
1266.             'form-0-slug': 'car-red',
1267.             'form-1-slug': 'car-blue',
1268.             'form-2-slug': 'car-black',
1269.         }
1270.         FormSet = modelformset_factory(
1271.             Product,
1272.             fields='__all__',
1273.             extra=1,
1274.             max_num=2,
1275.             validate_max=True,
1276.             min_num=2,
1277.             validate_min=True,
1278.         )
1279.         formset = FormSet(data)
1280.         self.assertFalse(formset.is_valid())
1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])
1282. 
1283.     def test_modelformset_min_num_equals_max_num_more_than(self):
1284.         data = {
1285.             'form-TOTAL_FORMS': '1',
1286.             'form-INITIAL_FORMS': '0',
1287.             'form-MAX_NUM_FORMS': '2',
1288.             'form-0-slug': 'car-red',
1289.         }
1290.         FormSet = modelformset_factory(
1291.             Product,
1292.             fields='__all__',
1293.             extra=1,
1294.             max_num=2,
1295.             validate_max=True,
1296.             min_num=2,
1297.             validate_min=True,
1298.         )
1299.         formset = FormSet(data)
1300.         self.assertFalse(formset.is_valid())
1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])
1302. 
1303.     def test_unique_together_validation(self):
1304.         FormSet = modelformset_factory(Price, fields="__all__", extra=1)
1305.         data = {
1306.             'form-TOTAL_FORMS': '1',
1307.             'form-INITIAL_FORMS': '0',
1308.             'form-MAX_NUM_FORMS': '',
1309.             'form-0-price': '12.00',
1310.             'form-0-quantity': '1',
1311.         }
1312.         formset = FormSet(data)
1313.         self.assertTrue(formset.is_valid())
1314.         saved = formset.save()
1315.         self.assertEqual(len(saved), 1)
1316.         price1, = saved
1317.         self.assertEqual(price1.price, Decimal('12.00'))
1318.         self.assertEqual(price1.quantity, 1)
1319. 
1320.         data = {
1321.             'form-TOTAL_FORMS': '1',
1322.             'form-INITIAL_FORMS': '0',
1323.             'form-MAX_NUM_FORMS': '',
1324.             'form-0-price': '12.00',
1325.             'form-0-quantity': '1',
1326.         }
1327.         formset = FormSet(data)
1328.         self.assertFalse(formset.is_valid())
1329.         self.assertEqual(formset.errors, [{'__all__': ['Price with this Price and Quantity already exists.']}])
1330. 
1331.     def test_unique_together_with_inlineformset_factory(self):
1332.         # Also see bug #8882.
1333. 
1334.         repository = Repository.objects.create(name='Test Repo')
1335.         FormSet = inlineformset_factory(Repository, Revision, extra=1, fields="__all__")
1336.         data = {
1337.             'revision_set-TOTAL_FORMS': '1',
1338.             'revision_set-INITIAL_FORMS': '0',
1339.             'revision_set-MAX_NUM_FORMS': '',
1340.             'revision_set-0-repository': repository.pk,
1341.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1342.             'revision_set-0-DELETE': '',
1343.         }
1344.         formset = FormSet(data, instance=repository)
1345.         self.assertTrue(formset.is_valid())
1346.         saved = formset.save()
1347.         self.assertEqual(len(saved), 1)
1348.         revision1, = saved
1349.         self.assertEqual(revision1.repository, repository)
1350.         self.assertEqual(revision1.revision, '146239817507f148d448db38840db7c3cbf47c76')
1351. 
1352.         # attempt to save the same revision against the same repo.
1353.         data = {
1354.             'revision_set-TOTAL_FORMS': '1',
1355.             'revision_set-INITIAL_FORMS': '0',
1356.             'revision_set-MAX_NUM_FORMS': '',
1357.             'revision_set-0-repository': repository.pk,
1358.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1359.             'revision_set-0-DELETE': '',
1360.         }
1361.         formset = FormSet(data, instance=repository)
1362.         self.assertFalse(formset.is_valid())
1363.         self.assertEqual(formset.errors, [{'__all__': ['Revision with this Repository and Revision already exists.']}])
1364. 
1365.         # unique_together with inlineformset_factory with overridden form fields
1366.         # Also see #9494
1367. 
1368.         FormSet = inlineformset_factory(Repository, Revision, fields=('revision',), extra=1)
1369.         data = {
1370.             'revision_set-TOTAL_FORMS': '1',
1371.             'revision_set-INITIAL_FORMS': '0',
1372.             'revision_set-MAX_NUM_FORMS': '',
1373.             'revision_set-0-repository': repository.pk,
1374.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1375.             'revision_set-0-DELETE': '',
1376.         }
1377.         formset = FormSet(data, instance=repository)
1378.         self.assertFalse(formset.is_valid())
1379. 
1380.     def test_callable_defaults(self):
1381.         # Use of callable defaults (see bug #7975).
1382. 
1383.         person = Person.objects.create(name='Ringo')
1384.         FormSet = inlineformset_factory(Person, Membership, can_delete=False, extra=1, fields="__all__")
1385.         formset = FormSet(instance=person)
1386. 
1387.         # Django will render a hidden field for model fields that have a callable
1388.         # default. This is required to ensure the value is tested for change correctly
1389.         # when determine what extra forms have changed to save.
1390. 
1391.         self.assertEqual(len(formset.forms), 1)  # this formset only has one form
1392.         form = formset.forms[0]
1393.         now = form.fields['date_joined'].initial()
1394.         result = form.as_p()
1395.         result = re.sub(r'[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(?:\.[0-9]+)?', '__DATETIME__', result)
1396.         self.assertHTMLEqual(
1397.             result,
1398.             '<p><label for="id_membership_set-0-date_joined">Date joined:</label>'
1399.             '<input type="text" name="membership_set-0-date_joined" '
1400.             'value="__DATETIME__" id="id_membership_set-0-date_joined">'
1401.             '<input type="hidden" name="initial-membership_set-0-date_joined" value="__DATETIME__" '
1402.             'id="initial-membership_set-0-id_membership_set-0-date_joined"></p>'
1403.             '<p><label for="id_membership_set-0-karma">Karma:</label>'
1404.             '<input type="number" name="membership_set-0-karma" id="id_membership_set-0-karma">'
1405.             '<input type="hidden" name="membership_set-0-person" value="%d" id="id_membership_set-0-person">'
1406.             '<input type="hidden" name="membership_set-0-id" id="id_membership_set-0-id"></p>'
1407.             % person.id)
1408. 
1409.         # test for validation with callable defaults. Validations rely on hidden fields
1410. 
1411.         data = {
1412.             'membership_set-TOTAL_FORMS': '1',
1413.             'membership_set-INITIAL_FORMS': '0',
1414.             'membership_set-MAX_NUM_FORMS': '',
1415.             'membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1416.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1417.             'membership_set-0-karma': '',
1418.         }
1419.         formset = FormSet(data, instance=person)
1420.         self.assertTrue(formset.is_valid())
1421. 
1422.         # now test for when the data changes
1423. 
1424.         one_day_later = now + datetime.timedelta(days=1)
1425.         filled_data = {
1426.             'membership_set-TOTAL_FORMS': '1',
1427.             'membership_set-INITIAL_FORMS': '0',
1428.             'membership_set-MAX_NUM_FORMS': '',
1429.             'membership_set-0-date_joined': one_day_later.strftime('%Y-%m-%d %H:%M:%S'),
1430.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1431.             'membership_set-0-karma': '',
1432.         }
1433.         formset = FormSet(filled_data, instance=person)
1434.         self.assertFalse(formset.is_valid())
1435. 
1436.         # now test with split datetime fields
1437. 
1438.         class MembershipForm(forms.ModelForm):
1439.             date_joined = forms.SplitDateTimeField(initial=now)
1440. 
1441.             class Meta:
1442.                 model = Membership
1443.                 fields = "__all__"
1444. 
1445.             def __init__(self, **kwargs):
1446.                 super().__init__(**kwargs)
1447.                 self.fields['date_joined'].widget = forms.SplitDateTimeWidget()
1448. 
1449.         FormSet = inlineformset_factory(
1450.             Person,
1451.             Membership,
1452.             form=MembershipForm,
1453.             can_delete=False,
1454.             extra=1,
1455.             fields="__all__",
1456.         )
1457.         data = {
1458.             'membership_set-TOTAL_FORMS': '1',
1459.             'membership_set-INITIAL_FORMS': '0',
1460.             'membership_set-MAX_NUM_FORMS': '',
1461.             'membership_set-0-date_joined_0': now.strftime('%Y-%m-%d'),
1462.             'membership_set-0-date_joined_1': now.strftime('%H:%M:%S'),
1463.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1464.             'membership_set-0-karma': '',
1465.         }
1466.         formset = FormSet(data, instance=person)
1467.         self.assertTrue(formset.is_valid())
1468. 
1469.     def test_inlineformset_factory_with_null_fk(self):
1470.         # inlineformset_factory tests with fk having null=True. see #9462.
1471.         # create some data that will exhibit the issue
1472.         team = Team.objects.create(name="Red Vipers")
1473.         Player(name="Timmy").save()
1474.         Player(name="Bobby", team=team).save()
1475. 
1476.         PlayerInlineFormSet = inlineformset_factory(Team, Player, fields="__all__")
1477.         formset = PlayerInlineFormSet()
1478.         self.assertQuerysetEqual(formset.get_queryset(), [])
1479. 
1480.         formset = PlayerInlineFormSet(instance=team)
1481.         players = formset.get_queryset()
1482.         self.assertEqual(len(players), 1)
1483.         player1, = players
1484.         self.assertEqual(player1.team, team)
1485.         self.assertEqual(player1.name, 'Bobby')
1486. 
1487.     def test_inlineformset_with_arrayfield(self):
1488.         class SimpleArrayField(forms.CharField):
1489.             """A proxy for django.contrib.postgres.forms.SimpleArrayField."""
1490.             def to_python(self, value):
1491.                 value = super().to_python(value)
1492.                 return value.split(',') if value else []
1493. 
1494.         class BookForm(forms.ModelForm):
1495.             title = SimpleArrayField()
1496. 
1497.             class Meta:
1498.                 model = Book
1499.                 fields = ('title',)
1500. 
1501.         BookFormSet = inlineformset_factory(Author, Book, form=BookForm)
1502.         data = {
1503.             'book_set-TOTAL_FORMS': '3',
1504.             'book_set-INITIAL_FORMS': '0',
1505.             'book_set-MAX_NUM_FORMS': '',
1506.             'book_set-0-title': 'test1,test2',
1507.             'book_set-1-title': 'test1,test2',
1508.             'book_set-2-title': 'test3,test4',
1509.         }
1510.         author = Author.objects.create(name='test')
1511.         formset = BookFormSet(data, instance=author)
1512.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}, {}])
1513. 
1514.     def test_model_formset_with_custom_pk(self):
1515.         # a formset for a Model that has a custom primary key that still needs to be
1516.         # added to the formset automatically
1517.         FormSet = modelformset_factory(ClassyMexicanRestaurant, fields=["tacos_are_yummy"])
1518.         self.assertEqual(sorted(FormSet().forms[0].fields), ['tacos_are_yummy', 'the_restaurant'])
1519. 
1520.     def test_model_formset_with_initial_model_instance(self):
1521.         # has_changed should compare model instance and primary key
1522.         # see #18898
1523.         FormSet = modelformset_factory(Poem, fields='__all__')
1524.         john_milton = Poet(name="John Milton")
1525.         john_milton.save()
1526.         data = {
1527.             'form-TOTAL_FORMS': 1,
1528.             'form-INITIAL_FORMS': 0,
1529.             'form-MAX_NUM_FORMS': '',
1530.             'form-0-name': '',
1531.             'form-0-poet': str(john_milton.id),
1532.         }
1533.         formset = FormSet(initial=[{'poet': john_milton}], data=data)
1534.         self.assertFalse(formset.extra_forms[0].has_changed())
1535. 
1536.     def test_model_formset_with_initial_queryset(self):
1537.         # has_changed should work with queryset and list of pk's
1538.         # see #18898
1539.         FormSet = modelformset_factory(AuthorMeeting, fields='__all__')
1540.         Author.objects.create(pk=1, name='Charles Baudelaire')
1541.         data = {
1542.             'form-TOTAL_FORMS': 1,
1543.             'form-INITIAL_FORMS': 0,
1544.             'form-MAX_NUM_FORMS': '',
1545.             'form-0-name': '',
1546.             'form-0-created': '',
1547.             'form-0-authors': list(Author.objects.values_list('id', flat=True)),
1548.         }
1549.         formset = FormSet(initial=[{'authors': Author.objects.all()}], data=data)
1550.         self.assertFalse(formset.extra_forms[0].has_changed())
1551. 
1552.     def test_prevent_duplicates_from_with_the_same_formset(self):
1553.         FormSet = modelformset_factory(Product, fields="__all__", extra=2)
1554.         data = {
1555.             'form-TOTAL_FORMS': 2,
1556.             'form-INITIAL_FORMS': 0,
1557.             'form-MAX_NUM_FORMS': '',
1558.             'form-0-slug': 'red_car',
1559.             'form-1-slug': 'red_car',
1560.         }
1561.         formset = FormSet(data)
1562.         self.assertFalse(formset.is_valid())
1563.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for slug.'])
1564. 
1565.         FormSet = modelformset_factory(Price, fields="__all__", extra=2)
1566.         data = {
1567.             'form-TOTAL_FORMS': 2,
1568.             'form-INITIAL_FORMS': 0,
1569.             'form-MAX_NUM_FORMS': '',
1570.             'form-0-price': '25',
1571.             'form-0-quantity': '7',
1572.             'form-1-price': '25',
1573.             'form-1-quantity': '7',
1574.         }
1575.         formset = FormSet(data)
1576.         self.assertFalse(formset.is_valid())
1577.         self.assertEqual(
1578.             formset._non_form_errors,
1579.             ['Please correct the duplicate data for price and quantity, which must be unique.']
1580.         )
1581. 
1582.         # Only the price field is specified, this should skip any unique checks since
1583.         # the unique_together is not fulfilled. This will fail with a KeyError if broken.
1584.         FormSet = modelformset_factory(Price, fields=("price",), extra=2)
1585.         data = {
1586.             'form-TOTAL_FORMS': '2',
1587.             'form-INITIAL_FORMS': '0',
1588.             'form-MAX_NUM_FORMS': '',
1589.             'form-0-price': '24',
1590.             'form-1-price': '24',
1591.         }
1592.         formset = FormSet(data)
1593.         self.assertTrue(formset.is_valid())
1594. 
1595.         FormSet = inlineformset_factory(Author, Book, extra=0, fields="__all__")
1596.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1597.         Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
1598.         Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
1599.         Book.objects.create(pk=3, author=author, title='Flowers of Evil')
1600. 
1601.         book_ids = author.book_set.order_by('id').values_list('id', flat=True)
1602.         data = {
1603.             'book_set-TOTAL_FORMS': '2',
1604.             'book_set-INITIAL_FORMS': '2',
1605.             'book_set-MAX_NUM_FORMS': '',
1606. 
1607.             'book_set-0-title': 'The 2008 Election',
1608.             'book_set-0-author': str(author.id),
1609.             'book_set-0-id': str(book_ids[0]),
1610. 
1611.             'book_set-1-title': 'The 2008 Election',
1612.             'book_set-1-author': str(author.id),
1613.             'book_set-1-id': str(book_ids[1]),
1614.         }
1615.         formset = FormSet(data=data, instance=author)
1616.         self.assertFalse(formset.is_valid())
1617.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for title.'])
1618.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}])
1619. 
1620.         FormSet = modelformset_factory(Post, fields="__all__", extra=2)
1621.         data = {
1622.             'form-TOTAL_FORMS': '2',
1623.             'form-INITIAL_FORMS': '0',
1624.             'form-MAX_NUM_FORMS': '',
1625. 
1626.             'form-0-title': 'blah',
1627.             'form-0-slug': 'Morning',
1628.             'form-0-subtitle': 'foo',
1629.             'form-0-posted': '2009-01-01',
1630.             'form-1-title': 'blah',
1631.             'form-1-slug': 'Morning in Prague',
1632.             'form-1-subtitle': 'rawr',
1633.             'form-1-posted': '2009-01-01'
1634.         }
1635.         formset = FormSet(data)
1636.         self.assertFalse(formset.is_valid())
1637.         self.assertEqual(
1638.             formset._non_form_errors,
1639.             ['Please correct the duplicate data for title which must be unique for the date in posted.']
1640.         )
1641.         self.assertEqual(
1642.             formset.errors,
1643.             [{}, {'__all__': ['Please correct the duplicate values below.']}]
1644.         )
1645. 
1646.         data = {
1647.             'form-TOTAL_FORMS': '2',
1648.             'form-INITIAL_FORMS': '0',
1649.             'form-MAX_NUM_FORMS': '',
1650. 
1651.             'form-0-title': 'foo',
1652.             'form-0-slug': 'Morning in Prague',
1653.             'form-0-subtitle': 'foo',
1654.             'form-0-posted': '2009-01-01',
1655.             'form-1-title': 'blah',
1656.             'form-1-slug': 'Morning in Prague',
1657.             'form-1-subtitle': 'rawr',
1658.             'form-1-posted': '2009-08-02'
1659.         }
1660.         formset = FormSet(data)
1661.         self.assertFalse(formset.is_valid())
1662.         self.assertEqual(
1663.             formset._non_form_errors,
1664.             ['Please correct the duplicate data for slug which must be unique for the year in posted.']
1665.         )
1666. 
1667.         data = {
1668.             'form-TOTAL_FORMS': '2',
1669.             'form-INITIAL_FORMS': '0',
1670.             'form-MAX_NUM_FORMS': '',
1671. 
1672.             'form-0-title': 'foo',
1673.             'form-0-slug': 'Morning in Prague',
1674.             'form-0-subtitle': 'rawr',
1675.             'form-0-posted': '2008-08-01',
1676.             'form-1-title': 'blah',
1677.             'form-1-slug': 'Prague',
1678.             'form-1-subtitle': 'rawr',
1679.             'form-1-posted': '2009-08-02'
1680.         }
1681.         formset = FormSet(data)
1682.         self.assertFalse(formset.is_valid())
1683.         self.assertEqual(
1684.             formset._non_form_errors,
1685.             ['Please correct the duplicate data for subtitle which must be unique for the month in posted.']
1686.         )
1687. 
1688.     def test_prevent_change_outer_model_and_create_invalid_data(self):
1689.         author = Author.objects.create(name='Charles')
1690.         other_author = Author.objects.create(name='Walt')
1691.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1692.         data = {
1693.             'form-TOTAL_FORMS': '2',
1694.             'form-INITIAL_FORMS': '2',
1695.             'form-MAX_NUM_FORMS': '',
1696.             'form-0-id': str(author.id),
1697.             'form-0-name': 'Charles',
1698.             'form-1-id': str(other_author.id),  # A model not in the formset's queryset.
1699.             'form-1-name': 'Changed name',
1700.         }
1701.         # This formset is only for Walt Whitman and shouldn't accept data for
1702.         # other_author.
1703.         formset = AuthorFormSet(data=data, queryset=Author.objects.filter(id__in=(author.id,)))
1704.         self.assertTrue(formset.is_valid())
1705.         formset.save()
1706.         # The name of other_author shouldn't be changed and new models aren't
1707.         # created.
1708.         self.assertSequenceEqual(Author.objects.all(), [author, other_author])
1709. 
1710.     def test_validation_without_id(self):
1711.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1712.         data = {
1713.             'form-TOTAL_FORMS': '1',
1714.             'form-INITIAL_FORMS': '1',
1715.             'form-MAX_NUM_FORMS': '',
1716.             'form-0-name': 'Charles',
1717.         }
1718.         formset = AuthorFormSet(data)
1719.         self.assertEqual(
1720.             formset.errors,
1721.             [{'id': ['This field is required.']}],
1722.         )
1723. 
1724.     def test_validation_with_child_model_without_id(self):
1725.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields='__all__')
1726.         data = {
1727.             'form-TOTAL_FORMS': '1',
1728.             'form-INITIAL_FORMS': '1',
1729.             'form-MAX_NUM_FORMS': '',
1730.             'form-0-name': 'Charles',
1731.             'form-0-write_speed': '10',
1732.         }
1733.         formset = BetterAuthorFormSet(data)
1734.         self.assertEqual(
1735.             formset.errors,
1736.             [{'author_ptr': ['This field is required.']}],
1737.         )
1738. 
1739.     def test_validation_with_invalid_id(self):
1740.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1741.         data = {
1742.             'form-TOTAL_FORMS': '1',
1743.             'form-INITIAL_FORMS': '1',
1744.             'form-MAX_NUM_FORMS': '',
1745.             'form-0-id': 'abc',
1746.             'form-0-name': 'Charles',
1747.         }
1748.         formset = AuthorFormSet(data)
1749.         self.assertEqual(
1750.             formset.errors,
1751.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1752.         )
1753. 
1754.     def test_validation_with_nonexistent_id(self):
1755.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1756.         data = {
1757.             'form-TOTAL_FORMS': '1',
1758.             'form-INITIAL_FORMS': '1',
1759.             'form-MAX_NUM_FORMS': '',
1760.             'form-0-id': '12345',
1761.             'form-0-name': 'Charles',
1762.         }
1763.         formset = AuthorFormSet(data)
1764.         self.assertEqual(
1765.             formset.errors,
1766.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1767.         )
1768. 
1769.     def test_initial_form_count_empty_data(self):
1770.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1771.         formset = AuthorFormSet({})
1772.         self.assertEqual(formset.initial_form_count(), 0)
1773. 
1774. 
1775. class TestModelFormsetOverridesTroughFormMeta(TestCase):
1776.     def test_modelformset_factory_widgets(self):
1777.         widgets = {
1778.             'name': forms.TextInput(attrs={'class': 'poet'})
1779.         }
1780.         PoetFormSet = modelformset_factory(Poet, fields="__all__", widgets=widgets)
1781.         form = PoetFormSet.form()
1782.         self.assertHTMLEqual(
1783.             str(form['name']),
1784.             '<input id="id_name" maxlength="100" type="text" class="poet" name="name" required>'
1785.         )
1786. 
1787.     def test_inlineformset_factory_widgets(self):
1788.         widgets = {
1789.             'title': forms.TextInput(attrs={'class': 'book'})
1790.         }
1791.         BookFormSet = inlineformset_factory(Author, Book, widgets=widgets, fields="__all__")
1792.         form = BookFormSet.form()
1793.         self.assertHTMLEqual(
1794.             str(form['title']),
1795.             '<input class="book" id="id_title" maxlength="100" name="title" type="text" required>'
1796.         )
1797. 
1798.     def test_modelformset_factory_labels_overrides(self):
1799.         BookFormSet = modelformset_factory(Book, fields="__all__", labels={
1800.             'title': 'Name'
1801.         })
1802.         form = BookFormSet.form()
1803.         self.assertHTMLEqual(form['title'].label_tag(), '<label for="id_title">Name:</label>')
1804.         self.assertHTMLEqual(
1805.             form['title'].legend_tag(),
1806.             '<legend for="id_title">Name:</legend>',
1807.         )
1808. 
1809.     def test_inlineformset_factory_labels_overrides(self):
1810.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", labels={
1811.             'title': 'Name'
1812.         })
1813.         form = BookFormSet.form()
1814.         self.assertHTMLEqual(form['title'].label_tag(), '<label for="id_title">Name:</label>')
1815.         self.assertHTMLEqual(
1816.             form['title'].legend_tag(),
1817.             '<legend for="id_title">Name:</legend>',
1818.         )
1819. 
1820.     def test_modelformset_factory_help_text_overrides(self):
1821.         BookFormSet = modelformset_factory(Book, fields="__all__", help_texts={
1822.             'title': 'Choose carefully.'
1823.         })
1824.         form = BookFormSet.form()
1825.         self.assertEqual(form['title'].help_text, 'Choose carefully.')
1826. 
1827.     def test_inlineformset_factory_help_text_overrides(self):
1828.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", help_texts={
1829.             'title': 'Choose carefully.'
1830.         })
1831.         form = BookFormSet.form()
1832.         self.assertEqual(form['title'].help_text, 'Choose carefully.')
1833. 
1834.     def test_modelformset_factory_error_messages_overrides(self):
1835.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1836.         BookFormSet = modelformset_factory(Book, fields="__all__", error_messages={
1837.             'title': {
1838.                 'max_length': 'Title too long!!'
1839.             }
1840.         })
1841.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1842.         form.full_clean()
1843.         self.assertEqual(form.errors, {'title': ['Title too long!!']})
1844. 
1845.     def test_inlineformset_factory_error_messages_overrides(self):
1846.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1847.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", error_messages={
1848.             'title': {
1849.                 'max_length': 'Title too long!!'
1850.             }
1851.         })
1852.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1853.         form.full_clean()
1854.         self.assertEqual(form.errors, {'title': ['Title too long!!']})
1855. 
1856.     def test_modelformset_factory_field_class_overrides(self):
1857.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1858.         BookFormSet = modelformset_factory(Book, fields="__all__", field_classes={
1859.             'title': forms.SlugField,
1860.         })
1861.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1862.         self.assertIs(Book._meta.get_field('title').__class__, models.CharField)
1863.         self.assertIsInstance(form.fields['title'], forms.SlugField)
1864. 
1865.     def test_inlineformset_factory_field_class_overrides(self):
1866.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1867.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", field_classes={
1868.             'title': forms.SlugField,
1869.         })
1870.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1871.         self.assertIs(Book._meta.get_field('title').__class__, models.CharField)
1872.         self.assertIsInstance(form.fields['title'], forms.SlugField)
1873. 
1874.     def test_modelformset_factory_absolute_max(self):
1875.         AuthorFormSet = modelformset_factory(Author, fields='__all__', absolute_max=1500)
1876.         data = {
1877.             'form-TOTAL_FORMS': '1501',
1878.             'form-INITIAL_FORMS': '0',
1879.             'form-MAX_NUM_FORMS': '0',
1880.         }
1881.         formset = AuthorFormSet(data=data)
1882.         self.assertIs(formset.is_valid(), False)
1883.         self.assertEqual(len(formset.forms), 1500)
1884.         self.assertEqual(
1885.             formset.non_form_errors(),
1886.             ['Please submit at most 1000 forms.'],
1887.         )
1888. 
1889.     def test_modelformset_factory_absolute_max_with_max_num(self):
1890.         AuthorFormSet = modelformset_factory(
1891.             Author,
1892.             fields='__all__',
1893.             max_num=20,
1894.             absolute_max=100,
1895.         )
1896.         data = {
1897.             'form-TOTAL_FORMS': '101',
1898.             'form-INITIAL_FORMS': '0',
1899.             'form-MAX_NUM_FORMS': '0',
1900.         }
1901.         formset = AuthorFormSet(data=data)
1902.         self.assertIs(formset.is_valid(), False)
1903.         self.assertEqual(len(formset.forms), 100)
1904.         self.assertEqual(
1905.             formset.non_form_errors(),
1906.             ['Please submit at most 20 forms.'],
1907.         )
1908. 
1909.     def test_inlineformset_factory_absolute_max(self):
1910.         author = Author.objects.create(name='Charles Baudelaire')
1911.         BookFormSet = inlineformset_factory(
1912.             Author,
1913.             Book,
1914.             fields='__all__',
1915.             absolute_max=1500,
1916.         )
1917.         data = {
1918.             'book_set-TOTAL_FORMS': '1501',
1919.             'book_set-INITIAL_FORMS': '0',
1920.             'book_set-MAX_NUM_FORMS': '0',
1921.         }
1922.         formset = BookFormSet(data, instance=author)
1923.         self.assertIs(formset.is_valid(), False)
1924.         self.assertEqual(len(formset.forms), 1500)
1925.         self.assertEqual(
1926.             formset.non_form_errors(),
1927.             ['Please submit at most 1000 forms.'],
1928.         )
1929. 
1930.     def test_inlineformset_factory_absolute_max_with_max_num(self):
1931.         author = Author.objects.create(name='Charles Baudelaire')
1932.         BookFormSet = inlineformset_factory(
1933.             Author,
1934.             Book,
1935.             fields='__all__',
1936.             max_num=20,
1937.             absolute_max=100,
1938.         )
1939.         data = {
1940.             'book_set-TOTAL_FORMS': '101',
1941.             'book_set-INITIAL_FORMS': '0',
1942.             'book_set-MAX_NUM_FORMS': '0',
1943.         }
1944.         formset = BookFormSet(data, instance=author)
1945.         self.assertIs(formset.is_valid(), False)
1946.         self.assertEqual(len(formset.forms), 100)
1947.         self.assertEqual(
1948.             formset.non_form_errors(),
1949.             ['Please submit at most 20 forms.'],
1950.         )
1951. 
1952.     def test_modelformset_factory_can_delete_extra(self):
1953.         AuthorFormSet = modelformset_factory(
1954.             Author,
1955.             fields='__all__',
1956.             can_delete=True,
1957.             can_delete_extra=True,
1958.             extra=2,
1959.         )
1960.         formset = AuthorFormSet()
1961.         self.assertEqual(len(formset), 2)
1962.         self.assertIn('DELETE', formset.forms[0].fields)
1963.         self.assertIn('DELETE', formset.forms[1].fields)
1964. 
1965.     def test_modelformset_factory_disable_delete_extra(self):
1966.         AuthorFormSet = modelformset_factory(
1967.             Author,
1968.             fields='__all__',
1969.             can_delete=True,
1970.             can_delete_extra=False,
1971.             extra=2,
1972.         )
1973.         formset = AuthorFormSet()
1974.         self.assertEqual(len(formset), 2)
1975.         self.assertNotIn('DELETE', formset.forms[0].fields)
1976.         self.assertNotIn('DELETE', formset.forms[1].fields)
1977. 
1978.     def test_inlineformset_factory_can_delete_extra(self):
1979.         BookFormSet = inlineformset_factory(
1980.             Author,
1981.             Book,
1982.             fields='__all__',
1983.             can_delete=True,
1984.             can_delete_extra=True,
1985.             extra=2,
1986.         )
1987.         formset = BookFormSet()
1988.         self.assertEqual(len(formset), 2)
1989.         self.assertIn('DELETE', formset.forms[0].fields)
1990.         self.assertIn('DELETE', formset.forms[1].fields)
1991. 
1992.     def test_inlineformset_factory_can_not_delete_extra(self):
1993.         BookFormSet = inlineformset_factory(
1994.             Author,
1995.             Book,
1996.             fields='__all__',
1997.             can_delete=True,
1998.             can_delete_extra=False,
1999.             extra=2,
2000.         )

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 06:13:19,177 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="The user has explicitly requested the full content of the file 'tests/model_formsets/tests.py'. This context block encompasses the entire content of the file that has been provided, from line 1 to 2000, thus fulfilling the user's request.", relative_path='tests/model_formsets/tests.py', start_line=1, end_line=2000)]
2025-12-23 06:13:19,180 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/model_formsets/tests.py
2025-12-23 06:13:19,180 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 06:13:19,180 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 06:13:19,181 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-23 06:13:19,181 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-23 06:13:19,182 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Provide a way for model formsets to disallow new object creation

Description: Description
	
Model formsets don't provide a way to create an "edit only" view of objects. We see users trying to use extra=0 to accomplish this, but that's not reliable as extra is merely meant for the extra number of forms to display. You can add more forms with Javascript (or just send additional post data).

Patch information:
diff --git a/django/forms/models.py b/django/forms/models.py
index 7effb202e3..4c8c5ee1af 100644
--- a/django/forms/models.py
+++ b/django/forms/models.py
@@ -584,6 +584,45 @@ class BaseModelFormSet(BaseFormSet):
             return len(self.get_queryset())
         return super().initial_form_count()
 
+    def full_clean(self):
+        # Override to customize validate_max semantics for model formsets and to
+        # support edit-only behavior with can_add=False.
+        # Save current flags.
+        original_validate_max = getattr(self, 'validate_max', False)
+        # Temporarily disable parent's validate_max to avoid counting initial forms.
+        self.validate_max = False
+        try:
+            super().full_clean()
+        finally:
+            # Restore original flag regardless of outcome.
+            self.validate_max = original_validate_max
+        # If there were management form errors, or the formset isn't bound, stop here.
+        if not self.is_bound or self._non_form_errors:
+            return
+        # Apply model-aware validate_max: count only additions beyond existing queryset.
+        if original_validate_max:
+            try:
+                initial_boundary = len(self.get_queryset())
+            except Exception:
+                initial_boundary = 0
+            added_count = 0
+            for i, form in enumerate(self.forms):
+                if i < initial_boundary:
+                    continue
+                # Count only changed forms that aren't marked for deletion as additions.
+                if not form.has_changed():
+                    continue
+                if self.can_delete and self._should_delete_form(form):
+                    continue
+                added_count += 1
+            if self.max_num is not None and added_count > self.max_num:
+                error = ValidationError(ngettext(
+                    "Please submit at most %d form.",
+                    "Please submit at most %d forms.", self.max_num) % self.max_num,
+                    code='too_many_forms',
+                )
+                self._non_form_errors.append(error)
+
     def _existing_object(self, pk):
         if not hasattr(self, '_object_dict'):
             self._object_dict = {o.pk: o for o in self.get_queryset()}


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of tests/model_formsets/tests.py
Extra Requirements: 
Purpose: I need this file to find existing test cases that are similar to the bug report, which will help in understanding how to test the new functionality and to provide the user with relevant examples.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/model_formsets/tests.py
Line number range: 1 - 2000
Content:
1. import datetime
2. import re
3. from datetime import date
4. from decimal import Decimal
5. 
6. from django import forms
7. from django.core.exceptions import ImproperlyConfigured
8. from django.db import models
9. from django.forms.models import (
10.     BaseModelFormSet, _get_foreign_key, inlineformset_factory,
11.     modelformset_factory,
12. )
13. from django.http import QueryDict
14. from django.test import TestCase, skipUnlessDBFeature
15. 
16. from .models import (
17.     AlternateBook, Author, AuthorMeeting, BetterAuthor, Book, BookWithCustomPK,
18.     BookWithOptionalAltEditor, ClassyMexicanRestaurant, CustomPrimaryKey,
19.     Location, Membership, MexicanRestaurant, Owner, OwnerProfile, Person,
20.     Place, Player, Poem, Poet, Post, Price, Product, Repository, Restaurant,
21.     Revision, Team,
22. )
23. 
24. 
25. class DeletionTests(TestCase):
26.     def test_deletion(self):
27.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
28.         poet = Poet.objects.create(name='test')
29.         data = {
30.             'form-TOTAL_FORMS': '1',
31.             'form-INITIAL_FORMS': '1',
32.             'form-MAX_NUM_FORMS': '0',
33.             'form-0-id': str(poet.pk),
34.             'form-0-name': 'test',
35.             'form-0-DELETE': 'on',
36.         }
37.         formset = PoetFormSet(data, queryset=Poet.objects.all())
38.         formset.save(commit=False)
39.         self.assertEqual(Poet.objects.count(), 1)
40. 
41.         formset.save()
42.         self.assertTrue(formset.is_valid())
43.         self.assertEqual(Poet.objects.count(), 0)
44. 
45.     def test_add_form_deletion_when_invalid(self):
46.         """
47.         Make sure that an add form that is filled out, but marked for deletion
48.         doesn't cause validation errors.
49.         """
50.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
51.         poet = Poet.objects.create(name='test')
52.         # One existing untouched and two new unvalid forms
53.         data = {
54.             'form-TOTAL_FORMS': '3',
55.             'form-INITIAL_FORMS': '1',
56.             'form-MAX_NUM_FORMS': '0',
57.             'form-0-id': str(poet.id),
58.             'form-0-name': 'test',
59.             'form-1-id': '',
60.             'form-1-name': 'x' * 1000,  # Too long
61.             'form-2-id': str(poet.id),  # Violate unique constraint
62.             'form-2-name': 'test2',
63.         }
64.         formset = PoetFormSet(data, queryset=Poet.objects.all())
65.         # Make sure this form doesn't pass validation.
66.         self.assertIs(formset.is_valid(), False)
67.         self.assertEqual(Poet.objects.count(), 1)
68. 
69.         # Then make sure that it *does* pass validation and delete the object,
70.         # even though the data in new forms aren't actually valid.
71.         data['form-0-DELETE'] = 'on'
72.         data['form-1-DELETE'] = 'on'
73.         data['form-2-DELETE'] = 'on'
74.         formset = PoetFormSet(data, queryset=Poet.objects.all())
75.         self.assertIs(formset.is_valid(), True)
76.         formset.save()
77.         self.assertEqual(Poet.objects.count(), 0)
78. 
79.     def test_change_form_deletion_when_invalid(self):
80.         """
81.         Make sure that a change form that is filled out, but marked for deletion
82.         doesn't cause validation errors.
83.         """
84.         PoetFormSet = modelformset_factory(Poet, fields="__all__", can_delete=True)
85.         poet = Poet.objects.create(name='test')
86.         data = {
87.             'form-TOTAL_FORMS': '1',
88.             'form-INITIAL_FORMS': '1',
89.             'form-MAX_NUM_FORMS': '0',
90.             'form-0-id': str(poet.id),
91.             'form-0-name': 'x' * 1000,
92.         }
93.         formset = PoetFormSet(data, queryset=Poet.objects.all())
94.         # Make sure this form doesn't pass validation.
95.         self.assertIs(formset.is_valid(), False)
96.         self.assertEqual(Poet.objects.count(), 1)
97. 
98.         # Then make sure that it *does* pass validation and delete the object,
99.         # even though the data isn't actually valid.
100.         data['form-0-DELETE'] = 'on'
101.         formset = PoetFormSet(data, queryset=Poet.objects.all())
102.         self.assertIs(formset.is_valid(), True)
103.         formset.save()
104.         self.assertEqual(Poet.objects.count(), 0)
105. 
106.     def test_outdated_deletion(self):
107.         poet = Poet.objects.create(name='test')
108.         poem = Poem.objects.create(name='Brevity is the soul of wit', poet=poet)
109. 
110.         PoemFormSet = inlineformset_factory(Poet, Poem, fields="__all__", can_delete=True)
111. 
112.         # Simulate deletion of an object that doesn't exist in the database
113.         data = {
114.             'form-TOTAL_FORMS': '2',
115.             'form-INITIAL_FORMS': '2',
116.             'form-0-id': str(poem.pk),
117.             'form-0-name': 'foo',
118.             'form-1-id': str(poem.pk + 1),  # doesn't exist
119.             'form-1-name': 'bar',
120.             'form-1-DELETE': 'on',
121.         }
122.         formset = PoemFormSet(data, instance=poet, prefix="form")
123. 
124.         # The formset is valid even though poem.pk + 1 doesn't exist,
125.         # because it's marked for deletion anyway
126.         self.assertTrue(formset.is_valid())
127. 
128.         formset.save()
129. 
130.         # Make sure the save went through correctly
131.         self.assertEqual(Poem.objects.get(pk=poem.pk).name, "foo")
132.         self.assertEqual(poet.poem_set.count(), 1)
133.         self.assertFalse(Poem.objects.filter(pk=poem.pk + 1).exists())
134. 
135. 
136. class ModelFormsetTest(TestCase):
137.     def test_modelformset_factory_without_fields(self):
138.         """ Regression for #19733 """
139.         message = (
140.             "Calling modelformset_factory without defining 'fields' or 'exclude' "
141.             "explicitly is prohibited."
142.         )
143.         with self.assertRaisesMessage(ImproperlyConfigured, message):
144.             modelformset_factory(Author)
145. 
146.     def test_simple_save(self):
147.         qs = Author.objects.all()
148.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=3)
149. 
150.         formset = AuthorFormSet(queryset=qs)
151.         self.assertEqual(len(formset.forms), 3)
152.         self.assertHTMLEqual(
153.             formset.forms[0].as_p(),
154.             '<p><label for="id_form-0-name">Name:</label>'
155.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100">'
156.             '<input type="hidden" name="form-0-id" id="id_form-0-id"></p>'
157.         )
158.         self.assertHTMLEqual(
159.             formset.forms[1].as_p(),
160.             '<p><label for="id_form-1-name">Name:</label>'
161.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100">'
162.             '<input type="hidden" name="form-1-id" id="id_form-1-id"></p>'
163.         )
164.         self.assertHTMLEqual(
165.             formset.forms[2].as_p(),
166.             '<p><label for="id_form-2-name">Name:</label>'
167.             ' <input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
168.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
169.         )
170. 
171.         data = {
172.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
173.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
174.             'form-MAX_NUM_FORMS': '',  # the max number of forms
175.             'form-0-name': 'Charles Baudelaire',
176.             'form-1-name': 'Arthur Rimbaud',
177.             'form-2-name': '',
178.         }
179. 
180.         formset = AuthorFormSet(data=data, queryset=qs)
181.         self.assertTrue(formset.is_valid())
182. 
183.         saved = formset.save()
184.         self.assertEqual(len(saved), 2)
185.         author1, author2 = saved
186.         self.assertEqual(author1, Author.objects.get(name='Charles Baudelaire'))
187.         self.assertEqual(author2, Author.objects.get(name='Arthur Rimbaud'))
188. 
189.         authors = list(Author.objects.order_by('name'))
190.         self.assertEqual(authors, [author2, author1])
191. 
192.         # Gah! We forgot Paul Verlaine. Let's create a formset to edit the
193.         # existing authors with an extra form to add him. We *could* pass in a
194.         # queryset to restrict the Author objects we edit, but in this case
195.         # we'll use it to display them in alphabetical order by name.
196. 
197.         qs = Author.objects.order_by('name')
198.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=False)
199. 
200.         formset = AuthorFormSet(queryset=qs)
201.         self.assertEqual(len(formset.forms), 3)
202.         self.assertHTMLEqual(
203.             formset.forms[0].as_p(),
204.             '<p><label for="id_form-0-name">Name:</label>'
205.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Arthur Rimbaud" maxlength="100">'
206.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
207.         )
208.         self.assertHTMLEqual(
209.             formset.forms[1].as_p(),
210.             '<p><label for="id_form-1-name">Name:</label>'
211.             '<input id="id_form-1-name" type="text" name="form-1-name" value="Charles Baudelaire" maxlength="100">'
212.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
213.         )
214.         self.assertHTMLEqual(
215.             formset.forms[2].as_p(),
216.             '<p><label for="id_form-2-name">Name:</label>'
217.             '<input id="id_form-2-name" type="text" name="form-2-name" maxlength="100">'
218.             '<input type="hidden" name="form-2-id" id="id_form-2-id"></p>'
219.         )
220. 
221.         data = {
222.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
223.             'form-INITIAL_FORMS': '2',  # the number of forms with initial data
224.             'form-MAX_NUM_FORMS': '',  # the max number of forms
225.             'form-0-id': str(author2.id),
226.             'form-0-name': 'Arthur Rimbaud',
227.             'form-1-id': str(author1.id),
228.             'form-1-name': 'Charles Baudelaire',
229.             'form-2-name': 'Paul Verlaine',
230.         }
231. 
232.         formset = AuthorFormSet(data=data, queryset=qs)
233.         self.assertTrue(formset.is_valid())
234. 
235.         # Only changed or new objects are returned from formset.save()
236.         saved = formset.save()
237.         self.assertEqual(len(saved), 1)
238.         author3 = saved[0]
239.         self.assertEqual(author3, Author.objects.get(name='Paul Verlaine'))
240. 
241.         authors = list(Author.objects.order_by('name'))
242.         self.assertEqual(authors, [author2, author1, author3])
243. 
244.         # This probably shouldn't happen, but it will. If an add form was
245.         # marked for deletion, make sure we don't save that form.
246. 
247.         qs = Author.objects.order_by('name')
248.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=1, can_delete=True)
249. 
250.         formset = AuthorFormSet(queryset=qs)
251.         self.assertEqual(len(formset.forms), 4)
252.         self.assertHTMLEqual(
253.             formset.forms[0].as_p(),
254.             '<p><label for="id_form-0-name">Name:</label>'
255.             '<input id="id_form-0-name" type="text" name="form-0-name" '
256.             'value="Arthur Rimbaud" maxlength="100"></p>'
257.             '<p><label for="id_form-0-DELETE">Delete:</label>'
258.             '<input type="checkbox" name="form-0-DELETE" id="id_form-0-DELETE">'
259.             '<input type="hidden" name="form-0-id" value="%d" id="id_form-0-id"></p>' % author2.id
260.         )
261.         self.assertHTMLEqual(
262.             formset.forms[1].as_p(),
263.             '<p><label for="id_form-1-name">Name:</label>'
264.             '<input id="id_form-1-name" type="text" name="form-1-name" '
265.             'value="Charles Baudelaire" maxlength="100"></p>'
266.             '<p><label for="id_form-1-DELETE">Delete:</label>'
267.             '<input type="checkbox" name="form-1-DELETE" id="id_form-1-DELETE">'
268.             '<input type="hidden" name="form-1-id" value="%d" id="id_form-1-id"></p>' % author1.id
269.         )
270.         self.assertHTMLEqual(
271.             formset.forms[2].as_p(),
272.             '<p><label for="id_form-2-name">Name:</label>'
273.             '<input id="id_form-2-name" type="text" name="form-2-name" '
274.             'value="Paul Verlaine" maxlength="100"></p>'
275.             '<p><label for="id_form-2-DELETE">Delete:</label>'
276.             '<input type="checkbox" name="form-2-DELETE" id="id_form-2-DELETE">'
277.             '<input type="hidden" name="form-2-id" value="%d" id="id_form-2-id"></p>' % author3.id
278.         )
279.         self.assertHTMLEqual(
280.             formset.forms[3].as_p(),
281.             '<p><label for="id_form-3-name">Name:</label>'
282.             '<input id="id_form-3-name" type="text" name="form-3-name" maxlength="100"></p>'
283.             '<p><label for="id_form-3-DELETE">Delete:</label>'
284.             '<input type="checkbox" name="form-3-DELETE" id="id_form-3-DELETE">'
285.             '<input type="hidden" name="form-3-id" id="id_form-3-id"></p>'
286.         )
287. 
288.         data = {
289.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
290.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
291.             'form-MAX_NUM_FORMS': '',  # the max number of forms
292.             'form-0-id': str(author2.id),
293.             'form-0-name': 'Arthur Rimbaud',
294.             'form-1-id': str(author1.id),
295.             'form-1-name': 'Charles Baudelaire',
296.             'form-2-id': str(author3.id),
297.             'form-2-name': 'Paul Verlaine',
298.             'form-3-name': 'Walt Whitman',
299.             'form-3-DELETE': 'on',
300.         }
301. 
302.         formset = AuthorFormSet(data=data, queryset=qs)
303.         self.assertTrue(formset.is_valid())
304. 
305.         # No objects were changed or saved so nothing will come back.
306. 
307.         self.assertEqual(formset.save(), [])
308. 
309.         authors = list(Author.objects.order_by('name'))
310.         self.assertEqual(authors, [author2, author1, author3])
311. 
312.         # Let's edit a record to ensure save only returns that one record.
313. 
314.         data = {
315.             'form-TOTAL_FORMS': '4',  # the number of forms rendered
316.             'form-INITIAL_FORMS': '3',  # the number of forms with initial data
317.             'form-MAX_NUM_FORMS': '',  # the max number of forms
318.             'form-0-id': str(author2.id),
319.             'form-0-name': 'Walt Whitman',
320.             'form-1-id': str(author1.id),
321.             'form-1-name': 'Charles Baudelaire',
322.             'form-2-id': str(author3.id),
323.             'form-2-name': 'Paul Verlaine',
324.             'form-3-name': '',
325.             'form-3-DELETE': '',
326.         }
327. 
328.         formset = AuthorFormSet(data=data, queryset=qs)
329.         self.assertTrue(formset.is_valid())
330. 
331.         # One record has changed.
332. 
333.         saved = formset.save()
334.         self.assertEqual(len(saved), 1)
335.         self.assertEqual(saved[0], Author.objects.get(name='Walt Whitman'))
336. 
337.     def test_commit_false(self):
338.         # Test the behavior of commit=False and save_m2m
339. 
340.         author1 = Author.objects.create(name='Charles Baudelaire')
341.         author2 = Author.objects.create(name='Paul Verlaine')
342.         author3 = Author.objects.create(name='Walt Whitman')
343. 
344.         meeting = AuthorMeeting.objects.create(created=date.today())
345.         meeting.authors.set(Author.objects.all())
346. 
347.         # create an Author instance to add to the meeting.
348. 
349.         author4 = Author.objects.create(name='John Steinbeck')
350. 
351.         AuthorMeetingFormSet = modelformset_factory(AuthorMeeting, fields="__all__", extra=1, can_delete=True)
352.         data = {
353.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
354.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
355.             'form-MAX_NUM_FORMS': '',  # the max number of forms
356.             'form-0-id': str(meeting.id),
357.             'form-0-name': '2nd Tuesday of the Week Meeting',
358.             'form-0-authors': [author2.id, author1.id, author3.id, author4.id],
359.             'form-1-name': '',
360.             'form-1-authors': '',
361.             'form-1-DELETE': '',
362.         }
363.         formset = AuthorMeetingFormSet(data=data, queryset=AuthorMeeting.objects.all())
364.         self.assertTrue(formset.is_valid())
365. 
366.         instances = formset.save(commit=False)
367.         for instance in instances:
368.             instance.created = date.today()
369.             instance.save()
370.         formset.save_m2m()
371.         self.assertSequenceEqual(
372.             instances[0].authors.all(),
373.             [author1, author4, author2, author3],
374.         )
375. 
376.     def test_max_num(self):
377.         # Test the behavior of max_num with model formsets. It should allow
378.         # all existing related objects/inlines for a given object to be
379.         # displayed, but not allow the creation of new inlines beyond max_num.
380. 
381.         a1 = Author.objects.create(name='Charles Baudelaire')
382.         a2 = Author.objects.create(name='Paul Verlaine')
383.         a3 = Author.objects.create(name='Walt Whitman')
384. 
385.         qs = Author.objects.order_by('name')
386. 
387.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None, extra=3)
388.         formset = AuthorFormSet(queryset=qs)
389.         self.assertEqual(len(formset.forms), 6)
390.         self.assertEqual(len(formset.extra_forms), 3)
391. 
392.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4, extra=3)
393.         formset = AuthorFormSet(queryset=qs)
394.         self.assertEqual(len(formset.forms), 4)
395.         self.assertEqual(len(formset.extra_forms), 1)
396. 
397.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0, extra=3)
398.         formset = AuthorFormSet(queryset=qs)
399.         self.assertEqual(len(formset.forms), 3)
400.         self.assertEqual(len(formset.extra_forms), 0)
401. 
402.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=None)
403.         formset = AuthorFormSet(queryset=qs)
404.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
405. 
406.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=0)
407.         formset = AuthorFormSet(queryset=qs)
408.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
409. 
410.         AuthorFormSet = modelformset_factory(Author, fields="__all__", max_num=4)
411.         formset = AuthorFormSet(queryset=qs)
412.         self.assertSequenceEqual(formset.get_queryset(), [a1, a2, a3])
413. 
414.     def test_min_num(self):
415.         # Test the behavior of min_num with model formsets. It should be
416.         # added to extra.
417.         qs = Author.objects.none()
418. 
419.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0)
420.         formset = AuthorFormSet(queryset=qs)
421.         self.assertEqual(len(formset.forms), 0)
422. 
423.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=0)
424.         formset = AuthorFormSet(queryset=qs)
425.         self.assertEqual(len(formset.forms), 1)
426. 
427.         AuthorFormSet = modelformset_factory(Author, fields="__all__", min_num=1, extra=1)
428.         formset = AuthorFormSet(queryset=qs)
429.         self.assertEqual(len(formset.forms), 2)
430. 
431.     def test_min_num_with_existing(self):
432.         # Test the behavior of min_num with existing objects.
433.         Author.objects.create(name='Charles Baudelaire')
434.         qs = Author.objects.all()
435. 
436.         AuthorFormSet = modelformset_factory(Author, fields="__all__", extra=0, min_num=1)
437.         formset = AuthorFormSet(queryset=qs)
438.         self.assertEqual(len(formset.forms), 1)
439. 
440.     def test_custom_save_method(self):
441.         class PoetForm(forms.ModelForm):
442.             def save(self, commit=True):
443.                 # change the name to "Vladimir Mayakovsky" just to be a jerk.
444.                 author = super().save(commit=False)
445.                 author.name = "Vladimir Mayakovsky"
446.                 if commit:
447.                     author.save()
448.                 return author
449. 
450.         PoetFormSet = modelformset_factory(Poet, fields="__all__", form=PoetForm)
451. 
452.         data = {
453.             'form-TOTAL_FORMS': '3',  # the number of forms rendered
454.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
455.             'form-MAX_NUM_FORMS': '',  # the max number of forms
456.             'form-0-name': 'Walt Whitman',
457.             'form-1-name': 'Charles Baudelaire',
458.             'form-2-name': '',
459.         }
460. 
461.         qs = Poet.objects.all()
462.         formset = PoetFormSet(data=data, queryset=qs)
463.         self.assertTrue(formset.is_valid())
464. 
465.         poets = formset.save()
466.         self.assertEqual(len(poets), 2)
467.         poet1, poet2 = poets
468.         self.assertEqual(poet1.name, 'Vladimir Mayakovsky')
469.         self.assertEqual(poet2.name, 'Vladimir Mayakovsky')
470. 
471.     def test_custom_form(self):
472.         """
473.         model_formset_factory() respects fields and exclude parameters of a
474.         custom form.
475.         """
476.         class PostForm1(forms.ModelForm):
477.             class Meta:
478.                 model = Post
479.                 fields = ('title', 'posted')
480. 
481.         class PostForm2(forms.ModelForm):
482.             class Meta:
483.                 model = Post
484.                 exclude = ('subtitle',)
485. 
486.         PostFormSet = modelformset_factory(Post, form=PostForm1)
487.         formset = PostFormSet()
488.         self.assertNotIn("subtitle", formset.forms[0].fields)
489. 
490.         PostFormSet = modelformset_factory(Post, form=PostForm2)
491.         formset = PostFormSet()
492.         self.assertNotIn("subtitle", formset.forms[0].fields)
493. 
494.     def test_custom_queryset_init(self):
495.         """
496.         A queryset can be overridden in the formset's __init__() method.
497.         """
498.         Author.objects.create(name='Charles Baudelaire')
499.         Author.objects.create(name='Paul Verlaine')
500. 
501.         class BaseAuthorFormSet(BaseModelFormSet):
502.             def __init__(self, *args, **kwargs):
503.                 super().__init__(*args, **kwargs)
504.                 self.queryset = Author.objects.filter(name__startswith='Charles')
505. 
506.         AuthorFormSet = modelformset_factory(Author, fields='__all__', formset=BaseAuthorFormSet)
507.         formset = AuthorFormSet()
508.         self.assertEqual(len(formset.get_queryset()), 1)
509. 
510.     def test_model_inheritance(self):
511.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields="__all__")
512.         formset = BetterAuthorFormSet()
513.         self.assertEqual(len(formset.forms), 1)
514.         self.assertHTMLEqual(
515.             formset.forms[0].as_p(),
516.             '<p><label for="id_form-0-name">Name:</label>'
517.             '<input id="id_form-0-name" type="text" name="form-0-name" maxlength="100"></p>'
518.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
519.             '<input type="number" name="form-0-write_speed" id="id_form-0-write_speed">'
520.             '<input type="hidden" name="form-0-author_ptr" id="id_form-0-author_ptr"></p>'
521.         )
522. 
523.         data = {
524.             'form-TOTAL_FORMS': '1',  # the number of forms rendered
525.             'form-INITIAL_FORMS': '0',  # the number of forms with initial data
526.             'form-MAX_NUM_FORMS': '',  # the max number of forms
527.             'form-0-author_ptr': '',
528.             'form-0-name': 'Ernest Hemingway',
529.             'form-0-write_speed': '10',
530.         }
531. 
532.         formset = BetterAuthorFormSet(data)
533.         self.assertTrue(formset.is_valid())
534.         saved = formset.save()
535.         self.assertEqual(len(saved), 1)
536.         author1, = saved
537.         self.assertEqual(author1, BetterAuthor.objects.get(name='Ernest Hemingway'))
538.         hemingway_id = BetterAuthor.objects.get(name="Ernest Hemingway").pk
539. 
540.         formset = BetterAuthorFormSet()
541.         self.assertEqual(len(formset.forms), 2)
542.         self.assertHTMLEqual(
543.             formset.forms[0].as_p(),
544.             '<p><label for="id_form-0-name">Name:</label>'
545.             '<input id="id_form-0-name" type="text" name="form-0-name" value="Ernest Hemingway" maxlength="100"></p>'
546.             '<p><label for="id_form-0-write_speed">Write speed:</label>'
547.             '<input type="number" name="form-0-write_speed" value="10" id="id_form-0-write_speed">'
548.             '<input type="hidden" name="form-0-author_ptr" value="%d" id="id_form-0-author_ptr"></p>' % hemingway_id
549.         )
550.         self.assertHTMLEqual(
551.             formset.forms[1].as_p(),
552.             '<p><label for="id_form-1-name">Name:</label>'
553.             '<input id="id_form-1-name" type="text" name="form-1-name" maxlength="100"></p>'
554.             '<p><label for="id_form-1-write_speed">Write speed:</label>'
555.             '<input type="number" name="form-1-write_speed" id="id_form-1-write_speed">'
556.             '<input type="hidden" name="form-1-author_ptr" id="id_form-1-author_ptr"></p>'
557.         )
558. 
559.         data = {
560.             'form-TOTAL_FORMS': '2',  # the number of forms rendered
561.             'form-INITIAL_FORMS': '1',  # the number of forms with initial data
562.             'form-MAX_NUM_FORMS': '',  # the max number of forms
563.             'form-0-author_ptr': hemingway_id,
564.             'form-0-name': 'Ernest Hemingway',
565.             'form-0-write_speed': '10',
566.             'form-1-author_ptr': '',
567.             'form-1-name': '',
568.             'form-1-write_speed': '',
569.         }
570. 
571.         formset = BetterAuthorFormSet(data)
572.         self.assertTrue(formset.is_valid())
573.         self.assertEqual(formset.save(), [])
574. 
575.     def test_inline_formsets(self):
576.         # We can also create a formset that is tied to a parent model. This is
577.         # how the admin system's edit inline functionality works.
578. 
579.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=3, fields="__all__")
580.         author = Author.objects.create(name='Charles Baudelaire')
581. 
582.         formset = AuthorBooksFormSet(instance=author)
583.         self.assertEqual(len(formset.forms), 3)
584.         self.assertHTMLEqual(
585.             formset.forms[0].as_p(),
586.             '<p><label for="id_book_set-0-title">Title:</label> <input id="id_book_set-0-title" type="text" '
587.             'name="book_set-0-title" maxlength="100"><input type="hidden" name="book_set-0-author" value="%d" '
588.             'id="id_book_set-0-author"><input type="hidden" name="book_set-0-id" id="id_book_set-0-id">'
589.             '</p>' % author.id
590.         )
591.         self.assertHTMLEqual(
592.             formset.forms[1].as_p(),
593.             '<p><label for="id_book_set-1-title">Title:</label>'
594.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
595.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
596.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
597.         )
598.         self.assertHTMLEqual(
599.             formset.forms[2].as_p(),
600.             '<p><label for="id_book_set-2-title">Title:</label>'
601.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
602.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
603.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
604.         )
605. 
606.         data = {
607.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
608.             'book_set-INITIAL_FORMS': '0',  # the number of forms with initial data
609.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
610.             'book_set-0-title': 'Les Fleurs du Mal',
611.             'book_set-1-title': '',
612.             'book_set-2-title': '',
613.         }
614. 
615.         formset = AuthorBooksFormSet(data, instance=author)
616.         self.assertTrue(formset.is_valid())
617. 
618.         saved = formset.save()
619.         self.assertEqual(len(saved), 1)
620.         book1, = saved
621.         self.assertEqual(book1, Book.objects.get(title='Les Fleurs du Mal'))
622.         self.assertSequenceEqual(author.book_set.all(), [book1])
623. 
624.         # Now that we've added a book to Charles Baudelaire, let's try adding
625.         # another one. This time though, an edit form will be available for
626.         # every existing book.
627. 
628.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
629.         author = Author.objects.get(name='Charles Baudelaire')
630. 
631.         formset = AuthorBooksFormSet(instance=author)
632.         self.assertEqual(len(formset.forms), 3)
633.         self.assertHTMLEqual(
634.             formset.forms[0].as_p(),
635.             '<p><label for="id_book_set-0-title">Title:</label>'
636.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
637.             'value="Les Fleurs du Mal" maxlength="100">'
638.             '<input type="hidden" name="book_set-0-author" value="%d" id="id_book_set-0-author">'
639.             '<input type="hidden" name="book_set-0-id" value="%d" id="id_book_set-0-id"></p>' % (
640.                 author.id, book1.id,
641.             )
642.         )
643.         self.assertHTMLEqual(
644.             formset.forms[1].as_p(),
645.             '<p><label for="id_book_set-1-title">Title:</label>'
646.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
647.             '<input type="hidden" name="book_set-1-author" value="%d" id="id_book_set-1-author">'
648.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>' % author.id
649.         )
650.         self.assertHTMLEqual(
651.             formset.forms[2].as_p(),
652.             '<p><label for="id_book_set-2-title">Title:</label>'
653.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
654.             '<input type="hidden" name="book_set-2-author" value="%d" id="id_book_set-2-author">'
655.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>' % author.id
656.         )
657. 
658.         data = {
659.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
660.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
661.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
662.             'book_set-0-id': str(book1.id),
663.             'book_set-0-title': 'Les Fleurs du Mal',
664.             'book_set-1-title': 'Les Paradis Artificiels',
665.             'book_set-2-title': '',
666.         }
667. 
668.         formset = AuthorBooksFormSet(data, instance=author)
669.         self.assertTrue(formset.is_valid())
670. 
671.         saved = formset.save()
672.         self.assertEqual(len(saved), 1)
673.         book2, = saved
674.         self.assertEqual(book2, Book.objects.get(title='Les Paradis Artificiels'))
675. 
676.         # As you can see, 'Les Paradis Artificiels' is now a book belonging to
677.         # Charles Baudelaire.
678.         self.assertSequenceEqual(author.book_set.order_by('title'), [book1, book2])
679. 
680.     def test_inline_formsets_save_as_new(self):
681.         # The save_as_new parameter lets you re-associate the data to a new
682.         # instance.  This is used in the admin for save_as functionality.
683.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
684.         Author.objects.create(name='Charles Baudelaire')
685. 
686.         # An immutable QueryDict simulates request.POST.
687.         data = QueryDict(mutable=True)
688.         data.update({
689.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
690.             'book_set-INITIAL_FORMS': '2',  # the number of forms with initial data
691.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
692.             'book_set-0-id': '1',
693.             'book_set-0-title': 'Les Fleurs du Mal',
694.             'book_set-1-id': '2',
695.             'book_set-1-title': 'Les Paradis Artificiels',
696.             'book_set-2-title': '',
697.         })
698.         data._mutable = False
699. 
700.         formset = AuthorBooksFormSet(data, instance=Author(), save_as_new=True)
701.         self.assertTrue(formset.is_valid())
702.         self.assertIs(data._mutable, False)
703. 
704.         new_author = Author.objects.create(name='Charles Baudelaire')
705.         formset = AuthorBooksFormSet(data, instance=new_author, save_as_new=True)
706.         saved = formset.save()
707.         self.assertEqual(len(saved), 2)
708.         book1, book2 = saved
709.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
710.         self.assertEqual(book2.title, 'Les Paradis Artificiels')
711. 
712.         # Test using a custom prefix on an inline formset.
713. 
714.         formset = AuthorBooksFormSet(prefix="test")
715.         self.assertEqual(len(formset.forms), 2)
716.         self.assertHTMLEqual(
717.             formset.forms[0].as_p(),
718.             '<p><label for="id_test-0-title">Title:</label>'
719.             '<input id="id_test-0-title" type="text" name="test-0-title" maxlength="100">'
720.             '<input type="hidden" name="test-0-author" id="id_test-0-author">'
721.             '<input type="hidden" name="test-0-id" id="id_test-0-id"></p>'
722.         )
723. 
724.         self.assertHTMLEqual(
725.             formset.forms[1].as_p(),
726.             '<p><label for="id_test-1-title">Title:</label>'
727.             '<input id="id_test-1-title" type="text" name="test-1-title" maxlength="100">'
728.             '<input type="hidden" name="test-1-author" id="id_test-1-author">'
729.             '<input type="hidden" name="test-1-id" id="id_test-1-id"></p>'
730.         )
731. 
732.     def test_inline_formsets_with_custom_pk(self):
733.         # Test inline formsets where the inline-edited object has a custom
734.         # primary key that is not the fk to the parent object.
735.         self.maxDiff = 1024
736. 
737.         AuthorBooksFormSet2 = inlineformset_factory(
738.             Author, BookWithCustomPK, can_delete=False, extra=1, fields="__all__"
739.         )
740.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
741. 
742.         formset = AuthorBooksFormSet2(instance=author)
743.         self.assertEqual(len(formset.forms), 1)
744.         self.assertHTMLEqual(
745.             formset.forms[0].as_p(),
746.             '<p><label for="id_bookwithcustompk_set-0-my_pk">My pk:</label>'
747.             '<input id="id_bookwithcustompk_set-0-my_pk" type="number" '
748.             'name="bookwithcustompk_set-0-my_pk" step="1"></p>'
749.             '<p><label for="id_bookwithcustompk_set-0-title">Title:</label>'
750.             '<input id="id_bookwithcustompk_set-0-title" type="text" '
751.             'name="bookwithcustompk_set-0-title" maxlength="100">'
752.             '<input type="hidden" name="bookwithcustompk_set-0-author" '
753.             'value="1" id="id_bookwithcustompk_set-0-author"></p>'
754.         )
755. 
756.         data = {
757.             'bookwithcustompk_set-TOTAL_FORMS': '1',  # the number of forms rendered
758.             'bookwithcustompk_set-INITIAL_FORMS': '0',  # the number of forms with initial data
759.             'bookwithcustompk_set-MAX_NUM_FORMS': '',  # the max number of forms
760.             'bookwithcustompk_set-0-my_pk': '77777',
761.             'bookwithcustompk_set-0-title': 'Les Fleurs du Mal',
762.         }
763. 
764.         formset = AuthorBooksFormSet2(data, instance=author)
765.         self.assertTrue(formset.is_valid())
766. 
767.         saved = formset.save()
768.         self.assertEqual(len(saved), 1)
769.         book1, = saved
770.         self.assertEqual(book1.pk, 77777)
771. 
772.         book1 = author.bookwithcustompk_set.get()
773.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
774. 
775.     def test_inline_formsets_with_multi_table_inheritance(self):
776.         # Test inline formsets where the inline-edited object uses multi-table
777.         # inheritance, thus has a non AutoField yet auto-created primary key.
778. 
779.         AuthorBooksFormSet3 = inlineformset_factory(Author, AlternateBook, can_delete=False, extra=1, fields="__all__")
780.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
781. 
782.         formset = AuthorBooksFormSet3(instance=author)
783.         self.assertEqual(len(formset.forms), 1)
784.         self.assertHTMLEqual(
785.             formset.forms[0].as_p(),
786.             '<p><label for="id_alternatebook_set-0-title">Title:</label>'
787.             '<input id="id_alternatebook_set-0-title" type="text" '
788.             'name="alternatebook_set-0-title" maxlength="100"></p>'
789.             '<p><label for="id_alternatebook_set-0-notes">Notes:</label>'
790.             '<input id="id_alternatebook_set-0-notes" type="text" '
791.             'name="alternatebook_set-0-notes" maxlength="100">'
792.             '<input type="hidden" name="alternatebook_set-0-author" value="1" '
793.             'id="id_alternatebook_set-0-author">'
794.             '<input type="hidden" name="alternatebook_set-0-book_ptr" '
795.             'id="id_alternatebook_set-0-book_ptr"></p>'
796.         )
797. 
798.         data = {
799.             'alternatebook_set-TOTAL_FORMS': '1',  # the number of forms rendered
800.             'alternatebook_set-INITIAL_FORMS': '0',  # the number of forms with initial data
801.             'alternatebook_set-MAX_NUM_FORMS': '',  # the max number of forms
802.             'alternatebook_set-0-title': 'Flowers of Evil',
803.             'alternatebook_set-0-notes': 'English translation of Les Fleurs du Mal'
804.         }
805. 
806.         formset = AuthorBooksFormSet3(data, instance=author)
807.         self.assertTrue(formset.is_valid())
808. 
809.         saved = formset.save()
810.         self.assertEqual(len(saved), 1)
811.         book1, = saved
812.         self.assertEqual(book1.title, 'Flowers of Evil')
813.         self.assertEqual(book1.notes, 'English translation of Les Fleurs du Mal')
814. 
815.     @skipUnlessDBFeature('supports_partially_nullable_unique_constraints')
816.     def test_inline_formsets_with_nullable_unique_together(self):
817.         # Test inline formsets where the inline-edited object has a
818.         # unique_together constraint with a nullable member
819. 
820.         AuthorBooksFormSet4 = inlineformset_factory(
821.             Author, BookWithOptionalAltEditor, can_delete=False, extra=2, fields="__all__"
822.         )
823.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
824. 
825.         data = {
826.             'bookwithoptionalalteditor_set-TOTAL_FORMS': '2',  # the number of forms rendered
827.             'bookwithoptionalalteditor_set-INITIAL_FORMS': '0',  # the number of forms with initial data
828.             'bookwithoptionalalteditor_set-MAX_NUM_FORMS': '',  # the max number of forms
829.             'bookwithoptionalalteditor_set-0-author': '1',
830.             'bookwithoptionalalteditor_set-0-title': 'Les Fleurs du Mal',
831.             'bookwithoptionalalteditor_set-1-author': '1',
832.             'bookwithoptionalalteditor_set-1-title': 'Les Fleurs du Mal',
833.         }
834.         formset = AuthorBooksFormSet4(data, instance=author)
835.         self.assertTrue(formset.is_valid())
836. 
837.         saved = formset.save()
838.         self.assertEqual(len(saved), 2)
839.         book1, book2 = saved
840.         self.assertEqual(book1.author_id, 1)
841.         self.assertEqual(book1.title, 'Les Fleurs du Mal')
842.         self.assertEqual(book2.author_id, 1)
843.         self.assertEqual(book2.title, 'Les Fleurs du Mal')
844. 
845.     def test_inline_formsets_with_custom_save_method(self):
846.         AuthorBooksFormSet = inlineformset_factory(Author, Book, can_delete=False, extra=2, fields="__all__")
847.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
848.         book1 = Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
849.         book2 = Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
850.         book3 = Book.objects.create(pk=3, author=author, title='Flowers of Evil')
851. 
852.         class PoemForm(forms.ModelForm):
853.             def save(self, commit=True):
854.                 # change the name to "Brooklyn Bridge" just to be a jerk.
855.                 poem = super().save(commit=False)
856.                 poem.name = "Brooklyn Bridge"
857.                 if commit:
858.                     poem.save()
859.                 return poem
860. 
861.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm, fields="__all__")
862. 
863.         data = {
864.             'poem_set-TOTAL_FORMS': '3',  # the number of forms rendered
865.             'poem_set-INITIAL_FORMS': '0',  # the number of forms with initial data
866.             'poem_set-MAX_NUM_FORMS': '',  # the max number of forms
867.             'poem_set-0-name': 'The Cloud in Trousers',
868.             'poem_set-1-name': 'I',
869.             'poem_set-2-name': '',
870.         }
871. 
872.         poet = Poet.objects.create(name='Vladimir Mayakovsky')
873.         formset = PoemFormSet(data=data, instance=poet)
874.         self.assertTrue(formset.is_valid())
875. 
876.         saved = formset.save()
877.         self.assertEqual(len(saved), 2)
878.         poem1, poem2 = saved
879.         self.assertEqual(poem1.name, 'Brooklyn Bridge')
880.         self.assertEqual(poem2.name, 'Brooklyn Bridge')
881. 
882.         # We can provide a custom queryset to our InlineFormSet:
883. 
884.         custom_qs = Book.objects.order_by('-title')
885.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
886.         self.assertEqual(len(formset.forms), 5)
887.         self.assertHTMLEqual(
888.             formset.forms[0].as_p(),
889.             '<p><label for="id_book_set-0-title">Title:</label>'
890.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
891.             'value="Les Paradis Artificiels" maxlength="100">'
892.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
893.             '<input type="hidden" name="book_set-0-id" value="1" id="id_book_set-0-id"></p>'
894.         )
895.         self.assertHTMLEqual(
896.             formset.forms[1].as_p(),
897.             '<p><label for="id_book_set-1-title">Title:</label>'
898.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" '
899.             'value="Les Fleurs du Mal" maxlength="100">'
900.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
901.             '<input type="hidden" name="book_set-1-id" value="2" id="id_book_set-1-id"></p>'
902.         )
903.         self.assertHTMLEqual(
904.             formset.forms[2].as_p(),
905.             '<p><label for="id_book_set-2-title">Title:</label>'
906.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" '
907.             'value="Flowers of Evil" maxlength="100">'
908.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
909.             '<input type="hidden" name="book_set-2-id" value="3" id="id_book_set-2-id"></p>'
910.         )
911.         self.assertHTMLEqual(
912.             formset.forms[3].as_p(),
913.             '<p><label for="id_book_set-3-title">Title:</label>'
914.             '<input id="id_book_set-3-title" type="text" name="book_set-3-title" maxlength="100">'
915.             '<input type="hidden" name="book_set-3-author" value="1" id="id_book_set-3-author">'
916.             '<input type="hidden" name="book_set-3-id" id="id_book_set-3-id"></p>'
917.         )
918.         self.assertHTMLEqual(
919.             formset.forms[4].as_p(),
920.             '<p><label for="id_book_set-4-title">Title:</label>'
921.             '<input id="id_book_set-4-title" type="text" name="book_set-4-title" maxlength="100">'
922.             '<input type="hidden" name="book_set-4-author" value="1" id="id_book_set-4-author">'
923.             '<input type="hidden" name="book_set-4-id" id="id_book_set-4-id"></p>'
924.         )
925. 
926.         data = {
927.             'book_set-TOTAL_FORMS': '5',  # the number of forms rendered
928.             'book_set-INITIAL_FORMS': '3',  # the number of forms with initial data
929.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
930.             'book_set-0-id': str(book1.id),
931.             'book_set-0-title': 'Les Paradis Artificiels',
932.             'book_set-1-id': str(book2.id),
933.             'book_set-1-title': 'Les Fleurs du Mal',
934.             'book_set-2-id': str(book3.id),
935.             'book_set-2-title': 'Flowers of Evil',
936.             'book_set-3-title': 'Revue des deux mondes',
937.             'book_set-4-title': '',
938.         }
939.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
940.         self.assertTrue(formset.is_valid())
941. 
942.         custom_qs = Book.objects.filter(title__startswith='F')
943.         formset = AuthorBooksFormSet(instance=author, queryset=custom_qs)
944.         self.assertHTMLEqual(
945.             formset.forms[0].as_p(),
946.             '<p><label for="id_book_set-0-title">Title:</label>'
947.             '<input id="id_book_set-0-title" type="text" name="book_set-0-title" '
948.             'value="Flowers of Evil" maxlength="100">'
949.             '<input type="hidden" name="book_set-0-author" value="1" id="id_book_set-0-author">'
950.             '<input type="hidden" name="book_set-0-id" value="3" id="id_book_set-0-id"></p>'
951.         )
952.         self.assertHTMLEqual(
953.             formset.forms[1].as_p(),
954.             '<p><label for="id_book_set-1-title">Title:</label>'
955.             '<input id="id_book_set-1-title" type="text" name="book_set-1-title" maxlength="100">'
956.             '<input type="hidden" name="book_set-1-author" value="1" id="id_book_set-1-author">'
957.             '<input type="hidden" name="book_set-1-id" id="id_book_set-1-id"></p>'
958.         )
959.         self.assertHTMLEqual(
960.             formset.forms[2].as_p(),
961.             '<p><label for="id_book_set-2-title">Title:</label>'
962.             '<input id="id_book_set-2-title" type="text" name="book_set-2-title" maxlength="100">'
963.             '<input type="hidden" name="book_set-2-author" value="1" id="id_book_set-2-author">'
964.             '<input type="hidden" name="book_set-2-id" id="id_book_set-2-id"></p>'
965.         )
966. 
967.         data = {
968.             'book_set-TOTAL_FORMS': '3',  # the number of forms rendered
969.             'book_set-INITIAL_FORMS': '1',  # the number of forms with initial data
970.             'book_set-MAX_NUM_FORMS': '',  # the max number of forms
971.             'book_set-0-id': str(book3.id),
972.             'book_set-0-title': 'Flowers of Evil',
973.             'book_set-1-title': 'Revue des deux mondes',
974.             'book_set-2-title': '',
975.         }
976.         formset = AuthorBooksFormSet(data, instance=author, queryset=custom_qs)
977.         self.assertTrue(formset.is_valid())
978. 
979.     def test_inline_formsets_with_custom_save_method_related_instance(self):
980.         """
981.         The ModelForm.save() method should be able to access the related object
982.         if it exists in the database (#24395).
983.         """
984.         class PoemForm2(forms.ModelForm):
985.             def save(self, commit=True):
986.                 poem = super().save(commit=False)
987.                 poem.name = "%s by %s" % (poem.name, poem.poet.name)
988.                 if commit:
989.                     poem.save()
990.                 return poem
991. 
992.         PoemFormSet = inlineformset_factory(Poet, Poem, form=PoemForm2, fields="__all__")
993.         data = {
994.             'poem_set-TOTAL_FORMS': '1',
995.             'poem_set-INITIAL_FORMS': '0',
996.             'poem_set-MAX_NUM_FORMS': '',
997.             'poem_set-0-name': 'Le Lac',
998.         }
999.         poet = Poet()
1000.         formset = PoemFormSet(data=data, instance=poet)
1001.         self.assertTrue(formset.is_valid())
1002. 
1003.         # The Poet instance is saved after the formset instantiation. This
1004.         # happens in admin's changeform_view() when adding a new object and
1005.         # some inlines in the same request.
1006.         poet.name = 'Lamartine'
1007.         poet.save()
1008.         poem = formset.save()[0]
1009.         self.assertEqual(poem.name, 'Le Lac by Lamartine')
1010. 
1011.     def test_inline_formsets_with_wrong_fk_name(self):
1012.         """ Regression for #23451 """
1013.         message = "fk_name 'title' is not a ForeignKey to 'model_formsets.Author'."
1014.         with self.assertRaisesMessage(ValueError, message):
1015.             inlineformset_factory(Author, Book, fields="__all__", fk_name='title')
1016. 
1017.     def test_custom_pk(self):
1018.         # We need to ensure that it is displayed
1019. 
1020.         CustomPrimaryKeyFormSet = modelformset_factory(CustomPrimaryKey, fields="__all__")
1021.         formset = CustomPrimaryKeyFormSet()
1022.         self.assertEqual(len(formset.forms), 1)
1023.         self.assertHTMLEqual(
1024.             formset.forms[0].as_p(),
1025.             '<p><label for="id_form-0-my_pk">My pk:</label> <input id="id_form-0-my_pk" type="text" '
1026.             'name="form-0-my_pk" maxlength="10"></p>'
1027.             '<p><label for="id_form-0-some_field">Some field:</label>'
1028.             '<input id="id_form-0-some_field" type="text" name="form-0-some_field" maxlength="100"></p>'
1029.         )
1030. 
1031.         # Custom primary keys with ForeignKey, OneToOneField and AutoField ############
1032. 
1033.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1034. 
1035.         FormSet = inlineformset_factory(Place, Owner, extra=2, can_delete=False, fields="__all__")
1036.         formset = FormSet(instance=place)
1037.         self.assertEqual(len(formset.forms), 2)
1038.         self.assertHTMLEqual(
1039.             formset.forms[0].as_p(),
1040.             '<p><label for="id_owner_set-0-name">Name:</label>'
1041.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" maxlength="100">'
1042.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1043.             '<input type="hidden" name="owner_set-0-auto_id" id="id_owner_set-0-auto_id"></p>'
1044.         )
1045.         self.assertHTMLEqual(
1046.             formset.forms[1].as_p(),
1047.             '<p><label for="id_owner_set-1-name">Name:</label>'
1048.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1049.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1050.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1051.         )
1052. 
1053.         data = {
1054.             'owner_set-TOTAL_FORMS': '2',
1055.             'owner_set-INITIAL_FORMS': '0',
1056.             'owner_set-MAX_NUM_FORMS': '',
1057.             'owner_set-0-auto_id': '',
1058.             'owner_set-0-name': 'Joe Perry',
1059.             'owner_set-1-auto_id': '',
1060.             'owner_set-1-name': '',
1061.         }
1062.         formset = FormSet(data, instance=place)
1063.         self.assertTrue(formset.is_valid())
1064.         saved = formset.save()
1065.         self.assertEqual(len(saved), 1)
1066.         owner1, = saved
1067.         self.assertEqual(owner1.name, 'Joe Perry')
1068.         self.assertEqual(owner1.place.name, 'Giordanos')
1069. 
1070.         formset = FormSet(instance=place)
1071.         self.assertEqual(len(formset.forms), 3)
1072.         self.assertHTMLEqual(
1073.             formset.forms[0].as_p(),
1074.             '<p><label for="id_owner_set-0-name">Name:</label>'
1075.             '<input id="id_owner_set-0-name" type="text" name="owner_set-0-name" value="Joe Perry" maxlength="100">'
1076.             '<input type="hidden" name="owner_set-0-place" value="1" id="id_owner_set-0-place">'
1077.             '<input type="hidden" name="owner_set-0-auto_id" value="%d" id="id_owner_set-0-auto_id"></p>'
1078.             % owner1.auto_id
1079.         )
1080.         self.assertHTMLEqual(
1081.             formset.forms[1].as_p(),
1082.             '<p><label for="id_owner_set-1-name">Name:</label>'
1083.             '<input id="id_owner_set-1-name" type="text" name="owner_set-1-name" maxlength="100">'
1084.             '<input type="hidden" name="owner_set-1-place" value="1" id="id_owner_set-1-place">'
1085.             '<input type="hidden" name="owner_set-1-auto_id" id="id_owner_set-1-auto_id"></p>'
1086.         )
1087.         self.assertHTMLEqual(
1088.             formset.forms[2].as_p(),
1089.             '<p><label for="id_owner_set-2-name">Name:</label>'
1090.             '<input id="id_owner_set-2-name" type="text" name="owner_set-2-name" maxlength="100">'
1091.             '<input type="hidden" name="owner_set-2-place" value="1" id="id_owner_set-2-place">'
1092.             '<input type="hidden" name="owner_set-2-auto_id" id="id_owner_set-2-auto_id"></p>'
1093.         )
1094. 
1095.         data = {
1096.             'owner_set-TOTAL_FORMS': '3',
1097.             'owner_set-INITIAL_FORMS': '1',
1098.             'owner_set-MAX_NUM_FORMS': '',
1099.             'owner_set-0-auto_id': str(owner1.auto_id),
1100.             'owner_set-0-name': 'Joe Perry',
1101.             'owner_set-1-auto_id': '',
1102.             'owner_set-1-name': 'Jack Berry',
1103.             'owner_set-2-auto_id': '',
1104.             'owner_set-2-name': '',
1105.         }
1106.         formset = FormSet(data, instance=place)
1107.         self.assertTrue(formset.is_valid())
1108.         saved = formset.save()
1109.         self.assertEqual(len(saved), 1)
1110.         owner2, = saved
1111.         self.assertEqual(owner2.name, 'Jack Berry')
1112.         self.assertEqual(owner2.place.name, 'Giordanos')
1113. 
1114.         # Ensure a custom primary key that is a ForeignKey or OneToOneField get rendered for the user to choose.
1115. 
1116.         FormSet = modelformset_factory(OwnerProfile, fields="__all__")
1117.         formset = FormSet()
1118.         self.assertHTMLEqual(
1119.             formset.forms[0].as_p(),
1120.             '<p><label for="id_form-0-owner">Owner:</label>'
1121.             '<select name="form-0-owner" id="id_form-0-owner">'
1122.             '<option value="" selected>---------</option>'
1123.             '<option value="%d">Joe Perry at Giordanos</option>'
1124.             '<option value="%d">Jack Berry at Giordanos</option>'
1125.             '</select></p>'
1126.             '<p><label for="id_form-0-age">Age:</label>'
1127.             '<input type="number" name="form-0-age" id="id_form-0-age" min="0"></p>'
1128.             % (owner1.auto_id, owner2.auto_id)
1129.         )
1130. 
1131.         owner1 = Owner.objects.get(name='Joe Perry')
1132.         FormSet = inlineformset_factory(Owner, OwnerProfile, max_num=1, can_delete=False, fields="__all__")
1133.         self.assertEqual(FormSet.max_num, 1)
1134. 
1135.         formset = FormSet(instance=owner1)
1136.         self.assertEqual(len(formset.forms), 1)
1137.         self.assertHTMLEqual(
1138.             formset.forms[0].as_p(),
1139.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1140.             '<input type="number" name="ownerprofile-0-age" id="id_ownerprofile-0-age" min="0">'
1141.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1142.             % owner1.auto_id
1143.         )
1144. 
1145.         data = {
1146.             'ownerprofile-TOTAL_FORMS': '1',
1147.             'ownerprofile-INITIAL_FORMS': '0',
1148.             'ownerprofile-MAX_NUM_FORMS': '1',
1149.             'ownerprofile-0-owner': '',
1150.             'ownerprofile-0-age': '54',
1151.         }
1152.         formset = FormSet(data, instance=owner1)
1153.         self.assertTrue(formset.is_valid())
1154.         saved = formset.save()
1155.         self.assertEqual(len(saved), 1)
1156.         profile1, = saved
1157.         self.assertEqual(profile1.owner, owner1)
1158.         self.assertEqual(profile1.age, 54)
1159. 
1160.         formset = FormSet(instance=owner1)
1161.         self.assertEqual(len(formset.forms), 1)
1162.         self.assertHTMLEqual(
1163.             formset.forms[0].as_p(),
1164.             '<p><label for="id_ownerprofile-0-age">Age:</label>'
1165.             '<input type="number" name="ownerprofile-0-age" value="54" id="id_ownerprofile-0-age" min="0">'
1166.             '<input type="hidden" name="ownerprofile-0-owner" value="%d" id="id_ownerprofile-0-owner"></p>'
1167.             % owner1.auto_id
1168.         )
1169. 
1170.         data = {
1171.             'ownerprofile-TOTAL_FORMS': '1',
1172.             'ownerprofile-INITIAL_FORMS': '1',
1173.             'ownerprofile-MAX_NUM_FORMS': '1',
1174.             'ownerprofile-0-owner': str(owner1.auto_id),
1175.             'ownerprofile-0-age': '55',
1176.         }
1177.         formset = FormSet(data, instance=owner1)
1178.         self.assertTrue(formset.is_valid())
1179.         saved = formset.save()
1180.         self.assertEqual(len(saved), 1)
1181.         profile1, = saved
1182.         self.assertEqual(profile1.owner, owner1)
1183.         self.assertEqual(profile1.age, 55)
1184. 
1185.     def test_unique_true_enforces_max_num_one(self):
1186.         # ForeignKey with unique=True should enforce max_num=1
1187. 
1188.         place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')
1189. 
1190.         FormSet = inlineformset_factory(Place, Location, can_delete=False, fields="__all__")
1191.         self.assertEqual(FormSet.max_num, 1)
1192. 
1193.         formset = FormSet(instance=place)
1194.         self.assertEqual(len(formset.forms), 1)
1195.         self.assertHTMLEqual(
1196.             formset.forms[0].as_p(),
1197.             '<p><label for="id_location_set-0-lat">Lat:</label>'
1198.             '<input id="id_location_set-0-lat" type="text" name="location_set-0-lat" maxlength="100"></p>'
1199.             '<p><label for="id_location_set-0-lon">Lon:</label> '
1200.             '<input id="id_location_set-0-lon" type="text" name="location_set-0-lon" maxlength="100">'
1201.             '<input type="hidden" name="location_set-0-place" value="1" id="id_location_set-0-place">'
1202.             '<input type="hidden" name="location_set-0-id" id="id_location_set-0-id"></p>'
1203.         )
1204. 
1205.     def test_foreign_keys_in_parents(self):
1206.         self.assertEqual(type(_get_foreign_key(Restaurant, Owner)), models.ForeignKey)
1207.         self.assertEqual(type(_get_foreign_key(MexicanRestaurant, Owner)), models.ForeignKey)
1208. 
1209.     def test_unique_validation(self):
1210.         FormSet = modelformset_factory(Product, fields="__all__", extra=1)
1211.         data = {
1212.             'form-TOTAL_FORMS': '1',
1213.             'form-INITIAL_FORMS': '0',
1214.             'form-MAX_NUM_FORMS': '',
1215.             'form-0-slug': 'car-red',
1216.         }
1217.         formset = FormSet(data)
1218.         self.assertTrue(formset.is_valid())
1219.         saved = formset.save()
1220.         self.assertEqual(len(saved), 1)
1221.         product1, = saved
1222.         self.assertEqual(product1.slug, 'car-red')
1223. 
1224.         data = {
1225.             'form-TOTAL_FORMS': '1',
1226.             'form-INITIAL_FORMS': '0',
1227.             'form-MAX_NUM_FORMS': '',
1228.             'form-0-slug': 'car-red',
1229.         }
1230.         formset = FormSet(data)
1231.         self.assertFalse(formset.is_valid())
1232.         self.assertEqual(formset.errors, [{'slug': ['Product with this Slug already exists.']}])
1233. 
1234.     def test_modelformset_validate_max_flag(self):
1235.         # If validate_max is set and max_num is less than TOTAL_FORMS in the
1236.         # data, then throw an exception. MAX_NUM_FORMS in the data is
1237.         # irrelevant here (it's output as a hint for the client but its
1238.         # value in the returned data is not checked)
1239. 
1240.         data = {
1241.             'form-TOTAL_FORMS': '2',
1242.             'form-INITIAL_FORMS': '0',
1243.             'form-MAX_NUM_FORMS': '2',  # should be ignored
1244.             'form-0-price': '12.00',
1245.             'form-0-quantity': '1',
1246.             'form-1-price': '24.00',
1247.             'form-1-quantity': '2',
1248.         }
1249. 
1250.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1, validate_max=True)
1251.         formset = FormSet(data)
1252.         self.assertFalse(formset.is_valid())
1253.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 1 form.'])
1254. 
1255.         # Now test the same thing without the validate_max flag to ensure
1256.         # default behavior is unchanged
1257.         FormSet = modelformset_factory(Price, fields="__all__", extra=1, max_num=1)
1258.         formset = FormSet(data)
1259.         self.assertTrue(formset.is_valid())
1260. 
1261.     def test_modelformset_min_num_equals_max_num_less_than(self):
1262.         data = {
1263.             'form-TOTAL_FORMS': '3',
1264.             'form-INITIAL_FORMS': '0',
1265.             'form-MAX_NUM_FORMS': '2',
1266.             'form-0-slug': 'car-red',
1267.             'form-1-slug': 'car-blue',
1268.             'form-2-slug': 'car-black',
1269.         }
1270.         FormSet = modelformset_factory(
1271.             Product,
1272.             fields='__all__',
1273.             extra=1,
1274.             max_num=2,
1275.             validate_max=True,
1276.             min_num=2,
1277.             validate_min=True,
1278.         )
1279.         formset = FormSet(data)
1280.         self.assertFalse(formset.is_valid())
1281.         self.assertEqual(formset.non_form_errors(), ['Please submit at most 2 forms.'])
1282. 
1283.     def test_modelformset_min_num_equals_max_num_more_than(self):
1284.         data = {
1285.             'form-TOTAL_FORMS': '1',
1286.             'form-INITIAL_FORMS': '0',
1287.             'form-MAX_NUM_FORMS': '2',
1288.             'form-0-slug': 'car-red',
1289.         }
1290.         FormSet = modelformset_factory(
1291.             Product,
1292.             fields='__all__',
1293.             extra=1,
1294.             max_num=2,
1295.             validate_max=True,
1296.             min_num=2,
1297.             validate_min=True,
1298.         )
1299.         formset = FormSet(data)
1300.         self.assertFalse(formset.is_valid())
1301.         self.assertEqual(formset.non_form_errors(), ['Please submit at least 2 forms.'])
1302. 
1303.     def test_unique_together_validation(self):
1304.         FormSet = modelformset_factory(Price, fields="__all__", extra=1)
1305.         data = {
1306.             'form-TOTAL_FORMS': '1',
1307.             'form-INITIAL_FORMS': '0',
1308.             'form-MAX_NUM_FORMS': '',
1309.             'form-0-price': '12.00',
1310.             'form-0-quantity': '1',
1311.         }
1312.         formset = FormSet(data)
1313.         self.assertTrue(formset.is_valid())
1314.         saved = formset.save()
1315.         self.assertEqual(len(saved), 1)
1316.         price1, = saved
1317.         self.assertEqual(price1.price, Decimal('12.00'))
1318.         self.assertEqual(price1.quantity, 1)
1319. 
1320.         data = {
1321.             'form-TOTAL_FORMS': '1',
1322.             'form-INITIAL_FORMS': '0',
1323.             'form-MAX_NUM_FORMS': '',
1324.             'form-0-price': '12.00',
1325.             'form-0-quantity': '1',
1326.         }
1327.         formset = FormSet(data)
1328.         self.assertFalse(formset.is_valid())
1329.         self.assertEqual(formset.errors, [{'__all__': ['Price with this Price and Quantity already exists.']}])
1330. 
1331.     def test_unique_together_with_inlineformset_factory(self):
1332.         # Also see bug #8882.
1333. 
1334.         repository = Repository.objects.create(name='Test Repo')
1335.         FormSet = inlineformset_factory(Repository, Revision, extra=1, fields="__all__")
1336.         data = {
1337.             'revision_set-TOTAL_FORMS': '1',
1338.             'revision_set-INITIAL_FORMS': '0',
1339.             'revision_set-MAX_NUM_FORMS': '',
1340.             'revision_set-0-repository': repository.pk,
1341.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1342.             'revision_set-0-DELETE': '',
1343.         }
1344.         formset = FormSet(data, instance=repository)
1345.         self.assertTrue(formset.is_valid())
1346.         saved = formset.save()
1347.         self.assertEqual(len(saved), 1)
1348.         revision1, = saved
1349.         self.assertEqual(revision1.repository, repository)
1350.         self.assertEqual(revision1.revision, '146239817507f148d448db38840db7c3cbf47c76')
1351. 
1352.         # attempt to save the same revision against the same repo.
1353.         data = {
1354.             'revision_set-TOTAL_FORMS': '1',
1355.             'revision_set-INITIAL_FORMS': '0',
1356.             'revision_set-MAX_NUM_FORMS': '',
1357.             'revision_set-0-repository': repository.pk,
1358.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1359.             'revision_set-0-DELETE': '',
1360.         }
1361.         formset = FormSet(data, instance=repository)
1362.         self.assertFalse(formset.is_valid())
1363.         self.assertEqual(formset.errors, [{'__all__': ['Revision with this Repository and Revision already exists.']}])
1364. 
1365.         # unique_together with inlineformset_factory with overridden form fields
1366.         # Also see #9494
1367. 
1368.         FormSet = inlineformset_factory(Repository, Revision, fields=('revision',), extra=1)
1369.         data = {
1370.             'revision_set-TOTAL_FORMS': '1',
1371.             'revision_set-INITIAL_FORMS': '0',
1372.             'revision_set-MAX_NUM_FORMS': '',
1373.             'revision_set-0-repository': repository.pk,
1374.             'revision_set-0-revision': '146239817507f148d448db38840db7c3cbf47c76',
1375.             'revision_set-0-DELETE': '',
1376.         }
1377.         formset = FormSet(data, instance=repository)
1378.         self.assertFalse(formset.is_valid())
1379. 
1380.     def test_callable_defaults(self):
1381.         # Use of callable defaults (see bug #7975).
1382. 
1383.         person = Person.objects.create(name='Ringo')
1384.         FormSet = inlineformset_factory(Person, Membership, can_delete=False, extra=1, fields="__all__")
1385.         formset = FormSet(instance=person)
1386. 
1387.         # Django will render a hidden field for model fields that have a callable
1388.         # default. This is required to ensure the value is tested for change correctly
1389.         # when determine what extra forms have changed to save.
1390. 
1391.         self.assertEqual(len(formset.forms), 1)  # this formset only has one form
1392.         form = formset.forms[0]
1393.         now = form.fields['date_joined'].initial()
1394.         result = form.as_p()
1395.         result = re.sub(r'[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(?:\.[0-9]+)?', '__DATETIME__', result)
1396.         self.assertHTMLEqual(
1397.             result,
1398.             '<p><label for="id_membership_set-0-date_joined">Date joined:</label>'
1399.             '<input type="text" name="membership_set-0-date_joined" '
1400.             'value="__DATETIME__" id="id_membership_set-0-date_joined">'
1401.             '<input type="hidden" name="initial-membership_set-0-date_joined" value="__DATETIME__" '
1402.             'id="initial-membership_set-0-id_membership_set-0-date_joined"></p>'
1403.             '<p><label for="id_membership_set-0-karma">Karma:</label>'
1404.             '<input type="number" name="membership_set-0-karma" id="id_membership_set-0-karma">'
1405.             '<input type="hidden" name="membership_set-0-person" value="%d" id="id_membership_set-0-person">'
1406.             '<input type="hidden" name="membership_set-0-id" id="id_membership_set-0-id"></p>'
1407.             % person.id)
1408. 
1409.         # test for validation with callable defaults. Validations rely on hidden fields
1410. 
1411.         data = {
1412.             'membership_set-TOTAL_FORMS': '1',
1413.             'membership_set-INITIAL_FORMS': '0',
1414.             'membership_set-MAX_NUM_FORMS': '',
1415.             'membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1416.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1417.             'membership_set-0-karma': '',
1418.         }
1419.         formset = FormSet(data, instance=person)
1420.         self.assertTrue(formset.is_valid())
1421. 
1422.         # now test for when the data changes
1423. 
1424.         one_day_later = now + datetime.timedelta(days=1)
1425.         filled_data = {
1426.             'membership_set-TOTAL_FORMS': '1',
1427.             'membership_set-INITIAL_FORMS': '0',
1428.             'membership_set-MAX_NUM_FORMS': '',
1429.             'membership_set-0-date_joined': one_day_later.strftime('%Y-%m-%d %H:%M:%S'),
1430.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1431.             'membership_set-0-karma': '',
1432.         }
1433.         formset = FormSet(filled_data, instance=person)
1434.         self.assertFalse(formset.is_valid())
1435. 
1436.         # now test with split datetime fields
1437. 
1438.         class MembershipForm(forms.ModelForm):
1439.             date_joined = forms.SplitDateTimeField(initial=now)
1440. 
1441.             class Meta:
1442.                 model = Membership
1443.                 fields = "__all__"
1444. 
1445.             def __init__(self, **kwargs):
1446.                 super().__init__(**kwargs)
1447.                 self.fields['date_joined'].widget = forms.SplitDateTimeWidget()
1448. 
1449.         FormSet = inlineformset_factory(
1450.             Person,
1451.             Membership,
1452.             form=MembershipForm,
1453.             can_delete=False,
1454.             extra=1,
1455.             fields="__all__",
1456.         )
1457.         data = {
1458.             'membership_set-TOTAL_FORMS': '1',
1459.             'membership_set-INITIAL_FORMS': '0',
1460.             'membership_set-MAX_NUM_FORMS': '',
1461.             'membership_set-0-date_joined_0': now.strftime('%Y-%m-%d'),
1462.             'membership_set-0-date_joined_1': now.strftime('%H:%M:%S'),
1463.             'initial-membership_set-0-date_joined': now.strftime('%Y-%m-%d %H:%M:%S'),
1464.             'membership_set-0-karma': '',
1465.         }
1466.         formset = FormSet(data, instance=person)
1467.         self.assertTrue(formset.is_valid())
1468. 
1469.     def test_inlineformset_factory_with_null_fk(self):
1470.         # inlineformset_factory tests with fk having null=True. see #9462.
1471.         # create some data that will exhibit the issue
1472.         team = Team.objects.create(name="Red Vipers")
1473.         Player(name="Timmy").save()
1474.         Player(name="Bobby", team=team).save()
1475. 
1476.         PlayerInlineFormSet = inlineformset_factory(Team, Player, fields="__all__")
1477.         formset = PlayerInlineFormSet()
1478.         self.assertQuerysetEqual(formset.get_queryset(), [])
1479. 
1480.         formset = PlayerInlineFormSet(instance=team)
1481.         players = formset.get_queryset()
1482.         self.assertEqual(len(players), 1)
1483.         player1, = players
1484.         self.assertEqual(player1.team, team)
1485.         self.assertEqual(player1.name, 'Bobby')
1486. 
1487.     def test_inlineformset_with_arrayfield(self):
1488.         class SimpleArrayField(forms.CharField):
1489.             """A proxy for django.contrib.postgres.forms.SimpleArrayField."""
1490.             def to_python(self, value):
1491.                 value = super().to_python(value)
1492.                 return value.split(',') if value else []
1493. 
1494.         class BookForm(forms.ModelForm):
1495.             title = SimpleArrayField()
1496. 
1497.             class Meta:
1498.                 model = Book
1499.                 fields = ('title',)
1500. 
1501.         BookFormSet = inlineformset_factory(Author, Book, form=BookForm)
1502.         data = {
1503.             'book_set-TOTAL_FORMS': '3',
1504.             'book_set-INITIAL_FORMS': '0',
1505.             'book_set-MAX_NUM_FORMS': '',
1506.             'book_set-0-title': 'test1,test2',
1507.             'book_set-1-title': 'test1,test2',
1508.             'book_set-2-title': 'test3,test4',
1509.         }
1510.         author = Author.objects.create(name='test')
1511.         formset = BookFormSet(data, instance=author)
1512.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}, {}])
1513. 
1514.     def test_model_formset_with_custom_pk(self):
1515.         # a formset for a Model that has a custom primary key that still needs to be
1516.         # added to the formset automatically
1517.         FormSet = modelformset_factory(ClassyMexicanRestaurant, fields=["tacos_are_yummy"])
1518.         self.assertEqual(sorted(FormSet().forms[0].fields), ['tacos_are_yummy', 'the_restaurant'])
1519. 
1520.     def test_model_formset_with_initial_model_instance(self):
1521.         # has_changed should compare model instance and primary key
1522.         # see #18898
1523.         FormSet = modelformset_factory(Poem, fields='__all__')
1524.         john_milton = Poet(name="John Milton")
1525.         john_milton.save()
1526.         data = {
1527.             'form-TOTAL_FORMS': 1,
1528.             'form-INITIAL_FORMS': 0,
1529.             'form-MAX_NUM_FORMS': '',
1530.             'form-0-name': '',
1531.             'form-0-poet': str(john_milton.id),
1532.         }
1533.         formset = FormSet(initial=[{'poet': john_milton}], data=data)
1534.         self.assertFalse(formset.extra_forms[0].has_changed())
1535. 
1536.     def test_model_formset_with_initial_queryset(self):
1537.         # has_changed should work with queryset and list of pk's
1538.         # see #18898
1539.         FormSet = modelformset_factory(AuthorMeeting, fields='__all__')
1540.         Author.objects.create(pk=1, name='Charles Baudelaire')
1541.         data = {
1542.             'form-TOTAL_FORMS': 1,
1543.             'form-INITIAL_FORMS': 0,
1544.             'form-MAX_NUM_FORMS': '',
1545.             'form-0-name': '',
1546.             'form-0-created': '',
1547.             'form-0-authors': list(Author.objects.values_list('id', flat=True)),
1548.         }
1549.         formset = FormSet(initial=[{'authors': Author.objects.all()}], data=data)
1550.         self.assertFalse(formset.extra_forms[0].has_changed())
1551. 
1552.     def test_prevent_duplicates_from_with_the_same_formset(self):
1553.         FormSet = modelformset_factory(Product, fields="__all__", extra=2)
1554.         data = {
1555.             'form-TOTAL_FORMS': 2,
1556.             'form-INITIAL_FORMS': 0,
1557.             'form-MAX_NUM_FORMS': '',
1558.             'form-0-slug': 'red_car',
1559.             'form-1-slug': 'red_car',
1560.         }
1561.         formset = FormSet(data)
1562.         self.assertFalse(formset.is_valid())
1563.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for slug.'])
1564. 
1565.         FormSet = modelformset_factory(Price, fields="__all__", extra=2)
1566.         data = {
1567.             'form-TOTAL_FORMS': 2,
1568.             'form-INITIAL_FORMS': 0,
1569.             'form-MAX_NUM_FORMS': '',
1570.             'form-0-price': '25',
1571.             'form-0-quantity': '7',
1572.             'form-1-price': '25',
1573.             'form-1-quantity': '7',
1574.         }
1575.         formset = FormSet(data)
1576.         self.assertFalse(formset.is_valid())
1577.         self.assertEqual(
1578.             formset._non_form_errors,
1579.             ['Please correct the duplicate data for price and quantity, which must be unique.']
1580.         )
1581. 
1582.         # Only the price field is specified, this should skip any unique checks since
1583.         # the unique_together is not fulfilled. This will fail with a KeyError if broken.
1584.         FormSet = modelformset_factory(Price, fields=("price",), extra=2)
1585.         data = {
1586.             'form-TOTAL_FORMS': '2',
1587.             'form-INITIAL_FORMS': '0',
1588.             'form-MAX_NUM_FORMS': '',
1589.             'form-0-price': '24',
1590.             'form-1-price': '24',
1591.         }
1592.         formset = FormSet(data)
1593.         self.assertTrue(formset.is_valid())
1594. 
1595.         FormSet = inlineformset_factory(Author, Book, extra=0, fields="__all__")
1596.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1597.         Book.objects.create(pk=1, author=author, title='Les Paradis Artificiels')
1598.         Book.objects.create(pk=2, author=author, title='Les Fleurs du Mal')
1599.         Book.objects.create(pk=3, author=author, title='Flowers of Evil')
1600. 
1601.         book_ids = author.book_set.order_by('id').values_list('id', flat=True)
1602.         data = {
1603.             'book_set-TOTAL_FORMS': '2',
1604.             'book_set-INITIAL_FORMS': '2',
1605.             'book_set-MAX_NUM_FORMS': '',
1606. 
1607.             'book_set-0-title': 'The 2008 Election',
1608.             'book_set-0-author': str(author.id),
1609.             'book_set-0-id': str(book_ids[0]),
1610. 
1611.             'book_set-1-title': 'The 2008 Election',
1612.             'book_set-1-author': str(author.id),
1613.             'book_set-1-id': str(book_ids[1]),
1614.         }
1615.         formset = FormSet(data=data, instance=author)
1616.         self.assertFalse(formset.is_valid())
1617.         self.assertEqual(formset._non_form_errors, ['Please correct the duplicate data for title.'])
1618.         self.assertEqual(formset.errors, [{}, {'__all__': ['Please correct the duplicate values below.']}])
1619. 
1620.         FormSet = modelformset_factory(Post, fields="__all__", extra=2)
1621.         data = {
1622.             'form-TOTAL_FORMS': '2',
1623.             'form-INITIAL_FORMS': '0',
1624.             'form-MAX_NUM_FORMS': '',
1625. 
1626.             'form-0-title': 'blah',
1627.             'form-0-slug': 'Morning',
1628.             'form-0-subtitle': 'foo',
1629.             'form-0-posted': '2009-01-01',
1630.             'form-1-title': 'blah',
1631.             'form-1-slug': 'Morning in Prague',
1632.             'form-1-subtitle': 'rawr',
1633.             'form-1-posted': '2009-01-01'
1634.         }
1635.         formset = FormSet(data)
1636.         self.assertFalse(formset.is_valid())
1637.         self.assertEqual(
1638.             formset._non_form_errors,
1639.             ['Please correct the duplicate data for title which must be unique for the date in posted.']
1640.         )
1641.         self.assertEqual(
1642.             formset.errors,
1643.             [{}, {'__all__': ['Please correct the duplicate values below.']}]
1644.         )
1645. 
1646.         data = {
1647.             'form-TOTAL_FORMS': '2',
1648.             'form-INITIAL_FORMS': '0',
1649.             'form-MAX_NUM_FORMS': '',
1650. 
1651.             'form-0-title': 'foo',
1652.             'form-0-slug': 'Morning in Prague',
1653.             'form-0-subtitle': 'foo',
1654.             'form-0-posted': '2009-01-01',
1655.             'form-1-title': 'blah',
1656.             'form-1-slug': 'Morning in Prague',
1657.             'form-1-subtitle': 'rawr',
1658.             'form-1-posted': '2009-08-02'
1659.         }
1660.         formset = FormSet(data)
1661.         self.assertFalse(formset.is_valid())
1662.         self.assertEqual(
1663.             formset._non_form_errors,
1664.             ['Please correct the duplicate data for slug which must be unique for the year in posted.']
1665.         )
1666. 
1667.         data = {
1668.             'form-TOTAL_FORMS': '2',
1669.             'form-INITIAL_FORMS': '0',
1670.             'form-MAX_NUM_FORMS': '',
1671. 
1672.             'form-0-title': 'foo',
1673.             'form-0-slug': 'Morning in Prague',
1674.             'form-0-subtitle': 'rawr',
1675.             'form-0-posted': '2008-08-01',
1676.             'form-1-title': 'blah',
1677.             'form-1-slug': 'Prague',
1678.             'form-1-subtitle': 'rawr',
1679.             'form-1-posted': '2009-08-02'
1680.         }
1681.         formset = FormSet(data)
1682.         self.assertFalse(formset.is_valid())
1683.         self.assertEqual(
1684.             formset._non_form_errors,
1685.             ['Please correct the duplicate data for subtitle which must be unique for the month in posted.']
1686.         )
1687. 
1688.     def test_prevent_change_outer_model_and_create_invalid_data(self):
1689.         author = Author.objects.create(name='Charles')
1690.         other_author = Author.objects.create(name='Walt')
1691.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1692.         data = {
1693.             'form-TOTAL_FORMS': '2',
1694.             'form-INITIAL_FORMS': '2',
1695.             'form-MAX_NUM_FORMS': '',
1696.             'form-0-id': str(author.id),
1697.             'form-0-name': 'Charles',
1698.             'form-1-id': str(other_author.id),  # A model not in the formset's queryset.
1699.             'form-1-name': 'Changed name',
1700.         }
1701.         # This formset is only for Walt Whitman and shouldn't accept data for
1702.         # other_author.
1703.         formset = AuthorFormSet(data=data, queryset=Author.objects.filter(id__in=(author.id,)))
1704.         self.assertTrue(formset.is_valid())
1705.         formset.save()
1706.         # The name of other_author shouldn't be changed and new models aren't
1707.         # created.
1708.         self.assertSequenceEqual(Author.objects.all(), [author, other_author])
1709. 
1710.     def test_validation_without_id(self):
1711.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1712.         data = {
1713.             'form-TOTAL_FORMS': '1',
1714.             'form-INITIAL_FORMS': '1',
1715.             'form-MAX_NUM_FORMS': '',
1716.             'form-0-name': 'Charles',
1717.         }
1718.         formset = AuthorFormSet(data)
1719.         self.assertEqual(
1720.             formset.errors,
1721.             [{'id': ['This field is required.']}],
1722.         )
1723. 
1724.     def test_validation_with_child_model_without_id(self):
1725.         BetterAuthorFormSet = modelformset_factory(BetterAuthor, fields='__all__')
1726.         data = {
1727.             'form-TOTAL_FORMS': '1',
1728.             'form-INITIAL_FORMS': '1',
1729.             'form-MAX_NUM_FORMS': '',
1730.             'form-0-name': 'Charles',
1731.             'form-0-write_speed': '10',
1732.         }
1733.         formset = BetterAuthorFormSet(data)
1734.         self.assertEqual(
1735.             formset.errors,
1736.             [{'author_ptr': ['This field is required.']}],
1737.         )
1738. 
1739.     def test_validation_with_invalid_id(self):
1740.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1741.         data = {
1742.             'form-TOTAL_FORMS': '1',
1743.             'form-INITIAL_FORMS': '1',
1744.             'form-MAX_NUM_FORMS': '',
1745.             'form-0-id': 'abc',
1746.             'form-0-name': 'Charles',
1747.         }
1748.         formset = AuthorFormSet(data)
1749.         self.assertEqual(
1750.             formset.errors,
1751.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1752.         )
1753. 
1754.     def test_validation_with_nonexistent_id(self):
1755.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1756.         data = {
1757.             'form-TOTAL_FORMS': '1',
1758.             'form-INITIAL_FORMS': '1',
1759.             'form-MAX_NUM_FORMS': '',
1760.             'form-0-id': '12345',
1761.             'form-0-name': 'Charles',
1762.         }
1763.         formset = AuthorFormSet(data)
1764.         self.assertEqual(
1765.             formset.errors,
1766.             [{'id': ['Select a valid choice. That choice is not one of the available choices.']}],
1767.         )
1768. 
1769.     def test_initial_form_count_empty_data(self):
1770.         AuthorFormSet = modelformset_factory(Author, fields='__all__')
1771.         formset = AuthorFormSet({})
1772.         self.assertEqual(formset.initial_form_count(), 0)
1773. 
1774. 
1775. class TestModelFormsetOverridesTroughFormMeta(TestCase):
1776.     def test_modelformset_factory_widgets(self):
1777.         widgets = {
1778.             'name': forms.TextInput(attrs={'class': 'poet'})
1779.         }
1780.         PoetFormSet = modelformset_factory(Poet, fields="__all__", widgets=widgets)
1781.         form = PoetFormSet.form()
1782.         self.assertHTMLEqual(
1783.             str(form['name']),
1784.             '<input id="id_name" maxlength="100" type="text" class="poet" name="name" required>'
1785.         )
1786. 
1787.     def test_inlineformset_factory_widgets(self):
1788.         widgets = {
1789.             'title': forms.TextInput(attrs={'class': 'book'})
1790.         }
1791.         BookFormSet = inlineformset_factory(Author, Book, widgets=widgets, fields="__all__")
1792.         form = BookFormSet.form()
1793.         self.assertHTMLEqual(
1794.             str(form['title']),
1795.             '<input class="book" id="id_title" maxlength="100" name="title" type="text" required>'
1796.         )
1797. 
1798.     def test_modelformset_factory_labels_overrides(self):
1799.         BookFormSet = modelformset_factory(Book, fields="__all__", labels={
1800.             'title': 'Name'
1801.         })
1802.         form = BookFormSet.form()
1803.         self.assertHTMLEqual(form['title'].label_tag(), '<label for="id_title">Name:</label>')
1804.         self.assertHTMLEqual(
1805.             form['title'].legend_tag(),
1806.             '<legend for="id_title">Name:</legend>',
1807.         )
1808. 
1809.     def test_inlineformset_factory_labels_overrides(self):
1810.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", labels={
1811.             'title': 'Name'
1812.         })
1813.         form = BookFormSet.form()
1814.         self.assertHTMLEqual(form['title'].label_tag(), '<label for="id_title">Name:</label>')
1815.         self.assertHTMLEqual(
1816.             form['title'].legend_tag(),
1817.             '<legend for="id_title">Name:</legend>',
1818.         )
1819. 
1820.     def test_modelformset_factory_help_text_overrides(self):
1821.         BookFormSet = modelformset_factory(Book, fields="__all__", help_texts={
1822.             'title': 'Choose carefully.'
1823.         })
1824.         form = BookFormSet.form()
1825.         self.assertEqual(form['title'].help_text, 'Choose carefully.')
1826. 
1827.     def test_inlineformset_factory_help_text_overrides(self):
1828.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", help_texts={
1829.             'title': 'Choose carefully.'
1830.         })
1831.         form = BookFormSet.form()
1832.         self.assertEqual(form['title'].help_text, 'Choose carefully.')
1833. 
1834.     def test_modelformset_factory_error_messages_overrides(self):
1835.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1836.         BookFormSet = modelformset_factory(Book, fields="__all__", error_messages={
1837.             'title': {
1838.                 'max_length': 'Title too long!!'
1839.             }
1840.         })
1841.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1842.         form.full_clean()
1843.         self.assertEqual(form.errors, {'title': ['Title too long!!']})
1844. 
1845.     def test_inlineformset_factory_error_messages_overrides(self):
1846.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1847.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", error_messages={
1848.             'title': {
1849.                 'max_length': 'Title too long!!'
1850.             }
1851.         })
1852.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1853.         form.full_clean()
1854.         self.assertEqual(form.errors, {'title': ['Title too long!!']})
1855. 
1856.     def test_modelformset_factory_field_class_overrides(self):
1857.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1858.         BookFormSet = modelformset_factory(Book, fields="__all__", field_classes={
1859.             'title': forms.SlugField,
1860.         })
1861.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1862.         self.assertIs(Book._meta.get_field('title').__class__, models.CharField)
1863.         self.assertIsInstance(form.fields['title'], forms.SlugField)
1864. 
1865.     def test_inlineformset_factory_field_class_overrides(self):
1866.         author = Author.objects.create(pk=1, name='Charles Baudelaire')
1867.         BookFormSet = inlineformset_factory(Author, Book, fields="__all__", field_classes={
1868.             'title': forms.SlugField,
1869.         })
1870.         form = BookFormSet.form(data={'title': 'Foo ' * 30, 'author': author.id})
1871.         self.assertIs(Book._meta.get_field('title').__class__, models.CharField)
1872.         self.assertIsInstance(form.fields['title'], forms.SlugField)
1873. 
1874.     def test_modelformset_factory_absolute_max(self):
1875.         AuthorFormSet = modelformset_factory(Author, fields='__all__', absolute_max=1500)
1876.         data = {
1877.             'form-TOTAL_FORMS': '1501',
1878.             'form-INITIAL_FORMS': '0',
1879.             'form-MAX_NUM_FORMS': '0',
1880.         }
1881.         formset = AuthorFormSet(data=data)
1882.         self.assertIs(formset.is_valid(), False)
1883.         self.assertEqual(len(formset.forms), 1500)
1884.         self.assertEqual(
1885.             formset.non_form_errors(),
1886.             ['Please submit at most 1000 forms.'],
1887.         )
1888. 
1889.     def test_modelformset_factory_absolute_max_with_max_num(self):
1890.         AuthorFormSet = modelformset_factory(
1891.             Author,
1892.             fields='__all__',
1893.             max_num=20,
1894.             absolute_max=100,
1895.         )
1896.         data = {
1897.             'form-TOTAL_FORMS': '101',
1898.             'form-INITIAL_FORMS': '0',
1899.             'form-MAX_NUM_FORMS': '0',
1900.         }
1901.         formset = AuthorFormSet(data=data)
1902.         self.assertIs(formset.is_valid(), False)
1903.         self.assertEqual(len(formset.forms), 100)
1904.         self.assertEqual(
1905.             formset.non_form_errors(),
1906.             ['Please submit at most 20 forms.'],
1907.         )
1908. 
1909.     def test_inlineformset_factory_absolute_max(self):
1910.         author = Author.objects.create(name='Charles Baudelaire')
1911.         BookFormSet = inlineformset_factory(
1912.             Author,
1913.             Book,
1914.             fields='__all__',
1915.             absolute_max=1500,
1916.         )
1917.         data = {
1918.             'book_set-TOTAL_FORMS': '1501',
1919.             'book_set-INITIAL_FORMS': '0',
1920.             'book_set-MAX_NUM_FORMS': '0',
1921.         }
1922.         formset = BookFormSet(data, instance=author)
1923.         self.assertIs(formset.is_valid(), False)
1924.         self.assertEqual(len(formset.forms), 1500)
1925.         self.assertEqual(
1926.             formset.non_form_errors(),
1927.             ['Please submit at most 1000 forms.'],
1928.         )
1929. 
1930.     def test_inlineformset_factory_absolute_max_with_max_num(self):
1931.         author = Author.objects.create(name='Charles Baudelaire')
1932.         BookFormSet = inlineformset_factory(
1933.             Author,
1934.             Book,
1935.             fields='__all__',
1936.             max_num=20,
1937.             absolute_max=100,
1938.         )
1939.         data = {
1940.             'book_set-TOTAL_FORMS': '101',
1941.             'book_set-INITIAL_FORMS': '0',
1942.             'book_set-MAX_NUM_FORMS': '0',
1943.         }
1944.         formset = BookFormSet(data, instance=author)
1945.         self.assertIs(formset.is_valid(), False)
1946.         self.assertEqual(len(formset.forms), 100)
1947.         self.assertEqual(
1948.             formset.non_form_errors(),
1949.             ['Please submit at most 20 forms.'],
1950.         )
1951. 
1952.     def test_modelformset_factory_can_delete_extra(self):
1953.         AuthorFormSet = modelformset_factory(
1954.             Author,
1955.             fields='__all__',
1956.             can_delete=True,
1957.             can_delete_extra=True,
1958.             extra=2,
1959.         )
1960.         formset = AuthorFormSet()
1961.         self.assertEqual(len(formset), 2)
1962.         self.assertIn('DELETE', formset.forms[0].fields)
1963.         self.assertIn('DELETE', formset.forms[1].fields)
1964. 
1965.     def test_modelformset_factory_disable_delete_extra(self):
1966.         AuthorFormSet = modelformset_factory(
1967.             Author,
1968.             fields='__all__',
1969.             can_delete=True,
1970.             can_delete_extra=False,
1971.             extra=2,
1972.         )
1973.         formset = AuthorFormSet()
1974.         self.assertEqual(len(formset), 2)
1975.         self.assertNotIn('DELETE', formset.forms[0].fields)
1976.         self.assertNotIn('DELETE', formset.forms[1].fields)
1977. 
1978.     def test_inlineformset_factory_can_delete_extra(self):
1979.         BookFormSet = inlineformset_factory(
1980.             Author,
1981.             Book,
1982.             fields='__all__',
1983.             can_delete=True,
1984.             can_delete_extra=True,
1985.             extra=2,
1986.         )
1987.         formset = BookFormSet()
1988.         self.assertEqual(len(formset), 2)
1989.         self.assertIn('DELETE', formset.forms[0].fields)
1990.         self.assertIn('DELETE', formset.forms[1].fields)
1991. 
1992.     def test_inlineformset_factory_can_not_delete_extra(self):
1993.         BookFormSet = inlineformset_factory(
1994.             Author,
1995.             Book,
1996.             fields='__all__',
1997.             can_delete=True,
1998.             can_delete_extra=False,
1999.             extra=2,
2000.         )

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 06:14:07,491 - thread-125635594786496.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="1. The user wants to find 3 relevant test cases related to disallowing new object creation in model formsets.\n2. The provided patch modifies `BaseModelFormSet`'s `full_clean` method to customize `validate_max` behavior, which is used to control the number of forms.\n3. The most relevant tests would be those testing `modelformset_factory`, `max_num`, and `validate_max`.\n4. I have been provided with the full content of `tests/model_formsets/tests.py`, which is the primary location for such tests.\n5. I have identified three highly relevant test cases within this file: `test_modelformset_validate_max_flag`, `test_max_num`, and `test_prevent_change_outer_model_and_create_invalid_data`.\n6. These tests demonstrate how to use `modelformset_factory` with parameters like `max_num` and `validate_max`, how to check for validation errors related to the number of forms, and how to test edit-only scenarios.\n7. The full source of these tests, including necessary imports and setup, is available in the provided file. While model definitions are in a separate file (`tests/model_formsets/models.py`), their content is not essential to understand the logic of the selected formset tests.\n8. Therefore, the current context is sufficient to extract the requested test cases." query='' extra_requirements='' purpose=''
2025-12-23 06:14:07,498 - thread-125635594786496.prometheus_context_collector - INFO - Successfully retrieved 1 context snippets
