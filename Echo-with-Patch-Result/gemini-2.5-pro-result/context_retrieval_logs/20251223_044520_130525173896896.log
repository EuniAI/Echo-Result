2025-12-23 04:45:20,338 - thread-130525173896896.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: "show_save_as_new" in admin can add without this permission

Description: Description
	 
		(last modified by Mariusz Felisiak)
	 
At "django/contrib/admin/templatetags/admin_modify.py" file, line 102, I think you must put one more verification for this tag: "and has_add_permission", because "save_as_new" is a add modification.
I rewrite this for my project:
			"show_save_as_new": not is_popup
			and has_add_permission # This line that I put!!!
			and has_change_permission
			and change
			and save_as,

Patch information:
diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py
index 9df4b7aadb..5b742af46a 100644
--- a/django/contrib/admin/templatetags/admin_modify.py
+++ b/django/contrib/admin/templatetags/admin_modify.py
@@ -100,6 +100,7 @@ def submit_row(context):
                 and context.get("show_delete", True)
             ),
             "show_save_as_new": not is_popup
+            and has_add_permission
             and has_change_permission
             and change
             and save_as,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 04:45:20,990 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── benchmark.yml
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ckb
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   └── options.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── filesystem.py
|   |   |   |   ├── handler.py
|   |   |   |   ├── memory.py
|   |   |   |   └── mixins.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── psycopg_any.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.16.txt
|   |   ├── 3.2.17.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.8.txt
|   |   ├── 4.0.9.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.2.txt
|   |   ├── 4.1.3.txt
|   |   ├── 4.1.4.txt
|   |   ├── 4.1.5.txt
|   |   ├── 4.1.6.txt
|   |   ├── 4.1.7.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── 5.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── fixtures.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_breadcrumbs.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_model_methods.py
    |   ├── test_async_queryset.py
    |   ├── test_async_related_managers.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   ├── test_storages.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── test_inmemory_storage.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests_tests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: "show_save_as_new" in admin can add without this permission

Description: Description
	 
		(last modified by Mariusz Felisiak)
	 
At "django/contrib/admin/templatetags/admin_modify.py" file, line 102, I think you must put one more verification for this tag: "and has_add_permission", because "save_as_new" is a add modification.
I rewrite this for my project:
			"show_save_as_new": not is_popup
			and has_add_permission # This line that I put!!!
			and has_change_permission
			and change
			and save_as,

Patch information:
diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py
index 9df4b7aadb..5b742af46a 100644
--- a/django/contrib/admin/templatetags/admin_modify.py
+++ b/django/contrib/admin/templatetags/admin_modify.py
@@ -100,6 +100,7 @@ def submit_row(context):
                 and context.get("show_delete", True)
             ),
             "show_save_as_new": not is_popup
+            and has_add_permission
             and has_change_permission
             and change
             and save_as,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:45:56,801 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find 3 relevant test cases for a bug where the 'Save as new' button is displayed incorrectly based on user permissions. The bug is located in an admin template tag. To find relevant tests, I need to examine tests for admin views, template tags, and ModelAdmin permission handling. The current context is empty, so I need to request the content of the most relevant test files." query='Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.' extra_requirements='If sending the full files is not possible, please provide tests related to `submit_row`, `has_add_permission`, and admin change form rendering.' purpose='I need to find existing test cases that verify admin button visibility based on user permissions to address the reported bug.'
2025-12-23 04:45:56,803 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
2025-12-23 04:45:56,803 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:45:56,803 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:45:56,804 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:45:56,804 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
Extra requirements: If sending the full files is not possible, please provide tests related to `submit_row`, `has_add_permission`, and admin change form rendering.
Purpose: I need to find existing test cases that verify admin button visibility based on user permissions to address the reported bug.
2025-12-23 04:46:00,956 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have started by reading the three files you requested: `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py` to gather context about existing tests. This will help in understanding the current test coverage for admin button visibility and permissions. I will provide a summary of the relevant findings once the file review is complete.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/modeladmin/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2161, 'candidates_token_count': 159, 'total_token_count': 2539, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2161}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 159}], 'thoughts_token_count': 219, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09855457521834464, 'model_name': 'gemini-2.5-pro'} id='run--66231513-2f97-4bb3-809b-776fe69f38e3-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/test_templatetags.py'}, 'id': '6354a076-7c9a-46ad-ae21-05f7027a3d37', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/tests.py'}, 'id': '3e889dcf-c557-4ef2-95ca-260b8b04fc81', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/modeladmin/tests.py'}, 'id': 'd12c49b1-d59a-498c-ab7d-0298dadda765', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2161, 'output_tokens': 159, 'total_tokens': 2539, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 219}}
2025-12-23 04:46:06,560 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now reviewed the contents of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`. My next step is to pinpoint the specific tests related to `submit_row`, `has_add_permission`, and the rendering of the admin change form to identify existing test cases that check admin button visibility against user permissions.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "text": "has_add_permission"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19526, 'candidates_token_count': 201, 'total_token_count': 20040, 'cached_content_token_count': 1901, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19526}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1901}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 201}], 'thoughts_token_count': 313}, 'finish_reason': 'STOP', 'avg_logprobs': -0.13536368792329856, 'model_name': 'gemini-2.5-pro'} id='run--a074f3c0-3fb2-44a0-8ce9-6896473c6db7-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/test_templatetags.py', 'text': 'submit_row'}, 'id': 'a1cf5f69-a59f-4459-9b48-278c52a1a705', 'type': 'tool_call'}, {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/tests.py', 'text': 'has_add_permission'}, 'id': 'f76872bf-698a-41d0-8c7e-663ba712994f', 'type': 'tool_call'}, {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'text': 'has_add_permission'}, 'id': '00d92548-7491-423f-a4a1-ab549fb9671d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19526, 'output_tokens': 201, 'total_tokens': 20040, 'input_token_details': {'cache_read': 1901}, 'output_token_details': {'reasoning': 313}}
2025-12-23 04:46:13,568 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have analyzed the provided test files and located tests relevant to `submit_row` and `has_add_permission`. Specifically, `tests/admin_views/test_templatetags.py` contains tests for the `submit_row` template tag, including checks for context passing and button visibility. Additionally, `tests/modeladmin/tests.py` includes a `ModelAdminPermissionTests` class with tests for `has_add_permission` and other permission-related methods. I will now examine these sections of code more closely to understand the existing test logic for admin button visibility and user permissions.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "start_line": 810.0, "end_line": 942.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 22615, 'candidates_token_count': 185, 'total_token_count': 23131, 'cached_content_token_count': 18987, 'prompt_tokens_details': [{'modality': 1, 'token_count': 22615}], 'cache_tokens_details': [{'modality': 1, 'token_count': 18987}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 185}], 'thoughts_token_count': 331}, 'finish_reason': 'STOP', 'avg_logprobs': -0.21776591120539485, 'model_name': 'gemini-2.5-pro'} id='run--fc72cdbb-8bdf-420e-a7cb-80dc04bff0eb-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/admin_views/test_templatetags.py', 'start_line': 16.0, 'end_line': 99.0}, 'id': 'f54e9143-1d52-4b6d-82fe-457b1926535d', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'start_line': 810.0, 'end_line': 942.0}, 'id': '92dde2e3-bb35-4cc4-a7e2-b069690ff04c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 22615, 'output_tokens': 185, 'total_tokens': 23131, 'input_token_details': {'cache_read': 18987}, 'output_token_details': {'reasoning': 331}}
2025-12-23 04:46:18,734 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='After a thorough review of the codebase, I have identified several existing test cases that are highly relevant to your query.\n\nIn `tests/admin_views/test_templatetags.py`, the `AdminTemplateTagsTest` class contains tests that examine the rendering of the submit row in the admin interface. Specifically, the `test_submit_row` method verifies that the template context is passed correctly, while `test_override_show_save_and_add_another` checks the logic for displaying the "Save and add another" button.\n\nFurthermore, `tests/modeladmin/tests.py` contains the `ModelAdminPermissionTests` class, which directly addresses the core of your request. This class includes specific tests for `has_add_permission`, `has_change_permission`, and `has_delete_permission`, ensuring that the visibility of admin buttons correctly reflects the permissions of the logged-in user. These tests will serve as a valuable resource for understanding the existing logic and for developing a fix for the bug you are addressing.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 26253, 'candidates_token_count': 215, 'total_token_count': 26714, 'cached_content_token_count': 20921, 'prompt_tokens_details': [{'modality': 1, 'token_count': 26253}], 'cache_tokens_details': [{'modality': 1, 'token_count': 20921}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 215}], 'thoughts_token_count': 246}, 'finish_reason': 'STOP', 'avg_logprobs': -0.17202469581781432, 'model_name': 'gemini-2.5-pro'} id='run--96e870e0-2d3e-4ccd-8c51-2b2d94f2e101-0' usage_metadata={'input_tokens': 26253, 'output_tokens': 215, 'total_tokens': 26714, 'input_token_details': {'cache_read': 20921}, 'output_token_details': {'reasoning': 246}}
2025-12-23 04:46:18,737 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending the full files is not possible, please provide tests related to `submit_row`, `has_add_permission`, and admin change form rendering.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to find existing test cases that verify admin button visibility based on user permissions to address the reported bug.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/admin_views/test_templatetags.py
Line number range: 1 - 201
Content:
1. import datetime
2. 
3. from django.contrib.admin import ModelAdmin
4. from django.contrib.admin.templatetags.admin_list import date_hierarchy
5. from django.contrib.admin.templatetags.admin_modify import submit_row
6. from django.contrib.auth.admin import UserAdmin
7. from django.contrib.auth.models import User
8. from django.test import RequestFactory, TestCase
9. from django.urls import reverse
10. 
11. from .admin import ArticleAdmin, site
12. from .models import Article, Question
13. from .tests import AdminViewBasicTestCase
14. 
15. 
16. class AdminTemplateTagsTest(AdminViewBasicTestCase):
17.     request_factory = RequestFactory()
18. 
19.     def test_submit_row(self):
20.         """
21.         submit_row template tag should pass whole context.
22.         """
23.         request = self.request_factory.get(
24.             reverse("admin:auth_user_change", args=[self.superuser.pk])
25.         )
26.         request.user = self.superuser
27.         admin = UserAdmin(User, site)
28.         extra_context = {"extra": True}
29.         response = admin.change_view(
30.             request, str(self.superuser.pk), extra_context=extra_context
31.         )
32.         template_context = submit_row(response.context_data)
33.         self.assertIs(template_context["extra"], True)
34.         self.assertIs(template_context["show_save"], True)
35. 
36.     def test_override_show_save_and_add_another(self):
37.         request = self.request_factory.get(
38.             reverse("admin:auth_user_change", args=[self.superuser.pk]),
39.         )
40.         request.user = self.superuser
41.         admin = UserAdmin(User, site)
42.         for extra_context, expected_flag in (
43.             ({}, True),  # Default.
44.             ({"show_save_and_add_another": False}, False),
45.         ):
46.             with self.subTest(show_save_and_add_another=expected_flag):
47.                 response = admin.change_view(
48.                     request,
49.                     str(self.superuser.pk),
50.                     extra_context=extra_context,
51.                 )
52.                 template_context = submit_row(response.context_data)
53.                 self.assertIs(
54.                     template_context["show_save_and_add_another"], expected_flag
55.                 )
56. 
57.     def test_override_change_form_template_tags(self):
58.         """
59.         admin_modify template tags follow the standard search pattern
60.         admin/app_label/model/template.html.
61.         """
62.         article = Article.objects.all()[0]
63.         request = self.request_factory.get(
64.             reverse("admin:admin_views_article_change", args=[article.pk])
65.         )
66.         request.user = self.superuser
67.         admin = ArticleAdmin(Article, site)
68.         extra_context = {"show_publish": True, "extra": True}
69.         response = admin.change_view(
70.             request, str(article.pk), extra_context=extra_context
71.         )
72.         response.render()
73.         self.assertIs(response.context_data["show_publish"], True)
74.         self.assertIs(response.context_data["extra"], True)
75.         self.assertContains(response, 'name="_save"')
76.         self.assertContains(response, 'name="_publish"')
77.         self.assertContains(response, "override-change_form_object_tools")
78.         self.assertContains(response, "override-prepopulated_fields_js")
79. 
80.     def test_override_change_list_template_tags(self):
81.         """
82.         admin_list template tags follow the standard search pattern
83.         admin/app_label/model/template.html.
84.         """
85.         request = self.request_factory.get(
86.             reverse("admin:admin_views_article_changelist")
87.         )
88.         request.user = self.superuser
89.         admin = ArticleAdmin(Article, site)
90.         admin.date_hierarchy = "date"
91.         admin.search_fields = ("title", "content")
92.         response = admin.changelist_view(request)
93.         response.render()
94.         self.assertContains(response, "override-actions")
95.         self.assertContains(response, "override-change_list_object_tools")
96.         self.assertContains(response, "override-change_list_results")
97.         self.assertContains(response, "override-date_hierarchy")
98.         self.assertContains(response, "override-pagination")
99.         self.assertContains(response, "override-search_form")
100. 
101. 
102. class DateHierarchyTests(TestCase):
103.     factory = RequestFactory()
104. 
105.     @classmethod
106.     def setUpTestData(cls):
107.         cls.superuser = User.objects.create_superuser(
108.             username="super", password="secret", email="super@example.com"
109.         )
110. 
111.     def test_choice_links(self):
112.         modeladmin = ModelAdmin(Question, site)
113.         modeladmin.date_hierarchy = "posted"
114. 
115.         posted_dates = (
116.             datetime.date(2017, 10, 1),
117.             datetime.date(2017, 10, 1),
118.             datetime.date(2017, 12, 15),
119.             datetime.date(2017, 12, 15),
120.             datetime.date(2017, 12, 31),
121.             datetime.date(2018, 2, 1),
122.         )
123.         Question.objects.bulk_create(
124.             Question(question="q", posted=posted) for posted in posted_dates
125.         )
126. 
127.         tests = (
128.             ({}, [["year=2017"], ["year=2018"]]),
129.             ({"year": 2016}, []),
130.             ({"year": 2017}, [["month=10", "year=2017"], ["month=12", "year=2017"]]),
131.             ({"year": 2017, "month": 9}, []),
132.             (
133.                 {"year": 2017, "month": 12},
134.                 [
135.                     ["day=15", "month=12", "year=2017"],
136.                     ["day=31", "month=12", "year=2017"],
137.                 ],
138.             ),
139.         )
140.         for query, expected_choices in tests:
141.             with self.subTest(query=query):
142.                 query = {"posted__%s" % q: val for q, val in query.items()}
143.                 request = self.factory.get("/", query)
144.                 request.user = self.superuser
145.                 changelist = modeladmin.get_changelist_instance(request)
146.                 spec = date_hierarchy(changelist)
147.                 choices = [choice["link"] for choice in spec["choices"]]
148.                 expected_choices = [
149.                     "&".join("posted__%s" % c for c in choice)
150.                     for choice in expected_choices
151.                 ]
152.                 expected_choices = [
153.                     ("?" + choice) if choice else "" for choice in expected_choices
154.                 ]
155.                 self.assertEqual(choices, expected_choices)
156. 
157.     def test_choice_links_datetime(self):
158.         modeladmin = ModelAdmin(Question, site)
159.         modeladmin.date_hierarchy = "expires"
160.         Question.objects.bulk_create(
161.             [
162.                 Question(question="q1", expires=datetime.datetime(2017, 10, 1)),
163.                 Question(question="q2", expires=datetime.datetime(2017, 10, 1)),
164.                 Question(question="q3", expires=datetime.datetime(2017, 12, 15)),
165.                 Question(question="q4", expires=datetime.datetime(2017, 12, 15)),
166.                 Question(question="q5", expires=datetime.datetime(2017, 12, 31)),
167.                 Question(question="q6", expires=datetime.datetime(2018, 2, 1)),
168.             ]
169.         )
170.         tests = [
171.             ({}, [["year=2017"], ["year=2018"]]),
172.             ({"year": 2016}, []),
173.             (
174.                 {"year": 2017},
175.                 [
176.                     ["month=10", "year=2017"],
177.                     ["month=12", "year=2017"],
178.                 ],
179.             ),
180.             ({"year": 2017, "month": 9}, []),
181.             (
182.                 {"year": 2017, "month": 12},
183.                 [
184.                     ["day=15", "month=12", "year=2017"],
185.                     ["day=31", "month=12", "year=2017"],
186.                 ],
187.             ),
188.         ]
189.         for query, expected_choices in tests:
190.             with self.subTest(query=query):
191.                 query = {"expires__%s" % q: val for q, val in query.items()}
192.                 request = self.factory.get("/", query)
193.                 request.user = self.superuser
194.                 changelist = modeladmin.get_changelist_instance(request)
195.                 spec = date_hierarchy(changelist)
196.                 choices = [choice["link"] for choice in spec["choices"]]
197.                 expected_choices = [
198.                     "?" + "&".join("expires__%s" % c for c in choice)
199.                     for choice in expected_choices
200.                 ]
201.                 self.assertEqual(choices, expected_choices)


File: tests/admin_views/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import os
3. import re
4. import unittest
5. import zoneinfo
6. from unittest import mock
7. from urllib.parse import parse_qsl, urljoin, urlparse
8. 
9. from django.contrib import admin
10. from django.contrib.admin import AdminSite, ModelAdmin
11. from django.contrib.admin.helpers import ACTION_CHECKBOX_NAME
12. from django.contrib.admin.models import ADDITION, DELETION, LogEntry
13. from django.contrib.admin.options import TO_FIELD_VAR
14. from django.contrib.admin.templatetags.admin_urls import add_preserved_filters
15. from django.contrib.admin.tests import AdminSeleniumTestCase
16. from django.contrib.admin.utils import quote
17. from django.contrib.admin.views.main import IS_POPUP_VAR
18. from django.contrib.auth import REDIRECT_FIELD_NAME, get_permission_codename
19. from django.contrib.auth.models import Group, Permission, User
20. from django.contrib.contenttypes.models import ContentType
21. from django.core import mail
22. from django.core.checks import Error
23. from django.core.files import temp as tempfile
24. from django.db import connection
25. from django.forms.utils import ErrorList
26. from django.template.response import TemplateResponse
27. from django.test import (
28.     TestCase,
29.     modify_settings,
30.     override_settings,
31.     skipUnlessDBFeature,
32. )
33. from django.test.utils import override_script_prefix
34. from django.urls import NoReverseMatch, resolve, reverse
35. from django.utils import formats, translation
36. from django.utils.cache import get_max_age
37. from django.utils.encoding import iri_to_uri
38. from django.utils.html import escape
39. from django.utils.http import urlencode
40. 
41. from . import customadmin
42. from .admin import CityAdmin, site, site2
43. from .models import (
44.     Actor,
45.     AdminOrderedAdminMethod,
46.     AdminOrderedCallable,
47.     AdminOrderedField,
48.     AdminOrderedModelMethod,
49.     Album,
50.     Answer,
51.     Answer2,
52.     Article,
53.     BarAccount,
54.     Book,
55.     Bookmark,
56.     Box,
57.     Category,
58.     Chapter,
59.     ChapterXtra1,
60.     ChapterXtra2,
61.     Character,
62.     Child,
63.     Choice,
64.     City,
65.     Collector,
66.     Color,
67.     ComplexSortedPerson,
68.     CoverLetter,
69.     CustomArticle,
70.     CyclicOne,
71.     CyclicTwo,
72.     DooHickey,
73.     Employee,
74.     EmptyModel,
75.     Fabric,
76.     FancyDoodad,
77.     FieldOverridePost,
78.     FilteredManager,
79.     FooAccount,
80.     FoodDelivery,
81.     FunkyTag,
82.     Gallery,
83.     Grommet,
84.     Inquisition,
85.     Language,
86.     Link,
87.     MainPrepopulated,
88.     Media,
89.     ModelWithStringPrimaryKey,
90.     OtherStory,
91.     Paper,
92.     Parent,
93.     ParentWithDependentChildren,
94.     ParentWithUUIDPK,
95.     Person,
96.     Persona,
97.     Picture,
98.     Pizza,
99.     Plot,
100.     PlotDetails,
101.     PluggableSearchPerson,
102.     Podcast,
103.     Post,
104.     PrePopulatedPost,
105.     Promo,
106.     Question,
107.     ReadablePizza,
108.     ReadOnlyPizza,
109.     ReadOnlyRelatedField,
110.     Recommendation,
111.     Recommender,
112.     RelatedPrepopulated,
113.     RelatedWithUUIDPKModel,
114.     Report,
115.     Restaurant,
116.     RowLevelChangePermissionModel,
117.     SecretHideout,
118.     Section,
119.     ShortMessage,
120.     Simple,
121.     Song,
122.     State,
123.     Story,
124.     SuperSecretHideout,
125.     SuperVillain,
126.     Telegram,
127.     TitleTranslation,
128.     Topping,
129.     Traveler,
130.     UnchangeableObject,
131.     UndeletableObject,
132.     UnorderedObject,
133.     UserProxy,
134.     Villain,
135.     Vodcast,
136.     Whatsit,
137.     Widget,
138.     Worker,
139.     WorkHour,
140. )
141. 
142. ERROR_MESSAGE = "Please enter the correct username and password \
143. for a staff account. Note that both fields may be case-sensitive."
144. 
145. MULTIPART_ENCTYPE = 'enctype="multipart/form-data"'
146. 
147. 
148. def make_aware_datetimes(dt, iana_key):
149.     """Makes one aware datetime for each supported time zone provider."""
150.     yield dt.replace(tzinfo=zoneinfo.ZoneInfo(iana_key))
151. 
152. 
153. class AdminFieldExtractionMixin:
154.     """
155.     Helper methods for extracting data from AdminForm.
156.     """
157. 
158.     def get_admin_form_fields(self, response):
159.         """
160.         Return a list of AdminFields for the AdminForm in the response.
161.         """
162.         fields = []
163.         for fieldset in response.context["adminform"]:
164.             for field_line in fieldset:
165.                 fields.extend(field_line)
166.         return fields
167. 
168.     def get_admin_readonly_fields(self, response):
169.         """
170.         Return the readonly fields for the response's AdminForm.
171.         """
172.         return [f for f in self.get_admin_form_fields(response) if f.is_readonly]
173. 
174.     def get_admin_readonly_field(self, response, field_name):
175.         """
176.         Return the readonly field for the given field_name.
177.         """
178.         admin_readonly_fields = self.get_admin_readonly_fields(response)
179.         for field in admin_readonly_fields:
180.             if field.field["name"] == field_name:
181.                 return field
182. 
183. 
184. @override_settings(ROOT_URLCONF="admin_views.urls", USE_I18N=True, LANGUAGE_CODE="en")
185. class AdminViewBasicTestCase(TestCase):
186.     @classmethod
187.     def setUpTestData(cls):
188.         cls.superuser = User.objects.create_superuser(
189.             username="super", password="secret", email="super@example.com"
190.         )
191.         cls.s1 = Section.objects.create(name="Test section")
192.         cls.a1 = Article.objects.create(
193.             content="<p>Middle content</p>",
194.             date=datetime.datetime(2008, 3, 18, 11, 54, 58),
195.             section=cls.s1,
196.             title="Article 1",
197.         )
198.         cls.a2 = Article.objects.create(
199.             content="<p>Oldest content</p>",
200.             date=datetime.datetime(2000, 3, 18, 11, 54, 58),
201.             section=cls.s1,
202.             title="Article 2",
203.         )
204.         cls.a3 = Article.objects.create(
205.             content="<p>Newest content</p>",
206.             date=datetime.datetime(2009, 3, 18, 11, 54, 58),
207.             section=cls.s1,
208.         )
209.         cls.p1 = PrePopulatedPost.objects.create(
210.             title="A Long Title", published=True, slug="a-long-title"
211.         )
212.         cls.color1 = Color.objects.create(value="Red", warm=True)
213.         cls.color2 = Color.objects.create(value="Orange", warm=True)
214.         cls.color3 = Color.objects.create(value="Blue", warm=False)
215.         cls.color4 = Color.objects.create(value="Green", warm=False)
216.         cls.fab1 = Fabric.objects.create(surface="x")
217.         cls.fab2 = Fabric.objects.create(surface="y")
218.         cls.fab3 = Fabric.objects.create(surface="plain")
219.         cls.b1 = Book.objects.create(name="Book 1")
220.         cls.b2 = Book.objects.create(name="Book 2")
221.         cls.pro1 = Promo.objects.create(name="Promo 1", book=cls.b1)
222.         cls.pro1 = Promo.objects.create(name="Promo 2", book=cls.b2)
223.         cls.chap1 = Chapter.objects.create(
224.             title="Chapter 1", content="[ insert contents here ]", book=cls.b1
225.         )
226.         cls.chap2 = Chapter.objects.create(
227.             title="Chapter 2", content="[ insert contents here ]", book=cls.b1
228.         )
229.         cls.chap3 = Chapter.objects.create(
230.             title="Chapter 1", content="[ insert contents here ]", book=cls.b2
231.         )
232.         cls.chap4 = Chapter.objects.create(
233.             title="Chapter 2", content="[ insert contents here ]", book=cls.b2
234.         )
235.         cls.cx1 = ChapterXtra1.objects.create(chap=cls.chap1, xtra="ChapterXtra1 1")
236.         cls.cx2 = ChapterXtra1.objects.create(chap=cls.chap3, xtra="ChapterXtra1 2")
237.         Actor.objects.create(name="Palin", age=27)
238. 
239.         # Post data for edit inline
240.         cls.inline_post_data = {
241.             "name": "Test section",
242.             # inline data
243.             "article_set-TOTAL_FORMS": "6",
244.             "article_set-INITIAL_FORMS": "3",
245.             "article_set-MAX_NUM_FORMS": "0",
246.             "article_set-0-id": cls.a1.pk,
247.             # there is no title in database, give one here or formset will fail.
248.             "article_set-0-title": "Norske bostaver æøå skaper problemer",
249.             "article_set-0-content": "&lt;p&gt;Middle content&lt;/p&gt;",
250.             "article_set-0-date_0": "2008-03-18",
251.             "article_set-0-date_1": "11:54:58",
252.             "article_set-0-section": cls.s1.pk,
253.             "article_set-1-id": cls.a2.pk,
254.             "article_set-1-title": "Need a title.",
255.             "article_set-1-content": "&lt;p&gt;Oldest content&lt;/p&gt;",
256.             "article_set-1-date_0": "2000-03-18",
257.             "article_set-1-date_1": "11:54:58",
258.             "article_set-2-id": cls.a3.pk,
259.             "article_set-2-title": "Need a title.",
260.             "article_set-2-content": "&lt;p&gt;Newest content&lt;/p&gt;",
261.             "article_set-2-date_0": "2009-03-18",
262.             "article_set-2-date_1": "11:54:58",
263.             "article_set-3-id": "",
264.             "article_set-3-title": "",
265.             "article_set-3-content": "",
266.             "article_set-3-date_0": "",
267.             "article_set-3-date_1": "",
268.             "article_set-4-id": "",
269.             "article_set-4-title": "",
270.             "article_set-4-content": "",
271.             "article_set-4-date_0": "",
272.             "article_set-4-date_1": "",
273.             "article_set-5-id": "",
274.             "article_set-5-title": "",
275.             "article_set-5-content": "",
276.             "article_set-5-date_0": "",
277.             "article_set-5-date_1": "",
278.         }
279. 
280.     def setUp(self):
281.         self.client.force_login(self.superuser)
282. 
283.     def assertContentBefore(self, response, text1, text2, failing_msg=None):
284.         """
285.         Testing utility asserting that text1 appears before text2 in response
286.         content.
287.         """
288.         self.assertEqual(response.status_code, 200)
289.         self.assertLess(
290.             response.content.index(text1.encode()),
291.             response.content.index(text2.encode()),
292.             (failing_msg or "")
293.             + "\nResponse:\n"
294.             + response.content.decode(response.charset),
295.         )
296. 
297. 
298. class AdminViewBasicTest(AdminViewBasicTestCase):
299.     def test_trailing_slash_required(self):
300.         """
301.         If you leave off the trailing slash, app should redirect and add it.
302.         """
303.         add_url = reverse("admin:admin_views_article_add")
304.         response = self.client.get(add_url[:-1])
305.         self.assertRedirects(response, add_url, status_code=301)
306. 
307.     def test_basic_add_GET(self):
308.         """
309.         A smoke test to ensure GET on the add_view works.
310.         """
311.         response = self.client.get(reverse("admin:admin_views_section_add"))
312.         self.assertIsInstance(response, TemplateResponse)
313.         self.assertEqual(response.status_code, 200)
314. 
315.     def test_add_with_GET_args(self):
316.         response = self.client.get(
317.             reverse("admin:admin_views_section_add"), {"name": "My Section"}
318.         )
319.         self.assertContains(
320.             response,
321.             'value="My Section"',
322.             msg_prefix="Couldn't find an input with the right value in the response",
323.         )
324. 
325.     def test_basic_edit_GET(self):
326.         """
327.         A smoke test to ensure GET on the change_view works.
328.         """
329.         response = self.client.get(
330.             reverse("admin:admin_views_section_change", args=(self.s1.pk,))
331.         )
332.         self.assertIsInstance(response, TemplateResponse)
333.         self.assertEqual(response.status_code, 200)
334. 
335.     def test_basic_edit_GET_string_PK(self):
336.         """
337.         GET on the change_view (when passing a string as the PK argument for a
338.         model with an integer PK field) redirects to the index page with a
339.         message saying the object doesn't exist.
340.         """
341.         response = self.client.get(
342.             reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
343.             follow=True,
344.         )
345.         self.assertRedirects(response, reverse("admin:index"))
346.         self.assertEqual(
347.             [m.message for m in response.context["messages"]],
348.             ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
349.         )
350. 
351.     def test_basic_edit_GET_old_url_redirect(self):
352.         """
353.         The change URL changed in Django 1.9, but the old one still redirects.
354.         """
355.         response = self.client.get(
356.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
357.                 "change/", ""
358.             )
359.         )
360.         self.assertRedirects(
361.             response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
362.         )
363. 
364.     def test_basic_inheritance_GET_string_PK(self):
365.         """
366.         GET on the change_view (for inherited models) redirects to the index
367.         page with a message saying the object doesn't exist.
368.         """
369.         response = self.client.get(
370.             reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
371.         )
372.         self.assertRedirects(response, reverse("admin:index"))
373.         self.assertEqual(
374.             [m.message for m in response.context["messages"]],
375.             ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
376.         )
377. 
378.     def test_basic_add_POST(self):
379.         """
380.         A smoke test to ensure POST on add_view works.
381.         """
382.         post_data = {
383.             "name": "Another Section",
384.             # inline data
385.             "article_set-TOTAL_FORMS": "3",
386.             "article_set-INITIAL_FORMS": "0",
387.             "article_set-MAX_NUM_FORMS": "0",
388.         }
389.         response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
390.         self.assertEqual(response.status_code, 302)  # redirect somewhere
391. 
392.     def test_popup_add_POST(self):
393.         """HTTP response from a popup is properly escaped."""
394.         post_data = {
395.             IS_POPUP_VAR: "1",
396.             "title": "title with a new\nline",
397.             "content": "some content",
398.             "date_0": "2010-09-10",
399.             "date_1": "14:55:39",
400.         }
401.         response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
402.         self.assertContains(response, "title with a new\\nline")
403. 
404.     def test_basic_edit_POST(self):
405.         """
406.         A smoke test to ensure POST on edit_view works.
407.         """
408.         url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
409.         response = self.client.post(url, self.inline_post_data)
410.         self.assertEqual(response.status_code, 302)  # redirect somewhere
411. 
412.     def test_edit_save_as(self):
413.         """
414.         Test "save as".
415.         """
416.         post_data = self.inline_post_data.copy()
417.         post_data.update(
418.             {
419.                 "_saveasnew": "Save+as+new",
420.                 "article_set-1-section": "1",
421.                 "article_set-2-section": "1",
422.                 "article_set-3-section": "1",
423.                 "article_set-4-section": "1",
424.                 "article_set-5-section": "1",
425.             }
426.         )
427.         response = self.client.post(
428.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
429.         )
430.         self.assertEqual(response.status_code, 302)  # redirect somewhere
431. 
432.     def test_edit_save_as_delete_inline(self):
433.         """
434.         Should be able to "Save as new" while also deleting an inline.
435.         """
436.         post_data = self.inline_post_data.copy()
437.         post_data.update(
438.             {
439.                 "_saveasnew": "Save+as+new",
440.                 "article_set-1-section": "1",
441.                 "article_set-2-section": "1",
442.                 "article_set-2-DELETE": "1",
443.                 "article_set-3-section": "1",
444.             }
445.         )
446.         response = self.client.post(
447.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
448.         )
449.         self.assertEqual(response.status_code, 302)
450.         # started with 3 articles, one was deleted.
451.         self.assertEqual(Section.objects.latest("id").article_set.count(), 2)
452. 
453.     def test_change_list_column_field_classes(self):
454.         response = self.client.get(reverse("admin:admin_views_article_changelist"))
455.         # callables display the callable name.
456.         self.assertContains(response, "column-callable_year")
457.         self.assertContains(response, "field-callable_year")
458.         # lambdas display as "lambda" + index that they appear in list_display.
459.         self.assertContains(response, "column-lambda8")
460.         self.assertContains(response, "field-lambda8")
461. 
462.     def test_change_list_sorting_callable(self):
463.         """
464.         Ensure we can sort on a list_display field that is a callable
465.         (column 2 is callable_year in ArticleAdmin)
466.         """
467.         response = self.client.get(
468.             reverse("admin:admin_views_article_changelist"), {"o": 2}
469.         )
470.         self.assertContentBefore(
471.             response,
472.             "Oldest content",
473.             "Middle content",
474.             "Results of sorting on callable are out of order.",
475.         )
476.         self.assertContentBefore(
477.             response,
478.             "Middle content",
479.             "Newest content",
480.             "Results of sorting on callable are out of order.",
481.         )
482. 
483.     def test_change_list_sorting_property(self):
484.         """
485.         Sort on a list_display field that is a property (column 10 is
486.         a property in Article model).
487.         """
488.         response = self.client.get(
489.             reverse("admin:admin_views_article_changelist"), {"o": 10}
490.         )
491.         self.assertContentBefore(
492.             response,
493.             "Oldest content",
494.             "Middle content",
495.             "Results of sorting on property are out of order.",
496.         )
497.         self.assertContentBefore(
498.             response,
499.             "Middle content",
500.             "Newest content",


File: tests/modeladmin/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. 
3. from django import forms
4. from django.contrib.admin.models import ADDITION, CHANGE, DELETION, LogEntry
5. from django.contrib.admin.options import (
6.     HORIZONTAL,
7.     VERTICAL,
8.     ModelAdmin,
9.     TabularInline,
10.     get_content_type_for_model,
11. )
12. from django.contrib.admin.sites import AdminSite
13. from django.contrib.admin.widgets import (
14.     AdminDateWidget,
15.     AdminRadioSelect,
16.     AutocompleteSelect,
17.     AutocompleteSelectMultiple,
18. )
19. from django.contrib.auth.models import User
20. from django.db import models
21. from django.forms.widgets import Select
22. from django.test import SimpleTestCase, TestCase
23. from django.test.utils import isolate_apps
24. 
25. from .models import Band, Concert, Song
26. 
27. 
28. class MockRequest:
29.     pass
30. 
31. 
32. class MockSuperUser:
33.     def has_perm(self, perm, obj=None):
34.         return True
35. 
36. 
37. request = MockRequest()
38. request.user = MockSuperUser()
39. 
40. 
41. class ModelAdminTests(TestCase):
42.     @classmethod
43.     def setUpTestData(cls):
44.         cls.band = Band.objects.create(
45.             name="The Doors",
46.             bio="",
47.             sign_date=date(1965, 1, 1),
48.         )
49. 
50.     def setUp(self):
51.         self.site = AdminSite()
52. 
53.     def test_modeladmin_str(self):
54.         ma = ModelAdmin(Band, self.site)
55.         self.assertEqual(str(ma), "modeladmin.ModelAdmin")
56. 
57.     def test_default_attributes(self):
58.         ma = ModelAdmin(Band, self.site)
59.         self.assertEqual(ma.actions, ())
60.         self.assertEqual(ma.inlines, ())
61. 
62.     # form/fields/fieldsets interaction ##############################
63. 
64.     def test_default_fields(self):
65.         ma = ModelAdmin(Band, self.site)
66.         self.assertEqual(
67.             list(ma.get_form(request).base_fields), ["name", "bio", "sign_date"]
68.         )
69.         self.assertEqual(list(ma.get_fields(request)), ["name", "bio", "sign_date"])
70.         self.assertEqual(
71.             list(ma.get_fields(request, self.band)), ["name", "bio", "sign_date"]
72.         )
73.         self.assertIsNone(ma.get_exclude(request, self.band))
74. 
75.     def test_default_fieldsets(self):
76.         # fieldsets_add and fieldsets_change should return a special data structure that
77.         # is used in the templates. They should generate the "right thing" whether we
78.         # have specified a custom form, the fields argument, or nothing at all.
79.         #
80.         # Here's the default case. There are no custom form_add/form_change methods,
81.         # no fields argument, and no fieldsets argument.
82.         ma = ModelAdmin(Band, self.site)
83.         self.assertEqual(
84.             ma.get_fieldsets(request),
85.             [(None, {"fields": ["name", "bio", "sign_date"]})],
86.         )
87.         self.assertEqual(
88.             ma.get_fieldsets(request, self.band),
89.             [(None, {"fields": ["name", "bio", "sign_date"]})],
90.         )
91. 
92.     def test_get_fieldsets(self):
93.         # get_fieldsets() is called when figuring out form fields (#18681).
94.         class BandAdmin(ModelAdmin):
95.             def get_fieldsets(self, request, obj=None):
96.                 return [(None, {"fields": ["name", "bio"]})]
97. 
98.         ma = BandAdmin(Band, self.site)
99.         form = ma.get_form(None)
100.         self.assertEqual(form._meta.fields, ["name", "bio"])
101. 
102.         class InlineBandAdmin(TabularInline):
103.             model = Concert
104.             fk_name = "main_band"
105.             can_delete = False
106. 
107.             def get_fieldsets(self, request, obj=None):
108.                 return [(None, {"fields": ["day", "transport"]})]
109. 
110.         ma = InlineBandAdmin(Band, self.site)
111.         form = ma.get_formset(None).form
112.         self.assertEqual(form._meta.fields, ["day", "transport"])
113. 
114.     def test_lookup_allowed_allows_nonexistent_lookup(self):
115.         """
116.         A lookup_allowed allows a parameter whose field lookup doesn't exist.
117.         (#21129).
118.         """
119. 
120.         class BandAdmin(ModelAdmin):
121.             fields = ["name"]
122. 
123.         ma = BandAdmin(Band, self.site)
124.         self.assertTrue(ma.lookup_allowed("name__nonexistent", "test_value"))
125. 
126.     @isolate_apps("modeladmin")
127.     def test_lookup_allowed_onetoone(self):
128.         class Department(models.Model):
129.             code = models.CharField(max_length=4, unique=True)
130. 
131.         class Employee(models.Model):
132.             department = models.ForeignKey(Department, models.CASCADE, to_field="code")
133. 
134.         class EmployeeProfile(models.Model):
135.             employee = models.OneToOneField(Employee, models.CASCADE)
136. 
137.         class EmployeeInfo(models.Model):
138.             employee = models.OneToOneField(Employee, models.CASCADE)
139.             description = models.CharField(max_length=100)
140. 
141.         class EmployeeProfileAdmin(ModelAdmin):
142.             list_filter = [
143.                 "employee__employeeinfo__description",
144.                 "employee__department__code",
145.             ]
146. 
147.         ma = EmployeeProfileAdmin(EmployeeProfile, self.site)
148.         # Reverse OneToOneField
149.         self.assertIs(
150.             ma.lookup_allowed("employee__employeeinfo__description", "test_value"), True
151.         )
152.         # OneToOneField and ForeignKey
153.         self.assertIs(
154.             ma.lookup_allowed("employee__department__code", "test_value"), True
155.         )
156. 
157.     def test_field_arguments(self):
158.         # If fields is specified, fieldsets_add and fieldsets_change should
159.         # just stick the fields into a formsets structure and return it.
160.         class BandAdmin(ModelAdmin):
161.             fields = ["name"]
162. 
163.         ma = BandAdmin(Band, self.site)
164. 
165.         self.assertEqual(list(ma.get_fields(request)), ["name"])
166.         self.assertEqual(list(ma.get_fields(request, self.band)), ["name"])
167.         self.assertEqual(ma.get_fieldsets(request), [(None, {"fields": ["name"]})])
168.         self.assertEqual(
169.             ma.get_fieldsets(request, self.band), [(None, {"fields": ["name"]})]
170.         )
171. 
172.     def test_field_arguments_restricted_on_form(self):
173.         # If fields or fieldsets is specified, it should exclude fields on the
174.         # Form class to the fields specified. This may cause errors to be
175.         # raised in the db layer if required model fields aren't in fields/
176.         # fieldsets, but that's preferable to ghost errors where a field in the
177.         # Form class isn't being displayed because it's not in fields/fieldsets.
178. 
179.         # Using `fields`.
180.         class BandAdmin(ModelAdmin):
181.             fields = ["name"]
182. 
183.         ma = BandAdmin(Band, self.site)
184.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
185.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
186. 
187.         # Using `fieldsets`.
188.         class BandAdmin(ModelAdmin):
189.             fieldsets = [(None, {"fields": ["name"]})]
190. 
191.         ma = BandAdmin(Band, self.site)
192.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
193.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
194. 
195.         # Using `exclude`.
196.         class BandAdmin(ModelAdmin):
197.             exclude = ["bio"]
198. 
199.         ma = BandAdmin(Band, self.site)
200.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
201. 
202.         # You can also pass a tuple to `exclude`.
203.         class BandAdmin(ModelAdmin):
204.             exclude = ("bio",)
205. 
206.         ma = BandAdmin(Band, self.site)
207.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
208. 
209.         # Using `fields` and `exclude`.
210.         class BandAdmin(ModelAdmin):
211.             fields = ["name", "bio"]
212.             exclude = ["bio"]
213. 
214.         ma = BandAdmin(Band, self.site)
215.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
216. 
217.     def test_custom_form_meta_exclude_with_readonly(self):
218.         """
219.         The custom ModelForm's `Meta.exclude` is respected when used in
220.         conjunction with `ModelAdmin.readonly_fields` and when no
221.         `ModelAdmin.exclude` is defined (#14496).
222.         """
223. 
224.         # With ModelAdmin
225.         class AdminBandForm(forms.ModelForm):
226.             class Meta:
227.                 model = Band
228.                 exclude = ["bio"]
229. 
230.         class BandAdmin(ModelAdmin):
231.             readonly_fields = ["name"]
232.             form = AdminBandForm
233. 
234.         ma = BandAdmin(Band, self.site)
235.         self.assertEqual(list(ma.get_form(request).base_fields), ["sign_date"])
236. 
237.         # With InlineModelAdmin
238.         class AdminConcertForm(forms.ModelForm):
239.             class Meta:
240.                 model = Concert
241.                 exclude = ["day"]
242. 
243.         class ConcertInline(TabularInline):
244.             readonly_fields = ["transport"]
245.             form = AdminConcertForm
246.             fk_name = "main_band"
247.             model = Concert
248. 
249.         class BandAdmin(ModelAdmin):
250.             inlines = [ConcertInline]
251. 
252.         ma = BandAdmin(Band, self.site)
253.         self.assertEqual(
254.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
255.             ["main_band", "opening_band", "id", "DELETE"],
256.         )
257. 
258.     def test_custom_formfield_override_readonly(self):
259.         class AdminBandForm(forms.ModelForm):
260.             name = forms.CharField()
261. 
262.             class Meta:
263.                 exclude = ()
264.                 model = Band
265. 
266.         class BandAdmin(ModelAdmin):
267.             form = AdminBandForm
268.             readonly_fields = ["name"]
269. 
270.         ma = BandAdmin(Band, self.site)
271. 
272.         # `name` shouldn't appear in base_fields because it's part of
273.         # readonly_fields.
274.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
275.         # But it should appear in get_fields()/fieldsets() so it can be
276.         # displayed as read-only.
277.         self.assertEqual(list(ma.get_fields(request)), ["bio", "sign_date", "name"])
278.         self.assertEqual(
279.             list(ma.get_fieldsets(request)),
280.             [(None, {"fields": ["bio", "sign_date", "name"]})],
281.         )
282. 
283.     def test_custom_form_meta_exclude(self):
284.         """
285.         The custom ModelForm's `Meta.exclude` is overridden if
286.         `ModelAdmin.exclude` or `InlineModelAdmin.exclude` are defined (#14496).
287.         """
288. 
289.         # With ModelAdmin
290.         class AdminBandForm(forms.ModelForm):
291.             class Meta:
292.                 model = Band
293.                 exclude = ["bio"]
294. 
295.         class BandAdmin(ModelAdmin):
296.             exclude = ["name"]
297.             form = AdminBandForm
298. 
299.         ma = BandAdmin(Band, self.site)
300.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
301. 
302.         # With InlineModelAdmin
303.         class AdminConcertForm(forms.ModelForm):
304.             class Meta:
305.                 model = Concert
306.                 exclude = ["day"]
307. 
308.         class ConcertInline(TabularInline):
309.             exclude = ["transport"]
310.             form = AdminConcertForm
311.             fk_name = "main_band"
312.             model = Concert
313. 
314.         class BandAdmin(ModelAdmin):
315.             inlines = [ConcertInline]
316. 
317.         ma = BandAdmin(Band, self.site)
318.         self.assertEqual(
319.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
320.             ["main_band", "opening_band", "day", "id", "DELETE"],
321.         )
322. 
323.     def test_overriding_get_exclude(self):
324.         class BandAdmin(ModelAdmin):
325.             def get_exclude(self, request, obj=None):
326.                 return ["name"]
327. 
328.         self.assertEqual(
329.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
330.             ["bio", "sign_date"],
331.         )
332. 
333.     def test_get_exclude_overrides_exclude(self):
334.         class BandAdmin(ModelAdmin):
335.             exclude = ["bio"]
336. 
337.             def get_exclude(self, request, obj=None):
338.                 return ["name"]
339. 
340.         self.assertEqual(
341.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
342.             ["bio", "sign_date"],
343.         )
344. 
345.     def test_get_exclude_takes_obj(self):
346.         class BandAdmin(ModelAdmin):
347.             def get_exclude(self, request, obj=None):
348.                 if obj:
349.                     return ["sign_date"]
350.                 return ["name"]
351. 
352.         self.assertEqual(
353.             list(BandAdmin(Band, self.site).get_form(request, self.band).base_fields),
354.             ["name", "bio"],
355.         )
356. 
357.     def test_custom_form_validation(self):
358.         # If a form is specified, it should use it allowing custom validation
359.         # to work properly. This won't break any of the admin widgets or media.
360.         class AdminBandForm(forms.ModelForm):
361.             delete = forms.BooleanField()
362. 
363.         class BandAdmin(ModelAdmin):
364.             form = AdminBandForm
365. 
366.         ma = BandAdmin(Band, self.site)
367.         self.assertEqual(
368.             list(ma.get_form(request).base_fields),
369.             ["name", "bio", "sign_date", "delete"],
370.         )
371.         self.assertEqual(
372.             type(ma.get_form(request).base_fields["sign_date"].widget), AdminDateWidget
373.         )
374. 
375.     def test_form_exclude_kwarg_override(self):
376.         """
377.         The `exclude` kwarg passed to `ModelAdmin.get_form()` overrides all
378.         other declarations (#8999).
379.         """
380. 
381.         class AdminBandForm(forms.ModelForm):
382.             class Meta:
383.                 model = Band
384.                 exclude = ["name"]
385. 
386.         class BandAdmin(ModelAdmin):
387.             exclude = ["sign_date"]
388.             form = AdminBandForm
389. 
390.             def get_form(self, request, obj=None, **kwargs):
391.                 kwargs["exclude"] = ["bio"]
392.                 return super().get_form(request, obj, **kwargs)
393. 
394.         ma = BandAdmin(Band, self.site)
395.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
396. 
397.     def test_formset_exclude_kwarg_override(self):
398.         """
399.         The `exclude` kwarg passed to `InlineModelAdmin.get_formset()`
400.         overrides all other declarations (#8999).
401.         """
402. 
403.         class AdminConcertForm(forms.ModelForm):
404.             class Meta:
405.                 model = Concert
406.                 exclude = ["day"]
407. 
408.         class ConcertInline(TabularInline):
409.             exclude = ["transport"]
410.             form = AdminConcertForm
411.             fk_name = "main_band"
412.             model = Concert
413. 
414.             def get_formset(self, request, obj=None, **kwargs):
415.                 kwargs["exclude"] = ["opening_band"]
416.                 return super().get_formset(request, obj, **kwargs)
417. 
418.         class BandAdmin(ModelAdmin):
419.             inlines = [ConcertInline]
420. 
421.         ma = BandAdmin(Band, self.site)
422.         self.assertEqual(
423.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
424.             ["main_band", "day", "transport", "id", "DELETE"],
425.         )
426. 
427.     def test_formset_overriding_get_exclude_with_form_fields(self):
428.         class AdminConcertForm(forms.ModelForm):
429.             class Meta:
430.                 model = Concert
431.                 fields = ["main_band", "opening_band", "day", "transport"]
432. 
433.         class ConcertInline(TabularInline):
434.             form = AdminConcertForm
435.             fk_name = "main_band"
436.             model = Concert
437. 
438.             def get_exclude(self, request, obj=None):
439.                 return ["opening_band"]
440. 
441.         class BandAdmin(ModelAdmin):
442.             inlines = [ConcertInline]
443. 
444.         ma = BandAdmin(Band, self.site)
445.         self.assertEqual(
446.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
447.             ["main_band", "day", "transport", "id", "DELETE"],
448.         )
449. 
450.     def test_formset_overriding_get_exclude_with_form_exclude(self):
451.         class AdminConcertForm(forms.ModelForm):
452.             class Meta:
453.                 model = Concert
454.                 exclude = ["day"]
455. 
456.         class ConcertInline(TabularInline):
457.             form = AdminConcertForm
458.             fk_name = "main_band"
459.             model = Concert
460. 
461.             def get_exclude(self, request, obj=None):
462.                 return ["opening_band"]
463. 
464.         class BandAdmin(ModelAdmin):
465.             inlines = [ConcertInline]
466. 
467.         ma = BandAdmin(Band, self.site)
468.         self.assertEqual(
469.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
470.             ["main_band", "day", "transport", "id", "DELETE"],
471.         )
472. 
473.     def test_raw_id_fields_widget_override(self):
474.         """
475.         The autocomplete_fields, raw_id_fields, and radio_fields widgets may
476.         overridden by specifying a widget in get_formset().
477.         """
478. 
479.         class ConcertInline(TabularInline):
480.             model = Concert
481.             fk_name = "main_band"
482.             raw_id_fields = ("opening_band",)
483. 
484.             def get_formset(self, request, obj=None, **kwargs):
485.                 kwargs["widgets"] = {"opening_band": Select}
486.                 return super().get_formset(request, obj, **kwargs)
487. 
488.         class BandAdmin(ModelAdmin):
489.             inlines = [ConcertInline]
490. 
491.         ma = BandAdmin(Band, self.site)
492.         band_widget = (
493.             list(ma.get_formsets_with_inlines(request))[0][0]()
494.             .forms[0]
495.             .fields["opening_band"]
496.             .widget
497.         )
498.         # Without the override this would be ForeignKeyRawIdWidget.
499.         self.assertIsInstance(band_widget, Select)
500.


File: tests/modeladmin/tests.py
Line number range: 810 - 942
Content:
class ModelAdminPermissionTests(SimpleTestCase):
    class MockUser:
        def has_module_perms(self, app_label):
            return app_label == "modeladmin"

    class MockViewUser(MockUser):
        def has_perm(self, perm, obj=None):
            return perm == "modeladmin.view_band"

    class MockAddUser(MockUser):
        def has_perm(self, perm, obj=None):
            return perm == "modeladmin.add_band"

    class MockChangeUser(MockUser):
        def has_perm(self, perm, obj=None):
            return perm == "modeladmin.change_band"

    class MockDeleteUser(MockUser):
        def has_perm(self, perm, obj=None):
            return perm == "modeladmin.delete_band"

    def test_has_view_permission(self):
        """
        has_view_permission() returns True for users who can view objects and
        False for users who can't.
        """
        ma = ModelAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockViewUser()
        self.assertIs(ma.has_view_permission(request), True)
        request.user = self.MockAddUser()
        self.assertIs(ma.has_view_permission(request), False)
        request.user = self.MockChangeUser()
        self.assertIs(ma.has_view_permission(request), True)
        request.user = self.MockDeleteUser()
        self.assertIs(ma.has_view_permission(request), False)

    def test_has_add_permission(self):
        """
        has_add_permission returns True for users who can add objects and
        False for users who can't.
        """
        ma = ModelAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockViewUser()
        self.assertFalse(ma.has_add_permission(request))
        request.user = self.MockAddUser()
        self.assertTrue(ma.has_add_permission(request))
        request.user = self.MockChangeUser()
        self.assertFalse(ma.has_add_permission(request))
        request.user = self.MockDeleteUser()
        self.assertFalse(ma.has_add_permission(request))

    def test_inline_has_add_permission_uses_obj(self):
        class ConcertInline(TabularInline):
            model = Concert

            def has_add_permission(self, request, obj):
                return bool(obj)

        class BandAdmin(ModelAdmin):
            inlines = [ConcertInline]

        ma = BandAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockAddUser()
        self.assertEqual(ma.get_inline_instances(request), [])
        band = Band(name="The Doors", bio="", sign_date=date(1965, 1, 1))
        inline_instances = ma.get_inline_instances(request, band)
        self.assertEqual(len(inline_instances), 1)
        self.assertIsInstance(inline_instances[0], ConcertInline)

    def test_has_change_permission(self):
        """
        has_change_permission returns True for users who can edit objects and
        False for users who can't.
        """
        ma = ModelAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockViewUser()
        self.assertIs(ma.has_change_permission(request), False)
        request.user = self.MockAddUser()
        self.assertFalse(ma.has_change_permission(request))
        request.user = self.MockChangeUser()
        self.assertTrue(ma.has_change_permission(request))
        request.user = self.MockDeleteUser()
        self.assertFalse(ma.has_change_permission(request))

    def test_has_delete_permission(self):
        """
        has_delete_permission returns True for users who can delete objects and
        False for users who can't.
        """
        ma = ModelAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockViewUser()
        self.assertIs(ma.has_delete_permission(request), False)
        request.user = self.MockAddUser()
        self.assertFalse(ma.has_delete_permission(request))
        request.user = self.MockChangeUser()
        self.assertFalse(ma.has_delete_permission(request))
        request.user = self.MockDeleteUser()
        self.assertTrue(ma.has_delete_permission(request))

    def test_has_module_permission(self):
        """
        as_module_permission returns True for users who have any permission
        for the module and False for users who don't.
        """
        ma = ModelAdmin(Band, AdminSite())
        request = MockRequest()
        request.user = self.MockViewUser()
        self.assertIs(ma.has_module_permission(request), True)
        request.user = self.MockAddUser()
        self.assertTrue(ma.has_module_permission(request))
        request.user = self.MockChangeUser()
        self.assertTrue(ma.has_module_permission(request))
        request.user = self.MockDeleteUser()
        self.assertTrue(ma.has_module_permission(request))

        original_app_label = ma.opts.app_label
        ma.opts.app_label = "anotherapp"
        try:
            request.user = self.MockViewUser()
            self.assertIs(ma.has_module_permission(request), False)
            request.user = self.MockAddUser()
            self.assertFalse(ma.has_module_permission(request))
            request.user = self.MockChangeUser()
            self.assertFalse(ma.has_module_permission(request))
            request.user = self.MockDeleteUser()
            self.assertFalse(ma.has_module_permission(request))
        finally:
            ma.opts.app_label = original_app_label

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:46:39,711 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query asks for the full content of `tests/admin_views/test_templatetags.py`.\n   - The user's extra requirements ask for tests related to `submit_row`.\n2. Extended relevance:\n   - This context provides the full content of the requested file `tests/admin_views/test_templatetags.py`.\n   - It includes tests for `submit_row` (`test_submit_row`, `test_override_show_save_and_add_another`) and change form rendering (`test_override_change_form_template_tags`), which are directly relevant to the user's goal of finding tests for admin button visibility.", relative_path='tests/admin_views/test_templatetags.py', start_line=1, end_line=201), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query asks for the full content of `tests/admin_views/tests.py`.\n   - The user's extra requirements ask for tests related to admin change form rendering.\n2. Extended relevance:\n   - This context provides tests for the basic rendering and functionality of the admin change form (`test_basic_edit_GET`, `test_basic_edit_POST`).\n   - This is relevant to the user's need to find existing test cases that verify admin functionality.", relative_path='tests/admin_views/tests.py', start_line=325, end_line=411), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query asks for tests related to `has_add_permission`.\n   - The user's purpose is to find tests that verify admin button visibility based on user permissions.\n2. Extended relevance:\n   - This context contains the `ModelAdminPermissionTests` class, which directly tests the permission-related hooks on `ModelAdmin`.\n   - It includes `test_has_add_permission`, which directly matches a keyword in the query.\n   - It also includes tests for view, change, and delete permissions, which are essential for understanding how admin views and buttons are controlled based on user permissions.", relative_path='tests/modeladmin/tests.py', start_line=810, end_line=942)]
2025-12-23 04:46:39,715 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 3 contexts to memory for query: Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
2025-12-23 04:46:39,716 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:46:39,716 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:46:39,716 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 3 new contexts to 0 existing contexts
2025-12-23 04:46:39,716 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-23 04:46:39,717 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── benchmark.yml
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ckb
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   └── options.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── filesystem.py
|   |   |   |   ├── handler.py
|   |   |   |   ├── memory.py
|   |   |   |   └── mixins.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── psycopg_any.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.16.txt
|   |   ├── 3.2.17.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.8.txt
|   |   ├── 4.0.9.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.2.txt
|   |   ├── 4.1.3.txt
|   |   ├── 4.1.4.txt
|   |   ├── 4.1.5.txt
|   |   ├── 4.1.6.txt
|   |   ├── 4.1.7.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── 5.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── fixtures.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_breadcrumbs.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_model_methods.py
    |   ├── test_async_queryset.py
    |   ├── test_async_related_managers.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   ├── test_storages.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── test_inmemory_storage.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests_tests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: "show_save_as_new" in admin can add without this permission

Description: Description
	 
		(last modified by Mariusz Felisiak)
	 
At "django/contrib/admin/templatetags/admin_modify.py" file, line 102, I think you must put one more verification for this tag: "and has_add_permission", because "save_as_new" is a add modification.
I rewrite this for my project:
			"show_save_as_new": not is_popup
			and has_add_permission # This line that I put!!!
			and has_change_permission
			and change
			and save_as,

Patch information:
diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py
index 9df4b7aadb..5b742af46a 100644
--- a/django/contrib/admin/templatetags/admin_modify.py
+++ b/django/contrib/admin/templatetags/admin_modify.py
@@ -100,6 +100,7 @@ def submit_row(context):
                 and context.get("show_delete", True)
             ),
             "show_save_as_new": not is_popup
+            and has_add_permission
             and has_change_permission
             and change
             and save_as,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
Extra Requirements: If sending the full files is not possible, please provide tests related to `submit_row`, `has_add_permission`, and admin change form rendering.
Purpose: I need to find existing test cases that verify admin button visibility based on user permissions to address the reported bug.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/admin_views/test_templatetags.py
Line number range: 1 - 201
Content:
1. import datetime
2. 
3. from django.contrib.admin import ModelAdmin
4. from django.contrib.admin.templatetags.admin_list import date_hierarchy
5. from django.contrib.admin.templatetags.admin_modify import submit_row
6. from django.contrib.auth.admin import UserAdmin
7. from django.contrib.auth.models import User
8. from django.test import RequestFactory, TestCase
9. from django.urls import reverse
10. 
11. from .admin import ArticleAdmin, site
12. from .models import Article, Question
13. from .tests import AdminViewBasicTestCase
14. 
15. 
16. class AdminTemplateTagsTest(AdminViewBasicTestCase):
17.     request_factory = RequestFactory()
18. 
19.     def test_submit_row(self):
20.         """
21.         submit_row template tag should pass whole context.
22.         """
23.         request = self.request_factory.get(
24.             reverse("admin:auth_user_change", args=[self.superuser.pk])
25.         )
26.         request.user = self.superuser
27.         admin = UserAdmin(User, site)
28.         extra_context = {"extra": True}
29.         response = admin.change_view(
30.             request, str(self.superuser.pk), extra_context=extra_context
31.         )
32.         template_context = submit_row(response.context_data)
33.         self.assertIs(template_context["extra"], True)
34.         self.assertIs(template_context["show_save"], True)
35. 
36.     def test_override_show_save_and_add_another(self):
37.         request = self.request_factory.get(
38.             reverse("admin:auth_user_change", args=[self.superuser.pk]),
39.         )
40.         request.user = self.superuser
41.         admin = UserAdmin(User, site)
42.         for extra_context, expected_flag in (
43.             ({}, True),  # Default.
44.             ({"show_save_and_add_another": False}, False),
45.         ):
46.             with self.subTest(show_save_and_add_another=expected_flag):
47.                 response = admin.change_view(
48.                     request,
49.                     str(self.superuser.pk),
50.                     extra_context=extra_context,
51.                 )
52.                 template_context = submit_row(response.context_data)
53.                 self.assertIs(
54.                     template_context["show_save_and_add_another"], expected_flag
55.                 )
56. 
57.     def test_override_change_form_template_tags(self):
58.         """
59.         admin_modify template tags follow the standard search pattern
60.         admin/app_label/model/template.html.
61.         """
62.         article = Article.objects.all()[0]
63.         request = self.request_factory.get(
64.             reverse("admin:admin_views_article_change", args=[article.pk])
65.         )
66.         request.user = self.superuser
67.         admin = ArticleAdmin(Article, site)
68.         extra_context = {"show_publish": True, "extra": True}
69.         response = admin.change_view(
70.             request, str(article.pk), extra_context=extra_context
71.         )
72.         response.render()
73.         self.assertIs(response.context_data["show_publish"], True)
74.         self.assertIs(response.context_data["extra"], True)
75.         self.assertContains(response, 'name="_save"')
76.         self.assertContains(response, 'name="_publish"')
77.         self.assertContains(response, "override-change_form_object_tools")
78.         self.assertContains(response, "override-prepopulated_fields_js")
79. 
80.     def test_override_change_list_template_tags(self):
81.         """
82.         admin_list template tags follow the standard search pattern
83.         admin/app_label/model/template.html.
84.         """
85.         request = self.request_factory.get(
86.             reverse("admin:admin_views_article_changelist")
87.         )
88.         request.user = self.superuser
89.         admin = ArticleAdmin(Article, site)
90.         admin.date_hierarchy = "date"
91.         admin.search_fields = ("title", "content")
92.         response = admin.changelist_view(request)
93.         response.render()
94.         self.assertContains(response, "override-actions")
95.         self.assertContains(response, "override-change_list_object_tools")
96.         self.assertContains(response, "override-change_list_results")
97.         self.assertContains(response, "override-date_hierarchy")
98.         self.assertContains(response, "override-pagination")
99.         self.assertContains(response, "override-search_form")
100. 
101. 
102. class DateHierarchyTests(TestCase):
103.     factory = RequestFactory()
104. 
105.     @classmethod
106.     def setUpTestData(cls):
107.         cls.superuser = User.objects.create_superuser(
108.             username="super", password="secret", email="super@example.com"
109.         )
110. 
111.     def test_choice_links(self):
112.         modeladmin = ModelAdmin(Question, site)
113.         modeladmin.date_hierarchy = "posted"
114. 
115.         posted_dates = (
116.             datetime.date(2017, 10, 1),
117.             datetime.date(2017, 10, 1),
118.             datetime.date(2017, 12, 15),
119.             datetime.date(2017, 12, 15),
120.             datetime.date(2017, 12, 31),
121.             datetime.date(2018, 2, 1),
122.         )
123.         Question.objects.bulk_create(
124.             Question(question="q", posted=posted) for posted in posted_dates
125.         )
126. 
127.         tests = (
128.             ({}, [["year=2017"], ["year=2018"]]),
129.             ({"year": 2016}, []),
130.             ({"year": 2017}, [["month=10", "year=2017"], ["month=12", "year=2017"]]),
131.             ({"year": 2017, "month": 9}, []),
132.             (
133.                 {"year": 2017, "month": 12},
134.                 [
135.                     ["day=15", "month=12", "year=2017"],
136.                     ["day=31", "month=12", "year=2017"],
137.                 ],
138.             ),
139.         )
140.         for query, expected_choices in tests:
141.             with self.subTest(query=query):
142.                 query = {"posted__%s" % q: val for q, val in query.items()}
143.                 request = self.factory.get("/", query)
144.                 request.user = self.superuser
145.                 changelist = modeladmin.get_changelist_instance(request)
146.                 spec = date_hierarchy(changelist)
147.                 choices = [choice["link"] for choice in spec["choices"]]
148.                 expected_choices = [
149.                     "&".join("posted__%s" % c for c in choice)
150.                     for choice in expected_choices
151.                 ]
152.                 expected_choices = [
153.                     ("?" + choice) if choice else "" for choice in expected_choices
154.                 ]
155.                 self.assertEqual(choices, expected_choices)
156. 
157.     def test_choice_links_datetime(self):
158.         modeladmin = ModelAdmin(Question, site)
159.         modeladmin.date_hierarchy = "expires"
160.         Question.objects.bulk_create(
161.             [
162.                 Question(question="q1", expires=datetime.datetime(2017, 10, 1)),
163.                 Question(question="q2", expires=datetime.datetime(2017, 10, 1)),
164.                 Question(question="q3", expires=datetime.datetime(2017, 12, 15)),
165.                 Question(question="q4", expires=datetime.datetime(2017, 12, 15)),
166.                 Question(question="q5", expires=datetime.datetime(2017, 12, 31)),
167.                 Question(question="q6", expires=datetime.datetime(2018, 2, 1)),
168.             ]
169.         )
170.         tests = [
171.             ({}, [["year=2017"], ["year=2018"]]),
172.             ({"year": 2016}, []),
173.             (
174.                 {"year": 2017},
175.                 [
176.                     ["month=10", "year=2017"],
177.                     ["month=12", "year=2017"],
178.                 ],
179.             ),
180.             ({"year": 2017, "month": 9}, []),
181.             (
182.                 {"year": 2017, "month": 12},
183.                 [
184.                     ["day=15", "month=12", "year=2017"],
185.                     ["day=31", "month=12", "year=2017"],
186.                 ],
187.             ),
188.         ]
189.         for query, expected_choices in tests:
190.             with self.subTest(query=query):
191.                 query = {"expires__%s" % q: val for q, val in query.items()}
192.                 request = self.factory.get("/", query)
193.                 request.user = self.superuser
194.                 changelist = modeladmin.get_changelist_instance(request)
195.                 spec = date_hierarchy(changelist)
196.                 choices = [choice["link"] for choice in spec["choices"]]
197.                 expected_choices = [
198.                     "?" + "&".join("expires__%s" % c for c in choice)
199.                     for choice in expected_choices
200.                 ]
201.                 self.assertEqual(choices, expected_choices)


File: tests/admin_views/tests.py
Line number range: 325 - 411
Content:
325.     def test_basic_edit_GET(self):
326.         """
327.         A smoke test to ensure GET on the change_view works.
328.         """
329.         response = self.client.get(
330.             reverse("admin:admin_views_section_change", args=(self.s1.pk,))
331.         )
332.         self.assertIsInstance(response, TemplateResponse)
333.         self.assertEqual(response.status_code, 200)
334. 
335.     def test_basic_edit_GET_string_PK(self):
336.         """
337.         GET on the change_view (when passing a string as the PK argument for a
338.         model with an integer PK field) redirects to the index page with a
339.         message saying the object doesn't exist.
340.         """
341.         response = self.client.get(
342.             reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
343.             follow=True,
344.         )
345.         self.assertRedirects(response, reverse("admin:index"))
346.         self.assertEqual(
347.             [m.message for m in response.context["messages"]],
348.             ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
349.         )
350. 
351.     def test_basic_edit_GET_old_url_redirect(self):
352.         """
353.         The change URL changed in Django 1.9, but the old one still redirects.
354.         """
355.         response = self.client.get(
356.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
357.                 "change/", ""
358.             )
359.         )
360.         self.assertRedirects(
361.             response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
362.         )
363. 
364.     def test_basic_inheritance_GET_string_PK(self):
365.         """
366.         GET on the change_view (for inherited models) redirects to the index
367.         page with a message saying the object doesn't exist.
368.         """
369.         response = self.client.get(
370.             reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
371.         )
372.         self.assertRedirects(response, reverse("admin:index"))
373.         self.assertEqual(
374.             [m.message for m in response.context["messages"]],
375.             ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
376.         )
377. 
378.     def test_basic_add_POST(self):
379.         """
380.         A smoke test to ensure POST on add_view works.
381.         """
382.         post_data = {
383.             "name": "Another Section",
384.             # inline data
385.             "article_set-TOTAL_FORMS": "3",
386.             "article_set-INITIAL_FORMS": "0",
387.             "article_set-MAX_NUM_FORMS": "0",
388.         }
389.         response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
390.         self.assertEqual(response.status_code, 302)  # redirect somewhere
391. 
392.     def test_popup_add_POST(self):
393.         """HTTP response from a popup is properly escaped."""
394.         post_data = {
395.             IS_POPUP_VAR: "1",
396.             "title": "title with a new\nline",
397.             "content": "some content",
398.             "date_0": "2010-09-10",
399.             "date_1": "14:55:39",
400.         }
401.         response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
402.         self.assertContains(response, "title with a new\\nline")
403. 
404.     def test_basic_edit_POST(self):
405.         """
406.         A smoke test to ensure POST on edit_view works.
407.         """
408.         url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
409.         response = self.client.post(url, self.inline_post_data)
410.         self.assertEqual(response.status_code, 302)  # redirect somewhere
411. 


File: tests/modeladmin/tests.py
Line number range: 810 - 942
Content:
810. class ModelAdminPermissionTests(SimpleTestCase):
811.     class MockUser:
812.         def has_module_perms(self, app_label):
813.             return app_label == "modeladmin"
814. 
815.     class MockViewUser(MockUser):
816.         def has_perm(self, perm, obj=None):
817.             return perm == "modeladmin.view_band"
818. 
819.     class MockAddUser(MockUser):
820.         def has_perm(self, perm, obj=None):
821.             return perm == "modeladmin.add_band"
822. 
823.     class MockChangeUser(MockUser):
824.         def has_perm(self, perm, obj=None):
825.             return perm == "modeladmin.change_band"
826. 
827.     class MockDeleteUser(MockUser):
828.         def has_perm(self, perm, obj=None):
829.             return perm == "modeladmin.delete_band"
830. 
831.     def test_has_view_permission(self):
832.         """
833.         has_view_permission() returns True for users who can view objects and
834.         False for users who can't.
835.         """
836.         ma = ModelAdmin(Band, AdminSite())
837.         request = MockRequest()
838.         request.user = self.MockViewUser()
839.         self.assertIs(ma.has_view_permission(request), True)
840.         request.user = self.MockAddUser()
841.         self.assertIs(ma.has_view_permission(request), False)
842.         request.user = self.MockChangeUser()
843.         self.assertIs(ma.has_view_permission(request), True)
844.         request.user = self.MockDeleteUser()
845.         self.assertIs(ma.has_view_permission(request), False)
846. 
847.     def test_has_add_permission(self):
848.         """
849.         has_add_permission returns True for users who can add objects and
850.         False for users who can't.
851.         """
852.         ma = ModelAdmin(Band, AdminSite())
853.         request = MockRequest()
854.         request.user = self.MockViewUser()
855.         self.assertFalse(ma.has_add_permission(request))
856.         request.user = self.MockAddUser()
857.         self.assertTrue(ma.has_add_permission(request))
858.         request.user = self.MockChangeUser()
859.         self.assertFalse(ma.has_add_permission(request))
860.         request.user = self.MockDeleteUser()
861.         self.assertFalse(ma.has_add_permission(request))
862. 
863.     def test_inline_has_add_permission_uses_obj(self):
864.         class ConcertInline(TabularInline):
865.             model = Concert
866. 
867.             def has_add_permission(self, request, obj):
868.                 return bool(obj)
869. 
870.         class BandAdmin(ModelAdmin):
871.             inlines = [ConcertInline]
872. 
873.         ma = BandAdmin(Band, AdminSite())
874.         request = MockRequest()
875.         request.user = self.MockAddUser()
876.         self.assertEqual(ma.get_inline_instances(request), [])
877.         band = Band(name="The Doors", bio="", sign_date=date(1965, 1, 1))
878.         inline_instances = ma.get_inline_instances(request, band)
879.         self.assertEqual(len(inline_instances), 1)
880.         self.assertIsInstance(inline_instances[0], ConcertInline)
881. 
882.     def test_has_change_permission(self):
883.         """
884.         has_change_permission returns True for users who can edit objects and
885.         False for users who can't.
886.         """
887.         ma = ModelAdmin(Band, AdminSite())
888.         request = MockRequest()
889.         request.user = self.MockViewUser()
890.         self.assertIs(ma.has_change_permission(request), False)
891.         request.user = self.MockAddUser()
892.         self.assertFalse(ma.has_change_permission(request))
893.         request.user = self.MockChangeUser()
894.         self.assertTrue(ma.has_change_permission(request))
895.         request.user = self.MockDeleteUser()
896.         self.assertFalse(ma.has_change_permission(request))
897. 
898.     def test_has_delete_permission(self):
899.         """
900.         has_delete_permission returns True for users who can delete objects and
901.         False for users who can't.
902.         """
903.         ma = ModelAdmin(Band, AdminSite())
904.         request = MockRequest()
905.         request.user = self.MockViewUser()
906.         self.assertIs(ma.has_delete_permission(request), False)
907.         request.user = self.MockAddUser()
908.         self.assertFalse(ma.has_delete_permission(request))
909.         request.user = self.MockChangeUser()
910.         self.assertFalse(ma.has_delete_permission(request))
911.         request.user = self.MockDeleteUser()
912.         self.assertTrue(ma.has_delete_permission(request))
913. 
914.     def test_has_module_permission(self):
915.         """
916.         as_module_permission returns True for users who have any permission
917.         for the module and False for users who don't.
918.         """
919.         ma = ModelAdmin(Band, AdminSite())
920.         request = MockRequest()
921.         request.user = self.MockViewUser()
922.         self.assertIs(ma.has_module_permission(request), True)
923.         request.user = self.MockAddUser()
924.         self.assertTrue(ma.has_module_permission(request))
925.         request.user = self.MockChangeUser()
926.         self.assertTrue(ma.has_module_permission(request))
927.         request.user = self.MockDeleteUser()
928.         self.assertTrue(ma.has_module_permission(request))
929. 
930.         original_app_label = ma.opts.app_label
931.         ma.opts.app_label = "anotherapp"
932.         try:
933.             request.user = self.MockViewUser()
934.             self.assertIs(ma.has_module_permission(request), False)
935.             request.user = self.MockAddUser()
936.             self.assertFalse(ma.has_module_permission(request))
937.             request.user = self.MockChangeUser()
938.             self.assertFalse(ma.has_module_permission(request))
939.             request.user = self.MockDeleteUser()
940.             self.assertFalse(ma.has_module_permission(request))
941.         finally:
942.             ma.opts.app_label = original_app_label

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:47:48,829 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The provided context contains tests for admin permissions and for the `submit_row` template tag, but it lacks a specific test that combines these to check the visibility of the 'Save as new' button based on `has_add_permission`. The bug is specifically about the `save_as` functionality, and I haven't seen any tests covering it. The most logical place for such a test is `tests/modeladmin/tests.py` since `save_as` is a `ModelAdmin` option. I need to see more of this file to find tests related to `save_as` to find relevant examples." query='Please provide the full content of tests/modeladmin/tests.py.' extra_requirements='If sending the full file is too large, please include any tests that check the functionality of the `save_as` option on `ModelAdmin`.' purpose="I need to find tests related to the `save_as` option to understand how its behavior is tested, which is essential for finding test cases relevant to the reported bug about the 'Save as new' button."
2025-12-23 04:47:48,830 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/modeladmin/tests.py.
2025-12-23 04:47:48,830 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:47:48,830 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:47:48,831 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:47:48,831 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/modeladmin/tests.py.
Extra requirements: If sending the full file is too large, please include any tests that check the functionality of the `save_as` option on `ModelAdmin`.
Purpose: I need to find tests related to the `save_as` option to understand how its behavior is tested, which is essential for finding test cases relevant to the reported bug about the 'Save as new' button.
2025-12-23 04:47:53,619 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will first attempt to retrieve the entire content of the specified file, `tests/modeladmin/tests.py`. If the file is too large to be returned in a single request, I will then specifically search for and provide the tests that are related to the `save_as` functionality as you requested. This will ensure you receive the most relevant information for your task.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/modeladmin/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2151, 'candidates_token_count': 98, 'total_token_count': 2578, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2151}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 98}], 'thoughts_token_count': 329, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.226967986749143, 'model_name': 'gemini-2.5-pro'} id='run--3febf5a0-9e95-479a-916c-65bf490ca437-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/modeladmin/tests.py'}, 'id': 'be651adf-2439-4f7e-bd28-defeecf3a588', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2151, 'output_tokens': 98, 'total_tokens': 2578, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 329}}
2025-12-23 04:47:56,983 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the initial part of the `tests/modeladmin/tests.py` file. I will now examine this content to locate the tests related to the `save_as` option and determine if the entire file has been loaded. If the relevant tests are not in this initial chunk, I will fetch more of the file to ensure I can provide you with all the necessary code.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "tests/modeladmin/tests.py", "end_line": 1001.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9104, 'candidates_token_count': 107, 'total_token_count': 9356, 'cached_content_token_count': 1824, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9104}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1824}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 107}], 'thoughts_token_count': 145}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2009494282374872, 'model_name': 'gemini-2.5-pro'} id='run--88d54ff7-89ba-4731-82c1-409fe8bf1790-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'tests/modeladmin/tests.py', 'end_line': 1001.0}, 'id': '914402d2-b45e-497a-93dd-8d6bc3fbb045', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9104, 'output_tokens': 107, 'total_tokens': 9356, 'input_token_details': {'cache_read': 1824}, 'output_token_details': {'reasoning': 145}}
2025-12-23 04:48:09,664 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have now retrieved a larger portion of the `tests/modeladmin/tests.py` file. I will continue to search for tests related to the `save_as` option within the content I have so far. If I don't find them, I will retrieve the rest of the file to ensure a complete search." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "start_line": 1001.0, "end_line": 1501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16008, 'candidates_token_count': 95, 'total_token_count': 16875, 'cached_content_token_count': 7499, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16008}], 'cache_tokens_details': [{'modality': 1, 'token_count': 7499}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 95}], 'thoughts_token_count': 772}, 'finish_reason': 'STOP', 'avg_logprobs': -1.845809615285773, 'model_name': 'gemini-2.5-pro'} id='run--9faaff35-70b0-4977-9523-be3fbb114ef5-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'start_line': 1001.0, 'end_line': 1501.0}, 'id': '3c03fb9c-447e-4820-a0d2-7374938ad6bb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16008, 'output_tokens': 95, 'total_tokens': 16875, 'input_token_details': {'cache_read': 7499}, 'output_token_details': {'reasoning': 772}}
2025-12-23 04:48:16,707 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now retrieved the full content of `tests/modeladmin/tests.py`. I will now search through the file content to find any tests related to the `save_as` functionality and provide you with the complete file and highlight the relevant sections.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "text": "save_as"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16188, 'candidates_token_count': 86, 'total_token_count': 16835, 'cached_content_token_count': 14964, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16188}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14964}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 86}], 'thoughts_token_count': 561}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8688514177189317, 'model_name': 'gemini-2.5-pro'} id='run--463455f6-a133-4578-a1b2-525b6b3ac4c7-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'text': 'save_as'}, 'id': '8b23bf31-cdc0-4e2a-b63d-d59b97fc1d15', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16188, 'output_tokens': 86, 'total_tokens': 16835, 'input_token_details': {'cache_read': 14964}, 'output_token_details': {'reasoning': 561}}
2025-12-23 04:48:27,363 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I could not find any tests containing the exact text "save_as". I will now broaden my search to look for the string "Save as new", which is the label of the button controlled by the `save_as` option. This should help us find the relevant tests that simulate a user clicking this button.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "text": "Save as new"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16306, 'candidates_token_count': 98, 'total_token_count': 17276, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16306}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 98}], 'thoughts_token_count': 872, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.9681413611587213, 'model_name': 'gemini-2.5-pro'} id='run--b56059fe-f5aa-4367-9a22-d84e5751ff62-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'text': 'Save as new'}, 'id': '63d072b5-e3d0-4d04-a63b-3ef365b84575', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16306, 'output_tokens': 98, 'total_tokens': 17276, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 872}}
2025-12-23 04:48:33,763 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I was unable to find any tests by searching for "save_as" or "Save as new". It\'s possible the tests use a different naming convention. I will now search for `_saveasnew`, which is the internal name of the "Save as new" button, to see if that yields any results.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "text": "_saveasnew"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16436, 'candidates_token_count': 101, 'total_token_count': 17017, 'cached_content_token_count': 14926, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16436}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14926}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 101}], 'thoughts_token_count': 480}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5712617553106629, 'model_name': 'gemini-2.5-pro'} id='run--c80e28af-3eed-4c04-8665-8541ae7b5da2-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'text': '_saveasnew'}, 'id': 'f1d19fee-fa76-4841-8a55-ffab16ca5ba2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16436, 'output_tokens': 101, 'total_tokens': 17017, 'input_token_details': {'cache_read': 14926}, 'output_token_details': {'reasoning': 480}}
2025-12-23 04:48:43,990 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have been unable to find any tests related to the `save_as` option in `tests/modeladmin/tests.py` by searching for "save_as", "Save as new", or "_saveasnew". This suggests that either the tests for this functionality are located in a different file, or they are implemented in a way that does not explicitly use these terms. To investigate further, I will now search for `save_as = True` to see if any `ModelAdmin` classes in this file are configured to use this option.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/modeladmin/tests.py", "text": "save_as = True"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16569, 'candidates_token_count': 148, 'total_token_count': 17549, 'cached_content_token_count': 14909, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16569}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14909}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 148}], 'thoughts_token_count': 832}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8951177854795713, 'model_name': 'gemini-2.5-pro'} id='run--6c18ae9f-e201-4911-9f0d-5916cc3d8f8b-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/modeladmin/tests.py', 'text': 'save_as = True'}, 'id': 'd0c4d221-d604-49f5-abde-f3786e57eaeb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16569, 'output_tokens': 148, 'total_tokens': 17549, 'input_token_details': {'cache_read': 14909}, 'output_token_details': {'reasoning': 832}}
2025-12-23 04:48:47,386 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have been unable to find any tests related to the `save_as` option within `tests/modeladmin/tests.py`. It seems that the tests for this functionality are not located in this file. I will now expand my search to look for other relevant test files, specifically those related to admin views, as it is likely the tests for `save_as` are located there.' additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "admin_views"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16749, 'candidates_token_count': 93, 'total_token_count': 17012, 'cached_content_token_count': 14895, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16749}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14895}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 93}], 'thoughts_token_count': 170}, 'finish_reason': 'STOP', 'avg_logprobs': -0.30335227392053093, 'model_name': 'gemini-2.5-pro'} id='run--b8e3ef40-dd89-41f1-912a-d81bdaf5cd21-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'admin_views'}, 'id': '106ff228-1ff7-4be2-bd82-25ab9b325132', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16749, 'output_tokens': 93, 'total_tokens': 17012, 'input_token_details': {'cache_read': 14895}, 'output_token_details': {'reasoning': 170}}
2025-12-23 04:48:49,420 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have located a promising directory, `tests/admin_views`, which likely contains relevant tests. My next step is to examine the contents of this directory to identify specific files that may hold the tests for the `save_as` functionality.' additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "tests/admin_views"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16945, 'candidates_token_count': 68, 'total_token_count': 17063, 'cached_content_token_count': 14872, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16945}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14872}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 68}], 'thoughts_token_count': 50}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15832801426158233, 'model_name': 'gemini-2.5-pro'} id='run--6d894142-8f5b-45a8-bf78-08db666756dc-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'tests/admin_views'}, 'id': 'bbd416d9-3ced-4a70-8ff7-73a9a3de915f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16945, 'output_tokens': 68, 'total_tokens': 17063, 'input_token_details': {'cache_read': 14872}, 'output_token_details': {'reasoning': 50}}
2025-12-23 04:48:50,842 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have confirmed the existence of the `tests/admin_views` directory. I will now list the files within this directory to identify potential candidates for containing the `save_as` tests.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/admin_views/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17067, 'candidates_token_count': 62, 'total_token_count': 17129, 'cached_content_token_count': 16708, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17067}], 'cache_tokens_details': [{'modality': 1, 'token_count': 16708}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 62}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.06426520885959748, 'model_name': 'gemini-2.5-pro'} id='run--95c894f3-2241-4949-ab0f-369ecb828670-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/tests.py'}, 'id': '99e410bc-904a-4428-a0d1-885ac635a082', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17067, 'output_tokens': 62, 'total_tokens': 17129, 'input_token_details': {'cache_read': 16708}}
2025-12-23 04:50:04,860 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully located the tests related to the `save_as` functionality. While they were not in `tests/modeladmin/tests.py`, I found them in `tests/admin_views/tests.py`. As per your request, I will provide the full content of `tests/modeladmin/tests.py` and then the specific tests for the "Save as new" feature.\n\nHere is the full content of `tests/modeladmin/tests.py`:\n```python\nfrom datetime import date\n\nfrom django import forms\nfrom django.contrib.admin.models import ADDITION, CHANGE, DELETION, LogEntry\nfrom django.contrib.admin.options import (\n    HORIZONTAL,\n    VERTICAL,\n    ModelAdmin,\n    TabularInline,\n    get_content_type_for_model,\n)\nfrom django.contrib.admin.sites import AdminSite\nfrom django.contrib.admin.widgets import (\n    AdminDateWidget,\n    AdminRadioSelect,\n    AutocompleteSelect,\n    AutocompleteSelectMultiple,\n)\nfrom django.contrib.auth.models import User\nfrom django.db import models\nfrom django.forms.widgets import Select\nfrom django.test import SimpleTestCase, TestCase\nfrom django.test.utils import isolate_apps\n\nfrom .models import Band, Concert, Song\n\n\nclass MockRequest:\n    pass\n\n\nclass MockSuperUser:\n    def has_perm(self, perm, obj=None):\n        return True\n\n\nrequest = MockRequest()\nrequest.user = MockSuperUser()\n\n\nclass ModelAdminTests(TestCase):\n    @classmethod\n    def setUpTestData(cls):\n        cls.band = Band.objects.create(\n            name="The Doors",\n            bio="",\n            sign_date=date(1965, 1, 1),\n        )\n\n    def setUp(self):\n        self.site = AdminSite()\n\n    def test_modeladmin_str(self):\n        ma = ModelAdmin(Band, self.site)\n        self.assertEqual(str(ma), "modeladmin.ModelAdmin")\n\n    def test_default_attributes(self):\n        ma = ModelAdmin(Band, self.site)\n        self.assertEqual(ma.actions, ())\n        self.assertEqual(ma.inlines, ())\n\n    # form/fields/fieldsets interaction ##############################\n\n    def test_default_fields(self):\n        ma = ModelAdmin(Band, self.site)\n        self.assertEqual(\n            list(ma.get_form(request).base_fields), ["name", "bio", "sign_date"]\n        )\n        self.assertEqual(list(ma.get_fields(request)), ["name", "bio", "sign_date"])\n        self.assertEqual(\n            list(ma.get_fields(request, self.band)), ["name", "bio", "sign_date"]\n        )\n        self.assertIsNone(ma.get_exclude(request, self.band))\n\n    def test_default_fieldsets(self):\n        # fieldsets_add and fieldsets_change should return a special data structure that\n        # is used in the templates. They should generate the "right thing" whether we\n        # have specified a custom form, the fields argument, or nothing at all.\n        #\n        # Here\'s the default case. There are no custom form_add/form_change methods,\n        # no fields argument, and no fieldsets argument.\n        ma = ModelAdmin(Band, self.site)\n        self.assertEqual(\n            ma.get_fieldsets(request),\n            [(None, {"fields": ["name", "bio", "sign_date"]})],\n        )\n        self.assertEqual(\n            ma.get_fieldsets(request, self.band),\n            [(None, {"fields": ["name", "bio", "sign_date"]})],\n        )\n\n    def test_get_fieldsets(self):\n        # get_fieldsets() is called when figuring out form fields (#18681).\n        class BandAdmin(ModelAdmin):\n            def get_fieldsets(self, request, obj=None):\n                return [(None, {"fields": ["name", "bio"]})]\n\n        ma = BandAdmin(Band, self.site)\n        form = ma.get_form(None)\n        self.assertEqual(form._meta.fields, ["name", "bio"])\n\n        class InlineBandAdmin(TabularInline):\n            model = Concert\n            fk_name = "main_band"\n            can_delete = False\n\n            def get_fieldsets(self, request, obj=None):\n                return [(None, {"fields": ["day", "transport"]})]\n\n        ma = InlineBandAdmin(Band, self.site)\n        form = ma.get_formset(None).form\n        self.assertEqual(form._meta.fields, ["day", "transport"])\n\n    def test_lookup_allowed_allows_nonexistent_lookup(self):\n        """\n        A lookup_allowed allows a parameter whose field lookup doesn\'t exist.\n        (#21129).\n        """\n\n        class BandAdmin(ModelAdmin):\n            fields = ["name"]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertTrue(ma.lookup_allowed("name__nonexistent", "test_value"))\n\n    @isolate_apps("modeladmin")\n    def test_lookup_allowed_onetoone(self):\n        class Department(models.Model):\n            code = models.CharField(max_length=4, unique=True)\n\n        class Employee(models.Model):\n            department = models.ForeignKey(Department, models.CASCADE, to_field="code")\n\n        class EmployeeProfile(models.Model):\n            employee = models.OneToOneField(Employee, models.CASCADE)\n\n        class EmployeeInfo(models.Model):\n            employee = models.OneToOneField(Employee, models.CASCADE)\n            description = models.CharField(max_length=100)\n\n        class EmployeeProfileAdmin(ModelAdmin):\n            list_filter = [\n                "employee__employeeinfo__description",\n                "employee__department__code",\n            ]\n\n        ma = EmployeeProfileAdmin(EmployeeProfile, self.site)\n        # Reverse OneToOneField\n        self.assertIs(\n            ma.lookup_allowed("employee__employeeinfo__description", "test_value"), True\n        )\n        # OneToOneField and ForeignKey\n        self.assertIs(\n            ma.lookup_allowed("employee__department__code", "test_value"), True\n        )\n\n    def test_field_arguments(self):\n        # If fields is specified, fieldsets_add and fieldsets_change should\n        # just stick the fields into a formsets structure and return it.\n        class BandAdmin(ModelAdmin):\n            fields = ["name"]\n\n        ma = BandAdmin(Band, self.site)\n\n        self.assertEqual(list(ma.get_fields(request)), ["name"])\n        self.assertEqual(list(ma.get_fields(request, self.band)), ["name"])\n        self.assertEqual(ma.get_fieldsets(request), [(None, {"fields": ["name"]})])\n        self.assertEqual(\n            ma.get_fieldsets(request, self.band), [(None, {"fields": ["name"]})]\n        )\n\n    def test_field_arguments_restricted_on_form(self):\n        # If fields or fieldsets is specified, it should exclude fields on the\n        # Form class to the fields specified. This may cause errors to be\n        # raised in the db layer if required model fields aren\'t in fields/\n        # fieldsets, but that\'s preferable to ghost errors where a field in the\n        # Form class isn\'t being displayed because it\'s not in fields/fieldsets.\n\n        # Using `fields`.\n        class BandAdmin(ModelAdmin):\n            fields = ["name"]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name"])\n        self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])\n\n        # Using `fieldsets`.\n        class BandAdmin(ModelAdmin):\n            fieldsets = [(None, {"fields": ["name"]})]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name"])\n        self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])\n\n        # Using `exclude`.\n        class BandAdmin(ModelAdmin):\n            exclude = ["bio"]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])\n\n        # You can also pass a tuple to `exclude`.\n        class BandAdmin(ModelAdmin):\n            exclude = ("bio",)\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])\n\n        # Using `fields` and `exclude`.\n        class BandAdmin(ModelAdmin):\n            fields = ["name", "bio"]\n            exclude = ["bio"]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name"])\n\n    def test_custom_form_meta_exclude_with_readonly(self):\n        """\n        The custom ModelForm\'s `Meta.exclude` is respected when used in\n        conjunction with `ModelAdmin.readonly_fields` and when no\n        `ModelAdmin.exclude` is defined (#14496).\n        """\n\n        # With ModelAdmin\n        class AdminBandForm(forms.ModelForm):\n            class Meta:\n                model = Band\n                exclude = ["bio"]\n\n        class BandAdmin(ModelAdmin):\n            readonly_fields = ["name"]\n            form = AdminBandForm\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["sign_date"])\n\n        # With InlineModelAdmin\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                exclude = ["day"]\n\n        class ConcertInline(TabularInline):\n            readonly_fields = ["transport"]\n            form = AdminConcertForm\n            fk_name = "main_band"\n            model = Concert\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["main_band", "opening_band", "id", "DELETE"],\n        )\n\n    def test_custom_formfield_override_readonly(self):\n        class AdminBandForm(forms.ModelForm):\n            name = forms.CharField()\n\n            class Meta:\n                exclude = ()\n                model = Band\n\n        class BandAdmin(ModelAdmin):\n            form = AdminBandForm\n            readonly_fields = ["name"]\n\n        ma = BandAdmin(Band, self.site)\n\n        # `name` shouldn\'t appear in base_fields because it\'s part of\n        # readonly_fields.\n        self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])\n        # But it should appear in get_fields()/fieldsets() so it can be\n        # displayed as read-only.\n        self.assertEqual(list(ma.get_fields(request)), ["bio", "sign_date", "name"])\n        self.assertEqual(\n            list(ma.get_fieldsets(request)),\n            [(None, {"fields": ["bio", "sign_date", "name"]})],\n        )\n\n    def test_custom_form_meta_exclude(self):\n        """\n        The custom ModelForm\'s `Meta.exclude` is overridden if\n        `ModelAdmin.exclude` or `InlineModelAdmin.exclude` are defined (#14496).\n        """\n\n        # With ModelAdmin\n        class AdminBandForm(forms.ModelForm):\n            class Meta:\n                model = Band\n                exclude = ["bio"]\n\n        class BandAdmin(ModelAdmin):\n            exclude = ["name"]\n            form = AdminBandForm\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])\n\n        # With InlineModelAdmin\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                exclude = ["day"]\n\n        class ConcertInline(TabularInline):\n            exclude = ["transport"]\n            form = AdminConcertForm\n            fk_name = "main_band"\n            model = Concert\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["main_band", "opening_band", "day", "id", "DELETE"],\n        )\n\n    def test_overriding_get_exclude(self):\n        class BandAdmin(ModelAdmin):\n            def get_exclude(self, request, obj=None):\n                return ["name"]\n\n        self.assertEqual(\n            list(BandAdmin(Band, self.site).get_form(request).base_fields),\n            ["bio", "sign_date"],\n        )\n\n    def test_get_exclude_overrides_exclude(self):\n        class BandAdmin(ModelAdmin):\n            exclude = ["bio"]\n\n            def get_exclude(self, request, obj=None):\n                return ["name"]\n\n        self.assertEqual(\n            list(BandAdmin(Band, self.site).get_form(request).base_fields),\n            ["bio", "sign_date"],\n        )\n\n    def test_get_exclude_takes_obj(self):\n        class BandAdmin(ModelAdmin):\n            def get_exclude(self, request, obj=None):\n                if obj:\n                    return ["sign_date"]\n                return ["name"]\n\n        self.assertEqual(\n            list(BandAdmin(Band, self.site).get_form(request, self.band).base_fields),\n            ["name", "bio"],\n        )\n\n    def test_custom_form_validation(self):\n        # If a form is specified, it should use it allowing custom validation\n        # to work properly. This won\'t break any of the admin widgets or media.\n        class AdminBandForm(forms.ModelForm):\n            delete = forms.BooleanField()\n\n        class BandAdmin(ModelAdmin):\n            form = AdminBandForm\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(ma.get_form(request).base_fields),\n            ["name", "bio", "sign_date", "delete"],\n        )\n        self.assertEqual(\n            type(ma.get_form(request).base_fields["sign_date"].widget), AdminDateWidget\n        )\n\n    def test_form_exclude_kwarg_override(self):\n        """\n        The `exclude` kwarg passed to `ModelAdmin.get_form()` overrides all\n        other declarations (#8999).\n        """\n\n        class AdminBandForm(forms.ModelForm):\n            class Meta:\n                model = Band\n                exclude = ["name"]\n\n        class BandAdmin(ModelAdmin):\n            exclude = ["sign_date"]\n            form = AdminBandForm\n\n            def get_form(self, request, obj=None, **kwargs):\n                kwargs["exclude"] = ["bio"]\n                return super().get_form(request, obj, **kwargs)\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])\n\n    def test_formset_exclude_kwarg_override(self):\n        """\n        The `exclude` kwarg passed to `InlineModelAdmin.get_formset()`\n        overrides all other declarations (#8999).\n        """\n\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                exclude = ["day"]\n\n        class ConcertInline(TabularInline):\n            exclude = ["transport"]\n            form = AdminConcertForm\n            fk_name = "main_band"\n            model = Concert\n\n            def get_formset(self, request, obj=None, **kwargs):\n                kwargs["exclude"] = ["opening_band"]\n                return super().get_formset(request, obj, **kwargs)\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["main_band", "day", "transport", "id", "DELETE"],\n        )\n\n    def test_formset_overriding_get_exclude_with_form_fields(self):\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                fields = ["main_band", "opening_band", "day", "transport"]\n\n        class ConcertInline(TabularInline):\n            form = AdminConcertForm\n            fk_name = "main_band"\n            model = Concert\n\n            def get_exclude(self, request, obj=None):\n                return ["opening_band"]\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["main_band", "day", "transport", "id", "DELETE"],\n        )\n\n    def test_formset_overriding_get_exclude_with_form_exclude(self):\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                exclude = ["day"]\n\n        class ConcertInline(TabularInline):\n            form = AdminConcertForm\n            fk_name = "main_band"\n            model = Concert\n\n            def get_exclude(self, request, obj=None):\n                return ["opening_band"]\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["main_band", "day", "transport", "id", "DELETE"],\n        )\n\n    def test_raw_id_fields_widget_override(self):\n        """\n        The autocomplete_fields, raw_id_fields, and radio_fields widgets may\n        overridden by specifying a widget in get_formset().\n        """\n\n        class ConcertInline(TabularInline):\n            model = Concert\n            fk_name = "main_band"\n            raw_id_fields = ("opening_band",)\n\n            def get_formset(self, request, obj=None, **kwargs):\n                kwargs["widgets"] = {"opening_band": Select}\n                return super().get_formset(request, obj, **kwargs)\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        band_widget = (\n            list(ma.get_formsets_with_inlines(request))[0][0]()\n            .forms[0]\n            .fields["opening_band"]\n            .widget\n        )\n        # Without the override this would be ForeignKeyRawIdWidget.\n        self.assertIsInstance(band_widget, Select)\n    def test_queryset_override(self):\n        # If the queryset of a ModelChoiceField in a custom form is overridden,\n        # RelatedFieldWidgetWrapper doesn\'t mess that up.\n        band2 = Band.objects.create(\n            name="The Beatles", bio="", sign_date=date(1962, 1, 1)\n        )\n\n        ma = ModelAdmin(Concert, self.site)\n        form = ma.get_form(request)()\n\n        self.assertHTMLEqual(\n            str(form["main_band"]),\n            \'<div class="related-widget-wrapper" data-model-ref="band">\'\n            \'<select name="main_band" id="id_main_band" required>\'\n            \'<option value="" selected>---------</option>\'\n            \'<option value="%d">The Beatles</option>\'\n            \'<option value="%d">The Doors</option>\'\n            "</select></div>" % (band2.id, self.band.id),\n        )\n\n        class AdminConcertForm(forms.ModelForm):\n            def __init__(self, *args, **kwargs):\n                super().__init__(*args, **kwargs)\n                self.fields["main_band"].queryset = Band.objects.filter(\n                    name="The Doors"\n                )\n\n        class ConcertAdminWithForm(ModelAdmin):\n            form = AdminConcertForm\n\n        ma = ConcertAdminWithForm(Concert, self.site)\n        form = ma.get_form(request)()\n\n        self.assertHTMLEqual(\n            str(form["main_band"]),\n            \'<div class="related-widget-wrapper" data-model-ref="band">\'\n            \'<select name="main_band" id="id_main_band" required>\'\n            \'<option value="" selected>---------</option>\'\n            \'<option value="%d">The Doors</option>\'\n            "</select></div>" % self.band.id,\n        )\n\n    def test_regression_for_ticket_15820(self):\n        """\n        `obj` is passed from `InlineModelAdmin.get_fieldsets()` to\n        `InlineModelAdmin.get_formset()`.\n        """\n\n        class CustomConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                fields = ["day"]\n\n        class ConcertInline(TabularInline):\n            model = Concert\n            fk_name = "main_band"\n\n            def get_formset(self, request, obj=None, **kwargs):\n                if obj:\n                    kwargs["form"] = CustomConcertForm\n                return super().get_formset(request, obj, **kwargs)\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        Concert.objects.create(main_band=self.band, opening_band=self.band, day=1)\n        ma = BandAdmin(Band, self.site)\n        inline_instances = ma.get_inline_instances(request)\n        fieldsets = list(inline_instances[0].get_fieldsets(request))\n        self.assertEqual(\n            fieldsets[0][1]["fields"], ["main_band", "opening_band", "day", "transport"]\n        )\n        fieldsets = list(\n            inline_instances[0].get_fieldsets(request, inline_instances[0].model)\n        )\n        self.assertEqual(fieldsets[0][1]["fields"], ["day"])\n\n    # radio_fields behavior ###########################################\n\n    def test_default_foreign_key_widget(self):\n        # First, without any radio_fields specified, the widgets for ForeignKey\n        # and fields with choices specified ought to be a basic Select widget.\n        # ForeignKey widgets in the admin are wrapped with RelatedFieldWidgetWrapper so\n        # they need to be handled properly when type checking. For Select fields, all of\n        # the choices lists have a first entry of dashes.\n        cma = ModelAdmin(Concert, self.site)\n        cmafa = cma.get_form(request)\n\n        self.assertEqual(type(cmafa.base_fields["main_band"].widget.widget), Select)\n        self.assertEqual(\n            list(cmafa.base_fields["main_band"].widget.choices),\n            [("", "---------"), (self.band.id, "The Doors")],\n        )\n\n        self.assertEqual(type(cmafa.base_fields["opening_band"].widget.widget), Select)\n        self.assertEqual(\n            list(cmafa.base_fields["opening_band"].widget.choices),\n            [("", "---------"), (self.band.id, "The Doors")],\n        )\n        self.assertEqual(type(cmafa.base_fields["day"].widget), Select)\n        self.assertEqual(\n            list(cmafa.base_fields["day"].widget.choices),\n            [("", "---------"), (1, "Fri"), (2, "Sat")],\n        )\n        self.assertEqual(type(cmafa.base_fields["transport"].widget), Select)\n        self.assertEqual(\n            list(cmafa.base_fields["transport"].widget.choices),\n            [("", "---------"), (1, "Plane"), (2, "Train"), (3, "Bus")],\n        )\n\n    def test_foreign_key_as_radio_field(self):\n        # Now specify all the fields as radio_fields.  Widgets should now be\n        # RadioSelect, and the choices list should have a first entry of \'None\' if\n        # blank=True for the model field.  Finally, the widget should have the\n        # \'radiolist\' attr, and \'inline\' as well if the field is specified HORIZONTAL.\n        class ConcertAdmin(ModelAdmin):\n            radio_fields = {\n                "main_band": HORIZONTAL,\n                "opening_band": VERTICAL,\n                "day": VERTICAL,\n                "transport": HORIZONTAL,\n            }\n\n        cma = ConcertAdmin(Concert, self.site)\n        cmafa = cma.get_form(request)\n\n        self.assertEqual(\n            type(cmafa.base_fields["main_band"].widget.widget), AdminRadioSelect\n        )\n        self.assertEqual(\n            cmafa.base_fields["main_band"].widget.attrs, {"class": "radiolist inline"}\n        )\n        self.assertEqual(\n            list(cmafa.base_fields["main_band"].widget.choices),\n            [(self.band.id, "The Doors")],\n        )\n\n        self.assertEqual(\n            type(cmafa.base_fields["opening_band"].widget.widget), AdminRadioSelect\n        )\n        self.assertEqual(\n            cmafa.base_fields["opening_band"].widget.attrs, {"class": "radiolist"}\n        )\n        self.assertEqual(\n            list(cmafa.base_fields["opening_band"].widget.choices),\n            [("", "None"), (self.band.id, "The Doors")],\n        )\n        self.assertEqual(type(cmafa.base_fields["day"].widget), AdminRadioSelect)\n        self.assertEqual(cmafa.base_fields["day"].widget.attrs, {"class": "radiolist"})\n        self.assertEqual(\n            list(cmafa.base_fields["day"].widget.choices), [(1, "Fri"), (2, "Sat")]\n        )\n\n        self.assertEqual(type(cmafa.base_fields["transport"].widget), AdminRadioSelect)\n        self.assertEqual(\n            cmafa.base_fields["transport"].widget.attrs, {"class": "radiolist inline"}\n        )\n        self.assertEqual(\n            list(cmafa.base_fields["transport"].widget.choices),\n            [("", "None"), (1, "Plane"), (2, "Train"), (3, "Bus")],\n        )\n\n        class AdminConcertForm(forms.ModelForm):\n            class Meta:\n                model = Concert\n                exclude = ("transport",)\n\n        class ConcertAdmin(ModelAdmin):\n            form = AdminConcertForm\n\n        ma = ConcertAdmin(Concert, self.site)\n        self.assertEqual(\n            list(ma.get_form(request).base_fields), ["main_band", "opening_band", "day"]\n        )\n\n        class AdminConcertForm(forms.ModelForm):\n            extra = forms.CharField()\n\n            class Meta:\n                model = Concert\n                fields = ["extra", "transport"]\n\n        class ConcertAdmin(ModelAdmin):\n            form = AdminConcertForm\n\n        ma = ConcertAdmin(Concert, self.site)\n        self.assertEqual(list(ma.get_form(request).base_fields), ["extra", "transport"])\n\n        class ConcertInline(TabularInline):\n            form = AdminConcertForm\n            model = Concert\n            fk_name = "main_band"\n            can_delete = True\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, self.site)\n        self.assertEqual(\n            list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),\n            ["extra", "transport", "id", "DELETE", "main_band"],\n        )\n\n    def test_log_actions(self):\n        ma = ModelAdmin(Band, self.site)\n        mock_request = MockRequest()\n        mock_request.user = User.objects.create(username="bill")\n        content_type = get_content_type_for_model(self.band)\n        tests = (\n            (ma.log_addition, ADDITION, {"added": {}}),\n            (ma.log_change, CHANGE, {"changed": {"fields": ["name", "bio"]}}),\n            (ma.log_deletion, DELETION, str(self.band)),\n        )\n        for method, flag, message in tests:\n            with self.subTest(name=method.__name__):\n                created = method(mock_request, self.band, message)\n                fetched = LogEntry.objects.filter(action_flag=flag).latest("id")\n                self.assertEqual(created, fetched)\n                self.assertEqual(fetched.action_flag, flag)\n                self.assertEqual(fetched.content_type, content_type)\n                self.assertEqual(fetched.object_id, str(self.band.pk))\n                self.assertEqual(fetched.user, mock_request.user)\n                if flag == DELETION:\n                    self.assertEqual(fetched.change_message, "")\n                    self.assertEqual(fetched.object_repr, message)\n                else:\n                    self.assertEqual(fetched.change_message, str(message))\n                    self.assertEqual(fetched.object_repr, str(self.band))\n\n    def test_get_autocomplete_fields(self):\n        class NameAdmin(ModelAdmin):\n            search_fields = ["name"]\n\n        class SongAdmin(ModelAdmin):\n            autocomplete_fields = ["featuring"]\n            fields = ["featuring", "band"]\n\n        class OtherSongAdmin(SongAdmin):\n            def get_autocomplete_fields(self, request):\n                return ["band"]\n\n        self.site.register(Band, NameAdmin)\n        try:\n            # Uses autocomplete_fields if not overridden.\n            model_admin = SongAdmin(Song, self.site)\n            form = model_admin.get_form(request)()\n            self.assertIsInstance(\n                form.fields["featuring"].widget.widget, AutocompleteSelectMultiple\n            )\n            # Uses overridden get_autocomplete_fields\n            model_admin = OtherSongAdmin(Song, self.site)\n            form = model_admin.get_form(request)()\n            self.assertIsInstance(form.fields["band"].widget.widget, AutocompleteSelect)\n        finally:\n            self.site.unregister(Band)\n\n    def test_get_deleted_objects(self):\n        mock_request = MockRequest()\n        mock_request.user = User.objects.create_superuser(\n            username="bob", email="bob@test.com", password="test"\n        )\n        self.site.register(Band, ModelAdmin)\n        ma = self.site._registry[Band]\n        (\n            deletable_objects,\n            model_count,\n            perms_needed,\n            protected,\n        ) = ma.get_deleted_objects([self.band], request)\n        self.assertEqual(deletable_objects, ["Band: The Doors"])\n        self.assertEqual(model_count, {"bands": 1})\n        self.assertEqual(perms_needed, set())\n        self.assertEqual(protected, [])\n\n    def test_get_deleted_objects_with_custom_has_delete_permission(self):\n        """\n        ModelAdmin.get_deleted_objects() uses ModelAdmin.has_delete_permission()\n        for permissions checking.\n        """\n        mock_request = MockRequest()\n        mock_request.user = User.objects.create_superuser(\n            username="bob", email="bob@test.com", password="test"\n        )\n\n        class TestModelAdmin(ModelAdmin):\n            def has_delete_permission(self, request, obj=None):\n                return False\n\n        self.site.register(Band, TestModelAdmin)\n        ma = self.site._registry[Band]\n        (\n            deletable_objects,\n            model_count,\n            perms_needed,\n            protected,\n        ) = ma.get_deleted_objects([self.band], request)\n        self.assertEqual(deletable_objects, ["Band: The Doors"])\n        self.assertEqual(model_count, {"bands": 1})\n        self.assertEqual(perms_needed, {"band"})\n        self.assertEqual(protected, [])\n\n    def test_modeladmin_repr(self):\n        ma = ModelAdmin(Band, self.site)\n        self.assertEqual(\n            repr(ma),\n            "<ModelAdmin: model=Band site=AdminSite(name=\'admin\')>",\n        )\n\n\nclass ModelAdminPermissionTests(SimpleTestCase):\n    class MockUser:\n        def has_module_perms(self, app_label):\n            return app_label == "modeladmin"\n\n    class MockViewUser(MockUser):\n        def has_perm(self, perm, obj=None):\n            return perm == "modeladmin.view_band"\n\n    class MockAddUser(MockUser):\n        def has_perm(self, perm, obj=None):\n            return perm == "modeladmin.add_band"\n\n    class MockChangeUser(MockUser):\n        def has_perm(self, perm, obj=None):\n            return perm == "modeladmin.change_band"\n\n    class MockDeleteUser(MockUser):\n        def has_perm(self, perm, obj=None):\n            return perm == "modeladmin.delete_band"\n\n    def test_has_view_permission(self):\n        """\n        has_view_permission() returns True for users who can view objects and\n        False for users who can\'t.\n        """\n        ma = ModelAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockViewUser()\n        self.assertIs(ma.has_view_permission(request), True)\n        request.user = self.MockAddUser()\n        self.assertIs(ma.has_view_permission(request), False)\n        request.user = self.MockChangeUser()\n        self.assertIs(ma.has_view_permission(request), True)\n        request.user = self.MockDeleteUser()\n        self.assertIs(ma.has_view_permission(request), False)\n\n    def test_has_add_permission(self):\n        """\n        has_add_permission returns True for users who can add objects and\n        False for users who can\'t.\n        """\n        ma = ModelAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockViewUser()\n        self.assertFalse(ma.has_add_permission(request))\n        request.user = self.MockAddUser()\n        self.assertTrue(ma.has_add_permission(request))\n        request.user = self.MockChangeUser()\n        self.assertFalse(ma.has_add_permission(request))\n        request.user = self.MockDeleteUser()\n        self.assertFalse(ma.has_add_permission(request))\n\n    def test_inline_has_add_permission_uses_obj(self):\n        class ConcertInline(TabularInline):\n            model = Concert\n\n            def has_add_permission(self, request, obj):\n                return bool(obj)\n\n        class BandAdmin(ModelAdmin):\n            inlines = [ConcertInline]\n\n        ma = BandAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockAddUser()\n        self.assertEqual(ma.get_inline_instances(request), [])\n        band = Band(name="The Doors", bio="", sign_date=date(1965, 1, 1))\n        inline_instances = ma.get_inline_instances(request, band)\n        self.assertEqual(len(inline_instances), 1)\n        self.assertIsInstance(inline_instances[0], ConcertInline)\n\n    def test_has_change_permission(self):\n        """\n        has_change_permission returns True for users who can edit objects and\n        False for users who can\'t.\n        """\n        ma = ModelAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockViewUser()\n        self.assertIs(ma.has_change_permission(request), False)\n        request.user = self.MockAddUser()\n        self.assertFalse(ma.has_change_permission(request))\n        request.user = self.MockChangeUser()\n        self.assertTrue(ma.has_change_permission(request))\n        request.user = self.MockDeleteUser()\n        self.assertFalse(ma.has_change_permission(request))\n\n    def test_has_delete_permission(self):\n        """\n        has_delete_permission returns True for users who can delete objects and\n        False for users who can\'t.\n        """\n        ma = ModelAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockViewUser()\n        self.assertIs(ma.has_delete_permission(request), False)\n        request.user = self.MockAddUser()\n        self.assertFalse(ma.has_delete_permission(request))\n        request.user = self.MockChangeUser()\n        self.assertFalse(ma.has_delete_permission(request))\n        request.user = self.MockDeleteUser()\n        self.assertTrue(ma.has_delete_permission(request))\n\n    def test_has_module_permission(self):\n        """\n        as_module_permission returns True for users who have any permission\n        for the module and False for users who don\'t.\n        """\n        ma = ModelAdmin(Band, AdminSite())\n        request = MockRequest()\n        request.user = self.MockViewUser()\n        self.assertIs(ma.has_module_permission(request), True)\n        request.user = self.MockAddUser()\n        self.assertTrue(ma.has_module_permission(request))\n        request.user = self.MockChangeUser()\n        self.assertTrue(ma.has_module_permission(request))\n        request.user = self.MockDeleteUser()\n        self.assertTrue(ma.has_module_permission(request))\n\n        original_app_label = ma.opts.app_label\n        ma.opts.app_label = "anotherapp"\n        try:\n            request.user = self.MockViewUser()\n            self.assertIs(ma.has_module_permission(request), False)\n            request.user = self.MockAddUser()\n            self.assertFalse(ma.has_module_permission(request))\n            request.user = self.MockChangeUser()\n            self.assertFalse(ma.has_module_permission(request))\n            request.user = self.MockDeleteUser()\n            self.assertFalse(ma.has_module_permission(request))\n        finally:\n            ma.opts.app_label = original_app_label\n```\n\nHere are the tests for the `save_as` functionality, which are located in `tests/admin_views/tests.py`:\n\n```python\n    def test_edit_save_as(self):\n        """\n        Test "save as".\n        """\n        post_data = self.inline_post_data.copy()\n        post_data.update(\n            {\n                "_saveasnew": "Save+as+new",\n                "article_set-1-section": "1",\n                "article_set-2-section": "1",\n                "article_set-3-section": "1",\n                "article_set-4-section": "1",\n                "article_set-5-section": "1",\n            }\n        )\n        response = self.client.post(\n            reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data\n        )\n        self.assertEqual(response.status_code, 302)  # redirect somewhere\n\n    def test_edit_save_as_delete_inline(self):\n        """\n        Should be able to "Save as new" while also deleting an inline.\n        """\n        post_data = self.inline_post_data.copy()\n        post_data.update(\n            {\n                "_saveasnew": "Save+as+new",\n                "article_set-1-section": "1",\n                "article_set-2-section": "1",\n                "article_set-2-DELETE": "1",\n                "article_set-3-section": "1",\n            }\n        )\n        response = self.client.post(\n            reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data\n        )\n        self.assertEqual(response.status_code, 302)\n        # started with 3 articles, one was deleted.\n        self.assertEqual(Section.objects.latest("id").article_set.count(), 2)\n```' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 4759, 'end_index': 5195, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 5288, 'end_index': 6091, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 5888, 'end_index': 6347, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 6162, 'end_index': 6935, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 6799, 'end_index': 7218, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 7282, 'end_index': 8413, 'title': 'Your prompt', 'uri': '', 'license_': ''}, {'start_index': 8500, 'end_index': 9106, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 8934, 'end_index': 9272, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 9257, 'end_index': 9647, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 9466, 'end_index': 10893, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 10756, 'end_index': 11044, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 10955, 'end_index': 11320, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 11120, 'end_index': 11494, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 11511, 'end_index': 12345, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 12367, 'end_index': 13094, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 12915, 'end_index': 13477, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 13277, 'end_index': 13667, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 13667, 'end_index': 14323, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 14162, 'end_index': 15678, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 15524, 'end_index': 16072, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 15943, 'end_index': 16403, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 16195, 'end_index': 16589, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 16661, 'end_index': 17127, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 16933, 'end_index': 17385, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 17420, 'end_index': 17772, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 17611, 'end_index': 18422, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 18401, 'end_index': 19172, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 20273, 'end_index': 20750, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 21207, 'end_index': 21635, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 21691, 'end_index': 22135, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 21981, 'end_index': 22512, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 22515, 'end_index': 28182, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 28019, 'end_index': 28370, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 32517, 'end_index': 33152, 'uri': 'https://github.com/gahrb1/web_presence', 'title': '', 'license_': ''}, {'start_index': 35572, 'end_index': 35909, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 35778, 'end_index': 36084, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 36247, 'end_index': 36585, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 36454, 'end_index': 36764, 'uri': 'https://github.com/luisk262/dockerfile', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 36936, 'end_index': 37373, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}, {'start_index': 37466, 'end_index': 37850, 'uri': 'https://github.com/gethue/hue', 'license_': 'BSD-3-Clause', 'title': ''}]}, 'usage_metadata': {'prompt_token_count': 24371, 'candidates_token_count': 9810, 'total_token_count': 35094, 'cached_content_token_count': 17026, 'prompt_tokens_details': [{'modality': 1, 'token_count': 24371}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17026}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 9810}], 'thoughts_token_count': 913}, 'finish_reason': 'STOP', 'avg_logprobs': -0.009110995729156713, 'model_name': 'gemini-2.5-pro'} id='run--da2f3ea8-394e-4fab-8559-20d4c33b9b3e-0' usage_metadata={'input_tokens': 24371, 'output_tokens': 9810, 'total_tokens': 35094, 'input_token_details': {'cache_read': 17026}, 'output_token_details': {'reasoning': 913}}
2025-12-23 04:50:04,863 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/modeladmin/tests.py.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending the full file is too large, please include any tests that check the functionality of the `save_as` option on `ModelAdmin`.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to find tests related to the `save_as` option to understand how its behavior is tested, which is essential for finding test cases relevant to the reported bug about the 'Save as new' button.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/admin_views/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import os
3. import re
4. import unittest
5. import zoneinfo
6. from unittest import mock
7. from urllib.parse import parse_qsl, urljoin, urlparse
8. 
9. from django.contrib import admin
10. from django.contrib.admin import AdminSite, ModelAdmin
11. from django.contrib.admin.helpers import ACTION_CHECKBOX_NAME
12. from django.contrib.admin.models import ADDITION, DELETION, LogEntry
13. from django.contrib.admin.options import TO_FIELD_VAR
14. from django.contrib.admin.templatetags.admin_urls import add_preserved_filters
15. from django.contrib.admin.tests import AdminSeleniumTestCase
16. from django.contrib.admin.utils import quote
17. from django.contrib.admin.views.main import IS_POPUP_VAR
18. from django.contrib.auth import REDIRECT_FIELD_NAME, get_permission_codename
19. from django.contrib.auth.models import Group, Permission, User
20. from django.contrib.contenttypes.models import ContentType
21. from django.core import mail
22. from django.core.checks import Error
23. from django.core.files import temp as tempfile
24. from django.db import connection
25. from django.forms.utils import ErrorList
26. from django.template.response import TemplateResponse
27. from django.test import (
28.     TestCase,
29.     modify_settings,
30.     override_settings,
31.     skipUnlessDBFeature,
32. )
33. from django.test.utils import override_script_prefix
34. from django.urls import NoReverseMatch, resolve, reverse
35. from django.utils import formats, translation
36. from django.utils.cache import get_max_age
37. from django.utils.encoding import iri_to_uri
38. from django.utils.html import escape
39. from django.utils.http import urlencode
40. 
41. from . import customadmin
42. from .admin import CityAdmin, site, site2
43. from .models import (
44.     Actor,
45.     AdminOrderedAdminMethod,
46.     AdminOrderedCallable,
47.     AdminOrderedField,
48.     AdminOrderedModelMethod,
49.     Album,
50.     Answer,
51.     Answer2,
52.     Article,
53.     BarAccount,
54.     Book,
55.     Bookmark,
56.     Box,
57.     Category,
58.     Chapter,
59.     ChapterXtra1,
60.     ChapterXtra2,
61.     Character,
62.     Child,
63.     Choice,
64.     City,
65.     Collector,
66.     Color,
67.     ComplexSortedPerson,
68.     CoverLetter,
69.     CustomArticle,
70.     CyclicOne,
71.     CyclicTwo,
72.     DooHickey,
73.     Employee,
74.     EmptyModel,
75.     Fabric,
76.     FancyDoodad,
77.     FieldOverridePost,
78.     FilteredManager,
79.     FooAccount,
80.     FoodDelivery,
81.     FunkyTag,
82.     Gallery,
83.     Grommet,
84.     Inquisition,
85.     Language,
86.     Link,
87.     MainPrepopulated,
88.     Media,
89.     ModelWithStringPrimaryKey,
90.     OtherStory,
91.     Paper,
92.     Parent,
93.     ParentWithDependentChildren,
94.     ParentWithUUIDPK,
95.     Person,
96.     Persona,
97.     Picture,
98.     Pizza,
99.     Plot,
100.     PlotDetails,
101.     PluggableSearchPerson,
102.     Podcast,
103.     Post,
104.     PrePopulatedPost,
105.     Promo,
106.     Question,
107.     ReadablePizza,
108.     ReadOnlyPizza,
109.     ReadOnlyRelatedField,
110.     Recommendation,
111.     Recommender,
112.     RelatedPrepopulated,
113.     RelatedWithUUIDPKModel,
114.     Report,
115.     Restaurant,
116.     RowLevelChangePermissionModel,
117.     SecretHideout,
118.     Section,
119.     ShortMessage,
120.     Simple,
121.     Song,
122.     State,
123.     Story,
124.     SuperSecretHideout,
125.     SuperVillain,
126.     Telegram,
127.     TitleTranslation,
128.     Topping,
129.     Traveler,
130.     UnchangeableObject,
131.     UndeletableObject,
132.     UnorderedObject,
133.     UserProxy,
134.     Villain,
135.     Vodcast,
136.     Whatsit,
137.     Widget,
138.     Worker,
139.     WorkHour,
140. )
141. 
142. ERROR_MESSAGE = "Please enter the correct username and password \
143. for a staff account. Note that both fields may be case-sensitive."
144. 
145. MULTIPART_ENCTYPE = 'enctype="multipart/form-data"'
146. 
147. 
148. def make_aware_datetimes(dt, iana_key):
149.     """Makes one aware datetime for each supported time zone provider."""
150.     yield dt.replace(tzinfo=zoneinfo.ZoneInfo(iana_key))
151. 
152. 
153. class AdminFieldExtractionMixin:
154.     """
155.     Helper methods for extracting data from AdminForm.
156.     """
157. 
158.     def get_admin_form_fields(self, response):
159.         """
160.         Return a list of AdminFields for the AdminForm in the response.
161.         """
162.         fields = []
163.         for fieldset in response.context["adminform"]:
164.             for field_line in fieldset:
165.                 fields.extend(field_line)
166.         return fields
167. 
168.     def get_admin_readonly_fields(self, response):
169.         """
170.         Return the readonly fields for the response's AdminForm.
171.         """
172.         return [f for f in self.get_admin_form_fields(response) if f.is_readonly]
173. 
174.     def get_admin_readonly_field(self, response, field_name):
175.         """
176.         Return the readonly field for the given field_name.
177.         """
178.         admin_readonly_fields = self.get_admin_readonly_fields(response)
179.         for field in admin_readonly_fields:
180.             if field.field["name"] == field_name:
181.                 return field
182. 
183. 
184. @override_settings(ROOT_URLCONF="admin_views.urls", USE_I18N=True, LANGUAGE_CODE="en")
185. class AdminViewBasicTestCase(TestCase):
186.     @classmethod
187.     def setUpTestData(cls):
188.         cls.superuser = User.objects.create_superuser(
189.             username="super", password="secret", email="super@example.com"
190.         )
191.         cls.s1 = Section.objects.create(name="Test section")
192.         cls.a1 = Article.objects.create(
193.             content="<p>Middle content</p>",
194.             date=datetime.datetime(2008, 3, 18, 11, 54, 58),
195.             section=cls.s1,
196.             title="Article 1",
197.         )
198.         cls.a2 = Article.objects.create(
199.             content="<p>Oldest content</p>",
200.             date=datetime.datetime(2000, 3, 18, 11, 54, 58),
201.             section=cls.s1,
202.             title="Article 2",
203.         )
204.         cls.a3 = Article.objects.create(
205.             content="<p>Newest content</p>",
206.             date=datetime.datetime(2009, 3, 18, 11, 54, 58),
207.             section=cls.s1,
208.         )
209.         cls.p1 = PrePopulatedPost.objects.create(
210.             title="A Long Title", published=True, slug="a-long-title"
211.         )
212.         cls.color1 = Color.objects.create(value="Red", warm=True)
213.         cls.color2 = Color.objects.create(value="Orange", warm=True)
214.         cls.color3 = Color.objects.create(value="Blue", warm=False)
215.         cls.color4 = Color.objects.create(value="Green", warm=False)
216.         cls.fab1 = Fabric.objects.create(surface="x")
217.         cls.fab2 = Fabric.objects.create(surface="y")
218.         cls.fab3 = Fabric.objects.create(surface="plain")
219.         cls.b1 = Book.objects.create(name="Book 1")
220.         cls.b2 = Book.objects.create(name="Book 2")
221.         cls.pro1 = Promo.objects.create(name="Promo 1", book=cls.b1)
222.         cls.pro1 = Promo.objects.create(name="Promo 2", book=cls.b2)
223.         cls.chap1 = Chapter.objects.create(
224.             title="Chapter 1", content="[ insert contents here ]", book=cls.b1
225.         )
226.         cls.chap2 = Chapter.objects.create(
227.             title="Chapter 2", content="[ insert contents here ]", book=cls.b1
228.         )
229.         cls.chap3 = Chapter.objects.create(
230.             title="Chapter 1", content="[ insert contents here ]", book=cls.b2
231.         )
232.         cls.chap4 = Chapter.objects.create(
233.             title="Chapter 2", content="[ insert contents here ]", book=cls.b2
234.         )
235.         cls.cx1 = ChapterXtra1.objects.create(chap=cls.chap1, xtra="ChapterXtra1 1")
236.         cls.cx2 = ChapterXtra1.objects.create(chap=cls.chap3, xtra="ChapterXtra1 2")
237.         Actor.objects.create(name="Palin", age=27)
238. 
239.         # Post data for edit inline
240.         cls.inline_post_data = {
241.             "name": "Test section",
242.             # inline data
243.             "article_set-TOTAL_FORMS": "6",
244.             "article_set-INITIAL_FORMS": "3",
245.             "article_set-MAX_NUM_FORMS": "0",
246.             "article_set-0-id": cls.a1.pk,
247.             # there is no title in database, give one here or formset will fail.
248.             "article_set-0-title": "Norske bostaver æøå skaper problemer",
249.             "article_set-0-content": "&lt;p&gt;Middle content&lt;/p&gt;",
250.             "article_set-0-date_0": "2008-03-18",
251.             "article_set-0-date_1": "11:54:58",
252.             "article_set-0-section": cls.s1.pk,
253.             "article_set-1-id": cls.a2.pk,
254.             "article_set-1-title": "Need a title.",
255.             "article_set-1-content": "&lt;p&gt;Oldest content&lt;/p&gt;",
256.             "article_set-1-date_0": "2000-03-18",
257.             "article_set-1-date_1": "11:54:58",
258.             "article_set-2-id": cls.a3.pk,
259.             "article_set-2-title": "Need a title.",
260.             "article_set-2-content": "&lt;p&gt;Newest content&lt;/p&gt;",
261.             "article_set-2-date_0": "2009-03-18",
262.             "article_set-2-date_1": "11:54:58",
263.             "article_set-3-id": "",
264.             "article_set-3-title": "",
265.             "article_set-3-content": "",
266.             "article_set-3-date_0": "",
267.             "article_set-3-date_1": "",
268.             "article_set-4-id": "",
269.             "article_set-4-title": "",
270.             "article_set-4-content": "",
271.             "article_set-4-date_0": "",
272.             "article_set-4-date_1": "",
273.             "article_set-5-id": "",
274.             "article_set-5-title": "",
275.             "article_set-5-content": "",
276.             "article_set-5-date_0": "",
277.             "article_set-5-date_1": "",
278.         }
279. 
280.     def setUp(self):
281.         self.client.force_login(self.superuser)
282. 
283.     def assertContentBefore(self, response, text1, text2, failing_msg=None):
284.         """
285.         Testing utility asserting that text1 appears before text2 in response
286.         content.
287.         """
288.         self.assertEqual(response.status_code, 200)
289.         self.assertLess(
290.             response.content.index(text1.encode()),
291.             response.content.index(text2.encode()),
292.             (failing_msg or "")
293.             + "\nResponse:\n"
294.             + response.content.decode(response.charset),
295.         )
296. 
297. 
298. class AdminViewBasicTest(AdminViewBasicTestCase):
299.     def test_trailing_slash_required(self):
300.         """
301.         If you leave off the trailing slash, app should redirect and add it.
302.         """
303.         add_url = reverse("admin:admin_views_article_add")
304.         response = self.client.get(add_url[:-1])
305.         self.assertRedirects(response, add_url, status_code=301)
306. 
307.     def test_basic_add_GET(self):
308.         """
309.         A smoke test to ensure GET on the add_view works.
310.         """
311.         response = self.client.get(reverse("admin:admin_views_section_add"))
312.         self.assertIsInstance(response, TemplateResponse)
313.         self.assertEqual(response.status_code, 200)
314. 
315.     def test_add_with_GET_args(self):
316.         response = self.client.get(
317.             reverse("admin:admin_views_section_add"), {"name": "My Section"}
318.         )
319.         self.assertContains(
320.             response,
321.             'value="My Section"',
322.             msg_prefix="Couldn't find an input with the right value in the response",
323.         )
324. 
325.     def test_basic_edit_GET(self):
326.         """
327.         A smoke test to ensure GET on the change_view works.
328.         """
329.         response = self.client.get(
330.             reverse("admin:admin_views_section_change", args=(self.s1.pk,))
331.         )
332.         self.assertIsInstance(response, TemplateResponse)
333.         self.assertEqual(response.status_code, 200)
334. 
335.     def test_basic_edit_GET_string_PK(self):
336.         """
337.         GET on the change_view (when passing a string as the PK argument for a
338.         model with an integer PK field) redirects to the index page with a
339.         message saying the object doesn't exist.
340.         """
341.         response = self.client.get(
342.             reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
343.             follow=True,
344.         )
345.         self.assertRedirects(response, reverse("admin:index"))
346.         self.assertEqual(
347.             [m.message for m in response.context["messages"]],
348.             ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
349.         )
350. 
351.     def test_basic_edit_GET_old_url_redirect(self):
352.         """
353.         The change URL changed in Django 1.9, but the old one still redirects.
354.         """
355.         response = self.client.get(
356.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
357.                 "change/", ""
358.             )
359.         )
360.         self.assertRedirects(
361.             response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
362.         )
363. 
364.     def test_basic_inheritance_GET_string_PK(self):
365.         """
366.         GET on the change_view (for inherited models) redirects to the index
367.         page with a message saying the object doesn't exist.
368.         """
369.         response = self.client.get(
370.             reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
371.         )
372.         self.assertRedirects(response, reverse("admin:index"))
373.         self.assertEqual(
374.             [m.message for m in response.context["messages"]],
375.             ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
376.         )
377. 
378.     def test_basic_add_POST(self):
379.         """
380.         A smoke test to ensure POST on add_view works.
381.         """
382.         post_data = {
383.             "name": "Another Section",
384.             # inline data
385.             "article_set-TOTAL_FORMS": "3",
386.             "article_set-INITIAL_FORMS": "0",
387.             "article_set-MAX_NUM_FORMS": "0",
388.         }
389.         response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
390.         self.assertEqual(response.status_code, 302)  # redirect somewhere
391. 
392.     def test_popup_add_POST(self):
393.         """HTTP response from a popup is properly escaped."""
394.         post_data = {
395.             IS_POPUP_VAR: "1",
396.             "title": "title with a new\nline",
397.             "content": "some content",
398.             "date_0": "2010-09-10",
399.             "date_1": "14:55:39",
400.         }
401.         response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
402.         self.assertContains(response, "title with a new\\nline")
403. 
404.     def test_basic_edit_POST(self):
405.         """
406.         A smoke test to ensure POST on edit_view works.
407.         """
408.         url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
409.         response = self.client.post(url, self.inline_post_data)
410.         self.assertEqual(response.status_code, 302)  # redirect somewhere
411. 
412.     def test_edit_save_as(self):
413.         """
414.         Test "save as".
415.         """
416.         post_data = self.inline_post_data.copy()
417.         post_data.update(
418.             {
419.                 "_saveasnew": "Save+as+new",
420.                 "article_set-1-section": "1",
421.                 "article_set-2-section": "1",
422.                 "article_set-3-section": "1",
423.                 "article_set-4-section": "1",
424.                 "article_set-5-section": "1",
425.             }
426.         )
427.         response = self.client.post(
428.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
429.         )
430.         self.assertEqual(response.status_code, 302)  # redirect somewhere
431. 
432.     def test_edit_save_as_delete_inline(self):
433.         """
434.         Should be able to "Save as new" while also deleting an inline.
435.         """
436.         post_data = self.inline_post_data.copy()
437.         post_data.update(
438.             {
439.                 "_saveasnew": "Save+as+new",
440.                 "article_set-1-section": "1",
441.                 "article_set-2-section": "1",
442.                 "article_set-2-DELETE": "1",
443.                 "article_set-3-section": "1",
444.             }
445.         )
446.         response = self.client.post(
447.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
448.         )
449.         self.assertEqual(response.status_code, 302)
450.         # started with 3 articles, one was deleted.
451.         self.assertEqual(Section.objects.latest("id").article_set.count(), 2)
452. 
453.     def test_change_list_column_field_classes(self):
454.         response = self.client.get(reverse("admin:admin_views_article_changelist"))
455.         # callables display the callable name.
456.         self.assertContains(response, "column-callable_year")
457.         self.assertContains(response, "field-callable_year")
458.         # lambdas display as "lambda" + index that they appear in list_display.
459.         self.assertContains(response, "column-lambda8")
460.         self.assertContains(response, "field-lambda8")
461. 
462.     def test_change_list_sorting_callable(self):
463.         """
464.         Ensure we can sort on a list_display field that is a callable
465.         (column 2 is callable_year in ArticleAdmin)
466.         """
467.         response = self.client.get(
468.             reverse("admin:admin_views_article_changelist"), {"o": 2}
469.         )
470.         self.assertContentBefore(
471.             response,
472.             "Oldest content",
473.             "Middle content",
474.             "Results of sorting on callable are out of order.",
475.         )
476.         self.assertContentBefore(
477.             response,
478.             "Middle content",
479.             "Newest content",
480.             "Results of sorting on callable are out of order.",
481.         )
482. 
483.     def test_change_list_sorting_property(self):
484.         """
485.         Sort on a list_display field that is a property (column 10 is
486.         a property in Article model).
487.         """
488.         response = self.client.get(
489.             reverse("admin:admin_views_article_changelist"), {"o": 10}
490.         )
491.         self.assertContentBefore(
492.             response,
493.             "Oldest content",
494.             "Middle content",
495.             "Results of sorting on property are out of order.",
496.         )
497.         self.assertContentBefore(
498.             response,
499.             "Middle content",
500.             "Newest content",


File: tests/modeladmin/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. 
3. from django import forms
4. from django.contrib.admin.models import ADDITION, CHANGE, DELETION, LogEntry
5. from django.contrib.admin.options import (
6.     HORIZONTAL,
7.     VERTICAL,
8.     ModelAdmin,
9.     TabularInline,
10.     get_content_type_for_model,
11. )
12. from django.contrib.admin.sites import AdminSite
13. from django.contrib.admin.widgets import (
14.     AdminDateWidget,
15.     AdminRadioSelect,
16.     AutocompleteSelect,
17.     AutocompleteSelectMultiple,
18. )
19. from django.contrib.auth.models import User
20. from django.db import models
21. from django.forms.widgets import Select
22. from django.test import SimpleTestCase, TestCase
23. from django.test.utils import isolate_apps
24. 
25. from .models import Band, Concert, Song
26. 
27. 
28. class MockRequest:
29.     pass
30. 
31. 
32. class MockSuperUser:
33.     def has_perm(self, perm, obj=None):
34.         return True
35. 
36. 
37. request = MockRequest()
38. request.user = MockSuperUser()
39. 
40. 
41. class ModelAdminTests(TestCase):
42.     @classmethod
43.     def setUpTestData(cls):
44.         cls.band = Band.objects.create(
45.             name="The Doors",
46.             bio="",
47.             sign_date=date(1965, 1, 1),
48.         )
49. 
50.     def setUp(self):
51.         self.site = AdminSite()
52. 
53.     def test_modeladmin_str(self):
54.         ma = ModelAdmin(Band, self.site)
55.         self.assertEqual(str(ma), "modeladmin.ModelAdmin")
56. 
57.     def test_default_attributes(self):
58.         ma = ModelAdmin(Band, self.site)
59.         self.assertEqual(ma.actions, ())
60.         self.assertEqual(ma.inlines, ())
61. 
62.     # form/fields/fieldsets interaction ##############################
63. 
64.     def test_default_fields(self):
65.         ma = ModelAdmin(Band, self.site)
66.         self.assertEqual(
67.             list(ma.get_form(request).base_fields), ["name", "bio", "sign_date"]
68.         )
69.         self.assertEqual(list(ma.get_fields(request)), ["name", "bio", "sign_date"])
70.         self.assertEqual(
71.             list(ma.get_fields(request, self.band)), ["name", "bio", "sign_date"]
72.         )
73.         self.assertIsNone(ma.get_exclude(request, self.band))
74. 
75.     def test_default_fieldsets(self):
76.         # fieldsets_add and fieldsets_change should return a special data structure that
77.         # is used in the templates. They should generate the "right thing" whether we
78.         # have specified a custom form, the fields argument, or nothing at all.
79.         #
80.         # Here's the default case. There are no custom form_add/form_change methods,
81.         # no fields argument, and no fieldsets argument.
82.         ma = ModelAdmin(Band, self.site)
83.         self.assertEqual(
84.             ma.get_fieldsets(request),
85.             [(None, {"fields": ["name", "bio", "sign_date"]})],
86.         )
87.         self.assertEqual(
88.             ma.get_fieldsets(request, self.band),
89.             [(None, {"fields": ["name", "bio", "sign_date"]})],
90.         )
91. 
92.     def test_get_fieldsets(self):
93.         # get_fieldsets() is called when figuring out form fields (#18681).
94.         class BandAdmin(ModelAdmin):
95.             def get_fieldsets(self, request, obj=None):
96.                 return [(None, {"fields": ["name", "bio"]})]
97. 
98.         ma = BandAdmin(Band, self.site)
99.         form = ma.get_form(None)
100.         self.assertEqual(form._meta.fields, ["name", "bio"])
101. 
102.         class InlineBandAdmin(TabularInline):
103.             model = Concert
104.             fk_name = "main_band"
105.             can_delete = False
106. 
107.             def get_fieldsets(self, request, obj=None):
108.                 return [(None, {"fields": ["day", "transport"]})]
109. 
110.         ma = InlineBandAdmin(Band, self.site)
111.         form = ma.get_formset(None).form
112.         self.assertEqual(form._meta.fields, ["day", "transport"])
113. 
114.     def test_lookup_allowed_allows_nonexistent_lookup(self):
115.         """
116.         A lookup_allowed allows a parameter whose field lookup doesn't exist.
117.         (#21129).
118.         """
119. 
120.         class BandAdmin(ModelAdmin):
121.             fields = ["name"]
122. 
123.         ma = BandAdmin(Band, self.site)
124.         self.assertTrue(ma.lookup_allowed("name__nonexistent", "test_value"))
125. 
126.     @isolate_apps("modeladmin")
127.     def test_lookup_allowed_onetoone(self):
128.         class Department(models.Model):
129.             code = models.CharField(max_length=4, unique=True)
130. 
131.         class Employee(models.Model):
132.             department = models.ForeignKey(Department, models.CASCADE, to_field="code")
133. 
134.         class EmployeeProfile(models.Model):
135.             employee = models.OneToOneField(Employee, models.CASCADE)
136. 
137.         class EmployeeInfo(models.Model):
138.             employee = models.OneToOneField(Employee, models.CASCADE)
139.             description = models.CharField(max_length=100)
140. 
141.         class EmployeeProfileAdmin(ModelAdmin):
142.             list_filter = [
143.                 "employee__employeeinfo__description",
144.                 "employee__department__code",
145.             ]
146. 
147.         ma = EmployeeProfileAdmin(EmployeeProfile, self.site)
148.         # Reverse OneToOneField
149.         self.assertIs(
150.             ma.lookup_allowed("employee__employeeinfo__description", "test_value"), True
151.         )
152.         # OneToOneField and ForeignKey
153.         self.assertIs(
154.             ma.lookup_allowed("employee__department__code", "test_value"), True
155.         )
156. 
157.     def test_field_arguments(self):
158.         # If fields is specified, fieldsets_add and fieldsets_change should
159.         # just stick the fields into a formsets structure and return it.
160.         class BandAdmin(ModelAdmin):
161.             fields = ["name"]
162. 
163.         ma = BandAdmin(Band, self.site)
164. 
165.         self.assertEqual(list(ma.get_fields(request)), ["name"])
166.         self.assertEqual(list(ma.get_fields(request, self.band)), ["name"])
167.         self.assertEqual(ma.get_fieldsets(request), [(None, {"fields": ["name"]})])
168.         self.assertEqual(
169.             ma.get_fieldsets(request, self.band), [(None, {"fields": ["name"]})]
170.         )
171. 
172.     def test_field_arguments_restricted_on_form(self):
173.         # If fields or fieldsets is specified, it should exclude fields on the
174.         # Form class to the fields specified. This may cause errors to be
175.         # raised in the db layer if required model fields aren't in fields/
176.         # fieldsets, but that's preferable to ghost errors where a field in the
177.         # Form class isn't being displayed because it's not in fields/fieldsets.
178. 
179.         # Using `fields`.
180.         class BandAdmin(ModelAdmin):
181.             fields = ["name"]
182. 
183.         ma = BandAdmin(Band, self.site)
184.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
185.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
186. 
187.         # Using `fieldsets`.
188.         class BandAdmin(ModelAdmin):
189.             fieldsets = [(None, {"fields": ["name"]})]
190. 
191.         ma = BandAdmin(Band, self.site)
192.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
193.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
194. 
195.         # Using `exclude`.
196.         class BandAdmin(ModelAdmin):
197.             exclude = ["bio"]
198. 
199.         ma = BandAdmin(Band, self.site)
200.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
201. 
202.         # You can also pass a tuple to `exclude`.
203.         class BandAdmin(ModelAdmin):
204.             exclude = ("bio",)
205. 
206.         ma = BandAdmin(Band, self.site)
207.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
208. 
209.         # Using `fields` and `exclude`.
210.         class BandAdmin(ModelAdmin):
211.             fields = ["name", "bio"]
212.             exclude = ["bio"]
213. 
214.         ma = BandAdmin(Band, self.site)
215.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
216. 
217.     def test_custom_form_meta_exclude_with_readonly(self):
218.         """
219.         The custom ModelForm's `Meta.exclude` is respected when used in
220.         conjunction with `ModelAdmin.readonly_fields` and when no
221.         `ModelAdmin.exclude` is defined (#14496).
222.         """
223. 
224.         # With ModelAdmin
225.         class AdminBandForm(forms.ModelForm):
226.             class Meta:
227.                 model = Band
228.                 exclude = ["bio"]
229. 
230.         class BandAdmin(ModelAdmin):
231.             readonly_fields = ["name"]
232.             form = AdminBandForm
233. 
234.         ma = BandAdmin(Band, self.site)
235.         self.assertEqual(list(ma.get_form(request).base_fields), ["sign_date"])
236. 
237.         # With InlineModelAdmin
238.         class AdminConcertForm(forms.ModelForm):
239.             class Meta:
240.                 model = Concert
241.                 exclude = ["day"]
242. 
243.         class ConcertInline(TabularInline):
244.             readonly_fields = ["transport"]
245.             form = AdminConcertForm
246.             fk_name = "main_band"
247.             model = Concert
248. 
249.         class BandAdmin(ModelAdmin):
250.             inlines = [ConcertInline]
251. 
252.         ma = BandAdmin(Band, self.site)
253.         self.assertEqual(
254.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
255.             ["main_band", "opening_band", "id", "DELETE"],
256.         )
257. 
258.     def test_custom_formfield_override_readonly(self):
259.         class AdminBandForm(forms.ModelForm):
260.             name = forms.CharField()
261. 
262.             class Meta:
263.                 exclude = ()
264.                 model = Band
265. 
266.         class BandAdmin(ModelAdmin):
267.             form = AdminBandForm
268.             readonly_fields = ["name"]
269. 
270.         ma = BandAdmin(Band, self.site)
271. 
272.         # `name` shouldn't appear in base_fields because it's part of
273.         # readonly_fields.
274.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
275.         # But it should appear in get_fields()/fieldsets() so it can be
276.         # displayed as read-only.
277.         self.assertEqual(list(ma.get_fields(request)), ["bio", "sign_date", "name"])
278.         self.assertEqual(
279.             list(ma.get_fieldsets(request)),
280.             [(None, {"fields": ["bio", "sign_date", "name"]})],
281.         )
282. 
283.     def test_custom_form_meta_exclude(self):
284.         """
285.         The custom ModelForm's `Meta.exclude` is overridden if
286.         `ModelAdmin.exclude` or `InlineModelAdmin.exclude` are defined (#14496).
287.         """
288. 
289.         # With ModelAdmin
290.         class AdminBandForm(forms.ModelForm):
291.             class Meta:
292.                 model = Band
293.                 exclude = ["bio"]
294. 
295.         class BandAdmin(ModelAdmin):
296.             exclude = ["name"]
297.             form = AdminBandForm
298. 
299.         ma = BandAdmin(Band, self.site)
300.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
301. 
302.         # With InlineModelAdmin
303.         class AdminConcertForm(forms.ModelForm):
304.             class Meta:
305.                 model = Concert
306.                 exclude = ["day"]
307. 
308.         class ConcertInline(TabularInline):
309.             exclude = ["transport"]
310.             form = AdminConcertForm
311.             fk_name = "main_band"
312.             model = Concert
313. 
314.         class BandAdmin(ModelAdmin):
315.             inlines = [ConcertInline]
316. 
317.         ma = BandAdmin(Band, self.site)
318.         self.assertEqual(
319.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
320.             ["main_band", "opening_band", "day", "id", "DELETE"],
321.         )
322. 
323.     def test_overriding_get_exclude(self):
324.         class BandAdmin(ModelAdmin):
325.             def get_exclude(self, request, obj=None):
326.                 return ["name"]
327. 
328.         self.assertEqual(
329.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
330.             ["bio", "sign_date"],
331.         )
332. 
333.     def test_get_exclude_overrides_exclude(self):
334.         class BandAdmin(ModelAdmin):
335.             exclude = ["bio"]
336. 
337.             def get_exclude(self, request, obj=None):
338.                 return ["name"]
339. 
340.         self.assertEqual(
341.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
342.             ["bio", "sign_date"],
343.         )
344. 
345.     def test_get_exclude_takes_obj(self):
346.         class BandAdmin(ModelAdmin):
347.             def get_exclude(self, request, obj=None):
348.                 if obj:
349.                     return ["sign_date"]
350.                 return ["name"]
351. 
352.         self.assertEqual(
353.             list(BandAdmin(Band, self.site).get_form(request, self.band).base_fields),
354.             ["name", "bio"],
355.         )
356. 
357.     def test_custom_form_validation(self):
358.         # If a form is specified, it should use it allowing custom validation
359.         # to work properly. This won't break any of the admin widgets or media.
360.         class AdminBandForm(forms.ModelForm):
361.             delete = forms.BooleanField()
362. 
363.         class BandAdmin(ModelAdmin):
364.             form = AdminBandForm
365. 
366.         ma = BandAdmin(Band, self.site)
367.         self.assertEqual(
368.             list(ma.get_form(request).base_fields),
369.             ["name", "bio", "sign_date", "delete"],
370.         )
371.         self.assertEqual(
372.             type(ma.get_form(request).base_fields["sign_date"].widget), AdminDateWidget
373.         )
374. 
375.     def test_form_exclude_kwarg_override(self):
376.         """
377.         The `exclude` kwarg passed to `ModelAdmin.get_form()` overrides all
378.         other declarations (#8999).
379.         """
380. 
381.         class AdminBandForm(forms.ModelForm):
382.             class Meta:
383.                 model = Band
384.                 exclude = ["name"]
385. 
386.         class BandAdmin(ModelAdmin):
387.             exclude = ["sign_date"]
388.             form = AdminBandForm
389. 
390.             def get_form(self, request, obj=None, **kwargs):
391.                 kwargs["exclude"] = ["bio"]
392.                 return super().get_form(request, obj, **kwargs)
393. 
394.         ma = BandAdmin(Band, self.site)
395.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
396. 
397.     def test_formset_exclude_kwarg_override(self):
398.         """
399.         The `exclude` kwarg passed to `InlineModelAdmin.get_formset()`
400.         overrides all other declarations (#8999).
401.         """
402. 
403.         class AdminConcertForm(forms.ModelForm):
404.             class Meta:
405.                 model = Concert
406.                 exclude = ["day"]
407. 
408.         class ConcertInline(TabularInline):
409.             exclude = ["transport"]
410.             form = AdminConcertForm
411.             fk_name = "main_band"
412.             model = Concert
413. 
414.             def get_formset(self, request, obj=None, **kwargs):
415.                 kwargs["exclude"] = ["opening_band"]
416.                 return super().get_formset(request, obj, **kwargs)
417. 
418.         class BandAdmin(ModelAdmin):
419.             inlines = [ConcertInline]
420. 
421.         ma = BandAdmin(Band, self.site)
422.         self.assertEqual(
423.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
424.             ["main_band", "day", "transport", "id", "DELETE"],
425.         )
426. 
427.     def test_formset_overriding_get_exclude_with_form_fields(self):
428.         class AdminConcertForm(forms.ModelForm):
429.             class Meta:
430.                 model = Concert
431.                 fields = ["main_band", "opening_band", "day", "transport"]
432. 
433.         class ConcertInline(TabularInline):
434.             form = AdminConcertForm
435.             fk_name = "main_band"
436.             model = Concert
437. 
438.             def get_exclude(self, request, obj=None):
439.                 return ["opening_band"]
440. 
441.         class BandAdmin(ModelAdmin):
442.             inlines = [ConcertInline]
443. 
444.         ma = BandAdmin(Band, self.site)
445.         self.assertEqual(
446.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
447.             ["main_band", "day", "transport", "id", "DELETE"],
448.         )
449. 
450.     def test_formset_overriding_get_exclude_with_form_exclude(self):
451.         class AdminConcertForm(forms.ModelForm):
452.             class Meta:
453.                 model = Concert
454.                 exclude = ["day"]
455. 
456.         class ConcertInline(TabularInline):
457.             form = AdminConcertForm
458.             fk_name = "main_band"
459.             model = Concert
460. 
461.             def get_exclude(self, request, obj=None):
462.                 return ["opening_band"]
463. 
464.         class BandAdmin(ModelAdmin):
465.             inlines = [ConcertInline]
466. 
467.         ma = BandAdmin(Band, self.site)
468.         self.assertEqual(
469.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
470.             ["main_band", "day", "transport", "id", "DELETE"],
471.         )
472. 
473.     def test_raw_id_fields_widget_override(self):
474.         """
475.         The autocomplete_fields, raw_id_fields, and radio_fields widgets may
476.         overridden by specifying a widget in get_formset().
477.         """
478. 
479.         class ConcertInline(TabularInline):
480.             model = Concert
481.             fk_name = "main_band"
482.             raw_id_fields = ("opening_band",)
483. 
484.             def get_formset(self, request, obj=None, **kwargs):
485.                 kwargs["widgets"] = {"opening_band": Select}
486.                 return super().get_formset(request, obj, **kwargs)
487. 
488.         class BandAdmin(ModelAdmin):
489.             inlines = [ConcertInline]
490. 
491.         ma = BandAdmin(Band, self.site)
492.         band_widget = (
493.             list(ma.get_formsets_with_inlines(request))[0][0]()
494.             .forms[0]
495.             .fields["opening_band"]
496.             .widget
497.         )
498.         # Without the override this would be ForeignKeyRawIdWidget.
499.         self.assertIsInstance(band_widget, Select)
500.


File: tests/modeladmin/tests.py
Line number range: 501 - 1001
Content:
501.     def test_queryset_override(self):
502.         # If the queryset of a ModelChoiceField in a custom form is overridden,
503.         # RelatedFieldWidgetWrapper doesn't mess that up.
504.         band2 = Band.objects.create(
505.             name="The Beatles", bio="", sign_date=date(1962, 1, 1)
506.         )
507. 
508.         ma = ModelAdmin(Concert, self.site)
509.         form = ma.get_form(request)()
510. 
511.         self.assertHTMLEqual(
512.             str(form["main_band"]),
513.             '<div class="related-widget-wrapper" data-model-ref="band">'
514.             '<select name="main_band" id="id_main_band" required>'
515.             '<option value="" selected>---------</option>'
516.             '<option value="%d">The Beatles</option>'
517.             '<option value="%d">The Doors</option>'
518.             "</select></div>" % (band2.id, self.band.id),
519.         )
520. 
521.         class AdminConcertForm(forms.ModelForm):
522.             def __init__(self, *args, **kwargs):
523.                 super().__init__(*args, **kwargs)
524.                 self.fields["main_band"].queryset = Band.objects.filter(
525.                     name="The Doors"
526.                 )
527. 
528.         class ConcertAdminWithForm(ModelAdmin):
529.             form = AdminConcertForm
530. 
531.         ma = ConcertAdminWithForm(Concert, self.site)
532.         form = ma.get_form(request)()
533. 
534.         self.assertHTMLEqual(
535.             str(form["main_band"]),
536.             '<div class="related-widget-wrapper" data-model-ref="band">'
537.             '<select name="main_band" id="id_main_band" required>'
538.             '<option value="" selected>---------</option>'
539.             '<option value="%d">The Doors</option>'
540.             "</select></div>" % self.band.id,
541.         )
542. 
543.     def test_regression_for_ticket_15820(self):
544.         """
545.         `obj` is passed from `InlineModelAdmin.get_fieldsets()` to
546.         `InlineModelAdmin.get_formset()`.
547.         """
548. 
549.         class CustomConcertForm(forms.ModelForm):
550.             class Meta:
551.                 model = Concert
552.                 fields = ["day"]
553. 
554.         class ConcertInline(TabularInline):
555.             model = Concert
556.             fk_name = "main_band"
557. 
558.             def get_formset(self, request, obj=None, **kwargs):
559.                 if obj:
560.                     kwargs["form"] = CustomConcertForm
561.                 return super().get_formset(request, obj, **kwargs)
562. 
563.         class BandAdmin(ModelAdmin):
564.             inlines = [ConcertInline]
565. 
566.         Concert.objects.create(main_band=self.band, opening_band=self.band, day=1)
567.         ma = BandAdmin(Band, self.site)
568.         inline_instances = ma.get_inline_instances(request)
569.         fieldsets = list(inline_instances[0].get_fieldsets(request))
570.         self.assertEqual(
571.             fieldsets[0][1]["fields"], ["main_band", "opening_band", "day", "transport"]
572.         )
573.         fieldsets = list(
574.             inline_instances[0].get_fieldsets(request, inline_instances[0].model)
575.         )
576.         self.assertEqual(fieldsets[0][1]["fields"], ["day"])
577. 
578.     # radio_fields behavior ###########################################
579. 
580.     def test_default_foreign_key_widget(self):
581.         # First, without any radio_fields specified, the widgets for ForeignKey
582.         # and fields with choices specified ought to be a basic Select widget.
583.         # ForeignKey widgets in the admin are wrapped with RelatedFieldWidgetWrapper so
584.         # they need to be handled properly when type checking. For Select fields, all of
585.         # the choices lists have a first entry of dashes.
586.         cma = ModelAdmin(Concert, self.site)
587.         cmafa = cma.get_form(request)
588. 
589.         self.assertEqual(type(cmafa.base_fields["main_band"].widget.widget), Select)
590.         self.assertEqual(
591.             list(cmafa.base_fields["main_band"].widget.choices),
592.             [("", "---------"), (self.band.id, "The Doors")],
593.         )
594. 
595.         self.assertEqual(type(cmafa.base_fields["opening_band"].widget.widget), Select)
596.         self.assertEqual(
597.             list(cmafa.base_fields["opening_band"].widget.choices),
598.             [("", "---------"), (self.band.id, "The Doors")],
599.         )
600.         self.assertEqual(type(cmafa.base_fields["day"].widget), Select)
601.         self.assertEqual(
602.             list(cmafa.base_fields["day"].widget.choices),
603.             [("", "---------"), (1, "Fri"), (2, "Sat")],
604.         )
605.         self.assertEqual(type(cmafa.base_fields["transport"].widget), Select)
606.         self.assertEqual(
607.             list(cmafa.base_fields["transport"].widget.choices),
608.             [("", "---------"), (1, "Plane"), (2, "Train"), (3, "Bus")],
609.         )
610. 
611.     def test_foreign_key_as_radio_field(self):
612.         # Now specify all the fields as radio_fields.  Widgets should now be
613.         # RadioSelect, and the choices list should have a first entry of 'None' if
614.         # blank=True for the model field.  Finally, the widget should have the
615.         # 'radiolist' attr, and 'inline' as well if the field is specified HORIZONTAL.
616.         class ConcertAdmin(ModelAdmin):
617.             radio_fields = {
618.                 "main_band": HORIZONTAL,
619.                 "opening_band": VERTICAL,
620.                 "day": VERTICAL,
621.                 "transport": HORIZONTAL,
622.             }
623. 
624.         cma = ConcertAdmin(Concert, self.site)
625.         cmafa = cma.get_form(request)
626. 
627.         self.assertEqual(
628.             type(cmafa.base_fields["main_band"].widget.widget), AdminRadioSelect
629.         )
630.         self.assertEqual(
631.             cmafa.base_fields["main_band"].widget.attrs, {"class": "radiolist inline"}
632.         )
633.         self.assertEqual(
634.             list(cmafa.base_fields["main_band"].widget.choices),
635.             [(self.band.id, "The Doors")],
636.         )
637. 
638.         self.assertEqual(
639.             type(cmafa.base_fields["opening_band"].widget.widget), AdminRadioSelect
640.         )
641.         self.assertEqual(
642.             cmafa.base_fields["opening_band"].widget.attrs, {"class": "radiolist"}
643.         )
644.         self.assertEqual(
645.             list(cmafa.base_fields["opening_band"].widget.choices),
646.             [("", "None"), (self.band.id, "The Doors")],
647.         )
648.         self.assertEqual(type(cmafa.base_fields["day"].widget), AdminRadioSelect)
649.         self.assertEqual(cmafa.base_fields["day"].widget.attrs, {"class": "radiolist"})
650.         self.assertEqual(
651.             list(cmafa.base_fields["day"].widget.choices), [(1, "Fri"), (2, "Sat")]
652.         )
653. 
654.         self.assertEqual(type(cmafa.base_fields["transport"].widget), AdminRadioSelect)
655.         self.assertEqual(
656.             cmafa.base_fields["transport"].widget.attrs, {"class": "radiolist inline"}
657.         )
658.         self.assertEqual(
659.             list(cmafa.base_fields["transport"].widget.choices),
660.             [("", "None"), (1, "Plane"), (2, "Train"), (3, "Bus")],
661.         )
662. 
663.         class AdminConcertForm(forms.ModelForm):
664.             class Meta:
665.                 model = Concert
666.                 exclude = ("transport",)
667. 
668.         class ConcertAdmin(ModelAdmin):
669.             form = AdminConcertForm
670. 
671.         ma = ConcertAdmin(Concert, self.site)
672.         self.assertEqual(
673.             list(ma.get_form(request).base_fields), ["main_band", "opening_band", "day"]
674.         )
675. 
676.         class AdminConcertForm(forms.ModelForm):
677.             extra = forms.CharField()
678. 
679.             class Meta:
680.                 model = Concert
681.                 fields = ["extra", "transport"]
682. 
683.         class ConcertAdmin(ModelAdmin):
684.             form = AdminConcertForm
685. 
686.         ma = ConcertAdmin(Concert, self.site)
687.         self.assertEqual(list(ma.get_form(request).base_fields), ["extra", "transport"])
688. 
689.         class ConcertInline(TabularInline):
690.             form = AdminConcertForm
691.             model = Concert
692.             fk_name = "main_band"
693.             can_delete = True
694. 
695.         class BandAdmin(ModelAdmin):
696.             inlines = [ConcertInline]
697. 
698.         ma = BandAdmin(Band, self.site)
699.         self.assertEqual(
700.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
701.             ["extra", "transport", "id", "DELETE", "main_band"],
702.         )
703. 
704.     def test_log_actions(self):
705.         ma = ModelAdmin(Band, self.site)
706.         mock_request = MockRequest()
707.         mock_request.user = User.objects.create(username="bill")
708.         content_type = get_content_type_for_model(self.band)
709.         tests = (
710.             (ma.log_addition, ADDITION, {"added": {}}),
711.             (ma.log_change, CHANGE, {"changed": {"fields": ["name", "bio"]}}),
712.             (ma.log_deletion, DELETION, str(self.band)),
713.         )
714.         for method, flag, message in tests:
715.             with self.subTest(name=method.__name__):
716.                 created = method(mock_request, self.band, message)
717.                 fetched = LogEntry.objects.filter(action_flag=flag).latest("id")
718.                 self.assertEqual(created, fetched)
719.                 self.assertEqual(fetched.action_flag, flag)
720.                 self.assertEqual(fetched.content_type, content_type)
721.                 self.assertEqual(fetched.object_id, str(self.band.pk))
722.                 self.assertEqual(fetched.user, mock_request.user)
723.                 if flag == DELETION:
724.                     self.assertEqual(fetched.change_message, "")
725.                     self.assertEqual(fetched.object_repr, message)
726.                 else:
727.                     self.assertEqual(fetched.change_message, str(message))
728.                     self.assertEqual(fetched.object_repr, str(self.band))
729. 
730.     def test_get_autocomplete_fields(self):
731.         class NameAdmin(ModelAdmin):
732.             search_fields = ["name"]
733. 
734.         class SongAdmin(ModelAdmin):
735.             autocomplete_fields = ["featuring"]
736.             fields = ["featuring", "band"]
737. 
738.         class OtherSongAdmin(SongAdmin):
739.             def get_autocomplete_fields(self, request):
740.                 return ["band"]
741. 
742.         self.site.register(Band, NameAdmin)
743.         try:
744.             # Uses autocomplete_fields if not overridden.
745.             model_admin = SongAdmin(Song, self.site)
746.             form = model_admin.get_form(request)()
747.             self.assertIsInstance(
748.                 form.fields["featuring"].widget.widget, AutocompleteSelectMultiple
749.             )
750.             # Uses overridden get_autocomplete_fields
751.             model_admin = OtherSongAdmin(Song, self.site)
752.             form = model_admin.get_form(request)()
753.             self.assertIsInstance(form.fields["band"].widget.widget, AutocompleteSelect)
754.         finally:
755.             self.site.unregister(Band)
756. 
757.     def test_get_deleted_objects(self):
758.         mock_request = MockRequest()
759.         mock_request.user = User.objects.create_superuser(
760.             username="bob", email="bob@test.com", password="test"
761.         )
762.         self.site.register(Band, ModelAdmin)
763.         ma = self.site._registry[Band]
764.         (
765.             deletable_objects,
766.             model_count,
767.             perms_needed,
768.             protected,
769.         ) = ma.get_deleted_objects([self.band], request)
770.         self.assertEqual(deletable_objects, ["Band: The Doors"])
771.         self.assertEqual(model_count, {"bands": 1})
772.         self.assertEqual(perms_needed, set())
773.         self.assertEqual(protected, [])
774. 
775.     def test_get_deleted_objects_with_custom_has_delete_permission(self):
776.         """
777.         ModelAdmin.get_deleted_objects() uses ModelAdmin.has_delete_permission()
778.         for permissions checking.
779.         """
780.         mock_request = MockRequest()
781.         mock_request.user = User.objects.create_superuser(
782.             username="bob", email="bob@test.com", password="test"
783.         )
784. 
785.         class TestModelAdmin(ModelAdmin):
786.             def has_delete_permission(self, request, obj=None):
787.                 return False
788. 
789.         self.site.register(Band, TestModelAdmin)
790.         ma = self.site._registry[Band]
791.         (
792.             deletable_objects,
793.             model_count,
794.             perms_needed,
795.             protected,
796.         ) = ma.get_deleted_objects([self.band], request)
797.         self.assertEqual(deletable_objects, ["Band: The Doors"])
798.         self.assertEqual(model_count, {"bands": 1})
799.         self.assertEqual(perms_needed, {"band"})
800.         self.assertEqual(protected, [])
801. 
802.     def test_modeladmin_repr(self):
803.         ma = ModelAdmin(Band, self.site)
804.         self.assertEqual(
805.             repr(ma),
806.             "<ModelAdmin: model=Band site=AdminSite(name='admin')>",
807.         )
808. 
809. 
810. class ModelAdminPermissionTests(SimpleTestCase):
811.     class MockUser:
812.         def has_module_perms(self, app_label):
813.             return app_label == "modeladmin"
814. 
815.     class MockViewUser(MockUser):
816.         def has_perm(self, perm, obj=None):
817.             return perm == "modeladmin.view_band"
818. 
819.     class MockAddUser(MockUser):
820.         def has_perm(self, perm, obj=None):
821.             return perm == "modeladmin.add_band"
822. 
823.     class MockChangeUser(MockUser):
824.         def has_perm(self, perm, obj=None):
825.             return perm == "modeladmin.change_band"
826. 
827.     class MockDeleteUser(MockUser):
828.         def has_perm(self, perm, obj=None):
829.             return perm == "modeladmin.delete_band"
830. 
831.     def test_has_view_permission(self):
832.         """
833.         has_view_permission() returns True for users who can view objects and
834.         False for users who can't.
835.         """
836.         ma = ModelAdmin(Band, AdminSite())
837.         request = MockRequest()
838.         request.user = self.MockViewUser()
839.         self.assertIs(ma.has_view_permission(request), True)
840.         request.user = self.MockAddUser()
841.         self.assertIs(ma.has_view_permission(request), False)
842.         request.user = self.MockChangeUser()
843.         self.assertIs(ma.has_view_permission(request), True)
844.         request.user = self.MockDeleteUser()
845.         self.assertIs(ma.has_view_permission(request), False)
846. 
847.     def test_has_add_permission(self):
848.         """
849.         has_add_permission returns True for users who can add objects and
850.         False for users who can't.
851.         """
852.         ma = ModelAdmin(Band, AdminSite())
853.         request = MockRequest()
854.         request.user = self.MockViewUser()
855.         self.assertFalse(ma.has_add_permission(request))
856.         request.user = self.MockAddUser()
857.         self.assertTrue(ma.has_add_permission(request))
858.         request.user = self.MockChangeUser()
859.         self.assertFalse(ma.has_add_permission(request))
860.         request.user = self.MockDeleteUser()
861.         self.assertFalse(ma.has_add_permission(request))
862. 
863.     def test_inline_has_add_permission_uses_obj(self):
864.         class ConcertInline(TabularInline):
865.             model = Concert
866. 
867.             def has_add_permission(self, request, obj):
868.                 return bool(obj)
869. 
870.         class BandAdmin(ModelAdmin):
871.             inlines = [ConcertInline]
872. 
873.         ma = BandAdmin(Band, AdminSite())
874.         request = MockRequest()
875.         request.user = self.MockAddUser()
876.         self.assertEqual(ma.get_inline_instances(request), [])
877.         band = Band(name="The Doors", bio="", sign_date=date(1965, 1, 1))
878.         inline_instances = ma.get_inline_instances(request, band)
879.         self.assertEqual(len(inline_instances), 1)
880.         self.assertIsInstance(inline_instances[0], ConcertInline)
881. 
882.     def test_has_change_permission(self):
883.         """
884.         has_change_permission returns True for users who can edit objects and
885.         False for users who can't.
886.         """
887.         ma = ModelAdmin(Band, AdminSite())
888.         request = MockRequest()
889.         request.user = self.MockViewUser()
890.         self.assertIs(ma.has_change_permission(request), False)
891.         request.user = self.MockAddUser()
892.         self.assertFalse(ma.has_change_permission(request))
893.         request.user = self.MockChangeUser()
894.         self.assertTrue(ma.has_change_permission(request))
895.         request.user = self.MockDeleteUser()
896.         self.assertFalse(ma.has_change_permission(request))
897. 
898.     def test_has_delete_permission(self):
899.         """
900.         has_delete_permission returns True for users who can delete objects and
901.         False for users who can't.
902.         """
903.         ma = ModelAdmin(Band, AdminSite())
904.         request = MockRequest()
905.         request.user = self.MockViewUser()
906.         self.assertIs(ma.has_delete_permission(request), False)
907.         request.user = self.MockAddUser()
908.         self.assertFalse(ma.has_delete_permission(request))
909.         request.user = self.MockChangeUser()
910.         self.assertFalse(ma.has_delete_permission(request))
911.         request.user = self.MockDeleteUser()
912.         self.assertTrue(ma.has_delete_permission(request))
913. 
914.     def test_has_module_permission(self):
915.         """
916.         as_module_permission returns True for users who have any permission
917.         for the module and False for users who don't.
918.         """
919.         ma = ModelAdmin(Band, AdminSite())
920.         request = MockRequest()
921.         request.user = self.MockViewUser()
922.         self.assertIs(ma.has_module_permission(request), True)
923.         request.user = self.MockAddUser()
924.         self.assertTrue(ma.has_module_permission(request))
925.         request.user = self.MockChangeUser()
926.         self.assertTrue(ma.has_module_permission(request))
927.         request.user = self.MockDeleteUser()
928.         self.assertTrue(ma.has_module_permission(request))
929. 
930.         original_app_label = ma.opts.app_label
931.         ma.opts.app_label = "anotherapp"
932.         try:
933.             request.user = self.MockViewUser()
934.             self.assertIs(ma.has_module_permission(request), False)
935.             request.user = self.MockAddUser()
936.             self.assertFalse(ma.has_module_permission(request))
937.             request.user = self.MockChangeUser()
938.             self.assertFalse(ma.has_module_permission(request))
939.             request.user = self.MockDeleteUser()
940.             self.assertFalse(ma.has_module_permission(request))
941.         finally:
942.             ma.opts.app_label = original_app_label

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:50:19,339 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query asks for the full content of 'tests/modeladmin/tests.py'.\n   - This context is a part of the requested file.\n2. Extended relevance:\n   - This context provides the first 500 lines of the file, which is essential for fulfilling the user's primary request.", relative_path='tests/modeladmin/tests.py', start_line=1, end_line=500), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's query asks for the full content of 'tests/modeladmin/tests.py'.\n   - This context is a continuation of the requested file's content.\n2. Extended relevance:\n   - This context provides lines 501 to 942 of the file, which is essential for fulfilling the user's primary request to get as much of the file content as possible.", relative_path='tests/modeladmin/tests.py', start_line=501, end_line=942), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's extra requirement is to find tests related to the `save_as` option on `ModelAdmin`.\n   - This context contains `test_edit_save_as` and `test_edit_save_as_delete_inline`.\n2. Extended relevance:\n   - These tests directly check the functionality of the 'Save as new' button, which is precisely what the user needs to understand for their bug investigation, as stated in their purpose.", relative_path='tests/admin_views/tests.py', start_line=412, end_line=452)]
2025-12-23 04:50:19,344 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 3 contexts to memory for query: Please provide the full content of tests/modeladmin/tests.py.
2025-12-23 04:50:19,344 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:50:19,344 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:50:19,345 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 3 new contexts to 3 existing contexts
2025-12-23 04:50:19,345 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 5 total contexts (removed 1 duplicates)
2025-12-23 04:50:19,346 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── benchmark.yml
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       ├── schedule_tests.yml
|       ├── schedules.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ckb
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   └── options.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── filesystem.py
|   |   |   |   ├── handler.py
|   |   |   |   ├── memory.py
|   |   |   |   └── mixins.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── optimizemigration.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── psycopg_any.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── csrf.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.27.txt
|   |   ├── 2.2.28.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.12.txt
|   |   ├── 3.2.13.txt
|   |   ├── 3.2.14.txt
|   |   ├── 3.2.15.txt
|   |   ├── 3.2.16.txt
|   |   ├── 3.2.17.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.3.txt
|   |   ├── 4.0.4.txt
|   |   ├── 4.0.5.txt
|   |   ├── 4.0.6.txt
|   |   ├── 4.0.7.txt
|   |   ├── 4.0.8.txt
|   |   ├── 4.0.9.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.1.txt
|   |   ├── 4.1.2.txt
|   |   ├── 4.1.3.txt
|   |   ├── 4.1.4.txt
|   |   ├── 4.1.5.txt
|   |   ├── 4.1.6.txt
|   |   ├── 4.1.7.txt
|   |   ├── 4.1.txt
|   |   ├── 4.2.txt
|   |   ├── 5.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── fixtures.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_breadcrumbs.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_skip_link_to_content.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_async_model_methods.py
    |   ├── test_async_queryset.py
    |   ├── test_async_related_managers.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   ├── with_many_to_many.py
    |   |   └── with_unique_constraint.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_migrations.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   ├── test_storages.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── test_inmemory_storage.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       ├── legend_test.html
    |   |       └── use_fieldset.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_noop
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_no_replaces
    |   |   ├── 0001_squashed_0002.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests_tests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: "show_save_as_new" in admin can add without this permission

Description: Description
	 
		(last modified by Mariusz Felisiak)
	 
At "django/contrib/admin/templatetags/admin_modify.py" file, line 102, I think you must put one more verification for this tag: "and has_add_permission", because "save_as_new" is a add modification.
I rewrite this for my project:
			"show_save_as_new": not is_popup
			and has_add_permission # This line that I put!!!
			and has_change_permission
			and change
			and save_as,

Patch information:
diff --git a/django/contrib/admin/templatetags/admin_modify.py b/django/contrib/admin/templatetags/admin_modify.py
index 9df4b7aadb..5b742af46a 100644
--- a/django/contrib/admin/templatetags/admin_modify.py
+++ b/django/contrib/admin/templatetags/admin_modify.py
@@ -100,6 +100,7 @@ def submit_row(context):
                 and context.get("show_delete", True)
             ),
             "show_save_as_new": not is_popup
+            and has_add_permission
             and has_change_permission
             and change
             and save_as,


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/admin_views/test_templatetags.py`, `tests/admin_views/tests.py`, and `tests/modeladmin/tests.py`.
Extra Requirements: If sending the full files is not possible, please provide tests related to `submit_row`, `has_add_permission`, and admin change form rendering.
Purpose: I need to find existing test cases that verify admin button visibility based on user permissions to address the reported bug.

Previous refined query 2:
Essential Query: Please provide the full content of tests/modeladmin/tests.py.
Extra Requirements: If sending the full file is too large, please include any tests that check the functionality of the `save_as` option on `ModelAdmin`.
Purpose: I need to find tests related to the `save_as` option to understand how its behavior is tested, which is essential for finding test cases relevant to the reported bug about the 'Save as new' button.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/admin_views/test_templatetags.py
Line number range: 1 - 201
Content:
1. import datetime
2. 
3. from django.contrib.admin import ModelAdmin
4. from django.contrib.admin.templatetags.admin_list import date_hierarchy
5. from django.contrib.admin.templatetags.admin_modify import submit_row
6. from django.contrib.auth.admin import UserAdmin
7. from django.contrib.auth.models import User
8. from django.test import RequestFactory, TestCase
9. from django.urls import reverse
10. 
11. from .admin import ArticleAdmin, site
12. from .models import Article, Question
13. from .tests import AdminViewBasicTestCase
14. 
15. 
16. class AdminTemplateTagsTest(AdminViewBasicTestCase):
17.     request_factory = RequestFactory()
18. 
19.     def test_submit_row(self):
20.         """
21.         submit_row template tag should pass whole context.
22.         """
23.         request = self.request_factory.get(
24.             reverse("admin:auth_user_change", args=[self.superuser.pk])
25.         )
26.         request.user = self.superuser
27.         admin = UserAdmin(User, site)
28.         extra_context = {"extra": True}
29.         response = admin.change_view(
30.             request, str(self.superuser.pk), extra_context=extra_context
31.         )
32.         template_context = submit_row(response.context_data)
33.         self.assertIs(template_context["extra"], True)
34.         self.assertIs(template_context["show_save"], True)
35. 
36.     def test_override_show_save_and_add_another(self):
37.         request = self.request_factory.get(
38.             reverse("admin:auth_user_change", args=[self.superuser.pk]),
39.         )
40.         request.user = self.superuser
41.         admin = UserAdmin(User, site)
42.         for extra_context, expected_flag in (
43.             ({}, True),  # Default.
44.             ({"show_save_and_add_another": False}, False),
45.         ):
46.             with self.subTest(show_save_and_add_another=expected_flag):
47.                 response = admin.change_view(
48.                     request,
49.                     str(self.superuser.pk),
50.                     extra_context=extra_context,
51.                 )
52.                 template_context = submit_row(response.context_data)
53.                 self.assertIs(
54.                     template_context["show_save_and_add_another"], expected_flag
55.                 )
56. 
57.     def test_override_change_form_template_tags(self):
58.         """
59.         admin_modify template tags follow the standard search pattern
60.         admin/app_label/model/template.html.
61.         """
62.         article = Article.objects.all()[0]
63.         request = self.request_factory.get(
64.             reverse("admin:admin_views_article_change", args=[article.pk])
65.         )
66.         request.user = self.superuser
67.         admin = ArticleAdmin(Article, site)
68.         extra_context = {"show_publish": True, "extra": True}
69.         response = admin.change_view(
70.             request, str(article.pk), extra_context=extra_context
71.         )
72.         response.render()
73.         self.assertIs(response.context_data["show_publish"], True)
74.         self.assertIs(response.context_data["extra"], True)
75.         self.assertContains(response, 'name="_save"')
76.         self.assertContains(response, 'name="_publish"')
77.         self.assertContains(response, "override-change_form_object_tools")
78.         self.assertContains(response, "override-prepopulated_fields_js")
79. 
80.     def test_override_change_list_template_tags(self):
81.         """
82.         admin_list template tags follow the standard search pattern
83.         admin/app_label/model/template.html.
84.         """
85.         request = self.request_factory.get(
86.             reverse("admin:admin_views_article_changelist")
87.         )
88.         request.user = self.superuser
89.         admin = ArticleAdmin(Article, site)
90.         admin.date_hierarchy = "date"
91.         admin.search_fields = ("title", "content")
92.         response = admin.changelist_view(request)
93.         response.render()
94.         self.assertContains(response, "override-actions")
95.         self.assertContains(response, "override-change_list_object_tools")
96.         self.assertContains(response, "override-change_list_results")
97.         self.assertContains(response, "override-date_hierarchy")
98.         self.assertContains(response, "override-pagination")
99.         self.assertContains(response, "override-search_form")
100. 
101. 
102. class DateHierarchyTests(TestCase):
103.     factory = RequestFactory()
104. 
105.     @classmethod
106.     def setUpTestData(cls):
107.         cls.superuser = User.objects.create_superuser(
108.             username="super", password="secret", email="super@example.com"
109.         )
110. 
111.     def test_choice_links(self):
112.         modeladmin = ModelAdmin(Question, site)
113.         modeladmin.date_hierarchy = "posted"
114. 
115.         posted_dates = (
116.             datetime.date(2017, 10, 1),
117.             datetime.date(2017, 10, 1),
118.             datetime.date(2017, 12, 15),
119.             datetime.date(2017, 12, 15),
120.             datetime.date(2017, 12, 31),
121.             datetime.date(2018, 2, 1),
122.         )
123.         Question.objects.bulk_create(
124.             Question(question="q", posted=posted) for posted in posted_dates
125.         )
126. 
127.         tests = (
128.             ({}, [["year=2017"], ["year=2018"]]),
129.             ({"year": 2016}, []),
130.             ({"year": 2017}, [["month=10", "year=2017"], ["month=12", "year=2017"]]),
131.             ({"year": 2017, "month": 9}, []),
132.             (
133.                 {"year": 2017, "month": 12},
134.                 [
135.                     ["day=15", "month=12", "year=2017"],
136.                     ["day=31", "month=12", "year=2017"],
137.                 ],
138.             ),
139.         )
140.         for query, expected_choices in tests:
141.             with self.subTest(query=query):
142.                 query = {"posted__%s" % q: val for q, val in query.items()}
143.                 request = self.factory.get("/", query)
144.                 request.user = self.superuser
145.                 changelist = modeladmin.get_changelist_instance(request)
146.                 spec = date_hierarchy(changelist)
147.                 choices = [choice["link"] for choice in spec["choices"]]
148.                 expected_choices = [
149.                     "&".join("posted__%s" % c for c in choice)
150.                     for choice in expected_choices
151.                 ]
152.                 expected_choices = [
153.                     ("?" + choice) if choice else "" for choice in expected_choices
154.                 ]
155.                 self.assertEqual(choices, expected_choices)
156. 
157.     def test_choice_links_datetime(self):
158.         modeladmin = ModelAdmin(Question, site)
159.         modeladmin.date_hierarchy = "expires"
160.         Question.objects.bulk_create(
161.             [
162.                 Question(question="q1", expires=datetime.datetime(2017, 10, 1)),
163.                 Question(question="q2", expires=datetime.datetime(2017, 10, 1)),
164.                 Question(question="q3", expires=datetime.datetime(2017, 12, 15)),
165.                 Question(question="q4", expires=datetime.datetime(2017, 12, 15)),
166.                 Question(question="q5", expires=datetime.datetime(2017, 12, 31)),
167.                 Question(question="q6", expires=datetime.datetime(2018, 2, 1)),
168.             ]
169.         )
170.         tests = [
171.             ({}, [["year=2017"], ["year=2018"]]),
172.             ({"year": 2016}, []),
173.             (
174.                 {"year": 2017},
175.                 [
176.                     ["month=10", "year=2017"],
177.                     ["month=12", "year=2017"],
178.                 ],
179.             ),
180.             ({"year": 2017, "month": 9}, []),
181.             (
182.                 {"year": 2017, "month": 12},
183.                 [
184.                     ["day=15", "month=12", "year=2017"],
185.                     ["day=31", "month=12", "year=2017"],
186.                 ],
187.             ),
188.         ]
189.         for query, expected_choices in tests:
190.             with self.subTest(query=query):
191.                 query = {"expires__%s" % q: val for q, val in query.items()}
192.                 request = self.factory.get("/", query)
193.                 request.user = self.superuser
194.                 changelist = modeladmin.get_changelist_instance(request)
195.                 spec = date_hierarchy(changelist)
196.                 choices = [choice["link"] for choice in spec["choices"]]
197.                 expected_choices = [
198.                     "?" + "&".join("expires__%s" % c for c in choice)
199.                     for choice in expected_choices
200.                 ]
201.                 self.assertEqual(choices, expected_choices)


File: tests/admin_views/tests.py
Line number range: 325 - 411
Content:
325.     def test_basic_edit_GET(self):
326.         """
327.         A smoke test to ensure GET on the change_view works.
328.         """
329.         response = self.client.get(
330.             reverse("admin:admin_views_section_change", args=(self.s1.pk,))
331.         )
332.         self.assertIsInstance(response, TemplateResponse)
333.         self.assertEqual(response.status_code, 200)
334. 
335.     def test_basic_edit_GET_string_PK(self):
336.         """
337.         GET on the change_view (when passing a string as the PK argument for a
338.         model with an integer PK field) redirects to the index page with a
339.         message saying the object doesn't exist.
340.         """
341.         response = self.client.get(
342.             reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
343.             follow=True,
344.         )
345.         self.assertRedirects(response, reverse("admin:index"))
346.         self.assertEqual(
347.             [m.message for m in response.context["messages"]],
348.             ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
349.         )
350. 
351.     def test_basic_edit_GET_old_url_redirect(self):
352.         """
353.         The change URL changed in Django 1.9, but the old one still redirects.
354.         """
355.         response = self.client.get(
356.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
357.                 "change/", ""
358.             )
359.         )
360.         self.assertRedirects(
361.             response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
362.         )
363. 
364.     def test_basic_inheritance_GET_string_PK(self):
365.         """
366.         GET on the change_view (for inherited models) redirects to the index
367.         page with a message saying the object doesn't exist.
368.         """
369.         response = self.client.get(
370.             reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
371.         )
372.         self.assertRedirects(response, reverse("admin:index"))
373.         self.assertEqual(
374.             [m.message for m in response.context["messages"]],
375.             ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
376.         )
377. 
378.     def test_basic_add_POST(self):
379.         """
380.         A smoke test to ensure POST on add_view works.
381.         """
382.         post_data = {
383.             "name": "Another Section",
384.             # inline data
385.             "article_set-TOTAL_FORMS": "3",
386.             "article_set-INITIAL_FORMS": "0",
387.             "article_set-MAX_NUM_FORMS": "0",
388.         }
389.         response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
390.         self.assertEqual(response.status_code, 302)  # redirect somewhere
391. 
392.     def test_popup_add_POST(self):
393.         """HTTP response from a popup is properly escaped."""
394.         post_data = {
395.             IS_POPUP_VAR: "1",
396.             "title": "title with a new\nline",
397.             "content": "some content",
398.             "date_0": "2010-09-10",
399.             "date_1": "14:55:39",
400.         }
401.         response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
402.         self.assertContains(response, "title with a new\\nline")
403. 
404.     def test_basic_edit_POST(self):
405.         """
406.         A smoke test to ensure POST on edit_view works.
407.         """
408.         url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
409.         response = self.client.post(url, self.inline_post_data)
410.         self.assertEqual(response.status_code, 302)  # redirect somewhere
411. 


File: tests/admin_views/tests.py
Line number range: 412 - 452
Content:
412.     def test_edit_save_as(self):
413.         """
414.         Test "save as".
415.         """
416.         post_data = self.inline_post_data.copy()
417.         post_data.update(
418.             {
419.                 "_saveasnew": "Save+as+new",
420.                 "article_set-1-section": "1",
421.                 "article_set-2-section": "1",
422.                 "article_set-3-section": "1",
423.                 "article_set-4-section": "1",
424.                 "article_set-5-section": "1",
425.             }
426.         )
427.         response = self.client.post(
428.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
429.         )
430.         self.assertEqual(response.status_code, 302)  # redirect somewhere
431. 
432.     def test_edit_save_as_delete_inline(self):
433.         """
434.         Should be able to "Save as new" while also deleting an inline.
435.         """
436.         post_data = self.inline_post_data.copy()
437.         post_data.update(
438.             {
439.                 "_saveasnew": "Save+as+new",
440.                 "article_set-1-section": "1",
441.                 "article_set-2-section": "1",
442.                 "article_set-2-DELETE": "1",
443.                 "article_set-3-section": "1",
444.             }
445.         )
446.         response = self.client.post(
447.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
448.         )
449.         self.assertEqual(response.status_code, 302)
450.         # started with 3 articles, one was deleted.
451.         self.assertEqual(Section.objects.latest("id").article_set.count(), 2)
452. 


File: tests/modeladmin/tests.py
Line number range: 1 - 500
Content:
1. from datetime import date
2. 
3. from django import forms
4. from django.contrib.admin.models import ADDITION, CHANGE, DELETION, LogEntry
5. from django.contrib.admin.options import (
6.     HORIZONTAL,
7.     VERTICAL,
8.     ModelAdmin,
9.     TabularInline,
10.     get_content_type_for_model,
11. )
12. from django.contrib.admin.sites import AdminSite
13. from django.contrib.admin.widgets import (
14.     AdminDateWidget,
15.     AdminRadioSelect,
16.     AutocompleteSelect,
17.     AutocompleteSelectMultiple,
18. )
19. from django.contrib.auth.models import User
20. from django.db import models
21. from django.forms.widgets import Select
22. from django.test import SimpleTestCase, TestCase
23. from django.test.utils import isolate_apps
24. 
25. from .models import Band, Concert, Song
26. 
27. 
28. class MockRequest:
29.     pass
30. 
31. 
32. class MockSuperUser:
33.     def has_perm(self, perm, obj=None):
34.         return True
35. 
36. 
37. request = MockRequest()
38. request.user = MockSuperUser()
39. 
40. 
41. class ModelAdminTests(TestCase):
42.     @classmethod
43.     def setUpTestData(cls):
44.         cls.band = Band.objects.create(
45.             name="The Doors",
46.             bio="",
47.             sign_date=date(1965, 1, 1),
48.         )
49. 
50.     def setUp(self):
51.         self.site = AdminSite()
52. 
53.     def test_modeladmin_str(self):
54.         ma = ModelAdmin(Band, self.site)
55.         self.assertEqual(str(ma), "modeladmin.ModelAdmin")
56. 
57.     def test_default_attributes(self):
58.         ma = ModelAdmin(Band, self.site)
59.         self.assertEqual(ma.actions, ())
60.         self.assertEqual(ma.inlines, ())
61. 
62.     # form/fields/fieldsets interaction ##############################
63. 
64.     def test_default_fields(self):
65.         ma = ModelAdmin(Band, self.site)
66.         self.assertEqual(
67.             list(ma.get_form(request).base_fields), ["name", "bio", "sign_date"]
68.         )
69.         self.assertEqual(list(ma.get_fields(request)), ["name", "bio", "sign_date"])
70.         self.assertEqual(
71.             list(ma.get_fields(request, self.band)), ["name", "bio", "sign_date"]
72.         )
73.         self.assertIsNone(ma.get_exclude(request, self.band))
74. 
75.     def test_default_fieldsets(self):
76.         # fieldsets_add and fieldsets_change should return a special data structure that
77.         # is used in the templates. They should generate the "right thing" whether we
78.         # have specified a custom form, the fields argument, or nothing at all.
79.         #
80.         # Here's the default case. There are no custom form_add/form_change methods,
81.         # no fields argument, and no fieldsets argument.
82.         ma = ModelAdmin(Band, self.site)
83.         self.assertEqual(
84.             ma.get_fieldsets(request),
85.             [(None, {"fields": ["name", "bio", "sign_date"]})],
86.         )
87.         self.assertEqual(
88.             ma.get_fieldsets(request, self.band),
89.             [(None, {"fields": ["name", "bio", "sign_date"]})],
90.         )
91. 
92.     def test_get_fieldsets(self):
93.         # get_fieldsets() is called when figuring out form fields (#18681).
94.         class BandAdmin(ModelAdmin):
95.             def get_fieldsets(self, request, obj=None):
96.                 return [(None, {"fields": ["name", "bio"]})]
97. 
98.         ma = BandAdmin(Band, self.site)
99.         form = ma.get_form(None)
100.         self.assertEqual(form._meta.fields, ["name", "bio"])
101. 
102.         class InlineBandAdmin(TabularInline):
103.             model = Concert
104.             fk_name = "main_band"
105.             can_delete = False
106. 
107.             def get_fieldsets(self, request, obj=None):
108.                 return [(None, {"fields": ["day", "transport"]})]
109. 
110.         ma = InlineBandAdmin(Band, self.site)
111.         form = ma.get_formset(None).form
112.         self.assertEqual(form._meta.fields, ["day", "transport"])
113. 
114.     def test_lookup_allowed_allows_nonexistent_lookup(self):
115.         """
116.         A lookup_allowed allows a parameter whose field lookup doesn't exist.
117.         (#21129).
118.         """
119. 
120.         class BandAdmin(ModelAdmin):
121.             fields = ["name"]
122. 
123.         ma = BandAdmin(Band, self.site)
124.         self.assertTrue(ma.lookup_allowed("name__nonexistent", "test_value"))
125. 
126.     @isolate_apps("modeladmin")
127.     def test_lookup_allowed_onetoone(self):
128.         class Department(models.Model):
129.             code = models.CharField(max_length=4, unique=True)
130. 
131.         class Employee(models.Model):
132.             department = models.ForeignKey(Department, models.CASCADE, to_field="code")
133. 
134.         class EmployeeProfile(models.Model):
135.             employee = models.OneToOneField(Employee, models.CASCADE)
136. 
137.         class EmployeeInfo(models.Model):
138.             employee = models.OneToOneField(Employee, models.CASCADE)
139.             description = models.CharField(max_length=100)
140. 
141.         class EmployeeProfileAdmin(ModelAdmin):
142.             list_filter = [
143.                 "employee__employeeinfo__description",
144.                 "employee__department__code",
145.             ]
146. 
147.         ma = EmployeeProfileAdmin(EmployeeProfile, self.site)
148.         # Reverse OneToOneField
149.         self.assertIs(
150.             ma.lookup_allowed("employee__employeeinfo__description", "test_value"), True
151.         )
152.         # OneToOneField and ForeignKey
153.         self.assertIs(
154.             ma.lookup_allowed("employee__department__code", "test_value"), True
155.         )
156. 
157.     def test_field_arguments(self):
158.         # If fields is specified, fieldsets_add and fieldsets_change should
159.         # just stick the fields into a formsets structure and return it.
160.         class BandAdmin(ModelAdmin):
161.             fields = ["name"]
162. 
163.         ma = BandAdmin(Band, self.site)
164. 
165.         self.assertEqual(list(ma.get_fields(request)), ["name"])
166.         self.assertEqual(list(ma.get_fields(request, self.band)), ["name"])
167.         self.assertEqual(ma.get_fieldsets(request), [(None, {"fields": ["name"]})])
168.         self.assertEqual(
169.             ma.get_fieldsets(request, self.band), [(None, {"fields": ["name"]})]
170.         )
171. 
172.     def test_field_arguments_restricted_on_form(self):
173.         # If fields or fieldsets is specified, it should exclude fields on the
174.         # Form class to the fields specified. This may cause errors to be
175.         # raised in the db layer if required model fields aren't in fields/
176.         # fieldsets, but that's preferable to ghost errors where a field in the
177.         # Form class isn't being displayed because it's not in fields/fieldsets.
178. 
179.         # Using `fields`.
180.         class BandAdmin(ModelAdmin):
181.             fields = ["name"]
182. 
183.         ma = BandAdmin(Band, self.site)
184.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
185.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
186. 
187.         # Using `fieldsets`.
188.         class BandAdmin(ModelAdmin):
189.             fieldsets = [(None, {"fields": ["name"]})]
190. 
191.         ma = BandAdmin(Band, self.site)
192.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
193.         self.assertEqual(list(ma.get_form(request, self.band).base_fields), ["name"])
194. 
195.         # Using `exclude`.
196.         class BandAdmin(ModelAdmin):
197.             exclude = ["bio"]
198. 
199.         ma = BandAdmin(Band, self.site)
200.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
201. 
202.         # You can also pass a tuple to `exclude`.
203.         class BandAdmin(ModelAdmin):
204.             exclude = ("bio",)
205. 
206.         ma = BandAdmin(Band, self.site)
207.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
208. 
209.         # Using `fields` and `exclude`.
210.         class BandAdmin(ModelAdmin):
211.             fields = ["name", "bio"]
212.             exclude = ["bio"]
213. 
214.         ma = BandAdmin(Band, self.site)
215.         self.assertEqual(list(ma.get_form(request).base_fields), ["name"])
216. 
217.     def test_custom_form_meta_exclude_with_readonly(self):
218.         """
219.         The custom ModelForm's `Meta.exclude` is respected when used in
220.         conjunction with `ModelAdmin.readonly_fields` and when no
221.         `ModelAdmin.exclude` is defined (#14496).
222.         """
223. 
224.         # With ModelAdmin
225.         class AdminBandForm(forms.ModelForm):
226.             class Meta:
227.                 model = Band
228.                 exclude = ["bio"]
229. 
230.         class BandAdmin(ModelAdmin):
231.             readonly_fields = ["name"]
232.             form = AdminBandForm
233. 
234.         ma = BandAdmin(Band, self.site)
235.         self.assertEqual(list(ma.get_form(request).base_fields), ["sign_date"])
236. 
237.         # With InlineModelAdmin
238.         class AdminConcertForm(forms.ModelForm):
239.             class Meta:
240.                 model = Concert
241.                 exclude = ["day"]
242. 
243.         class ConcertInline(TabularInline):
244.             readonly_fields = ["transport"]
245.             form = AdminConcertForm
246.             fk_name = "main_band"
247.             model = Concert
248. 
249.         class BandAdmin(ModelAdmin):
250.             inlines = [ConcertInline]
251. 
252.         ma = BandAdmin(Band, self.site)
253.         self.assertEqual(
254.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
255.             ["main_band", "opening_band", "id", "DELETE"],
256.         )
257. 
258.     def test_custom_formfield_override_readonly(self):
259.         class AdminBandForm(forms.ModelForm):
260.             name = forms.CharField()
261. 
262.             class Meta:
263.                 exclude = ()
264.                 model = Band
265. 
266.         class BandAdmin(ModelAdmin):
267.             form = AdminBandForm
268.             readonly_fields = ["name"]
269. 
270.         ma = BandAdmin(Band, self.site)
271. 
272.         # `name` shouldn't appear in base_fields because it's part of
273.         # readonly_fields.
274.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
275.         # But it should appear in get_fields()/fieldsets() so it can be
276.         # displayed as read-only.
277.         self.assertEqual(list(ma.get_fields(request)), ["bio", "sign_date", "name"])
278.         self.assertEqual(
279.             list(ma.get_fieldsets(request)),
280.             [(None, {"fields": ["bio", "sign_date", "name"]})],
281.         )
282. 
283.     def test_custom_form_meta_exclude(self):
284.         """
285.         The custom ModelForm's `Meta.exclude` is overridden if
286.         `ModelAdmin.exclude` or `InlineModelAdmin.exclude` are defined (#14496).
287.         """
288. 
289.         # With ModelAdmin
290.         class AdminBandForm(forms.ModelForm):
291.             class Meta:
292.                 model = Band
293.                 exclude = ["bio"]
294. 
295.         class BandAdmin(ModelAdmin):
296.             exclude = ["name"]
297.             form = AdminBandForm
298. 
299.         ma = BandAdmin(Band, self.site)
300.         self.assertEqual(list(ma.get_form(request).base_fields), ["bio", "sign_date"])
301. 
302.         # With InlineModelAdmin
303.         class AdminConcertForm(forms.ModelForm):
304.             class Meta:
305.                 model = Concert
306.                 exclude = ["day"]
307. 
308.         class ConcertInline(TabularInline):
309.             exclude = ["transport"]
310.             form = AdminConcertForm
311.             fk_name = "main_band"
312.             model = Concert
313. 
314.         class BandAdmin(ModelAdmin):
315.             inlines = [ConcertInline]
316. 
317.         ma = BandAdmin(Band, self.site)
318.         self.assertEqual(
319.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
320.             ["main_band", "opening_band", "day", "id", "DELETE"],
321.         )
322. 
323.     def test_overriding_get_exclude(self):
324.         class BandAdmin(ModelAdmin):
325.             def get_exclude(self, request, obj=None):
326.                 return ["name"]
327. 
328.         self.assertEqual(
329.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
330.             ["bio", "sign_date"],
331.         )
332. 
333.     def test_get_exclude_overrides_exclude(self):
334.         class BandAdmin(ModelAdmin):
335.             exclude = ["bio"]
336. 
337.             def get_exclude(self, request, obj=None):
338.                 return ["name"]
339. 
340.         self.assertEqual(
341.             list(BandAdmin(Band, self.site).get_form(request).base_fields),
342.             ["bio", "sign_date"],
343.         )
344. 
345.     def test_get_exclude_takes_obj(self):
346.         class BandAdmin(ModelAdmin):
347.             def get_exclude(self, request, obj=None):
348.                 if obj:
349.                     return ["sign_date"]
350.                 return ["name"]
351. 
352.         self.assertEqual(
353.             list(BandAdmin(Band, self.site).get_form(request, self.band).base_fields),
354.             ["name", "bio"],
355.         )
356. 
357.     def test_custom_form_validation(self):
358.         # If a form is specified, it should use it allowing custom validation
359.         # to work properly. This won't break any of the admin widgets or media.
360.         class AdminBandForm(forms.ModelForm):
361.             delete = forms.BooleanField()
362. 
363.         class BandAdmin(ModelAdmin):
364.             form = AdminBandForm
365. 
366.         ma = BandAdmin(Band, self.site)
367.         self.assertEqual(
368.             list(ma.get_form(request).base_fields),
369.             ["name", "bio", "sign_date", "delete"],
370.         )
371.         self.assertEqual(
372.             type(ma.get_form(request).base_fields["sign_date"].widget), AdminDateWidget
373.         )
374. 
375.     def test_form_exclude_kwarg_override(self):
376.         """
377.         The `exclude` kwarg passed to `ModelAdmin.get_form()` overrides all
378.         other declarations (#8999).
379.         """
380. 
381.         class AdminBandForm(forms.ModelForm):
382.             class Meta:
383.                 model = Band
384.                 exclude = ["name"]
385. 
386.         class BandAdmin(ModelAdmin):
387.             exclude = ["sign_date"]
388.             form = AdminBandForm
389. 
390.             def get_form(self, request, obj=None, **kwargs):
391.                 kwargs["exclude"] = ["bio"]
392.                 return super().get_form(request, obj, **kwargs)
393. 
394.         ma = BandAdmin(Band, self.site)
395.         self.assertEqual(list(ma.get_form(request).base_fields), ["name", "sign_date"])
396. 
397.     def test_formset_exclude_kwarg_override(self):
398.         """
399.         The `exclude` kwarg passed to `InlineModelAdmin.get_formset()`
400.         overrides all other declarations (#8999).
401.         """
402. 
403.         class AdminConcertForm(forms.ModelForm):
404.             class Meta:
405.                 model = Concert
406.                 exclude = ["day"]
407. 
408.         class ConcertInline(TabularInline):
409.             exclude = ["transport"]
410.             form = AdminConcertForm
411.             fk_name = "main_band"
412.             model = Concert
413. 
414.             def get_formset(self, request, obj=None, **kwargs):
415.                 kwargs["exclude"] = ["opening_band"]
416.                 return super().get_formset(request, obj, **kwargs)
417. 
418.         class BandAdmin(ModelAdmin):
419.             inlines = [ConcertInline]
420. 
421.         ma = BandAdmin(Band, self.site)
422.         self.assertEqual(
423.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
424.             ["main_band", "day", "transport", "id", "DELETE"],
425.         )
426. 
427.     def test_formset_overriding_get_exclude_with_form_fields(self):
428.         class AdminConcertForm(forms.ModelForm):
429.             class Meta:
430.                 model = Concert
431.                 fields = ["main_band", "opening_band", "day", "transport"]
432. 
433.         class ConcertInline(TabularInline):
434.             form = AdminConcertForm
435.             fk_name = "main_band"
436.             model = Concert
437. 
438.             def get_exclude(self, request, obj=None):
439.                 return ["opening_band"]
440. 
441.         class BandAdmin(ModelAdmin):
442.             inlines = [ConcertInline]
443. 
444.         ma = BandAdmin(Band, self.site)
445.         self.assertEqual(
446.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
447.             ["main_band", "day", "transport", "id", "DELETE"],
448.         )
449. 
450.     def test_formset_overriding_get_exclude_with_form_exclude(self):
451.         class AdminConcertForm(forms.ModelForm):
452.             class Meta:
453.                 model = Concert
454.                 exclude = ["day"]
455. 
456.         class ConcertInline(TabularInline):
457.             form = AdminConcertForm
458.             fk_name = "main_band"
459.             model = Concert
460. 
461.             def get_exclude(self, request, obj=None):
462.                 return ["opening_band"]
463. 
464.         class BandAdmin(ModelAdmin):
465.             inlines = [ConcertInline]
466. 
467.         ma = BandAdmin(Band, self.site)
468.         self.assertEqual(
469.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
470.             ["main_band", "day", "transport", "id", "DELETE"],
471.         )
472. 
473.     def test_raw_id_fields_widget_override(self):
474.         """
475.         The autocomplete_fields, raw_id_fields, and radio_fields widgets may
476.         overridden by specifying a widget in get_formset().
477.         """
478. 
479.         class ConcertInline(TabularInline):
480.             model = Concert
481.             fk_name = "main_band"
482.             raw_id_fields = ("opening_band",)
483. 
484.             def get_formset(self, request, obj=None, **kwargs):
485.                 kwargs["widgets"] = {"opening_band": Select}
486.                 return super().get_formset(request, obj, **kwargs)
487. 
488.         class BandAdmin(ModelAdmin):
489.             inlines = [ConcertInline]
490. 
491.         ma = BandAdmin(Band, self.site)
492.         band_widget = (
493.             list(ma.get_formsets_with_inlines(request))[0][0]()
494.             .forms[0]
495.             .fields["opening_band"]
496.             .widget
497.         )
498.         # Without the override this would be ForeignKeyRawIdWidget.
499.         self.assertIsInstance(band_widget, Select)
500. 


File: tests/modeladmin/tests.py
Line number range: 501 - 942
Content:
501.     def test_queryset_override(self):
502.         # If the queryset of a ModelChoiceField in a custom form is overridden,
503.         # RelatedFieldWidgetWrapper doesn't mess that up.
504.         band2 = Band.objects.create(
505.             name="The Beatles", bio="", sign_date=date(1962, 1, 1)
506.         )
507. 
508.         ma = ModelAdmin(Concert, self.site)
509.         form = ma.get_form(request)()
510. 
511.         self.assertHTMLEqual(
512.             str(form["main_band"]),
513.             '<div class="related-widget-wrapper" data-model-ref="band">'
514.             '<select name="main_band" id="id_main_band" required>'
515.             '<option value="" selected>---------</option>'
516.             '<option value="%d">The Beatles</option>'
517.             '<option value="%d">The Doors</option>'
518.             "</select></div>" % (band2.id, self.band.id),
519.         )
520. 
521.         class AdminConcertForm(forms.ModelForm):
522.             def __init__(self, *args, **kwargs):
523.                 super().__init__(*args, **kwargs)
524.                 self.fields["main_band"].queryset = Band.objects.filter(
525.                     name="The Doors"
526.                 )
527. 
528.         class ConcertAdminWithForm(ModelAdmin):
529.             form = AdminConcertForm
530. 
531.         ma = ConcertAdminWithForm(Concert, self.site)
532.         form = ma.get_form(request)()
533. 
534.         self.assertHTMLEqual(
535.             str(form["main_band"]),
536.             '<div class="related-widget-wrapper" data-model-ref="band">'
537.             '<select name="main_band" id="id_main_band" required>'
538.             '<option value="" selected>---------</option>'
539.             '<option value="%d">The Doors</option>'
540.             "</select></div>" % self.band.id,
541.         )
542. 
543.     def test_regression_for_ticket_15820(self):
544.         """
545.         `obj` is passed from `InlineModelAdmin.get_fieldsets()` to
546.         `InlineModelAdmin.get_formset()`.
547.         """
548. 
549.         class CustomConcertForm(forms.ModelForm):
550.             class Meta:
551.                 model = Concert
552.                 fields = ["day"]
553. 
554.         class ConcertInline(TabularInline):
555.             model = Concert
556.             fk_name = "main_band"
557. 
558.             def get_formset(self, request, obj=None, **kwargs):
559.                 if obj:
560.                     kwargs["form"] = CustomConcertForm
561.                 return super().get_formset(request, obj, **kwargs)
562. 
563.         class BandAdmin(ModelAdmin):
564.             inlines = [ConcertInline]
565. 
566.         Concert.objects.create(main_band=self.band, opening_band=self.band, day=1)
567.         ma = BandAdmin(Band, self.site)
568.         inline_instances = ma.get_inline_instances(request)
569.         fieldsets = list(inline_instances[0].get_fieldsets(request))
570.         self.assertEqual(
571.             fieldsets[0][1]["fields"], ["main_band", "opening_band", "day", "transport"]
572.         )
573.         fieldsets = list(
574.             inline_instances[0].get_fieldsets(request, inline_instances[0].model)
575.         )
576.         self.assertEqual(fieldsets[0][1]["fields"], ["day"])
577. 
578.     # radio_fields behavior ###########################################
579. 
580.     def test_default_foreign_key_widget(self):
581.         # First, without any radio_fields specified, the widgets for ForeignKey
582.         # and fields with choices specified ought to be a basic Select widget.
583.         # ForeignKey widgets in the admin are wrapped with RelatedFieldWidgetWrapper so
584.         # they need to be handled properly when type checking. For Select fields, all of
585.         # the choices lists have a first entry of dashes.
586.         cma = ModelAdmin(Concert, self.site)
587.         cmafa = cma.get_form(request)
588. 
589.         self.assertEqual(type(cmafa.base_fields["main_band"].widget.widget), Select)
590.         self.assertEqual(
591.             list(cmafa.base_fields["main_band"].widget.choices),
592.             [("", "---------"), (self.band.id, "The Doors")],
593.         )
594. 
595.         self.assertEqual(type(cmafa.base_fields["opening_band"].widget.widget), Select)
596.         self.assertEqual(
597.             list(cmafa.base_fields["opening_band"].widget.choices),
598.             [("", "---------"), (self.band.id, "The Doors")],
599.         )
600.         self.assertEqual(type(cmafa.base_fields["day"].widget), Select)
601.         self.assertEqual(
602.             list(cmafa.base_fields["day"].widget.choices),
603.             [("", "---------"), (1, "Fri"), (2, "Sat")],
604.         )
605.         self.assertEqual(type(cmafa.base_fields["transport"].widget), Select)
606.         self.assertEqual(
607.             list(cmafa.base_fields["transport"].widget.choices),
608.             [("", "---------"), (1, "Plane"), (2, "Train"), (3, "Bus")],
609.         )
610. 
611.     def test_foreign_key_as_radio_field(self):
612.         # Now specify all the fields as radio_fields.  Widgets should now be
613.         # RadioSelect, and the choices list should have a first entry of 'None' if
614.         # blank=True for the model field.  Finally, the widget should have the
615.         # 'radiolist' attr, and 'inline' as well if the field is specified HORIZONTAL.
616.         class ConcertAdmin(ModelAdmin):
617.             radio_fields = {
618.                 "main_band": HORIZONTAL,
619.                 "opening_band": VERTICAL,
620.                 "day": VERTICAL,
621.                 "transport": HORIZONTAL,
622.             }
623. 
624.         cma = ConcertAdmin(Concert, self.site)
625.         cmafa = cma.get_form(request)
626. 
627.         self.assertEqual(
628.             type(cmafa.base_fields["main_band"].widget.widget), AdminRadioSelect
629.         )
630.         self.assertEqual(
631.             cmafa.base_fields["main_band"].widget.attrs, {"class": "radiolist inline"}
632.         )
633.         self.assertEqual(
634.             list(cmafa.base_fields["main_band"].widget.choices),
635.             [(self.band.id, "The Doors")],
636.         )
637. 
638.         self.assertEqual(
639.             type(cmafa.base_fields["opening_band"].widget.widget), AdminRadioSelect
640.         )
641.         self.assertEqual(
642.             cmafa.base_fields["opening_band"].widget.attrs, {"class": "radiolist"}
643.         )
644.         self.assertEqual(
645.             list(cmafa.base_fields["opening_band"].widget.choices),
646.             [("", "None"), (self.band.id, "The Doors")],
647.         )
648.         self.assertEqual(type(cmafa.base_fields["day"].widget), AdminRadioSelect)
649.         self.assertEqual(cmafa.base_fields["day"].widget.attrs, {"class": "radiolist"})
650.         self.assertEqual(
651.             list(cmafa.base_fields["day"].widget.choices), [(1, "Fri"), (2, "Sat")]
652.         )
653. 
654.         self.assertEqual(type(cmafa.base_fields["transport"].widget), AdminRadioSelect)
655.         self.assertEqual(
656.             cmafa.base_fields["transport"].widget.attrs, {"class": "radiolist inline"}
657.         )
658.         self.assertEqual(
659.             list(cmafa.base_fields["transport"].widget.choices),
660.             [("", "None"), (1, "Plane"), (2, "Train"), (3, "Bus")],
661.         )
662. 
663.         class AdminConcertForm(forms.ModelForm):
664.             class Meta:
665.                 model = Concert
666.                 exclude = ("transport",)
667. 
668.         class ConcertAdmin(ModelAdmin):
669.             form = AdminConcertForm
670. 
671.         ma = ConcertAdmin(Concert, self.site)
672.         self.assertEqual(
673.             list(ma.get_form(request).base_fields), ["main_band", "opening_band", "day"]
674.         )
675. 
676.         class AdminConcertForm(forms.ModelForm):
677.             extra = forms.CharField()
678. 
679.             class Meta:
680.                 model = Concert
681.                 fields = ["extra", "transport"]
682. 
683.         class ConcertAdmin(ModelAdmin):
684.             form = AdminConcertForm
685. 
686.         ma = ConcertAdmin(Concert, self.site)
687.         self.assertEqual(list(ma.get_form(request).base_fields), ["extra", "transport"])
688. 
689.         class ConcertInline(TabularInline):
690.             form = AdminConcertForm
691.             model = Concert
692.             fk_name = "main_band"
693.             can_delete = True
694. 
695.         class BandAdmin(ModelAdmin):
696.             inlines = [ConcertInline]
697. 
698.         ma = BandAdmin(Band, self.site)
699.         self.assertEqual(
700.             list(list(ma.get_formsets_with_inlines(request))[0][0]().forms[0].fields),
701.             ["extra", "transport", "id", "DELETE", "main_band"],
702.         )
703. 
704.     def test_log_actions(self):
705.         ma = ModelAdmin(Band, self.site)
706.         mock_request = MockRequest()
707.         mock_request.user = User.objects.create(username="bill")
708.         content_type = get_content_type_for_model(self.band)
709.         tests = (
710.             (ma.log_addition, ADDITION, {"added": {}}),
711.             (ma.log_change, CHANGE, {"changed": {"fields": ["name", "bio"]}}),
712.             (ma.log_deletion, DELETION, str(self.band)),
713.         )
714.         for method, flag, message in tests:
715.             with self.subTest(name=method.__name__):
716.                 created = method(mock_request, self.band, message)
717.                 fetched = LogEntry.objects.filter(action_flag=flag).latest("id")
718.                 self.assertEqual(created, fetched)
719.                 self.assertEqual(fetched.action_flag, flag)
720.                 self.assertEqual(fetched.content_type, content_type)
721.                 self.assertEqual(fetched.object_id, str(self.band.pk))
722.                 self.assertEqual(fetched.user, mock_request.user)
723.                 if flag == DELETION:
724.                     self.assertEqual(fetched.change_message, "")
725.                     self.assertEqual(fetched.object_repr, message)
726.                 else:
727.                     self.assertEqual(fetched.change_message, str(message))
728.                     self.assertEqual(fetched.object_repr, str(self.band))
729. 
730.     def test_get_autocomplete_fields(self):
731.         class NameAdmin(ModelAdmin):
732.             search_fields = ["name"]
733. 
734.         class SongAdmin(ModelAdmin):
735.             autocomplete_fields = ["featuring"]
736.             fields = ["featuring", "band"]
737. 
738.         class OtherSongAdmin(SongAdmin):
739.             def get_autocomplete_fields(self, request):
740.                 return ["band"]
741. 
742.         self.site.register(Band, NameAdmin)
743.         try:
744.             # Uses autocomplete_fields if not overridden.
745.             model_admin = SongAdmin(Song, self.site)
746.             form = model_admin.get_form(request)()
747.             self.assertIsInstance(
748.                 form.fields["featuring"].widget.widget, AutocompleteSelectMultiple
749.             )
750.             # Uses overridden get_autocomplete_fields
751.             model_admin = OtherSongAdmin(Song, self.site)
752.             form = model_admin.get_form(request)()
753.             self.assertIsInstance(form.fields["band"].widget.widget, AutocompleteSelect)
754.         finally:
755.             self.site.unregister(Band)
756. 
757.     def test_get_deleted_objects(self):
758.         mock_request = MockRequest()
759.         mock_request.user = User.objects.create_superuser(
760.             username="bob", email="bob@test.com", password="test"
761.         )
762.         self.site.register(Band, ModelAdmin)
763.         ma = self.site._registry[Band]
764.         (
765.             deletable_objects,
766.             model_count,
767.             perms_needed,
768.             protected,
769.         ) = ma.get_deleted_objects([self.band], request)
770.         self.assertEqual(deletable_objects, ["Band: The Doors"])
771.         self.assertEqual(model_count, {"bands": 1})
772.         self.assertEqual(perms_needed, set())
773.         self.assertEqual(protected, [])
774. 
775.     def test_get_deleted_objects_with_custom_has_delete_permission(self):
776.         """
777.         ModelAdmin.get_deleted_objects() uses ModelAdmin.has_delete_permission()
778.         for permissions checking.
779.         """
780.         mock_request = MockRequest()
781.         mock_request.user = User.objects.create_superuser(
782.             username="bob", email="bob@test.com", password="test"
783.         )
784. 
785.         class TestModelAdmin(ModelAdmin):
786.             def has_delete_permission(self, request, obj=None):
787.                 return False
788. 
789.         self.site.register(Band, TestModelAdmin)
790.         ma = self.site._registry[Band]
791.         (
792.             deletable_objects,
793.             model_count,
794.             perms_needed,
795.             protected,
796.         ) = ma.get_deleted_objects([self.band], request)
797.         self.assertEqual(deletable_objects, ["Band: The Doors"])
798.         self.assertEqual(model_count, {"bands": 1})
799.         self.assertEqual(perms_needed, {"band"})
800.         self.assertEqual(protected, [])
801. 
802.     def test_modeladmin_repr(self):
803.         ma = ModelAdmin(Band, self.site)
804.         self.assertEqual(
805.             repr(ma),
806.             "<ModelAdmin: model=Band site=AdminSite(name='admin')>",
807.         )
808. 
809. 
810. class ModelAdminPermissionTests(SimpleTestCase):
811.     class MockUser:
812.         def has_module_perms(self, app_label):
813.             return app_label == "modeladmin"
814. 
815.     class MockViewUser(MockUser):
816.         def has_perm(self, perm, obj=None):
817.             return perm == "modeladmin.view_band"
818. 
819.     class MockAddUser(MockUser):
820.         def has_perm(self, perm, obj=None):
821.             return perm == "modeladmin.add_band"
822. 
823.     class MockChangeUser(MockUser):
824.         def has_perm(self, perm, obj=None):
825.             return perm == "modeladmin.change_band"
826. 
827.     class MockDeleteUser(MockUser):
828.         def has_perm(self, perm, obj=None):
829.             return perm == "modeladmin.delete_band"
830. 
831.     def test_has_view_permission(self):
832.         """
833.         has_view_permission() returns True for users who can view objects and
834.         False for users who can't.
835.         """
836.         ma = ModelAdmin(Band, AdminSite())
837.         request = MockRequest()
838.         request.user = self.MockViewUser()
839.         self.assertIs(ma.has_view_permission(request), True)
840.         request.user = self.MockAddUser()
841.         self.assertIs(ma.has_view_permission(request), False)
842.         request.user = self.MockChangeUser()
843.         self.assertIs(ma.has_view_permission(request), True)
844.         request.user = self.MockDeleteUser()
845.         self.assertIs(ma.has_view_permission(request), False)
846. 
847.     def test_has_add_permission(self):
848.         """
849.         has_add_permission returns True for users who can add objects and
850.         False for users who can't.
851.         """
852.         ma = ModelAdmin(Band, AdminSite())
853.         request = MockRequest()
854.         request.user = self.MockViewUser()
855.         self.assertFalse(ma.has_add_permission(request))
856.         request.user = self.MockAddUser()
857.         self.assertTrue(ma.has_add_permission(request))
858.         request.user = self.MockChangeUser()
859.         self.assertFalse(ma.has_add_permission(request))
860.         request.user = self.MockDeleteUser()
861.         self.assertFalse(ma.has_add_permission(request))
862. 
863.     def test_inline_has_add_permission_uses_obj(self):
864.         class ConcertInline(TabularInline):
865.             model = Concert
866. 
867.             def has_add_permission(self, request, obj):
868.                 return bool(obj)
869. 
870.         class BandAdmin(ModelAdmin):
871.             inlines = [ConcertInline]
872. 
873.         ma = BandAdmin(Band, AdminSite())
874.         request = MockRequest()
875.         request.user = self.MockAddUser()
876.         self.assertEqual(ma.get_inline_instances(request), [])
877.         band = Band(name="The Doors", bio="", sign_date=date(1965, 1, 1))
878.         inline_instances = ma.get_inline_instances(request, band)
879.         self.assertEqual(len(inline_instances), 1)
880.         self.assertIsInstance(inline_instances[0], ConcertInline)
881. 
882.     def test_has_change_permission(self):
883.         """
884.         has_change_permission returns True for users who can edit objects and
885.         False for users who can't.
886.         """
887.         ma = ModelAdmin(Band, AdminSite())
888.         request = MockRequest()
889.         request.user = self.MockViewUser()
890.         self.assertIs(ma.has_change_permission(request), False)
891.         request.user = self.MockAddUser()
892.         self.assertFalse(ma.has_change_permission(request))
893.         request.user = self.MockChangeUser()
894.         self.assertTrue(ma.has_change_permission(request))
895.         request.user = self.MockDeleteUser()
896.         self.assertFalse(ma.has_change_permission(request))
897. 
898.     def test_has_delete_permission(self):
899.         """
900.         has_delete_permission returns True for users who can delete objects and
901.         False for users who can't.
902.         """
903.         ma = ModelAdmin(Band, AdminSite())
904.         request = MockRequest()
905.         request.user = self.MockViewUser()
906.         self.assertIs(ma.has_delete_permission(request), False)
907.         request.user = self.MockAddUser()
908.         self.assertFalse(ma.has_delete_permission(request))
909.         request.user = self.MockChangeUser()
910.         self.assertFalse(ma.has_delete_permission(request))
911.         request.user = self.MockDeleteUser()
912.         self.assertTrue(ma.has_delete_permission(request))
913. 
914.     def test_has_module_permission(self):
915.         """
916.         as_module_permission returns True for users who have any permission
917.         for the module and False for users who don't.
918.         """
919.         ma = ModelAdmin(Band, AdminSite())
920.         request = MockRequest()
921.         request.user = self.MockViewUser()
922.         self.assertIs(ma.has_module_permission(request), True)
923.         request.user = self.MockAddUser()
924.         self.assertTrue(ma.has_module_permission(request))
925.         request.user = self.MockChangeUser()
926.         self.assertTrue(ma.has_module_permission(request))
927.         request.user = self.MockDeleteUser()
928.         self.assertTrue(ma.has_module_permission(request))
929. 
930.         original_app_label = ma.opts.app_label
931.         ma.opts.app_label = "anotherapp"
932.         try:
933.             request.user = self.MockViewUser()
934.             self.assertIs(ma.has_module_permission(request), False)
935.             request.user = self.MockAddUser()
936.             self.assertFalse(ma.has_module_permission(request))
937.             request.user = self.MockChangeUser()
938.             self.assertFalse(ma.has_module_permission(request))
939.             request.user = self.MockDeleteUser()
940.             self.assertFalse(ma.has_module_permission(request))
941.         finally:
942.             ma.opts.app_label = original_app_label

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 04:51:47,267 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find test cases related to the visibility of the 'Save as new' button, which is dependent on `has_add_permission`. To find relevant tests, I need to see how to write an integration test that checks the admin change-form view for a user with `change` permission but no `add` permission. The current context does not provide a clear example of this pattern. `tests/auth_tests/test_views.py` is likely to contain examples of testing views with users that have specific permissions. Additionally, `tests/admin_views/admin.py` is needed to identify which `ModelAdmin` has `save_as=True`, which is a prerequisite for the 'Save as new' button to appear." query='Please provide the full content of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`.' extra_requirements='For `tests/auth_tests/test_views.py`, please prioritize tests that create users with specific permissions and use the test client to check view responses.' purpose="I need to find examples of testing admin views with permission checks to identify relevant test cases for the bug concerning the 'Save as new' button visibility."
2025-12-23 04:51:47,268 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`.
2025-12-23 04:51:47,268 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 04:51:47,269 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 04:51:47,269 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 04:51:47,269 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`.
Extra requirements: For `tests/auth_tests/test_views.py`, please prioritize tests that create users with specific permissions and use the test client to check view responses.
Purpose: I need to find examples of testing admin views with permission checks to identify relevant test cases for the bug concerning the 'Save as new' button visibility.
2025-12-23 04:51:50,742 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will first retrieve the complete content of `tests/auth_tests/test_views.py` to examine the authentication tests. After that, I will fetch the entire content of `tests/admin_views/admin.py` to understand the admin view tests. This will allow me to analyze both files for relevant examples of testing admin views with permission checks.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/admin_views/admin.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2158, 'candidates_token_count': 122, 'total_token_count': 2433, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2158}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 122}], 'thoughts_token_count': 153, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.16930964735687756, 'model_name': 'gemini-2.5-pro'} id='run--e7b50391-da15-4a6e-8c7f-a4e011a619a8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/auth_tests/test_views.py'}, 'id': '0919e3e1-e6f6-42b7-8234-05c4207ffb6a', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/admin.py'}, 'id': '3f3e65d1-b1a7-4081-a542-ed649617c12f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2158, 'output_tokens': 122, 'total_tokens': 2433, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 153}}
2025-12-23 04:52:31,845 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the contents of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`. My next step is to analyze these files to locate tests that create users with specific permissions and then check their access to admin views. I will also look for admin configurations that enable the 'Save as new' functionality and implement permission checks. This will help identify relevant test cases for the bug I am investigating." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/auth_tests/test_views.py", "text": "permission"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16214, 'candidates_token_count': 127, 'total_token_count': 19632, 'cached_content_token_count': 1888, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16214}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1888}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 127}], 'thoughts_token_count': 3291}, 'finish_reason': 'STOP', 'avg_logprobs': -3.5415156807486468, 'model_name': 'gemini-2.5-pro'} id='run--69fc0ea0-0813-49df-8ead-2eac40d15793-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/auth_tests/test_views.py', 'text': 'permission'}, 'id': '42a00865-b841-4d8b-8d79-b0b97562339c', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16214, 'output_tokens': 127, 'total_tokens': 19632, 'input_token_details': {'cache_read': 1888}, 'output_token_details': {'reasoning': 3291}}
2025-12-23 04:52:36,607 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've analyzed the initial search results from `tests/auth_tests/test_views.py`. The `LoginRedirectAuthenticatedUser` and `ChangelistTests` classes have provided valuable insights into how permissions are tested in the authentication and admin views. I will now investigate `tests/admin_views/admin.py` for more specific examples related to the 'Save as new' functionality and permission checks." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/admin_views/admin.py", "text": "permission"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19611, 'candidates_token_count': 153, 'total_token_count': 20018, 'cached_content_token_count': 15145, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19611}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15145}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 153}], 'thoughts_token_count': 254}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2941465938792509, 'model_name': 'gemini-2.5-pro'} id='run--ab3b080f-5401-4148-ab58-09fdcf110f95-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/admin.py', 'text': 'save_as'}, 'id': '6becfc54-9060-4259-83b1-5c3de912eac6', 'type': 'tool_call'}, {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/admin.py', 'text': 'permission'}, 'id': '230a8d54-02cb-4ad6-aeeb-319d0d4955a2', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19611, 'output_tokens': 153, 'total_tokens': 20018, 'input_token_details': {'cache_read': 15145}, 'output_token_details': {'reasoning': 254}}
2025-12-23 04:52:43,894 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have now analyzed both `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`. I've found that `tests/admin_views/admin.py` contains several `ModelAdmin` classes with the `save_as = True` option and various permission-checking methods. My next step is to find the tests that use these admin classes to see how the 'Save as new' functionality is tested in conjunction with user permissions. I'll now read the contents of `tests/admin_views/test_views.py` to find the relevant test cases." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/admin_views/test_views.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 21369, 'candidates_token_count': 153, 'total_token_count': 21974, 'cached_content_token_count': 18851, 'prompt_tokens_details': [{'modality': 1, 'token_count': 21369}], 'cache_tokens_details': [{'modality': 1, 'token_count': 18851}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 153}], 'thoughts_token_count': 452}, 'finish_reason': 'STOP', 'avg_logprobs': -0.526906580706827, 'model_name': 'gemini-2.5-pro'} id='run--95c6f067-3378-4c93-9b68-be75fe27b5b8-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/test_views.py'}, 'id': '2ae760df-9b90-47ea-b886-482a6ebb766b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21369, 'output_tokens': 153, 'total_tokens': 21974, 'input_token_details': {'cache_read': 18851}, 'output_token_details': {'reasoning': 452}}
2025-12-23 04:52:50,859 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I made a mistake in the previous step and tried to access a nonexistent file. Based on the project structure, it is likely that the tests for the admin views are located in a file named `tests.py` within the `admin_views` directory. I will now attempt to read the contents of `tests/admin_views/tests.py` to find the test cases that utilize the `ModelAdmin` classes with `save_as=True` and permission checks.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/admin_views/tests.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 21551, 'candidates_token_count': 119, 'total_token_count': 22215, 'cached_content_token_count': 20722, 'prompt_tokens_details': [{'modality': 1, 'token_count': 21551}], 'cache_tokens_details': [{'modality': 1, 'token_count': 20722}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 119}], 'thoughts_token_count': 545}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5429618258436187, 'model_name': 'gemini-2.5-pro'} id='run--7a937878-f1df-49b9-a275-20409119b39a-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/admin_views/tests.py'}, 'id': '0b526d14-61b5-4f74-be50-fbee69f22782', 'type': 'tool_call'}] usage_metadata={'input_tokens': 21551, 'output_tokens': 119, 'total_tokens': 22215, 'input_token_details': {'cache_read': 20722}, 'output_token_details': {'reasoning': 545}}
2025-12-23 04:52:57,170 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have successfully retrieved the content of `tests/admin_views/tests.py`, which contains various tests for admin views. I've identified tests for the 'Save as new' functionality and for permission checks. My next step is to find a test case that specifically combines these two aspects, creating a user with limited permissions and then checking the visibility and functionality of the 'Save as new' button. This will provide the necessary context to address the user's bug report." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/admin_views/tests.py", "text": "permission"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 28912, 'candidates_token_count': 164, 'total_token_count': 29400, 'cached_content_token_count': 20982, 'prompt_tokens_details': [{'modality': 1, 'token_count': 28912}], 'cache_tokens_details': [{'modality': 1, 'token_count': 20982}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 164}], 'thoughts_token_count': 324}, 'finish_reason': 'STOP', 'avg_logprobs': -0.36866083377745096, 'model_name': 'gemini-2.5-pro'} id='run--09a53730-dc25-495e-80a8-853b56125f0f-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/tests.py', 'text': 'save as'}, 'id': 'd84fe9a2-ac91-4e85-baba-5daa7b1ed6f6', 'type': 'tool_call'}, {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/admin_views/tests.py', 'text': 'permission'}, 'id': 'bc7814a2-40c1-40bc-ad82-c2341c606250', 'type': 'tool_call'}] usage_metadata={'input_tokens': 28912, 'output_tokens': 164, 'total_tokens': 29400, 'input_token_details': {'cache_read': 20982}, 'output_token_details': {'reasoning': 324}}
2025-12-23 04:53:06,748 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have successfully retrieved the contents of `tests/auth_tests/test_views.py`, `tests/admin_views/admin.py`, and `tests/admin_views/tests.py`. Through analysis of these files, I have located `ModelAdmin` classes that utilize the `save_as = True` attribute, along with tests that verify the 'Save as new' functionality and others that check user permissions. By synthesizing these findings, I can now provide a comprehensive example of how to test the visibility of the 'Save as new' button in the Django admin interface based on specific user permissions." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 46664, 'candidates_token_count': 124, 'total_token_count': 47554, 'cached_content_token_count': 28739, 'prompt_tokens_details': [{'modality': 1, 'token_count': 46664}], 'cache_tokens_details': [{'modality': 1, 'token_count': 28739}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 124}], 'thoughts_token_count': 766}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8949983658329133, 'model_name': 'gemini-2.5-pro'} id='run--d29efa61-2e22-4864-9ea4-fc8bbb05be24-0' usage_metadata={'input_tokens': 46664, 'output_tokens': 124, 'total_tokens': 47554, 'input_token_details': {'cache_read': 28739}, 'output_token_details': {'reasoning': 766}}
2025-12-23 04:53:06,752 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
For `tests/auth_tests/test_views.py`, please prioritize tests that create users with specific permissions and use the test client to check view responses.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to find examples of testing admin views with permission checks to identify relevant test cases for the bug concerning the 'Save as new' button visibility.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/admin_views/admin.py
Line number range: 1 - 500
Content:
1. import datetime
2. from io import StringIO
3. from wsgiref.util import FileWrapper
4. 
5. from django import forms
6. from django.contrib import admin
7. from django.contrib.admin import BooleanFieldListFilter
8. from django.contrib.admin.views.main import ChangeList
9. from django.contrib.auth.admin import GroupAdmin, UserAdmin
10. from django.contrib.auth.models import Group, User
11. from django.core.exceptions import ValidationError
12. from django.core.mail import EmailMessage
13. from django.db import models
14. from django.forms.models import BaseModelFormSet
15. from django.http import HttpResponse, JsonResponse, StreamingHttpResponse
16. from django.urls import path
17. from django.utils.html import format_html
18. from django.utils.safestring import mark_safe
19. from django.views.decorators.common import no_append_slash
20. 
21. from .forms import MediaActionForm
22. from .models import (
23.     Actor,
24.     AdminOrderedAdminMethod,
25.     AdminOrderedCallable,
26.     AdminOrderedField,
27.     AdminOrderedModelMethod,
28.     Album,
29.     Answer,
30.     Answer2,
31.     Article,
32.     BarAccount,
33.     Book,
34.     Bookmark,
35.     Box,
36.     Category,
37.     Chapter,
38.     ChapterXtra1,
39.     Child,
40.     ChildOfReferer,
41.     Choice,
42.     City,
43.     Collector,
44.     Color,
45.     Color2,
46.     ComplexSortedPerson,
47.     Country,
48.     CoverLetter,
49.     CustomArticle,
50.     CyclicOne,
51.     CyclicTwo,
52.     DependentChild,
53.     DooHickey,
54.     EmptyModel,
55.     EmptyModelHidden,
56.     EmptyModelMixin,
57.     EmptyModelVisible,
58.     ExplicitlyProvidedPK,
59.     ExternalSubscriber,
60.     Fabric,
61.     FancyDoodad,
62.     FieldOverridePost,
63.     FilteredManager,
64.     FooAccount,
65.     FoodDelivery,
66.     FunkyTag,
67.     Gadget,
68.     Gallery,
69.     GenRelReference,
70.     Grommet,
71.     ImplicitlyGeneratedPK,
72.     Ingredient,
73.     InlineReference,
74.     InlineReferer,
75.     Inquisition,
76.     Language,
77.     Link,
78.     MainPrepopulated,
79.     ModelWithStringPrimaryKey,
80.     NotReferenced,
81.     OldSubscriber,
82.     OtherStory,
83.     Paper,
84.     Parent,
85.     ParentWithDependentChildren,
86.     ParentWithUUIDPK,
87.     Person,
88.     Persona,
89.     Picture,
90.     Pizza,
91.     Plot,
92.     PlotDetails,
93.     PlotProxy,
94.     PluggableSearchPerson,
95.     Podcast,
96.     Post,
97.     PrePopulatedPost,
98.     PrePopulatedPostLargeSlug,
99.     PrePopulatedSubPost,
100.     Promo,
101.     Question,
102.     ReadablePizza,
103.     ReadOnlyPizza,
104.     ReadOnlyRelatedField,
105.     Recipe,
106.     Recommendation,
107.     Recommender,
108.     ReferencedByGenRel,
109.     ReferencedByInline,
110.     ReferencedByParent,
111.     RelatedPrepopulated,
112.     RelatedWithUUIDPKModel,
113.     Report,
114.     Reservation,
115.     Restaurant,
116.     RowLevelChangePermissionModel,
117.     Section,
118.     ShortMessage,
119.     Simple,
120.     Sketch,
121.     Song,
122.     State,
123.     Story,
124.     StumpJoke,
125.     Subscriber,
126.     SuperVillain,
127.     Telegram,
128.     Thing,
129.     Topping,
130.     Traveler,
131.     UnchangeableObject,
132.     UndeletableObject,
133.     UnorderedObject,
134.     UserMessenger,
135.     UserProxy,
136.     Villain,
137.     Vodcast,
138.     Whatsit,
139.     Widget,
140.     Worker,
141.     WorkHour,
142. )
143. 
144. 
145. @admin.display(ordering="date")
146. def callable_year(dt_value):
147.     try:
148.         return dt_value.year
149.     except AttributeError:
150.         return None
151. 
152. 
153. class ArticleInline(admin.TabularInline):
154.     model = Article
155.     fk_name = "section"
156.     prepopulated_fields = {"title": ("content",)}
157.     fieldsets = (
158.         ("Some fields", {"classes": ("collapse",), "fields": ("title", "content")}),
159.         ("Some other fields", {"classes": ("wide",), "fields": ("date", "section")}),
160.     )
161. 
162. 
163. class ChapterInline(admin.TabularInline):
164.     model = Chapter
165. 
166. 
167. class ChapterXtra1Admin(admin.ModelAdmin):
168.     list_filter = (
169.         "chap",
170.         "chap__title",
171.         "chap__book",
172.         "chap__book__name",
173.         "chap__book__promo",
174.         "chap__book__promo__name",
175.         "guest_author__promo__book",
176.     )
177. 
178. 
179. class ArticleForm(forms.ModelForm):
180.     extra_form_field = forms.BooleanField(required=False)
181. 
182.     class Meta:
183.         fields = "__all__"
184.         model = Article
185. 
186. 
187. class ArticleAdminWithExtraUrl(admin.ModelAdmin):
188.     def get_urls(self):
189.         urlpatterns = super().get_urls()
190.         urlpatterns.append(
191.             path(
192.                 "extra.json",
193.                 self.admin_site.admin_view(self.extra_json),
194.                 name="article_extra_json",
195.             )
196.         )
197.         return urlpatterns
198. 
199.     def extra_json(self, request):
200.         return JsonResponse({})
201. 
202. 
203. class ArticleAdmin(ArticleAdminWithExtraUrl):
204.     list_display = (
205.         "content",
206.         "date",
207.         callable_year,
208.         "model_year",
209.         "modeladmin_year",
210.         "model_year_reversed",
211.         "section",
212.         lambda obj: obj.title,
213.         "order_by_expression",
214.         "model_property_year",
215.         "model_month",
216.         "order_by_f_expression",
217.         "order_by_orderby_expression",
218.     )
219.     list_editable = ("section",)
220.     list_filter = ("date", "section")
221.     autocomplete_fields = ("section",)
222.     view_on_site = False
223.     form = ArticleForm
224.     fieldsets = (
225.         (
226.             "Some fields",
227.             {
228.                 "classes": ("collapse",),
229.                 "fields": ("title", "content", "extra_form_field"),
230.             },
231.         ),
232.         (
233.             "Some other fields",
234.             {"classes": ("wide",), "fields": ("date", "section", "sub_section")},
235.         ),
236.     )
237. 
238.     # These orderings aren't particularly useful but show that expressions can
239.     # be used for admin_order_field.
240.     @admin.display(ordering=models.F("date") + datetime.timedelta(days=3))
241.     def order_by_expression(self, obj):
242.         return obj.model_year
243. 
244.     @admin.display(ordering=models.F("date"))
245.     def order_by_f_expression(self, obj):
246.         return obj.model_year
247. 
248.     @admin.display(ordering=models.F("date").asc(nulls_last=True))
249.     def order_by_orderby_expression(self, obj):
250.         return obj.model_year
251. 
252.     def changelist_view(self, request):
253.         return super().changelist_view(request, extra_context={"extra_var": "Hello!"})
254. 
255.     @admin.display(ordering="date", description=None)
256.     def modeladmin_year(self, obj):
257.         return obj.date.year
258. 
259.     def delete_model(self, request, obj):
260.         EmailMessage(
261.             "Greetings from a deleted object",
262.             "I hereby inform you that some user deleted me",
263.             "from@example.com",
264.             ["to@example.com"],
265.         ).send()
266.         return super().delete_model(request, obj)
267. 
268.     def save_model(self, request, obj, form, change=True):
269.         EmailMessage(
270.             "Greetings from a created object",
271.             "I hereby inform you that some user created me",
272.             "from@example.com",
273.             ["to@example.com"],
274.         ).send()
275.         return super().save_model(request, obj, form, change)
276. 
277. 
278. class ArticleAdmin2(admin.ModelAdmin):
279.     def has_module_permission(self, request):
280.         return False
281. 
282. 
283. class RowLevelChangePermissionModelAdmin(admin.ModelAdmin):
284.     def has_change_permission(self, request, obj=None):
285.         """Only allow changing objects with even id number"""
286.         return request.user.is_staff and (obj is not None) and (obj.id % 2 == 0)
287. 
288.     def has_view_permission(self, request, obj=None):
289.         """Only allow viewing objects if id is a multiple of 3."""
290.         return request.user.is_staff and obj is not None and obj.id % 3 == 0
291. 
292. 
293. class CustomArticleAdmin(admin.ModelAdmin):
294.     """
295.     Tests various hooks for using custom templates and contexts.
296.     """
297. 
298.     change_list_template = "custom_admin/change_list.html"
299.     change_form_template = "custom_admin/change_form.html"
300.     add_form_template = "custom_admin/add_form.html"
301.     object_history_template = "custom_admin/object_history.html"
302.     delete_confirmation_template = "custom_admin/delete_confirmation.html"
303.     delete_selected_confirmation_template = (
304.         "custom_admin/delete_selected_confirmation.html"
305.     )
306.     popup_response_template = "custom_admin/popup_response.html"
307. 
308.     def changelist_view(self, request):
309.         return super().changelist_view(request, extra_context={"extra_var": "Hello!"})
310. 
311. 
312. class ThingAdmin(admin.ModelAdmin):
313.     list_filter = ("color", "color__warm", "color__value", "pub_date")
314. 
315. 
316. class InquisitionAdmin(admin.ModelAdmin):
317.     list_display = ("leader", "country", "expected", "sketch")
318. 
319.     @admin.display
320.     def sketch(self, obj):
321.         # A method with the same name as a reverse accessor.
322.         return "list-display-sketch"
323. 
324. 
325. class SketchAdmin(admin.ModelAdmin):
326.     raw_id_fields = ("inquisition", "defendant0", "defendant1")
327. 
328. 
329. class FabricAdmin(admin.ModelAdmin):
330.     list_display = ("surface",)
331.     list_filter = ("surface",)
332. 
333. 
334. class BasePersonModelFormSet(BaseModelFormSet):
335.     def clean(self):
336.         for person_dict in self.cleaned_data:
337.             person = person_dict.get("id")
338.             alive = person_dict.get("alive")
339.             if person and alive and person.name == "Grace Hopper":
340.                 raise ValidationError("Grace is not a Zombie")
341. 
342. 
343. class PersonAdmin(admin.ModelAdmin):
344.     list_display = ("name", "gender", "alive")
345.     list_editable = ("gender", "alive")
346.     list_filter = ("gender",)
347.     search_fields = ("^name",)
348.     save_as = True
349. 
350.     def get_changelist_formset(self, request, **kwargs):
351.         return super().get_changelist_formset(
352.             request, formset=BasePersonModelFormSet, **kwargs
353.         )
354. 
355.     def get_queryset(self, request):
356.         # Order by a field that isn't in list display, to be able to test
357.         # whether ordering is preserved.
358.         return super().get_queryset(request).order_by("age")
359. 
360. 
361. class FooAccountAdmin(admin.StackedInline):
362.     model = FooAccount
363.     extra = 1
364. 
365. 
366. class BarAccountAdmin(admin.StackedInline):
367.     model = BarAccount
368.     extra = 1
369. 
370. 
371. class PersonaAdmin(admin.ModelAdmin):
372.     inlines = (FooAccountAdmin, BarAccountAdmin)
373. 
374. 
375. class SubscriberAdmin(admin.ModelAdmin):
376.     actions = ["mail_admin"]
377.     action_form = MediaActionForm
378. 
379.     def delete_queryset(self, request, queryset):
380.         SubscriberAdmin.overridden = True
381.         super().delete_queryset(request, queryset)
382. 
383.     @admin.action
384.     def mail_admin(self, request, selected):
385.         EmailMessage(
386.             "Greetings from a ModelAdmin action",
387.             "This is the test email from an admin action",
388.             "from@example.com",
389.             ["to@example.com"],
390.         ).send()
391. 
392. 
393. @admin.action(description="External mail (Another awesome action)")
394. def external_mail(modeladmin, request, selected):
395.     EmailMessage(
396.         "Greetings from a function action",
397.         "This is the test email from a function action",
398.         "from@example.com",
399.         ["to@example.com"],
400.     ).send()
401. 
402. 
403. @admin.action(description="Redirect to (Awesome action)")
404. def redirect_to(modeladmin, request, selected):
405.     from django.http import HttpResponseRedirect
406. 
407.     return HttpResponseRedirect("/some-where-else/")
408. 
409. 
410. @admin.action(description="Download subscription")
411. def download(modeladmin, request, selected):
412.     buf = StringIO("This is the content of the file")
413.     return StreamingHttpResponse(FileWrapper(buf))
414. 
415. 
416. @admin.action(description="No permission to run")
417. def no_perm(modeladmin, request, selected):
418.     return HttpResponse(content="No permission to perform this action", status=403)
419. 
420. 
421. class ExternalSubscriberAdmin(admin.ModelAdmin):
422.     actions = [redirect_to, external_mail, download, no_perm]
423. 
424. 
425. class PodcastAdmin(admin.ModelAdmin):
426.     list_display = ("name", "release_date")
427.     list_editable = ("release_date",)
428.     date_hierarchy = "release_date"
429.     ordering = ("name",)
430. 
431. 
432. class VodcastAdmin(admin.ModelAdmin):
433.     list_display = ("name", "released")
434.     list_editable = ("released",)
435. 
436.     ordering = ("name",)
437. 
438. 
439. class ChildInline(admin.StackedInline):
440.     model = Child
441. 
442. 
443. class ParentAdmin(admin.ModelAdmin):
444.     model = Parent
445.     inlines = [ChildInline]
446.     save_as = True
447.     list_display = (
448.         "id",
449.         "name",
450.     )
451.     list_display_links = ("id",)
452.     list_editable = ("name",)
453. 
454.     def save_related(self, request, form, formsets, change):
455.         super().save_related(request, form, formsets, change)
456.         first_name, last_name = form.instance.name.split()
457.         for child in form.instance.child_set.all():
458.             if len(child.name.split()) < 2:
459.                 child.name = child.name + " " + last_name
460.                 child.save()
461. 
462. 
463. class EmptyModelAdmin(admin.ModelAdmin):
464.     def get_queryset(self, request):
465.         return super().get_queryset(request).filter(pk__gt=1)
466. 
467. 
468. class OldSubscriberAdmin(admin.ModelAdmin):
469.     actions = None
470. 
471. 
472. class PictureInline(admin.TabularInline):
473.     model = Picture
474.     extra = 1
475. 
476. 
477. class GalleryAdmin(admin.ModelAdmin):
478.     inlines = [PictureInline]
479. 
480. 
481. class PictureAdmin(admin.ModelAdmin):
482.     pass
483. 
484. 
485. class LanguageAdmin(admin.ModelAdmin):
486.     list_display = ["iso", "shortlist", "english_name", "name"]
487.     list_editable = ["shortlist"]
488. 
489. 
490. class RecommendationAdmin(admin.ModelAdmin):
491.     show_full_result_count = False
492.     search_fields = (
493.         "=titletranslation__text",
494.         "=the_recommender__titletranslation__text",
495.     )
496. 
497. 
498. class WidgetInline(admin.StackedInline):
499.     model = Widget
500.


File: tests/admin_views/admin.py
Line number range: 582 - 586
Content:
class PrePopulatedPostReadOnlyAdmin(admin.ModelAdmin):
    prepopulated_fields = {"slug": ("title",)}

    def has_change_permission(self, *args, **kwargs):
        return False


File: tests/admin_views/admin.py
Line number range: 666 - 676
Content:
class ReadOnlyPizzaAdmin(admin.ModelAdmin):
    readonly_fields = ("name", "toppings")

    def has_add_permission(self, request):
        return False

    def has_change_permission(self, request, obj=None):
        return True

    def has_delete_permission(self, request, obj=None):
        return True


File: tests/admin_views/admin.py
Line number range: 1180 - 1186
Content:
site.register(
    Section,
    save_as=True,
    inlines=[ArticleInline],
    readonly_fields=["name_property"],
    search_fields=["name"],
)


File: tests/admin_views/admin.py
Line number range: 1315 - 1315
Content:
site2.register(Person, save_as_continue=False)


File: tests/admin_views/admin.py
Line number range: 1395 - 1398
Content:
class ArticleAdmin9(admin.ModelAdmin):
    def has_change_permission(self, request, obj=None):
        # Simulate that the user can't change a specific object.
        return obj is None


File: tests/admin_views/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import os
3. import re
4. import unittest
5. import zoneinfo
6. from unittest import mock
7. from urllib.parse import parse_qsl, urljoin, urlparse
8. 
9. from django.contrib import admin
10. from django.contrib.admin import AdminSite, ModelAdmin
11. from django.contrib.admin.helpers import ACTION_CHECKBOX_NAME
12. from django.contrib.admin.models import ADDITION, DELETION, LogEntry
13. from django.contrib.admin.options import TO_FIELD_VAR
14. from django.contrib.admin.templatetags.admin_urls import add_preserved_filters
15. from django.contrib.admin.tests import AdminSeleniumTestCase
16. from django.contrib.admin.utils import quote
17. from django.contrib.admin.views.main import IS_POPUP_VAR
18. from django.contrib.auth import REDIRECT_FIELD_NAME, get_permission_codename
19. from django.contrib.auth.models import Group, Permission, User
20. from django.contrib.contenttypes.models import ContentType
21. from django.core import mail
22. from django.core.checks import Error
23. from django.core.files import temp as tempfile
24. from django.db import connection
25. from django.forms.utils import ErrorList
26. from django.template.response import TemplateResponse
27. from django.test import (
28.     TestCase,
29.     modify_settings,
30.     override_settings,
31.     skipUnlessDBFeature,
32. )
33. from django.test.utils import override_script_prefix
34. from django.urls import NoReverseMatch, resolve, reverse
35. from django.utils import formats, translation
36. from django.utils.cache import get_max_age
37. from django.utils.encoding import iri_to_uri
38. from django.utils.html import escape
39. from django.utils.http import urlencode
40. 
41. from . import customadmin
42. from .admin import CityAdmin, site, site2
43. from .models import (
44.     Actor,
45.     AdminOrderedAdminMethod,
46.     AdminOrderedCallable,
47.     AdminOrderedField,
48.     AdminOrderedModelMethod,
49.     Album,
50.     Answer,
51.     Answer2,
52.     Article,
53.     BarAccount,
54.     Book,
55.     Bookmark,
56.     Box,
57.     Category,
58.     Chapter,
59.     ChapterXtra1,
60.     ChapterXtra2,
61.     Character,
62.     Child,
63.     Choice,
64.     City,
65.     Collector,
66.     Color,
67.     ComplexSortedPerson,
68.     CoverLetter,
69.     CustomArticle,
70.     CyclicOne,
71.     CyclicTwo,
72.     DooHickey,
73.     Employee,
74.     EmptyModel,
75.     Fabric,
76.     FancyDoodad,
77.     FieldOverridePost,
78.     FilteredManager,
79.     FooAccount,
80.     FoodDelivery,
81.     FunkyTag,
82.     Gallery,
83.     Grommet,
84.     Inquisition,
85.     Language,
86.     Link,
87.     MainPrepopulated,
88.     Media,
89.     ModelWithStringPrimaryKey,
90.     OtherStory,
91.     Paper,
92.     Parent,
93.     ParentWithDependentChildren,
94.     ParentWithUUIDPK,
95.     Person,
96.     Persona,
97.     Picture,
98.     Pizza,
99.     Plot,
100.     PlotDetails,
101.     PluggableSearchPerson,
102.     Podcast,
103.     Post,
104.     PrePopulatedPost,
105.     Promo,
106.     Question,
107.     ReadablePizza,
108.     ReadOnlyPizza,
109.     ReadOnlyRelatedField,
110.     Recommendation,
111.     Recommender,
112.     RelatedPrepopulated,
113.     RelatedWithUUIDPKModel,
114.     Report,
115.     Restaurant,
116.     RowLevelChangePermissionModel,
117.     SecretHideout,
118.     Section,
119.     ShortMessage,
120.     Simple,
121.     Song,
122.     State,
123.     Story,
124.     SuperSecretHideout,
125.     SuperVillain,
126.     Telegram,
127.     TitleTranslation,
128.     Topping,
129.     Traveler,
130.     UnchangeableObject,
131.     UndeletableObject,
132.     UnorderedObject,
133.     UserProxy,
134.     Villain,
135.     Vodcast,
136.     Whatsit,
137.     Widget,
138.     Worker,
139.     WorkHour,
140. )
141. 
142. ERROR_MESSAGE = "Please enter the correct username and password \
143. for a staff account. Note that both fields may be case-sensitive."
144. 
145. MULTIPART_ENCTYPE = 'enctype="multipart/form-data"'
146. 
147. 
148. def make_aware_datetimes(dt, iana_key):
149.     """Makes one aware datetime for each supported time zone provider."""
150.     yield dt.replace(tzinfo=zoneinfo.ZoneInfo(iana_key))
151. 
152. 
153. class AdminFieldExtractionMixin:
154.     """
155.     Helper methods for extracting data from AdminForm.
156.     """
157. 
158.     def get_admin_form_fields(self, response):
159.         """
160.         Return a list of AdminFields for the AdminForm in the response.
161.         """
162.         fields = []
163.         for fieldset in response.context["adminform"]:
164.             for field_line in fieldset:
165.                 fields.extend(field_line)
166.         return fields
167. 
168.     def get_admin_readonly_fields(self, response):
169.         """
170.         Return the readonly fields for the response's AdminForm.
171.         """
172.         return [f for f in self.get_admin_form_fields(response) if f.is_readonly]
173. 
174.     def get_admin_readonly_field(self, response, field_name):
175.         """
176.         Return the readonly field for the given field_name.
177.         """
178.         admin_readonly_fields = self.get_admin_readonly_fields(response)
179.         for field in admin_readonly_fields:
180.             if field.field["name"] == field_name:
181.                 return field
182. 
183. 
184. @override_settings(ROOT_URLCONF="admin_views.urls", USE_I18N=True, LANGUAGE_CODE="en")
185. class AdminViewBasicTestCase(TestCase):
186.     @classmethod
187.     def setUpTestData(cls):
188.         cls.superuser = User.objects.create_superuser(
189.             username="super", password="secret", email="super@example.com"
190.         )
191.         cls.s1 = Section.objects.create(name="Test section")
192.         cls.a1 = Article.objects.create(
193.             content="<p>Middle content</p>",
194.             date=datetime.datetime(2008, 3, 18, 11, 54, 58),
195.             section=cls.s1,
196.             title="Article 1",
197.         )
198.         cls.a2 = Article.objects.create(
199.             content="<p>Oldest content</p>",
200.             date=datetime.datetime(2000, 3, 18, 11, 54, 58),
201.             section=cls.s1,
202.             title="Article 2",
203.         )
204.         cls.a3 = Article.objects.create(
205.             content="<p>Newest content</p>",
206.             date=datetime.datetime(2009, 3, 18, 11, 54, 58),
207.             section=cls.s1,
208.         )
209.         cls.p1 = PrePopulatedPost.objects.create(
210.             title="A Long Title", published=True, slug="a-long-title"
211.         )
212.         cls.color1 = Color.objects.create(value="Red", warm=True)
213.         cls.color2 = Color.objects.create(value="Orange", warm=True)
214.         cls.color3 = Color.objects.create(value="Blue", warm=False)
215.         cls.color4 = Color.objects.create(value="Green", warm=False)
216.         cls.fab1 = Fabric.objects.create(surface="x")
217.         cls.fab2 = Fabric.objects.create(surface="y")
218.         cls.fab3 = Fabric.objects.create(surface="plain")
219.         cls.b1 = Book.objects.create(name="Book 1")
220.         cls.b2 = Book.objects.create(name="Book 2")
221.         cls.pro1 = Promo.objects.create(name="Promo 1", book=cls.b1)
222.         cls.pro1 = Promo.objects.create(name="Promo 2", book=cls.b2)
223.         cls.chap1 = Chapter.objects.create(
224.             title="Chapter 1", content="[ insert contents here ]", book=cls.b1
225.         )
226.         cls.chap2 = Chapter.objects.create(
227.             title="Chapter 2", content="[ insert contents here ]", book=cls.b1
228.         )
229.         cls.chap3 = Chapter.objects.create(
230.             title="Chapter 1", content="[ insert contents here ]", book=cls.b2
231.         )
232.         cls.chap4 = Chapter.objects.create(
233.             title="Chapter 2", content="[ insert contents here ]", book=cls.b2
234.         )
235.         cls.cx1 = ChapterXtra1.objects.create(chap=cls.chap1, xtra="ChapterXtra1 1")
236.         cls.cx2 = ChapterXtra1.objects.create(chap=cls.chap3, xtra="ChapterXtra1 2")
237.         Actor.objects.create(name="Palin", age=27)
238. 
239.         # Post data for edit inline
240.         cls.inline_post_data = {
241.             "name": "Test section",
242.             # inline data
243.             "article_set-TOTAL_FORMS": "6",
244.             "article_set-INITIAL_FORMS": "3",
245.             "article_set-MAX_NUM_FORMS": "0",
246.             "article_set-0-id": cls.a1.pk,
247.             # there is no title in database, give one here or formset will fail.
248.             "article_set-0-title": "Norske bostaver æøå skaper problemer",
249.             "article_set-0-content": "&lt;p&gt;Middle content&lt;/p&gt;",
250.             "article_set-0-date_0": "2008-03-18",
251.             "article_set-0-date_1": "11:54:58",
252.             "article_set-0-section": cls.s1.pk,
253.             "article_set-1-id": cls.a2.pk,
254.             "article_set-1-title": "Need a title.",
255.             "article_set-1-content": "&lt;p&gt;Oldest content&lt;/p&gt;",
256.             "article_set-1-date_0": "2000-03-18",
257.             "article_set-1-date_1": "11:54:58",
258.             "article_set-2-id": cls.a3.pk,
259.             "article_set-2-title": "Need a title.",
260.             "article_set-2-content": "&lt;p&gt;Newest content&lt;/p&gt;",
261.             "article_set-2-date_0": "2009-03-18",
262.             "article_set-2-date_1": "11:54:58",
263.             "article_set-3-id": "",
264.             "article_set-3-title": "",
265.             "article_set-3-content": "",
266.             "article_set-3-date_0": "",
267.             "article_set-3-date_1": "",
268.             "article_set-4-id": "",
269.             "article_set-4-title": "",
270.             "article_set-4-content": "",
271.             "article_set-4-date_0": "",
272.             "article_set-4-date_1": "",
273.             "article_set-5-id": "",
274.             "article_set-5-title": "",
275.             "article_set-5-content": "",
276.             "article_set-5-date_0": "",
277.             "article_set-5-date_1": "",
278.         }
279. 
280.     def setUp(self):
281.         self.client.force_login(self.superuser)
282. 
283.     def assertContentBefore(self, response, text1, text2, failing_msg=None):
284.         """
285.         Testing utility asserting that text1 appears before text2 in response
286.         content.
287.         """
288.         self.assertEqual(response.status_code, 200)
289.         self.assertLess(
290.             response.content.index(text1.encode()),
291.             response.content.index(text2.encode()),
292.             (failing_msg or "")
293.             + "\nResponse:\n"
294.             + response.content.decode(response.charset),
295.         )
296. 
297. 
298. class AdminViewBasicTest(AdminViewBasicTestCase):
299.     def test_trailing_slash_required(self):
300.         """
301.         If you leave off the trailing slash, app should redirect and add it.
302.         """
303.         add_url = reverse("admin:admin_views_article_add")
304.         response = self.client.get(add_url[:-1])
305.         self.assertRedirects(response, add_url, status_code=301)
306. 
307.     def test_basic_add_GET(self):
308.         """
309.         A smoke test to ensure GET on the add_view works.
310.         """
311.         response = self.client.get(reverse("admin:admin_views_section_add"))
312.         self.assertIsInstance(response, TemplateResponse)
313.         self.assertEqual(response.status_code, 200)
314. 
315.     def test_add_with_GET_args(self):
316.         response = self.client.get(
317.             reverse("admin:admin_views_section_add"), {"name": "My Section"}
318.         )
319.         self.assertContains(
320.             response,
321.             'value="My Section"',
322.             msg_prefix="Couldn't find an input with the right value in the response",
323.         )
324. 
325.     def test_basic_edit_GET(self):
326.         """
327.         A smoke test to ensure GET on the change_view works.
328.         """
329.         response = self.client.get(
330.             reverse("admin:admin_views_section_change", args=(self.s1.pk,))
331.         )
332.         self.assertIsInstance(response, TemplateResponse)
333.         self.assertEqual(response.status_code, 200)
334. 
335.     def test_basic_edit_GET_string_PK(self):
336.         """
337.         GET on the change_view (when passing a string as the PK argument for a
338.         model with an integer PK field) redirects to the index page with a
339.         message saying the object doesn't exist.
340.         """
341.         response = self.client.get(
342.             reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
343.             follow=True,
344.         )
345.         self.assertRedirects(response, reverse("admin:index"))
346.         self.assertEqual(
347.             [m.message for m in response.context["messages"]],
348.             ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
349.         )
350. 
351.     def test_basic_edit_GET_old_url_redirect(self):
352.         """
353.         The change URL changed in Django 1.9, but the old one still redirects.
354.         """
355.         response = self.client.get(
356.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
357.                 "change/", ""
358.             )
359.         )
360.         self.assertRedirects(
361.             response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
362.         )
363. 
364.     def test_basic_inheritance_GET_string_PK(self):
365.         """
366.         GET on the change_view (for inherited models) redirects to the index
367.         page with a message saying the object doesn't exist.
368.         """
369.         response = self.client.get(
370.             reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
371.         )
372.         self.assertRedirects(response, reverse("admin:index"))
373.         self.assertEqual(
374.             [m.message for m in response.context["messages"]],
375.             ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
376.         )
377. 
378.     def test_basic_add_POST(self):
379.         """
380.         A smoke test to ensure POST on add_view works.
381.         """
382.         post_data = {
383.             "name": "Another Section",
384.             # inline data
385.             "article_set-TOTAL_FORMS": "3",
386.             "article_set-INITIAL_FORMS": "0",
387.             "article_set-MAX_NUM_FORMS": "0",
388.         }
389.         response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
390.         self.assertEqual(response.status_code, 302)  # redirect somewhere
391. 
392.     def test_popup_add_POST(self):
393.         """HTTP response from a popup is properly escaped."""
394.         post_data = {
395.             IS_POPUP_VAR: "1",
396.             "title": "title with a new\nline",
397.             "content": "some content",
398.             "date_0": "2010-09-10",
399.             "date_1": "14:55:39",
400.         }
401.         response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
402.         self.assertContains(response, "title with a new\\nline")
403. 
404.     def test_basic_edit_POST(self):
405.         """
406.         A smoke test to ensure POST on edit_view works.
407.         """
408.         url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
409.         response = self.client.post(url, self.inline_post_data)
410.         self.assertEqual(response.status_code, 302)  # redirect somewhere
411. 
412.     def test_edit_save_as(self):
413.         """
414.         Test "save as".
415.         """
416.         post_data = self.inline_post_data.copy()
417.         post_data.update(
418.             {
419.                 "_saveasnew": "Save+as+new",
420.                 "article_set-1-section": "1",
421.                 "article_set-2-section": "1",
422.                 "article_set-3-section": "1",
423.                 "article_set-4-section": "1",
424.                 "article_set-5-section": "1",
425.             }
426.         )
427.         response = self.client.post(
428.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
429.         )
430.         self.assertEqual(response.status_code, 302)  # redirect somewhere
431. 
432.     def test_edit_save_as_delete_inline(self):
433.         """
434.         Should be able to "Save as new" while also deleting an inline.
435.         """
436.         post_data = self.inline_post_data.copy()
437.         post_data.update(
438.             {
439.                 "_saveasnew": "Save+as+new",
440.                 "article_set-1-section": "1",
441.                 "article_set-2-section": "1",
442.                 "article_set-2-DELETE": "1",
443.                 "article_set-3-section": "1",
444.             }
445.         )
446.         response = self.client.post(
447.             reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
448.         )
449.         self.assertEqual(response.status_code, 302)
450.         # started with 3 articles, one was deleted.
451.         self.assertEqual(Section.objects.latest("id").article_set.count(), 2)
452. 
453.     def test_change_list_column_field_classes(self):
454.         response = self.client.get(reverse("admin:admin_views_article_changelist"))
455.         # callables display the callable name.
456.         self.assertContains(response, "column-callable_year")
457.         self.assertContains(response, "field-callable_year")
458.         # lambdas display as "lambda" + index that they appear in list_display.
459.         self.assertContains(response, "column-lambda8")
460.         self.assertContains(response, "field-lambda8")
461. 
462.     def test_change_list_sorting_callable(self):
463.         """
464.         Ensure we can sort on a list_display field that is a callable
465.         (column 2 is callable_year in ArticleAdmin)
466.         """
467.         response = self.client.get(
468.             reverse("admin:admin_views_article_changelist"), {"o": 2}
469.         )
470.         self.assertContentBefore(
471.             response,
472.             "Oldest content",
473.             "Middle content",
474.             "Results of sorting on callable are out of order.",
475.         )
476.         self.assertContentBefore(
477.             response,
478.             "Middle content",
479.             "Newest content",
480.             "Results of sorting on callable are out of order.",
481.         )
482. 
483.     def test_change_list_sorting_property(self):
484.         """
485.         Sort on a list_display field that is a property (column 10 is
486.         a property in Article model).
487.         """
488.         response = self.client.get(
489.             reverse("admin:admin_views_article_changelist"), {"o": 10}
490.         )
491.         self.assertContentBefore(
492.             response,
493.             "Oldest content",
494.             "Middle content",
495.             "Results of sorting on property are out of order.",
496.         )
497.         self.assertContentBefore(
498.             response,
499.             "Middle content",
500.             "Newest content",


File: tests/admin_views/tests.py
Line number range: 298 - 1463
Content:
class AdminViewBasicTest(AdminViewBasicTestCase):
    def test_trailing_slash_required(self):
        """
        If you leave off the trailing slash, app should redirect and add it.
        """
        add_url = reverse("admin:admin_views_article_add")
        response = self.client.get(add_url[:-1])
        self.assertRedirects(response, add_url, status_code=301)

    def test_basic_add_GET(self):
        """
        A smoke test to ensure GET on the add_view works.
        """
        response = self.client.get(reverse("admin:admin_views_section_add"))
        self.assertIsInstance(response, TemplateResponse)
        self.assertEqual(response.status_code, 200)

    def test_add_with_GET_args(self):
        response = self.client.get(
            reverse("admin:admin_views_section_add"), {"name": "My Section"}
        )
        self.assertContains(
            response,
            'value="My Section"',
            msg_prefix="Couldn't find an input with the right value in the response",
        )

    def test_basic_edit_GET(self):
        """
        A smoke test to ensure GET on the change_view works.
        """
        response = self.client.get(
            reverse("admin:admin_views_section_change", args=(self.s1.pk,))
        )
        self.assertIsInstance(response, TemplateResponse)
        self.assertEqual(response.status_code, 200)

    def test_basic_edit_GET_string_PK(self):
        """
        GET on the change_view (when passing a string as the PK argument for a
        model with an integer PK field) redirects to the index page with a
        message saying the object doesn't exist.
        """
        response = self.client.get(
            reverse("admin:admin_views_section_change", args=(quote("abc/<b>"),)),
            follow=True,
        )
        self.assertRedirects(response, reverse("admin:index"))
        self.assertEqual(
            [m.message for m in response.context["messages"]],
            ["section with ID “abc/<b>” doesn’t exist. Perhaps it was deleted?"],
        )

    def test_basic_edit_GET_old_url_redirect(self):
        """
        The change URL changed in Django 1.9, but the old one still redirects.
        """
        response = self.client.get(
            reverse("admin:admin_views_section_change", args=(self.s1.pk,)).replace(
                "change/", ""
            )
        )
        self.assertRedirects(
            response, reverse("admin:admin_views_section_change", args=(self.s1.pk,))
        )

    def test_basic_inheritance_GET_string_PK(self):
        """
        GET on the change_view (for inherited models) redirects to the index
        page with a message saying the object doesn't exist.
        """
        response = self.client.get(
            reverse("admin:admin_views_supervillain_change", args=("abc",)), follow=True
        )
        self.assertRedirects(response, reverse("admin:index"))
        self.assertEqual(
            [m.message for m in response.context["messages"]],
            ["super villain with ID “abc” doesn’t exist. Perhaps it was deleted?"],
        )

    def test_basic_add_POST(self):
        """
        A smoke test to ensure POST on add_view works.
        """
        post_data = {
            "name": "Another Section",
            # inline data
            "article_set-TOTAL_FORMS": "3",
            "article_set-INITIAL_FORMS": "0",
            "article_set-MAX_NUM_FORMS": "0",
        }
        response = self.client.post(reverse("admin:admin_views_section_add"), post_data)
        self.assertEqual(response.status_code, 302)  # redirect somewhere

    def test_popup_add_POST(self):
        """HTTP response from a popup is properly escaped."""
        post_data = {
            IS_POPUP_VAR: "1",
            "title": "title with a new\nline",
            "content": "some content",
            "date_0": "2010-09-10",
            "date_1": "14:55:39",
        }
        response = self.client.post(reverse("admin:admin_views_article_add"), post_data)
        self.assertContains(response, "title with a new\\nline")

    def test_basic_edit_POST(self):
        """
        A smoke test to ensure POST on edit_view works.
        """
        url = reverse("admin:admin_views_section_change", args=(self.s1.pk,))
        response = self.client.post(url, self.inline_post_data)
        self.assertEqual(response.status_code, 302)  # redirect somewhere

    def test_edit_save_as(self):
        """
        Test "save as".
        """
        post_data = self.inline_post_data.copy()
        post_data.update(
            {
                "_saveasnew": "Save+as+new",
                "article_set-1-section": "1",
                "article_set-2-section": "1",
                "article_set-3-section": "1",
                "article_set-4-section": "1",
                "article_set-5-section": "1",
            }
        )
        response = self.client.post(
            reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
        )
        self.assertEqual(response.status_code, 302)  # redirect somewhere

    def test_edit_save_as_delete_inline(self):
        """
        Should be able to "Save as new" while also deleting an inline.
        """
        post_data = self.inline_post_data.copy()
        post_data.update(
            {
                "_saveasnew": "Save+as+new",
                "article_set-1-section": "1",
                "article_set-2-section": "1",
                "article_set-2-DELETE": "1",
                "article_set-3-section": "1",
            }
        )
        response = self.client.post(
            reverse("admin:admin_views_section_change", args=(self.s1.pk,)), post_data
        )
        self.assertEqual(response.status_code, 302)
        # started with 3 articles, one was deleted.
        self.assertEqual(Section.objects.latest("id").article_set.count(), 2)

    def test_change_list_column_field_classes(self):
        response = self.client.get(reverse("admin:admin_views_article_changelist"))
        # callables display the callable name.
        self.assertContains(response, "column-callable_year")
        self.assertContains(response, "field-callable_year")
        # lambdas display as "lambda" + index that they appear in list_display.
        self.assertContains(response, "column-lambda8")
        self.assertContains(response, "field-lambda8")

    def test_change_list_sorting_callable(self):
        """
        Ensure we can sort on a list_display field that is a callable
        (column 2 is callable_year in ArticleAdmin)
        """
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": 2}
        )
        self.assertContentBefore(
            response,
            "Oldest content",
            "Middle content",
            "Results of sorting on callable are out of order.",
        )
        self.assertContentBefore(
            response,
            "Middle content",
            "Newest content",
            "Results of sorting on callable are out of order.",
        )

    def test_change_list_sorting_property(self):
        """
        Sort on a list_display field that is a property (column 10 is
        a property in Article model).
        """
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": 10}
        )
        self.assertContentBefore(
            response,
            "Oldest content",
            "Middle content",
            "Results of sorting on property are out of order.",
        )
        self.assertContentBefore(
            response,
            "Middle content",
            "Newest content",
            "Results of sorting on property are out of order.",
        )

    def test_change_list_sorting_callable_query_expression(self):
        """Query expressions may be used for admin_order_field."""
        tests = [
            ("order_by_expression", 9),
            ("order_by_f_expression", 12),
            ("order_by_orderby_expression", 13),
        ]
        for admin_order_field, index in tests:
            with self.subTest(admin_order_field):
                response = self.client.get(
                    reverse("admin:admin_views_article_changelist"),
                    {"o": index},
                )
                self.assertContentBefore(
                    response,
                    "Oldest content",
                    "Middle content",
                    "Results of sorting on callable are out of order.",
                )
                self.assertContentBefore(
                    response,
                    "Middle content",
                    "Newest content",
                    "Results of sorting on callable are out of order.",
                )

    def test_change_list_sorting_callable_query_expression_reverse(self):
        tests = [
            ("order_by_expression", -9),
            ("order_by_f_expression", -12),
            ("order_by_orderby_expression", -13),
        ]
        for admin_order_field, index in tests:
            with self.subTest(admin_order_field):
                response = self.client.get(
                    reverse("admin:admin_views_article_changelist"),
                    {"o": index},
                )
                self.assertContentBefore(
                    response,
                    "Middle content",
                    "Oldest content",
                    "Results of sorting on callable are out of order.",
                )
                self.assertContentBefore(
                    response,
                    "Newest content",
                    "Middle content",
                    "Results of sorting on callable are out of order.",
                )

    def test_change_list_sorting_model(self):
        """
        Ensure we can sort on a list_display field that is a Model method
        (column 3 is 'model_year' in ArticleAdmin)
        """
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": "-3"}
        )
        self.assertContentBefore(
            response,
            "Newest content",
            "Middle content",
            "Results of sorting on Model method are out of order.",
        )
        self.assertContentBefore(
            response,
            "Middle content",
            "Oldest content",
            "Results of sorting on Model method are out of order.",
        )

    def test_change_list_sorting_model_admin(self):
        """
        Ensure we can sort on a list_display field that is a ModelAdmin method
        (column 4 is 'modeladmin_year' in ArticleAdmin)
        """
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": "4"}
        )
        self.assertContentBefore(
            response,
            "Oldest content",
            "Middle content",
            "Results of sorting on ModelAdmin method are out of order.",
        )
        self.assertContentBefore(
            response,
            "Middle content",
            "Newest content",
            "Results of sorting on ModelAdmin method are out of order.",
        )

    def test_change_list_sorting_model_admin_reverse(self):
        """
        Ensure we can sort on a list_display field that is a ModelAdmin
        method in reverse order (i.e. admin_order_field uses the '-' prefix)
        (column 6 is 'model_year_reverse' in ArticleAdmin)
        """
        td = '<td class="field-model_property_year">%s</td>'
        td_2000, td_2008, td_2009 = td % 2000, td % 2008, td % 2009
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": "6"}
        )
        self.assertContentBefore(
            response,
            td_2009,
            td_2008,
            "Results of sorting on ModelAdmin method are out of order.",
        )
        self.assertContentBefore(
            response,
            td_2008,
            td_2000,
            "Results of sorting on ModelAdmin method are out of order.",
        )
        # Let's make sure the ordering is right and that we don't get a
        # FieldError when we change to descending order
        response = self.client.get(
            reverse("admin:admin_views_article_changelist"), {"o": "-6"}
        )
        self.assertContentBefore(
            response,
            td_2000,
            td_2008,
            "Results of sorting on ModelAdmin method are out of order.",
        )
        self.assertContentBefore(
            response,
            td_2008,
            td_2009,
            "Results of sorting on ModelAdmin method are out of order.",
        )

    def test_change_list_sorting_multiple(self):
        p1 = Person.objects.create(name="Chris", gender=1, alive=True)
        p2 = Person.objects.create(name="Chris", gender=2, alive=True)
        p3 = Person.objects.create(name="Bob", gender=1, alive=True)
        link1 = reverse("admin:admin_views_person_change", args=(p1.pk,))
        link2 = reverse("admin:admin_views_person_change", args=(p2.pk,))
        link3 = reverse("admin:admin_views_person_change", args=(p3.pk,))

        # Sort by name, gender
        response = self.client.get(
            reverse("admin:admin_views_person_changelist"), {"o": "1.2"}
        )
        self.assertContentBefore(response, link3, link1)
        self.assertContentBefore(response, link1, link2)

        # Sort by gender descending, name
        response = self.client.get(
            reverse("admin:admin_views_person_changelist"), {"o": "-2.1"}
        )
        self.assertContentBefore(response, link2, link3)
        self.assertContentBefore(response, link3, link1)

    def test_change_list_sorting_preserve_queryset_ordering(self):
        """
        If no ordering is defined in `ModelAdmin.ordering` or in the query
        string, then the underlying order of the queryset should not be
        changed, even if it is defined in `Modeladmin.get_queryset()`.
        Refs #11868, #7309.
        """
        p1 = Person.objects.create(name="Amy", gender=1, alive=True, age=80)
        p2 = Person.objects.create(name="Bob", gender=1, alive=True, age=70)
        p3 = Person.objects.create(name="Chris", gender=2, alive=False, age=60)
        link1 = reverse("admin:admin_views_person_change", args=(p1.pk,))
        link2 = reverse("admin:admin_views_person_change", args=(p2.pk,))
        link3 = reverse("admin:admin_views_person_change", args=(p3.pk,))

        response = self.client.get(reverse("admin:admin_views_person_changelist"), {})
        self.assertContentBefore(response, link3, link2)
        self.assertContentBefore(response, link2, link1)

    def test_change_list_sorting_model_meta(self):
        # Test ordering on Model Meta is respected

        l1 = Language.objects.create(iso="ur", name="Urdu")
        l2 = Language.objects.create(iso="ar", name="Arabic")
        link1 = reverse("admin:admin_views_language_change", args=(quote(l1.pk),))
        link2 = reverse("admin:admin_views_language_change", args=(quote(l2.pk),))

        response = self.client.get(reverse("admin:admin_views_language_changelist"), {})
        self.assertContentBefore(response, link2, link1)

        # Test we can override with query string
        response = self.client.get(
            reverse("admin:admin_views_language_changelist"), {"o": "-1"}
        )
        self.assertContentBefore(response, link1, link2)

    def test_change_list_sorting_override_model_admin(self):
        # Test ordering on Model Admin is respected, and overrides Model Meta
        dt = datetime.datetime.now()
        p1 = Podcast.objects.create(name="A", release_date=dt)
        p2 = Podcast.objects.create(name="B", release_date=dt - datetime.timedelta(10))
        link1 = reverse("admin:admin_views_podcast_change", args=(p1.pk,))
        link2 = reverse("admin:admin_views_podcast_change", args=(p2.pk,))

        response = self.client.get(reverse("admin:admin_views_podcast_changelist"), {})
        self.assertContentBefore(response, link1, link2)

    def test_multiple_sort_same_field(self):
        # The changelist displays the correct columns if two columns correspond
        # to the same ordering field.
        dt = datetime.datetime.now()
        p1 = Podcast.objects.create(name="A", release_date=dt)
        p2 = Podcast.objects.create(name="B", release_date=dt - datetime.timedelta(10))
        link1 = reverse("admin:admin_views_podcast_change", args=(quote(p1.pk),))
        link2 = reverse("admin:admin_views_podcast_change", args=(quote(p2.pk),))

        response = self.client.get(reverse("admin:admin_views_podcast_changelist"), {})
        self.assertContentBefore(response, link1, link2)

        p1 = ComplexSortedPerson.objects.create(name="Bob", age=10)
        p2 = ComplexSortedPerson.objects.create(name="Amy", age=20)
        link1 = reverse("admin:admin_views_complexsortedperson_change", args=(p1.pk,))
        link2 = reverse("admin:admin_views_complexsortedperson_change", args=(p2.pk,))

        response = self.client.get(
            reverse("admin:admin_views_complexsortedperson_changelist"), {}
        )
        # Should have 5 columns (including action checkbox col)
        self.assertContains(response, '<th scope="col"', count=5)

        self.assertContains(response, "Name")
        self.assertContains(response, "Colored name")

        # Check order
        self.assertContentBefore(response, "Name", "Colored name")

        # Check sorting - should be by name
        self.assertContentBefore(response, link2, link1)

    def test_sort_indicators_admin_order(self):
        """
        The admin shows default sort indicators for all kinds of 'ordering'
        fields: field names, method on the model admin and model itself, and
        other callables. See #17252.
        """
        models = [
            (AdminOrderedField, "adminorderedfield"),
            (AdminOrderedModelMethod, "adminorderedmodelmethod"),
            (AdminOrderedAdminMethod, "adminorderedadminmethod"),
            (AdminOrderedCallable, "adminorderedcallable"),
        ]
        for model, url in models:
            model.objects.create(stuff="The Last Item", order=3)
            model.objects.create(stuff="The First Item", order=1)
            model.objects.create(stuff="The Middle Item", order=2)
            response = self.client.get(
                reverse("admin:admin_views_%s_changelist" % url), {}
            )
            # Should have 3 columns including action checkbox col.
            self.assertContains(response, '<th scope="col"', count=3, msg_prefix=url)
            # Check if the correct column was selected. 2 is the index of the
            # 'order' column in the model admin's 'list_display' with 0 being
            # the implicit 'action_checkbox' and 1 being the column 'stuff'.
            self.assertEqual(
                response.context["cl"].get_ordering_field_columns(), {2: "asc"}
            )
            # Check order of records.
            self.assertContentBefore(response, "The First Item", "The Middle Item")
            self.assertContentBefore(response, "The Middle Item", "The Last Item")

    def test_has_related_field_in_list_display_fk(self):
        """Joins shouldn't be performed for <FK>_id fields in list display."""
        state = State.objects.create(name="Karnataka")
        City.objects.create(state=state, name="Bangalore")
        response = self.client.get(reverse("admin:admin_views_city_changelist"), {})

        response.context["cl"].list_display = ["id", "name", "state"]
        self.assertIs(response.context["cl"].has_related_field_in_list_display(), True)

        response.context["cl"].list_display = ["id", "name", "state_id"]
        self.assertIs(response.context["cl"].has_related_field_in_list_display(), False)

    def test_has_related_field_in_list_display_o2o(self):
        """Joins shouldn't be performed for <O2O>_id fields in list display."""
        media = Media.objects.create(name="Foo")
        Vodcast.objects.create(media=media)
        response = self.client.get(reverse("admin:admin_views_vodcast_changelist"), {})

        response.context["cl"].list_display = ["media"]
        self.assertIs(response.context["cl"].has_related_field_in_list_display(), True)

        response.context["cl"].list_display = ["media_id"]
        self.assertIs(response.context["cl"].has_related_field_in_list_display(), False)

    def test_limited_filter(self):
        """
        Admin changelist filters do not contain objects excluded via
        limit_choices_to.
        """
        response = self.client.get(reverse("admin:admin_views_thing_changelist"))
        self.assertContains(
            response,
            '<div id="changelist-filter">',
            msg_prefix="Expected filter not found in changelist view",
        )
        self.assertNotContains(
            response,
            '<a href="?color__id__exact=3">Blue</a>',
            msg_prefix="Changelist filter not correctly limited by limit_choices_to",
        )

    def test_relation_spanning_filters(self):
        changelist_url = reverse("admin:admin_views_chapterxtra1_changelist")
        response = self.client.get(changelist_url)
        self.assertContains(response, '<div id="changelist-filter">')
        filters = {
            "chap__id__exact": {
                "values": [c.id for c in Chapter.objects.all()],
                "test": lambda obj, value: obj.chap.id == value,
            },
            "chap__title": {
                "values": [c.title for c in Chapter.objects.all()],
                "test": lambda obj, value: obj.chap.title == value,
            },
            "chap__book__id__exact": {
                "values": [b.id for b in Book.objects.all()],
                "test": lambda obj, value: obj.chap.book.id == value,
            },
            "chap__book__name": {
                "values": [b.name for b in Book.objects.all()],
                "test": lambda obj, value: obj.chap.book.name == value,
            },
            "chap__book__promo__id__exact": {
                "values": [p.id for p in Promo.objects.all()],
                "test": lambda obj, value: obj.chap.book.promo_set.filter(
                    id=value
                ).exists(),
            },
            "chap__book__promo__name": {
                "values": [p.name for p in Promo.objects.all()],
                "test": lambda obj, value: obj.chap.book.promo_set.filter(
                    name=value
                ).exists(),
            },
            # A forward relation (book) after a reverse relation (promo).
            "guest_author__promo__book__id__exact": {
                "values": [p.id for p in Book.objects.all()],
                "test": lambda obj, value: obj.guest_author.promo_set.filter(
                    book=value
                ).exists(),
            },
        }
        for filter_path, params in filters.items():
            for value in params["values"]:
                query_string = urlencode({filter_path: value})
                # ensure filter link exists
                self.assertContains(response, '<a href="?%s"' % query_string)
                # ensure link works
                filtered_response = self.client.get(
                    "%s?%s" % (changelist_url, query_string)
                )
                self.assertEqual(filtered_response.status_code, 200)
                # ensure changelist contains only valid objects
                for obj in filtered_response.context["cl"].queryset.all():
                    self.assertTrue(params["test"](obj, value))

    def test_incorrect_lookup_parameters(self):
        """Ensure incorrect lookup parameters are handled gracefully."""
        changelist_url = reverse("admin:admin_views_thing_changelist")
        response = self.client.get(changelist_url, {"notarealfield": "5"})
        self.assertRedirects(response, "%s?e=1" % changelist_url)

        # Spanning relationships through a nonexistent related object (Refs #16716)
        response = self.client.get(changelist_url, {"notarealfield__whatever": "5"})
        self.assertRedirects(response, "%s?e=1" % changelist_url)

        response = self.client.get(
            changelist_url, {"color__id__exact": "StringNotInteger!"}
        )
        self.assertRedirects(response, "%s?e=1" % changelist_url)

        # Regression test for #18530
        response = self.client.get(changelist_url, {"pub_date__gte": "foo"})
        self.assertRedirects(response, "%s?e=1" % changelist_url)

    def test_isnull_lookups(self):
        """Ensure is_null is handled correctly."""
        Article.objects.create(
            title="I Could Go Anywhere",
            content="Versatile",
            date=datetime.datetime.now(),
        )
        changelist_url = reverse("admin:admin_views_article_changelist")
        response = self.client.get(changelist_url)
        self.assertContains(response, "4 articles")
        response = self.client.get(changelist_url, {"section__isnull": "false"})
        self.assertContains(response, "3 articles")
        response = self.client.get(changelist_url, {"section__isnull": "0"})
        self.assertContains(response, "3 articles")
        response = self.client.get(changelist_url, {"section__isnull": "true"})
        self.assertContains(response, "1 article")
        response = self.client.get(changelist_url, {"section__isnull": "1"})
        self.assertContains(response, "1 article")

    def test_logout_and_password_change_URLs(self):
        response = self.client.get(reverse("admin:admin_views_article_changelist"))
        self.assertContains(
            response,
            '<form id="logout-form" method="post" action="%s">'
            % reverse("admin:logout"),
        )
        self.assertContains(
            response, '<a href="%s">' % reverse("admin:password_change")
        )

    def test_named_group_field_choices_change_list(self):
        """
        Ensures the admin changelist shows correct values in the relevant column
        for rows corresponding to instances of a model in which a named group
        has been used in the choices option of a field.
        """
        link1 = reverse("admin:admin_views_fabric_change", args=(self.fab1.pk,))
        link2 = reverse("admin:admin_views_fabric_change", args=(self.fab2.pk,))
        response = self.client.get(reverse("admin:admin_views_fabric_changelist"))
        fail_msg = (
            "Changelist table isn't showing the right human-readable values "
            "set by a model field 'choices' option named group."
        )
        self.assertContains(
            response,
            '<a href="%s">Horizontal</a>' % link1,
            msg_prefix=fail_msg,
            html=True,
        )
        self.assertContains(
            response,
            '<a href="%s">Vertical</a>' % link2,
            msg_prefix=fail_msg,
            html=True,
        )

    def test_named_group_field_choices_filter(self):
        """
        Ensures the filter UI shows correctly when at least one named group has
        been used in the choices option of a model field.
        """
        response = self.client.get(reverse("admin:admin_views_fabric_changelist"))
        fail_msg = (
            "Changelist filter isn't showing options contained inside a model "
            "field 'choices' option named group."
        )
        self.assertContains(response, '<div id="changelist-filter">')
        self.assertContains(
            response,
            '<a href="?surface__exact=x">Horizontal</a>',
            msg_prefix=fail_msg,
            html=True,
        )
        self.assertContains(
            response,
            '<a href="?surface__exact=y">Vertical</a>',
            msg_prefix=fail_msg,
            html=True,
        )

    def test_change_list_null_boolean_display(self):
        Post.objects.create(public=None)
        response = self.client.get(reverse("admin:admin_views_post_changelist"))
        self.assertContains(response, "icon-unknown.svg")

    def test_display_decorator_with_boolean_and_empty_value(self):
        msg = (
            "The boolean and empty_value arguments to the @display decorator "
            "are mutually exclusive."
        )
        with self.assertRaisesMessage(ValueError, msg):

            class BookAdmin(admin.ModelAdmin):
                @admin.display(boolean=True, empty_value="(Missing)")
                def is_published(self, obj):
                    return obj.publish_date is not None

    def test_i18n_language_non_english_default(self):
        """
        Check if the JavaScript i18n view returns an empty language catalog
        if the default language is non-English but the selected language
        is English. See #13388 and #3594 for more details.
        """
        with self.settings(LANGUAGE_CODE="fr"), translation.override("en-us"):
            response = self.client.get(reverse("admin:jsi18n"))
            self.assertNotContains(response, "Choisir une heure")

    def test_i18n_language_non_english_fallback(self):
        """
        Makes sure that the fallback language is still working properly
        in cases where the selected language cannot be found.
        """
        with self.settings(LANGUAGE_CODE="fr"), translation.override("none"):
            response = self.client.get(reverse("admin:jsi18n"))
            self.assertContains(response, "Choisir une heure")

    def test_jsi18n_with_context(self):
        response = self.client.get(reverse("admin-extra-context:jsi18n"))
        self.assertEqual(response.status_code, 200)

    def test_jsi18n_format_fallback(self):
        """
        The JavaScript i18n view doesn't return localized date/time formats
        when the selected language cannot be found.
        """
        with self.settings(LANGUAGE_CODE="ru"), translation.override("none"):
            response = self.client.get(reverse("admin:jsi18n"))
            self.assertNotContains(response, "%d.%m.%Y %H:%M:%S")
            self.assertContains(response, "%Y-%m-%d %H:%M:%S")

    def test_disallowed_filtering(self):
        with self.assertLogs("django.security.DisallowedModelAdminLookup", "ERROR"):
            response = self.client.get(
                "%s?owner__email__startswith=fuzzy"
                % reverse("admin:admin_views_album_changelist")
            )
        self.assertEqual(response.status_code, 400)

        # Filters are allowed if explicitly included in list_filter
        response = self.client.get(
            "%s?color__value__startswith=red"
            % reverse("admin:admin_views_thing_changelist")
        )
        self.assertEqual(response.status_code, 200)
        response = self.client.get(
            "%s?color__value=red" % reverse("admin:admin_views_thing_changelist")
        )
        self.assertEqual(response.status_code, 200)

        # Filters should be allowed if they involve a local field without the
        # need to allow them in list_filter or date_hierarchy.
        response = self.client.get(
            "%s?age__gt=30" % reverse("admin:admin_views_person_changelist")
        )
        self.assertEqual(response.status_code, 200)

        e1 = Employee.objects.create(
            name="Anonymous", gender=1, age=22, alive=True, code="123"
        )
        e2 = Employee.objects.create(
            name="Visitor", gender=2, age=19, alive=True, code="124"
        )
        WorkHour.objects.create(datum=datetime.datetime.now(), employee=e1)
        WorkHour.objects.create(datum=datetime.datetime.now(), employee=e2)
        response = self.client.get(reverse("admin:admin_views_workhour_changelist"))
        self.assertContains(response, "employee__person_ptr__exact")
        response = self.client.get(
            "%s?employee__person_ptr__exact=%d"
            % (reverse("admin:admin_views_workhour_changelist"), e1.pk)
        )
        self.assertEqual(response.status_code, 200)

    def test_disallowed_to_field(self):
        url = reverse("admin:admin_views_section_changelist")
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.get(url, {TO_FIELD_VAR: "missing_field"})
        self.assertEqual(response.status_code, 400)

        # Specifying a field that is not referred by any other model registered
        # to this admin site should raise an exception.
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.get(
                reverse("admin:admin_views_section_changelist"), {TO_FIELD_VAR: "name"}
            )
        self.assertEqual(response.status_code, 400)

        # Primary key should always be allowed, even if the referenced model
        # isn't registered.
        response = self.client.get(
            reverse("admin:admin_views_notreferenced_changelist"), {TO_FIELD_VAR: "id"}
        )
        self.assertEqual(response.status_code, 200)

        # Specifying a field referenced by another model though a m2m should be
        # allowed.
        response = self.client.get(
            reverse("admin:admin_views_recipe_changelist"), {TO_FIELD_VAR: "rname"}
        )
        self.assertEqual(response.status_code, 200)

        # Specifying a field referenced through a reverse m2m relationship
        # should be allowed.
        response = self.client.get(
            reverse("admin:admin_views_ingredient_changelist"), {TO_FIELD_VAR: "iname"}
        )
        self.assertEqual(response.status_code, 200)

        # Specifying a field that is not referred by any other model directly
        # registered to this admin site but registered through inheritance
        # should be allowed.
        response = self.client.get(
            reverse("admin:admin_views_referencedbyparent_changelist"),
            {TO_FIELD_VAR: "name"},
        )
        self.assertEqual(response.status_code, 200)

        # Specifying a field that is only referred to by a inline of a
        # registered model should be allowed.
        response = self.client.get(
            reverse("admin:admin_views_referencedbyinline_changelist"),
            {TO_FIELD_VAR: "name"},
        )
        self.assertEqual(response.status_code, 200)

        # #25622 - Specifying a field of a model only referred by a generic
        # relation should raise DisallowedModelAdminToField.
        url = reverse("admin:admin_views_referencedbygenrel_changelist")
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.get(url, {TO_FIELD_VAR: "object_id"})
        self.assertEqual(response.status_code, 400)

        # We also want to prevent the add, change, and delete views from
        # leaking a disallowed field value.
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.post(
                reverse("admin:admin_views_section_add"), {TO_FIELD_VAR: "name"}
            )
        self.assertEqual(response.status_code, 400)

        section = Section.objects.create()
        url = reverse("admin:admin_views_section_change", args=(section.pk,))
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.post(url, {TO_FIELD_VAR: "name"})
        self.assertEqual(response.status_code, 400)

        url = reverse("admin:admin_views_section_delete", args=(section.pk,))
        with self.assertLogs("django.security.DisallowedModelAdminToField", "ERROR"):
            response = self.client.post(url, {TO_FIELD_VAR: "name"})
        self.assertEqual(response.status_code, 400)

    def test_allowed_filtering_15103(self):
        """
        Regressions test for ticket 15103 - filtering on fields defined in a
        ForeignKey 'limit_choices_to' should be allowed, otherwise raw_id_fields
        can break.
        """
        # Filters should be allowed if they are defined on a ForeignKey
        # pointing to this model.
        url = "%s?leader__name=Palin&leader__age=27" % reverse(
            "admin:admin_views_inquisition_changelist"
        )
        response = self.client.get(url)
        self.assertEqual(response.status_code, 200)

    def test_popup_dismiss_related(self):
        """
        Regression test for ticket 20664 - ensure the pk is properly quoted.
        """
        actor = Actor.objects.create(name="Palin", age=27)
        response = self.client.get(
            "%s?%s" % (reverse("admin:admin_views_actor_changelist"), IS_POPUP_VAR)
        )
        self.assertContains(response, 'data-popup-opener="%s"' % actor.pk)

    def test_hide_change_password(self):
        """
        Tests if the "change password" link in the admin is hidden if the User
        does not have a usable password set.
        (against 9bea85795705d015cdadc82c68b99196a8554f5c)
        """
        user = User.objects.get(username="super")
        user.set_unusable_password()
        user.save()
        self.client.force_login(user)
        response = self.client.get(reverse("admin:index"))
        self.assertNotContains(
            response,
            reverse("admin:password_change"),
            msg_prefix=(
                'The "change password" link should not be displayed if a user does not '
                "have a usable password."
            ),
        )

    def test_change_view_with_show_delete_extra_context(self):
        """
        The 'show_delete' context variable in the admin's change view controls
        the display of the delete button.
        """
        instance = UndeletableObject.objects.create(name="foo")
        response = self.client.get(
            reverse("admin:admin_views_undeletableobject_change", args=(instance.pk,))
        )
        self.assertNotContains(response, "deletelink")

    def test_change_view_logs_m2m_field_changes(self):
        """Changes to ManyToManyFields are included in the object's history."""
        pizza = ReadablePizza.objects.create(name="Cheese")
        cheese = Topping.objects.create(name="cheese")
        post_data = {"name": pizza.name, "toppings": [cheese.pk]}
        response = self.client.post(
            reverse("admin:admin_views_readablepizza_change", args=(pizza.pk,)),
            post_data,
        )
        self.assertRedirects(
            response, reverse("admin:admin_views_readablepizza_changelist")
        )
        pizza_ctype = ContentType.objects.get_for_model(
            ReadablePizza, for_concrete_model=False
        )
        log = LogEntry.objects.filter(
            content_type=pizza_ctype, object_id=pizza.pk
        ).first()
        self.assertEqual(log.get_change_message(), "Changed Toppings.")

    def test_allows_attributeerror_to_bubble_up(self):
        """
        AttributeErrors are allowed to bubble when raised inside a change list
        view. Requires a model to be created so there's something to display.
        Refs: #16655, #18593, and #18747
        """
        Simple.objects.create()
        with self.assertRaises(AttributeError):
            self.client.get(reverse("admin:admin_views_simple_changelist"))

    def test_changelist_with_no_change_url(self):
        """
        ModelAdmin.changelist_view shouldn't result in a NoReverseMatch if url
        for change_view is removed from get_urls (#20934).
        """
        o = UnchangeableObject.objects.create()
        response = self.client.get(
            reverse("admin:admin_views_unchangeableobject_changelist")
        )
        # Check the format of the shown object -- shouldn't contain a change link
        self.assertContains(
            response, '<th class="field-__str__">%s</th>' % o, html=True
        )

    def test_invalid_appindex_url(self):
        """
        #21056 -- URL reversing shouldn't work for nonexistent apps.
        """
        good_url = "/test_admin/admin/admin_views/"
        confirm_good_url = reverse(
            "admin:app_list", kwargs={"app_label": "admin_views"}
        )
        self.assertEqual(good_url, confirm_good_url)

        with self.assertRaises(NoReverseMatch):
            reverse("admin:app_list", kwargs={"app_label": "this_should_fail"})
        with self.assertRaises(NoReverseMatch):
            reverse("admin:app_list", args=("admin_views2",))

    def test_resolve_admin_views(self):
        index_match = resolve("/test_admin/admin4/")
        list_match = resolve("/test_admin/admin4/auth/user/")
        self.assertIs(index_match.func.admin_site, customadmin.simple_site)
        self.assertIsInstance(
            list_match.func.model_admin, customadmin.CustomPwdTemplateUserAdmin
        )

    def test_adminsite_display_site_url(self):
        """
        #13749 - Admin should display link to front-end site 'View site'
        """
        url = reverse("admin:index")
        response = self.client.get(url)
        self.assertEqual(response.context["site_url"], "/my-site-url/")
        self.assertContains(response, '<a href="/my-site-url/">View site</a>')

    def test_date_hierarchy_empty_queryset(self):
        self.assertIs(Question.objects.exists(), False)
        response = self.client.get(reverse("admin:admin_views_answer2_changelist"))
        self.assertEqual(response.status_code, 200)

    @override_settings(TIME_ZONE="America/Sao_Paulo", USE_TZ=True)
    def test_date_hierarchy_timezone_dst(self):
        # This datetime doesn't exist in this timezone due to DST.
        for date in make_aware_datetimes(
            datetime.datetime(2016, 10, 16, 15), "America/Sao_Paulo"
        ):
            with self.subTest(repr(date.tzinfo)):
                q = Question.objects.create(question="Why?", expires=date)
                Answer2.objects.create(question=q, answer="Because.")
                response = self.client.get(
                    reverse("admin:admin_views_answer2_changelist")
                )
                self.assertContains(response, "question__expires__day=16")
                self.assertContains(response, "question__expires__month=10")
                self.assertContains(response, "question__expires__year=2016")

    @override_settings(TIME_ZONE="America/Los_Angeles", USE_TZ=True)
    def test_date_hierarchy_local_date_differ_from_utc(self):
        # This datetime is 2017-01-01 in UTC.
        for date in make_aware_datetimes(
            datetime.datetime(2016, 12, 31, 16), "America/Los_Angeles"
        ):
            with self.subTest(repr(date.tzinfo)):
                q = Question.objects.create(question="Why?", expires=date)
                Answer2.objects.create(question=q, answer="Because.")
                response = self.client.get(
                    reverse("admin:admin_views_answer2_changelist")
                )
                self.assertContains(response, "question__expires__day=31")
                self.assertContains(response, "question__expires__month=12")
                self.assertContains(response, "question__expires__year=2016")

    def test_sortable_by_columns_subset(self):
        expected_sortable_fields = ("date", "callable_year")
        expected_not_sortable_fields = (
            "content",
            "model_year",
            "modeladmin_year",
            "model_year_reversed",
            "section",
        )
        response = self.client.get(reverse("admin6:admin_views_article_changelist"))
        for field_name in expected_sortable_fields:
            self.assertContains(
                response, '<th scope="col" class="sortable column-%s">' % field_name
            )
        for field_name in expected_not_sortable_fields:
            self.assertContains(
                response, '<th scope="col" class="column-%s">' % field_name
            )

    def test_get_sortable_by_columns_subset(self):
        response = self.client.get(reverse("admin6:admin_views_actor_changelist"))
        self.assertContains(response, '<th scope="col" class="sortable column-age">')
        self.assertContains(response, '<th scope="col" class="column-name">')

    def test_sortable_by_no_column(self):
        expected_not_sortable_fields = ("title", "book")
        response = self.client.get(reverse("admin6:admin_views_chapter_changelist"))
        for field_name in expected_not_sortable_fields:
            self.assertContains(
                response, '<th scope="col" class="column-%s">' % field_name
            )
        self.assertNotContains(response, '<th scope="col" class="sortable column')

    def test_get_sortable_by_no_column(self):
        response = self.client.get(reverse("admin6:admin_views_color_changelist"))
        self.assertContains(response, '<th scope="col" class="column-value">')
        self.assertNotContains(response, '<th scope="col" class="sortable column')

    def test_app_index_context(self):
        response = self.client.get(reverse("admin:app_list", args=("admin_views",)))
        self.assertContains(
            response,
            "<title>Admin_Views administration | Django site admin</title>",
        )
        self.assertEqual(response.context["title"], "Admin_Views administration")
        self.assertEqual(response.context["app_label"], "admin_views")
        # Models are sorted alphabetically by default.
        models = [model["name"] for model in response.context["app_list"][0]["models"]]
        self.assertSequenceEqual(models, sorted(models))

    def test_app_index_context_reordered(self):
        self.client.force_login(self.superuser)
        response = self.client.get(reverse("admin2:app_list", args=("admin_views",)))
        self.assertContains(
            response,
            "<title>Admin_Views administration | Django site admin</title>",
        )
        # Models are in reverse order.
        models = [model["name"] for model in response.context["app_list"][0]["models"]]
        self.assertSequenceEqual(models, sorted(models, reverse=True))

    def test_change_view_subtitle_per_object(self):
        response = self.client.get(
            reverse("admin:admin_views_article_change", args=(self.a1.pk,)),
        )
        self.assertContains(
            response,
            "<title>Article 1 | Change article | Django site admin</title>",
        )
        self.assertContains(response, "<h1>Change article</h1>")
        self.assertContains(response, "<h2>Article 1</h2>")
        response = self.client.get(
            reverse("admin:admin_views_article_change", args=(self.a2.pk,)),
        )
        self.assertContains(
            response,
            "<title>Article 2 | Change article | Django site admin</title>",
        )
        self.assertContains(response, "<h1>Change article</h1>")
        self.assertContains(response, "<h2>Article 2</h2>")

    def test_view_subtitle_per_object(self):
        viewuser = User.objects.create_user(
            username="viewuser",
            password="secret",
            is_staff=True,
        )
        viewuser.user_permissions.add(
            get_perm(Article, get_permission_codename("view", Article._meta)),
        )
        self.client.force_login(viewuser)
        response = self.client.get(
            reverse("admin:admin_views_article_change", args=(self.a1.pk,)),
        )
        self.assertContains(
            response,
            "<title>Article 1 | View article | Django site admin</title>",
        )
        self.assertContains(response, "<h1>View article</h1>")
        self.assertContains(response, "<h2>Article 1</h2>")
        response = self.client.get(
            reverse("admin:admin_views_article_change", args=(self.a2.pk,)),
        )
        self.assertContains(
            response,
            "<title>Article 2 | View article | Django site admin</title>",
        )
        self.assertContains(response, "<h1>View article</h1>")
        self.assertContains(response, "<h2>Article 2</h2>")

    def test_formset_kwargs_can_be_overridden(self):
        response = self.client.get(reverse("admin:admin_views_city_add"))
        self.assertContains(response, "overridden_name")

    def test_render_views_no_subtitle(self):
        tests = [
            reverse("admin:index"),
            reverse("admin:password_change"),
            reverse("admin:app_list", args=("admin_views",)),
            reverse("admin:admin_views_article_delete", args=(self.a1.pk,)),
            reverse("admin:admin_views_article_history", args=(self.a1.pk,)),
        ]
        for url in tests:
            with self.subTest(url=url):
                with self.assertNoLogs("django.template", "DEBUG"):
                    self.client.get(url)
        # Login must be after logout.
        with self.assertNoLogs("django.template", "DEBUG"):
            self.client.post(reverse("admin:logout"))
            self.client.get(reverse("admin:login"))

    def test_render_delete_selected_confirmation_no_subtitle(self):
        post_data = {
            "action": "delete_selected",
            "selected_across": "0",
            "index": "0",
            "_selected_action": self.a1.pk,
        }
        with self.assertNoLogs("django.template", "DEBUG"):
            self.client.post(reverse("admin:admin_views_article_changelist"), post_data)

    @override_settings(
        AUTH_PASSWORD_VALIDATORS=[
            {
                "NAME": (
                    "django.contrib.auth.password_validation."
                    "UserAttributeSimilarityValidator"
                )
            },
            {
                "NAME": (
                    "django.contrib.auth.password_validation."
                    "NumericPasswordValidator"
                )
            },
        ]
    )
    def test_password_change_helptext(self):
        response = self.client.get(reverse("admin:password_change"))
        self.assertContains(
            response, '<div class="help" id="id_new_password1_helptext">'
        )


File: tests/admin_views/tests.py
Line number range: 1758 - 1863
Content:
@override_settings(ROOT_URLCONF="admin_views.urls")
class SaveAsTests(TestCase):
    @classmethod
    def setUpTestData(cls):
        cls.superuser = User.objects.create_superuser(
            username="super", password="secret", email="super@example.com"
        )
        cls.per1 = Person.objects.create(name="John Mauchly", gender=1, alive=True)

    def setUp(self):
        self.client.force_login(self.superuser)

    def test_save_as_duplication(self):
        """'save as' creates a new person"""
        post_data = {"_saveasnew": "", "name": "John M", "gender": 1, "age": 42}
        response = self.client.post(
            reverse("admin:admin_views_person_change", args=(self.per1.pk,)), post_data
        )
        self.assertEqual(len(Person.objects.filter(name="John M")), 1)
        self.assertEqual(len(Person.objects.filter(id=self.per1.pk)), 1)
        new_person = Person.objects.latest("id")
        self.assertRedirects(
            response, reverse("admin:admin_views_person_change", args=(new_person.pk,))
        )

    def test_save_as_continue_false(self):
        """
        Saving a new object using "Save as new" redirects to the changelist
        instead of the change view when ModelAdmin.save_as_continue=False.
        """
        post_data = {"_saveasnew": "", "name": "John M", "gender": 1, "age": 42}
        url = reverse(
            "admin:admin_views_person_change",
            args=(self.per1.pk,),
            current_app=site2.name,
        )
        response = self.client.post(url, post_data)
        self.assertEqual(len(Person.objects.filter(name="John M")), 1)
        self.assertEqual(len(Person.objects.filter(id=self.per1.pk)), 1)
        self.assertRedirects(
            response,
            reverse("admin:admin_views_person_changelist", current_app=site2.name),
        )

    def test_save_as_new_with_validation_errors(self):
        """
        When you click "Save as new" and have a validation error,
        you only see the "Save as new" button and not the other save buttons,
        and that only the "Save as" button is visible.
        """
        response = self.client.post(
            reverse("admin:admin_views_person_change", args=(self.per1.pk,)),
            {
                "_saveasnew": "",
                "gender": "invalid",
                "_addanother": "fail",
            },
        )
        self.assertContains(response, "Please correct the errors below.")
        self.assertFalse(response.context["show_save_and_add_another"])
        self.assertFalse(response.context["show_save_and_continue"])
        self.assertTrue(response.context["show_save_as_new"])

    def test_save_as_new_with_validation_errors_with_inlines(self):
        parent = Parent.objects.create(name="Father")
        child = Child.objects.create(parent=parent, name="Child")
        response = self.client.post(
            reverse("admin:admin_views_parent_change", args=(parent.pk,)),
            {
                "_saveasnew": "Save as new",
                "child_set-0-parent": parent.pk,
                "child_set-0-id": child.pk,
                "child_set-0-name": "Child",
                "child_set-INITIAL_FORMS": 1,
                "child_set-MAX_NUM_FORMS": 1000,
                "child_set-MIN_NUM_FORMS": 0,
                "child_set-TOTAL_FORMS": 4,
                "name": "_invalid",
            },
        )
        self.assertContains(response, "Please correct the error below.")
        self.assertFalse(response.context["show_save_and_add_another"])
        self.assertFalse(response.context["show_save_and_continue"])
        self.assertTrue(response.context["show_save_as_new"])

    def test_save_as_new_with_inlines_with_validation_errors(self):
        parent = Parent.objects.create(name="Father")
        child = Child.objects.create(parent=parent, name="Child")
        response = self.client.post(
            reverse("admin:admin_views_parent_change", args=(parent.pk,)),
            {
                "_saveasnew": "Save as new",
                "child_set-0-parent": parent.pk,
                "child_set-0-id": child.pk,
                "child_set-0-name": "_invalid",
                "child_set-INITIAL_FORMS": 1,
                "child_set-MAX_NUM_FORMS": 1000,
                "child_set-MIN_NUM_FORMS": 0,
                "child_set-TOTAL_FORMS": 4,
                "name": "Father",
            },
        )
        self.assertContains(response, "Please correct the error below.")
        self.assertFalse(response.context["show_save_and_add_another"])
        self.assertFalse(response.context["show_save_and_continue"])
        self.assertTrue(response.context["show_save_as_new"])


File: tests/admin_views/tests.py
Line number range: 1947 - 1950
Content:
def get_perm(Model, codename):
    """Return the permission object, for the Model"""
    ct = ContentType.objects.get_for_model(Model, for_concrete_model=False)
    return Permission.objects.get(content_type=ct, codename=codename)


File: tests/admin_views/tests.py
Line number range: 3286 - 3306
Content:
@override_settings(ROOT_URLCONF="admin_views.urls")
class AdminViewsNoUrlTest(TestCase):
    """Regression test for #17333"""

    @classmethod
    def setUpTestData(cls):
        # User who can change Reports
        cls.changeuser = User.objects.create_user(
            username="changeuser", password="secret", is_staff=True
        )
        cls.changeuser.user_permissions.add(
            get_perm(Report, get_permission_codename("change", Report._meta))
        )

    def test_no_standard_modeladmin_urls(self):
        """Admin index views don't break when user's ModelAdmin removes standard urls"""
        self.client.force_login(self.changeuser)
        r = self.client.get(reverse("admin:index"))
        # we shouldn't get a 500 error caused by a NoReverseMatch
        self.assertEqual(r.status_code, 200)
        self.client.post(reverse("admin:logout"))


File: tests/admin_views/tests.py
Line number range: 7125 - 7162
Content:
@override_settings(ROOT_URLCONF="admin_views.urls")
class GroupAdminTest(TestCase):
    """
    Tests group CRUD functionality.
    """

    @classmethod
    def setUpTestData(cls):
        cls.superuser = User.objects.create_superuser(
            username="super", password="secret", email="super@example.com"
        )

    def setUp(self):
        self.client.force_login(self.superuser)

    def test_save_button(self):
        group_count = Group.objects.count()
        response = self.client.post(
            reverse("admin:auth_group_add"),
            {
                "name": "newgroup",
            },
        )

        Group.objects.order_by("-id")[0]
        self.assertRedirects(response, reverse("admin:auth_group_changelist"))
        self.assertEqual(Group.objects.count(), group_count + 1)

    def test_group_permission_performance(self):
        g = Group.objects.create(name="test_group")

        # Ensure no queries are skipped due to cached content type for Group.
        ContentType.objects.clear_cache()

        expected_num_queries = 8 if connection.features.uses_savepoints else 6
        with self.assertNumQueries(expected_num_queries):
            response = self.client.get(reverse("admin:auth_group_change", args=(g.pk,)))
            self.assertEqual(response.status_code, 200)


File: tests/admin_views/tests.py
Line number range: 7630 - 7662
Content:
@override_settings(ROOT_URLCONF="admin_views.urls")
class AdminViewLogoutTests(TestCase):
    @classmethod
    def setUpTestData(cls):
        cls.superuser = User.objects.create_superuser(
            username="super", password="secret", email="super@example.com"
        )

    def test_logout(self):
        self.client.force_login(self.superuser)
        response = self.client.post(reverse("admin:logout"))
        self.assertEqual(response.status_code, 200)
        self.assertTemplateUsed(response, "registration/logged_out.html")
        self.assertEqual(response.request["PATH_INFO"], reverse("admin:logout"))
        self.assertFalse(response.context["has_permission"])
        self.assertNotContains(
            response, "user-tools"
        )  # user-tools div shouldn't visible.

    def test_client_logout_url_can_be_used_to_login(self):
        response = self.client.post(reverse("admin:logout"))
        self.assertEqual(
            response.status_code, 302
        )  # we should be redirected to the login page.

        # follow the redirect and test results.
        response = self.client.post(reverse("admin:logout"), follow=True)
        self.assertContains(
            response,
            '<input type="hidden" name="next" value="%s">' % reverse("admin:index"),
        )
        self.assertTemplateUsed(response, "admin/login.html")
        self.assertEqual(response.request["PATH_INFO"], reverse("admin:login"))


File: tests/auth_tests/test_views.py
Line number range: 1 - 500
Content:
1. import datetime
2. import itertools
3. import re
4. from importlib import import_module
5. from unittest import mock
6. from urllib.parse import quote, urljoin
7. 
8. from django.apps import apps
9. from django.conf import settings
10. from django.contrib.admin.models import LogEntry
11. from django.contrib.auth import BACKEND_SESSION_KEY, REDIRECT_FIELD_NAME, SESSION_KEY
12. from django.contrib.auth.forms import (
13.     AuthenticationForm,
14.     PasswordChangeForm,
15.     SetPasswordForm,
16. )
17. from django.contrib.auth.models import Permission, User
18. from django.contrib.auth.views import (
19.     INTERNAL_RESET_SESSION_TOKEN,
20.     LoginView,
21.     RedirectURLMixin,
22.     logout_then_login,
23.     redirect_to_login,
24. )
25. from django.contrib.contenttypes.models import ContentType
26. from django.contrib.sessions.middleware import SessionMiddleware
27. from django.contrib.sites.requests import RequestSite
28. from django.core import mail
29. from django.core.exceptions import ImproperlyConfigured
30. from django.db import connection
31. from django.http import HttpRequest, HttpResponse
32. from django.middleware.csrf import CsrfViewMiddleware, get_token
33. from django.test import Client, TestCase, override_settings
34. from django.test.client import RedirectCycleError
35. from django.urls import NoReverseMatch, reverse, reverse_lazy
36. from django.utils.http import urlsafe_base64_encode
37. 
38. from .client import PasswordResetConfirmClient
39. from .models import CustomUser, UUIDUser
40. from .settings import AUTH_TEMPLATES
41. 
42. 
43. class RedirectURLMixinTests(TestCase):
44.     @override_settings(ROOT_URLCONF="auth_tests.urls")
45.     def test_get_default_redirect_url_next_page(self):
46.         class RedirectURLView(RedirectURLMixin):
47.             next_page = "/custom/"
48. 
49.         self.assertEqual(RedirectURLView().get_default_redirect_url(), "/custom/")
50. 
51.     def test_get_default_redirect_url_no_next_page(self):
52.         msg = "No URL to redirect to. Provide a next_page."
53.         with self.assertRaisesMessage(ImproperlyConfigured, msg):
54.             RedirectURLMixin().get_default_redirect_url()
55. 
56. 
57. @override_settings(
58.     LANGUAGES=[("en", "English")],
59.     LANGUAGE_CODE="en",
60.     TEMPLATES=AUTH_TEMPLATES,
61.     ROOT_URLCONF="auth_tests.urls",
62. )
63. class AuthViewsTestCase(TestCase):
64.     """
65.     Helper base class for the test classes that follow.
66.     """
67. 
68.     @classmethod
69.     def setUpTestData(cls):
70.         cls.u1 = User.objects.create_user(
71.             username="testclient", password="password", email="testclient@example.com"
72.         )
73.         cls.u3 = User.objects.create_user(
74.             username="staff", password="password", email="staffmember@example.com"
75.         )
76. 
77.     def login(self, username="testclient", password="password", url="/login/"):
78.         response = self.client.post(
79.             url,
80.             {
81.                 "username": username,
82.                 "password": password,
83.             },
84.         )
85.         self.assertIn(SESSION_KEY, self.client.session)
86.         return response
87. 
88.     def logout(self):
89.         response = self.client.post("/admin/logout/")
90.         self.assertEqual(response.status_code, 200)
91.         self.assertNotIn(SESSION_KEY, self.client.session)
92. 
93.     def assertFormError(self, response, error):
94.         """Assert that error is found in response.context['form'] errors"""
95.         form_errors = list(itertools.chain(*response.context["form"].errors.values()))
96.         self.assertIn(str(error), form_errors)
97. 
98. 
99. @override_settings(ROOT_URLCONF="django.contrib.auth.urls")
100. class AuthViewNamedURLTests(AuthViewsTestCase):
101.     def test_named_urls(self):
102.         "Named URLs should be reversible"
103.         expected_named_urls = [
104.             ("login", [], {}),
105.             ("logout", [], {}),
106.             ("password_change", [], {}),
107.             ("password_change_done", [], {}),
108.             ("password_reset", [], {}),
109.             ("password_reset_done", [], {}),
110.             (
111.                 "password_reset_confirm",
112.                 [],
113.                 {
114.                     "uidb64": "aaaaaaa",
115.                     "token": "1111-aaaaa",
116.                 },
117.             ),
118.             ("password_reset_complete", [], {}),
119.         ]
120.         for name, args, kwargs in expected_named_urls:
121.             with self.subTest(name=name):
122.                 try:
123.                     reverse(name, args=args, kwargs=kwargs)
124.                 except NoReverseMatch:
125.                     self.fail(
126.                         "Reversal of url named '%s' failed with NoReverseMatch" % name
127.                     )
128. 
129. 
130. class PasswordResetTest(AuthViewsTestCase):
131.     def setUp(self):
132.         self.client = PasswordResetConfirmClient()
133. 
134.     def test_email_not_found(self):
135.         """If the provided email is not registered, don't raise any error but
136.         also don't send any email."""
137.         response = self.client.get("/password_reset/")
138.         self.assertEqual(response.status_code, 200)
139.         response = self.client.post(
140.             "/password_reset/", {"email": "not_a_real_email@email.com"}
141.         )
142.         self.assertEqual(response.status_code, 302)
143.         self.assertEqual(len(mail.outbox), 0)
144. 
145.     def test_email_found(self):
146.         "Email is sent if a valid email address is provided for password reset"
147.         response = self.client.post(
148.             "/password_reset/", {"email": "staffmember@example.com"}
149.         )
150.         self.assertEqual(response.status_code, 302)
151.         self.assertEqual(len(mail.outbox), 1)
152.         self.assertIn("http://", mail.outbox[0].body)
153.         self.assertEqual(settings.DEFAULT_FROM_EMAIL, mail.outbox[0].from_email)
154.         # optional multipart text/html email has been added.  Make sure original,
155.         # default functionality is 100% the same
156.         self.assertFalse(mail.outbox[0].message().is_multipart())
157. 
158.     def test_extra_email_context(self):
159.         """
160.         extra_email_context should be available in the email template context.
161.         """
162.         response = self.client.post(
163.             "/password_reset_extra_email_context/",
164.             {"email": "staffmember@example.com"},
165.         )
166.         self.assertEqual(response.status_code, 302)
167.         self.assertEqual(len(mail.outbox), 1)
168.         self.assertIn('Email email context: "Hello!"', mail.outbox[0].body)
169.         self.assertIn("http://custom.example.com/reset/", mail.outbox[0].body)
170. 
171.     def test_html_mail_template(self):
172.         """
173.         A multipart email with text/plain and text/html is sent
174.         if the html_email_template parameter is passed to the view
175.         """
176.         response = self.client.post(
177.             "/password_reset/html_email_template/", {"email": "staffmember@example.com"}
178.         )
179.         self.assertEqual(response.status_code, 302)
180.         self.assertEqual(len(mail.outbox), 1)
181.         message = mail.outbox[0].message()
182.         self.assertEqual(len(message.get_payload()), 2)
183.         self.assertTrue(message.is_multipart())
184.         self.assertEqual(message.get_payload(0).get_content_type(), "text/plain")
185.         self.assertEqual(message.get_payload(1).get_content_type(), "text/html")
186.         self.assertNotIn("<html>", message.get_payload(0).get_payload())
187.         self.assertIn("<html>", message.get_payload(1).get_payload())
188. 
189.     def test_email_found_custom_from(self):
190.         """
191.         Email is sent if a valid email address is provided for password reset
192.         when a custom from_email is provided.
193.         """
194.         response = self.client.post(
195.             "/password_reset_from_email/", {"email": "staffmember@example.com"}
196.         )
197.         self.assertEqual(response.status_code, 302)
198.         self.assertEqual(len(mail.outbox), 1)
199.         self.assertEqual("staffmember@example.com", mail.outbox[0].from_email)
200. 
201.     # Skip any 500 handler action (like sending more mail...)
202.     @override_settings(DEBUG_PROPAGATE_EXCEPTIONS=True)
203.     def test_poisoned_http_host(self):
204.         "Poisoned HTTP_HOST headers can't be used for reset emails"
205.         # This attack is based on the way browsers handle URLs. The colon
206.         # should be used to separate the port, but if the URL contains an @,
207.         # the colon is interpreted as part of a username for login purposes,
208.         # making 'evil.com' the request domain. Since HTTP_HOST is used to
209.         # produce a meaningful reset URL, we need to be certain that the
210.         # HTTP_HOST header isn't poisoned. This is done as a check when get_host()
211.         # is invoked, but we check here as a practical consequence.
212.         with self.assertLogs("django.security.DisallowedHost", "ERROR"):
213.             response = self.client.post(
214.                 "/password_reset/",
215.                 {"email": "staffmember@example.com"},
216.                 headers={"host": "www.example:dr.frankenstein@evil.tld"},
217.             )
218.         self.assertEqual(response.status_code, 400)
219.         self.assertEqual(len(mail.outbox), 0)
220. 
221.     # Skip any 500 handler action (like sending more mail...)
222.     @override_settings(DEBUG_PROPAGATE_EXCEPTIONS=True)
223.     def test_poisoned_http_host_admin_site(self):
224.         "Poisoned HTTP_HOST headers can't be used for reset emails on admin views"
225.         with self.assertLogs("django.security.DisallowedHost", "ERROR"):
226.             response = self.client.post(
227.                 "/admin_password_reset/",
228.                 {"email": "staffmember@example.com"},
229.                 headers={"host": "www.example:dr.frankenstein@evil.tld"},
230.             )
231.         self.assertEqual(response.status_code, 400)
232.         self.assertEqual(len(mail.outbox), 0)
233. 
234.     def _test_confirm_start(self):
235.         # Start by creating the email
236.         self.client.post("/password_reset/", {"email": "staffmember@example.com"})
237.         self.assertEqual(len(mail.outbox), 1)
238.         return self._read_signup_email(mail.outbox[0])
239. 
240.     def _read_signup_email(self, email):
241.         urlmatch = re.search(r"https?://[^/]*(/.*reset/\S*)", email.body)
242.         self.assertIsNotNone(urlmatch, "No URL found in sent email")
243.         return urlmatch[0], urlmatch[1]
244. 
245.     def test_confirm_valid(self):
246.         url, path = self._test_confirm_start()
247.         response = self.client.get(path)
248.         # redirect to a 'complete' page:
249.         self.assertContains(response, "Please enter your new password")
250. 
251.     def test_confirm_invalid(self):
252.         url, path = self._test_confirm_start()
253.         # Let's munge the token in the path, but keep the same length,
254.         # in case the URLconf will reject a different length.
255.         path = path[:-5] + ("0" * 4) + path[-1]
256. 
257.         response = self.client.get(path)
258.         self.assertContains(response, "The password reset link was invalid")
259. 
260.     def test_confirm_invalid_user(self):
261.         # A nonexistent user returns a 200 response, not a 404.
262.         response = self.client.get("/reset/123456/1-1/")
263.         self.assertContains(response, "The password reset link was invalid")
264. 
265.     def test_confirm_overflow_user(self):
266.         # A base36 user id that overflows int returns a 200 response.
267.         response = self.client.get("/reset/zzzzzzzzzzzzz/1-1/")
268.         self.assertContains(response, "The password reset link was invalid")
269. 
270.     def test_confirm_invalid_post(self):
271.         # Same as test_confirm_invalid, but trying to do a POST instead.
272.         url, path = self._test_confirm_start()
273.         path = path[:-5] + ("0" * 4) + path[-1]
274. 
275.         self.client.post(
276.             path,
277.             {
278.                 "new_password1": "anewpassword",
279.                 "new_password2": " anewpassword",
280.             },
281.         )
282.         # Check the password has not been changed
283.         u = User.objects.get(email="staffmember@example.com")
284.         self.assertTrue(not u.check_password("anewpassword"))
285. 
286.     def test_confirm_invalid_hash(self):
287.         """A POST with an invalid token is rejected."""
288.         u = User.objects.get(email="staffmember@example.com")
289.         original_password = u.password
290.         url, path = self._test_confirm_start()
291.         path_parts = path.split("-")
292.         path_parts[-1] = ("0") * 20 + "/"
293.         path = "-".join(path_parts)
294. 
295.         response = self.client.post(
296.             path,
297.             {
298.                 "new_password1": "anewpassword",
299.                 "new_password2": "anewpassword",
300.             },
301.         )
302.         self.assertIs(response.context["validlink"], False)
303.         u.refresh_from_db()
304.         self.assertEqual(original_password, u.password)  # password hasn't changed
305. 
306.     def test_confirm_complete(self):
307.         url, path = self._test_confirm_start()
308.         response = self.client.post(
309.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
310.         )
311.         # Check the password has been changed
312.         u = User.objects.get(email="staffmember@example.com")
313.         self.assertTrue(u.check_password("anewpassword"))
314.         # The reset token is deleted from the session.
315.         self.assertNotIn(INTERNAL_RESET_SESSION_TOKEN, self.client.session)
316. 
317.         # Check we can't use the link again
318.         response = self.client.get(path)
319.         self.assertContains(response, "The password reset link was invalid")
320. 
321.     def test_confirm_different_passwords(self):
322.         url, path = self._test_confirm_start()
323.         response = self.client.post(
324.             path, {"new_password1": "anewpassword", "new_password2": "x"}
325.         )
326.         self.assertFormError(
327.             response, SetPasswordForm.error_messages["password_mismatch"]
328.         )
329. 
330.     def test_reset_redirect_default(self):
331.         response = self.client.post(
332.             "/password_reset/", {"email": "staffmember@example.com"}
333.         )
334.         self.assertRedirects(
335.             response, "/password_reset/done/", fetch_redirect_response=False
336.         )
337. 
338.     def test_reset_custom_redirect(self):
339.         response = self.client.post(
340.             "/password_reset/custom_redirect/", {"email": "staffmember@example.com"}
341.         )
342.         self.assertRedirects(response, "/custom/", fetch_redirect_response=False)
343. 
344.     def test_reset_custom_redirect_named(self):
345.         response = self.client.post(
346.             "/password_reset/custom_redirect/named/",
347.             {"email": "staffmember@example.com"},
348.         )
349.         self.assertRedirects(
350.             response, "/password_reset/", fetch_redirect_response=False
351.         )
352. 
353.     def test_confirm_redirect_default(self):
354.         url, path = self._test_confirm_start()
355.         response = self.client.post(
356.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
357.         )
358.         self.assertRedirects(response, "/reset/done/", fetch_redirect_response=False)
359. 
360.     def test_confirm_redirect_custom(self):
361.         url, path = self._test_confirm_start()
362.         path = path.replace("/reset/", "/reset/custom/")
363.         response = self.client.post(
364.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
365.         )
366.         self.assertRedirects(response, "/custom/", fetch_redirect_response=False)
367. 
368.     def test_confirm_redirect_custom_named(self):
369.         url, path = self._test_confirm_start()
370.         path = path.replace("/reset/", "/reset/custom/named/")
371.         response = self.client.post(
372.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
373.         )
374.         self.assertRedirects(
375.             response, "/password_reset/", fetch_redirect_response=False
376.         )
377. 
378.     def test_confirm_custom_reset_url_token(self):
379.         url, path = self._test_confirm_start()
380.         path = path.replace("/reset/", "/reset/custom/token/")
381.         self.client.reset_url_token = "set-passwordcustom"
382.         response = self.client.post(
383.             path,
384.             {"new_password1": "anewpassword", "new_password2": "anewpassword"},
385.         )
386.         self.assertRedirects(response, "/reset/done/", fetch_redirect_response=False)
387. 
388.     def test_confirm_login_post_reset(self):
389.         url, path = self._test_confirm_start()
390.         path = path.replace("/reset/", "/reset/post_reset_login/")
391.         response = self.client.post(
392.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
393.         )
394.         self.assertRedirects(response, "/reset/done/", fetch_redirect_response=False)
395.         self.assertIn(SESSION_KEY, self.client.session)
396. 
397.     @override_settings(
398.         AUTHENTICATION_BACKENDS=[
399.             "django.contrib.auth.backends.ModelBackend",
400.             "django.contrib.auth.backends.AllowAllUsersModelBackend",
401.         ]
402.     )
403.     def test_confirm_login_post_reset_custom_backend(self):
404.         # This backend is specified in the URL pattern.
405.         backend = "django.contrib.auth.backends.AllowAllUsersModelBackend"
406.         url, path = self._test_confirm_start()
407.         path = path.replace("/reset/", "/reset/post_reset_login_custom_backend/")
408.         response = self.client.post(
409.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
410.         )
411.         self.assertRedirects(response, "/reset/done/", fetch_redirect_response=False)
412.         self.assertIn(SESSION_KEY, self.client.session)
413.         self.assertEqual(self.client.session[BACKEND_SESSION_KEY], backend)
414. 
415.     def test_confirm_login_post_reset_already_logged_in(self):
416.         url, path = self._test_confirm_start()
417.         path = path.replace("/reset/", "/reset/post_reset_login/")
418.         self.login()
419.         response = self.client.post(
420.             path, {"new_password1": "anewpassword", "new_password2": "anewpassword"}
421.         )
422.         self.assertRedirects(response, "/reset/done/", fetch_redirect_response=False)
423.         self.assertIn(SESSION_KEY, self.client.session)
424. 
425.     def test_confirm_display_user_from_form(self):
426.         url, path = self._test_confirm_start()
427.         response = self.client.get(path)
428.         # The password_reset_confirm() view passes the user object to the
429.         # SetPasswordForm``, even on GET requests (#16919). For this test,
430.         # {{ form.user }}`` is rendered in the template
431.         # registration/password_reset_confirm.html.
432.         username = User.objects.get(email="staffmember@example.com").username
433.         self.assertContains(response, "Hello, %s." % username)
434.         # However, the view should NOT pass any user object on a form if the
435.         # password reset link was invalid.
436.         response = self.client.get("/reset/zzzzzzzzzzzzz/1-1/")
437.         self.assertContains(response, "Hello, .")
438. 
439.     def test_confirm_link_redirects_to_set_password_page(self):
440.         url, path = self._test_confirm_start()
441.         # Don't use PasswordResetConfirmClient (self.client) here which
442.         # automatically fetches the redirect page.
443.         client = Client()
444.         response = client.get(path)
445.         token = response.resolver_match.kwargs["token"]
446.         uuidb64 = response.resolver_match.kwargs["uidb64"]
447.         self.assertRedirects(response, "/reset/%s/set-password/" % uuidb64)
448.         self.assertEqual(client.session["_password_reset_token"], token)
449. 
450.     def test_confirm_custom_reset_url_token_link_redirects_to_set_password_page(self):
451.         url, path = self._test_confirm_start()
452.         path = path.replace("/reset/", "/reset/custom/token/")
453.         client = Client()
454.         response = client.get(path)
455.         token = response.resolver_match.kwargs["token"]
456.         uuidb64 = response.resolver_match.kwargs["uidb64"]
457.         self.assertRedirects(
458.             response, "/reset/custom/token/%s/set-passwordcustom/" % uuidb64
459.         )
460.         self.assertEqual(client.session["_password_reset_token"], token)
461. 
462.     def test_invalid_link_if_going_directly_to_the_final_reset_password_url(self):
463.         url, path = self._test_confirm_start()
464.         _, uuidb64, _ = path.strip("/").split("/")
465.         response = Client().get("/reset/%s/set-password/" % uuidb64)
466.         self.assertContains(response, "The password reset link was invalid")
467. 
468.     def test_missing_kwargs(self):
469.         msg = "The URL path must contain 'uidb64' and 'token' parameters."
470.         with self.assertRaisesMessage(ImproperlyConfigured, msg):
471.             self.client.get("/reset/missing_parameters/")
472. 
473. 
474. @override_settings(AUTH_USER_MODEL="auth_tests.CustomUser")
475. class CustomUserPasswordResetTest(AuthViewsTestCase):
476.     user_email = "staffmember@example.com"
477. 
478.     @classmethod
479.     def setUpTestData(cls):
480.         cls.u1 = CustomUser.custom_objects.create(
481.             email="staffmember@example.com",
482.             date_of_birth=datetime.date(1976, 11, 8),
483.         )
484.         cls.u1.set_password("password")
485.         cls.u1.save()
486. 
487.     def setUp(self):
488.         self.client = PasswordResetConfirmClient()
489. 
490.     def _test_confirm_start(self):
491.         # Start by creating the email
492.         response = self.client.post("/password_reset/", {"email": self.user_email})
493.         self.assertEqual(response.status_code, 302)
494.         self.assertEqual(len(mail.outbox), 1)
495.         return self._read_signup_email(mail.outbox[0])
496. 
497.     def _read_signup_email(self, email):
498.         urlmatch = re.search(r"https?://[^/]*(/.*reset/\S*)", email.body)
499.         self.assertIsNotNone(urlmatch, "No URL found in sent email")
500.         return urlmatch[0], urlmatch[1]


File: tests/auth_tests/test_views.py
Line number range: 1034 - 1121
Content:
class LoginRedirectAuthenticatedUser(AuthViewsTestCase):
    dont_redirect_url = "/login/redirect_authenticated_user_default/"
    do_redirect_url = "/login/redirect_authenticated_user/"

    def test_default(self):
        """Stay on the login page by default."""
        self.login()
        response = self.client.get(self.dont_redirect_url)
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response.context["next"], "")

    def test_guest(self):
        """If not logged in, stay on the same page."""
        response = self.client.get(self.do_redirect_url)
        self.assertEqual(response.status_code, 200)

    def test_redirect(self):
        """If logged in, go to default redirected URL."""
        self.login()
        response = self.client.get(self.do_redirect_url)
        self.assertRedirects(
            response, "/accounts/profile/", fetch_redirect_response=False
        )

    @override_settings(LOGIN_REDIRECT_URL="/custom/")
    def test_redirect_url(self):
        """If logged in, go to custom redirected URL."""
        self.login()
        response = self.client.get(self.do_redirect_url)
        self.assertRedirects(response, "/custom/", fetch_redirect_response=False)

    def test_redirect_param(self):
        """If next is specified as a GET parameter, go there."""
        self.login()
        url = self.do_redirect_url + "?next=/custom_next/"
        response = self.client.get(url)
        self.assertRedirects(response, "/custom_next/", fetch_redirect_response=False)

    def test_redirect_loop(self):
        """
        Detect a redirect loop if LOGIN_REDIRECT_URL is not correctly set,
        with and without custom parameters.
        """
        self.login()
        msg = (
            "Redirection loop for authenticated user detected. Check that "
            "your LOGIN_REDIRECT_URL doesn't point to a login page."
        )
        with self.settings(LOGIN_REDIRECT_URL=self.do_redirect_url):
            with self.assertRaisesMessage(ValueError, msg):
                self.client.get(self.do_redirect_url)

            url = self.do_redirect_url + "?bla=2"
            with self.assertRaisesMessage(ValueError, msg):
                self.client.get(url)

    def test_permission_required_not_logged_in(self):
        # Not logged in ...
        with self.settings(LOGIN_URL=self.do_redirect_url):
            # redirected to login.
            response = self.client.get("/permission_required_redirect/", follow=True)
            self.assertEqual(response.status_code, 200)
            # exception raised.
            response = self.client.get("/permission_required_exception/", follow=True)
            self.assertEqual(response.status_code, 403)
            # redirected to login.
            response = self.client.get(
                "/login_and_permission_required_exception/", follow=True
            )
            self.assertEqual(response.status_code, 200)

    def test_permission_required_logged_in(self):
        self.login()
        # Already logged in...
        with self.settings(LOGIN_URL=self.do_redirect_url):
            # redirect loop encountered.
            with self.assertRaisesMessage(
                RedirectCycleError, "Redirect loop detected."
            ):
                self.client.get("/permission_required_redirect/", follow=True)
            # exception raised.
            response = self.client.get("/permission_required_exception/", follow=True)
            self.assertEqual(response.status_code, 403)
            # exception raised.
            response = self.client.get(
                "/login_and_permission_required_exception/", follow=True
            )
            self.assertEqual(response.status_code, 403)


File: tests/auth_tests/test_views.py
Line number range: 1364 - 1523
Content:
@override_settings(ROOT_URLCONF="auth_tests.urls_admin")
class ChangelistTests(AuthViewsTestCase):
    @classmethod
    def setUpTestData(cls):
        super().setUpTestData()
        # Make me a superuser before logging in.
        User.objects.filter(username="testclient").update(
            is_staff=True, is_superuser=True
        )

    def setUp(self):
        self.login()
        # Get the latest last_login value.
        self.admin = User.objects.get(pk=self.u1.pk)

    def get_user_data(self, user):
        return {
            "username": user.username,
            "password": user.password,
            "email": user.email,
            "is_active": user.is_active,
            "is_staff": user.is_staff,
            "is_superuser": user.is_superuser,
            "last_login_0": user.last_login.strftime("%Y-%m-%d"),
            "last_login_1": user.last_login.strftime("%H:%M:%S"),
            "initial-last_login_0": user.last_login.strftime("%Y-%m-%d"),
            "initial-last_login_1": user.last_login.strftime("%H:%M:%S"),
            "date_joined_0": user.date_joined.strftime("%Y-%m-%d"),
            "date_joined_1": user.date_joined.strftime("%H:%M:%S"),
            "initial-date_joined_0": user.date_joined.strftime("%Y-%m-%d"),
            "initial-date_joined_1": user.date_joined.strftime("%H:%M:%S"),
            "first_name": user.first_name,
            "last_name": user.last_name,
        }

    # #20078 - users shouldn't be allowed to guess password hashes via
    # repeated password__startswith queries.
    def test_changelist_disallows_password_lookups(self):
        # A lookup that tries to filter on password isn't OK
        with self.assertLogs("django.security.DisallowedModelAdminLookup", "ERROR"):
            response = self.client.get(
                reverse("auth_test_admin:auth_user_changelist")
                + "?password__startswith=sha1$"
            )
        self.assertEqual(response.status_code, 400)

    def test_user_change_email(self):
        data = self.get_user_data(self.admin)
        data["email"] = "new_" + data["email"]
        response = self.client.post(
            reverse("auth_test_admin:auth_user_change", args=(self.admin.pk,)), data
        )
        self.assertRedirects(response, reverse("auth_test_admin:auth_user_changelist"))
        row = LogEntry.objects.latest("id")
        self.assertEqual(row.get_change_message(), "Changed Email address.")

    def test_user_not_change(self):
        response = self.client.post(
            reverse("auth_test_admin:auth_user_change", args=(self.admin.pk,)),
            self.get_user_data(self.admin),
        )
        self.assertRedirects(response, reverse("auth_test_admin:auth_user_changelist"))
        row = LogEntry.objects.latest("id")
        self.assertEqual(row.get_change_message(), "No fields changed.")

    def test_user_change_password(self):
        user_change_url = reverse(
            "auth_test_admin:auth_user_change", args=(self.admin.pk,)
        )
        password_change_url = reverse(
            "auth_test_admin:auth_user_password_change", args=(self.admin.pk,)
        )

        response = self.client.get(user_change_url)
        # Test the link inside password field help_text.
        rel_link = re.search(
            r'you can change the password using <a href="([^"]*)">this form</a>',
            response.content.decode(),
        )[1]
        self.assertEqual(urljoin(user_change_url, rel_link), password_change_url)

        response = self.client.post(
            password_change_url,
            {
                "password1": "password1",
                "password2": "password1",
            },
        )
        self.assertRedirects(response, user_change_url)
        row = LogEntry.objects.latest("id")
        self.assertEqual(row.get_change_message(), "Changed password.")
        self.logout()
        self.login(password="password1")

    def test_user_change_different_user_password(self):
        u = User.objects.get(email="staffmember@example.com")
        response = self.client.post(
            reverse("auth_test_admin:auth_user_password_change", args=(u.pk,)),
            {
                "password1": "password1",
                "password2": "password1",
            },
        )
        self.assertRedirects(
            response, reverse("auth_test_admin:auth_user_change", args=(u.pk,))
        )
        row = LogEntry.objects.latest("id")
        self.assertEqual(row.user_id, self.admin.pk)
        self.assertEqual(row.object_id, str(u.pk))
        self.assertEqual(row.get_change_message(), "Changed password.")

    def test_password_change_bad_url(self):
        response = self.client.get(
            reverse("auth_test_admin:auth_user_password_change", args=("foobar",))
        )
        self.assertEqual(response.status_code, 404)

    @mock.patch("django.contrib.auth.admin.UserAdmin.has_change_permission")
    def test_user_change_password_passes_user_to_has_change_permission(
        self, has_change_permission
    ):
        url = reverse(
            "auth_test_admin:auth_user_password_change", args=(self.admin.pk,)
        )
        self.client.post(url, {"password1": "password1", "password2": "password1"})
        (_request, user), _kwargs = has_change_permission.call_args
        self.assertEqual(user.pk, self.admin.pk)

    def test_view_user_password_is_readonly(self):
        u = User.objects.get(username="testclient")
        u.is_superuser = False
        u.save()
        original_password = u.password
        u.user_permissions.add(get_perm(User, "view_user"))
        response = self.client.get(
            reverse("auth_test_admin:auth_user_change", args=(u.pk,)),
        )
        algo, salt, hash_string = u.password.split("$")
        self.assertContains(response, '<div class="readonly">testclient</div>')
        # ReadOnlyPasswordHashWidget is used to render the field.
        self.assertContains(
            response,
            "<strong>algorithm</strong>: <bdi>%s</bdi>\n\n"
            "<strong>salt</strong>: <bdi>%s********************</bdi>\n\n"
            "<strong>hash</strong>: <bdi>%s**************************</bdi>\n\n"
            % (
                algo,
                salt[:2],
                hash_string[:6],
            ),
            html=True,
        )
        # Value in POST data is ignored.
        data = self.get_user_data(u)
        data["password"] = "shouldnotchange"
        change_url = reverse("auth_test_admin:auth_user_change", args=(u.pk,))
        response = self.client.post(change_url, data)
        self.assertEqual(response.status_code, 403)
        u.refresh_from_db()
        self.assertEqual(u.password, original_password)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 04:54:03,273 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user's purpose is to find examples related to the 'Save as new' button and permission checks.\n2. Extended relevance:\n   - This context defines multiple `ModelAdmin` classes.\n   - `PersonAdmin` (line 343) and `ParentAdmin` (line 443) set `save_as = True`, which is directly relevant to the 'Save as new' functionality.\n   - `RowLevelChangePermissionModelAdmin` (line 283) implements custom `has_change_permission` and `has_view_permission` methods, providing an example of permission checks in the admin.", relative_path='tests/admin_views/admin.py', start_line=1, end_line=500), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user is interested in permission checks.\n2. Extended relevance:\n   - This context defines the `PrePopulatedPostReadOnlyAdmin` which overrides the `has_change_permission` method. This is a relevant example for implementing custom permission logic in an admin view.', relative_path='tests/admin_views/admin.py', start_line=582, end_line=586), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user is interested in permission checks.\n2. Extended relevance:\n   - This context defines the `ReadOnlyPizzaAdmin` which overrides `has_add_permission`, `has_change_permission`, and `has_delete_permission`. This serves as a clear example of controlling different levels of access within an admin class.', relative_path='tests/admin_views/admin.py', start_line=666, end_line=676), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user's purpose is to find examples related to the 'Save as new' button.\n2. Extended relevance:\n   - This context shows the `save_as=True` option being used directly in the `site.register()` call for the `Section` model. This is another way to enable the 'Save as new' functionality, which is relevant to the user's investigation.", relative_path='tests/admin_views/admin.py', start_line=1180, end_line=1186), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user's purpose is to find examples related to the 'Save as new' button.\n2. Extended relevance:\n   - This context shows the `save_as_continue=False` option being set for the `Person` model in a different admin site (`site2`). This is relevant as it alters the behavior after a 'Save as new' action, redirecting to the changelist instead of the new object's change form.", relative_path='tests/admin_views/admin.py', start_line=1315, end_line=1315), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the full content of `tests/admin_views/admin.py`.\n   - The user is interested in permission checks.\n2. Extended relevance:\n   - This context defines an `ArticleAdmin9` class that overrides `has_change_permission` to prevent changes to existing objects. This is a direct example of object-level permission checking in the admin.', relative_path='tests/admin_views/admin.py', start_line=1395, end_line=1398), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the full content of `tests/auth_tests/test_views.py`.\n   - The user wants to see tests that create users and check view responses.\n2. Extended relevance:\n   - This context provides the `AuthViewsTestCase` base class, which includes the setup of test users (`u1`, `u3`) and a `login` helper method. This is the foundation for the subsequent tests that check view responses for authenticated users.', relative_path='tests/auth_tests/test_views.py', start_line=63, end_line=98), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user requested the full content of `tests/auth_tests/test_views.py`.\n   - The user wants to see tests related to permission checks.\n2. Extended relevance:\n   - This context contains the `LoginRedirectAuthenticatedUser` test class. The `test_permission_required_not_logged_in` and `test_permission_required_logged_in` methods are excellent examples of how to test views that are protected by permission decorators, checking for correct redirects or 403 Forbidden responses.', relative_path='tests/auth_tests/test_views.py', start_line=1034, end_line=1121), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of `tests/auth_tests/test_views.py` and specifically asked for tests that create users with specific permissions and check view responses.\n2. Extended relevance:\n   - This `ChangelistTests` class is highly relevant. It tests the admin user change views after logging in as a superuser.\n   - The `test_view_user_password_is_readonly` method is a perfect example: it grants a specific 'view_user' permission to a non-superuser, then uses the test client to GET the change view and asserts that the response is as expected for a view-only user. It also tests that a POST request is forbidden (403), which is a direct example of testing permission checks.", relative_path='tests/auth_tests/test_views.py', start_line=1364, end_line=1523), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user requested the full content of `tests/auth_tests/test_views.py`.\n2. Extended relevance:\n   - This context provides the initial setup for the test file, including imports and the definition of base test classes and helper functions that are used throughout the tests. It fulfills the user's request for the full file content.", relative_path='tests/auth_tests/test_views.py', start_line=1, end_line=500), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's purpose is to find test cases for the 'Save as new' button visibility.\n2. Extended relevance:\n   - This `SaveAsTests` class is directly relevant to the user's goal. It contains specific tests for the 'Save as new' functionality, such as `test_save_as_duplication` and `test_save_as_continue_false`. The `test_save_as_new_with_validation_errors` test is particularly useful as it checks which save buttons are visible when a validation error occurs after clicking 'Save as new'.", relative_path='tests/admin_views/tests.py', start_line=1758, end_line=1863), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user needs examples of testing admin views with permission checks.\n2. Extended relevance:\n   - This context provides a clear and concise example of testing with specific permissions. The `AdminViewsNoUrlTest` class creates a user (`changeuser`), grants them a single 'change' permission using the `get_perm` helper function, logs them in, and then makes a request to an admin view to ensure it works as expected. The `get_perm` function itself is also included as it's essential for this pattern.", relative_path='tests/admin_views/tests.py', start_line=3286, end_line=3306), ContextOutput(reasoning='1. Query requirement analysis:\n   - The user needs examples of testing admin views with permission checks.\n2. Extended relevance:\n   - This helper function is crucial for programmatically retrieving permission objects to assign to test users. It is used in other relevant test cases (like `AdminViewsNoUrlTest`) to set up permission-based tests.', relative_path='tests/admin_views/tests.py', start_line=1947, end_line=1950), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user's purpose is to find test cases for the 'Save as new' button.\n2. Extended relevance:\n   - This context contains the `AdminViewBasicTest` class, which includes `test_edit_save_as` (line 412) and `test_edit_save_as_delete_inline` (line 432). These tests demonstrate how to simulate a POST request with the `_saveasnew` parameter to trigger and verify the 'Save as new' functionality.", relative_path='tests/admin_views/tests.py', start_line=298, end_line=452)]
2025-12-23 04:54:03,286 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 13 contexts to memory for query: Please provide the full content of `tests/auth_tests/test_views.py` and `tests/admin_views/admin.py`.
2025-12-23 04:54:03,286 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 04:54:03,286 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 04:54:03,286 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 13 new contexts to 5 existing contexts
2025-12-23 04:54:03,287 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 16 total contexts (removed 2 duplicates)
2025-12-23 04:54:03,287 - thread-130525173896896.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-23 04:54:03,288 - thread-130525173896896.prometheus_context_collector - INFO - Successfully retrieved 16 context snippets
